ARM GAS  /tmp/ccF71V7c.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"tasks.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Middlewares/FreeRTOS/tasks.c"
  20              		.global	pxCurrentTCB
  21              		.section	.bss.pxCurrentTCB,"aw",%nobits
  22              		.align	2
  25              	pxCurrentTCB:
  26 0000 00000000 		.space	4
  27              		.section	.bss.pxReadyTasksLists,"aw",%nobits
  28              		.align	2
  31              	pxReadyTasksLists:
  32 0000 00000000 		.space	100
  32      00000000 
  32      00000000 
  32      00000000 
  32      00000000 
  33              		.section	.bss.xDelayedTaskList1,"aw",%nobits
  34              		.align	2
  37              	xDelayedTaskList1:
  38 0000 00000000 		.space	20
  38      00000000 
  38      00000000 
  38      00000000 
  38      00000000 
  39              		.section	.bss.xDelayedTaskList2,"aw",%nobits
  40              		.align	2
  43              	xDelayedTaskList2:
  44 0000 00000000 		.space	20
  44      00000000 
  44      00000000 
  44      00000000 
  44      00000000 
  45              		.section	.bss.pxDelayedTaskList,"aw",%nobits
  46              		.align	2
  49              	pxDelayedTaskList:
  50 0000 00000000 		.space	4
  51              		.section	.bss.pxOverflowDelayedTaskList,"aw",%nobits
  52              		.align	2
  55              	pxOverflowDelayedTaskList:
  56 0000 00000000 		.space	4
  57              		.section	.bss.xPendingReadyList,"aw",%nobits
ARM GAS  /tmp/ccF71V7c.s 			page 2


  58              		.align	2
  61              	xPendingReadyList:
  62 0000 00000000 		.space	20
  62      00000000 
  62      00000000 
  62      00000000 
  62      00000000 
  63              		.section	.bss.xTasksWaitingTermination,"aw",%nobits
  64              		.align	2
  67              	xTasksWaitingTermination:
  68 0000 00000000 		.space	20
  68      00000000 
  68      00000000 
  68      00000000 
  68      00000000 
  69              		.section	.bss.uxDeletedTasksWaitingCleanUp,"aw",%nobits
  70              		.align	2
  73              	uxDeletedTasksWaitingCleanUp:
  74 0000 00000000 		.space	4
  75              		.section	.bss.xSuspendedTaskList,"aw",%nobits
  76              		.align	2
  79              	xSuspendedTaskList:
  80 0000 00000000 		.space	20
  80      00000000 
  80      00000000 
  80      00000000 
  80      00000000 
  81              		.section	.bss.uxCurrentNumberOfTasks,"aw",%nobits
  82              		.align	2
  85              	uxCurrentNumberOfTasks:
  86 0000 00000000 		.space	4
  87              		.section	.bss.xTickCount,"aw",%nobits
  88              		.align	2
  91              	xTickCount:
  92 0000 00000000 		.space	4
  93              		.section	.bss.uxTopReadyPriority,"aw",%nobits
  94              		.align	2
  97              	uxTopReadyPriority:
  98 0000 00000000 		.space	4
  99              		.section	.bss.xSchedulerRunning,"aw",%nobits
 100              		.align	2
 103              	xSchedulerRunning:
 104 0000 00000000 		.space	4
 105              		.section	.bss.xPendedTicks,"aw",%nobits
 106              		.align	2
 109              	xPendedTicks:
 110 0000 00000000 		.space	4
 111              		.section	.bss.xYieldPendings,"aw",%nobits
 112              		.align	2
 115              	xYieldPendings:
 116 0000 00000000 		.space	4
 117              		.section	.bss.xNumOfOverflows,"aw",%nobits
 118              		.align	2
 121              	xNumOfOverflows:
 122 0000 00000000 		.space	4
 123              		.section	.bss.uxTaskNumber,"aw",%nobits
 124              		.align	2
ARM GAS  /tmp/ccF71V7c.s 			page 3


 127              	uxTaskNumber:
 128 0000 00000000 		.space	4
 129              		.section	.bss.xNextTaskUnblockTime,"aw",%nobits
 130              		.align	2
 133              	xNextTaskUnblockTime:
 134 0000 00000000 		.space	4
 135              		.section	.bss.xIdleTaskHandles,"aw",%nobits
 136              		.align	2
 139              	xIdleTaskHandles:
 140 0000 00000000 		.space	4
 141              		.section	.rodata.uxTopUsedPriority,"a"
 142              		.align	2
 145              	uxTopUsedPriority:
 146 0000 04000000 		.word	4
 147              		.section	.bss.uxSchedulerSuspended,"aw",%nobits
 148              		.align	2
 151              	uxSchedulerSuspended:
 152 0000 00000000 		.space	4
 153              		.section	.text.prvCreateTask,"ax",%progbits
 154              		.align	1
 155              		.syntax unified
 156              		.thumb
 157              		.thumb_func
 159              	prvCreateTask:
 160              	.LFB7:
   1:Middlewares/FreeRTOS/tasks.c **** /*
   2:Middlewares/FreeRTOS/tasks.c ****  * FreeRTOS Kernel V11.1.0
   3:Middlewares/FreeRTOS/tasks.c ****  * Copyright (C) 2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.
   4:Middlewares/FreeRTOS/tasks.c ****  *
   5:Middlewares/FreeRTOS/tasks.c ****  * SPDX-License-Identifier: MIT
   6:Middlewares/FreeRTOS/tasks.c ****  *
   7:Middlewares/FreeRTOS/tasks.c ****  * Permission is hereby granted, free of charge, to any person obtaining a copy of
   8:Middlewares/FreeRTOS/tasks.c ****  * this software and associated documentation files (the "Software"), to deal in
   9:Middlewares/FreeRTOS/tasks.c ****  * the Software without restriction, including without limitation the rights to
  10:Middlewares/FreeRTOS/tasks.c ****  * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
  11:Middlewares/FreeRTOS/tasks.c ****  * the Software, and to permit persons to whom the Software is furnished to do so,
  12:Middlewares/FreeRTOS/tasks.c ****  * subject to the following conditions:
  13:Middlewares/FreeRTOS/tasks.c ****  *
  14:Middlewares/FreeRTOS/tasks.c ****  * The above copyright notice and this permission notice shall be included in all
  15:Middlewares/FreeRTOS/tasks.c ****  * copies or substantial portions of the Software.
  16:Middlewares/FreeRTOS/tasks.c ****  *
  17:Middlewares/FreeRTOS/tasks.c ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  18:Middlewares/FreeRTOS/tasks.c ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
  19:Middlewares/FreeRTOS/tasks.c ****  * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
  20:Middlewares/FreeRTOS/tasks.c ****  * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
  21:Middlewares/FreeRTOS/tasks.c ****  * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  22:Middlewares/FreeRTOS/tasks.c ****  * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  23:Middlewares/FreeRTOS/tasks.c ****  *
  24:Middlewares/FreeRTOS/tasks.c ****  * https://www.FreeRTOS.org
  25:Middlewares/FreeRTOS/tasks.c ****  * https://github.com/FreeRTOS
  26:Middlewares/FreeRTOS/tasks.c ****  *
  27:Middlewares/FreeRTOS/tasks.c ****  */
  28:Middlewares/FreeRTOS/tasks.c **** 
  29:Middlewares/FreeRTOS/tasks.c **** /* Standard includes. */
  30:Middlewares/FreeRTOS/tasks.c **** #include <stdlib.h>
  31:Middlewares/FreeRTOS/tasks.c **** #include <string.h>
  32:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 4


  33:Middlewares/FreeRTOS/tasks.c **** /* Defining MPU_WRAPPERS_INCLUDED_FROM_API_FILE prevents task.h from redefining
  34:Middlewares/FreeRTOS/tasks.c ****  * all the API functions to use the MPU wrappers.  That should only be done when
  35:Middlewares/FreeRTOS/tasks.c ****  * task.h is included from an application file. */
  36:Middlewares/FreeRTOS/tasks.c **** #define MPU_WRAPPERS_INCLUDED_FROM_API_FILE
  37:Middlewares/FreeRTOS/tasks.c **** 
  38:Middlewares/FreeRTOS/tasks.c **** /* FreeRTOS includes. */
  39:Middlewares/FreeRTOS/tasks.c **** #include "FreeRTOS.h"
  40:Middlewares/FreeRTOS/tasks.c **** #include "task.h"
  41:Middlewares/FreeRTOS/tasks.c **** #include "timers.h"
  42:Middlewares/FreeRTOS/tasks.c **** #include "stack_macros.h"
  43:Middlewares/FreeRTOS/tasks.c **** 
  44:Middlewares/FreeRTOS/tasks.c **** /* The default definitions are only available for non-MPU ports. The
  45:Middlewares/FreeRTOS/tasks.c ****  * reason is that the stack alignment requirements vary for different
  46:Middlewares/FreeRTOS/tasks.c ****  * architectures.*/
  47:Middlewares/FreeRTOS/tasks.c **** #if ( ( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configKERNEL_PROVIDED_STATIC_MEMORY == 1 ) && (
  48:Middlewares/FreeRTOS/tasks.c ****     #error configKERNEL_PROVIDED_STATIC_MEMORY cannot be set to 1 when using an MPU port. The vAppl
  49:Middlewares/FreeRTOS/tasks.c **** #endif
  50:Middlewares/FreeRTOS/tasks.c **** 
  51:Middlewares/FreeRTOS/tasks.c **** /* The MPU ports require MPU_WRAPPERS_INCLUDED_FROM_API_FILE to be defined
  52:Middlewares/FreeRTOS/tasks.c ****  * for the header files above, but not in this file, in order to generate the
  53:Middlewares/FreeRTOS/tasks.c ****  * correct privileged Vs unprivileged linkage and placement. */
  54:Middlewares/FreeRTOS/tasks.c **** #undef MPU_WRAPPERS_INCLUDED_FROM_API_FILE
  55:Middlewares/FreeRTOS/tasks.c **** 
  56:Middlewares/FreeRTOS/tasks.c **** /* Set configUSE_STATS_FORMATTING_FUNCTIONS to 2 to include the stats formatting
  57:Middlewares/FreeRTOS/tasks.c ****  * functions but without including stdio.h here. */
  58:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_STATS_FORMATTING_FUNCTIONS == 1 )
  59:Middlewares/FreeRTOS/tasks.c **** 
  60:Middlewares/FreeRTOS/tasks.c **** /* At the bottom of this file are two optional functions that can be used
  61:Middlewares/FreeRTOS/tasks.c ****  * to generate human readable text from the raw data generated by the
  62:Middlewares/FreeRTOS/tasks.c ****  * uxTaskGetSystemState() function.  Note the formatting functions are provided
  63:Middlewares/FreeRTOS/tasks.c ****  * for convenience only, and are NOT considered part of the kernel. */
  64:Middlewares/FreeRTOS/tasks.c ****     #include <stdio.h>
  65:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_STATS_FORMATTING_FUNCTIONS == 1 ) */
  66:Middlewares/FreeRTOS/tasks.c **** 
  67:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_PREEMPTION == 0 )
  68:Middlewares/FreeRTOS/tasks.c **** 
  69:Middlewares/FreeRTOS/tasks.c **** /* If the cooperative scheduler is being used then a yield should not be
  70:Middlewares/FreeRTOS/tasks.c ****  * performed just because a higher priority task has been woken. */
  71:Middlewares/FreeRTOS/tasks.c ****     #define taskYIELD_TASK_CORE_IF_USING_PREEMPTION( pxTCB )
  72:Middlewares/FreeRTOS/tasks.c ****     #define taskYIELD_ANY_CORE_IF_USING_PREEMPTION( pxTCB )
  73:Middlewares/FreeRTOS/tasks.c **** #else
  74:Middlewares/FreeRTOS/tasks.c **** 
  75:Middlewares/FreeRTOS/tasks.c ****     #if ( configNUMBER_OF_CORES == 1 )
  76:Middlewares/FreeRTOS/tasks.c **** 
  77:Middlewares/FreeRTOS/tasks.c **** /* This macro requests the running task pxTCB to yield. In single core
  78:Middlewares/FreeRTOS/tasks.c ****  * scheduler, a running task always runs on core 0 and portYIELD_WITHIN_API()
  79:Middlewares/FreeRTOS/tasks.c ****  * can be used to request the task running on core 0 to yield. Therefore, pxTCB
  80:Middlewares/FreeRTOS/tasks.c ****  * is not used in this macro. */
  81:Middlewares/FreeRTOS/tasks.c ****         #define taskYIELD_TASK_CORE_IF_USING_PREEMPTION( pxTCB ) \
  82:Middlewares/FreeRTOS/tasks.c ****     do {                                                         \
  83:Middlewares/FreeRTOS/tasks.c ****         ( void ) ( pxTCB );                                      \
  84:Middlewares/FreeRTOS/tasks.c ****         portYIELD_WITHIN_API();                                  \
  85:Middlewares/FreeRTOS/tasks.c ****     } while( 0 )
  86:Middlewares/FreeRTOS/tasks.c **** 
  87:Middlewares/FreeRTOS/tasks.c ****         #define taskYIELD_ANY_CORE_IF_USING_PREEMPTION( pxTCB ) \
  88:Middlewares/FreeRTOS/tasks.c ****     do {                                                        \
  89:Middlewares/FreeRTOS/tasks.c ****         if( pxCurrentTCB->uxPriority < ( pxTCB )->uxPriority )  \
ARM GAS  /tmp/ccF71V7c.s 			page 5


  90:Middlewares/FreeRTOS/tasks.c ****         {                                                       \
  91:Middlewares/FreeRTOS/tasks.c ****             portYIELD_WITHIN_API();                             \
  92:Middlewares/FreeRTOS/tasks.c ****         }                                                       \
  93:Middlewares/FreeRTOS/tasks.c ****         else                                                    \
  94:Middlewares/FreeRTOS/tasks.c ****         {                                                       \
  95:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();                           \
  96:Middlewares/FreeRTOS/tasks.c ****         }                                                       \
  97:Middlewares/FreeRTOS/tasks.c ****     } while( 0 )
  98:Middlewares/FreeRTOS/tasks.c **** 
  99:Middlewares/FreeRTOS/tasks.c ****     #else /* if ( configNUMBER_OF_CORES == 1 ) */
 100:Middlewares/FreeRTOS/tasks.c **** 
 101:Middlewares/FreeRTOS/tasks.c **** /* Yield the core on which this task is running. */
 102:Middlewares/FreeRTOS/tasks.c ****         #define taskYIELD_TASK_CORE_IF_USING_PREEMPTION( pxTCB )    prvYieldCore( ( pxTCB )->xTaskR
 103:Middlewares/FreeRTOS/tasks.c **** 
 104:Middlewares/FreeRTOS/tasks.c **** /* Yield for the task if a running task has priority lower than this task. */
 105:Middlewares/FreeRTOS/tasks.c ****         #define taskYIELD_ANY_CORE_IF_USING_PREEMPTION( pxTCB )     prvYieldForTask( pxTCB )
 106:Middlewares/FreeRTOS/tasks.c **** 
 107:Middlewares/FreeRTOS/tasks.c ****     #endif /* #if ( configNUMBER_OF_CORES == 1 ) */
 108:Middlewares/FreeRTOS/tasks.c **** 
 109:Middlewares/FreeRTOS/tasks.c **** #endif /* if ( configUSE_PREEMPTION == 0 ) */
 110:Middlewares/FreeRTOS/tasks.c **** 
 111:Middlewares/FreeRTOS/tasks.c **** /* Values that can be assigned to the ucNotifyState member of the TCB. */
 112:Middlewares/FreeRTOS/tasks.c **** #define taskNOT_WAITING_NOTIFICATION              ( ( uint8_t ) 0 ) /* Must be zero as it is the in
 113:Middlewares/FreeRTOS/tasks.c **** #define taskWAITING_NOTIFICATION                  ( ( uint8_t ) 1 )
 114:Middlewares/FreeRTOS/tasks.c **** #define taskNOTIFICATION_RECEIVED                 ( ( uint8_t ) 2 )
 115:Middlewares/FreeRTOS/tasks.c **** 
 116:Middlewares/FreeRTOS/tasks.c **** /*
 117:Middlewares/FreeRTOS/tasks.c ****  * The value used to fill the stack of a task when the task is created.  This
 118:Middlewares/FreeRTOS/tasks.c ****  * is used purely for checking the high water mark for tasks.
 119:Middlewares/FreeRTOS/tasks.c ****  */
 120:Middlewares/FreeRTOS/tasks.c **** #define tskSTACK_FILL_BYTE                        ( 0xa5U )
 121:Middlewares/FreeRTOS/tasks.c **** 
 122:Middlewares/FreeRTOS/tasks.c **** /* Bits used to record how a task's stack and TCB were allocated. */
 123:Middlewares/FreeRTOS/tasks.c **** #define tskDYNAMICALLY_ALLOCATED_STACK_AND_TCB    ( ( uint8_t ) 0 )
 124:Middlewares/FreeRTOS/tasks.c **** #define tskSTATICALLY_ALLOCATED_STACK_ONLY        ( ( uint8_t ) 1 )
 125:Middlewares/FreeRTOS/tasks.c **** #define tskSTATICALLY_ALLOCATED_STACK_AND_TCB     ( ( uint8_t ) 2 )
 126:Middlewares/FreeRTOS/tasks.c **** 
 127:Middlewares/FreeRTOS/tasks.c **** /* If any of the following are set then task stacks are filled with a known
 128:Middlewares/FreeRTOS/tasks.c ****  * value so the high water mark can be determined.  If none of the following are
 129:Middlewares/FreeRTOS/tasks.c ****  * set then don't fill the stack so there is no unnecessary dependency on memset. */
 130:Middlewares/FreeRTOS/tasks.c **** #if ( ( configCHECK_FOR_STACK_OVERFLOW > 1 ) || ( configUSE_TRACE_FACILITY == 1 ) || ( INCLUDE_uxTa
 131:Middlewares/FreeRTOS/tasks.c ****     #define tskSET_NEW_STACKS_TO_KNOWN_VALUE    1
 132:Middlewares/FreeRTOS/tasks.c **** #else
 133:Middlewares/FreeRTOS/tasks.c ****     #define tskSET_NEW_STACKS_TO_KNOWN_VALUE    0
 134:Middlewares/FreeRTOS/tasks.c **** #endif
 135:Middlewares/FreeRTOS/tasks.c **** 
 136:Middlewares/FreeRTOS/tasks.c **** /*
 137:Middlewares/FreeRTOS/tasks.c ****  * Macros used by vListTask to indicate which state a task is in.
 138:Middlewares/FreeRTOS/tasks.c ****  */
 139:Middlewares/FreeRTOS/tasks.c **** #define tskRUNNING_CHAR      ( 'X' )
 140:Middlewares/FreeRTOS/tasks.c **** #define tskBLOCKED_CHAR      ( 'B' )
 141:Middlewares/FreeRTOS/tasks.c **** #define tskREADY_CHAR        ( 'R' )
 142:Middlewares/FreeRTOS/tasks.c **** #define tskDELETED_CHAR      ( 'D' )
 143:Middlewares/FreeRTOS/tasks.c **** #define tskSUSPENDED_CHAR    ( 'S' )
 144:Middlewares/FreeRTOS/tasks.c **** 
 145:Middlewares/FreeRTOS/tasks.c **** /*
 146:Middlewares/FreeRTOS/tasks.c ****  * Some kernel aware debuggers require the data the debugger needs access to be
ARM GAS  /tmp/ccF71V7c.s 			page 6


 147:Middlewares/FreeRTOS/tasks.c ****  * global, rather than file scope.
 148:Middlewares/FreeRTOS/tasks.c ****  */
 149:Middlewares/FreeRTOS/tasks.c **** #ifdef portREMOVE_STATIC_QUALIFIER
 150:Middlewares/FreeRTOS/tasks.c ****     #define static
 151:Middlewares/FreeRTOS/tasks.c **** #endif
 152:Middlewares/FreeRTOS/tasks.c **** 
 153:Middlewares/FreeRTOS/tasks.c **** /* The name allocated to the Idle task.  This can be overridden by defining
 154:Middlewares/FreeRTOS/tasks.c ****  * configIDLE_TASK_NAME in FreeRTOSConfig.h. */
 155:Middlewares/FreeRTOS/tasks.c **** #ifndef configIDLE_TASK_NAME
 156:Middlewares/FreeRTOS/tasks.c ****     #define configIDLE_TASK_NAME    "IDLE"
 157:Middlewares/FreeRTOS/tasks.c **** #endif
 158:Middlewares/FreeRTOS/tasks.c **** 
 159:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_PORT_OPTIMISED_TASK_SELECTION == 0 )
 160:Middlewares/FreeRTOS/tasks.c **** 
 161:Middlewares/FreeRTOS/tasks.c **** /* If configUSE_PORT_OPTIMISED_TASK_SELECTION is 0 then task selection is
 162:Middlewares/FreeRTOS/tasks.c ****  * performed in a generic way that is not optimised to any particular
 163:Middlewares/FreeRTOS/tasks.c ****  * microcontroller architecture. */
 164:Middlewares/FreeRTOS/tasks.c **** 
 165:Middlewares/FreeRTOS/tasks.c **** /* uxTopReadyPriority holds the priority of the highest priority ready
 166:Middlewares/FreeRTOS/tasks.c ****  * state task. */
 167:Middlewares/FreeRTOS/tasks.c ****     #define taskRECORD_READY_PRIORITY( uxPriority ) \
 168:Middlewares/FreeRTOS/tasks.c ****     do {                                            \
 169:Middlewares/FreeRTOS/tasks.c ****         if( ( uxPriority ) > uxTopReadyPriority )   \
 170:Middlewares/FreeRTOS/tasks.c ****         {                                           \
 171:Middlewares/FreeRTOS/tasks.c ****             uxTopReadyPriority = ( uxPriority );    \
 172:Middlewares/FreeRTOS/tasks.c ****         }                                           \
 173:Middlewares/FreeRTOS/tasks.c ****     } while( 0 ) /* taskRECORD_READY_PRIORITY */
 174:Middlewares/FreeRTOS/tasks.c **** 
 175:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
 176:Middlewares/FreeRTOS/tasks.c **** 
 177:Middlewares/FreeRTOS/tasks.c ****     #if ( configNUMBER_OF_CORES == 1 )
 178:Middlewares/FreeRTOS/tasks.c ****         #define taskSELECT_HIGHEST_PRIORITY_TASK()                                       \
 179:Middlewares/FreeRTOS/tasks.c ****     do {                                                                                 \
 180:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxTopPriority = uxTopReadyPriority;                                  \
 181:Middlewares/FreeRTOS/tasks.c ****                                                                                          \
 182:Middlewares/FreeRTOS/tasks.c ****         /* Find the highest priority queue that contains ready tasks. */                 \
 183:Middlewares/FreeRTOS/tasks.c ****         while( listLIST_IS_EMPTY( &( pxReadyTasksLists[ uxTopPriority ] ) ) != pdFALSE ) \
 184:Middlewares/FreeRTOS/tasks.c ****         {                                                                                \
 185:Middlewares/FreeRTOS/tasks.c ****             configASSERT( uxTopPriority );                                               \
 186:Middlewares/FreeRTOS/tasks.c ****             --uxTopPriority;                                                             \
 187:Middlewares/FreeRTOS/tasks.c ****         }                                                                                \
 188:Middlewares/FreeRTOS/tasks.c ****                                                                                          \
 189:Middlewares/FreeRTOS/tasks.c ****         /* listGET_OWNER_OF_NEXT_ENTRY indexes through the list, so the tasks of \
 190:Middlewares/FreeRTOS/tasks.c ****          * the  same priority get an equal share of the processor time. */                    \
 191:Middlewares/FreeRTOS/tasks.c ****         listGET_OWNER_OF_NEXT_ENTRY( pxCurrentTCB, &( pxReadyTasksLists[ uxTopPriority ] ) ); \
 192:Middlewares/FreeRTOS/tasks.c ****         uxTopReadyPriority = uxTopPriority;                                                   \
 193:Middlewares/FreeRTOS/tasks.c ****     } while( 0 ) /* taskSELECT_HIGHEST_PRIORITY_TASK */
 194:Middlewares/FreeRTOS/tasks.c ****     #else /* if ( configNUMBER_OF_CORES == 1 ) */
 195:Middlewares/FreeRTOS/tasks.c **** 
 196:Middlewares/FreeRTOS/tasks.c ****         #define taskSELECT_HIGHEST_PRIORITY_TASK( xCoreID )    prvSelectHighestPriorityTask( xCoreI
 197:Middlewares/FreeRTOS/tasks.c **** 
 198:Middlewares/FreeRTOS/tasks.c ****     #endif /* if ( configNUMBER_OF_CORES == 1 ) */
 199:Middlewares/FreeRTOS/tasks.c **** 
 200:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
 201:Middlewares/FreeRTOS/tasks.c **** 
 202:Middlewares/FreeRTOS/tasks.c **** /* Define away taskRESET_READY_PRIORITY() and portRESET_READY_PRIORITY() as
 203:Middlewares/FreeRTOS/tasks.c ****  * they are only required when a port optimised method of task selection is
ARM GAS  /tmp/ccF71V7c.s 			page 7


 204:Middlewares/FreeRTOS/tasks.c ****  * being used. */
 205:Middlewares/FreeRTOS/tasks.c ****     #define taskRESET_READY_PRIORITY( uxPriority )
 206:Middlewares/FreeRTOS/tasks.c ****     #define portRESET_READY_PRIORITY( uxPriority, uxTopReadyPriority )
 207:Middlewares/FreeRTOS/tasks.c **** 
 208:Middlewares/FreeRTOS/tasks.c **** #else /* configUSE_PORT_OPTIMISED_TASK_SELECTION */
 209:Middlewares/FreeRTOS/tasks.c **** 
 210:Middlewares/FreeRTOS/tasks.c **** /* If configUSE_PORT_OPTIMISED_TASK_SELECTION is 1 then task selection is
 211:Middlewares/FreeRTOS/tasks.c ****  * performed in a way that is tailored to the particular microcontroller
 212:Middlewares/FreeRTOS/tasks.c ****  * architecture being used. */
 213:Middlewares/FreeRTOS/tasks.c **** 
 214:Middlewares/FreeRTOS/tasks.c **** /* A port optimised version is provided.  Call the port defined macros. */
 215:Middlewares/FreeRTOS/tasks.c ****     #define taskRECORD_READY_PRIORITY( uxPriority )    portRECORD_READY_PRIORITY( ( uxPriority ), u
 216:Middlewares/FreeRTOS/tasks.c **** 
 217:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
 218:Middlewares/FreeRTOS/tasks.c **** 
 219:Middlewares/FreeRTOS/tasks.c ****     #define taskSELECT_HIGHEST_PRIORITY_TASK()                                                  \
 220:Middlewares/FreeRTOS/tasks.c ****     do {                                                                                        \
 221:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxTopPriority;                                                              \
 222:Middlewares/FreeRTOS/tasks.c ****                                                                                                 \
 223:Middlewares/FreeRTOS/tasks.c ****         /* Find the highest priority list that contains ready tasks. */                         \
 224:Middlewares/FreeRTOS/tasks.c ****         portGET_HIGHEST_PRIORITY( uxTopPriority, uxTopReadyPriority );                          \
 225:Middlewares/FreeRTOS/tasks.c ****         configASSERT( listCURRENT_LIST_LENGTH( &( pxReadyTasksLists[ uxTopPriority ] ) ) > 0 ); \
 226:Middlewares/FreeRTOS/tasks.c ****         listGET_OWNER_OF_NEXT_ENTRY( pxCurrentTCB, &( pxReadyTasksLists[ uxTopPriority ] ) );   \
 227:Middlewares/FreeRTOS/tasks.c ****     } while( 0 )
 228:Middlewares/FreeRTOS/tasks.c **** 
 229:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
 230:Middlewares/FreeRTOS/tasks.c **** 
 231:Middlewares/FreeRTOS/tasks.c **** /* A port optimised version is provided, call it only if the TCB being reset
 232:Middlewares/FreeRTOS/tasks.c ****  * is being referenced from a ready list.  If it is referenced from a delayed
 233:Middlewares/FreeRTOS/tasks.c ****  * or suspended list then it won't be in a ready list. */
 234:Middlewares/FreeRTOS/tasks.c ****     #define taskRESET_READY_PRIORITY( uxPriority )                                                 
 235:Middlewares/FreeRTOS/tasks.c ****     do {                                                                                           
 236:Middlewares/FreeRTOS/tasks.c ****         if( listCURRENT_LIST_LENGTH( &( pxReadyTasksLists[ ( uxPriority ) ] ) ) == ( UBaseType_t ) 
 237:Middlewares/FreeRTOS/tasks.c ****         {                                                                                          
 238:Middlewares/FreeRTOS/tasks.c ****             portRESET_READY_PRIORITY( ( uxPriority ), ( uxTopReadyPriority ) );                    
 239:Middlewares/FreeRTOS/tasks.c ****         }                                                                                          
 240:Middlewares/FreeRTOS/tasks.c ****     } while( 0 )
 241:Middlewares/FreeRTOS/tasks.c **** 
 242:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_PORT_OPTIMISED_TASK_SELECTION */
 243:Middlewares/FreeRTOS/tasks.c **** 
 244:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
 245:Middlewares/FreeRTOS/tasks.c **** 
 246:Middlewares/FreeRTOS/tasks.c **** /* pxDelayedTaskList and pxOverflowDelayedTaskList are switched when the tick
 247:Middlewares/FreeRTOS/tasks.c ****  * count overflows. */
 248:Middlewares/FreeRTOS/tasks.c **** #define taskSWITCH_DELAYED_LISTS()                                                \
 249:Middlewares/FreeRTOS/tasks.c ****     do {                                                                          \
 250:Middlewares/FreeRTOS/tasks.c ****         List_t * pxTemp;                                                          \
 251:Middlewares/FreeRTOS/tasks.c ****                                                                                   \
 252:Middlewares/FreeRTOS/tasks.c ****         /* The delayed tasks list should be empty when the lists are switched. */ \
 253:Middlewares/FreeRTOS/tasks.c ****         configASSERT( ( listLIST_IS_EMPTY( pxDelayedTaskList ) ) );               \
 254:Middlewares/FreeRTOS/tasks.c ****                                                                                   \
 255:Middlewares/FreeRTOS/tasks.c ****         pxTemp = pxDelayedTaskList;                                               \
 256:Middlewares/FreeRTOS/tasks.c ****         pxDelayedTaskList = pxOverflowDelayedTaskList;                            \
 257:Middlewares/FreeRTOS/tasks.c ****         pxOverflowDelayedTaskList = pxTemp;                                       \
 258:Middlewares/FreeRTOS/tasks.c ****         xNumOfOverflows = ( BaseType_t ) ( xNumOfOverflows + 1 );                 \
 259:Middlewares/FreeRTOS/tasks.c ****         prvResetNextTaskUnblockTime();                                            \
 260:Middlewares/FreeRTOS/tasks.c ****     } while( 0 )
ARM GAS  /tmp/ccF71V7c.s 			page 8


 261:Middlewares/FreeRTOS/tasks.c **** 
 262:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
 263:Middlewares/FreeRTOS/tasks.c **** 
 264:Middlewares/FreeRTOS/tasks.c **** /*
 265:Middlewares/FreeRTOS/tasks.c ****  * Place the task represented by pxTCB into the appropriate ready list for
 266:Middlewares/FreeRTOS/tasks.c ****  * the task.  It is inserted at the end of the list.
 267:Middlewares/FreeRTOS/tasks.c ****  */
 268:Middlewares/FreeRTOS/tasks.c **** #define prvAddTaskToReadyList( pxTCB )                                                             
 269:Middlewares/FreeRTOS/tasks.c ****     do {                                                                                           
 270:Middlewares/FreeRTOS/tasks.c ****         traceMOVED_TASK_TO_READY_STATE( pxTCB );                                                   
 271:Middlewares/FreeRTOS/tasks.c ****         taskRECORD_READY_PRIORITY( ( pxTCB )->uxPriority );                                        
 272:Middlewares/FreeRTOS/tasks.c ****         listINSERT_END( &( pxReadyTasksLists[ ( pxTCB )->uxPriority ] ), &( ( pxTCB )->xStateListIt
 273:Middlewares/FreeRTOS/tasks.c ****         tracePOST_MOVED_TASK_TO_READY_STATE( pxTCB );                                              
 274:Middlewares/FreeRTOS/tasks.c ****     } while( 0 )
 275:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
 276:Middlewares/FreeRTOS/tasks.c **** 
 277:Middlewares/FreeRTOS/tasks.c **** /*
 278:Middlewares/FreeRTOS/tasks.c ****  * Several functions take a TaskHandle_t parameter that can optionally be NULL,
 279:Middlewares/FreeRTOS/tasks.c ****  * where NULL is used to indicate that the handle of the currently executing
 280:Middlewares/FreeRTOS/tasks.c ****  * task should be used in place of the parameter.  This macro simply checks to
 281:Middlewares/FreeRTOS/tasks.c ****  * see if the parameter is NULL and returns a pointer to the appropriate TCB.
 282:Middlewares/FreeRTOS/tasks.c ****  */
 283:Middlewares/FreeRTOS/tasks.c **** #define prvGetTCBFromHandle( pxHandle )    ( ( ( pxHandle ) == NULL ) ? pxCurrentTCB : ( pxHandle )
 284:Middlewares/FreeRTOS/tasks.c **** 
 285:Middlewares/FreeRTOS/tasks.c **** /* The item value of the event list item is normally used to hold the priority
 286:Middlewares/FreeRTOS/tasks.c ****  * of the task to which it belongs (coded to allow it to be held in reverse
 287:Middlewares/FreeRTOS/tasks.c ****  * priority order).  However, it is occasionally borrowed for other purposes.  It
 288:Middlewares/FreeRTOS/tasks.c ****  * is important its value is not updated due to a task priority change while it is
 289:Middlewares/FreeRTOS/tasks.c ****  * being used for another purpose.  The following bit definition is used to inform
 290:Middlewares/FreeRTOS/tasks.c ****  * the scheduler that the value should not be changed - in which case it is the
 291:Middlewares/FreeRTOS/tasks.c ****  * responsibility of whichever module is using the value to ensure it gets set back
 292:Middlewares/FreeRTOS/tasks.c ****  * to its original value when it is released. */
 293:Middlewares/FreeRTOS/tasks.c **** #if ( configTICK_TYPE_WIDTH_IN_BITS == TICK_TYPE_WIDTH_16_BITS )
 294:Middlewares/FreeRTOS/tasks.c ****     #define taskEVENT_LIST_ITEM_VALUE_IN_USE    ( ( uint16_t ) 0x8000U )
 295:Middlewares/FreeRTOS/tasks.c **** #elif ( configTICK_TYPE_WIDTH_IN_BITS == TICK_TYPE_WIDTH_32_BITS )
 296:Middlewares/FreeRTOS/tasks.c ****     #define taskEVENT_LIST_ITEM_VALUE_IN_USE    ( ( uint32_t ) 0x80000000U )
 297:Middlewares/FreeRTOS/tasks.c **** #elif ( configTICK_TYPE_WIDTH_IN_BITS == TICK_TYPE_WIDTH_64_BITS )
 298:Middlewares/FreeRTOS/tasks.c ****     #define taskEVENT_LIST_ITEM_VALUE_IN_USE    ( ( uint64_t ) 0x8000000000000000U )
 299:Middlewares/FreeRTOS/tasks.c **** #endif
 300:Middlewares/FreeRTOS/tasks.c **** 
 301:Middlewares/FreeRTOS/tasks.c **** /* Indicates that the task is not actively running on any core. */
 302:Middlewares/FreeRTOS/tasks.c **** #define taskTASK_NOT_RUNNING           ( ( BaseType_t ) ( -1 ) )
 303:Middlewares/FreeRTOS/tasks.c **** 
 304:Middlewares/FreeRTOS/tasks.c **** /* Indicates that the task is actively running but scheduled to yield. */
 305:Middlewares/FreeRTOS/tasks.c **** #define taskTASK_SCHEDULED_TO_YIELD    ( ( BaseType_t ) ( -2 ) )
 306:Middlewares/FreeRTOS/tasks.c **** 
 307:Middlewares/FreeRTOS/tasks.c **** /* Returns pdTRUE if the task is actively running and not scheduled to yield. */
 308:Middlewares/FreeRTOS/tasks.c **** #if ( configNUMBER_OF_CORES == 1 )
 309:Middlewares/FreeRTOS/tasks.c ****     #define taskTASK_IS_RUNNING( pxTCB )                          ( ( ( pxTCB ) == pxCurrentTCB ) ?
 310:Middlewares/FreeRTOS/tasks.c ****     #define taskTASK_IS_RUNNING_OR_SCHEDULED_TO_YIELD( pxTCB )    ( ( ( pxTCB ) == pxCurrentTCB ) ?
 311:Middlewares/FreeRTOS/tasks.c **** #else
 312:Middlewares/FreeRTOS/tasks.c ****     #define taskTASK_IS_RUNNING( pxTCB )                          ( ( ( ( pxTCB )->xTaskRunState >=
 313:Middlewares/FreeRTOS/tasks.c ****     #define taskTASK_IS_RUNNING_OR_SCHEDULED_TO_YIELD( pxTCB )    ( ( ( pxTCB )->xTaskRunState != t
 314:Middlewares/FreeRTOS/tasks.c **** #endif
 315:Middlewares/FreeRTOS/tasks.c **** 
 316:Middlewares/FreeRTOS/tasks.c **** /* Indicates that the task is an Idle task. */
 317:Middlewares/FreeRTOS/tasks.c **** #define taskATTRIBUTE_IS_IDLE    ( UBaseType_t ) ( 1U << 0U )
ARM GAS  /tmp/ccF71V7c.s 			page 9


 318:Middlewares/FreeRTOS/tasks.c **** 
 319:Middlewares/FreeRTOS/tasks.c **** #if ( ( configNUMBER_OF_CORES > 1 ) && ( portCRITICAL_NESTING_IN_TCB == 1 ) )
 320:Middlewares/FreeRTOS/tasks.c ****     #define portGET_CRITICAL_NESTING_COUNT()          ( pxCurrentTCBs[ portGET_CORE_ID() ]->uxCriti
 321:Middlewares/FreeRTOS/tasks.c ****     #define portSET_CRITICAL_NESTING_COUNT( x )       ( pxCurrentTCBs[ portGET_CORE_ID() ]->uxCriti
 322:Middlewares/FreeRTOS/tasks.c ****     #define portINCREMENT_CRITICAL_NESTING_COUNT()    ( pxCurrentTCBs[ portGET_CORE_ID() ]->uxCriti
 323:Middlewares/FreeRTOS/tasks.c ****     #define portDECREMENT_CRITICAL_NESTING_COUNT()    ( pxCurrentTCBs[ portGET_CORE_ID() ]->uxCriti
 324:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( ( configNUMBER_OF_CORES > 1 ) && ( portCRITICAL_NESTING_IN_TCB == 1 ) ) */
 325:Middlewares/FreeRTOS/tasks.c **** 
 326:Middlewares/FreeRTOS/tasks.c **** #define taskBITS_PER_BYTE    ( ( size_t ) 8 )
 327:Middlewares/FreeRTOS/tasks.c **** 
 328:Middlewares/FreeRTOS/tasks.c **** #if ( configNUMBER_OF_CORES > 1 )
 329:Middlewares/FreeRTOS/tasks.c **** 
 330:Middlewares/FreeRTOS/tasks.c **** /* Yields the given core. This must be called from a critical section and xCoreID
 331:Middlewares/FreeRTOS/tasks.c ****  * must be valid. This macro is not required in single core since there is only
 332:Middlewares/FreeRTOS/tasks.c ****  * one core to yield. */
 333:Middlewares/FreeRTOS/tasks.c ****     #define prvYieldCore( xCoreID )                                                          \
 334:Middlewares/FreeRTOS/tasks.c ****     do {                                                                                     \
 335:Middlewares/FreeRTOS/tasks.c ****         if( ( xCoreID ) == ( BaseType_t ) portGET_CORE_ID() )                                \
 336:Middlewares/FreeRTOS/tasks.c ****         {                                                                                    \
 337:Middlewares/FreeRTOS/tasks.c ****             /* Pending a yield for this core since it is in the critical section. */         \
 338:Middlewares/FreeRTOS/tasks.c ****             xYieldPendings[ ( xCoreID ) ] = pdTRUE;                                          \
 339:Middlewares/FreeRTOS/tasks.c ****         }                                                                                    \
 340:Middlewares/FreeRTOS/tasks.c ****         else                                                                                 \
 341:Middlewares/FreeRTOS/tasks.c ****         {                                                                                    \
 342:Middlewares/FreeRTOS/tasks.c ****             /* Request other core to yield if it is not requested before. */                 \
 343:Middlewares/FreeRTOS/tasks.c ****             if( pxCurrentTCBs[ ( xCoreID ) ]->xTaskRunState != taskTASK_SCHEDULED_TO_YIELD ) \
 344:Middlewares/FreeRTOS/tasks.c ****             {                                                                                \
 345:Middlewares/FreeRTOS/tasks.c ****                 portYIELD_CORE( xCoreID );                                                   \
 346:Middlewares/FreeRTOS/tasks.c ****                 pxCurrentTCBs[ ( xCoreID ) ]->xTaskRunState = taskTASK_SCHEDULED_TO_YIELD;   \
 347:Middlewares/FreeRTOS/tasks.c ****             }                                                                                \
 348:Middlewares/FreeRTOS/tasks.c ****         }                                                                                    \
 349:Middlewares/FreeRTOS/tasks.c ****     } while( 0 )
 350:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( configNUMBER_OF_CORES > 1 ) */
 351:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
 352:Middlewares/FreeRTOS/tasks.c **** 
 353:Middlewares/FreeRTOS/tasks.c **** /*
 354:Middlewares/FreeRTOS/tasks.c ****  * Task control block.  A task control block (TCB) is allocated for each task,
 355:Middlewares/FreeRTOS/tasks.c ****  * and stores task state information, including a pointer to the task's context
 356:Middlewares/FreeRTOS/tasks.c ****  * (the task's run time environment, including register values)
 357:Middlewares/FreeRTOS/tasks.c ****  */
 358:Middlewares/FreeRTOS/tasks.c **** typedef struct tskTaskControlBlock       /* The old naming convention is used to prevent breaking k
 359:Middlewares/FreeRTOS/tasks.c **** {
 360:Middlewares/FreeRTOS/tasks.c ****     volatile StackType_t * pxTopOfStack; /**< Points to the location of the last item placed on the
 361:Middlewares/FreeRTOS/tasks.c **** 
 362:Middlewares/FreeRTOS/tasks.c ****     #if ( portUSING_MPU_WRAPPERS == 1 )
 363:Middlewares/FreeRTOS/tasks.c ****         xMPU_SETTINGS xMPUSettings; /**< The MPU settings are defined as part of the port layer.  T
 364:Middlewares/FreeRTOS/tasks.c ****     #endif
 365:Middlewares/FreeRTOS/tasks.c **** 
 366:Middlewares/FreeRTOS/tasks.c ****     #if ( configUSE_CORE_AFFINITY == 1 ) && ( configNUMBER_OF_CORES > 1 )
 367:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxCoreAffinityMask; /**< Used to link the task to certain cores.  UBaseType_t m
 368:Middlewares/FreeRTOS/tasks.c ****     #endif
 369:Middlewares/FreeRTOS/tasks.c **** 
 370:Middlewares/FreeRTOS/tasks.c ****     ListItem_t xStateListItem;                  /**< The list that the state list item of a task is
 371:Middlewares/FreeRTOS/tasks.c ****     ListItem_t xEventListItem;                  /**< Used to reference a task from an event list. *
 372:Middlewares/FreeRTOS/tasks.c ****     UBaseType_t uxPriority;                     /**< The priority of the task.  0 is the lowest pri
 373:Middlewares/FreeRTOS/tasks.c ****     StackType_t * pxStack;                      /**< Points to the start of the stack. */
 374:Middlewares/FreeRTOS/tasks.c ****     #if ( configNUMBER_OF_CORES > 1 )
ARM GAS  /tmp/ccF71V7c.s 			page 10


 375:Middlewares/FreeRTOS/tasks.c ****         volatile BaseType_t xTaskRunState;      /**< Used to identify the core the task is running 
 376:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxTaskAttributes;           /**< Task's attributes - currently used to identify
 377:Middlewares/FreeRTOS/tasks.c ****     #endif
 378:Middlewares/FreeRTOS/tasks.c ****     char pcTaskName[ configMAX_TASK_NAME_LEN ]; /**< Descriptive name given to the task when create
 379:Middlewares/FreeRTOS/tasks.c **** 
 380:Middlewares/FreeRTOS/tasks.c ****     #if ( configUSE_TASK_PREEMPTION_DISABLE == 1 )
 381:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xPreemptionDisable; /**< Used to prevent the task from being preempted. */
 382:Middlewares/FreeRTOS/tasks.c ****     #endif
 383:Middlewares/FreeRTOS/tasks.c **** 
 384:Middlewares/FreeRTOS/tasks.c ****     #if ( ( portSTACK_GROWTH > 0 ) || ( configRECORD_STACK_HIGH_ADDRESS == 1 ) )
 385:Middlewares/FreeRTOS/tasks.c ****         StackType_t * pxEndOfStack; /**< Points to the highest valid address for the stack. */
 386:Middlewares/FreeRTOS/tasks.c ****     #endif
 387:Middlewares/FreeRTOS/tasks.c **** 
 388:Middlewares/FreeRTOS/tasks.c ****     #if ( portCRITICAL_NESTING_IN_TCB == 1 )
 389:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxCriticalNesting; /**< Holds the critical section nesting depth for ports that
 390:Middlewares/FreeRTOS/tasks.c ****     #endif
 391:Middlewares/FreeRTOS/tasks.c **** 
 392:Middlewares/FreeRTOS/tasks.c ****     #if ( configUSE_TRACE_FACILITY == 1 )
 393:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxTCBNumber;  /**< Stores a number that increments each time a TCB is created. 
 394:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxTaskNumber; /**< Stores a number specifically for use by third party trace co
 395:Middlewares/FreeRTOS/tasks.c ****     #endif
 396:Middlewares/FreeRTOS/tasks.c **** 
 397:Middlewares/FreeRTOS/tasks.c ****     #if ( configUSE_MUTEXES == 1 )
 398:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxBasePriority; /**< The priority last assigned to the task - used by the prior
 399:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxMutexesHeld;
 400:Middlewares/FreeRTOS/tasks.c ****     #endif
 401:Middlewares/FreeRTOS/tasks.c **** 
 402:Middlewares/FreeRTOS/tasks.c ****     #if ( configUSE_APPLICATION_TASK_TAG == 1 )
 403:Middlewares/FreeRTOS/tasks.c ****         TaskHookFunction_t pxTaskTag;
 404:Middlewares/FreeRTOS/tasks.c ****     #endif
 405:Middlewares/FreeRTOS/tasks.c **** 
 406:Middlewares/FreeRTOS/tasks.c ****     #if ( configNUM_THREAD_LOCAL_STORAGE_POINTERS > 0 )
 407:Middlewares/FreeRTOS/tasks.c ****         void * pvThreadLocalStoragePointers[ configNUM_THREAD_LOCAL_STORAGE_POINTERS ];
 408:Middlewares/FreeRTOS/tasks.c ****     #endif
 409:Middlewares/FreeRTOS/tasks.c **** 
 410:Middlewares/FreeRTOS/tasks.c ****     #if ( configGENERATE_RUN_TIME_STATS == 1 )
 411:Middlewares/FreeRTOS/tasks.c ****         configRUN_TIME_COUNTER_TYPE ulRunTimeCounter; /**< Stores the amount of time the task has s
 412:Middlewares/FreeRTOS/tasks.c ****     #endif
 413:Middlewares/FreeRTOS/tasks.c **** 
 414:Middlewares/FreeRTOS/tasks.c ****     #if ( configUSE_C_RUNTIME_TLS_SUPPORT == 1 )
 415:Middlewares/FreeRTOS/tasks.c ****         configTLS_BLOCK_TYPE xTLSBlock; /**< Memory block used as Thread Local Storage (TLS) Block 
 416:Middlewares/FreeRTOS/tasks.c ****     #endif
 417:Middlewares/FreeRTOS/tasks.c **** 
 418:Middlewares/FreeRTOS/tasks.c ****     #if ( configUSE_TASK_NOTIFICATIONS == 1 )
 419:Middlewares/FreeRTOS/tasks.c ****         volatile uint32_t ulNotifiedValue[ configTASK_NOTIFICATION_ARRAY_ENTRIES ];
 420:Middlewares/FreeRTOS/tasks.c ****         volatile uint8_t ucNotifyState[ configTASK_NOTIFICATION_ARRAY_ENTRIES ];
 421:Middlewares/FreeRTOS/tasks.c ****     #endif
 422:Middlewares/FreeRTOS/tasks.c **** 
 423:Middlewares/FreeRTOS/tasks.c ****     /* See the comments in FreeRTOS.h with the definition of
 424:Middlewares/FreeRTOS/tasks.c ****      * tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE. */
 425:Middlewares/FreeRTOS/tasks.c ****     #if ( tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE != 0 )
 426:Middlewares/FreeRTOS/tasks.c ****         uint8_t ucStaticallyAllocated; /**< Set to pdTRUE if the task is a statically allocated to 
 427:Middlewares/FreeRTOS/tasks.c ****     #endif
 428:Middlewares/FreeRTOS/tasks.c **** 
 429:Middlewares/FreeRTOS/tasks.c ****     #if ( INCLUDE_xTaskAbortDelay == 1 )
 430:Middlewares/FreeRTOS/tasks.c ****         uint8_t ucDelayAborted;
 431:Middlewares/FreeRTOS/tasks.c ****     #endif
ARM GAS  /tmp/ccF71V7c.s 			page 11


 432:Middlewares/FreeRTOS/tasks.c **** 
 433:Middlewares/FreeRTOS/tasks.c ****     #if ( configUSE_POSIX_ERRNO == 1 )
 434:Middlewares/FreeRTOS/tasks.c ****         int iTaskErrno;
 435:Middlewares/FreeRTOS/tasks.c ****     #endif
 436:Middlewares/FreeRTOS/tasks.c **** } tskTCB;
 437:Middlewares/FreeRTOS/tasks.c **** 
 438:Middlewares/FreeRTOS/tasks.c **** /* The old tskTCB name is maintained above then typedefed to the new TCB_t name
 439:Middlewares/FreeRTOS/tasks.c ****  * below to enable the use of older kernel aware debuggers. */
 440:Middlewares/FreeRTOS/tasks.c **** typedef tskTCB TCB_t;
 441:Middlewares/FreeRTOS/tasks.c **** 
 442:Middlewares/FreeRTOS/tasks.c **** #if ( configNUMBER_OF_CORES == 1 )
 443:Middlewares/FreeRTOS/tasks.c ****     /* MISRA Ref 8.4.1 [Declaration shall be visible] */
 444:Middlewares/FreeRTOS/tasks.c ****     /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#rule-84 */
 445:Middlewares/FreeRTOS/tasks.c ****     /* coverity[misra_c_2012_rule_8_4_violation] */
 446:Middlewares/FreeRTOS/tasks.c ****     portDONT_DISCARD PRIVILEGED_DATA TCB_t * volatile pxCurrentTCB = NULL;
 447:Middlewares/FreeRTOS/tasks.c **** #else
 448:Middlewares/FreeRTOS/tasks.c ****     /* MISRA Ref 8.4.1 [Declaration shall be visible] */
 449:Middlewares/FreeRTOS/tasks.c ****     /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#rule-84 */
 450:Middlewares/FreeRTOS/tasks.c ****     /* coverity[misra_c_2012_rule_8_4_violation] */
 451:Middlewares/FreeRTOS/tasks.c ****     portDONT_DISCARD PRIVILEGED_DATA TCB_t * volatile pxCurrentTCBs[ configNUMBER_OF_CORES ];
 452:Middlewares/FreeRTOS/tasks.c ****     #define pxCurrentTCB    xTaskGetCurrentTaskHandle()
 453:Middlewares/FreeRTOS/tasks.c **** #endif
 454:Middlewares/FreeRTOS/tasks.c **** 
 455:Middlewares/FreeRTOS/tasks.c **** /* Lists for ready and blocked tasks. --------------------
 456:Middlewares/FreeRTOS/tasks.c ****  * xDelayedTaskList1 and xDelayedTaskList2 could be moved to function scope but
 457:Middlewares/FreeRTOS/tasks.c ****  * doing so breaks some kernel aware debuggers and debuggers that rely on removing
 458:Middlewares/FreeRTOS/tasks.c ****  * the static qualifier. */
 459:Middlewares/FreeRTOS/tasks.c **** PRIVILEGED_DATA static List_t pxReadyTasksLists[ configMAX_PRIORITIES ]; /**< Prioritised ready tas
 460:Middlewares/FreeRTOS/tasks.c **** PRIVILEGED_DATA static List_t xDelayedTaskList1;                         /**< Delayed tasks. */
 461:Middlewares/FreeRTOS/tasks.c **** PRIVILEGED_DATA static List_t xDelayedTaskList2;                         /**< Delayed tasks (two li
 462:Middlewares/FreeRTOS/tasks.c **** PRIVILEGED_DATA static List_t * volatile pxDelayedTaskList;              /**< Points to the delayed
 463:Middlewares/FreeRTOS/tasks.c **** PRIVILEGED_DATA static List_t * volatile pxOverflowDelayedTaskList;      /**< Points to the delayed
 464:Middlewares/FreeRTOS/tasks.c **** PRIVILEGED_DATA static List_t xPendingReadyList;                         /**< Tasks that have been 
 465:Middlewares/FreeRTOS/tasks.c **** 
 466:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_vTaskDelete == 1 )
 467:Middlewares/FreeRTOS/tasks.c **** 
 468:Middlewares/FreeRTOS/tasks.c ****     PRIVILEGED_DATA static List_t xTasksWaitingTermination; /**< Tasks that have been deleted - but
 469:Middlewares/FreeRTOS/tasks.c ****     PRIVILEGED_DATA static volatile UBaseType_t uxDeletedTasksWaitingCleanUp = ( UBaseType_t ) 0U;
 470:Middlewares/FreeRTOS/tasks.c **** 
 471:Middlewares/FreeRTOS/tasks.c **** #endif
 472:Middlewares/FreeRTOS/tasks.c **** 
 473:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_vTaskSuspend == 1 )
 474:Middlewares/FreeRTOS/tasks.c **** 
 475:Middlewares/FreeRTOS/tasks.c ****     PRIVILEGED_DATA static List_t xSuspendedTaskList; /**< Tasks that are currently suspended. */
 476:Middlewares/FreeRTOS/tasks.c **** 
 477:Middlewares/FreeRTOS/tasks.c **** #endif
 478:Middlewares/FreeRTOS/tasks.c **** 
 479:Middlewares/FreeRTOS/tasks.c **** /* Global POSIX errno. Its value is changed upon context switching to match
 480:Middlewares/FreeRTOS/tasks.c ****  * the errno of the currently running task. */
 481:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_POSIX_ERRNO == 1 )
 482:Middlewares/FreeRTOS/tasks.c ****     int FreeRTOS_errno = 0;
 483:Middlewares/FreeRTOS/tasks.c **** #endif
 484:Middlewares/FreeRTOS/tasks.c **** 
 485:Middlewares/FreeRTOS/tasks.c **** /* Other file private variables. --------------------------------*/
 486:Middlewares/FreeRTOS/tasks.c **** PRIVILEGED_DATA static volatile UBaseType_t uxCurrentNumberOfTasks = ( UBaseType_t ) 0U;
 487:Middlewares/FreeRTOS/tasks.c **** PRIVILEGED_DATA static volatile TickType_t xTickCount = ( TickType_t ) configINITIAL_TICK_COUNT;
 488:Middlewares/FreeRTOS/tasks.c **** PRIVILEGED_DATA static volatile UBaseType_t uxTopReadyPriority = tskIDLE_PRIORITY;
ARM GAS  /tmp/ccF71V7c.s 			page 12


 489:Middlewares/FreeRTOS/tasks.c **** PRIVILEGED_DATA static volatile BaseType_t xSchedulerRunning = pdFALSE;
 490:Middlewares/FreeRTOS/tasks.c **** PRIVILEGED_DATA static volatile TickType_t xPendedTicks = ( TickType_t ) 0U;
 491:Middlewares/FreeRTOS/tasks.c **** PRIVILEGED_DATA static volatile BaseType_t xYieldPendings[ configNUMBER_OF_CORES ] = { pdFALSE };
 492:Middlewares/FreeRTOS/tasks.c **** PRIVILEGED_DATA static volatile BaseType_t xNumOfOverflows = ( BaseType_t ) 0;
 493:Middlewares/FreeRTOS/tasks.c **** PRIVILEGED_DATA static UBaseType_t uxTaskNumber = ( UBaseType_t ) 0U;
 494:Middlewares/FreeRTOS/tasks.c **** PRIVILEGED_DATA static volatile TickType_t xNextTaskUnblockTime = ( TickType_t ) 0U; /* Initialised
 495:Middlewares/FreeRTOS/tasks.c **** PRIVILEGED_DATA static TaskHandle_t xIdleTaskHandles[ configNUMBER_OF_CORES ];       /**< Holds the
 496:Middlewares/FreeRTOS/tasks.c **** 
 497:Middlewares/FreeRTOS/tasks.c **** /* Improve support for OpenOCD. The kernel tracks Ready tasks via priority lists.
 498:Middlewares/FreeRTOS/tasks.c ****  * For tracking the state of remote threads, OpenOCD uses uxTopUsedPriority
 499:Middlewares/FreeRTOS/tasks.c ****  * to determine the number of priority lists to read back from the remote target. */
 500:Middlewares/FreeRTOS/tasks.c **** static const volatile UBaseType_t uxTopUsedPriority = configMAX_PRIORITIES - 1U;
 501:Middlewares/FreeRTOS/tasks.c **** 
 502:Middlewares/FreeRTOS/tasks.c **** /* Context switches are held pending while the scheduler is suspended.  Also,
 503:Middlewares/FreeRTOS/tasks.c ****  * interrupts must not manipulate the xStateListItem of a TCB, or any of the
 504:Middlewares/FreeRTOS/tasks.c ****  * lists the xStateListItem can be referenced from, if the scheduler is suspended.
 505:Middlewares/FreeRTOS/tasks.c ****  * If an interrupt needs to unblock a task while the scheduler is suspended then it
 506:Middlewares/FreeRTOS/tasks.c ****  * moves the task's event list item into the xPendingReadyList, ready for the
 507:Middlewares/FreeRTOS/tasks.c ****  * kernel to move the task from the pending ready list into the real ready list
 508:Middlewares/FreeRTOS/tasks.c ****  * when the scheduler is unsuspended.  The pending ready list itself can only be
 509:Middlewares/FreeRTOS/tasks.c ****  * accessed from a critical section.
 510:Middlewares/FreeRTOS/tasks.c ****  *
 511:Middlewares/FreeRTOS/tasks.c ****  * Updates to uxSchedulerSuspended must be protected by both the task lock and the ISR lock
 512:Middlewares/FreeRTOS/tasks.c ****  * and must not be done from an ISR. Reads must be protected by either lock and may be done
 513:Middlewares/FreeRTOS/tasks.c ****  * from either an ISR or a task. */
 514:Middlewares/FreeRTOS/tasks.c **** PRIVILEGED_DATA static volatile UBaseType_t uxSchedulerSuspended = ( UBaseType_t ) 0U;
 515:Middlewares/FreeRTOS/tasks.c **** 
 516:Middlewares/FreeRTOS/tasks.c **** #if ( configGENERATE_RUN_TIME_STATS == 1 )
 517:Middlewares/FreeRTOS/tasks.c **** 
 518:Middlewares/FreeRTOS/tasks.c **** /* Do not move these variables to function scope as doing so prevents the
 519:Middlewares/FreeRTOS/tasks.c ****  * code working with debuggers that need to remove the static qualifier. */
 520:Middlewares/FreeRTOS/tasks.c **** PRIVILEGED_DATA static configRUN_TIME_COUNTER_TYPE ulTaskSwitchedInTime[ configNUMBER_OF_CORES ] = 
 521:Middlewares/FreeRTOS/tasks.c **** PRIVILEGED_DATA static volatile configRUN_TIME_COUNTER_TYPE ulTotalRunTime[ configNUMBER_OF_CORES ]
 522:Middlewares/FreeRTOS/tasks.c **** 
 523:Middlewares/FreeRTOS/tasks.c **** #endif
 524:Middlewares/FreeRTOS/tasks.c **** 
 525:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
 526:Middlewares/FreeRTOS/tasks.c **** 
 527:Middlewares/FreeRTOS/tasks.c **** /* File private functions. --------------------------------*/
 528:Middlewares/FreeRTOS/tasks.c **** 
 529:Middlewares/FreeRTOS/tasks.c **** /*
 530:Middlewares/FreeRTOS/tasks.c ****  * Creates the idle tasks during scheduler start.
 531:Middlewares/FreeRTOS/tasks.c ****  */
 532:Middlewares/FreeRTOS/tasks.c **** static BaseType_t prvCreateIdleTasks( void );
 533:Middlewares/FreeRTOS/tasks.c **** 
 534:Middlewares/FreeRTOS/tasks.c **** #if ( configNUMBER_OF_CORES > 1 )
 535:Middlewares/FreeRTOS/tasks.c **** 
 536:Middlewares/FreeRTOS/tasks.c **** /*
 537:Middlewares/FreeRTOS/tasks.c ****  * Checks to see if another task moved the current task out of the ready
 538:Middlewares/FreeRTOS/tasks.c ****  * list while it was waiting to enter a critical section and yields, if so.
 539:Middlewares/FreeRTOS/tasks.c ****  */
 540:Middlewares/FreeRTOS/tasks.c ****     static void prvCheckForRunStateChange( void );
 541:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( configNUMBER_OF_CORES > 1 ) */
 542:Middlewares/FreeRTOS/tasks.c **** 
 543:Middlewares/FreeRTOS/tasks.c **** #if ( configNUMBER_OF_CORES > 1 )
 544:Middlewares/FreeRTOS/tasks.c **** 
 545:Middlewares/FreeRTOS/tasks.c **** /*
ARM GAS  /tmp/ccF71V7c.s 			page 13


 546:Middlewares/FreeRTOS/tasks.c ****  * Yields a core, or cores if multiple priorities are not allowed to run
 547:Middlewares/FreeRTOS/tasks.c ****  * simultaneously, to allow the task pxTCB to run.
 548:Middlewares/FreeRTOS/tasks.c ****  */
 549:Middlewares/FreeRTOS/tasks.c ****     static void prvYieldForTask( const TCB_t * pxTCB );
 550:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( configNUMBER_OF_CORES > 1 ) */
 551:Middlewares/FreeRTOS/tasks.c **** 
 552:Middlewares/FreeRTOS/tasks.c **** #if ( configNUMBER_OF_CORES > 1 )
 553:Middlewares/FreeRTOS/tasks.c **** 
 554:Middlewares/FreeRTOS/tasks.c **** /*
 555:Middlewares/FreeRTOS/tasks.c ****  * Selects the highest priority available task for the given core.
 556:Middlewares/FreeRTOS/tasks.c ****  */
 557:Middlewares/FreeRTOS/tasks.c ****     static void prvSelectHighestPriorityTask( BaseType_t xCoreID );
 558:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( configNUMBER_OF_CORES > 1 ) */
 559:Middlewares/FreeRTOS/tasks.c **** 
 560:Middlewares/FreeRTOS/tasks.c **** /**
 561:Middlewares/FreeRTOS/tasks.c ****  * Utility task that simply returns pdTRUE if the task referenced by xTask is
 562:Middlewares/FreeRTOS/tasks.c ****  * currently in the Suspended state, or pdFALSE if the task referenced by xTask
 563:Middlewares/FreeRTOS/tasks.c ****  * is in any other state.
 564:Middlewares/FreeRTOS/tasks.c ****  */
 565:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_vTaskSuspend == 1 )
 566:Middlewares/FreeRTOS/tasks.c **** 
 567:Middlewares/FreeRTOS/tasks.c ****     static BaseType_t prvTaskIsTaskSuspended( const TaskHandle_t xTask ) PRIVILEGED_FUNCTION;
 568:Middlewares/FreeRTOS/tasks.c **** 
 569:Middlewares/FreeRTOS/tasks.c **** #endif /* INCLUDE_vTaskSuspend */
 570:Middlewares/FreeRTOS/tasks.c **** 
 571:Middlewares/FreeRTOS/tasks.c **** /*
 572:Middlewares/FreeRTOS/tasks.c ****  * Utility to ready all the lists used by the scheduler.  This is called
 573:Middlewares/FreeRTOS/tasks.c ****  * automatically upon the creation of the first task.
 574:Middlewares/FreeRTOS/tasks.c ****  */
 575:Middlewares/FreeRTOS/tasks.c **** static void prvInitialiseTaskLists( void ) PRIVILEGED_FUNCTION;
 576:Middlewares/FreeRTOS/tasks.c **** 
 577:Middlewares/FreeRTOS/tasks.c **** /*
 578:Middlewares/FreeRTOS/tasks.c ****  * The idle task, which as all tasks is implemented as a never ending loop.
 579:Middlewares/FreeRTOS/tasks.c ****  * The idle task is automatically created and added to the ready lists upon
 580:Middlewares/FreeRTOS/tasks.c ****  * creation of the first user task.
 581:Middlewares/FreeRTOS/tasks.c ****  *
 582:Middlewares/FreeRTOS/tasks.c ****  * In the FreeRTOS SMP, configNUMBER_OF_CORES - 1 passive idle tasks are also
 583:Middlewares/FreeRTOS/tasks.c ****  * created to ensure that each core has an idle task to run when no other
 584:Middlewares/FreeRTOS/tasks.c ****  * task is available to run.
 585:Middlewares/FreeRTOS/tasks.c ****  *
 586:Middlewares/FreeRTOS/tasks.c ****  * The portTASK_FUNCTION_PROTO() macro is used to allow port/compiler specific
 587:Middlewares/FreeRTOS/tasks.c ****  * language extensions.  The equivalent prototype for these functions are:
 588:Middlewares/FreeRTOS/tasks.c ****  *
 589:Middlewares/FreeRTOS/tasks.c ****  * void prvIdleTask( void *pvParameters );
 590:Middlewares/FreeRTOS/tasks.c ****  * void prvPassiveIdleTask( void *pvParameters );
 591:Middlewares/FreeRTOS/tasks.c ****  *
 592:Middlewares/FreeRTOS/tasks.c ****  */
 593:Middlewares/FreeRTOS/tasks.c **** static portTASK_FUNCTION_PROTO( prvIdleTask, pvParameters ) PRIVILEGED_FUNCTION;
 594:Middlewares/FreeRTOS/tasks.c **** #if ( configNUMBER_OF_CORES > 1 )
 595:Middlewares/FreeRTOS/tasks.c ****     static portTASK_FUNCTION_PROTO( prvPassiveIdleTask, pvParameters ) PRIVILEGED_FUNCTION;
 596:Middlewares/FreeRTOS/tasks.c **** #endif
 597:Middlewares/FreeRTOS/tasks.c **** 
 598:Middlewares/FreeRTOS/tasks.c **** /*
 599:Middlewares/FreeRTOS/tasks.c ****  * Utility to free all memory allocated by the scheduler to hold a TCB,
 600:Middlewares/FreeRTOS/tasks.c ****  * including the stack pointed to by the TCB.
 601:Middlewares/FreeRTOS/tasks.c ****  *
 602:Middlewares/FreeRTOS/tasks.c ****  * This does not free memory allocated by the task itself (i.e. memory
ARM GAS  /tmp/ccF71V7c.s 			page 14


 603:Middlewares/FreeRTOS/tasks.c ****  * allocated by calls to pvPortMalloc from within the tasks application code).
 604:Middlewares/FreeRTOS/tasks.c ****  */
 605:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_vTaskDelete == 1 )
 606:Middlewares/FreeRTOS/tasks.c **** 
 607:Middlewares/FreeRTOS/tasks.c ****     static void prvDeleteTCB( TCB_t * pxTCB ) PRIVILEGED_FUNCTION;
 608:Middlewares/FreeRTOS/tasks.c **** 
 609:Middlewares/FreeRTOS/tasks.c **** #endif
 610:Middlewares/FreeRTOS/tasks.c **** 
 611:Middlewares/FreeRTOS/tasks.c **** /*
 612:Middlewares/FreeRTOS/tasks.c ****  * Used only by the idle task.  This checks to see if anything has been placed
 613:Middlewares/FreeRTOS/tasks.c ****  * in the list of tasks waiting to be deleted.  If so the task is cleaned up
 614:Middlewares/FreeRTOS/tasks.c ****  * and its TCB deleted.
 615:Middlewares/FreeRTOS/tasks.c ****  */
 616:Middlewares/FreeRTOS/tasks.c **** static void prvCheckTasksWaitingTermination( void ) PRIVILEGED_FUNCTION;
 617:Middlewares/FreeRTOS/tasks.c **** 
 618:Middlewares/FreeRTOS/tasks.c **** /*
 619:Middlewares/FreeRTOS/tasks.c ****  * The currently executing task is entering the Blocked state.  Add the task to
 620:Middlewares/FreeRTOS/tasks.c ****  * either the current or the overflow delayed task list.
 621:Middlewares/FreeRTOS/tasks.c ****  */
 622:Middlewares/FreeRTOS/tasks.c **** static void prvAddCurrentTaskToDelayedList( TickType_t xTicksToWait,
 623:Middlewares/FreeRTOS/tasks.c ****                                             const BaseType_t xCanBlockIndefinitely ) PRIVILEGED_FUN
 624:Middlewares/FreeRTOS/tasks.c **** 
 625:Middlewares/FreeRTOS/tasks.c **** /*
 626:Middlewares/FreeRTOS/tasks.c ****  * Fills an TaskStatus_t structure with information on each task that is
 627:Middlewares/FreeRTOS/tasks.c ****  * referenced from the pxList list (which may be a ready list, a delayed list,
 628:Middlewares/FreeRTOS/tasks.c ****  * a suspended list, etc.).
 629:Middlewares/FreeRTOS/tasks.c ****  *
 630:Middlewares/FreeRTOS/tasks.c ****  * THIS FUNCTION IS INTENDED FOR DEBUGGING ONLY, AND SHOULD NOT BE CALLED FROM
 631:Middlewares/FreeRTOS/tasks.c ****  * NORMAL APPLICATION CODE.
 632:Middlewares/FreeRTOS/tasks.c ****  */
 633:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_TRACE_FACILITY == 1 )
 634:Middlewares/FreeRTOS/tasks.c **** 
 635:Middlewares/FreeRTOS/tasks.c ****     static UBaseType_t prvListTasksWithinSingleList( TaskStatus_t * pxTaskStatusArray,
 636:Middlewares/FreeRTOS/tasks.c ****                                                      List_t * pxList,
 637:Middlewares/FreeRTOS/tasks.c ****                                                      eTaskState eState ) PRIVILEGED_FUNCTION;
 638:Middlewares/FreeRTOS/tasks.c **** 
 639:Middlewares/FreeRTOS/tasks.c **** #endif
 640:Middlewares/FreeRTOS/tasks.c **** 
 641:Middlewares/FreeRTOS/tasks.c **** /*
 642:Middlewares/FreeRTOS/tasks.c ****  * Searches pxList for a task with name pcNameToQuery - returning a handle to
 643:Middlewares/FreeRTOS/tasks.c ****  * the task if it is found, or NULL if the task is not found.
 644:Middlewares/FreeRTOS/tasks.c ****  */
 645:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_xTaskGetHandle == 1 )
 646:Middlewares/FreeRTOS/tasks.c **** 
 647:Middlewares/FreeRTOS/tasks.c ****     static TCB_t * prvSearchForNameWithinSingleList( List_t * pxList,
 648:Middlewares/FreeRTOS/tasks.c ****                                                      const char pcNameToQuery[] ) PRIVILEGED_FUNCTI
 649:Middlewares/FreeRTOS/tasks.c **** 
 650:Middlewares/FreeRTOS/tasks.c **** #endif
 651:Middlewares/FreeRTOS/tasks.c **** 
 652:Middlewares/FreeRTOS/tasks.c **** /*
 653:Middlewares/FreeRTOS/tasks.c ****  * When a task is created, the stack of the task is filled with a known value.
 654:Middlewares/FreeRTOS/tasks.c ****  * This function determines the 'high water mark' of the task stack by
 655:Middlewares/FreeRTOS/tasks.c ****  * determining how much of the stack remains at the original preset value.
 656:Middlewares/FreeRTOS/tasks.c ****  */
 657:Middlewares/FreeRTOS/tasks.c **** #if ( ( configUSE_TRACE_FACILITY == 1 ) || ( INCLUDE_uxTaskGetStackHighWaterMark == 1 ) || ( INCLUD
 658:Middlewares/FreeRTOS/tasks.c **** 
 659:Middlewares/FreeRTOS/tasks.c ****     static configSTACK_DEPTH_TYPE prvTaskCheckFreeStackSpace( const uint8_t * pucStackByte ) PRIVIL
ARM GAS  /tmp/ccF71V7c.s 			page 15


 660:Middlewares/FreeRTOS/tasks.c **** 
 661:Middlewares/FreeRTOS/tasks.c **** #endif
 662:Middlewares/FreeRTOS/tasks.c **** 
 663:Middlewares/FreeRTOS/tasks.c **** /*
 664:Middlewares/FreeRTOS/tasks.c ****  * Return the amount of time, in ticks, that will pass before the kernel will
 665:Middlewares/FreeRTOS/tasks.c ****  * next move a task from the Blocked state to the Running state.
 666:Middlewares/FreeRTOS/tasks.c ****  *
 667:Middlewares/FreeRTOS/tasks.c ****  * This conditional compilation should use inequality to 0, not equality to 1.
 668:Middlewares/FreeRTOS/tasks.c ****  * This is to ensure portSUPPRESS_TICKS_AND_SLEEP() can be called when user
 669:Middlewares/FreeRTOS/tasks.c ****  * defined low power mode implementations require configUSE_TICKLESS_IDLE to be
 670:Middlewares/FreeRTOS/tasks.c ****  * set to a value other than 1.
 671:Middlewares/FreeRTOS/tasks.c ****  */
 672:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_TICKLESS_IDLE != 0 )
 673:Middlewares/FreeRTOS/tasks.c **** 
 674:Middlewares/FreeRTOS/tasks.c ****     static TickType_t prvGetExpectedIdleTime( void ) PRIVILEGED_FUNCTION;
 675:Middlewares/FreeRTOS/tasks.c **** 
 676:Middlewares/FreeRTOS/tasks.c **** #endif
 677:Middlewares/FreeRTOS/tasks.c **** 
 678:Middlewares/FreeRTOS/tasks.c **** /*
 679:Middlewares/FreeRTOS/tasks.c ****  * Set xNextTaskUnblockTime to the time at which the next Blocked state task
 680:Middlewares/FreeRTOS/tasks.c ****  * will exit the Blocked state.
 681:Middlewares/FreeRTOS/tasks.c ****  */
 682:Middlewares/FreeRTOS/tasks.c **** static void prvResetNextTaskUnblockTime( void ) PRIVILEGED_FUNCTION;
 683:Middlewares/FreeRTOS/tasks.c **** 
 684:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_STATS_FORMATTING_FUNCTIONS > 0 )
 685:Middlewares/FreeRTOS/tasks.c **** 
 686:Middlewares/FreeRTOS/tasks.c **** /*
 687:Middlewares/FreeRTOS/tasks.c ****  * Helper function used to pad task names with spaces when printing out
 688:Middlewares/FreeRTOS/tasks.c ****  * human readable tables of task information.
 689:Middlewares/FreeRTOS/tasks.c ****  */
 690:Middlewares/FreeRTOS/tasks.c ****     static char * prvWriteNameToBuffer( char * pcBuffer,
 691:Middlewares/FreeRTOS/tasks.c ****                                         const char * pcTaskName ) PRIVILEGED_FUNCTION;
 692:Middlewares/FreeRTOS/tasks.c **** 
 693:Middlewares/FreeRTOS/tasks.c **** #endif
 694:Middlewares/FreeRTOS/tasks.c **** 
 695:Middlewares/FreeRTOS/tasks.c **** /*
 696:Middlewares/FreeRTOS/tasks.c ****  * Called after a Task_t structure has been allocated either statically or
 697:Middlewares/FreeRTOS/tasks.c ****  * dynamically to fill in the structure's members.
 698:Middlewares/FreeRTOS/tasks.c ****  */
 699:Middlewares/FreeRTOS/tasks.c **** static void prvInitialiseNewTask( TaskFunction_t pxTaskCode,
 700:Middlewares/FreeRTOS/tasks.c ****                                   const char * const pcName,
 701:Middlewares/FreeRTOS/tasks.c ****                                   const configSTACK_DEPTH_TYPE uxStackDepth,
 702:Middlewares/FreeRTOS/tasks.c ****                                   void * const pvParameters,
 703:Middlewares/FreeRTOS/tasks.c ****                                   UBaseType_t uxPriority,
 704:Middlewares/FreeRTOS/tasks.c ****                                   TaskHandle_t * const pxCreatedTask,
 705:Middlewares/FreeRTOS/tasks.c ****                                   TCB_t * pxNewTCB,
 706:Middlewares/FreeRTOS/tasks.c ****                                   const MemoryRegion_t * const xRegions ) PRIVILEGED_FUNCTION;
 707:Middlewares/FreeRTOS/tasks.c **** 
 708:Middlewares/FreeRTOS/tasks.c **** /*
 709:Middlewares/FreeRTOS/tasks.c ****  * Called after a new task has been created and initialised to place the task
 710:Middlewares/FreeRTOS/tasks.c ****  * under the control of the scheduler.
 711:Middlewares/FreeRTOS/tasks.c ****  */
 712:Middlewares/FreeRTOS/tasks.c **** static void prvAddNewTaskToReadyList( TCB_t * pxNewTCB ) PRIVILEGED_FUNCTION;
 713:Middlewares/FreeRTOS/tasks.c **** 
 714:Middlewares/FreeRTOS/tasks.c **** /*
 715:Middlewares/FreeRTOS/tasks.c ****  * Create a task with static buffer for both TCB and stack. Returns a handle to
 716:Middlewares/FreeRTOS/tasks.c ****  * the task if it is created successfully. Otherwise, returns NULL.
ARM GAS  /tmp/ccF71V7c.s 			page 16


 717:Middlewares/FreeRTOS/tasks.c ****  */
 718:Middlewares/FreeRTOS/tasks.c **** #if ( configSUPPORT_STATIC_ALLOCATION == 1 )
 719:Middlewares/FreeRTOS/tasks.c ****     static TCB_t * prvCreateStaticTask( TaskFunction_t pxTaskCode,
 720:Middlewares/FreeRTOS/tasks.c ****                                         const char * const pcName,
 721:Middlewares/FreeRTOS/tasks.c ****                                         const configSTACK_DEPTH_TYPE uxStackDepth,
 722:Middlewares/FreeRTOS/tasks.c ****                                         void * const pvParameters,
 723:Middlewares/FreeRTOS/tasks.c ****                                         UBaseType_t uxPriority,
 724:Middlewares/FreeRTOS/tasks.c ****                                         StackType_t * const puxStackBuffer,
 725:Middlewares/FreeRTOS/tasks.c ****                                         StaticTask_t * const pxTaskBuffer,
 726:Middlewares/FreeRTOS/tasks.c ****                                         TaskHandle_t * const pxCreatedTask ) PRIVILEGED_FUNCTION;
 727:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( configSUPPORT_STATIC_ALLOCATION == 1 ) */
 728:Middlewares/FreeRTOS/tasks.c **** 
 729:Middlewares/FreeRTOS/tasks.c **** /*
 730:Middlewares/FreeRTOS/tasks.c ****  * Create a restricted task with static buffer for both TCB and stack. Returns
 731:Middlewares/FreeRTOS/tasks.c ****  * a handle to the task if it is created successfully. Otherwise, returns NULL.
 732:Middlewares/FreeRTOS/tasks.c ****  */
 733:Middlewares/FreeRTOS/tasks.c **** #if ( ( portUSING_MPU_WRAPPERS == 1 ) && ( configSUPPORT_STATIC_ALLOCATION == 1 ) )
 734:Middlewares/FreeRTOS/tasks.c ****     static TCB_t * prvCreateRestrictedStaticTask( const TaskParameters_t * const pxTaskDefinition,
 735:Middlewares/FreeRTOS/tasks.c ****                                                   TaskHandle_t * const pxCreatedTask ) PRIVILEGED_F
 736:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( ( portUSING_MPU_WRAPPERS == 1 ) && ( configSUPPORT_STATIC_ALLOCATION == 1 ) ) */
 737:Middlewares/FreeRTOS/tasks.c **** 
 738:Middlewares/FreeRTOS/tasks.c **** /*
 739:Middlewares/FreeRTOS/tasks.c ****  * Create a restricted task with static buffer for task stack and allocated buffer
 740:Middlewares/FreeRTOS/tasks.c ****  * for TCB. Returns a handle to the task if it is created successfully. Otherwise,
 741:Middlewares/FreeRTOS/tasks.c ****  * returns NULL.
 742:Middlewares/FreeRTOS/tasks.c ****  */
 743:Middlewares/FreeRTOS/tasks.c **** #if ( ( portUSING_MPU_WRAPPERS == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 ) )
 744:Middlewares/FreeRTOS/tasks.c ****     static TCB_t * prvCreateRestrictedTask( const TaskParameters_t * const pxTaskDefinition,
 745:Middlewares/FreeRTOS/tasks.c ****                                             TaskHandle_t * const pxCreatedTask ) PRIVILEGED_FUNCTIO
 746:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( ( portUSING_MPU_WRAPPERS == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 ) ) */
 747:Middlewares/FreeRTOS/tasks.c **** 
 748:Middlewares/FreeRTOS/tasks.c **** /*
 749:Middlewares/FreeRTOS/tasks.c ****  * Create a task with allocated buffer for both TCB and stack. Returns a handle to
 750:Middlewares/FreeRTOS/tasks.c ****  * the task if it is created successfully. Otherwise, returns NULL.
 751:Middlewares/FreeRTOS/tasks.c ****  */
 752:Middlewares/FreeRTOS/tasks.c **** #if ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
 753:Middlewares/FreeRTOS/tasks.c ****     static TCB_t * prvCreateTask( TaskFunction_t pxTaskCode,
 754:Middlewares/FreeRTOS/tasks.c ****                                   const char * const pcName,
 755:Middlewares/FreeRTOS/tasks.c ****                                   const configSTACK_DEPTH_TYPE uxStackDepth,
 756:Middlewares/FreeRTOS/tasks.c ****                                   void * const pvParameters,
 757:Middlewares/FreeRTOS/tasks.c ****                                   UBaseType_t uxPriority,
 758:Middlewares/FreeRTOS/tasks.c ****                                   TaskHandle_t * const pxCreatedTask ) PRIVILEGED_FUNCTION;
 759:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( configSUPPORT_DYNAMIC_ALLOCATION == 1 ) */
 760:Middlewares/FreeRTOS/tasks.c **** 
 761:Middlewares/FreeRTOS/tasks.c **** /*
 762:Middlewares/FreeRTOS/tasks.c ****  * freertos_tasks_c_additions_init() should only be called if the user definable
 763:Middlewares/FreeRTOS/tasks.c ****  * macro FREERTOS_TASKS_C_ADDITIONS_INIT() is defined, as that is the only macro
 764:Middlewares/FreeRTOS/tasks.c ****  * called by the function.
 765:Middlewares/FreeRTOS/tasks.c ****  */
 766:Middlewares/FreeRTOS/tasks.c **** #ifdef FREERTOS_TASKS_C_ADDITIONS_INIT
 767:Middlewares/FreeRTOS/tasks.c **** 
 768:Middlewares/FreeRTOS/tasks.c ****     static void freertos_tasks_c_additions_init( void ) PRIVILEGED_FUNCTION;
 769:Middlewares/FreeRTOS/tasks.c **** 
 770:Middlewares/FreeRTOS/tasks.c **** #endif
 771:Middlewares/FreeRTOS/tasks.c **** 
 772:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_PASSIVE_IDLE_HOOK == 1 )
 773:Middlewares/FreeRTOS/tasks.c ****     extern void vApplicationPassiveIdleHook( void );
ARM GAS  /tmp/ccF71V7c.s 			page 17


 774:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( configUSE_PASSIVE_IDLE_HOOK == 1 ) */
 775:Middlewares/FreeRTOS/tasks.c **** 
 776:Middlewares/FreeRTOS/tasks.c **** #if ( ( configUSE_TRACE_FACILITY == 1 ) && ( configUSE_STATS_FORMATTING_FUNCTIONS > 0 ) )
 777:Middlewares/FreeRTOS/tasks.c **** 
 778:Middlewares/FreeRTOS/tasks.c **** /*
 779:Middlewares/FreeRTOS/tasks.c ****  * Convert the snprintf return value to the number of characters
 780:Middlewares/FreeRTOS/tasks.c ****  * written. The following are the possible cases:
 781:Middlewares/FreeRTOS/tasks.c ****  *
 782:Middlewares/FreeRTOS/tasks.c ****  * 1. The buffer supplied to snprintf is large enough to hold the
 783:Middlewares/FreeRTOS/tasks.c ****  *    generated string. The return value in this case is the number
 784:Middlewares/FreeRTOS/tasks.c ****  *    of characters actually written, not counting the terminating
 785:Middlewares/FreeRTOS/tasks.c ****  *    null character.
 786:Middlewares/FreeRTOS/tasks.c ****  * 2. The buffer supplied to snprintf is NOT large enough to hold
 787:Middlewares/FreeRTOS/tasks.c ****  *    the generated string. The return value in this case is the
 788:Middlewares/FreeRTOS/tasks.c ****  *    number of characters that would have been written if the
 789:Middlewares/FreeRTOS/tasks.c ****  *    buffer had been sufficiently large, not counting the
 790:Middlewares/FreeRTOS/tasks.c ****  *    terminating null character.
 791:Middlewares/FreeRTOS/tasks.c ****  * 3. Encoding error. The return value in this case is a negative
 792:Middlewares/FreeRTOS/tasks.c ****  *    number.
 793:Middlewares/FreeRTOS/tasks.c ****  *
 794:Middlewares/FreeRTOS/tasks.c ****  * From 1 and 2 above ==> Only when the return value is non-negative
 795:Middlewares/FreeRTOS/tasks.c ****  * and less than the supplied buffer length, the string has been
 796:Middlewares/FreeRTOS/tasks.c ****  * completely written.
 797:Middlewares/FreeRTOS/tasks.c ****  */
 798:Middlewares/FreeRTOS/tasks.c ****     static size_t prvSnprintfReturnValueToCharsWritten( int iSnprintfReturnValue,
 799:Middlewares/FreeRTOS/tasks.c ****                                                         size_t n );
 800:Middlewares/FreeRTOS/tasks.c **** 
 801:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( ( configUSE_TRACE_FACILITY == 1 ) && ( configUSE_STATS_FORMATTING_FUNCTIONS > 0 ) )
 802:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
 803:Middlewares/FreeRTOS/tasks.c **** 
 804:Middlewares/FreeRTOS/tasks.c **** #if ( configNUMBER_OF_CORES > 1 )
 805:Middlewares/FreeRTOS/tasks.c ****     static void prvCheckForRunStateChange( void )
 806:Middlewares/FreeRTOS/tasks.c ****     {
 807:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxPrevCriticalNesting;
 808:Middlewares/FreeRTOS/tasks.c ****         const TCB_t * pxThisTCB;
 809:Middlewares/FreeRTOS/tasks.c **** 
 810:Middlewares/FreeRTOS/tasks.c ****         /* This must only be called from within a task. */
 811:Middlewares/FreeRTOS/tasks.c ****         portASSERT_IF_IN_ISR();
 812:Middlewares/FreeRTOS/tasks.c **** 
 813:Middlewares/FreeRTOS/tasks.c ****         /* This function is always called with interrupts disabled
 814:Middlewares/FreeRTOS/tasks.c ****          * so this is safe. */
 815:Middlewares/FreeRTOS/tasks.c ****         pxThisTCB = pxCurrentTCBs[ portGET_CORE_ID() ];
 816:Middlewares/FreeRTOS/tasks.c **** 
 817:Middlewares/FreeRTOS/tasks.c ****         while( pxThisTCB->xTaskRunState == taskTASK_SCHEDULED_TO_YIELD )
 818:Middlewares/FreeRTOS/tasks.c ****         {
 819:Middlewares/FreeRTOS/tasks.c ****             /* We are only here if we just entered a critical section
 820:Middlewares/FreeRTOS/tasks.c ****             * or if we just suspended the scheduler, and another task
 821:Middlewares/FreeRTOS/tasks.c ****             * has requested that we yield.
 822:Middlewares/FreeRTOS/tasks.c ****             *
 823:Middlewares/FreeRTOS/tasks.c ****             * This is slightly complicated since we need to save and restore
 824:Middlewares/FreeRTOS/tasks.c ****             * the suspension and critical nesting counts, as well as release
 825:Middlewares/FreeRTOS/tasks.c ****             * and reacquire the correct locks. And then, do it all over again
 826:Middlewares/FreeRTOS/tasks.c ****             * if our state changed again during the reacquisition. */
 827:Middlewares/FreeRTOS/tasks.c ****             uxPrevCriticalNesting = portGET_CRITICAL_NESTING_COUNT();
 828:Middlewares/FreeRTOS/tasks.c **** 
 829:Middlewares/FreeRTOS/tasks.c ****             if( uxPrevCriticalNesting > 0U )
 830:Middlewares/FreeRTOS/tasks.c ****             {
ARM GAS  /tmp/ccF71V7c.s 			page 18


 831:Middlewares/FreeRTOS/tasks.c ****                 portSET_CRITICAL_NESTING_COUNT( 0U );
 832:Middlewares/FreeRTOS/tasks.c ****                 portRELEASE_ISR_LOCK();
 833:Middlewares/FreeRTOS/tasks.c ****             }
 834:Middlewares/FreeRTOS/tasks.c ****             else
 835:Middlewares/FreeRTOS/tasks.c ****             {
 836:Middlewares/FreeRTOS/tasks.c ****                 /* The scheduler is suspended. uxSchedulerSuspended is updated
 837:Middlewares/FreeRTOS/tasks.c ****                  * only when the task is not requested to yield. */
 838:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
 839:Middlewares/FreeRTOS/tasks.c ****             }
 840:Middlewares/FreeRTOS/tasks.c **** 
 841:Middlewares/FreeRTOS/tasks.c ****             portRELEASE_TASK_LOCK();
 842:Middlewares/FreeRTOS/tasks.c ****             portMEMORY_BARRIER();
 843:Middlewares/FreeRTOS/tasks.c ****             configASSERT( pxThisTCB->xTaskRunState == taskTASK_SCHEDULED_TO_YIELD );
 844:Middlewares/FreeRTOS/tasks.c **** 
 845:Middlewares/FreeRTOS/tasks.c ****             portENABLE_INTERRUPTS();
 846:Middlewares/FreeRTOS/tasks.c **** 
 847:Middlewares/FreeRTOS/tasks.c ****             /* Enabling interrupts should cause this core to immediately
 848:Middlewares/FreeRTOS/tasks.c ****              * service the pending interrupt and yield. If the run state is still
 849:Middlewares/FreeRTOS/tasks.c ****              * yielding here then that is a problem. */
 850:Middlewares/FreeRTOS/tasks.c ****             configASSERT( pxThisTCB->xTaskRunState != taskTASK_SCHEDULED_TO_YIELD );
 851:Middlewares/FreeRTOS/tasks.c **** 
 852:Middlewares/FreeRTOS/tasks.c ****             portDISABLE_INTERRUPTS();
 853:Middlewares/FreeRTOS/tasks.c ****             portGET_TASK_LOCK();
 854:Middlewares/FreeRTOS/tasks.c ****             portGET_ISR_LOCK();
 855:Middlewares/FreeRTOS/tasks.c **** 
 856:Middlewares/FreeRTOS/tasks.c ****             portSET_CRITICAL_NESTING_COUNT( uxPrevCriticalNesting );
 857:Middlewares/FreeRTOS/tasks.c **** 
 858:Middlewares/FreeRTOS/tasks.c ****             if( uxPrevCriticalNesting == 0U )
 859:Middlewares/FreeRTOS/tasks.c ****             {
 860:Middlewares/FreeRTOS/tasks.c ****                 portRELEASE_ISR_LOCK();
 861:Middlewares/FreeRTOS/tasks.c ****             }
 862:Middlewares/FreeRTOS/tasks.c ****         }
 863:Middlewares/FreeRTOS/tasks.c ****     }
 864:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( configNUMBER_OF_CORES > 1 ) */
 865:Middlewares/FreeRTOS/tasks.c **** 
 866:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
 867:Middlewares/FreeRTOS/tasks.c **** 
 868:Middlewares/FreeRTOS/tasks.c **** #if ( configNUMBER_OF_CORES > 1 )
 869:Middlewares/FreeRTOS/tasks.c ****     static void prvYieldForTask( const TCB_t * pxTCB )
 870:Middlewares/FreeRTOS/tasks.c ****     {
 871:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xLowestPriorityToPreempt;
 872:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xCurrentCoreTaskPriority;
 873:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xLowestPriorityCore = ( BaseType_t ) -1;
 874:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xCoreID;
 875:Middlewares/FreeRTOS/tasks.c **** 
 876:Middlewares/FreeRTOS/tasks.c ****         #if ( configRUN_MULTIPLE_PRIORITIES == 0 )
 877:Middlewares/FreeRTOS/tasks.c ****             BaseType_t xYieldCount = 0;
 878:Middlewares/FreeRTOS/tasks.c ****         #endif /* #if ( configRUN_MULTIPLE_PRIORITIES == 0 ) */
 879:Middlewares/FreeRTOS/tasks.c **** 
 880:Middlewares/FreeRTOS/tasks.c ****         /* This must be called from a critical section. */
 881:Middlewares/FreeRTOS/tasks.c ****         configASSERT( portGET_CRITICAL_NESTING_COUNT() > 0U );
 882:Middlewares/FreeRTOS/tasks.c **** 
 883:Middlewares/FreeRTOS/tasks.c ****         #if ( configRUN_MULTIPLE_PRIORITIES == 0 )
 884:Middlewares/FreeRTOS/tasks.c **** 
 885:Middlewares/FreeRTOS/tasks.c ****             /* No task should yield for this one if it is a lower priority
 886:Middlewares/FreeRTOS/tasks.c ****              * than priority level of currently ready tasks. */
 887:Middlewares/FreeRTOS/tasks.c ****             if( pxTCB->uxPriority >= uxTopReadyPriority )
ARM GAS  /tmp/ccF71V7c.s 			page 19


 888:Middlewares/FreeRTOS/tasks.c ****         #else
 889:Middlewares/FreeRTOS/tasks.c ****             /* Yield is not required for a task which is already running. */
 890:Middlewares/FreeRTOS/tasks.c ****             if( taskTASK_IS_RUNNING( pxTCB ) == pdFALSE )
 891:Middlewares/FreeRTOS/tasks.c ****         #endif
 892:Middlewares/FreeRTOS/tasks.c ****         {
 893:Middlewares/FreeRTOS/tasks.c ****             xLowestPriorityToPreempt = ( BaseType_t ) pxTCB->uxPriority;
 894:Middlewares/FreeRTOS/tasks.c **** 
 895:Middlewares/FreeRTOS/tasks.c ****             /* xLowestPriorityToPreempt will be decremented to -1 if the priority of pxTCB
 896:Middlewares/FreeRTOS/tasks.c ****              * is 0. This is ok as we will give system idle tasks a priority of -1 below. */
 897:Middlewares/FreeRTOS/tasks.c ****             --xLowestPriorityToPreempt;
 898:Middlewares/FreeRTOS/tasks.c **** 
 899:Middlewares/FreeRTOS/tasks.c ****             for( xCoreID = ( BaseType_t ) 0; xCoreID < ( BaseType_t ) configNUMBER_OF_CORES; xCoreI
 900:Middlewares/FreeRTOS/tasks.c ****             {
 901:Middlewares/FreeRTOS/tasks.c ****                 xCurrentCoreTaskPriority = ( BaseType_t ) pxCurrentTCBs[ xCoreID ]->uxPriority;
 902:Middlewares/FreeRTOS/tasks.c **** 
 903:Middlewares/FreeRTOS/tasks.c ****                 /* System idle tasks are being assigned a priority of tskIDLE_PRIORITY - 1 here. */
 904:Middlewares/FreeRTOS/tasks.c ****                 if( ( pxCurrentTCBs[ xCoreID ]->uxTaskAttributes & taskATTRIBUTE_IS_IDLE ) != 0U )
 905:Middlewares/FreeRTOS/tasks.c ****                 {
 906:Middlewares/FreeRTOS/tasks.c ****                     xCurrentCoreTaskPriority = ( BaseType_t ) ( xCurrentCoreTaskPriority - 1 );
 907:Middlewares/FreeRTOS/tasks.c ****                 }
 908:Middlewares/FreeRTOS/tasks.c **** 
 909:Middlewares/FreeRTOS/tasks.c ****                 if( ( taskTASK_IS_RUNNING( pxCurrentTCBs[ xCoreID ] ) != pdFALSE ) && ( xYieldPendi
 910:Middlewares/FreeRTOS/tasks.c ****                 {
 911:Middlewares/FreeRTOS/tasks.c ****                     #if ( configRUN_MULTIPLE_PRIORITIES == 0 )
 912:Middlewares/FreeRTOS/tasks.c ****                         if( taskTASK_IS_RUNNING( pxTCB ) == pdFALSE )
 913:Middlewares/FreeRTOS/tasks.c ****                     #endif
 914:Middlewares/FreeRTOS/tasks.c ****                     {
 915:Middlewares/FreeRTOS/tasks.c ****                         if( xCurrentCoreTaskPriority <= xLowestPriorityToPreempt )
 916:Middlewares/FreeRTOS/tasks.c ****                         {
 917:Middlewares/FreeRTOS/tasks.c ****                             #if ( configUSE_CORE_AFFINITY == 1 )
 918:Middlewares/FreeRTOS/tasks.c ****                                 if( ( pxTCB->uxCoreAffinityMask & ( ( UBaseType_t ) 1U << ( UBaseTy
 919:Middlewares/FreeRTOS/tasks.c ****                             #endif
 920:Middlewares/FreeRTOS/tasks.c ****                             {
 921:Middlewares/FreeRTOS/tasks.c ****                                 #if ( configUSE_TASK_PREEMPTION_DISABLE == 1 )
 922:Middlewares/FreeRTOS/tasks.c ****                                     if( pxCurrentTCBs[ xCoreID ]->xPreemptionDisable == pdFALSE )
 923:Middlewares/FreeRTOS/tasks.c ****                                 #endif
 924:Middlewares/FreeRTOS/tasks.c ****                                 {
 925:Middlewares/FreeRTOS/tasks.c ****                                     xLowestPriorityToPreempt = xCurrentCoreTaskPriority;
 926:Middlewares/FreeRTOS/tasks.c ****                                     xLowestPriorityCore = xCoreID;
 927:Middlewares/FreeRTOS/tasks.c ****                                 }
 928:Middlewares/FreeRTOS/tasks.c ****                             }
 929:Middlewares/FreeRTOS/tasks.c ****                         }
 930:Middlewares/FreeRTOS/tasks.c ****                         else
 931:Middlewares/FreeRTOS/tasks.c ****                         {
 932:Middlewares/FreeRTOS/tasks.c ****                             mtCOVERAGE_TEST_MARKER();
 933:Middlewares/FreeRTOS/tasks.c ****                         }
 934:Middlewares/FreeRTOS/tasks.c ****                     }
 935:Middlewares/FreeRTOS/tasks.c **** 
 936:Middlewares/FreeRTOS/tasks.c ****                     #if ( configRUN_MULTIPLE_PRIORITIES == 0 )
 937:Middlewares/FreeRTOS/tasks.c ****                     {
 938:Middlewares/FreeRTOS/tasks.c ****                         /* Yield all currently running non-idle tasks with a priority lower than
 939:Middlewares/FreeRTOS/tasks.c ****                          * the task that needs to run. */
 940:Middlewares/FreeRTOS/tasks.c ****                         if( ( xCurrentCoreTaskPriority > ( ( BaseType_t ) tskIDLE_PRIORITY - 1 ) ) 
 941:Middlewares/FreeRTOS/tasks.c ****                             ( xCurrentCoreTaskPriority < ( BaseType_t ) pxTCB->uxPriority ) )
 942:Middlewares/FreeRTOS/tasks.c ****                         {
 943:Middlewares/FreeRTOS/tasks.c ****                             prvYieldCore( xCoreID );
 944:Middlewares/FreeRTOS/tasks.c ****                             xYieldCount++;
ARM GAS  /tmp/ccF71V7c.s 			page 20


 945:Middlewares/FreeRTOS/tasks.c ****                         }
 946:Middlewares/FreeRTOS/tasks.c ****                         else
 947:Middlewares/FreeRTOS/tasks.c ****                         {
 948:Middlewares/FreeRTOS/tasks.c ****                             mtCOVERAGE_TEST_MARKER();
 949:Middlewares/FreeRTOS/tasks.c ****                         }
 950:Middlewares/FreeRTOS/tasks.c ****                     }
 951:Middlewares/FreeRTOS/tasks.c ****                     #endif /* #if ( configRUN_MULTIPLE_PRIORITIES == 0 ) */
 952:Middlewares/FreeRTOS/tasks.c ****                 }
 953:Middlewares/FreeRTOS/tasks.c ****                 else
 954:Middlewares/FreeRTOS/tasks.c ****                 {
 955:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
 956:Middlewares/FreeRTOS/tasks.c ****                 }
 957:Middlewares/FreeRTOS/tasks.c ****             }
 958:Middlewares/FreeRTOS/tasks.c **** 
 959:Middlewares/FreeRTOS/tasks.c ****             #if ( configRUN_MULTIPLE_PRIORITIES == 0 )
 960:Middlewares/FreeRTOS/tasks.c ****                 if( ( xYieldCount == 0 ) && ( xLowestPriorityCore >= 0 ) )
 961:Middlewares/FreeRTOS/tasks.c ****             #else /* #if ( configRUN_MULTIPLE_PRIORITIES == 0 ) */
 962:Middlewares/FreeRTOS/tasks.c ****                 if( xLowestPriorityCore >= 0 )
 963:Middlewares/FreeRTOS/tasks.c ****             #endif /* #if ( configRUN_MULTIPLE_PRIORITIES == 0 ) */
 964:Middlewares/FreeRTOS/tasks.c ****             {
 965:Middlewares/FreeRTOS/tasks.c ****                 prvYieldCore( xLowestPriorityCore );
 966:Middlewares/FreeRTOS/tasks.c ****             }
 967:Middlewares/FreeRTOS/tasks.c **** 
 968:Middlewares/FreeRTOS/tasks.c ****             #if ( configRUN_MULTIPLE_PRIORITIES == 0 )
 969:Middlewares/FreeRTOS/tasks.c ****                 /* Verify that the calling core always yields to higher priority tasks. */
 970:Middlewares/FreeRTOS/tasks.c ****                 if( ( ( pxCurrentTCBs[ portGET_CORE_ID() ]->uxTaskAttributes & taskATTRIBUTE_IS_IDL
 971:Middlewares/FreeRTOS/tasks.c ****                     ( pxTCB->uxPriority > pxCurrentTCBs[ portGET_CORE_ID() ]->uxPriority ) )
 972:Middlewares/FreeRTOS/tasks.c ****                 {
 973:Middlewares/FreeRTOS/tasks.c ****                     configASSERT( ( xYieldPendings[ portGET_CORE_ID() ] == pdTRUE ) ||
 974:Middlewares/FreeRTOS/tasks.c ****                                   ( taskTASK_IS_RUNNING( pxCurrentTCBs[ portGET_CORE_ID() ] ) == pd
 975:Middlewares/FreeRTOS/tasks.c ****                 }
 976:Middlewares/FreeRTOS/tasks.c ****             #endif
 977:Middlewares/FreeRTOS/tasks.c ****         }
 978:Middlewares/FreeRTOS/tasks.c ****     }
 979:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( configNUMBER_OF_CORES > 1 ) */
 980:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
 981:Middlewares/FreeRTOS/tasks.c **** 
 982:Middlewares/FreeRTOS/tasks.c **** #if ( configNUMBER_OF_CORES > 1 )
 983:Middlewares/FreeRTOS/tasks.c ****     static void prvSelectHighestPriorityTask( BaseType_t xCoreID )
 984:Middlewares/FreeRTOS/tasks.c ****     {
 985:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxCurrentPriority = uxTopReadyPriority;
 986:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xTaskScheduled = pdFALSE;
 987:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xDecrementTopPriority = pdTRUE;
 988:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB = NULL;
 989:Middlewares/FreeRTOS/tasks.c **** 
 990:Middlewares/FreeRTOS/tasks.c ****         #if ( configUSE_CORE_AFFINITY == 1 )
 991:Middlewares/FreeRTOS/tasks.c ****             const TCB_t * pxPreviousTCB = NULL;
 992:Middlewares/FreeRTOS/tasks.c ****         #endif
 993:Middlewares/FreeRTOS/tasks.c ****         #if ( configRUN_MULTIPLE_PRIORITIES == 0 )
 994:Middlewares/FreeRTOS/tasks.c ****             BaseType_t xPriorityDropped = pdFALSE;
 995:Middlewares/FreeRTOS/tasks.c ****         #endif
 996:Middlewares/FreeRTOS/tasks.c **** 
 997:Middlewares/FreeRTOS/tasks.c ****         /* This function should be called when scheduler is running. */
 998:Middlewares/FreeRTOS/tasks.c ****         configASSERT( xSchedulerRunning == pdTRUE );
 999:Middlewares/FreeRTOS/tasks.c **** 
1000:Middlewares/FreeRTOS/tasks.c ****         /* A new task is created and a running task with the same priority yields
1001:Middlewares/FreeRTOS/tasks.c ****          * itself to run the new task. When a running task yields itself, it is still
ARM GAS  /tmp/ccF71V7c.s 			page 21


1002:Middlewares/FreeRTOS/tasks.c ****          * in the ready list. This running task will be selected before the new task
1003:Middlewares/FreeRTOS/tasks.c ****          * since the new task is always added to the end of the ready list.
1004:Middlewares/FreeRTOS/tasks.c ****          * The other problem is that the running task still in the same position of
1005:Middlewares/FreeRTOS/tasks.c ****          * the ready list when it yields itself. It is possible that it will be selected
1006:Middlewares/FreeRTOS/tasks.c ****          * earlier then other tasks which waits longer than this task.
1007:Middlewares/FreeRTOS/tasks.c ****          *
1008:Middlewares/FreeRTOS/tasks.c ****          * To fix these problems, the running task should be put to the end of the
1009:Middlewares/FreeRTOS/tasks.c ****          * ready list before searching for the ready task in the ready list. */
1010:Middlewares/FreeRTOS/tasks.c ****         if( listIS_CONTAINED_WITHIN( &( pxReadyTasksLists[ pxCurrentTCBs[ xCoreID ]->uxPriority ] )
1011:Middlewares/FreeRTOS/tasks.c ****                                      &pxCurrentTCBs[ xCoreID ]->xStateListItem ) == pdTRUE )
1012:Middlewares/FreeRTOS/tasks.c ****         {
1013:Middlewares/FreeRTOS/tasks.c ****             ( void ) uxListRemove( &pxCurrentTCBs[ xCoreID ]->xStateListItem );
1014:Middlewares/FreeRTOS/tasks.c ****             vListInsertEnd( &( pxReadyTasksLists[ pxCurrentTCBs[ xCoreID ]->uxPriority ] ),
1015:Middlewares/FreeRTOS/tasks.c ****                             &pxCurrentTCBs[ xCoreID ]->xStateListItem );
1016:Middlewares/FreeRTOS/tasks.c ****         }
1017:Middlewares/FreeRTOS/tasks.c **** 
1018:Middlewares/FreeRTOS/tasks.c ****         while( xTaskScheduled == pdFALSE )
1019:Middlewares/FreeRTOS/tasks.c ****         {
1020:Middlewares/FreeRTOS/tasks.c ****             #if ( configRUN_MULTIPLE_PRIORITIES == 0 )
1021:Middlewares/FreeRTOS/tasks.c ****             {
1022:Middlewares/FreeRTOS/tasks.c ****                 if( uxCurrentPriority < uxTopReadyPriority )
1023:Middlewares/FreeRTOS/tasks.c ****                 {
1024:Middlewares/FreeRTOS/tasks.c ****                     /* We can't schedule any tasks, other than idle, that have a
1025:Middlewares/FreeRTOS/tasks.c ****                      * priority lower than the priority of a task currently running
1026:Middlewares/FreeRTOS/tasks.c ****                      * on another core. */
1027:Middlewares/FreeRTOS/tasks.c ****                     uxCurrentPriority = tskIDLE_PRIORITY;
1028:Middlewares/FreeRTOS/tasks.c ****                 }
1029:Middlewares/FreeRTOS/tasks.c ****             }
1030:Middlewares/FreeRTOS/tasks.c ****             #endif
1031:Middlewares/FreeRTOS/tasks.c **** 
1032:Middlewares/FreeRTOS/tasks.c ****             if( listLIST_IS_EMPTY( &( pxReadyTasksLists[ uxCurrentPriority ] ) ) == pdFALSE )
1033:Middlewares/FreeRTOS/tasks.c ****             {
1034:Middlewares/FreeRTOS/tasks.c ****                 const List_t * const pxReadyList = &( pxReadyTasksLists[ uxCurrentPriority ] );
1035:Middlewares/FreeRTOS/tasks.c ****                 const ListItem_t * pxEndMarker = listGET_END_MARKER( pxReadyList );
1036:Middlewares/FreeRTOS/tasks.c ****                 ListItem_t * pxIterator;
1037:Middlewares/FreeRTOS/tasks.c **** 
1038:Middlewares/FreeRTOS/tasks.c ****                 /* The ready task list for uxCurrentPriority is not empty, so uxTopReadyPriority
1039:Middlewares/FreeRTOS/tasks.c ****                  * must not be decremented any further. */
1040:Middlewares/FreeRTOS/tasks.c ****                 xDecrementTopPriority = pdFALSE;
1041:Middlewares/FreeRTOS/tasks.c **** 
1042:Middlewares/FreeRTOS/tasks.c ****                 for( pxIterator = listGET_HEAD_ENTRY( pxReadyList ); pxIterator != pxEndMarker; pxI
1043:Middlewares/FreeRTOS/tasks.c ****                 {
1044:Middlewares/FreeRTOS/tasks.c ****                     /* MISRA Ref 11.5.3 [Void pointer assignment] */
1045:Middlewares/FreeRTOS/tasks.c ****                     /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA
1046:Middlewares/FreeRTOS/tasks.c ****                     /* coverity[misra_c_2012_rule_11_5_violation] */
1047:Middlewares/FreeRTOS/tasks.c ****                     pxTCB = ( TCB_t * ) listGET_LIST_ITEM_OWNER( pxIterator );
1048:Middlewares/FreeRTOS/tasks.c **** 
1049:Middlewares/FreeRTOS/tasks.c ****                     #if ( configRUN_MULTIPLE_PRIORITIES == 0 )
1050:Middlewares/FreeRTOS/tasks.c ****                     {
1051:Middlewares/FreeRTOS/tasks.c ****                         /* When falling back to the idle priority because only one priority
1052:Middlewares/FreeRTOS/tasks.c ****                          * level is allowed to run at a time, we should ONLY schedule the true
1053:Middlewares/FreeRTOS/tasks.c ****                          * idle tasks, not user tasks at the idle priority. */
1054:Middlewares/FreeRTOS/tasks.c ****                         if( uxCurrentPriority < uxTopReadyPriority )
1055:Middlewares/FreeRTOS/tasks.c ****                         {
1056:Middlewares/FreeRTOS/tasks.c ****                             if( ( pxTCB->uxTaskAttributes & taskATTRIBUTE_IS_IDLE ) == 0U )
1057:Middlewares/FreeRTOS/tasks.c ****                             {
1058:Middlewares/FreeRTOS/tasks.c ****                                 continue;
ARM GAS  /tmp/ccF71V7c.s 			page 22


1059:Middlewares/FreeRTOS/tasks.c ****                             }
1060:Middlewares/FreeRTOS/tasks.c ****                         }
1061:Middlewares/FreeRTOS/tasks.c ****                     }
1062:Middlewares/FreeRTOS/tasks.c ****                     #endif /* #if ( configRUN_MULTIPLE_PRIORITIES == 0 ) */
1063:Middlewares/FreeRTOS/tasks.c **** 
1064:Middlewares/FreeRTOS/tasks.c ****                     if( pxTCB->xTaskRunState == taskTASK_NOT_RUNNING )
1065:Middlewares/FreeRTOS/tasks.c ****                     {
1066:Middlewares/FreeRTOS/tasks.c ****                         #if ( configUSE_CORE_AFFINITY == 1 )
1067:Middlewares/FreeRTOS/tasks.c ****                             if( ( pxTCB->uxCoreAffinityMask & ( ( UBaseType_t ) 1U << ( UBaseType_t
1068:Middlewares/FreeRTOS/tasks.c ****                         #endif
1069:Middlewares/FreeRTOS/tasks.c ****                         {
1070:Middlewares/FreeRTOS/tasks.c ****                             /* If the task is not being executed by any core swap it in. */
1071:Middlewares/FreeRTOS/tasks.c ****                             pxCurrentTCBs[ xCoreID ]->xTaskRunState = taskTASK_NOT_RUNNING;
1072:Middlewares/FreeRTOS/tasks.c ****                             #if ( configUSE_CORE_AFFINITY == 1 )
1073:Middlewares/FreeRTOS/tasks.c ****                                 pxPreviousTCB = pxCurrentTCBs[ xCoreID ];
1074:Middlewares/FreeRTOS/tasks.c ****                             #endif
1075:Middlewares/FreeRTOS/tasks.c ****                             pxTCB->xTaskRunState = xCoreID;
1076:Middlewares/FreeRTOS/tasks.c ****                             pxCurrentTCBs[ xCoreID ] = pxTCB;
1077:Middlewares/FreeRTOS/tasks.c ****                             xTaskScheduled = pdTRUE;
1078:Middlewares/FreeRTOS/tasks.c ****                         }
1079:Middlewares/FreeRTOS/tasks.c ****                     }
1080:Middlewares/FreeRTOS/tasks.c ****                     else if( pxTCB == pxCurrentTCBs[ xCoreID ] )
1081:Middlewares/FreeRTOS/tasks.c ****                     {
1082:Middlewares/FreeRTOS/tasks.c ****                         configASSERT( ( pxTCB->xTaskRunState == xCoreID ) || ( pxTCB->xTaskRunState
1083:Middlewares/FreeRTOS/tasks.c **** 
1084:Middlewares/FreeRTOS/tasks.c ****                         #if ( configUSE_CORE_AFFINITY == 1 )
1085:Middlewares/FreeRTOS/tasks.c ****                             if( ( pxTCB->uxCoreAffinityMask & ( ( UBaseType_t ) 1U << ( UBaseType_t
1086:Middlewares/FreeRTOS/tasks.c ****                         #endif
1087:Middlewares/FreeRTOS/tasks.c ****                         {
1088:Middlewares/FreeRTOS/tasks.c ****                             /* The task is already running on this core, mark it as scheduled. */
1089:Middlewares/FreeRTOS/tasks.c ****                             pxTCB->xTaskRunState = xCoreID;
1090:Middlewares/FreeRTOS/tasks.c ****                             xTaskScheduled = pdTRUE;
1091:Middlewares/FreeRTOS/tasks.c ****                         }
1092:Middlewares/FreeRTOS/tasks.c ****                     }
1093:Middlewares/FreeRTOS/tasks.c ****                     else
1094:Middlewares/FreeRTOS/tasks.c ****                     {
1095:Middlewares/FreeRTOS/tasks.c ****                         /* This task is running on the core other than xCoreID. */
1096:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
1097:Middlewares/FreeRTOS/tasks.c ****                     }
1098:Middlewares/FreeRTOS/tasks.c **** 
1099:Middlewares/FreeRTOS/tasks.c ****                     if( xTaskScheduled != pdFALSE )
1100:Middlewares/FreeRTOS/tasks.c ****                     {
1101:Middlewares/FreeRTOS/tasks.c ****                         /* A task has been selected to run on this core. */
1102:Middlewares/FreeRTOS/tasks.c ****                         break;
1103:Middlewares/FreeRTOS/tasks.c ****                     }
1104:Middlewares/FreeRTOS/tasks.c ****                 }
1105:Middlewares/FreeRTOS/tasks.c ****             }
1106:Middlewares/FreeRTOS/tasks.c ****             else
1107:Middlewares/FreeRTOS/tasks.c ****             {
1108:Middlewares/FreeRTOS/tasks.c ****                 if( xDecrementTopPriority != pdFALSE )
1109:Middlewares/FreeRTOS/tasks.c ****                 {
1110:Middlewares/FreeRTOS/tasks.c ****                     uxTopReadyPriority--;
1111:Middlewares/FreeRTOS/tasks.c ****                     #if ( configRUN_MULTIPLE_PRIORITIES == 0 )
1112:Middlewares/FreeRTOS/tasks.c ****                     {
1113:Middlewares/FreeRTOS/tasks.c ****                         xPriorityDropped = pdTRUE;
1114:Middlewares/FreeRTOS/tasks.c ****                     }
1115:Middlewares/FreeRTOS/tasks.c ****                     #endif
ARM GAS  /tmp/ccF71V7c.s 			page 23


1116:Middlewares/FreeRTOS/tasks.c ****                 }
1117:Middlewares/FreeRTOS/tasks.c ****             }
1118:Middlewares/FreeRTOS/tasks.c **** 
1119:Middlewares/FreeRTOS/tasks.c ****             /* There are configNUMBER_OF_CORES Idle tasks created when scheduler started.
1120:Middlewares/FreeRTOS/tasks.c ****              * The scheduler should be able to select a task to run when uxCurrentPriority
1121:Middlewares/FreeRTOS/tasks.c ****              * is tskIDLE_PRIORITY. uxCurrentPriority is never decreased to value blow
1122:Middlewares/FreeRTOS/tasks.c ****              * tskIDLE_PRIORITY. */
1123:Middlewares/FreeRTOS/tasks.c ****             if( uxCurrentPriority > tskIDLE_PRIORITY )
1124:Middlewares/FreeRTOS/tasks.c ****             {
1125:Middlewares/FreeRTOS/tasks.c ****                 uxCurrentPriority--;
1126:Middlewares/FreeRTOS/tasks.c ****             }
1127:Middlewares/FreeRTOS/tasks.c ****             else
1128:Middlewares/FreeRTOS/tasks.c ****             {
1129:Middlewares/FreeRTOS/tasks.c ****                 /* This function is called when idle task is not created. Break the
1130:Middlewares/FreeRTOS/tasks.c ****                  * loop to prevent uxCurrentPriority overrun. */
1131:Middlewares/FreeRTOS/tasks.c ****                 break;
1132:Middlewares/FreeRTOS/tasks.c ****             }
1133:Middlewares/FreeRTOS/tasks.c ****         }
1134:Middlewares/FreeRTOS/tasks.c **** 
1135:Middlewares/FreeRTOS/tasks.c ****         #if ( configRUN_MULTIPLE_PRIORITIES == 0 )
1136:Middlewares/FreeRTOS/tasks.c ****         {
1137:Middlewares/FreeRTOS/tasks.c ****             if( xTaskScheduled == pdTRUE )
1138:Middlewares/FreeRTOS/tasks.c ****             {
1139:Middlewares/FreeRTOS/tasks.c ****                 if( xPriorityDropped != pdFALSE )
1140:Middlewares/FreeRTOS/tasks.c ****                 {
1141:Middlewares/FreeRTOS/tasks.c ****                     /* There may be several ready tasks that were being prevented from running beca
1142:Middlewares/FreeRTOS/tasks.c ****                      * a higher priority task running. Now that the last of the higher priority tas
1143:Middlewares/FreeRTOS/tasks.c ****                      * running, make sure all the other idle tasks yield. */
1144:Middlewares/FreeRTOS/tasks.c ****                     BaseType_t x;
1145:Middlewares/FreeRTOS/tasks.c **** 
1146:Middlewares/FreeRTOS/tasks.c ****                     for( x = ( BaseType_t ) 0; x < ( BaseType_t ) configNUMBER_OF_CORES; x++ )
1147:Middlewares/FreeRTOS/tasks.c ****                     {
1148:Middlewares/FreeRTOS/tasks.c ****                         if( ( pxCurrentTCBs[ x ]->uxTaskAttributes & taskATTRIBUTE_IS_IDLE ) != 0U 
1149:Middlewares/FreeRTOS/tasks.c ****                         {
1150:Middlewares/FreeRTOS/tasks.c ****                             prvYieldCore( x );
1151:Middlewares/FreeRTOS/tasks.c ****                         }
1152:Middlewares/FreeRTOS/tasks.c ****                     }
1153:Middlewares/FreeRTOS/tasks.c ****                 }
1154:Middlewares/FreeRTOS/tasks.c ****             }
1155:Middlewares/FreeRTOS/tasks.c ****         }
1156:Middlewares/FreeRTOS/tasks.c ****         #endif /* #if ( configRUN_MULTIPLE_PRIORITIES == 0 ) */
1157:Middlewares/FreeRTOS/tasks.c **** 
1158:Middlewares/FreeRTOS/tasks.c ****         #if ( configUSE_CORE_AFFINITY == 1 )
1159:Middlewares/FreeRTOS/tasks.c ****         {
1160:Middlewares/FreeRTOS/tasks.c ****             if( xTaskScheduled == pdTRUE )
1161:Middlewares/FreeRTOS/tasks.c ****             {
1162:Middlewares/FreeRTOS/tasks.c ****                 if( ( pxPreviousTCB != NULL ) && ( listIS_CONTAINED_WITHIN( &( pxReadyTasksLists[ p
1163:Middlewares/FreeRTOS/tasks.c ****                 {
1164:Middlewares/FreeRTOS/tasks.c ****                     /* A ready task was just evicted from this core. See if it can be
1165:Middlewares/FreeRTOS/tasks.c ****                      * scheduled on any other core. */
1166:Middlewares/FreeRTOS/tasks.c ****                     UBaseType_t uxCoreMap = pxPreviousTCB->uxCoreAffinityMask;
1167:Middlewares/FreeRTOS/tasks.c ****                     BaseType_t xLowestPriority = ( BaseType_t ) pxPreviousTCB->uxPriority;
1168:Middlewares/FreeRTOS/tasks.c ****                     BaseType_t xLowestPriorityCore = -1;
1169:Middlewares/FreeRTOS/tasks.c ****                     BaseType_t x;
1170:Middlewares/FreeRTOS/tasks.c **** 
1171:Middlewares/FreeRTOS/tasks.c ****                     if( ( pxPreviousTCB->uxTaskAttributes & taskATTRIBUTE_IS_IDLE ) != 0U )
1172:Middlewares/FreeRTOS/tasks.c ****                     {
ARM GAS  /tmp/ccF71V7c.s 			page 24


1173:Middlewares/FreeRTOS/tasks.c ****                         xLowestPriority = xLowestPriority - 1;
1174:Middlewares/FreeRTOS/tasks.c ****                     }
1175:Middlewares/FreeRTOS/tasks.c **** 
1176:Middlewares/FreeRTOS/tasks.c ****                     if( ( uxCoreMap & ( ( UBaseType_t ) 1U << ( UBaseType_t ) xCoreID ) ) != 0U )
1177:Middlewares/FreeRTOS/tasks.c ****                     {
1178:Middlewares/FreeRTOS/tasks.c ****                         /* pxPreviousTCB was removed from this core and this core is not excluded
1179:Middlewares/FreeRTOS/tasks.c ****                          * from it's core affinity mask.
1180:Middlewares/FreeRTOS/tasks.c ****                          *
1181:Middlewares/FreeRTOS/tasks.c ****                          * pxPreviousTCB is preempted by the new higher priority task
1182:Middlewares/FreeRTOS/tasks.c ****                          * pxCurrentTCBs[ xCoreID ]. When searching a new core for pxPreviousTCB,
1183:Middlewares/FreeRTOS/tasks.c ****                          * we do not need to look at the cores on which pxCurrentTCBs[ xCoreID ]
1184:Middlewares/FreeRTOS/tasks.c ****                          * is allowed to run. The reason is - when more than one cores are
1185:Middlewares/FreeRTOS/tasks.c ****                          * eligible for an incoming task, we preempt the core with the minimum
1186:Middlewares/FreeRTOS/tasks.c ****                          * priority task. Because this core (i.e. xCoreID) was preempted for
1187:Middlewares/FreeRTOS/tasks.c ****                          * pxCurrentTCBs[ xCoreID ], this means that all the others cores
1188:Middlewares/FreeRTOS/tasks.c ****                          * where pxCurrentTCBs[ xCoreID ] can run, are running tasks with priority
1189:Middlewares/FreeRTOS/tasks.c ****                          * no lower than pxPreviousTCB's priority. Therefore, the only cores where
1190:Middlewares/FreeRTOS/tasks.c ****                          * which can be preempted for pxPreviousTCB are the ones where
1191:Middlewares/FreeRTOS/tasks.c ****                          * pxCurrentTCBs[ xCoreID ] is not allowed to run (and obviously,
1192:Middlewares/FreeRTOS/tasks.c ****                          * pxPreviousTCB is allowed to run).
1193:Middlewares/FreeRTOS/tasks.c ****                          *
1194:Middlewares/FreeRTOS/tasks.c ****                          * This is an optimization which reduces the number of cores needed to be
1195:Middlewares/FreeRTOS/tasks.c ****                          * searched for pxPreviousTCB to run. */
1196:Middlewares/FreeRTOS/tasks.c ****                         uxCoreMap &= ~( pxCurrentTCBs[ xCoreID ]->uxCoreAffinityMask );
1197:Middlewares/FreeRTOS/tasks.c ****                     }
1198:Middlewares/FreeRTOS/tasks.c ****                     else
1199:Middlewares/FreeRTOS/tasks.c ****                     {
1200:Middlewares/FreeRTOS/tasks.c ****                         /* pxPreviousTCB's core affinity mask is changed and it is no longer
1201:Middlewares/FreeRTOS/tasks.c ****                          * allowed to run on this core. Searching all the cores in pxPreviousTCB's
1202:Middlewares/FreeRTOS/tasks.c ****                          * new core affinity mask to find a core on which it can run. */
1203:Middlewares/FreeRTOS/tasks.c ****                     }
1204:Middlewares/FreeRTOS/tasks.c **** 
1205:Middlewares/FreeRTOS/tasks.c ****                     uxCoreMap &= ( ( 1U << configNUMBER_OF_CORES ) - 1U );
1206:Middlewares/FreeRTOS/tasks.c **** 
1207:Middlewares/FreeRTOS/tasks.c ****                     for( x = ( ( BaseType_t ) configNUMBER_OF_CORES - 1 ); x >= ( BaseType_t ) 0; x
1208:Middlewares/FreeRTOS/tasks.c ****                     {
1209:Middlewares/FreeRTOS/tasks.c ****                         UBaseType_t uxCore = ( UBaseType_t ) x;
1210:Middlewares/FreeRTOS/tasks.c ****                         BaseType_t xTaskPriority;
1211:Middlewares/FreeRTOS/tasks.c **** 
1212:Middlewares/FreeRTOS/tasks.c ****                         if( ( uxCoreMap & ( ( UBaseType_t ) 1U << uxCore ) ) != 0U )
1213:Middlewares/FreeRTOS/tasks.c ****                         {
1214:Middlewares/FreeRTOS/tasks.c ****                             xTaskPriority = ( BaseType_t ) pxCurrentTCBs[ uxCore ]->uxPriority;
1215:Middlewares/FreeRTOS/tasks.c **** 
1216:Middlewares/FreeRTOS/tasks.c ****                             if( ( pxCurrentTCBs[ uxCore ]->uxTaskAttributes & taskATTRIBUTE_IS_IDLE
1217:Middlewares/FreeRTOS/tasks.c ****                             {
1218:Middlewares/FreeRTOS/tasks.c ****                                 xTaskPriority = xTaskPriority - ( BaseType_t ) 1;
1219:Middlewares/FreeRTOS/tasks.c ****                             }
1220:Middlewares/FreeRTOS/tasks.c **** 
1221:Middlewares/FreeRTOS/tasks.c ****                             uxCoreMap &= ~( ( UBaseType_t ) 1U << uxCore );
1222:Middlewares/FreeRTOS/tasks.c **** 
1223:Middlewares/FreeRTOS/tasks.c ****                             if( ( xTaskPriority < xLowestPriority ) &&
1224:Middlewares/FreeRTOS/tasks.c ****                                 ( taskTASK_IS_RUNNING( pxCurrentTCBs[ uxCore ] ) != pdFALSE ) &&
1225:Middlewares/FreeRTOS/tasks.c ****                                 ( xYieldPendings[ uxCore ] == pdFALSE ) )
1226:Middlewares/FreeRTOS/tasks.c ****                             {
1227:Middlewares/FreeRTOS/tasks.c ****                                 #if ( configUSE_TASK_PREEMPTION_DISABLE == 1 )
1228:Middlewares/FreeRTOS/tasks.c ****                                     if( pxCurrentTCBs[ uxCore ]->xPreemptionDisable == pdFALSE )
1229:Middlewares/FreeRTOS/tasks.c ****                                 #endif
ARM GAS  /tmp/ccF71V7c.s 			page 25


1230:Middlewares/FreeRTOS/tasks.c ****                                 {
1231:Middlewares/FreeRTOS/tasks.c ****                                     xLowestPriority = xTaskPriority;
1232:Middlewares/FreeRTOS/tasks.c ****                                     xLowestPriorityCore = ( BaseType_t ) uxCore;
1233:Middlewares/FreeRTOS/tasks.c ****                                 }
1234:Middlewares/FreeRTOS/tasks.c ****                             }
1235:Middlewares/FreeRTOS/tasks.c ****                         }
1236:Middlewares/FreeRTOS/tasks.c ****                     }
1237:Middlewares/FreeRTOS/tasks.c **** 
1238:Middlewares/FreeRTOS/tasks.c ****                     if( xLowestPriorityCore >= 0 )
1239:Middlewares/FreeRTOS/tasks.c ****                     {
1240:Middlewares/FreeRTOS/tasks.c ****                         prvYieldCore( xLowestPriorityCore );
1241:Middlewares/FreeRTOS/tasks.c ****                     }
1242:Middlewares/FreeRTOS/tasks.c ****                 }
1243:Middlewares/FreeRTOS/tasks.c ****             }
1244:Middlewares/FreeRTOS/tasks.c ****         }
1245:Middlewares/FreeRTOS/tasks.c ****         #endif /* #if ( configUSE_CORE_AFFINITY == 1 ) */
1246:Middlewares/FreeRTOS/tasks.c ****     }
1247:Middlewares/FreeRTOS/tasks.c **** 
1248:Middlewares/FreeRTOS/tasks.c **** #endif /* ( configNUMBER_OF_CORES > 1 ) */
1249:Middlewares/FreeRTOS/tasks.c **** 
1250:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
1251:Middlewares/FreeRTOS/tasks.c **** 
1252:Middlewares/FreeRTOS/tasks.c **** #if ( configSUPPORT_STATIC_ALLOCATION == 1 )
1253:Middlewares/FreeRTOS/tasks.c **** 
1254:Middlewares/FreeRTOS/tasks.c ****     static TCB_t * prvCreateStaticTask( TaskFunction_t pxTaskCode,
1255:Middlewares/FreeRTOS/tasks.c ****                                         const char * const pcName,
1256:Middlewares/FreeRTOS/tasks.c ****                                         const configSTACK_DEPTH_TYPE uxStackDepth,
1257:Middlewares/FreeRTOS/tasks.c ****                                         void * const pvParameters,
1258:Middlewares/FreeRTOS/tasks.c ****                                         UBaseType_t uxPriority,
1259:Middlewares/FreeRTOS/tasks.c ****                                         StackType_t * const puxStackBuffer,
1260:Middlewares/FreeRTOS/tasks.c ****                                         StaticTask_t * const pxTaskBuffer,
1261:Middlewares/FreeRTOS/tasks.c ****                                         TaskHandle_t * const pxCreatedTask )
1262:Middlewares/FreeRTOS/tasks.c ****     {
1263:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxNewTCB;
1264:Middlewares/FreeRTOS/tasks.c **** 
1265:Middlewares/FreeRTOS/tasks.c ****         configASSERT( puxStackBuffer != NULL );
1266:Middlewares/FreeRTOS/tasks.c ****         configASSERT( pxTaskBuffer != NULL );
1267:Middlewares/FreeRTOS/tasks.c **** 
1268:Middlewares/FreeRTOS/tasks.c ****         #if ( configASSERT_DEFINED == 1 )
1269:Middlewares/FreeRTOS/tasks.c ****         {
1270:Middlewares/FreeRTOS/tasks.c ****             /* Sanity check that the size of the structure used to declare a
1271:Middlewares/FreeRTOS/tasks.c ****              * variable of type StaticTask_t equals the size of the real task
1272:Middlewares/FreeRTOS/tasks.c ****              * structure. */
1273:Middlewares/FreeRTOS/tasks.c ****             volatile size_t xSize = sizeof( StaticTask_t );
1274:Middlewares/FreeRTOS/tasks.c ****             configASSERT( xSize == sizeof( TCB_t ) );
1275:Middlewares/FreeRTOS/tasks.c ****             ( void ) xSize; /* Prevent unused variable warning when configASSERT() is not used. */
1276:Middlewares/FreeRTOS/tasks.c ****         }
1277:Middlewares/FreeRTOS/tasks.c ****         #endif /* configASSERT_DEFINED */
1278:Middlewares/FreeRTOS/tasks.c **** 
1279:Middlewares/FreeRTOS/tasks.c ****         if( ( pxTaskBuffer != NULL ) && ( puxStackBuffer != NULL ) )
1280:Middlewares/FreeRTOS/tasks.c ****         {
1281:Middlewares/FreeRTOS/tasks.c ****             /* The memory used for the task's TCB and stack are passed into this
1282:Middlewares/FreeRTOS/tasks.c ****              * function - use them. */
1283:Middlewares/FreeRTOS/tasks.c ****             /* MISRA Ref 11.3.1 [Misaligned access] */
1284:Middlewares/FreeRTOS/tasks.c ****             /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#rule
1285:Middlewares/FreeRTOS/tasks.c ****             /* coverity[misra_c_2012_rule_11_3_violation] */
1286:Middlewares/FreeRTOS/tasks.c ****             pxNewTCB = ( TCB_t * ) pxTaskBuffer;
ARM GAS  /tmp/ccF71V7c.s 			page 26


1287:Middlewares/FreeRTOS/tasks.c ****             ( void ) memset( ( void * ) pxNewTCB, 0x00, sizeof( TCB_t ) );
1288:Middlewares/FreeRTOS/tasks.c ****             pxNewTCB->pxStack = ( StackType_t * ) puxStackBuffer;
1289:Middlewares/FreeRTOS/tasks.c **** 
1290:Middlewares/FreeRTOS/tasks.c ****             #if ( tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE != 0 )
1291:Middlewares/FreeRTOS/tasks.c ****             {
1292:Middlewares/FreeRTOS/tasks.c ****                 /* Tasks can be created statically or dynamically, so note this
1293:Middlewares/FreeRTOS/tasks.c ****                  * task was created statically in case the task is later deleted. */
1294:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB->ucStaticallyAllocated = tskSTATICALLY_ALLOCATED_STACK_AND_TCB;
1295:Middlewares/FreeRTOS/tasks.c ****             }
1296:Middlewares/FreeRTOS/tasks.c ****             #endif /* tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE */
1297:Middlewares/FreeRTOS/tasks.c **** 
1298:Middlewares/FreeRTOS/tasks.c ****             prvInitialiseNewTask( pxTaskCode, pcName, uxStackDepth, pvParameters, uxPriority, pxCre
1299:Middlewares/FreeRTOS/tasks.c ****         }
1300:Middlewares/FreeRTOS/tasks.c ****         else
1301:Middlewares/FreeRTOS/tasks.c ****         {
1302:Middlewares/FreeRTOS/tasks.c ****             pxNewTCB = NULL;
1303:Middlewares/FreeRTOS/tasks.c ****         }
1304:Middlewares/FreeRTOS/tasks.c **** 
1305:Middlewares/FreeRTOS/tasks.c ****         return pxNewTCB;
1306:Middlewares/FreeRTOS/tasks.c ****     }
1307:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
1308:Middlewares/FreeRTOS/tasks.c **** 
1309:Middlewares/FreeRTOS/tasks.c ****     TaskHandle_t xTaskCreateStatic( TaskFunction_t pxTaskCode,
1310:Middlewares/FreeRTOS/tasks.c ****                                     const char * const pcName,
1311:Middlewares/FreeRTOS/tasks.c ****                                     const configSTACK_DEPTH_TYPE uxStackDepth,
1312:Middlewares/FreeRTOS/tasks.c ****                                     void * const pvParameters,
1313:Middlewares/FreeRTOS/tasks.c ****                                     UBaseType_t uxPriority,
1314:Middlewares/FreeRTOS/tasks.c ****                                     StackType_t * const puxStackBuffer,
1315:Middlewares/FreeRTOS/tasks.c ****                                     StaticTask_t * const pxTaskBuffer )
1316:Middlewares/FreeRTOS/tasks.c ****     {
1317:Middlewares/FreeRTOS/tasks.c ****         TaskHandle_t xReturn = NULL;
1318:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxNewTCB;
1319:Middlewares/FreeRTOS/tasks.c **** 
1320:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskCreateStatic( pxTaskCode, pcName, uxStackDepth, pvParameters, uxPriority, p
1321:Middlewares/FreeRTOS/tasks.c **** 
1322:Middlewares/FreeRTOS/tasks.c ****         pxNewTCB = prvCreateStaticTask( pxTaskCode, pcName, uxStackDepth, pvParameters, uxPriority,
1323:Middlewares/FreeRTOS/tasks.c **** 
1324:Middlewares/FreeRTOS/tasks.c ****         if( pxNewTCB != NULL )
1325:Middlewares/FreeRTOS/tasks.c ****         {
1326:Middlewares/FreeRTOS/tasks.c ****             #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_CORE_AFFINITY == 1 ) )
1327:Middlewares/FreeRTOS/tasks.c ****             {
1328:Middlewares/FreeRTOS/tasks.c ****                 /* Set the task's affinity before scheduling it. */
1329:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB->uxCoreAffinityMask = configTASK_DEFAULT_CORE_AFFINITY;
1330:Middlewares/FreeRTOS/tasks.c ****             }
1331:Middlewares/FreeRTOS/tasks.c ****             #endif
1332:Middlewares/FreeRTOS/tasks.c **** 
1333:Middlewares/FreeRTOS/tasks.c ****             prvAddNewTaskToReadyList( pxNewTCB );
1334:Middlewares/FreeRTOS/tasks.c ****         }
1335:Middlewares/FreeRTOS/tasks.c ****         else
1336:Middlewares/FreeRTOS/tasks.c ****         {
1337:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
1338:Middlewares/FreeRTOS/tasks.c ****         }
1339:Middlewares/FreeRTOS/tasks.c **** 
1340:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskCreateStatic( xReturn );
1341:Middlewares/FreeRTOS/tasks.c **** 
1342:Middlewares/FreeRTOS/tasks.c ****         return xReturn;
1343:Middlewares/FreeRTOS/tasks.c ****     }
ARM GAS  /tmp/ccF71V7c.s 			page 27


1344:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
1345:Middlewares/FreeRTOS/tasks.c **** 
1346:Middlewares/FreeRTOS/tasks.c ****     #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_CORE_AFFINITY == 1 ) )
1347:Middlewares/FreeRTOS/tasks.c ****         TaskHandle_t xTaskCreateStaticAffinitySet( TaskFunction_t pxTaskCode,
1348:Middlewares/FreeRTOS/tasks.c ****                                                    const char * const pcName,
1349:Middlewares/FreeRTOS/tasks.c ****                                                    const configSTACK_DEPTH_TYPE uxStackDepth,
1350:Middlewares/FreeRTOS/tasks.c ****                                                    void * const pvParameters,
1351:Middlewares/FreeRTOS/tasks.c ****                                                    UBaseType_t uxPriority,
1352:Middlewares/FreeRTOS/tasks.c ****                                                    StackType_t * const puxStackBuffer,
1353:Middlewares/FreeRTOS/tasks.c ****                                                    StaticTask_t * const pxTaskBuffer,
1354:Middlewares/FreeRTOS/tasks.c ****                                                    UBaseType_t uxCoreAffinityMask )
1355:Middlewares/FreeRTOS/tasks.c ****         {
1356:Middlewares/FreeRTOS/tasks.c ****             TaskHandle_t xReturn = NULL;
1357:Middlewares/FreeRTOS/tasks.c ****             TCB_t * pxNewTCB;
1358:Middlewares/FreeRTOS/tasks.c **** 
1359:Middlewares/FreeRTOS/tasks.c ****             traceENTER_xTaskCreateStaticAffinitySet( pxTaskCode, pcName, uxStackDepth, pvParameters
1360:Middlewares/FreeRTOS/tasks.c **** 
1361:Middlewares/FreeRTOS/tasks.c ****             pxNewTCB = prvCreateStaticTask( pxTaskCode, pcName, uxStackDepth, pvParameters, uxPrior
1362:Middlewares/FreeRTOS/tasks.c **** 
1363:Middlewares/FreeRTOS/tasks.c ****             if( pxNewTCB != NULL )
1364:Middlewares/FreeRTOS/tasks.c ****             {
1365:Middlewares/FreeRTOS/tasks.c ****                 /* Set the task's affinity before scheduling it. */
1366:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB->uxCoreAffinityMask = uxCoreAffinityMask;
1367:Middlewares/FreeRTOS/tasks.c **** 
1368:Middlewares/FreeRTOS/tasks.c ****                 prvAddNewTaskToReadyList( pxNewTCB );
1369:Middlewares/FreeRTOS/tasks.c ****             }
1370:Middlewares/FreeRTOS/tasks.c ****             else
1371:Middlewares/FreeRTOS/tasks.c ****             {
1372:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
1373:Middlewares/FreeRTOS/tasks.c ****             }
1374:Middlewares/FreeRTOS/tasks.c **** 
1375:Middlewares/FreeRTOS/tasks.c ****             traceRETURN_xTaskCreateStaticAffinitySet( xReturn );
1376:Middlewares/FreeRTOS/tasks.c **** 
1377:Middlewares/FreeRTOS/tasks.c ****             return xReturn;
1378:Middlewares/FreeRTOS/tasks.c ****         }
1379:Middlewares/FreeRTOS/tasks.c ****     #endif /* #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_CORE_AFFINITY == 1 ) ) */
1380:Middlewares/FreeRTOS/tasks.c **** 
1381:Middlewares/FreeRTOS/tasks.c **** #endif /* SUPPORT_STATIC_ALLOCATION */
1382:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
1383:Middlewares/FreeRTOS/tasks.c **** 
1384:Middlewares/FreeRTOS/tasks.c **** #if ( ( portUSING_MPU_WRAPPERS == 1 ) && ( configSUPPORT_STATIC_ALLOCATION == 1 ) )
1385:Middlewares/FreeRTOS/tasks.c ****     static TCB_t * prvCreateRestrictedStaticTask( const TaskParameters_t * const pxTaskDefinition,
1386:Middlewares/FreeRTOS/tasks.c ****                                                   TaskHandle_t * const pxCreatedTask )
1387:Middlewares/FreeRTOS/tasks.c ****     {
1388:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxNewTCB;
1389:Middlewares/FreeRTOS/tasks.c **** 
1390:Middlewares/FreeRTOS/tasks.c ****         configASSERT( pxTaskDefinition->puxStackBuffer != NULL );
1391:Middlewares/FreeRTOS/tasks.c ****         configASSERT( pxTaskDefinition->pxTaskBuffer != NULL );
1392:Middlewares/FreeRTOS/tasks.c **** 
1393:Middlewares/FreeRTOS/tasks.c ****         if( ( pxTaskDefinition->puxStackBuffer != NULL ) && ( pxTaskDefinition->pxTaskBuffer != NUL
1394:Middlewares/FreeRTOS/tasks.c ****         {
1395:Middlewares/FreeRTOS/tasks.c ****             /* Allocate space for the TCB.  Where the memory comes from depends
1396:Middlewares/FreeRTOS/tasks.c ****              * on the implementation of the port malloc function and whether or
1397:Middlewares/FreeRTOS/tasks.c ****              * not static allocation is being used. */
1398:Middlewares/FreeRTOS/tasks.c ****             pxNewTCB = ( TCB_t * ) pxTaskDefinition->pxTaskBuffer;
1399:Middlewares/FreeRTOS/tasks.c ****             ( void ) memset( ( void * ) pxNewTCB, 0x00, sizeof( TCB_t ) );
1400:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 28


1401:Middlewares/FreeRTOS/tasks.c ****             /* Store the stack location in the TCB. */
1402:Middlewares/FreeRTOS/tasks.c ****             pxNewTCB->pxStack = pxTaskDefinition->puxStackBuffer;
1403:Middlewares/FreeRTOS/tasks.c **** 
1404:Middlewares/FreeRTOS/tasks.c ****             #if ( tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE != 0 )
1405:Middlewares/FreeRTOS/tasks.c ****             {
1406:Middlewares/FreeRTOS/tasks.c ****                 /* Tasks can be created statically or dynamically, so note this
1407:Middlewares/FreeRTOS/tasks.c ****                  * task was created statically in case the task is later deleted. */
1408:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB->ucStaticallyAllocated = tskSTATICALLY_ALLOCATED_STACK_AND_TCB;
1409:Middlewares/FreeRTOS/tasks.c ****             }
1410:Middlewares/FreeRTOS/tasks.c ****             #endif /* tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE */
1411:Middlewares/FreeRTOS/tasks.c **** 
1412:Middlewares/FreeRTOS/tasks.c ****             prvInitialiseNewTask( pxTaskDefinition->pvTaskCode,
1413:Middlewares/FreeRTOS/tasks.c ****                                   pxTaskDefinition->pcName,
1414:Middlewares/FreeRTOS/tasks.c ****                                   pxTaskDefinition->usStackDepth,
1415:Middlewares/FreeRTOS/tasks.c ****                                   pxTaskDefinition->pvParameters,
1416:Middlewares/FreeRTOS/tasks.c ****                                   pxTaskDefinition->uxPriority,
1417:Middlewares/FreeRTOS/tasks.c ****                                   pxCreatedTask, pxNewTCB,
1418:Middlewares/FreeRTOS/tasks.c ****                                   pxTaskDefinition->xRegions );
1419:Middlewares/FreeRTOS/tasks.c ****         }
1420:Middlewares/FreeRTOS/tasks.c ****         else
1421:Middlewares/FreeRTOS/tasks.c ****         {
1422:Middlewares/FreeRTOS/tasks.c ****             pxNewTCB = NULL;
1423:Middlewares/FreeRTOS/tasks.c ****         }
1424:Middlewares/FreeRTOS/tasks.c **** 
1425:Middlewares/FreeRTOS/tasks.c ****         return pxNewTCB;
1426:Middlewares/FreeRTOS/tasks.c ****     }
1427:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
1428:Middlewares/FreeRTOS/tasks.c **** 
1429:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xTaskCreateRestrictedStatic( const TaskParameters_t * const pxTaskDefinition,
1430:Middlewares/FreeRTOS/tasks.c ****                                             TaskHandle_t * pxCreatedTask )
1431:Middlewares/FreeRTOS/tasks.c ****     {
1432:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxNewTCB;
1433:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xReturn;
1434:Middlewares/FreeRTOS/tasks.c **** 
1435:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskCreateRestrictedStatic( pxTaskDefinition, pxCreatedTask );
1436:Middlewares/FreeRTOS/tasks.c **** 
1437:Middlewares/FreeRTOS/tasks.c ****         configASSERT( pxTaskDefinition != NULL );
1438:Middlewares/FreeRTOS/tasks.c **** 
1439:Middlewares/FreeRTOS/tasks.c ****         pxNewTCB = prvCreateRestrictedStaticTask( pxTaskDefinition, pxCreatedTask );
1440:Middlewares/FreeRTOS/tasks.c **** 
1441:Middlewares/FreeRTOS/tasks.c ****         if( pxNewTCB != NULL )
1442:Middlewares/FreeRTOS/tasks.c ****         {
1443:Middlewares/FreeRTOS/tasks.c ****             #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_CORE_AFFINITY == 1 ) )
1444:Middlewares/FreeRTOS/tasks.c ****             {
1445:Middlewares/FreeRTOS/tasks.c ****                 /* Set the task's affinity before scheduling it. */
1446:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB->uxCoreAffinityMask = configTASK_DEFAULT_CORE_AFFINITY;
1447:Middlewares/FreeRTOS/tasks.c ****             }
1448:Middlewares/FreeRTOS/tasks.c ****             #endif
1449:Middlewares/FreeRTOS/tasks.c **** 
1450:Middlewares/FreeRTOS/tasks.c ****             prvAddNewTaskToReadyList( pxNewTCB );
1451:Middlewares/FreeRTOS/tasks.c ****             xReturn = pdPASS;
1452:Middlewares/FreeRTOS/tasks.c ****         }
1453:Middlewares/FreeRTOS/tasks.c ****         else
1454:Middlewares/FreeRTOS/tasks.c ****         {
1455:Middlewares/FreeRTOS/tasks.c ****             xReturn = errCOULD_NOT_ALLOCATE_REQUIRED_MEMORY;
1456:Middlewares/FreeRTOS/tasks.c ****         }
1457:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 29


1458:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskCreateRestrictedStatic( xReturn );
1459:Middlewares/FreeRTOS/tasks.c **** 
1460:Middlewares/FreeRTOS/tasks.c ****         return xReturn;
1461:Middlewares/FreeRTOS/tasks.c ****     }
1462:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
1463:Middlewares/FreeRTOS/tasks.c **** 
1464:Middlewares/FreeRTOS/tasks.c ****     #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_CORE_AFFINITY == 1 ) )
1465:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xTaskCreateRestrictedStaticAffinitySet( const TaskParameters_t * const pxTaskDef
1466:Middlewares/FreeRTOS/tasks.c ****                                                            UBaseType_t uxCoreAffinityMask,
1467:Middlewares/FreeRTOS/tasks.c ****                                                            TaskHandle_t * pxCreatedTask )
1468:Middlewares/FreeRTOS/tasks.c ****         {
1469:Middlewares/FreeRTOS/tasks.c ****             TCB_t * pxNewTCB;
1470:Middlewares/FreeRTOS/tasks.c ****             BaseType_t xReturn;
1471:Middlewares/FreeRTOS/tasks.c **** 
1472:Middlewares/FreeRTOS/tasks.c ****             traceENTER_xTaskCreateRestrictedStaticAffinitySet( pxTaskDefinition, uxCoreAffinityMask
1473:Middlewares/FreeRTOS/tasks.c **** 
1474:Middlewares/FreeRTOS/tasks.c ****             configASSERT( pxTaskDefinition != NULL );
1475:Middlewares/FreeRTOS/tasks.c **** 
1476:Middlewares/FreeRTOS/tasks.c ****             pxNewTCB = prvCreateRestrictedStaticTask( pxTaskDefinition, pxCreatedTask );
1477:Middlewares/FreeRTOS/tasks.c **** 
1478:Middlewares/FreeRTOS/tasks.c ****             if( pxNewTCB != NULL )
1479:Middlewares/FreeRTOS/tasks.c ****             {
1480:Middlewares/FreeRTOS/tasks.c ****                 /* Set the task's affinity before scheduling it. */
1481:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB->uxCoreAffinityMask = uxCoreAffinityMask;
1482:Middlewares/FreeRTOS/tasks.c **** 
1483:Middlewares/FreeRTOS/tasks.c ****                 prvAddNewTaskToReadyList( pxNewTCB );
1484:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pdPASS;
1485:Middlewares/FreeRTOS/tasks.c ****             }
1486:Middlewares/FreeRTOS/tasks.c ****             else
1487:Middlewares/FreeRTOS/tasks.c ****             {
1488:Middlewares/FreeRTOS/tasks.c ****                 xReturn = errCOULD_NOT_ALLOCATE_REQUIRED_MEMORY;
1489:Middlewares/FreeRTOS/tasks.c ****             }
1490:Middlewares/FreeRTOS/tasks.c **** 
1491:Middlewares/FreeRTOS/tasks.c ****             traceRETURN_xTaskCreateRestrictedStaticAffinitySet( xReturn );
1492:Middlewares/FreeRTOS/tasks.c **** 
1493:Middlewares/FreeRTOS/tasks.c ****             return xReturn;
1494:Middlewares/FreeRTOS/tasks.c ****         }
1495:Middlewares/FreeRTOS/tasks.c ****     #endif /* #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_CORE_AFFINITY == 1 ) ) */
1496:Middlewares/FreeRTOS/tasks.c **** 
1497:Middlewares/FreeRTOS/tasks.c **** #endif /* ( portUSING_MPU_WRAPPERS == 1 ) && ( configSUPPORT_STATIC_ALLOCATION == 1 ) */
1498:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
1499:Middlewares/FreeRTOS/tasks.c **** 
1500:Middlewares/FreeRTOS/tasks.c **** #if ( ( portUSING_MPU_WRAPPERS == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 ) )
1501:Middlewares/FreeRTOS/tasks.c ****     static TCB_t * prvCreateRestrictedTask( const TaskParameters_t * const pxTaskDefinition,
1502:Middlewares/FreeRTOS/tasks.c ****                                             TaskHandle_t * const pxCreatedTask )
1503:Middlewares/FreeRTOS/tasks.c ****     {
1504:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxNewTCB;
1505:Middlewares/FreeRTOS/tasks.c **** 
1506:Middlewares/FreeRTOS/tasks.c ****         configASSERT( pxTaskDefinition->puxStackBuffer );
1507:Middlewares/FreeRTOS/tasks.c **** 
1508:Middlewares/FreeRTOS/tasks.c ****         if( pxTaskDefinition->puxStackBuffer != NULL )
1509:Middlewares/FreeRTOS/tasks.c ****         {
1510:Middlewares/FreeRTOS/tasks.c ****             /* MISRA Ref 11.5.1 [Malloc memory assignment] */
1511:Middlewares/FreeRTOS/tasks.c ****             /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#rule
1512:Middlewares/FreeRTOS/tasks.c ****             /* coverity[misra_c_2012_rule_11_5_violation] */
1513:Middlewares/FreeRTOS/tasks.c ****             pxNewTCB = ( TCB_t * ) pvPortMalloc( sizeof( TCB_t ) );
1514:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 30


1515:Middlewares/FreeRTOS/tasks.c ****             if( pxNewTCB != NULL )
1516:Middlewares/FreeRTOS/tasks.c ****             {
1517:Middlewares/FreeRTOS/tasks.c ****                 ( void ) memset( ( void * ) pxNewTCB, 0x00, sizeof( TCB_t ) );
1518:Middlewares/FreeRTOS/tasks.c **** 
1519:Middlewares/FreeRTOS/tasks.c ****                 /* Store the stack location in the TCB. */
1520:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB->pxStack = pxTaskDefinition->puxStackBuffer;
1521:Middlewares/FreeRTOS/tasks.c **** 
1522:Middlewares/FreeRTOS/tasks.c ****                 #if ( tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE != 0 )
1523:Middlewares/FreeRTOS/tasks.c ****                 {
1524:Middlewares/FreeRTOS/tasks.c ****                     /* Tasks can be created statically or dynamically, so note
1525:Middlewares/FreeRTOS/tasks.c ****                      * this task had a statically allocated stack in case it is
1526:Middlewares/FreeRTOS/tasks.c ****                      * later deleted.  The TCB was allocated dynamically. */
1527:Middlewares/FreeRTOS/tasks.c ****                     pxNewTCB->ucStaticallyAllocated = tskSTATICALLY_ALLOCATED_STACK_ONLY;
1528:Middlewares/FreeRTOS/tasks.c ****                 }
1529:Middlewares/FreeRTOS/tasks.c ****                 #endif /* tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE */
1530:Middlewares/FreeRTOS/tasks.c **** 
1531:Middlewares/FreeRTOS/tasks.c ****                 prvInitialiseNewTask( pxTaskDefinition->pvTaskCode,
1532:Middlewares/FreeRTOS/tasks.c ****                                       pxTaskDefinition->pcName,
1533:Middlewares/FreeRTOS/tasks.c ****                                       pxTaskDefinition->usStackDepth,
1534:Middlewares/FreeRTOS/tasks.c ****                                       pxTaskDefinition->pvParameters,
1535:Middlewares/FreeRTOS/tasks.c ****                                       pxTaskDefinition->uxPriority,
1536:Middlewares/FreeRTOS/tasks.c ****                                       pxCreatedTask, pxNewTCB,
1537:Middlewares/FreeRTOS/tasks.c ****                                       pxTaskDefinition->xRegions );
1538:Middlewares/FreeRTOS/tasks.c ****             }
1539:Middlewares/FreeRTOS/tasks.c ****         }
1540:Middlewares/FreeRTOS/tasks.c ****         else
1541:Middlewares/FreeRTOS/tasks.c ****         {
1542:Middlewares/FreeRTOS/tasks.c ****             pxNewTCB = NULL;
1543:Middlewares/FreeRTOS/tasks.c ****         }
1544:Middlewares/FreeRTOS/tasks.c **** 
1545:Middlewares/FreeRTOS/tasks.c ****         return pxNewTCB;
1546:Middlewares/FreeRTOS/tasks.c ****     }
1547:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
1548:Middlewares/FreeRTOS/tasks.c **** 
1549:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xTaskCreateRestricted( const TaskParameters_t * const pxTaskDefinition,
1550:Middlewares/FreeRTOS/tasks.c ****                                       TaskHandle_t * pxCreatedTask )
1551:Middlewares/FreeRTOS/tasks.c ****     {
1552:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxNewTCB;
1553:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xReturn;
1554:Middlewares/FreeRTOS/tasks.c **** 
1555:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskCreateRestricted( pxTaskDefinition, pxCreatedTask );
1556:Middlewares/FreeRTOS/tasks.c **** 
1557:Middlewares/FreeRTOS/tasks.c ****         pxNewTCB = prvCreateRestrictedTask( pxTaskDefinition, pxCreatedTask );
1558:Middlewares/FreeRTOS/tasks.c **** 
1559:Middlewares/FreeRTOS/tasks.c ****         if( pxNewTCB != NULL )
1560:Middlewares/FreeRTOS/tasks.c ****         {
1561:Middlewares/FreeRTOS/tasks.c ****             #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_CORE_AFFINITY == 1 ) )
1562:Middlewares/FreeRTOS/tasks.c ****             {
1563:Middlewares/FreeRTOS/tasks.c ****                 /* Set the task's affinity before scheduling it. */
1564:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB->uxCoreAffinityMask = configTASK_DEFAULT_CORE_AFFINITY;
1565:Middlewares/FreeRTOS/tasks.c ****             }
1566:Middlewares/FreeRTOS/tasks.c ****             #endif /* #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_CORE_AFFINITY == 1 ) ) */
1567:Middlewares/FreeRTOS/tasks.c **** 
1568:Middlewares/FreeRTOS/tasks.c ****             prvAddNewTaskToReadyList( pxNewTCB );
1569:Middlewares/FreeRTOS/tasks.c **** 
1570:Middlewares/FreeRTOS/tasks.c ****             xReturn = pdPASS;
1571:Middlewares/FreeRTOS/tasks.c ****         }
ARM GAS  /tmp/ccF71V7c.s 			page 31


1572:Middlewares/FreeRTOS/tasks.c ****         else
1573:Middlewares/FreeRTOS/tasks.c ****         {
1574:Middlewares/FreeRTOS/tasks.c ****             xReturn = errCOULD_NOT_ALLOCATE_REQUIRED_MEMORY;
1575:Middlewares/FreeRTOS/tasks.c ****         }
1576:Middlewares/FreeRTOS/tasks.c **** 
1577:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskCreateRestricted( xReturn );
1578:Middlewares/FreeRTOS/tasks.c **** 
1579:Middlewares/FreeRTOS/tasks.c ****         return xReturn;
1580:Middlewares/FreeRTOS/tasks.c ****     }
1581:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
1582:Middlewares/FreeRTOS/tasks.c **** 
1583:Middlewares/FreeRTOS/tasks.c ****     #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_CORE_AFFINITY == 1 ) )
1584:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xTaskCreateRestrictedAffinitySet( const TaskParameters_t * const pxTaskDefinitio
1585:Middlewares/FreeRTOS/tasks.c ****                                                      UBaseType_t uxCoreAffinityMask,
1586:Middlewares/FreeRTOS/tasks.c ****                                                      TaskHandle_t * pxCreatedTask )
1587:Middlewares/FreeRTOS/tasks.c ****         {
1588:Middlewares/FreeRTOS/tasks.c ****             TCB_t * pxNewTCB;
1589:Middlewares/FreeRTOS/tasks.c ****             BaseType_t xReturn;
1590:Middlewares/FreeRTOS/tasks.c **** 
1591:Middlewares/FreeRTOS/tasks.c ****             traceENTER_xTaskCreateRestrictedAffinitySet( pxTaskDefinition, uxCoreAffinityMask, pxCr
1592:Middlewares/FreeRTOS/tasks.c **** 
1593:Middlewares/FreeRTOS/tasks.c ****             pxNewTCB = prvCreateRestrictedTask( pxTaskDefinition, pxCreatedTask );
1594:Middlewares/FreeRTOS/tasks.c **** 
1595:Middlewares/FreeRTOS/tasks.c ****             if( pxNewTCB != NULL )
1596:Middlewares/FreeRTOS/tasks.c ****             {
1597:Middlewares/FreeRTOS/tasks.c ****                 /* Set the task's affinity before scheduling it. */
1598:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB->uxCoreAffinityMask = uxCoreAffinityMask;
1599:Middlewares/FreeRTOS/tasks.c **** 
1600:Middlewares/FreeRTOS/tasks.c ****                 prvAddNewTaskToReadyList( pxNewTCB );
1601:Middlewares/FreeRTOS/tasks.c **** 
1602:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pdPASS;
1603:Middlewares/FreeRTOS/tasks.c ****             }
1604:Middlewares/FreeRTOS/tasks.c ****             else
1605:Middlewares/FreeRTOS/tasks.c ****             {
1606:Middlewares/FreeRTOS/tasks.c ****                 xReturn = errCOULD_NOT_ALLOCATE_REQUIRED_MEMORY;
1607:Middlewares/FreeRTOS/tasks.c ****             }
1608:Middlewares/FreeRTOS/tasks.c **** 
1609:Middlewares/FreeRTOS/tasks.c ****             traceRETURN_xTaskCreateRestrictedAffinitySet( xReturn );
1610:Middlewares/FreeRTOS/tasks.c **** 
1611:Middlewares/FreeRTOS/tasks.c ****             return xReturn;
1612:Middlewares/FreeRTOS/tasks.c ****         }
1613:Middlewares/FreeRTOS/tasks.c ****     #endif /* #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_CORE_AFFINITY == 1 ) ) */
1614:Middlewares/FreeRTOS/tasks.c **** 
1615:Middlewares/FreeRTOS/tasks.c **** 
1616:Middlewares/FreeRTOS/tasks.c **** #endif /* portUSING_MPU_WRAPPERS */
1617:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
1618:Middlewares/FreeRTOS/tasks.c **** 
1619:Middlewares/FreeRTOS/tasks.c **** #if ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
1620:Middlewares/FreeRTOS/tasks.c ****     static TCB_t * prvCreateTask( TaskFunction_t pxTaskCode,
1621:Middlewares/FreeRTOS/tasks.c ****                                   const char * const pcName,
1622:Middlewares/FreeRTOS/tasks.c ****                                   const configSTACK_DEPTH_TYPE uxStackDepth,
1623:Middlewares/FreeRTOS/tasks.c ****                                   void * const pvParameters,
1624:Middlewares/FreeRTOS/tasks.c ****                                   UBaseType_t uxPriority,
1625:Middlewares/FreeRTOS/tasks.c ****                                   TaskHandle_t * const pxCreatedTask )
1626:Middlewares/FreeRTOS/tasks.c ****     {
 161              		.loc 1 1626 5
 162              		.cfi_startproc
ARM GAS  /tmp/ccF71V7c.s 			page 32


 163              		@ args = 8, pretend = 0, frame = 24
 164              		@ frame_needed = 1, uses_anonymous_args = 0
 165 0000 80B5     		push	{r7, lr}
 166              		.cfi_def_cfa_offset 8
 167              		.cfi_offset 7, -8
 168              		.cfi_offset 14, -4
 169 0002 8AB0     		sub	sp, sp, #40
 170              		.cfi_def_cfa_offset 48
 171 0004 04AF     		add	r7, sp, #16
 172              		.cfi_def_cfa 7, 32
 173 0006 F860     		str	r0, [r7, #12]
 174 0008 B960     		str	r1, [r7, #8]
 175 000a 7A60     		str	r2, [r7, #4]
 176 000c 3B60     		str	r3, [r7]
 177              	.LBB34:
1627:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxNewTCB;
1628:Middlewares/FreeRTOS/tasks.c **** 
1629:Middlewares/FreeRTOS/tasks.c ****         /* If the stack grows down then allocate the stack then the TCB so the stack
1630:Middlewares/FreeRTOS/tasks.c ****          * does not grow into the TCB.  Likewise if the stack grows up then allocate
1631:Middlewares/FreeRTOS/tasks.c ****          * the TCB then the stack. */
1632:Middlewares/FreeRTOS/tasks.c ****         #if ( portSTACK_GROWTH > 0 )
1633:Middlewares/FreeRTOS/tasks.c ****         {
1634:Middlewares/FreeRTOS/tasks.c ****             /* Allocate space for the TCB.  Where the memory comes from depends on
1635:Middlewares/FreeRTOS/tasks.c ****              * the implementation of the port malloc function and whether or not static
1636:Middlewares/FreeRTOS/tasks.c ****              * allocation is being used. */
1637:Middlewares/FreeRTOS/tasks.c ****             /* MISRA Ref 11.5.1 [Malloc memory assignment] */
1638:Middlewares/FreeRTOS/tasks.c ****             /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#rule
1639:Middlewares/FreeRTOS/tasks.c ****             /* coverity[misra_c_2012_rule_11_5_violation] */
1640:Middlewares/FreeRTOS/tasks.c ****             pxNewTCB = ( TCB_t * ) pvPortMalloc( sizeof( TCB_t ) );
1641:Middlewares/FreeRTOS/tasks.c **** 
1642:Middlewares/FreeRTOS/tasks.c ****             if( pxNewTCB != NULL )
1643:Middlewares/FreeRTOS/tasks.c ****             {
1644:Middlewares/FreeRTOS/tasks.c ****                 ( void ) memset( ( void * ) pxNewTCB, 0x00, sizeof( TCB_t ) );
1645:Middlewares/FreeRTOS/tasks.c **** 
1646:Middlewares/FreeRTOS/tasks.c ****                 /* Allocate space for the stack used by the task being created.
1647:Middlewares/FreeRTOS/tasks.c ****                  * The base of the stack memory stored in the TCB so the task can
1648:Middlewares/FreeRTOS/tasks.c ****                  * be deleted later if required. */
1649:Middlewares/FreeRTOS/tasks.c ****                 /* MISRA Ref 11.5.1 [Malloc memory assignment] */
1650:Middlewares/FreeRTOS/tasks.c ****                 /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#
1651:Middlewares/FreeRTOS/tasks.c ****                 /* coverity[misra_c_2012_rule_11_5_violation] */
1652:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB->pxStack = ( StackType_t * ) pvPortMallocStack( ( ( ( size_t ) uxStackDept
1653:Middlewares/FreeRTOS/tasks.c **** 
1654:Middlewares/FreeRTOS/tasks.c ****                 if( pxNewTCB->pxStack == NULL )
1655:Middlewares/FreeRTOS/tasks.c ****                 {
1656:Middlewares/FreeRTOS/tasks.c ****                     /* Could not allocate the stack.  Delete the allocated TCB. */
1657:Middlewares/FreeRTOS/tasks.c ****                     vPortFree( pxNewTCB );
1658:Middlewares/FreeRTOS/tasks.c ****                     pxNewTCB = NULL;
1659:Middlewares/FreeRTOS/tasks.c ****                 }
1660:Middlewares/FreeRTOS/tasks.c ****             }
1661:Middlewares/FreeRTOS/tasks.c ****         }
1662:Middlewares/FreeRTOS/tasks.c ****         #else /* portSTACK_GROWTH */
1663:Middlewares/FreeRTOS/tasks.c ****         {
1664:Middlewares/FreeRTOS/tasks.c ****             StackType_t * pxStack;
1665:Middlewares/FreeRTOS/tasks.c **** 
1666:Middlewares/FreeRTOS/tasks.c ****             /* Allocate space for the stack used by the task being created. */
1667:Middlewares/FreeRTOS/tasks.c ****             /* MISRA Ref 11.5.1 [Malloc memory assignment] */
1668:Middlewares/FreeRTOS/tasks.c ****             /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#rule
ARM GAS  /tmp/ccF71V7c.s 			page 33


1669:Middlewares/FreeRTOS/tasks.c ****             /* coverity[misra_c_2012_rule_11_5_violation] */
1670:Middlewares/FreeRTOS/tasks.c ****             pxStack = pvPortMallocStack( ( ( ( size_t ) uxStackDepth ) * sizeof( StackType_t ) ) );
 178              		.loc 1 1670 23
 179 000e 7B68     		ldr	r3, [r7, #4]
 180 0010 9B00     		lsls	r3, r3, #2
 181 0012 1846     		mov	r0, r3
 182 0014 FFF7FEFF 		bl	pvPortMalloc
 183 0018 3861     		str	r0, [r7, #16]
1671:Middlewares/FreeRTOS/tasks.c **** 
1672:Middlewares/FreeRTOS/tasks.c ****             if( pxStack != NULL )
 184              		.loc 1 1672 15
 185 001a 3B69     		ldr	r3, [r7, #16]
 186 001c 002B     		cmp	r3, #0
 187 001e 13D0     		beq	.L2
1673:Middlewares/FreeRTOS/tasks.c ****             {
1674:Middlewares/FreeRTOS/tasks.c ****                 /* Allocate space for the TCB. */
1675:Middlewares/FreeRTOS/tasks.c ****                 /* MISRA Ref 11.5.1 [Malloc memory assignment] */
1676:Middlewares/FreeRTOS/tasks.c ****                 /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#
1677:Middlewares/FreeRTOS/tasks.c ****                 /* coverity[misra_c_2012_rule_11_5_violation] */
1678:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB = ( TCB_t * ) pvPortMalloc( sizeof( TCB_t ) );
 188              		.loc 1 1678 40
 189 0020 5C20     		movs	r0, #92
 190 0022 FFF7FEFF 		bl	pvPortMalloc
 191 0026 7861     		str	r0, [r7, #20]
1679:Middlewares/FreeRTOS/tasks.c **** 
1680:Middlewares/FreeRTOS/tasks.c ****                 if( pxNewTCB != NULL )
 192              		.loc 1 1680 19
 193 0028 7B69     		ldr	r3, [r7, #20]
 194 002a 002B     		cmp	r3, #0
 195 002c 08D0     		beq	.L3
1681:Middlewares/FreeRTOS/tasks.c ****                 {
1682:Middlewares/FreeRTOS/tasks.c ****                     ( void ) memset( ( void * ) pxNewTCB, 0x00, sizeof( TCB_t ) );
 196              		.loc 1 1682 30
 197 002e 5C22     		movs	r2, #92
 198 0030 0021     		movs	r1, #0
 199 0032 7869     		ldr	r0, [r7, #20]
 200 0034 FFF7FEFF 		bl	memset
1683:Middlewares/FreeRTOS/tasks.c **** 
1684:Middlewares/FreeRTOS/tasks.c ****                     /* Store the stack location in the TCB. */
1685:Middlewares/FreeRTOS/tasks.c ****                     pxNewTCB->pxStack = pxStack;
 201              		.loc 1 1685 39
 202 0038 7B69     		ldr	r3, [r7, #20]
 203 003a 3A69     		ldr	r2, [r7, #16]
 204 003c 1A63     		str	r2, [r3, #48]
 205 003e 05E0     		b	.L4
 206              	.L3:
1686:Middlewares/FreeRTOS/tasks.c ****                 }
1687:Middlewares/FreeRTOS/tasks.c ****                 else
1688:Middlewares/FreeRTOS/tasks.c ****                 {
1689:Middlewares/FreeRTOS/tasks.c ****                     /* The stack cannot be used as the TCB was not created.  Free
1690:Middlewares/FreeRTOS/tasks.c ****                      * it again. */
1691:Middlewares/FreeRTOS/tasks.c ****                     vPortFreeStack( pxStack );
 207              		.loc 1 1691 21
 208 0040 3869     		ldr	r0, [r7, #16]
 209 0042 FFF7FEFF 		bl	vPortFree
 210 0046 01E0     		b	.L4
 211              	.L2:
ARM GAS  /tmp/ccF71V7c.s 			page 34


1692:Middlewares/FreeRTOS/tasks.c ****                 }
1693:Middlewares/FreeRTOS/tasks.c ****             }
1694:Middlewares/FreeRTOS/tasks.c ****             else
1695:Middlewares/FreeRTOS/tasks.c ****             {
1696:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB = NULL;
 212              		.loc 1 1696 26
 213 0048 0023     		movs	r3, #0
 214 004a 7B61     		str	r3, [r7, #20]
 215              	.L4:
 216              	.LBE34:
1697:Middlewares/FreeRTOS/tasks.c ****             }
1698:Middlewares/FreeRTOS/tasks.c ****         }
1699:Middlewares/FreeRTOS/tasks.c ****         #endif /* portSTACK_GROWTH */
1700:Middlewares/FreeRTOS/tasks.c **** 
1701:Middlewares/FreeRTOS/tasks.c ****         if( pxNewTCB != NULL )
 217              		.loc 1 1701 11
 218 004c 7B69     		ldr	r3, [r7, #20]
 219 004e 002B     		cmp	r3, #0
 220 0050 0DD0     		beq	.L5
1702:Middlewares/FreeRTOS/tasks.c ****         {
1703:Middlewares/FreeRTOS/tasks.c ****             #if ( tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE != 0 )
1704:Middlewares/FreeRTOS/tasks.c ****             {
1705:Middlewares/FreeRTOS/tasks.c ****                 /* Tasks can be created statically or dynamically, so note this
1706:Middlewares/FreeRTOS/tasks.c ****                  * task was created dynamically in case it is later deleted. */
1707:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB->ucStaticallyAllocated = tskDYNAMICALLY_ALLOCATED_STACK_AND_TCB;
1708:Middlewares/FreeRTOS/tasks.c ****             }
1709:Middlewares/FreeRTOS/tasks.c ****             #endif /* tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE */
1710:Middlewares/FreeRTOS/tasks.c **** 
1711:Middlewares/FreeRTOS/tasks.c ****             prvInitialiseNewTask( pxTaskCode, pcName, uxStackDepth, pvParameters, uxPriority, pxCre
 221              		.loc 1 1711 13
 222 0052 0023     		movs	r3, #0
 223 0054 0393     		str	r3, [sp, #12]
 224 0056 7B69     		ldr	r3, [r7, #20]
 225 0058 0293     		str	r3, [sp, #8]
 226 005a 7B6A     		ldr	r3, [r7, #36]
 227 005c 0193     		str	r3, [sp, #4]
 228 005e 3B6A     		ldr	r3, [r7, #32]
 229 0060 0093     		str	r3, [sp]
 230 0062 3B68     		ldr	r3, [r7]
 231 0064 7A68     		ldr	r2, [r7, #4]
 232 0066 B968     		ldr	r1, [r7, #8]
 233 0068 F868     		ldr	r0, [r7, #12]
 234 006a FFF7FEFF 		bl	prvInitialiseNewTask
 235              	.L5:
1712:Middlewares/FreeRTOS/tasks.c ****         }
1713:Middlewares/FreeRTOS/tasks.c **** 
1714:Middlewares/FreeRTOS/tasks.c ****         return pxNewTCB;
 236              		.loc 1 1714 16
 237 006e 7B69     		ldr	r3, [r7, #20]
1715:Middlewares/FreeRTOS/tasks.c ****     }
 238              		.loc 1 1715 5
 239 0070 1846     		mov	r0, r3
 240 0072 1837     		adds	r7, r7, #24
 241              		.cfi_def_cfa_offset 8
 242 0074 BD46     		mov	sp, r7
 243              		.cfi_def_cfa_register 13
 244              		@ sp needed
ARM GAS  /tmp/ccF71V7c.s 			page 35


 245 0076 80BD     		pop	{r7, pc}
 246              		.cfi_endproc
 247              	.LFE7:
 249              		.section	.text.xTaskCreate,"ax",%progbits
 250              		.align	1
 251              		.global	xTaskCreate
 252              		.syntax unified
 253              		.thumb
 254              		.thumb_func
 256              	xTaskCreate:
 257              	.LFB8:
1716:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
1717:Middlewares/FreeRTOS/tasks.c **** 
1718:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xTaskCreate( TaskFunction_t pxTaskCode,
1719:Middlewares/FreeRTOS/tasks.c ****                             const char * const pcName,
1720:Middlewares/FreeRTOS/tasks.c ****                             const configSTACK_DEPTH_TYPE uxStackDepth,
1721:Middlewares/FreeRTOS/tasks.c ****                             void * const pvParameters,
1722:Middlewares/FreeRTOS/tasks.c ****                             UBaseType_t uxPriority,
1723:Middlewares/FreeRTOS/tasks.c ****                             TaskHandle_t * const pxCreatedTask )
1724:Middlewares/FreeRTOS/tasks.c ****     {
 258              		.loc 1 1724 5
 259              		.cfi_startproc
 260              		@ args = 8, pretend = 0, frame = 24
 261              		@ frame_needed = 1, uses_anonymous_args = 0
 262 0000 80B5     		push	{r7, lr}
 263              		.cfi_def_cfa_offset 8
 264              		.cfi_offset 7, -8
 265              		.cfi_offset 14, -4
 266 0002 88B0     		sub	sp, sp, #32
 267              		.cfi_def_cfa_offset 40
 268 0004 02AF     		add	r7, sp, #8
 269              		.cfi_def_cfa 7, 32
 270 0006 F860     		str	r0, [r7, #12]
 271 0008 B960     		str	r1, [r7, #8]
 272 000a 7A60     		str	r2, [r7, #4]
 273 000c 3B60     		str	r3, [r7]
1725:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxNewTCB;
1726:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xReturn;
1727:Middlewares/FreeRTOS/tasks.c **** 
1728:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskCreate( pxTaskCode, pcName, uxStackDepth, pvParameters, uxPriority, pxCreat
1729:Middlewares/FreeRTOS/tasks.c **** 
1730:Middlewares/FreeRTOS/tasks.c ****         pxNewTCB = prvCreateTask( pxTaskCode, pcName, uxStackDepth, pvParameters, uxPriority, pxCre
 274              		.loc 1 1730 20
 275 000e 7B6A     		ldr	r3, [r7, #36]
 276 0010 0193     		str	r3, [sp, #4]
 277 0012 3B6A     		ldr	r3, [r7, #32]
 278 0014 0093     		str	r3, [sp]
 279 0016 3B68     		ldr	r3, [r7]
 280 0018 7A68     		ldr	r2, [r7, #4]
 281 001a B968     		ldr	r1, [r7, #8]
 282 001c F868     		ldr	r0, [r7, #12]
 283 001e FFF7FEFF 		bl	prvCreateTask
 284 0022 3861     		str	r0, [r7, #16]
1731:Middlewares/FreeRTOS/tasks.c **** 
1732:Middlewares/FreeRTOS/tasks.c ****         if( pxNewTCB != NULL )
 285              		.loc 1 1732 11
 286 0024 3B69     		ldr	r3, [r7, #16]
ARM GAS  /tmp/ccF71V7c.s 			page 36


 287 0026 002B     		cmp	r3, #0
 288 0028 05D0     		beq	.L8
1733:Middlewares/FreeRTOS/tasks.c ****         {
1734:Middlewares/FreeRTOS/tasks.c ****             #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_CORE_AFFINITY == 1 ) )
1735:Middlewares/FreeRTOS/tasks.c ****             {
1736:Middlewares/FreeRTOS/tasks.c ****                 /* Set the task's affinity before scheduling it. */
1737:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB->uxCoreAffinityMask = configTASK_DEFAULT_CORE_AFFINITY;
1738:Middlewares/FreeRTOS/tasks.c ****             }
1739:Middlewares/FreeRTOS/tasks.c ****             #endif
1740:Middlewares/FreeRTOS/tasks.c **** 
1741:Middlewares/FreeRTOS/tasks.c ****             prvAddNewTaskToReadyList( pxNewTCB );
 289              		.loc 1 1741 13
 290 002a 3869     		ldr	r0, [r7, #16]
 291 002c FFF7FEFF 		bl	prvAddNewTaskToReadyList
1742:Middlewares/FreeRTOS/tasks.c ****             xReturn = pdPASS;
 292              		.loc 1 1742 21
 293 0030 0123     		movs	r3, #1
 294 0032 7B61     		str	r3, [r7, #20]
 295 0034 02E0     		b	.L9
 296              	.L8:
1743:Middlewares/FreeRTOS/tasks.c ****         }
1744:Middlewares/FreeRTOS/tasks.c ****         else
1745:Middlewares/FreeRTOS/tasks.c ****         {
1746:Middlewares/FreeRTOS/tasks.c ****             xReturn = errCOULD_NOT_ALLOCATE_REQUIRED_MEMORY;
 297              		.loc 1 1746 21
 298 0036 4FF0FF33 		mov	r3, #-1
 299 003a 7B61     		str	r3, [r7, #20]
 300              	.L9:
1747:Middlewares/FreeRTOS/tasks.c ****         }
1748:Middlewares/FreeRTOS/tasks.c **** 
1749:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskCreate( xReturn );
1750:Middlewares/FreeRTOS/tasks.c **** 
1751:Middlewares/FreeRTOS/tasks.c ****         return xReturn;
 301              		.loc 1 1751 16
 302 003c 7B69     		ldr	r3, [r7, #20]
1752:Middlewares/FreeRTOS/tasks.c ****     }
 303              		.loc 1 1752 5
 304 003e 1846     		mov	r0, r3
 305 0040 1837     		adds	r7, r7, #24
 306              		.cfi_def_cfa_offset 8
 307 0042 BD46     		mov	sp, r7
 308              		.cfi_def_cfa_register 13
 309              		@ sp needed
 310 0044 80BD     		pop	{r7, pc}
 311              		.cfi_endproc
 312              	.LFE8:
 314              		.section	.text.prvInitialiseNewTask,"ax",%progbits
 315              		.align	1
 316              		.syntax unified
 317              		.thumb
 318              		.thumb_func
 320              	prvInitialiseNewTask:
 321              	.LFB9:
1753:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
1754:Middlewares/FreeRTOS/tasks.c **** 
1755:Middlewares/FreeRTOS/tasks.c ****     #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_CORE_AFFINITY == 1 ) )
1756:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xTaskCreateAffinitySet( TaskFunction_t pxTaskCode,
ARM GAS  /tmp/ccF71V7c.s 			page 37


1757:Middlewares/FreeRTOS/tasks.c ****                                            const char * const pcName,
1758:Middlewares/FreeRTOS/tasks.c ****                                            const configSTACK_DEPTH_TYPE uxStackDepth,
1759:Middlewares/FreeRTOS/tasks.c ****                                            void * const pvParameters,
1760:Middlewares/FreeRTOS/tasks.c ****                                            UBaseType_t uxPriority,
1761:Middlewares/FreeRTOS/tasks.c ****                                            UBaseType_t uxCoreAffinityMask,
1762:Middlewares/FreeRTOS/tasks.c ****                                            TaskHandle_t * const pxCreatedTask )
1763:Middlewares/FreeRTOS/tasks.c ****         {
1764:Middlewares/FreeRTOS/tasks.c ****             TCB_t * pxNewTCB;
1765:Middlewares/FreeRTOS/tasks.c ****             BaseType_t xReturn;
1766:Middlewares/FreeRTOS/tasks.c **** 
1767:Middlewares/FreeRTOS/tasks.c ****             traceENTER_xTaskCreateAffinitySet( pxTaskCode, pcName, uxStackDepth, pvParameters, uxPr
1768:Middlewares/FreeRTOS/tasks.c **** 
1769:Middlewares/FreeRTOS/tasks.c ****             pxNewTCB = prvCreateTask( pxTaskCode, pcName, uxStackDepth, pvParameters, uxPriority, p
1770:Middlewares/FreeRTOS/tasks.c **** 
1771:Middlewares/FreeRTOS/tasks.c ****             if( pxNewTCB != NULL )
1772:Middlewares/FreeRTOS/tasks.c ****             {
1773:Middlewares/FreeRTOS/tasks.c ****                 /* Set the task's affinity before scheduling it. */
1774:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB->uxCoreAffinityMask = uxCoreAffinityMask;
1775:Middlewares/FreeRTOS/tasks.c **** 
1776:Middlewares/FreeRTOS/tasks.c ****                 prvAddNewTaskToReadyList( pxNewTCB );
1777:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pdPASS;
1778:Middlewares/FreeRTOS/tasks.c ****             }
1779:Middlewares/FreeRTOS/tasks.c ****             else
1780:Middlewares/FreeRTOS/tasks.c ****             {
1781:Middlewares/FreeRTOS/tasks.c ****                 xReturn = errCOULD_NOT_ALLOCATE_REQUIRED_MEMORY;
1782:Middlewares/FreeRTOS/tasks.c ****             }
1783:Middlewares/FreeRTOS/tasks.c **** 
1784:Middlewares/FreeRTOS/tasks.c ****             traceRETURN_xTaskCreateAffinitySet( xReturn );
1785:Middlewares/FreeRTOS/tasks.c **** 
1786:Middlewares/FreeRTOS/tasks.c ****             return xReturn;
1787:Middlewares/FreeRTOS/tasks.c ****         }
1788:Middlewares/FreeRTOS/tasks.c ****     #endif /* #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_CORE_AFFINITY == 1 ) ) */
1789:Middlewares/FreeRTOS/tasks.c **** 
1790:Middlewares/FreeRTOS/tasks.c **** #endif /* configSUPPORT_DYNAMIC_ALLOCATION */
1791:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
1792:Middlewares/FreeRTOS/tasks.c **** 
1793:Middlewares/FreeRTOS/tasks.c **** static void prvInitialiseNewTask( TaskFunction_t pxTaskCode,
1794:Middlewares/FreeRTOS/tasks.c ****                                   const char * const pcName,
1795:Middlewares/FreeRTOS/tasks.c ****                                   const configSTACK_DEPTH_TYPE uxStackDepth,
1796:Middlewares/FreeRTOS/tasks.c ****                                   void * const pvParameters,
1797:Middlewares/FreeRTOS/tasks.c ****                                   UBaseType_t uxPriority,
1798:Middlewares/FreeRTOS/tasks.c ****                                   TaskHandle_t * const pxCreatedTask,
1799:Middlewares/FreeRTOS/tasks.c ****                                   TCB_t * pxNewTCB,
1800:Middlewares/FreeRTOS/tasks.c ****                                   const MemoryRegion_t * const xRegions )
1801:Middlewares/FreeRTOS/tasks.c **** {
 322              		.loc 1 1801 1
 323              		.cfi_startproc
 324              		@ args = 16, pretend = 0, frame = 24
 325              		@ frame_needed = 1, uses_anonymous_args = 0
 326 0000 80B5     		push	{r7, lr}
 327              		.cfi_def_cfa_offset 8
 328              		.cfi_offset 7, -8
 329              		.cfi_offset 14, -4
 330 0002 86B0     		sub	sp, sp, #24
 331              		.cfi_def_cfa_offset 32
 332 0004 00AF     		add	r7, sp, #0
 333              		.cfi_def_cfa_register 7
ARM GAS  /tmp/ccF71V7c.s 			page 38


 334 0006 F860     		str	r0, [r7, #12]
 335 0008 B960     		str	r1, [r7, #8]
 336 000a 7A60     		str	r2, [r7, #4]
 337 000c 3B60     		str	r3, [r7]
1802:Middlewares/FreeRTOS/tasks.c ****     StackType_t * pxTopOfStack;
1803:Middlewares/FreeRTOS/tasks.c ****     UBaseType_t x;
1804:Middlewares/FreeRTOS/tasks.c **** 
1805:Middlewares/FreeRTOS/tasks.c ****     #if ( portUSING_MPU_WRAPPERS == 1 )
1806:Middlewares/FreeRTOS/tasks.c ****         /* Should the task be created in privileged mode? */
1807:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xRunPrivileged;
1808:Middlewares/FreeRTOS/tasks.c **** 
1809:Middlewares/FreeRTOS/tasks.c ****         if( ( uxPriority & portPRIVILEGE_BIT ) != 0U )
1810:Middlewares/FreeRTOS/tasks.c ****         {
1811:Middlewares/FreeRTOS/tasks.c ****             xRunPrivileged = pdTRUE;
1812:Middlewares/FreeRTOS/tasks.c ****         }
1813:Middlewares/FreeRTOS/tasks.c ****         else
1814:Middlewares/FreeRTOS/tasks.c ****         {
1815:Middlewares/FreeRTOS/tasks.c ****             xRunPrivileged = pdFALSE;
1816:Middlewares/FreeRTOS/tasks.c ****         }
1817:Middlewares/FreeRTOS/tasks.c ****         uxPriority &= ~portPRIVILEGE_BIT;
1818:Middlewares/FreeRTOS/tasks.c ****     #endif /* portUSING_MPU_WRAPPERS == 1 */
1819:Middlewares/FreeRTOS/tasks.c **** 
1820:Middlewares/FreeRTOS/tasks.c ****     /* Avoid dependency on memset() if it is not required. */
1821:Middlewares/FreeRTOS/tasks.c ****     #if ( tskSET_NEW_STACKS_TO_KNOWN_VALUE == 1 )
1822:Middlewares/FreeRTOS/tasks.c ****     {
1823:Middlewares/FreeRTOS/tasks.c ****         /* Fill the stack with a known value to assist debugging. */
1824:Middlewares/FreeRTOS/tasks.c ****         ( void ) memset( pxNewTCB->pxStack, ( int ) tskSTACK_FILL_BYTE, ( size_t ) uxStackDepth * s
 338              		.loc 1 1824 34
 339 000e BB6A     		ldr	r3, [r7, #40]
 340 0010 186B     		ldr	r0, [r3, #48]
 341              		.loc 1 1824 18
 342 0012 7B68     		ldr	r3, [r7, #4]
 343 0014 9B00     		lsls	r3, r3, #2
 344 0016 1A46     		mov	r2, r3
 345 0018 A521     		movs	r1, #165
 346 001a FFF7FEFF 		bl	memset
1825:Middlewares/FreeRTOS/tasks.c ****     }
1826:Middlewares/FreeRTOS/tasks.c ****     #endif /* tskSET_NEW_STACKS_TO_KNOWN_VALUE */
1827:Middlewares/FreeRTOS/tasks.c **** 
1828:Middlewares/FreeRTOS/tasks.c ****     /* Calculate the top of stack address.  This depends on whether the stack
1829:Middlewares/FreeRTOS/tasks.c ****      * grows from high memory to low (as per the 80x86) or vice versa.
1830:Middlewares/FreeRTOS/tasks.c ****      * portSTACK_GROWTH is used to make the result positive or negative as required
1831:Middlewares/FreeRTOS/tasks.c ****      * by the port. */
1832:Middlewares/FreeRTOS/tasks.c ****     #if ( portSTACK_GROWTH < 0 )
1833:Middlewares/FreeRTOS/tasks.c ****     {
1834:Middlewares/FreeRTOS/tasks.c ****         pxTopOfStack = &( pxNewTCB->pxStack[ uxStackDepth - ( configSTACK_DEPTH_TYPE ) 1 ] );
 347              		.loc 1 1834 35
 348 001e BB6A     		ldr	r3, [r7, #40]
 349 0020 1A6B     		ldr	r2, [r3, #48]
 350              		.loc 1 1834 44
 351 0022 7B68     		ldr	r3, [r7, #4]
 352 0024 03F18043 		add	r3, r3, #1073741824
 353 0028 013B     		subs	r3, r3, #1
 354 002a 9B00     		lsls	r3, r3, #2
 355              		.loc 1 1834 22
 356 002c 1344     		add	r3, r3, r2
 357 002e 3B61     		str	r3, [r7, #16]
ARM GAS  /tmp/ccF71V7c.s 			page 39


1835:Middlewares/FreeRTOS/tasks.c ****         pxTopOfStack = ( StackType_t * ) ( ( ( portPOINTER_SIZE_TYPE ) pxTopOfStack ) & ( ~( ( port
 358              		.loc 1 1835 46
 359 0030 3B69     		ldr	r3, [r7, #16]
 360              		.loc 1 1835 87
 361 0032 23F00703 		bic	r3, r3, #7
 362              		.loc 1 1835 22
 363 0036 3B61     		str	r3, [r7, #16]
1836:Middlewares/FreeRTOS/tasks.c **** 
1837:Middlewares/FreeRTOS/tasks.c ****         /* Check the alignment of the calculated top of stack is correct. */
1838:Middlewares/FreeRTOS/tasks.c ****         configASSERT( ( ( ( portPOINTER_SIZE_TYPE ) pxTopOfStack & ( portPOINTER_SIZE_TYPE ) portBY
1839:Middlewares/FreeRTOS/tasks.c **** 
1840:Middlewares/FreeRTOS/tasks.c ****         #if ( configRECORD_STACK_HIGH_ADDRESS == 1 )
1841:Middlewares/FreeRTOS/tasks.c ****         {
1842:Middlewares/FreeRTOS/tasks.c ****             /* Also record the stack's high address, which may assist
1843:Middlewares/FreeRTOS/tasks.c ****              * debugging. */
1844:Middlewares/FreeRTOS/tasks.c ****             pxNewTCB->pxEndOfStack = pxTopOfStack;
1845:Middlewares/FreeRTOS/tasks.c ****         }
1846:Middlewares/FreeRTOS/tasks.c ****         #endif /* configRECORD_STACK_HIGH_ADDRESS */
1847:Middlewares/FreeRTOS/tasks.c ****     }
1848:Middlewares/FreeRTOS/tasks.c ****     #else /* portSTACK_GROWTH */
1849:Middlewares/FreeRTOS/tasks.c ****     {
1850:Middlewares/FreeRTOS/tasks.c ****         pxTopOfStack = pxNewTCB->pxStack;
1851:Middlewares/FreeRTOS/tasks.c ****         pxTopOfStack = ( StackType_t * ) ( ( ( ( portPOINTER_SIZE_TYPE ) pxTopOfStack ) + portBYTE_
1852:Middlewares/FreeRTOS/tasks.c **** 
1853:Middlewares/FreeRTOS/tasks.c ****         /* Check the alignment of the calculated top of stack is correct. */
1854:Middlewares/FreeRTOS/tasks.c ****         configASSERT( ( ( ( portPOINTER_SIZE_TYPE ) pxTopOfStack & ( portPOINTER_SIZE_TYPE ) portBY
1855:Middlewares/FreeRTOS/tasks.c **** 
1856:Middlewares/FreeRTOS/tasks.c ****         /* The other extreme of the stack space is required if stack checking is
1857:Middlewares/FreeRTOS/tasks.c ****          * performed. */
1858:Middlewares/FreeRTOS/tasks.c ****         pxNewTCB->pxEndOfStack = pxNewTCB->pxStack + ( uxStackDepth - ( configSTACK_DEPTH_TYPE ) 1 
1859:Middlewares/FreeRTOS/tasks.c ****     }
1860:Middlewares/FreeRTOS/tasks.c ****     #endif /* portSTACK_GROWTH */
1861:Middlewares/FreeRTOS/tasks.c **** 
1862:Middlewares/FreeRTOS/tasks.c ****     /* Store the task name in the TCB. */
1863:Middlewares/FreeRTOS/tasks.c ****     if( pcName != NULL )
 364              		.loc 1 1863 7
 365 0038 BB68     		ldr	r3, [r7, #8]
 366 003a 002B     		cmp	r3, #0
 367 003c 1ED0     		beq	.L12
1864:Middlewares/FreeRTOS/tasks.c ****     {
1865:Middlewares/FreeRTOS/tasks.c ****         for( x = ( UBaseType_t ) 0; x < ( UBaseType_t ) configMAX_TASK_NAME_LEN; x++ )
 368              		.loc 1 1865 16
 369 003e 0023     		movs	r3, #0
 370 0040 7B61     		str	r3, [r7, #20]
 371              		.loc 1 1865 9
 372 0042 12E0     		b	.L13
 373              	.L16:
1866:Middlewares/FreeRTOS/tasks.c ****         {
1867:Middlewares/FreeRTOS/tasks.c ****             pxNewTCB->pcTaskName[ x ] = pcName[ x ];
 374              		.loc 1 1867 47
 375 0044 BA68     		ldr	r2, [r7, #8]
 376 0046 7B69     		ldr	r3, [r7, #20]
 377 0048 1344     		add	r3, r3, r2
 378 004a 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 379              		.loc 1 1867 39
 380 004c BA6A     		ldr	r2, [r7, #40]
 381 004e 7B69     		ldr	r3, [r7, #20]
ARM GAS  /tmp/ccF71V7c.s 			page 40


 382 0050 1344     		add	r3, r3, r2
 383 0052 3433     		adds	r3, r3, #52
 384 0054 0A46     		mov	r2, r1
 385 0056 1A70     		strb	r2, [r3]
1868:Middlewares/FreeRTOS/tasks.c **** 
1869:Middlewares/FreeRTOS/tasks.c ****             /* Don't copy all configMAX_TASK_NAME_LEN if the string is shorter than
1870:Middlewares/FreeRTOS/tasks.c ****              * configMAX_TASK_NAME_LEN characters just in case the memory after the
1871:Middlewares/FreeRTOS/tasks.c ****              * string is not accessible (extremely unlikely). */
1872:Middlewares/FreeRTOS/tasks.c ****             if( pcName[ x ] == ( char ) 0x00 )
 386              		.loc 1 1872 23
 387 0058 BA68     		ldr	r2, [r7, #8]
 388 005a 7B69     		ldr	r3, [r7, #20]
 389 005c 1344     		add	r3, r3, r2
 390 005e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 391              		.loc 1 1872 15
 392 0060 002B     		cmp	r3, #0
 393 0062 06D0     		beq	.L19
1865:Middlewares/FreeRTOS/tasks.c ****         {
 394              		.loc 1 1865 83 discriminator 2
 395 0064 7B69     		ldr	r3, [r7, #20]
 396 0066 0133     		adds	r3, r3, #1
 397 0068 7B61     		str	r3, [r7, #20]
 398              	.L13:
1865:Middlewares/FreeRTOS/tasks.c ****         {
 399              		.loc 1 1865 39 discriminator 1
 400 006a 7B69     		ldr	r3, [r7, #20]
 401 006c 0F2B     		cmp	r3, #15
 402 006e E9D9     		bls	.L16
 403 0070 00E0     		b	.L15
 404              	.L19:
1873:Middlewares/FreeRTOS/tasks.c ****             {
1874:Middlewares/FreeRTOS/tasks.c ****                 break;
 405              		.loc 1 1874 17
 406 0072 00BF     		nop
 407              	.L15:
1875:Middlewares/FreeRTOS/tasks.c ****             }
1876:Middlewares/FreeRTOS/tasks.c ****             else
1877:Middlewares/FreeRTOS/tasks.c ****             {
1878:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
1879:Middlewares/FreeRTOS/tasks.c ****             }
1880:Middlewares/FreeRTOS/tasks.c ****         }
1881:Middlewares/FreeRTOS/tasks.c **** 
1882:Middlewares/FreeRTOS/tasks.c ****         /* Ensure the name string is terminated in the case that the string length
1883:Middlewares/FreeRTOS/tasks.c ****          * was greater or equal to configMAX_TASK_NAME_LEN. */
1884:Middlewares/FreeRTOS/tasks.c ****         pxNewTCB->pcTaskName[ configMAX_TASK_NAME_LEN - 1U ] = '\0';
 408              		.loc 1 1884 62
 409 0074 BB6A     		ldr	r3, [r7, #40]
 410 0076 0022     		movs	r2, #0
 411 0078 83F84320 		strb	r2, [r3, #67]
 412              	.L12:
1885:Middlewares/FreeRTOS/tasks.c ****     }
1886:Middlewares/FreeRTOS/tasks.c ****     else
1887:Middlewares/FreeRTOS/tasks.c ****     {
1888:Middlewares/FreeRTOS/tasks.c ****         mtCOVERAGE_TEST_MARKER();
1889:Middlewares/FreeRTOS/tasks.c ****     }
1890:Middlewares/FreeRTOS/tasks.c **** 
1891:Middlewares/FreeRTOS/tasks.c ****     /* This is used as an array index so must ensure it's not too large. */
ARM GAS  /tmp/ccF71V7c.s 			page 41


1892:Middlewares/FreeRTOS/tasks.c ****     configASSERT( uxPriority < configMAX_PRIORITIES );
1893:Middlewares/FreeRTOS/tasks.c **** 
1894:Middlewares/FreeRTOS/tasks.c ****     if( uxPriority >= ( UBaseType_t ) configMAX_PRIORITIES )
 413              		.loc 1 1894 7
 414 007c 3B6A     		ldr	r3, [r7, #32]
 415 007e 042B     		cmp	r3, #4
 416 0080 01D9     		bls	.L17
1895:Middlewares/FreeRTOS/tasks.c ****     {
1896:Middlewares/FreeRTOS/tasks.c ****         uxPriority = ( UBaseType_t ) configMAX_PRIORITIES - ( UBaseType_t ) 1U;
 417              		.loc 1 1896 20
 418 0082 0423     		movs	r3, #4
 419 0084 3B62     		str	r3, [r7, #32]
 420              	.L17:
1897:Middlewares/FreeRTOS/tasks.c ****     }
1898:Middlewares/FreeRTOS/tasks.c ****     else
1899:Middlewares/FreeRTOS/tasks.c ****     {
1900:Middlewares/FreeRTOS/tasks.c ****         mtCOVERAGE_TEST_MARKER();
1901:Middlewares/FreeRTOS/tasks.c ****     }
1902:Middlewares/FreeRTOS/tasks.c **** 
1903:Middlewares/FreeRTOS/tasks.c ****     pxNewTCB->uxPriority = uxPriority;
 421              		.loc 1 1903 26
 422 0086 BB6A     		ldr	r3, [r7, #40]
 423 0088 3A6A     		ldr	r2, [r7, #32]
 424 008a DA62     		str	r2, [r3, #44]
1904:Middlewares/FreeRTOS/tasks.c ****     #if ( configUSE_MUTEXES == 1 )
1905:Middlewares/FreeRTOS/tasks.c ****     {
1906:Middlewares/FreeRTOS/tasks.c ****         pxNewTCB->uxBasePriority = uxPriority;
 425              		.loc 1 1906 34
 426 008c BB6A     		ldr	r3, [r7, #40]
 427 008e 3A6A     		ldr	r2, [r7, #32]
 428 0090 DA64     		str	r2, [r3, #76]
1907:Middlewares/FreeRTOS/tasks.c ****     }
1908:Middlewares/FreeRTOS/tasks.c ****     #endif /* configUSE_MUTEXES */
1909:Middlewares/FreeRTOS/tasks.c **** 
1910:Middlewares/FreeRTOS/tasks.c ****     vListInitialiseItem( &( pxNewTCB->xStateListItem ) );
 429              		.loc 1 1910 5
 430 0092 BB6A     		ldr	r3, [r7, #40]
 431 0094 0433     		adds	r3, r3, #4
 432 0096 1846     		mov	r0, r3
 433 0098 FFF7FEFF 		bl	vListInitialiseItem
1911:Middlewares/FreeRTOS/tasks.c ****     vListInitialiseItem( &( pxNewTCB->xEventListItem ) );
 434              		.loc 1 1911 5
 435 009c BB6A     		ldr	r3, [r7, #40]
 436 009e 1833     		adds	r3, r3, #24
 437 00a0 1846     		mov	r0, r3
 438 00a2 FFF7FEFF 		bl	vListInitialiseItem
1912:Middlewares/FreeRTOS/tasks.c **** 
1913:Middlewares/FreeRTOS/tasks.c ****     /* Set the pxNewTCB as a link back from the ListItem_t.  This is so we can get
1914:Middlewares/FreeRTOS/tasks.c ****      * back to  the containing TCB from a generic item in a list. */
1915:Middlewares/FreeRTOS/tasks.c ****     listSET_LIST_ITEM_OWNER( &( pxNewTCB->xStateListItem ), pxNewTCB );
 439              		.loc 1 1915 5
 440 00a6 BB6A     		ldr	r3, [r7, #40]
 441 00a8 BA6A     		ldr	r2, [r7, #40]
 442 00aa 1A61     		str	r2, [r3, #16]
1916:Middlewares/FreeRTOS/tasks.c **** 
1917:Middlewares/FreeRTOS/tasks.c ****     /* Event lists are always in priority order. */
1918:Middlewares/FreeRTOS/tasks.c ****     listSET_LIST_ITEM_VALUE( &( pxNewTCB->xEventListItem ), ( TickType_t ) configMAX_PRIORITIES - (
ARM GAS  /tmp/ccF71V7c.s 			page 42


 443              		.loc 1 1918 5
 444 00ac 3B6A     		ldr	r3, [r7, #32]
 445 00ae C3F10502 		rsb	r2, r3, #5
 446 00b2 BB6A     		ldr	r3, [r7, #40]
 447 00b4 9A61     		str	r2, [r3, #24]
1919:Middlewares/FreeRTOS/tasks.c ****     listSET_LIST_ITEM_OWNER( &( pxNewTCB->xEventListItem ), pxNewTCB );
 448              		.loc 1 1919 5
 449 00b6 BB6A     		ldr	r3, [r7, #40]
 450 00b8 BA6A     		ldr	r2, [r7, #40]
 451 00ba 5A62     		str	r2, [r3, #36]
1920:Middlewares/FreeRTOS/tasks.c **** 
1921:Middlewares/FreeRTOS/tasks.c ****     #if ( portUSING_MPU_WRAPPERS == 1 )
1922:Middlewares/FreeRTOS/tasks.c ****     {
1923:Middlewares/FreeRTOS/tasks.c ****         vPortStoreTaskMPUSettings( &( pxNewTCB->xMPUSettings ), xRegions, pxNewTCB->pxStack, uxStac
1924:Middlewares/FreeRTOS/tasks.c ****     }
1925:Middlewares/FreeRTOS/tasks.c ****     #else
1926:Middlewares/FreeRTOS/tasks.c ****     {
1927:Middlewares/FreeRTOS/tasks.c ****         /* Avoid compiler warning about unreferenced parameter. */
1928:Middlewares/FreeRTOS/tasks.c ****         ( void ) xRegions;
1929:Middlewares/FreeRTOS/tasks.c ****     }
1930:Middlewares/FreeRTOS/tasks.c ****     #endif
1931:Middlewares/FreeRTOS/tasks.c **** 
1932:Middlewares/FreeRTOS/tasks.c ****     #if ( configUSE_C_RUNTIME_TLS_SUPPORT == 1 )
1933:Middlewares/FreeRTOS/tasks.c ****     {
1934:Middlewares/FreeRTOS/tasks.c ****         /* Allocate and initialize memory for the task's TLS Block. */
1935:Middlewares/FreeRTOS/tasks.c ****         configINIT_TLS_BLOCK( pxNewTCB->xTLSBlock, pxTopOfStack );
1936:Middlewares/FreeRTOS/tasks.c ****     }
1937:Middlewares/FreeRTOS/tasks.c ****     #endif
1938:Middlewares/FreeRTOS/tasks.c **** 
1939:Middlewares/FreeRTOS/tasks.c ****     /* Initialize the TCB stack to look as if the task was already running,
1940:Middlewares/FreeRTOS/tasks.c ****      * but had been interrupted by the scheduler.  The return address is set
1941:Middlewares/FreeRTOS/tasks.c ****      * to the start of the task function. Once the stack has been initialised
1942:Middlewares/FreeRTOS/tasks.c ****      * the top of stack variable is updated. */
1943:Middlewares/FreeRTOS/tasks.c ****     #if ( portUSING_MPU_WRAPPERS == 1 )
1944:Middlewares/FreeRTOS/tasks.c ****     {
1945:Middlewares/FreeRTOS/tasks.c ****         /* If the port has capability to detect stack overflow,
1946:Middlewares/FreeRTOS/tasks.c ****          * pass the stack end address to the stack initialization
1947:Middlewares/FreeRTOS/tasks.c ****          * function as well. */
1948:Middlewares/FreeRTOS/tasks.c ****         #if ( portHAS_STACK_OVERFLOW_CHECKING == 1 )
1949:Middlewares/FreeRTOS/tasks.c ****         {
1950:Middlewares/FreeRTOS/tasks.c ****             #if ( portSTACK_GROWTH < 0 )
1951:Middlewares/FreeRTOS/tasks.c ****             {
1952:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB->pxTopOfStack = pxPortInitialiseStack( pxTopOfStack, pxNewTCB->pxStack, px
1953:Middlewares/FreeRTOS/tasks.c ****             }
1954:Middlewares/FreeRTOS/tasks.c ****             #else /* portSTACK_GROWTH */
1955:Middlewares/FreeRTOS/tasks.c ****             {
1956:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB->pxTopOfStack = pxPortInitialiseStack( pxTopOfStack, pxNewTCB->pxEndOfStac
1957:Middlewares/FreeRTOS/tasks.c ****             }
1958:Middlewares/FreeRTOS/tasks.c ****             #endif /* portSTACK_GROWTH */
1959:Middlewares/FreeRTOS/tasks.c ****         }
1960:Middlewares/FreeRTOS/tasks.c ****         #else /* portHAS_STACK_OVERFLOW_CHECKING */
1961:Middlewares/FreeRTOS/tasks.c ****         {
1962:Middlewares/FreeRTOS/tasks.c ****             pxNewTCB->pxTopOfStack = pxPortInitialiseStack( pxTopOfStack, pxTaskCode, pvParameters,
1963:Middlewares/FreeRTOS/tasks.c ****         }
1964:Middlewares/FreeRTOS/tasks.c ****         #endif /* portHAS_STACK_OVERFLOW_CHECKING */
1965:Middlewares/FreeRTOS/tasks.c ****     }
1966:Middlewares/FreeRTOS/tasks.c ****     #else /* portUSING_MPU_WRAPPERS */
ARM GAS  /tmp/ccF71V7c.s 			page 43


1967:Middlewares/FreeRTOS/tasks.c ****     {
1968:Middlewares/FreeRTOS/tasks.c ****         /* If the port has capability to detect stack overflow,
1969:Middlewares/FreeRTOS/tasks.c ****          * pass the stack end address to the stack initialization
1970:Middlewares/FreeRTOS/tasks.c ****          * function as well. */
1971:Middlewares/FreeRTOS/tasks.c ****         #if ( portHAS_STACK_OVERFLOW_CHECKING == 1 )
1972:Middlewares/FreeRTOS/tasks.c ****         {
1973:Middlewares/FreeRTOS/tasks.c ****             #if ( portSTACK_GROWTH < 0 )
1974:Middlewares/FreeRTOS/tasks.c ****             {
1975:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB->pxTopOfStack = pxPortInitialiseStack( pxTopOfStack, pxNewTCB->pxStack, px
1976:Middlewares/FreeRTOS/tasks.c ****             }
1977:Middlewares/FreeRTOS/tasks.c ****             #else /* portSTACK_GROWTH */
1978:Middlewares/FreeRTOS/tasks.c ****             {
1979:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB->pxTopOfStack = pxPortInitialiseStack( pxTopOfStack, pxNewTCB->pxEndOfStac
1980:Middlewares/FreeRTOS/tasks.c ****             }
1981:Middlewares/FreeRTOS/tasks.c ****             #endif /* portSTACK_GROWTH */
1982:Middlewares/FreeRTOS/tasks.c ****         }
1983:Middlewares/FreeRTOS/tasks.c ****         #else /* portHAS_STACK_OVERFLOW_CHECKING */
1984:Middlewares/FreeRTOS/tasks.c ****         {
1985:Middlewares/FreeRTOS/tasks.c ****             pxNewTCB->pxTopOfStack = pxPortInitialiseStack( pxTopOfStack, pxTaskCode, pvParameters 
 452              		.loc 1 1985 38
 453 00bc 3A68     		ldr	r2, [r7]
 454 00be F968     		ldr	r1, [r7, #12]
 455 00c0 3869     		ldr	r0, [r7, #16]
 456 00c2 FFF7FEFF 		bl	pxPortInitialiseStack
 457 00c6 0246     		mov	r2, r0
 458              		.loc 1 1985 36 discriminator 1
 459 00c8 BB6A     		ldr	r3, [r7, #40]
 460 00ca 1A60     		str	r2, [r3]
1986:Middlewares/FreeRTOS/tasks.c ****         }
1987:Middlewares/FreeRTOS/tasks.c ****         #endif /* portHAS_STACK_OVERFLOW_CHECKING */
1988:Middlewares/FreeRTOS/tasks.c ****     }
1989:Middlewares/FreeRTOS/tasks.c ****     #endif /* portUSING_MPU_WRAPPERS */
1990:Middlewares/FreeRTOS/tasks.c **** 
1991:Middlewares/FreeRTOS/tasks.c ****     /* Initialize task state and task attributes. */
1992:Middlewares/FreeRTOS/tasks.c ****     #if ( configNUMBER_OF_CORES > 1 )
1993:Middlewares/FreeRTOS/tasks.c ****     {
1994:Middlewares/FreeRTOS/tasks.c ****         pxNewTCB->xTaskRunState = taskTASK_NOT_RUNNING;
1995:Middlewares/FreeRTOS/tasks.c **** 
1996:Middlewares/FreeRTOS/tasks.c ****         /* Is this an idle task? */
1997:Middlewares/FreeRTOS/tasks.c ****         if( ( ( TaskFunction_t ) pxTaskCode == ( TaskFunction_t ) prvIdleTask ) || ( ( TaskFunction
1998:Middlewares/FreeRTOS/tasks.c ****         {
1999:Middlewares/FreeRTOS/tasks.c ****             pxNewTCB->uxTaskAttributes |= taskATTRIBUTE_IS_IDLE;
2000:Middlewares/FreeRTOS/tasks.c ****         }
2001:Middlewares/FreeRTOS/tasks.c ****     }
2002:Middlewares/FreeRTOS/tasks.c ****     #endif /* #if ( configNUMBER_OF_CORES > 1 ) */
2003:Middlewares/FreeRTOS/tasks.c **** 
2004:Middlewares/FreeRTOS/tasks.c ****     if( pxCreatedTask != NULL )
 461              		.loc 1 2004 7
 462 00cc 7B6A     		ldr	r3, [r7, #36]
 463 00ce 002B     		cmp	r3, #0
 464 00d0 02D0     		beq	.L20
2005:Middlewares/FreeRTOS/tasks.c ****     {
2006:Middlewares/FreeRTOS/tasks.c ****         /* Pass the handle out in an anonymous way.  The handle can be used to
2007:Middlewares/FreeRTOS/tasks.c ****          * change the created task's priority, delete the created task, etc.*/
2008:Middlewares/FreeRTOS/tasks.c ****         *pxCreatedTask = ( TaskHandle_t ) pxNewTCB;
 465              		.loc 1 2008 24
 466 00d2 7B6A     		ldr	r3, [r7, #36]
ARM GAS  /tmp/ccF71V7c.s 			page 44


 467 00d4 BA6A     		ldr	r2, [r7, #40]
 468 00d6 1A60     		str	r2, [r3]
 469              	.L20:
2009:Middlewares/FreeRTOS/tasks.c ****     }
2010:Middlewares/FreeRTOS/tasks.c ****     else
2011:Middlewares/FreeRTOS/tasks.c ****     {
2012:Middlewares/FreeRTOS/tasks.c ****         mtCOVERAGE_TEST_MARKER();
2013:Middlewares/FreeRTOS/tasks.c ****     }
2014:Middlewares/FreeRTOS/tasks.c **** }
 470              		.loc 1 2014 1
 471 00d8 00BF     		nop
 472 00da 1837     		adds	r7, r7, #24
 473              		.cfi_def_cfa_offset 8
 474 00dc BD46     		mov	sp, r7
 475              		.cfi_def_cfa_register 13
 476              		@ sp needed
 477 00de 80BD     		pop	{r7, pc}
 478              		.cfi_endproc
 479              	.LFE9:
 481              		.section	.text.prvAddNewTaskToReadyList,"ax",%progbits
 482              		.align	1
 483              		.syntax unified
 484              		.thumb
 485              		.thumb_func
 487              	prvAddNewTaskToReadyList:
 488              	.LFB10:
2015:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
2016:Middlewares/FreeRTOS/tasks.c **** 
2017:Middlewares/FreeRTOS/tasks.c **** #if ( configNUMBER_OF_CORES == 1 )
2018:Middlewares/FreeRTOS/tasks.c **** 
2019:Middlewares/FreeRTOS/tasks.c ****     static void prvAddNewTaskToReadyList( TCB_t * pxNewTCB )
2020:Middlewares/FreeRTOS/tasks.c ****     {
 489              		.loc 1 2020 5
 490              		.cfi_startproc
 491              		@ args = 0, pretend = 0, frame = 16
 492              		@ frame_needed = 1, uses_anonymous_args = 0
 493 0000 80B5     		push	{r7, lr}
 494              		.cfi_def_cfa_offset 8
 495              		.cfi_offset 7, -8
 496              		.cfi_offset 14, -4
 497 0002 84B0     		sub	sp, sp, #16
 498              		.cfi_def_cfa_offset 24
 499 0004 00AF     		add	r7, sp, #0
 500              		.cfi_def_cfa_register 7
 501 0006 7860     		str	r0, [r7, #4]
2021:Middlewares/FreeRTOS/tasks.c ****         /* Ensure interrupts don't access the task lists while the lists are being
2022:Middlewares/FreeRTOS/tasks.c ****          * updated. */
2023:Middlewares/FreeRTOS/tasks.c ****         taskENTER_CRITICAL();
 502              		.loc 1 2023 9
 503 0008 FFF7FEFF 		bl	vPortEnterCritical
2024:Middlewares/FreeRTOS/tasks.c ****         {
2025:Middlewares/FreeRTOS/tasks.c ****             uxCurrentNumberOfTasks = ( UBaseType_t ) ( uxCurrentNumberOfTasks + 1U );
 504              		.loc 1 2025 38
 505 000c 424B     		ldr	r3, .L27
 506 000e 1B68     		ldr	r3, [r3]
 507 0010 0133     		adds	r3, r3, #1
 508              		.loc 1 2025 36
ARM GAS  /tmp/ccF71V7c.s 			page 45


 509 0012 414A     		ldr	r2, .L27
 510 0014 1360     		str	r3, [r2]
2026:Middlewares/FreeRTOS/tasks.c **** 
2027:Middlewares/FreeRTOS/tasks.c ****             if( pxCurrentTCB == NULL )
 511              		.loc 1 2027 30
 512 0016 414B     		ldr	r3, .L27+4
 513 0018 1B68     		ldr	r3, [r3]
 514              		.loc 1 2027 15
 515 001a 002B     		cmp	r3, #0
 516 001c 09D1     		bne	.L22
2028:Middlewares/FreeRTOS/tasks.c ****             {
2029:Middlewares/FreeRTOS/tasks.c ****                 /* There are no other tasks, or all the other tasks are in
2030:Middlewares/FreeRTOS/tasks.c ****                  * the suspended state - make this the current task. */
2031:Middlewares/FreeRTOS/tasks.c ****                 pxCurrentTCB = pxNewTCB;
 517              		.loc 1 2031 30
 518 001e 3F4A     		ldr	r2, .L27+4
 519 0020 7B68     		ldr	r3, [r7, #4]
 520 0022 1360     		str	r3, [r2]
2032:Middlewares/FreeRTOS/tasks.c **** 
2033:Middlewares/FreeRTOS/tasks.c ****                 if( uxCurrentNumberOfTasks == ( UBaseType_t ) 1 )
 521              		.loc 1 2033 44
 522 0024 3C4B     		ldr	r3, .L27
 523 0026 1B68     		ldr	r3, [r3]
 524              		.loc 1 2033 19
 525 0028 012B     		cmp	r3, #1
 526 002a 10D1     		bne	.L23
2034:Middlewares/FreeRTOS/tasks.c ****                 {
2035:Middlewares/FreeRTOS/tasks.c ****                     /* This is the first task to be created so do the preliminary
2036:Middlewares/FreeRTOS/tasks.c ****                      * initialisation required.  We will not recover if this call
2037:Middlewares/FreeRTOS/tasks.c ****                      * fails, but we will report the failure. */
2038:Middlewares/FreeRTOS/tasks.c ****                     prvInitialiseTaskLists();
 527              		.loc 1 2038 21
 528 002c FFF7FEFF 		bl	prvInitialiseTaskLists
 529 0030 0DE0     		b	.L23
 530              	.L22:
2039:Middlewares/FreeRTOS/tasks.c ****                 }
2040:Middlewares/FreeRTOS/tasks.c ****                 else
2041:Middlewares/FreeRTOS/tasks.c ****                 {
2042:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
2043:Middlewares/FreeRTOS/tasks.c ****                 }
2044:Middlewares/FreeRTOS/tasks.c ****             }
2045:Middlewares/FreeRTOS/tasks.c ****             else
2046:Middlewares/FreeRTOS/tasks.c ****             {
2047:Middlewares/FreeRTOS/tasks.c ****                 /* If the scheduler is not already running, make this task the
2048:Middlewares/FreeRTOS/tasks.c ****                  * current task if it is the highest priority task to be created
2049:Middlewares/FreeRTOS/tasks.c ****                  * so far. */
2050:Middlewares/FreeRTOS/tasks.c ****                 if( xSchedulerRunning == pdFALSE )
 531              		.loc 1 2050 39
 532 0032 3B4B     		ldr	r3, .L27+8
 533 0034 1B68     		ldr	r3, [r3]
 534              		.loc 1 2050 19
 535 0036 002B     		cmp	r3, #0
 536 0038 09D1     		bne	.L23
2051:Middlewares/FreeRTOS/tasks.c ****                 {
2052:Middlewares/FreeRTOS/tasks.c ****                     if( pxCurrentTCB->uxPriority <= pxNewTCB->uxPriority )
 537              		.loc 1 2052 37
 538 003a 384B     		ldr	r3, .L27+4
ARM GAS  /tmp/ccF71V7c.s 			page 46


 539 003c 1B68     		ldr	r3, [r3]
 540 003e DA6A     		ldr	r2, [r3, #44]
 541              		.loc 1 2052 61
 542 0040 7B68     		ldr	r3, [r7, #4]
 543 0042 DB6A     		ldr	r3, [r3, #44]
 544              		.loc 1 2052 23
 545 0044 9A42     		cmp	r2, r3
 546 0046 02D8     		bhi	.L23
2053:Middlewares/FreeRTOS/tasks.c ****                     {
2054:Middlewares/FreeRTOS/tasks.c ****                         pxCurrentTCB = pxNewTCB;
 547              		.loc 1 2054 38
 548 0048 344A     		ldr	r2, .L27+4
 549 004a 7B68     		ldr	r3, [r7, #4]
 550 004c 1360     		str	r3, [r2]
 551              	.L23:
2055:Middlewares/FreeRTOS/tasks.c ****                     }
2056:Middlewares/FreeRTOS/tasks.c ****                     else
2057:Middlewares/FreeRTOS/tasks.c ****                     {
2058:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
2059:Middlewares/FreeRTOS/tasks.c ****                     }
2060:Middlewares/FreeRTOS/tasks.c ****                 }
2061:Middlewares/FreeRTOS/tasks.c ****                 else
2062:Middlewares/FreeRTOS/tasks.c ****                 {
2063:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
2064:Middlewares/FreeRTOS/tasks.c ****                 }
2065:Middlewares/FreeRTOS/tasks.c ****             }
2066:Middlewares/FreeRTOS/tasks.c **** 
2067:Middlewares/FreeRTOS/tasks.c ****             uxTaskNumber++;
 552              		.loc 1 2067 25
 553 004e 354B     		ldr	r3, .L27+12
 554 0050 1B68     		ldr	r3, [r3]
 555 0052 0133     		adds	r3, r3, #1
 556 0054 334A     		ldr	r2, .L27+12
 557 0056 1360     		str	r3, [r2]
2068:Middlewares/FreeRTOS/tasks.c **** 
2069:Middlewares/FreeRTOS/tasks.c ****             #if ( configUSE_TRACE_FACILITY == 1 )
2070:Middlewares/FreeRTOS/tasks.c ****             {
2071:Middlewares/FreeRTOS/tasks.c ****                 /* Add a counter into the TCB for tracing only. */
2072:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB->uxTCBNumber = uxTaskNumber;
 558              		.loc 1 2072 39
 559 0058 324B     		ldr	r3, .L27+12
 560 005a 1A68     		ldr	r2, [r3]
 561 005c 7B68     		ldr	r3, [r7, #4]
 562 005e 5A64     		str	r2, [r3, #68]
2073:Middlewares/FreeRTOS/tasks.c ****             }
2074:Middlewares/FreeRTOS/tasks.c ****             #endif /* configUSE_TRACE_FACILITY */
2075:Middlewares/FreeRTOS/tasks.c ****             traceTASK_CREATE( pxNewTCB );
2076:Middlewares/FreeRTOS/tasks.c **** 
2077:Middlewares/FreeRTOS/tasks.c ****             prvAddTaskToReadyList( pxNewTCB );
 563              		.loc 1 2077 13
 564 0060 7B68     		ldr	r3, [r7, #4]
 565 0062 DA6A     		ldr	r2, [r3, #44]
 566 0064 304B     		ldr	r3, .L27+16
 567 0066 1B68     		ldr	r3, [r3]
 568 0068 9A42     		cmp	r2, r3
 569 006a 03D9     		bls	.L24
 570              		.loc 1 2077 13 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccF71V7c.s 			page 47


 571 006c 7B68     		ldr	r3, [r7, #4]
 572 006e DB6A     		ldr	r3, [r3, #44]
 573 0070 2D4A     		ldr	r2, .L27+16
 574 0072 1360     		str	r3, [r2]
 575              	.L24:
 576              	.LBB35:
 577              		.loc 1 2077 13 discriminator 3
 578 0074 7B68     		ldr	r3, [r7, #4]
 579 0076 DA6A     		ldr	r2, [r3, #44]
 580 0078 2C49     		ldr	r1, .L27+20
 581 007a 1346     		mov	r3, r2
 582 007c 9B00     		lsls	r3, r3, #2
 583 007e 1344     		add	r3, r3, r2
 584 0080 9B00     		lsls	r3, r3, #2
 585 0082 0B44     		add	r3, r3, r1
 586 0084 0433     		adds	r3, r3, #4
 587 0086 1B68     		ldr	r3, [r3]
 588 0088 FB60     		str	r3, [r7, #12]
 589 008a 7B68     		ldr	r3, [r7, #4]
 590 008c FA68     		ldr	r2, [r7, #12]
 591 008e 9A60     		str	r2, [r3, #8]
 592 0090 FB68     		ldr	r3, [r7, #12]
 593 0092 9A68     		ldr	r2, [r3, #8]
 594 0094 7B68     		ldr	r3, [r7, #4]
 595 0096 DA60     		str	r2, [r3, #12]
 596 0098 FB68     		ldr	r3, [r7, #12]
 597 009a 9B68     		ldr	r3, [r3, #8]
 598 009c 7A68     		ldr	r2, [r7, #4]
 599 009e 0432     		adds	r2, r2, #4
 600 00a0 5A60     		str	r2, [r3, #4]
 601 00a2 7B68     		ldr	r3, [r7, #4]
 602 00a4 1A1D     		adds	r2, r3, #4
 603 00a6 FB68     		ldr	r3, [r7, #12]
 604 00a8 9A60     		str	r2, [r3, #8]
 605 00aa 7B68     		ldr	r3, [r7, #4]
 606 00ac DA6A     		ldr	r2, [r3, #44]
 607 00ae 1346     		mov	r3, r2
 608 00b0 9B00     		lsls	r3, r3, #2
 609 00b2 1344     		add	r3, r3, r2
 610 00b4 9B00     		lsls	r3, r3, #2
 611 00b6 1D4A     		ldr	r2, .L27+20
 612 00b8 1A44     		add	r2, r2, r3
 613 00ba 7B68     		ldr	r3, [r7, #4]
 614 00bc 5A61     		str	r2, [r3, #20]
 615 00be 7B68     		ldr	r3, [r7, #4]
 616 00c0 DA6A     		ldr	r2, [r3, #44]
 617 00c2 1A49     		ldr	r1, .L27+20
 618 00c4 1346     		mov	r3, r2
 619 00c6 9B00     		lsls	r3, r3, #2
 620 00c8 1344     		add	r3, r3, r2
 621 00ca 9B00     		lsls	r3, r3, #2
 622 00cc 0B44     		add	r3, r3, r1
 623 00ce 1B68     		ldr	r3, [r3]
 624 00d0 7A68     		ldr	r2, [r7, #4]
 625 00d2 D26A     		ldr	r2, [r2, #44]
 626 00d4 591C     		adds	r1, r3, #1
 627 00d6 1548     		ldr	r0, .L27+20
ARM GAS  /tmp/ccF71V7c.s 			page 48


 628 00d8 1346     		mov	r3, r2
 629 00da 9B00     		lsls	r3, r3, #2
 630 00dc 1344     		add	r3, r3, r2
 631 00de 9B00     		lsls	r3, r3, #2
 632 00e0 0344     		add	r3, r3, r0
 633 00e2 1960     		str	r1, [r3]
 634              	.LBE35:
2078:Middlewares/FreeRTOS/tasks.c **** 
2079:Middlewares/FreeRTOS/tasks.c ****             portSETUP_TCB( pxNewTCB );
2080:Middlewares/FreeRTOS/tasks.c ****         }
2081:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL();
 635              		.loc 1 2081 9 is_stmt 1
 636 00e4 FFF7FEFF 		bl	vPortExitCritical
2082:Middlewares/FreeRTOS/tasks.c **** 
2083:Middlewares/FreeRTOS/tasks.c ****         if( xSchedulerRunning != pdFALSE )
 637              		.loc 1 2083 31
 638 00e8 0D4B     		ldr	r3, .L27+8
 639 00ea 1B68     		ldr	r3, [r3]
 640              		.loc 1 2083 11
 641 00ec 002B     		cmp	r3, #0
 642 00ee 0ED0     		beq	.L26
2084:Middlewares/FreeRTOS/tasks.c ****         {
2085:Middlewares/FreeRTOS/tasks.c ****             /* If the created task is of a higher priority than the current task
2086:Middlewares/FreeRTOS/tasks.c ****              * then it should run now. */
2087:Middlewares/FreeRTOS/tasks.c ****             taskYIELD_ANY_CORE_IF_USING_PREEMPTION( pxNewTCB );
 643              		.loc 1 2087 13
 644 00f0 0A4B     		ldr	r3, .L27+4
 645 00f2 1B68     		ldr	r3, [r3]
 646 00f4 DA6A     		ldr	r2, [r3, #44]
 647 00f6 7B68     		ldr	r3, [r7, #4]
 648 00f8 DB6A     		ldr	r3, [r3, #44]
 649 00fa 9A42     		cmp	r2, r3
 650 00fc 07D2     		bcs	.L26
 651              		.loc 1 2087 13 is_stmt 0 discriminator 1
 652 00fe 0C4B     		ldr	r3, .L27+24
 653 0100 4FF08052 		mov	r2, #268435456
 654 0104 1A60     		str	r2, [r3]
 655              		.syntax unified
 656              	@ 2087 "Middlewares/FreeRTOS/tasks.c" 1
 657 0106 BFF34F8F 		dsb
 658              	@ 0 "" 2
 659              	@ 2087 "Middlewares/FreeRTOS/tasks.c" 1
 660 010a BFF36F8F 		isb
 661              	@ 0 "" 2
 662              		.thumb
 663              		.syntax unified
 664              	.L26:
2088:Middlewares/FreeRTOS/tasks.c ****         }
2089:Middlewares/FreeRTOS/tasks.c ****         else
2090:Middlewares/FreeRTOS/tasks.c ****         {
2091:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
2092:Middlewares/FreeRTOS/tasks.c ****         }
2093:Middlewares/FreeRTOS/tasks.c ****     }
 665              		.loc 1 2093 5 is_stmt 1
 666 010e 00BF     		nop
 667 0110 1037     		adds	r7, r7, #16
 668              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccF71V7c.s 			page 49


 669 0112 BD46     		mov	sp, r7
 670              		.cfi_def_cfa_register 13
 671              		@ sp needed
 672 0114 80BD     		pop	{r7, pc}
 673              	.L28:
 674 0116 00BF     		.align	2
 675              	.L27:
 676 0118 00000000 		.word	uxCurrentNumberOfTasks
 677 011c 00000000 		.word	pxCurrentTCB
 678 0120 00000000 		.word	xSchedulerRunning
 679 0124 00000000 		.word	uxTaskNumber
 680 0128 00000000 		.word	uxTopReadyPriority
 681 012c 00000000 		.word	pxReadyTasksLists
 682 0130 04ED00E0 		.word	-536810236
 683              		.cfi_endproc
 684              	.LFE10:
 686              		.section	.text.prvSnprintfReturnValueToCharsWritten,"ax",%progbits
 687              		.align	1
 688              		.syntax unified
 689              		.thumb
 690              		.thumb_func
 692              	prvSnprintfReturnValueToCharsWritten:
 693              	.LFB11:
2094:Middlewares/FreeRTOS/tasks.c **** 
2095:Middlewares/FreeRTOS/tasks.c **** #else /* #if ( configNUMBER_OF_CORES == 1 ) */
2096:Middlewares/FreeRTOS/tasks.c **** 
2097:Middlewares/FreeRTOS/tasks.c ****     static void prvAddNewTaskToReadyList( TCB_t * pxNewTCB )
2098:Middlewares/FreeRTOS/tasks.c ****     {
2099:Middlewares/FreeRTOS/tasks.c ****         /* Ensure interrupts don't access the task lists while the lists are being
2100:Middlewares/FreeRTOS/tasks.c ****          * updated. */
2101:Middlewares/FreeRTOS/tasks.c ****         taskENTER_CRITICAL();
2102:Middlewares/FreeRTOS/tasks.c ****         {
2103:Middlewares/FreeRTOS/tasks.c ****             uxCurrentNumberOfTasks++;
2104:Middlewares/FreeRTOS/tasks.c **** 
2105:Middlewares/FreeRTOS/tasks.c ****             if( xSchedulerRunning == pdFALSE )
2106:Middlewares/FreeRTOS/tasks.c ****             {
2107:Middlewares/FreeRTOS/tasks.c ****                 if( uxCurrentNumberOfTasks == ( UBaseType_t ) 1 )
2108:Middlewares/FreeRTOS/tasks.c ****                 {
2109:Middlewares/FreeRTOS/tasks.c ****                     /* This is the first task to be created so do the preliminary
2110:Middlewares/FreeRTOS/tasks.c ****                      * initialisation required.  We will not recover if this call
2111:Middlewares/FreeRTOS/tasks.c ****                      * fails, but we will report the failure. */
2112:Middlewares/FreeRTOS/tasks.c ****                     prvInitialiseTaskLists();
2113:Middlewares/FreeRTOS/tasks.c ****                 }
2114:Middlewares/FreeRTOS/tasks.c ****                 else
2115:Middlewares/FreeRTOS/tasks.c ****                 {
2116:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
2117:Middlewares/FreeRTOS/tasks.c ****                 }
2118:Middlewares/FreeRTOS/tasks.c **** 
2119:Middlewares/FreeRTOS/tasks.c ****                 /* All the cores start with idle tasks before the SMP scheduler
2120:Middlewares/FreeRTOS/tasks.c ****                  * is running. Idle tasks are assigned to cores when they are
2121:Middlewares/FreeRTOS/tasks.c ****                  * created in prvCreateIdleTasks(). */
2122:Middlewares/FreeRTOS/tasks.c ****             }
2123:Middlewares/FreeRTOS/tasks.c **** 
2124:Middlewares/FreeRTOS/tasks.c ****             uxTaskNumber++;
2125:Middlewares/FreeRTOS/tasks.c **** 
2126:Middlewares/FreeRTOS/tasks.c ****             #if ( configUSE_TRACE_FACILITY == 1 )
2127:Middlewares/FreeRTOS/tasks.c ****             {
ARM GAS  /tmp/ccF71V7c.s 			page 50


2128:Middlewares/FreeRTOS/tasks.c ****                 /* Add a counter into the TCB for tracing only. */
2129:Middlewares/FreeRTOS/tasks.c ****                 pxNewTCB->uxTCBNumber = uxTaskNumber;
2130:Middlewares/FreeRTOS/tasks.c ****             }
2131:Middlewares/FreeRTOS/tasks.c ****             #endif /* configUSE_TRACE_FACILITY */
2132:Middlewares/FreeRTOS/tasks.c ****             traceTASK_CREATE( pxNewTCB );
2133:Middlewares/FreeRTOS/tasks.c **** 
2134:Middlewares/FreeRTOS/tasks.c ****             prvAddTaskToReadyList( pxNewTCB );
2135:Middlewares/FreeRTOS/tasks.c **** 
2136:Middlewares/FreeRTOS/tasks.c ****             portSETUP_TCB( pxNewTCB );
2137:Middlewares/FreeRTOS/tasks.c **** 
2138:Middlewares/FreeRTOS/tasks.c ****             if( xSchedulerRunning != pdFALSE )
2139:Middlewares/FreeRTOS/tasks.c ****             {
2140:Middlewares/FreeRTOS/tasks.c ****                 /* If the created task is of a higher priority than another
2141:Middlewares/FreeRTOS/tasks.c ****                  * currently running task and preemption is on then it should
2142:Middlewares/FreeRTOS/tasks.c ****                  * run now. */
2143:Middlewares/FreeRTOS/tasks.c ****                 taskYIELD_ANY_CORE_IF_USING_PREEMPTION( pxNewTCB );
2144:Middlewares/FreeRTOS/tasks.c ****             }
2145:Middlewares/FreeRTOS/tasks.c ****             else
2146:Middlewares/FreeRTOS/tasks.c ****             {
2147:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
2148:Middlewares/FreeRTOS/tasks.c ****             }
2149:Middlewares/FreeRTOS/tasks.c ****         }
2150:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL();
2151:Middlewares/FreeRTOS/tasks.c ****     }
2152:Middlewares/FreeRTOS/tasks.c **** 
2153:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( configNUMBER_OF_CORES == 1 ) */
2154:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
2155:Middlewares/FreeRTOS/tasks.c **** 
2156:Middlewares/FreeRTOS/tasks.c **** #if ( ( configUSE_TRACE_FACILITY == 1 ) && ( configUSE_STATS_FORMATTING_FUNCTIONS > 0 ) )
2157:Middlewares/FreeRTOS/tasks.c **** 
2158:Middlewares/FreeRTOS/tasks.c ****     static size_t prvSnprintfReturnValueToCharsWritten( int iSnprintfReturnValue,
2159:Middlewares/FreeRTOS/tasks.c ****                                                         size_t n )
2160:Middlewares/FreeRTOS/tasks.c ****     {
 694              		.loc 1 2160 5
 695              		.cfi_startproc
 696              		@ args = 0, pretend = 0, frame = 16
 697              		@ frame_needed = 1, uses_anonymous_args = 0
 698              		@ link register save eliminated.
 699 0000 80B4     		push	{r7}
 700              		.cfi_def_cfa_offset 4
 701              		.cfi_offset 7, -4
 702 0002 85B0     		sub	sp, sp, #20
 703              		.cfi_def_cfa_offset 24
 704 0004 00AF     		add	r7, sp, #0
 705              		.cfi_def_cfa_register 7
 706 0006 7860     		str	r0, [r7, #4]
 707 0008 3960     		str	r1, [r7]
2161:Middlewares/FreeRTOS/tasks.c ****         size_t uxCharsWritten;
2162:Middlewares/FreeRTOS/tasks.c **** 
2163:Middlewares/FreeRTOS/tasks.c ****         if( iSnprintfReturnValue < 0 )
 708              		.loc 1 2163 11
 709 000a 7B68     		ldr	r3, [r7, #4]
 710 000c 002B     		cmp	r3, #0
 711 000e 02DA     		bge	.L30
2164:Middlewares/FreeRTOS/tasks.c ****         {
2165:Middlewares/FreeRTOS/tasks.c ****             /* Encoding error - Return 0 to indicate that nothing
2166:Middlewares/FreeRTOS/tasks.c ****              * was written to the buffer. */
ARM GAS  /tmp/ccF71V7c.s 			page 51


2167:Middlewares/FreeRTOS/tasks.c ****             uxCharsWritten = 0;
 712              		.loc 1 2167 28
 713 0010 0023     		movs	r3, #0
 714 0012 FB60     		str	r3, [r7, #12]
 715 0014 09E0     		b	.L31
 716              	.L30:
2168:Middlewares/FreeRTOS/tasks.c ****         }
2169:Middlewares/FreeRTOS/tasks.c ****         else if( iSnprintfReturnValue >= ( int ) n )
 717              		.loc 1 2169 42
 718 0016 3B68     		ldr	r3, [r7]
 719              		.loc 1 2169 16
 720 0018 7A68     		ldr	r2, [r7, #4]
 721 001a 9A42     		cmp	r2, r3
 722 001c 03DB     		blt	.L32
2170:Middlewares/FreeRTOS/tasks.c ****         {
2171:Middlewares/FreeRTOS/tasks.c ****             /* This is the case when the supplied buffer is not
2172:Middlewares/FreeRTOS/tasks.c ****              * large to hold the generated string. Return the
2173:Middlewares/FreeRTOS/tasks.c ****              * number of characters actually written without
2174:Middlewares/FreeRTOS/tasks.c ****              * counting the terminating NULL character. */
2175:Middlewares/FreeRTOS/tasks.c ****             uxCharsWritten = n - 1U;
 723              		.loc 1 2175 28
 724 001e 3B68     		ldr	r3, [r7]
 725 0020 013B     		subs	r3, r3, #1
 726 0022 FB60     		str	r3, [r7, #12]
 727 0024 01E0     		b	.L31
 728              	.L32:
2176:Middlewares/FreeRTOS/tasks.c ****         }
2177:Middlewares/FreeRTOS/tasks.c ****         else
2178:Middlewares/FreeRTOS/tasks.c ****         {
2179:Middlewares/FreeRTOS/tasks.c ****             /* Complete string was written to the buffer. */
2180:Middlewares/FreeRTOS/tasks.c ****             uxCharsWritten = ( size_t ) iSnprintfReturnValue;
 729              		.loc 1 2180 28
 730 0026 7B68     		ldr	r3, [r7, #4]
 731 0028 FB60     		str	r3, [r7, #12]
 732              	.L31:
2181:Middlewares/FreeRTOS/tasks.c ****         }
2182:Middlewares/FreeRTOS/tasks.c **** 
2183:Middlewares/FreeRTOS/tasks.c ****         return uxCharsWritten;
 733              		.loc 1 2183 16
 734 002a FB68     		ldr	r3, [r7, #12]
2184:Middlewares/FreeRTOS/tasks.c ****     }
 735              		.loc 1 2184 5
 736 002c 1846     		mov	r0, r3
 737 002e 1437     		adds	r7, r7, #20
 738              		.cfi_def_cfa_offset 4
 739 0030 BD46     		mov	sp, r7
 740              		.cfi_def_cfa_register 13
 741              		@ sp needed
 742 0032 5DF8047B 		ldr	r7, [sp], #4
 743              		.cfi_restore 7
 744              		.cfi_def_cfa_offset 0
 745 0036 7047     		bx	lr
 746              		.cfi_endproc
 747              	.LFE11:
 749              		.section	.text.vTaskDelete,"ax",%progbits
 750              		.align	1
 751              		.global	vTaskDelete
ARM GAS  /tmp/ccF71V7c.s 			page 52


 752              		.syntax unified
 753              		.thumb
 754              		.thumb_func
 756              	vTaskDelete:
 757              	.LFB12:
2185:Middlewares/FreeRTOS/tasks.c **** 
2186:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( ( configUSE_TRACE_FACILITY == 1 ) && ( configUSE_STATS_FORMATTING_FUNCTIONS > 0 ) )
2187:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
2188:Middlewares/FreeRTOS/tasks.c **** 
2189:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_vTaskDelete == 1 )
2190:Middlewares/FreeRTOS/tasks.c **** 
2191:Middlewares/FreeRTOS/tasks.c ****     void vTaskDelete( TaskHandle_t xTaskToDelete )
2192:Middlewares/FreeRTOS/tasks.c ****     {
 758              		.loc 1 2192 5
 759              		.cfi_startproc
 760              		@ args = 0, pretend = 0, frame = 24
 761              		@ frame_needed = 1, uses_anonymous_args = 0
 762 0000 80B5     		push	{r7, lr}
 763              		.cfi_def_cfa_offset 8
 764              		.cfi_offset 7, -8
 765              		.cfi_offset 14, -4
 766 0002 86B0     		sub	sp, sp, #24
 767              		.cfi_def_cfa_offset 32
 768 0004 00AF     		add	r7, sp, #0
 769              		.cfi_def_cfa_register 7
 770 0006 7860     		str	r0, [r7, #4]
2193:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
2194:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xDeleteTCBInIdleTask = pdFALSE;
 771              		.loc 1 2194 20
 772 0008 0023     		movs	r3, #0
 773 000a 7B61     		str	r3, [r7, #20]
2195:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xTaskIsRunningOrYielding;
2196:Middlewares/FreeRTOS/tasks.c **** 
2197:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskDelete( xTaskToDelete );
2198:Middlewares/FreeRTOS/tasks.c **** 
2199:Middlewares/FreeRTOS/tasks.c ****         taskENTER_CRITICAL();
 774              		.loc 1 2199 9
 775 000c FFF7FEFF 		bl	vPortEnterCritical
2200:Middlewares/FreeRTOS/tasks.c ****         {
2201:Middlewares/FreeRTOS/tasks.c ****             /* If null is passed in here then it is the calling task that is
2202:Middlewares/FreeRTOS/tasks.c ****              * being deleted. */
2203:Middlewares/FreeRTOS/tasks.c ****             pxTCB = prvGetTCBFromHandle( xTaskToDelete );
 776              		.loc 1 2203 21
 777 0010 7B68     		ldr	r3, [r7, #4]
 778 0012 002B     		cmp	r3, #0
 779 0014 02D1     		bne	.L35
 780              		.loc 1 2203 21 is_stmt 0 discriminator 1
 781 0016 2D4B     		ldr	r3, .L45
 782 0018 1B68     		ldr	r3, [r3]
 783 001a 00E0     		b	.L36
 784              	.L35:
 785              		.loc 1 2203 21 discriminator 2
 786 001c 7B68     		ldr	r3, [r7, #4]
 787              	.L36:
 788              		.loc 1 2203 19 is_stmt 1 discriminator 4
 789 001e 3B61     		str	r3, [r7, #16]
2204:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 53


2205:Middlewares/FreeRTOS/tasks.c ****             /* Remove task from the ready/delayed list. */
2206:Middlewares/FreeRTOS/tasks.c ****             if( uxListRemove( &( pxTCB->xStateListItem ) ) == ( UBaseType_t ) 0 )
 790              		.loc 1 2206 17
 791 0020 3B69     		ldr	r3, [r7, #16]
 792 0022 0433     		adds	r3, r3, #4
 793 0024 1846     		mov	r0, r3
 794 0026 FFF7FEFF 		bl	uxListRemove
2207:Middlewares/FreeRTOS/tasks.c ****             {
2208:Middlewares/FreeRTOS/tasks.c ****                 taskRESET_READY_PRIORITY( pxTCB->uxPriority );
2209:Middlewares/FreeRTOS/tasks.c ****             }
2210:Middlewares/FreeRTOS/tasks.c ****             else
2211:Middlewares/FreeRTOS/tasks.c ****             {
2212:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
2213:Middlewares/FreeRTOS/tasks.c ****             }
2214:Middlewares/FreeRTOS/tasks.c **** 
2215:Middlewares/FreeRTOS/tasks.c ****             /* Is the task waiting on an event also? */
2216:Middlewares/FreeRTOS/tasks.c ****             if( listLIST_ITEM_CONTAINER( &( pxTCB->xEventListItem ) ) != NULL )
 795              		.loc 1 2216 17
 796 002a 3B69     		ldr	r3, [r7, #16]
 797 002c 9B6A     		ldr	r3, [r3, #40]
 798              		.loc 1 2216 15
 799 002e 002B     		cmp	r3, #0
 800 0030 04D0     		beq	.L37
2217:Middlewares/FreeRTOS/tasks.c ****             {
2218:Middlewares/FreeRTOS/tasks.c ****                 ( void ) uxListRemove( &( pxTCB->xEventListItem ) );
 801              		.loc 1 2218 26
 802 0032 3B69     		ldr	r3, [r7, #16]
 803 0034 1833     		adds	r3, r3, #24
 804 0036 1846     		mov	r0, r3
 805 0038 FFF7FEFF 		bl	uxListRemove
 806              	.L37:
2219:Middlewares/FreeRTOS/tasks.c ****             }
2220:Middlewares/FreeRTOS/tasks.c ****             else
2221:Middlewares/FreeRTOS/tasks.c ****             {
2222:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
2223:Middlewares/FreeRTOS/tasks.c ****             }
2224:Middlewares/FreeRTOS/tasks.c **** 
2225:Middlewares/FreeRTOS/tasks.c ****             /* Increment the uxTaskNumber also so kernel aware debuggers can
2226:Middlewares/FreeRTOS/tasks.c ****              * detect that the task lists need re-generating.  This is done before
2227:Middlewares/FreeRTOS/tasks.c ****              * portPRE_TASK_DELETE_HOOK() as in the Windows port that macro will
2228:Middlewares/FreeRTOS/tasks.c ****              * not return. */
2229:Middlewares/FreeRTOS/tasks.c ****             uxTaskNumber++;
 807              		.loc 1 2229 25
 808 003c 244B     		ldr	r3, .L45+4
 809 003e 1B68     		ldr	r3, [r3]
 810 0040 0133     		adds	r3, r3, #1
 811 0042 234A     		ldr	r2, .L45+4
 812 0044 1360     		str	r3, [r2]
2230:Middlewares/FreeRTOS/tasks.c **** 
2231:Middlewares/FreeRTOS/tasks.c ****             /* Use temp variable as distinct sequence points for reading volatile
2232:Middlewares/FreeRTOS/tasks.c ****              * variables prior to a logical operator to ensure compliance with
2233:Middlewares/FreeRTOS/tasks.c ****              * MISRA C 2012 Rule 13.5. */
2234:Middlewares/FreeRTOS/tasks.c ****             xTaskIsRunningOrYielding = taskTASK_IS_RUNNING_OR_SCHEDULED_TO_YIELD( pxTCB );
 813              		.loc 1 2234 40
 814 0046 214B     		ldr	r3, .L45
 815 0048 1B68     		ldr	r3, [r3]
 816 004a 3A69     		ldr	r2, [r7, #16]
ARM GAS  /tmp/ccF71V7c.s 			page 54


 817 004c 9A42     		cmp	r2, r3
 818 004e 01D1     		bne	.L38
 819              		.loc 1 2234 40 is_stmt 0 discriminator 1
 820 0050 0123     		movs	r3, #1
 821 0052 00E0     		b	.L39
 822              	.L38:
 823              		.loc 1 2234 40 discriminator 2
 824 0054 0023     		movs	r3, #0
 825              	.L39:
 826              		.loc 1 2234 38 is_stmt 1 discriminator 4
 827 0056 FB60     		str	r3, [r7, #12]
2235:Middlewares/FreeRTOS/tasks.c **** 
2236:Middlewares/FreeRTOS/tasks.c ****             /* If the task is running (or yielding), we must add it to the
2237:Middlewares/FreeRTOS/tasks.c ****              * termination list so that an idle task can delete it when it is
2238:Middlewares/FreeRTOS/tasks.c ****              * no longer running. */
2239:Middlewares/FreeRTOS/tasks.c ****             if( ( xSchedulerRunning != pdFALSE ) && ( xTaskIsRunningOrYielding != pdFALSE ) )
 828              		.loc 1 2239 37
 829 0058 1E4B     		ldr	r3, .L45+8
 830 005a 1B68     		ldr	r3, [r3]
 831              		.loc 1 2239 15
 832 005c 002B     		cmp	r3, #0
 833 005e 10D0     		beq	.L40
 834              		.loc 1 2239 50 discriminator 1
 835 0060 FB68     		ldr	r3, [r7, #12]
 836 0062 002B     		cmp	r3, #0
 837 0064 0DD0     		beq	.L40
2240:Middlewares/FreeRTOS/tasks.c ****             {
2241:Middlewares/FreeRTOS/tasks.c ****                 /* A running task or a task which is scheduled to yield is being
2242:Middlewares/FreeRTOS/tasks.c ****                  * deleted. This cannot complete when the task is still running
2243:Middlewares/FreeRTOS/tasks.c ****                  * on a core, as a context switch to another task is required.
2244:Middlewares/FreeRTOS/tasks.c ****                  * Place the task in the termination list. The idle task will check
2245:Middlewares/FreeRTOS/tasks.c ****                  * the termination list and free up any memory allocated by the
2246:Middlewares/FreeRTOS/tasks.c ****                  * scheduler for the TCB and stack of the deleted task. */
2247:Middlewares/FreeRTOS/tasks.c ****                 vListInsertEnd( &xTasksWaitingTermination, &( pxTCB->xStateListItem ) );
 838              		.loc 1 2247 17
 839 0066 3B69     		ldr	r3, [r7, #16]
 840 0068 0433     		adds	r3, r3, #4
 841 006a 1946     		mov	r1, r3
 842 006c 1A48     		ldr	r0, .L45+12
 843 006e FFF7FEFF 		bl	vListInsertEnd
2248:Middlewares/FreeRTOS/tasks.c **** 
2249:Middlewares/FreeRTOS/tasks.c ****                 /* Increment the ucTasksDeleted variable so the idle task knows
2250:Middlewares/FreeRTOS/tasks.c ****                  * there is a task that has been deleted and that it should therefore
2251:Middlewares/FreeRTOS/tasks.c ****                  * check the xTasksWaitingTermination list. */
2252:Middlewares/FreeRTOS/tasks.c ****                 ++uxDeletedTasksWaitingCleanUp;
 844              		.loc 1 2252 17
 845 0072 1A4B     		ldr	r3, .L45+16
 846 0074 1B68     		ldr	r3, [r3]
 847 0076 0133     		adds	r3, r3, #1
 848 0078 184A     		ldr	r2, .L45+16
 849 007a 1360     		str	r3, [r2]
2253:Middlewares/FreeRTOS/tasks.c **** 
2254:Middlewares/FreeRTOS/tasks.c ****                 /* Call the delete hook before portPRE_TASK_DELETE_HOOK() as
2255:Middlewares/FreeRTOS/tasks.c ****                  * portPRE_TASK_DELETE_HOOK() does not return in the Win32 port. */
2256:Middlewares/FreeRTOS/tasks.c ****                 traceTASK_DELETE( pxTCB );
2257:Middlewares/FreeRTOS/tasks.c **** 
2258:Middlewares/FreeRTOS/tasks.c ****                 /* Delete the task TCB in idle task. */
ARM GAS  /tmp/ccF71V7c.s 			page 55


2259:Middlewares/FreeRTOS/tasks.c ****                 xDeleteTCBInIdleTask = pdTRUE;
 850              		.loc 1 2259 38
 851 007c 0123     		movs	r3, #1
 852 007e 7B61     		str	r3, [r7, #20]
 853 0080 06E0     		b	.L41
 854              	.L40:
2260:Middlewares/FreeRTOS/tasks.c **** 
2261:Middlewares/FreeRTOS/tasks.c ****                 /* The pre-delete hook is primarily for the Windows simulator,
2262:Middlewares/FreeRTOS/tasks.c ****                  * in which Windows specific clean up operations are performed,
2263:Middlewares/FreeRTOS/tasks.c ****                  * after which it is not possible to yield away from this task -
2264:Middlewares/FreeRTOS/tasks.c ****                  * hence xYieldPending is used to latch that a context switch is
2265:Middlewares/FreeRTOS/tasks.c ****                  * required. */
2266:Middlewares/FreeRTOS/tasks.c ****                 #if ( configNUMBER_OF_CORES == 1 )
2267:Middlewares/FreeRTOS/tasks.c ****                     portPRE_TASK_DELETE_HOOK( pxTCB, &( xYieldPendings[ 0 ] ) );
2268:Middlewares/FreeRTOS/tasks.c ****                 #else
2269:Middlewares/FreeRTOS/tasks.c ****                     portPRE_TASK_DELETE_HOOK( pxTCB, &( xYieldPendings[ pxTCB->xTaskRunState ] ) );
2270:Middlewares/FreeRTOS/tasks.c ****                 #endif
2271:Middlewares/FreeRTOS/tasks.c **** 
2272:Middlewares/FreeRTOS/tasks.c ****                 /* In the case of SMP, it is possible that the task being deleted
2273:Middlewares/FreeRTOS/tasks.c ****                  * is running on another core. We must evict the task before
2274:Middlewares/FreeRTOS/tasks.c ****                  * exiting the critical section to ensure that the task cannot
2275:Middlewares/FreeRTOS/tasks.c ****                  * take an action which puts it back on ready/state/event list,
2276:Middlewares/FreeRTOS/tasks.c ****                  * thereby nullifying the delete operation. Once evicted, the
2277:Middlewares/FreeRTOS/tasks.c ****                  * task won't be scheduled ever as it will no longer be on the
2278:Middlewares/FreeRTOS/tasks.c ****                  * ready list. */
2279:Middlewares/FreeRTOS/tasks.c ****                 #if ( configNUMBER_OF_CORES > 1 )
2280:Middlewares/FreeRTOS/tasks.c ****                 {
2281:Middlewares/FreeRTOS/tasks.c ****                     if( taskTASK_IS_RUNNING( pxTCB ) == pdTRUE )
2282:Middlewares/FreeRTOS/tasks.c ****                     {
2283:Middlewares/FreeRTOS/tasks.c ****                         if( pxTCB->xTaskRunState == ( BaseType_t ) portGET_CORE_ID() )
2284:Middlewares/FreeRTOS/tasks.c ****                         {
2285:Middlewares/FreeRTOS/tasks.c ****                             configASSERT( uxSchedulerSuspended == 0 );
2286:Middlewares/FreeRTOS/tasks.c ****                             taskYIELD_WITHIN_API();
2287:Middlewares/FreeRTOS/tasks.c ****                         }
2288:Middlewares/FreeRTOS/tasks.c ****                         else
2289:Middlewares/FreeRTOS/tasks.c ****                         {
2290:Middlewares/FreeRTOS/tasks.c ****                             prvYieldCore( pxTCB->xTaskRunState );
2291:Middlewares/FreeRTOS/tasks.c ****                         }
2292:Middlewares/FreeRTOS/tasks.c ****                     }
2293:Middlewares/FreeRTOS/tasks.c ****                 }
2294:Middlewares/FreeRTOS/tasks.c ****                 #endif /* #if ( configNUMBER_OF_CORES > 1 ) */
2295:Middlewares/FreeRTOS/tasks.c ****             }
2296:Middlewares/FreeRTOS/tasks.c ****             else
2297:Middlewares/FreeRTOS/tasks.c ****             {
2298:Middlewares/FreeRTOS/tasks.c ****                 --uxCurrentNumberOfTasks;
 855              		.loc 1 2298 17
 856 0082 174B     		ldr	r3, .L45+20
 857 0084 1B68     		ldr	r3, [r3]
 858 0086 013B     		subs	r3, r3, #1
 859 0088 154A     		ldr	r2, .L45+20
 860 008a 1360     		str	r3, [r2]
2299:Middlewares/FreeRTOS/tasks.c ****                 traceTASK_DELETE( pxTCB );
2300:Middlewares/FreeRTOS/tasks.c **** 
2301:Middlewares/FreeRTOS/tasks.c ****                 /* Reset the next expected unblock time in case it referred to
2302:Middlewares/FreeRTOS/tasks.c ****                  * the task that has just been deleted. */
2303:Middlewares/FreeRTOS/tasks.c ****                 prvResetNextTaskUnblockTime();
 861              		.loc 1 2303 17
ARM GAS  /tmp/ccF71V7c.s 			page 56


 862 008c FFF7FEFF 		bl	prvResetNextTaskUnblockTime
 863              	.L41:
2304:Middlewares/FreeRTOS/tasks.c ****             }
2305:Middlewares/FreeRTOS/tasks.c ****         }
2306:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL();
 864              		.loc 1 2306 9
 865 0090 FFF7FEFF 		bl	vPortExitCritical
2307:Middlewares/FreeRTOS/tasks.c **** 
2308:Middlewares/FreeRTOS/tasks.c ****         /* If the task is not deleting itself, call prvDeleteTCB from outside of
2309:Middlewares/FreeRTOS/tasks.c ****          * critical section. If a task deletes itself, prvDeleteTCB is called
2310:Middlewares/FreeRTOS/tasks.c ****          * from prvCheckTasksWaitingTermination which is called from Idle task. */
2311:Middlewares/FreeRTOS/tasks.c ****         if( xDeleteTCBInIdleTask != pdTRUE )
 866              		.loc 1 2311 11
 867 0094 7B69     		ldr	r3, [r7, #20]
 868 0096 012B     		cmp	r3, #1
 869 0098 02D0     		beq	.L42
2312:Middlewares/FreeRTOS/tasks.c ****         {
2313:Middlewares/FreeRTOS/tasks.c ****             prvDeleteTCB( pxTCB );
 870              		.loc 1 2313 13
 871 009a 3869     		ldr	r0, [r7, #16]
 872 009c FFF7FEFF 		bl	prvDeleteTCB
 873              	.L42:
2314:Middlewares/FreeRTOS/tasks.c ****         }
2315:Middlewares/FreeRTOS/tasks.c **** 
2316:Middlewares/FreeRTOS/tasks.c ****         /* Force a reschedule if it is the currently running task that has just
2317:Middlewares/FreeRTOS/tasks.c ****          * been deleted. */
2318:Middlewares/FreeRTOS/tasks.c ****         #if ( configNUMBER_OF_CORES == 1 )
2319:Middlewares/FreeRTOS/tasks.c ****         {
2320:Middlewares/FreeRTOS/tasks.c ****             if( xSchedulerRunning != pdFALSE )
 874              		.loc 1 2320 35
 875 00a0 0C4B     		ldr	r3, .L45+8
 876 00a2 1B68     		ldr	r3, [r3]
 877              		.loc 1 2320 15
 878 00a4 002B     		cmp	r3, #0
 879 00a6 0CD0     		beq	.L44
2321:Middlewares/FreeRTOS/tasks.c ****             {
2322:Middlewares/FreeRTOS/tasks.c ****                 if( pxTCB == pxCurrentTCB )
 880              		.loc 1 2322 27
 881 00a8 084B     		ldr	r3, .L45
 882 00aa 1B68     		ldr	r3, [r3]
 883              		.loc 1 2322 19
 884 00ac 3A69     		ldr	r2, [r7, #16]
 885 00ae 9A42     		cmp	r2, r3
 886 00b0 07D1     		bne	.L44
2323:Middlewares/FreeRTOS/tasks.c ****                 {
2324:Middlewares/FreeRTOS/tasks.c ****                     configASSERT( uxSchedulerSuspended == 0 );
2325:Middlewares/FreeRTOS/tasks.c ****                     taskYIELD_WITHIN_API();
 887              		.loc 1 2325 21
 888 00b2 0C4B     		ldr	r3, .L45+24
 889 00b4 4FF08052 		mov	r2, #268435456
 890 00b8 1A60     		str	r2, [r3]
 891              		.syntax unified
 892              	@ 2325 "Middlewares/FreeRTOS/tasks.c" 1
 893 00ba BFF34F8F 		dsb
 894              	@ 0 "" 2
 895              	@ 2325 "Middlewares/FreeRTOS/tasks.c" 1
 896 00be BFF36F8F 		isb
ARM GAS  /tmp/ccF71V7c.s 			page 57


 897              	@ 0 "" 2
 898              		.thumb
 899              		.syntax unified
 900              	.L44:
2326:Middlewares/FreeRTOS/tasks.c ****                 }
2327:Middlewares/FreeRTOS/tasks.c ****                 else
2328:Middlewares/FreeRTOS/tasks.c ****                 {
2329:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
2330:Middlewares/FreeRTOS/tasks.c ****                 }
2331:Middlewares/FreeRTOS/tasks.c ****             }
2332:Middlewares/FreeRTOS/tasks.c ****         }
2333:Middlewares/FreeRTOS/tasks.c ****         #endif /* #if ( configNUMBER_OF_CORES == 1 ) */
2334:Middlewares/FreeRTOS/tasks.c **** 
2335:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskDelete();
2336:Middlewares/FreeRTOS/tasks.c ****     }
 901              		.loc 1 2336 5
 902 00c2 00BF     		nop
 903 00c4 1837     		adds	r7, r7, #24
 904              		.cfi_def_cfa_offset 8
 905 00c6 BD46     		mov	sp, r7
 906              		.cfi_def_cfa_register 13
 907              		@ sp needed
 908 00c8 80BD     		pop	{r7, pc}
 909              	.L46:
 910 00ca 00BF     		.align	2
 911              	.L45:
 912 00cc 00000000 		.word	pxCurrentTCB
 913 00d0 00000000 		.word	uxTaskNumber
 914 00d4 00000000 		.word	xSchedulerRunning
 915 00d8 00000000 		.word	xTasksWaitingTermination
 916 00dc 00000000 		.word	uxDeletedTasksWaitingCleanUp
 917 00e0 00000000 		.word	uxCurrentNumberOfTasks
 918 00e4 04ED00E0 		.word	-536810236
 919              		.cfi_endproc
 920              	.LFE12:
 922              		.section	.text.vTaskDelay,"ax",%progbits
 923              		.align	1
 924              		.global	vTaskDelay
 925              		.syntax unified
 926              		.thumb
 927              		.thumb_func
 929              	vTaskDelay:
 930              	.LFB13:
2337:Middlewares/FreeRTOS/tasks.c **** 
2338:Middlewares/FreeRTOS/tasks.c **** #endif /* INCLUDE_vTaskDelete */
2339:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
2340:Middlewares/FreeRTOS/tasks.c **** 
2341:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_xTaskDelayUntil == 1 )
2342:Middlewares/FreeRTOS/tasks.c **** 
2343:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xTaskDelayUntil( TickType_t * const pxPreviousWakeTime,
2344:Middlewares/FreeRTOS/tasks.c ****                                 const TickType_t xTimeIncrement )
2345:Middlewares/FreeRTOS/tasks.c ****     {
2346:Middlewares/FreeRTOS/tasks.c ****         TickType_t xTimeToWake;
2347:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xAlreadyYielded, xShouldDelay = pdFALSE;
2348:Middlewares/FreeRTOS/tasks.c **** 
2349:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskDelayUntil( pxPreviousWakeTime, xTimeIncrement );
2350:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 58


2351:Middlewares/FreeRTOS/tasks.c ****         configASSERT( pxPreviousWakeTime );
2352:Middlewares/FreeRTOS/tasks.c ****         configASSERT( ( xTimeIncrement > 0U ) );
2353:Middlewares/FreeRTOS/tasks.c **** 
2354:Middlewares/FreeRTOS/tasks.c ****         vTaskSuspendAll();
2355:Middlewares/FreeRTOS/tasks.c ****         {
2356:Middlewares/FreeRTOS/tasks.c ****             /* Minor optimisation.  The tick count cannot change in this
2357:Middlewares/FreeRTOS/tasks.c ****              * block. */
2358:Middlewares/FreeRTOS/tasks.c ****             const TickType_t xConstTickCount = xTickCount;
2359:Middlewares/FreeRTOS/tasks.c **** 
2360:Middlewares/FreeRTOS/tasks.c ****             configASSERT( uxSchedulerSuspended == 1U );
2361:Middlewares/FreeRTOS/tasks.c **** 
2362:Middlewares/FreeRTOS/tasks.c ****             /* Generate the tick time at which the task wants to wake. */
2363:Middlewares/FreeRTOS/tasks.c ****             xTimeToWake = *pxPreviousWakeTime + xTimeIncrement;
2364:Middlewares/FreeRTOS/tasks.c **** 
2365:Middlewares/FreeRTOS/tasks.c ****             if( xConstTickCount < *pxPreviousWakeTime )
2366:Middlewares/FreeRTOS/tasks.c ****             {
2367:Middlewares/FreeRTOS/tasks.c ****                 /* The tick count has overflowed since this function was
2368:Middlewares/FreeRTOS/tasks.c ****                  * lasted called.  In this case the only time we should ever
2369:Middlewares/FreeRTOS/tasks.c ****                  * actually delay is if the wake time has also  overflowed,
2370:Middlewares/FreeRTOS/tasks.c ****                  * and the wake time is greater than the tick time.  When this
2371:Middlewares/FreeRTOS/tasks.c ****                  * is the case it is as if neither time had overflowed. */
2372:Middlewares/FreeRTOS/tasks.c ****                 if( ( xTimeToWake < *pxPreviousWakeTime ) && ( xTimeToWake > xConstTickCount ) )
2373:Middlewares/FreeRTOS/tasks.c ****                 {
2374:Middlewares/FreeRTOS/tasks.c ****                     xShouldDelay = pdTRUE;
2375:Middlewares/FreeRTOS/tasks.c ****                 }
2376:Middlewares/FreeRTOS/tasks.c ****                 else
2377:Middlewares/FreeRTOS/tasks.c ****                 {
2378:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
2379:Middlewares/FreeRTOS/tasks.c ****                 }
2380:Middlewares/FreeRTOS/tasks.c ****             }
2381:Middlewares/FreeRTOS/tasks.c ****             else
2382:Middlewares/FreeRTOS/tasks.c ****             {
2383:Middlewares/FreeRTOS/tasks.c ****                 /* The tick time has not overflowed.  In this case we will
2384:Middlewares/FreeRTOS/tasks.c ****                  * delay if either the wake time has overflowed, and/or the
2385:Middlewares/FreeRTOS/tasks.c ****                  * tick time is less than the wake time. */
2386:Middlewares/FreeRTOS/tasks.c ****                 if( ( xTimeToWake < *pxPreviousWakeTime ) || ( xTimeToWake > xConstTickCount ) )
2387:Middlewares/FreeRTOS/tasks.c ****                 {
2388:Middlewares/FreeRTOS/tasks.c ****                     xShouldDelay = pdTRUE;
2389:Middlewares/FreeRTOS/tasks.c ****                 }
2390:Middlewares/FreeRTOS/tasks.c ****                 else
2391:Middlewares/FreeRTOS/tasks.c ****                 {
2392:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
2393:Middlewares/FreeRTOS/tasks.c ****                 }
2394:Middlewares/FreeRTOS/tasks.c ****             }
2395:Middlewares/FreeRTOS/tasks.c **** 
2396:Middlewares/FreeRTOS/tasks.c ****             /* Update the wake time ready for the next call. */
2397:Middlewares/FreeRTOS/tasks.c ****             *pxPreviousWakeTime = xTimeToWake;
2398:Middlewares/FreeRTOS/tasks.c **** 
2399:Middlewares/FreeRTOS/tasks.c ****             if( xShouldDelay != pdFALSE )
2400:Middlewares/FreeRTOS/tasks.c ****             {
2401:Middlewares/FreeRTOS/tasks.c ****                 traceTASK_DELAY_UNTIL( xTimeToWake );
2402:Middlewares/FreeRTOS/tasks.c **** 
2403:Middlewares/FreeRTOS/tasks.c ****                 /* prvAddCurrentTaskToDelayedList() needs the block time, not
2404:Middlewares/FreeRTOS/tasks.c ****                  * the time to wake, so subtract the current tick count. */
2405:Middlewares/FreeRTOS/tasks.c ****                 prvAddCurrentTaskToDelayedList( xTimeToWake - xConstTickCount, pdFALSE );
2406:Middlewares/FreeRTOS/tasks.c ****             }
2407:Middlewares/FreeRTOS/tasks.c ****             else
ARM GAS  /tmp/ccF71V7c.s 			page 59


2408:Middlewares/FreeRTOS/tasks.c ****             {
2409:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
2410:Middlewares/FreeRTOS/tasks.c ****             }
2411:Middlewares/FreeRTOS/tasks.c ****         }
2412:Middlewares/FreeRTOS/tasks.c ****         xAlreadyYielded = xTaskResumeAll();
2413:Middlewares/FreeRTOS/tasks.c **** 
2414:Middlewares/FreeRTOS/tasks.c ****         /* Force a reschedule if xTaskResumeAll has not already done so, we may
2415:Middlewares/FreeRTOS/tasks.c ****          * have put ourselves to sleep. */
2416:Middlewares/FreeRTOS/tasks.c ****         if( xAlreadyYielded == pdFALSE )
2417:Middlewares/FreeRTOS/tasks.c ****         {
2418:Middlewares/FreeRTOS/tasks.c ****             taskYIELD_WITHIN_API();
2419:Middlewares/FreeRTOS/tasks.c ****         }
2420:Middlewares/FreeRTOS/tasks.c ****         else
2421:Middlewares/FreeRTOS/tasks.c ****         {
2422:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
2423:Middlewares/FreeRTOS/tasks.c ****         }
2424:Middlewares/FreeRTOS/tasks.c **** 
2425:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskDelayUntil( xShouldDelay );
2426:Middlewares/FreeRTOS/tasks.c **** 
2427:Middlewares/FreeRTOS/tasks.c ****         return xShouldDelay;
2428:Middlewares/FreeRTOS/tasks.c ****     }
2429:Middlewares/FreeRTOS/tasks.c **** 
2430:Middlewares/FreeRTOS/tasks.c **** #endif /* INCLUDE_xTaskDelayUntil */
2431:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
2432:Middlewares/FreeRTOS/tasks.c **** 
2433:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_vTaskDelay == 1 )
2434:Middlewares/FreeRTOS/tasks.c **** 
2435:Middlewares/FreeRTOS/tasks.c ****     void vTaskDelay( const TickType_t xTicksToDelay )
2436:Middlewares/FreeRTOS/tasks.c ****     {
 931              		.loc 1 2436 5
 932              		.cfi_startproc
 933              		@ args = 0, pretend = 0, frame = 16
 934              		@ frame_needed = 1, uses_anonymous_args = 0
 935 0000 80B5     		push	{r7, lr}
 936              		.cfi_def_cfa_offset 8
 937              		.cfi_offset 7, -8
 938              		.cfi_offset 14, -4
 939 0002 84B0     		sub	sp, sp, #16
 940              		.cfi_def_cfa_offset 24
 941 0004 00AF     		add	r7, sp, #0
 942              		.cfi_def_cfa_register 7
 943 0006 7860     		str	r0, [r7, #4]
2437:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xAlreadyYielded = pdFALSE;
 944              		.loc 1 2437 20
 945 0008 0023     		movs	r3, #0
 946 000a FB60     		str	r3, [r7, #12]
2438:Middlewares/FreeRTOS/tasks.c **** 
2439:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskDelay( xTicksToDelay );
2440:Middlewares/FreeRTOS/tasks.c **** 
2441:Middlewares/FreeRTOS/tasks.c ****         /* A delay time of zero just forces a reschedule. */
2442:Middlewares/FreeRTOS/tasks.c ****         if( xTicksToDelay > ( TickType_t ) 0U )
 947              		.loc 1 2442 11
 948 000c 7B68     		ldr	r3, [r7, #4]
 949 000e 002B     		cmp	r3, #0
 950 0010 08D0     		beq	.L48
2443:Middlewares/FreeRTOS/tasks.c ****         {
2444:Middlewares/FreeRTOS/tasks.c ****             vTaskSuspendAll();
ARM GAS  /tmp/ccF71V7c.s 			page 60


 951              		.loc 1 2444 13
 952 0012 FFF7FEFF 		bl	vTaskSuspendAll
2445:Middlewares/FreeRTOS/tasks.c ****             {
2446:Middlewares/FreeRTOS/tasks.c ****                 configASSERT( uxSchedulerSuspended == 1U );
2447:Middlewares/FreeRTOS/tasks.c **** 
2448:Middlewares/FreeRTOS/tasks.c ****                 traceTASK_DELAY();
2449:Middlewares/FreeRTOS/tasks.c **** 
2450:Middlewares/FreeRTOS/tasks.c ****                 /* A task that is removed from the event list while the
2451:Middlewares/FreeRTOS/tasks.c ****                  * scheduler is suspended will not get placed in the ready
2452:Middlewares/FreeRTOS/tasks.c ****                  * list or removed from the blocked list until the scheduler
2453:Middlewares/FreeRTOS/tasks.c ****                  * is resumed.
2454:Middlewares/FreeRTOS/tasks.c ****                  *
2455:Middlewares/FreeRTOS/tasks.c ****                  * This task cannot be in an event list as it is the currently
2456:Middlewares/FreeRTOS/tasks.c ****                  * executing task. */
2457:Middlewares/FreeRTOS/tasks.c ****                 prvAddCurrentTaskToDelayedList( xTicksToDelay, pdFALSE );
 953              		.loc 1 2457 17
 954 0016 0021     		movs	r1, #0
 955 0018 7868     		ldr	r0, [r7, #4]
 956 001a FFF7FEFF 		bl	prvAddCurrentTaskToDelayedList
2458:Middlewares/FreeRTOS/tasks.c ****             }
2459:Middlewares/FreeRTOS/tasks.c ****             xAlreadyYielded = xTaskResumeAll();
 957              		.loc 1 2459 31
 958 001e FFF7FEFF 		bl	xTaskResumeAll
 959 0022 F860     		str	r0, [r7, #12]
 960              	.L48:
2460:Middlewares/FreeRTOS/tasks.c ****         }
2461:Middlewares/FreeRTOS/tasks.c ****         else
2462:Middlewares/FreeRTOS/tasks.c ****         {
2463:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
2464:Middlewares/FreeRTOS/tasks.c ****         }
2465:Middlewares/FreeRTOS/tasks.c **** 
2466:Middlewares/FreeRTOS/tasks.c ****         /* Force a reschedule if xTaskResumeAll has not already done so, we may
2467:Middlewares/FreeRTOS/tasks.c ****          * have put ourselves to sleep. */
2468:Middlewares/FreeRTOS/tasks.c ****         if( xAlreadyYielded == pdFALSE )
 961              		.loc 1 2468 11
 962 0024 FB68     		ldr	r3, [r7, #12]
 963 0026 002B     		cmp	r3, #0
 964 0028 07D1     		bne	.L50
2469:Middlewares/FreeRTOS/tasks.c ****         {
2470:Middlewares/FreeRTOS/tasks.c ****             taskYIELD_WITHIN_API();
 965              		.loc 1 2470 13
 966 002a 064B     		ldr	r3, .L51
 967 002c 4FF08052 		mov	r2, #268435456
 968 0030 1A60     		str	r2, [r3]
 969              		.syntax unified
 970              	@ 2470 "Middlewares/FreeRTOS/tasks.c" 1
 971 0032 BFF34F8F 		dsb
 972              	@ 0 "" 2
 973              	@ 2470 "Middlewares/FreeRTOS/tasks.c" 1
 974 0036 BFF36F8F 		isb
 975              	@ 0 "" 2
 976              		.thumb
 977              		.syntax unified
 978              	.L50:
2471:Middlewares/FreeRTOS/tasks.c ****         }
2472:Middlewares/FreeRTOS/tasks.c ****         else
2473:Middlewares/FreeRTOS/tasks.c ****         {
ARM GAS  /tmp/ccF71V7c.s 			page 61


2474:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
2475:Middlewares/FreeRTOS/tasks.c ****         }
2476:Middlewares/FreeRTOS/tasks.c **** 
2477:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskDelay();
2478:Middlewares/FreeRTOS/tasks.c ****     }
 979              		.loc 1 2478 5
 980 003a 00BF     		nop
 981 003c 1037     		adds	r7, r7, #16
 982              		.cfi_def_cfa_offset 8
 983 003e BD46     		mov	sp, r7
 984              		.cfi_def_cfa_register 13
 985              		@ sp needed
 986 0040 80BD     		pop	{r7, pc}
 987              	.L52:
 988 0042 00BF     		.align	2
 989              	.L51:
 990 0044 04ED00E0 		.word	-536810236
 991              		.cfi_endproc
 992              	.LFE13:
 994              		.section	.text.eTaskGetState,"ax",%progbits
 995              		.align	1
 996              		.global	eTaskGetState
 997              		.syntax unified
 998              		.thumb
 999              		.thumb_func
 1001              	eTaskGetState:
 1002              	.LFB14:
2479:Middlewares/FreeRTOS/tasks.c **** 
2480:Middlewares/FreeRTOS/tasks.c **** #endif /* INCLUDE_vTaskDelay */
2481:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
2482:Middlewares/FreeRTOS/tasks.c **** 
2483:Middlewares/FreeRTOS/tasks.c **** #if ( ( INCLUDE_eTaskGetState == 1 ) || ( configUSE_TRACE_FACILITY == 1 ) || ( INCLUDE_xTaskAbortDe
2484:Middlewares/FreeRTOS/tasks.c **** 
2485:Middlewares/FreeRTOS/tasks.c ****     eTaskState eTaskGetState( TaskHandle_t xTask )
2486:Middlewares/FreeRTOS/tasks.c ****     {
 1003              		.loc 1 2486 5
 1004              		.cfi_startproc
 1005              		@ args = 0, pretend = 0, frame = 40
 1006              		@ frame_needed = 1, uses_anonymous_args = 0
 1007 0000 80B5     		push	{r7, lr}
 1008              		.cfi_def_cfa_offset 8
 1009              		.cfi_offset 7, -8
 1010              		.cfi_offset 14, -4
 1011 0002 8AB0     		sub	sp, sp, #40
 1012              		.cfi_def_cfa_offset 48
 1013 0004 00AF     		add	r7, sp, #0
 1014              		.cfi_def_cfa_register 7
 1015 0006 7860     		str	r0, [r7, #4]
2487:Middlewares/FreeRTOS/tasks.c ****         eTaskState eReturn;
2488:Middlewares/FreeRTOS/tasks.c ****         List_t const * pxStateList;
2489:Middlewares/FreeRTOS/tasks.c ****         List_t const * pxEventList;
2490:Middlewares/FreeRTOS/tasks.c ****         List_t const * pxDelayedList;
2491:Middlewares/FreeRTOS/tasks.c ****         List_t const * pxOverflowedDelayedList;
2492:Middlewares/FreeRTOS/tasks.c ****         const TCB_t * const pxTCB = xTask;
 1016              		.loc 1 2492 29
 1017 0008 7B68     		ldr	r3, [r7, #4]
 1018 000a FB61     		str	r3, [r7, #28]
ARM GAS  /tmp/ccF71V7c.s 			page 62


2493:Middlewares/FreeRTOS/tasks.c **** 
2494:Middlewares/FreeRTOS/tasks.c ****         traceENTER_eTaskGetState( xTask );
2495:Middlewares/FreeRTOS/tasks.c **** 
2496:Middlewares/FreeRTOS/tasks.c ****         configASSERT( pxTCB );
2497:Middlewares/FreeRTOS/tasks.c **** 
2498:Middlewares/FreeRTOS/tasks.c ****         #if ( configNUMBER_OF_CORES == 1 )
2499:Middlewares/FreeRTOS/tasks.c ****             if( pxTCB == pxCurrentTCB )
 1019              		.loc 1 2499 23
 1020 000c 324B     		ldr	r3, .L68
 1021 000e 1B68     		ldr	r3, [r3]
 1022              		.loc 1 2499 15
 1023 0010 FA69     		ldr	r2, [r7, #28]
 1024 0012 9A42     		cmp	r2, r3
 1025 0014 03D1     		bne	.L54
2500:Middlewares/FreeRTOS/tasks.c ****             {
2501:Middlewares/FreeRTOS/tasks.c ****                 /* The task calling this function is querying its own state. */
2502:Middlewares/FreeRTOS/tasks.c ****                 eReturn = eRunning;
 1026              		.loc 1 2502 25
 1027 0016 0023     		movs	r3, #0
 1028 0018 87F82730 		strb	r3, [r7, #39]
 1029 001c 56E0     		b	.L55
 1030              	.L54:
2503:Middlewares/FreeRTOS/tasks.c ****             }
2504:Middlewares/FreeRTOS/tasks.c ****             else
2505:Middlewares/FreeRTOS/tasks.c ****         #endif
2506:Middlewares/FreeRTOS/tasks.c ****         {
2507:Middlewares/FreeRTOS/tasks.c ****             taskENTER_CRITICAL();
 1031              		.loc 1 2507 13
 1032 001e FFF7FEFF 		bl	vPortEnterCritical
2508:Middlewares/FreeRTOS/tasks.c ****             {
2509:Middlewares/FreeRTOS/tasks.c ****                 pxStateList = listLIST_ITEM_CONTAINER( &( pxTCB->xStateListItem ) );
 1033              		.loc 1 2509 29
 1034 0022 FB69     		ldr	r3, [r7, #28]
 1035 0024 5B69     		ldr	r3, [r3, #20]
 1036 0026 BB61     		str	r3, [r7, #24]
2510:Middlewares/FreeRTOS/tasks.c ****                 pxEventList = listLIST_ITEM_CONTAINER( &( pxTCB->xEventListItem ) );
 1037              		.loc 1 2510 29
 1038 0028 FB69     		ldr	r3, [r7, #28]
 1039 002a 9B6A     		ldr	r3, [r3, #40]
 1040 002c 7B61     		str	r3, [r7, #20]
2511:Middlewares/FreeRTOS/tasks.c ****                 pxDelayedList = pxDelayedTaskList;
 1041              		.loc 1 2511 31
 1042 002e 2B4B     		ldr	r3, .L68+4
 1043 0030 1B68     		ldr	r3, [r3]
 1044 0032 3B61     		str	r3, [r7, #16]
2512:Middlewares/FreeRTOS/tasks.c ****                 pxOverflowedDelayedList = pxOverflowDelayedTaskList;
 1045              		.loc 1 2512 41
 1046 0034 2A4B     		ldr	r3, .L68+8
 1047 0036 1B68     		ldr	r3, [r3]
 1048 0038 FB60     		str	r3, [r7, #12]
2513:Middlewares/FreeRTOS/tasks.c ****             }
2514:Middlewares/FreeRTOS/tasks.c ****             taskEXIT_CRITICAL();
 1049              		.loc 1 2514 13
 1050 003a FFF7FEFF 		bl	vPortExitCritical
2515:Middlewares/FreeRTOS/tasks.c **** 
2516:Middlewares/FreeRTOS/tasks.c ****             if( pxEventList == &xPendingReadyList )
 1051              		.loc 1 2516 15
ARM GAS  /tmp/ccF71V7c.s 			page 63


 1052 003e 7B69     		ldr	r3, [r7, #20]
 1053 0040 284A     		ldr	r2, .L68+12
 1054 0042 9342     		cmp	r3, r2
 1055 0044 03D1     		bne	.L56
2517:Middlewares/FreeRTOS/tasks.c ****             {
2518:Middlewares/FreeRTOS/tasks.c ****                 /* The task has been placed on the pending ready list, so its
2519:Middlewares/FreeRTOS/tasks.c ****                  * state is eReady regardless of what list the task's state list
2520:Middlewares/FreeRTOS/tasks.c ****                  * item is currently placed on. */
2521:Middlewares/FreeRTOS/tasks.c ****                 eReturn = eReady;
 1056              		.loc 1 2521 25
 1057 0046 0123     		movs	r3, #1
 1058 0048 87F82730 		strb	r3, [r7, #39]
 1059 004c 3EE0     		b	.L55
 1060              	.L56:
2522:Middlewares/FreeRTOS/tasks.c ****             }
2523:Middlewares/FreeRTOS/tasks.c ****             else if( ( pxStateList == pxDelayedList ) || ( pxStateList == pxOverflowedDelayedList )
 1061              		.loc 1 2523 20
 1062 004e BA69     		ldr	r2, [r7, #24]
 1063 0050 3B69     		ldr	r3, [r7, #16]
 1064 0052 9A42     		cmp	r2, r3
 1065 0054 03D0     		beq	.L57
 1066              		.loc 1 2523 55 discriminator 1
 1067 0056 BA69     		ldr	r2, [r7, #24]
 1068 0058 FB68     		ldr	r3, [r7, #12]
 1069 005a 9A42     		cmp	r2, r3
 1070 005c 03D1     		bne	.L58
 1071              	.L57:
2524:Middlewares/FreeRTOS/tasks.c ****             {
2525:Middlewares/FreeRTOS/tasks.c ****                 /* The task being queried is referenced from one of the Blocked
2526:Middlewares/FreeRTOS/tasks.c ****                  * lists. */
2527:Middlewares/FreeRTOS/tasks.c ****                 eReturn = eBlocked;
 1072              		.loc 1 2527 25
 1073 005e 0223     		movs	r3, #2
 1074 0060 87F82730 		strb	r3, [r7, #39]
 1075 0064 32E0     		b	.L55
 1076              	.L58:
2528:Middlewares/FreeRTOS/tasks.c ****             }
2529:Middlewares/FreeRTOS/tasks.c **** 
2530:Middlewares/FreeRTOS/tasks.c ****             #if ( INCLUDE_vTaskSuspend == 1 )
2531:Middlewares/FreeRTOS/tasks.c ****                 else if( pxStateList == &xSuspendedTaskList )
 1077              		.loc 1 2531 24
 1078 0066 BB69     		ldr	r3, [r7, #24]
 1079 0068 1F4A     		ldr	r2, .L68+16
 1080 006a 9342     		cmp	r3, r2
 1081 006c 20D1     		bne	.L59
2532:Middlewares/FreeRTOS/tasks.c ****                 {
2533:Middlewares/FreeRTOS/tasks.c ****                     /* The task being queried is referenced from the suspended
2534:Middlewares/FreeRTOS/tasks.c ****                      * list.  Is it genuinely suspended or is it blocked
2535:Middlewares/FreeRTOS/tasks.c ****                      * indefinitely? */
2536:Middlewares/FreeRTOS/tasks.c ****                     if( listLIST_ITEM_CONTAINER( &( pxTCB->xEventListItem ) ) == NULL )
 1082              		.loc 1 2536 25
 1083 006e FB69     		ldr	r3, [r7, #28]
 1084 0070 9B6A     		ldr	r3, [r3, #40]
 1085              		.loc 1 2536 23
 1086 0072 002B     		cmp	r3, #0
 1087 0074 18D1     		bne	.L60
 1088              	.LBB36:
ARM GAS  /tmp/ccF71V7c.s 			page 64


2537:Middlewares/FreeRTOS/tasks.c ****                     {
2538:Middlewares/FreeRTOS/tasks.c ****                         #if ( configUSE_TASK_NOTIFICATIONS == 1 )
2539:Middlewares/FreeRTOS/tasks.c ****                         {
2540:Middlewares/FreeRTOS/tasks.c ****                             BaseType_t x;
2541:Middlewares/FreeRTOS/tasks.c **** 
2542:Middlewares/FreeRTOS/tasks.c ****                             /* The task does not appear on the event list item of
2543:Middlewares/FreeRTOS/tasks.c ****                              * and of the RTOS objects, but could still be in the
2544:Middlewares/FreeRTOS/tasks.c ****                              * blocked state if it is waiting on its notification
2545:Middlewares/FreeRTOS/tasks.c ****                              * rather than waiting on an object.  If not, is
2546:Middlewares/FreeRTOS/tasks.c ****                              * suspended. */
2547:Middlewares/FreeRTOS/tasks.c ****                             eReturn = eSuspended;
 1089              		.loc 1 2547 37
 1090 0076 0323     		movs	r3, #3
 1091 0078 87F82730 		strb	r3, [r7, #39]
2548:Middlewares/FreeRTOS/tasks.c **** 
2549:Middlewares/FreeRTOS/tasks.c ****                             for( x = ( BaseType_t ) 0; x < ( BaseType_t ) configTASK_NOTIFICATION_A
 1092              		.loc 1 2549 36
 1093 007c 0023     		movs	r3, #0
 1094 007e 3B62     		str	r3, [r7, #32]
 1095              		.loc 1 2549 29
 1096 0080 0EE0     		b	.L61
 1097              	.L64:
2550:Middlewares/FreeRTOS/tasks.c ****                             {
2551:Middlewares/FreeRTOS/tasks.c ****                                 if( pxTCB->ucNotifyState[ x ] == taskWAITING_NOTIFICATION )
 1098              		.loc 1 2551 57
 1099 0082 FA69     		ldr	r2, [r7, #28]
 1100 0084 3B6A     		ldr	r3, [r7, #32]
 1101 0086 1344     		add	r3, r3, r2
 1102 0088 5833     		adds	r3, r3, #88
 1103 008a 1B78     		ldrb	r3, [r3]
 1104 008c DBB2     		uxtb	r3, r3
 1105              		.loc 1 2551 35
 1106 008e 012B     		cmp	r3, #1
 1107 0090 03D1     		bne	.L62
2552:Middlewares/FreeRTOS/tasks.c ****                                 {
2553:Middlewares/FreeRTOS/tasks.c ****                                     eReturn = eBlocked;
 1108              		.loc 1 2553 45
 1109 0092 0223     		movs	r3, #2
 1110 0094 87F82730 		strb	r3, [r7, #39]
2554:Middlewares/FreeRTOS/tasks.c ****                                     break;
 1111              		.loc 1 2554 37
 1112 0098 18E0     		b	.L55
 1113              	.L62:
2549:Middlewares/FreeRTOS/tasks.c ****                             {
 1114              		.loc 1 2549 115 discriminator 2
 1115 009a 3B6A     		ldr	r3, [r7, #32]
 1116 009c 0133     		adds	r3, r3, #1
 1117 009e 3B62     		str	r3, [r7, #32]
 1118              	.L61:
2549:Middlewares/FreeRTOS/tasks.c ****                             {
 1119              		.loc 1 2549 58 discriminator 1
 1120 00a0 3B6A     		ldr	r3, [r7, #32]
 1121 00a2 002B     		cmp	r3, #0
 1122 00a4 EDDD     		ble	.L64
 1123 00a6 11E0     		b	.L55
 1124              	.L60:
 1125              	.LBE36:
ARM GAS  /tmp/ccF71V7c.s 			page 65


2555:Middlewares/FreeRTOS/tasks.c ****                                 }
2556:Middlewares/FreeRTOS/tasks.c ****                             }
2557:Middlewares/FreeRTOS/tasks.c ****                         }
2558:Middlewares/FreeRTOS/tasks.c ****                         #else /* if ( configUSE_TASK_NOTIFICATIONS == 1 ) */
2559:Middlewares/FreeRTOS/tasks.c ****                         {
2560:Middlewares/FreeRTOS/tasks.c ****                             eReturn = eSuspended;
2561:Middlewares/FreeRTOS/tasks.c ****                         }
2562:Middlewares/FreeRTOS/tasks.c ****                         #endif /* if ( configUSE_TASK_NOTIFICATIONS == 1 ) */
2563:Middlewares/FreeRTOS/tasks.c ****                     }
2564:Middlewares/FreeRTOS/tasks.c ****                     else
2565:Middlewares/FreeRTOS/tasks.c ****                     {
2566:Middlewares/FreeRTOS/tasks.c ****                         eReturn = eBlocked;
 1126              		.loc 1 2566 33
 1127 00a8 0223     		movs	r3, #2
 1128 00aa 87F82730 		strb	r3, [r7, #39]
 1129 00ae 0DE0     		b	.L55
 1130              	.L59:
2567:Middlewares/FreeRTOS/tasks.c ****                     }
2568:Middlewares/FreeRTOS/tasks.c ****                 }
2569:Middlewares/FreeRTOS/tasks.c ****             #endif /* if ( INCLUDE_vTaskSuspend == 1 ) */
2570:Middlewares/FreeRTOS/tasks.c **** 
2571:Middlewares/FreeRTOS/tasks.c ****             #if ( INCLUDE_vTaskDelete == 1 )
2572:Middlewares/FreeRTOS/tasks.c ****                 else if( ( pxStateList == &xTasksWaitingTermination ) || ( pxStateList == NULL ) )
 1131              		.loc 1 2572 24
 1132 00b0 BB69     		ldr	r3, [r7, #24]
 1133 00b2 0E4A     		ldr	r2, .L68+20
 1134 00b4 9342     		cmp	r3, r2
 1135 00b6 02D0     		beq	.L65
 1136              		.loc 1 2572 71 discriminator 1
 1137 00b8 BB69     		ldr	r3, [r7, #24]
 1138 00ba 002B     		cmp	r3, #0
 1139 00bc 03D1     		bne	.L66
 1140              	.L65:
2573:Middlewares/FreeRTOS/tasks.c ****                 {
2574:Middlewares/FreeRTOS/tasks.c ****                     /* The task being queried is referenced from the deleted
2575:Middlewares/FreeRTOS/tasks.c ****                      * tasks list, or it is not referenced from any lists at
2576:Middlewares/FreeRTOS/tasks.c ****                      * all. */
2577:Middlewares/FreeRTOS/tasks.c ****                     eReturn = eDeleted;
 1141              		.loc 1 2577 29
 1142 00be 0423     		movs	r3, #4
 1143 00c0 87F82730 		strb	r3, [r7, #39]
 1144 00c4 02E0     		b	.L55
 1145              	.L66:
2578:Middlewares/FreeRTOS/tasks.c ****                 }
2579:Middlewares/FreeRTOS/tasks.c ****             #endif
2580:Middlewares/FreeRTOS/tasks.c **** 
2581:Middlewares/FreeRTOS/tasks.c ****             else
2582:Middlewares/FreeRTOS/tasks.c ****             {
2583:Middlewares/FreeRTOS/tasks.c ****                 #if ( configNUMBER_OF_CORES == 1 )
2584:Middlewares/FreeRTOS/tasks.c ****                 {
2585:Middlewares/FreeRTOS/tasks.c ****                     /* If the task is not in any other state, it must be in the
2586:Middlewares/FreeRTOS/tasks.c ****                      * Ready (including pending ready) state. */
2587:Middlewares/FreeRTOS/tasks.c ****                     eReturn = eReady;
 1146              		.loc 1 2587 29
 1147 00c6 0123     		movs	r3, #1
 1148 00c8 87F82730 		strb	r3, [r7, #39]
 1149              	.L55:
ARM GAS  /tmp/ccF71V7c.s 			page 66


2588:Middlewares/FreeRTOS/tasks.c ****                 }
2589:Middlewares/FreeRTOS/tasks.c ****                 #else /* #if ( configNUMBER_OF_CORES == 1 ) */
2590:Middlewares/FreeRTOS/tasks.c ****                 {
2591:Middlewares/FreeRTOS/tasks.c ****                     if( taskTASK_IS_RUNNING( pxTCB ) == pdTRUE )
2592:Middlewares/FreeRTOS/tasks.c ****                     {
2593:Middlewares/FreeRTOS/tasks.c ****                         /* Is it actively running on a core? */
2594:Middlewares/FreeRTOS/tasks.c ****                         eReturn = eRunning;
2595:Middlewares/FreeRTOS/tasks.c ****                     }
2596:Middlewares/FreeRTOS/tasks.c ****                     else
2597:Middlewares/FreeRTOS/tasks.c ****                     {
2598:Middlewares/FreeRTOS/tasks.c ****                         /* If the task is not in any other state, it must be in the
2599:Middlewares/FreeRTOS/tasks.c ****                          * Ready (including pending ready) state. */
2600:Middlewares/FreeRTOS/tasks.c ****                         eReturn = eReady;
2601:Middlewares/FreeRTOS/tasks.c ****                     }
2602:Middlewares/FreeRTOS/tasks.c ****                 }
2603:Middlewares/FreeRTOS/tasks.c ****                 #endif /* #if ( configNUMBER_OF_CORES == 1 ) */
2604:Middlewares/FreeRTOS/tasks.c ****             }
2605:Middlewares/FreeRTOS/tasks.c ****         }
2606:Middlewares/FreeRTOS/tasks.c **** 
2607:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_eTaskGetState( eReturn );
2608:Middlewares/FreeRTOS/tasks.c **** 
2609:Middlewares/FreeRTOS/tasks.c ****         return eReturn;
 1150              		.loc 1 2609 16
 1151 00cc 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
2610:Middlewares/FreeRTOS/tasks.c ****     }
 1152              		.loc 1 2610 5
 1153 00d0 1846     		mov	r0, r3
 1154 00d2 2837     		adds	r7, r7, #40
 1155              		.cfi_def_cfa_offset 8
 1156 00d4 BD46     		mov	sp, r7
 1157              		.cfi_def_cfa_register 13
 1158              		@ sp needed
 1159 00d6 80BD     		pop	{r7, pc}
 1160              	.L69:
 1161              		.align	2
 1162              	.L68:
 1163 00d8 00000000 		.word	pxCurrentTCB
 1164 00dc 00000000 		.word	pxDelayedTaskList
 1165 00e0 00000000 		.word	pxOverflowDelayedTaskList
 1166 00e4 00000000 		.word	xPendingReadyList
 1167 00e8 00000000 		.word	xSuspendedTaskList
 1168 00ec 00000000 		.word	xTasksWaitingTermination
 1169              		.cfi_endproc
 1170              	.LFE14:
 1172              		.section	.text.uxTaskPriorityGet,"ax",%progbits
 1173              		.align	1
 1174              		.global	uxTaskPriorityGet
 1175              		.syntax unified
 1176              		.thumb
 1177              		.thumb_func
 1179              	uxTaskPriorityGet:
 1180              	.LFB15:
2611:Middlewares/FreeRTOS/tasks.c **** 
2612:Middlewares/FreeRTOS/tasks.c **** #endif /* INCLUDE_eTaskGetState */
2613:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
2614:Middlewares/FreeRTOS/tasks.c **** 
2615:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_uxTaskPriorityGet == 1 )
ARM GAS  /tmp/ccF71V7c.s 			page 67


2616:Middlewares/FreeRTOS/tasks.c **** 
2617:Middlewares/FreeRTOS/tasks.c ****     UBaseType_t uxTaskPriorityGet( const TaskHandle_t xTask )
2618:Middlewares/FreeRTOS/tasks.c ****     {
 1181              		.loc 1 2618 5
 1182              		.cfi_startproc
 1183              		@ args = 0, pretend = 0, frame = 16
 1184              		@ frame_needed = 1, uses_anonymous_args = 0
 1185 0000 80B5     		push	{r7, lr}
 1186              		.cfi_def_cfa_offset 8
 1187              		.cfi_offset 7, -8
 1188              		.cfi_offset 14, -4
 1189 0002 84B0     		sub	sp, sp, #16
 1190              		.cfi_def_cfa_offset 24
 1191 0004 00AF     		add	r7, sp, #0
 1192              		.cfi_def_cfa_register 7
 1193 0006 7860     		str	r0, [r7, #4]
2619:Middlewares/FreeRTOS/tasks.c ****         TCB_t const * pxTCB;
2620:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxReturn;
2621:Middlewares/FreeRTOS/tasks.c **** 
2622:Middlewares/FreeRTOS/tasks.c ****         traceENTER_uxTaskPriorityGet( xTask );
2623:Middlewares/FreeRTOS/tasks.c **** 
2624:Middlewares/FreeRTOS/tasks.c ****         taskENTER_CRITICAL();
 1194              		.loc 1 2624 9
 1195 0008 FFF7FEFF 		bl	vPortEnterCritical
2625:Middlewares/FreeRTOS/tasks.c ****         {
2626:Middlewares/FreeRTOS/tasks.c ****             /* If null is passed in here then it is the priority of the task
2627:Middlewares/FreeRTOS/tasks.c ****              * that called uxTaskPriorityGet() that is being queried. */
2628:Middlewares/FreeRTOS/tasks.c ****             pxTCB = prvGetTCBFromHandle( xTask );
 1196              		.loc 1 2628 21
 1197 000c 7B68     		ldr	r3, [r7, #4]
 1198 000e 002B     		cmp	r3, #0
 1199 0010 02D1     		bne	.L71
 1200              		.loc 1 2628 21 is_stmt 0 discriminator 1
 1201 0012 074B     		ldr	r3, .L74
 1202 0014 1B68     		ldr	r3, [r3]
 1203 0016 00E0     		b	.L72
 1204              	.L71:
 1205              		.loc 1 2628 21 discriminator 2
 1206 0018 7B68     		ldr	r3, [r7, #4]
 1207              	.L72:
 1208              		.loc 1 2628 19 is_stmt 1 discriminator 4
 1209 001a FB60     		str	r3, [r7, #12]
2629:Middlewares/FreeRTOS/tasks.c ****             uxReturn = pxTCB->uxPriority;
 1210              		.loc 1 2629 22
 1211 001c FB68     		ldr	r3, [r7, #12]
 1212 001e DB6A     		ldr	r3, [r3, #44]
 1213 0020 BB60     		str	r3, [r7, #8]
2630:Middlewares/FreeRTOS/tasks.c ****         }
2631:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL();
 1214              		.loc 1 2631 9
 1215 0022 FFF7FEFF 		bl	vPortExitCritical
2632:Middlewares/FreeRTOS/tasks.c **** 
2633:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_uxTaskPriorityGet( uxReturn );
2634:Middlewares/FreeRTOS/tasks.c **** 
2635:Middlewares/FreeRTOS/tasks.c ****         return uxReturn;
 1216              		.loc 1 2635 16
 1217 0026 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccF71V7c.s 			page 68


2636:Middlewares/FreeRTOS/tasks.c ****     }
 1218              		.loc 1 2636 5
 1219 0028 1846     		mov	r0, r3
 1220 002a 1037     		adds	r7, r7, #16
 1221              		.cfi_def_cfa_offset 8
 1222 002c BD46     		mov	sp, r7
 1223              		.cfi_def_cfa_register 13
 1224              		@ sp needed
 1225 002e 80BD     		pop	{r7, pc}
 1226              	.L75:
 1227              		.align	2
 1228              	.L74:
 1229 0030 00000000 		.word	pxCurrentTCB
 1230              		.cfi_endproc
 1231              	.LFE15:
 1233              		.section	.text.uxTaskPriorityGetFromISR,"ax",%progbits
 1234              		.align	1
 1235              		.global	uxTaskPriorityGetFromISR
 1236              		.syntax unified
 1237              		.thumb
 1238              		.thumb_func
 1240              	uxTaskPriorityGetFromISR:
 1241              	.LFB16:
2637:Middlewares/FreeRTOS/tasks.c **** 
2638:Middlewares/FreeRTOS/tasks.c **** #endif /* INCLUDE_uxTaskPriorityGet */
2639:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
2640:Middlewares/FreeRTOS/tasks.c **** 
2641:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_uxTaskPriorityGet == 1 )
2642:Middlewares/FreeRTOS/tasks.c **** 
2643:Middlewares/FreeRTOS/tasks.c ****     UBaseType_t uxTaskPriorityGetFromISR( const TaskHandle_t xTask )
2644:Middlewares/FreeRTOS/tasks.c ****     {
 1242              		.loc 1 2644 5
 1243              		.cfi_startproc
 1244              		@ args = 0, pretend = 0, frame = 32
 1245              		@ frame_needed = 1, uses_anonymous_args = 0
 1246              		@ link register save eliminated.
 1247 0000 80B4     		push	{r7}
 1248              		.cfi_def_cfa_offset 4
 1249              		.cfi_offset 7, -4
 1250 0002 89B0     		sub	sp, sp, #36
 1251              		.cfi_def_cfa_offset 40
 1252 0004 00AF     		add	r7, sp, #0
 1253              		.cfi_def_cfa_register 7
 1254 0006 7860     		str	r0, [r7, #4]
 1255              	.LBB37:
 1256              	.LBB38:
 1257              		.file 2 "Middlewares/FreeRTOS/portable/portmacro.h"
   1:Middlewares/FreeRTOS/portable/portmacro.h **** /*
   2:Middlewares/FreeRTOS/portable/portmacro.h ****  * FreeRTOS Kernel V11.1.0
   3:Middlewares/FreeRTOS/portable/portmacro.h ****  * Copyright (C) 2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.
   4:Middlewares/FreeRTOS/portable/portmacro.h ****  *
   5:Middlewares/FreeRTOS/portable/portmacro.h ****  * SPDX-License-Identifier: MIT
   6:Middlewares/FreeRTOS/portable/portmacro.h ****  *
   7:Middlewares/FreeRTOS/portable/portmacro.h ****  * Permission is hereby granted, free of charge, to any person obtaining a copy of
   8:Middlewares/FreeRTOS/portable/portmacro.h ****  * this software and associated documentation files (the "Software"), to deal in
   9:Middlewares/FreeRTOS/portable/portmacro.h ****  * the Software without restriction, including without limitation the rights to
  10:Middlewares/FreeRTOS/portable/portmacro.h ****  * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
ARM GAS  /tmp/ccF71V7c.s 			page 69


  11:Middlewares/FreeRTOS/portable/portmacro.h ****  * the Software, and to permit persons to whom the Software is furnished to do so,
  12:Middlewares/FreeRTOS/portable/portmacro.h ****  * subject to the following conditions:
  13:Middlewares/FreeRTOS/portable/portmacro.h ****  *
  14:Middlewares/FreeRTOS/portable/portmacro.h ****  * The above copyright notice and this permission notice shall be included in all
  15:Middlewares/FreeRTOS/portable/portmacro.h ****  * copies or substantial portions of the Software.
  16:Middlewares/FreeRTOS/portable/portmacro.h ****  *
  17:Middlewares/FreeRTOS/portable/portmacro.h ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  18:Middlewares/FreeRTOS/portable/portmacro.h ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
  19:Middlewares/FreeRTOS/portable/portmacro.h ****  * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
  20:Middlewares/FreeRTOS/portable/portmacro.h ****  * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
  21:Middlewares/FreeRTOS/portable/portmacro.h ****  * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  22:Middlewares/FreeRTOS/portable/portmacro.h ****  * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  23:Middlewares/FreeRTOS/portable/portmacro.h ****  *
  24:Middlewares/FreeRTOS/portable/portmacro.h ****  * https://www.FreeRTOS.org
  25:Middlewares/FreeRTOS/portable/portmacro.h ****  * https://github.com/FreeRTOS
  26:Middlewares/FreeRTOS/portable/portmacro.h ****  *
  27:Middlewares/FreeRTOS/portable/portmacro.h ****  */
  28:Middlewares/FreeRTOS/portable/portmacro.h **** 
  29:Middlewares/FreeRTOS/portable/portmacro.h **** 
  30:Middlewares/FreeRTOS/portable/portmacro.h **** #ifndef PORTMACRO_H
  31:Middlewares/FreeRTOS/portable/portmacro.h **** #define PORTMACRO_H
  32:Middlewares/FreeRTOS/portable/portmacro.h **** 
  33:Middlewares/FreeRTOS/portable/portmacro.h **** /* *INDENT-OFF* */
  34:Middlewares/FreeRTOS/portable/portmacro.h **** #ifdef __cplusplus
  35:Middlewares/FreeRTOS/portable/portmacro.h ****     extern "C" {
  36:Middlewares/FreeRTOS/portable/portmacro.h **** #endif
  37:Middlewares/FreeRTOS/portable/portmacro.h **** /* *INDENT-ON* */
  38:Middlewares/FreeRTOS/portable/portmacro.h **** 
  39:Middlewares/FreeRTOS/portable/portmacro.h **** /*-----------------------------------------------------------
  40:Middlewares/FreeRTOS/portable/portmacro.h ****  * Port specific definitions.
  41:Middlewares/FreeRTOS/portable/portmacro.h ****  *
  42:Middlewares/FreeRTOS/portable/portmacro.h ****  * The settings in this file configure FreeRTOS correctly for the
  43:Middlewares/FreeRTOS/portable/portmacro.h ****  * given hardware and compiler.
  44:Middlewares/FreeRTOS/portable/portmacro.h ****  *
  45:Middlewares/FreeRTOS/portable/portmacro.h ****  * These settings should not be altered.
  46:Middlewares/FreeRTOS/portable/portmacro.h ****  *-----------------------------------------------------------
  47:Middlewares/FreeRTOS/portable/portmacro.h ****  */
  48:Middlewares/FreeRTOS/portable/portmacro.h **** 
  49:Middlewares/FreeRTOS/portable/portmacro.h **** /* Type definitions. */
  50:Middlewares/FreeRTOS/portable/portmacro.h **** #define portCHAR          char
  51:Middlewares/FreeRTOS/portable/portmacro.h **** #define portFLOAT         float
  52:Middlewares/FreeRTOS/portable/portmacro.h **** #define portDOUBLE        double
  53:Middlewares/FreeRTOS/portable/portmacro.h **** #define portLONG          long
  54:Middlewares/FreeRTOS/portable/portmacro.h **** #define portSHORT         short
  55:Middlewares/FreeRTOS/portable/portmacro.h **** #define portSTACK_TYPE    uint32_t
  56:Middlewares/FreeRTOS/portable/portmacro.h **** #define portBASE_TYPE     long
  57:Middlewares/FreeRTOS/portable/portmacro.h **** 
  58:Middlewares/FreeRTOS/portable/portmacro.h **** typedef portSTACK_TYPE   StackType_t;
  59:Middlewares/FreeRTOS/portable/portmacro.h **** typedef long             BaseType_t;
  60:Middlewares/FreeRTOS/portable/portmacro.h **** typedef unsigned long    UBaseType_t;
  61:Middlewares/FreeRTOS/portable/portmacro.h **** 
  62:Middlewares/FreeRTOS/portable/portmacro.h **** #if ( configTICK_TYPE_WIDTH_IN_BITS == TICK_TYPE_WIDTH_16_BITS )
  63:Middlewares/FreeRTOS/portable/portmacro.h ****     typedef uint16_t     TickType_t;
  64:Middlewares/FreeRTOS/portable/portmacro.h ****     #define portMAX_DELAY              ( TickType_t ) 0xffff
  65:Middlewares/FreeRTOS/portable/portmacro.h **** #elif ( configTICK_TYPE_WIDTH_IN_BITS == TICK_TYPE_WIDTH_32_BITS )
  66:Middlewares/FreeRTOS/portable/portmacro.h ****     typedef uint32_t     TickType_t;
  67:Middlewares/FreeRTOS/portable/portmacro.h ****     #define portMAX_DELAY              ( TickType_t ) 0xffffffffUL
ARM GAS  /tmp/ccF71V7c.s 			page 70


  68:Middlewares/FreeRTOS/portable/portmacro.h **** 
  69:Middlewares/FreeRTOS/portable/portmacro.h **** /* 32-bit tick type on a 32-bit architecture, so reads of the tick count do
  70:Middlewares/FreeRTOS/portable/portmacro.h ****  * not need to be guarded with a critical section. */
  71:Middlewares/FreeRTOS/portable/portmacro.h ****     #define portTICK_TYPE_IS_ATOMIC    1
  72:Middlewares/FreeRTOS/portable/portmacro.h **** #elif ( configTICK_TYPE_WIDTH_IN_BITS == TICK_TYPE_WIDTH_64_BITS )
  73:Middlewares/FreeRTOS/portable/portmacro.h ****     typedef uint64_t TickType_t;
  74:Middlewares/FreeRTOS/portable/portmacro.h ****     #define portMAX_DELAY              ( TickType_t ) 0xffffffffffffffffULL
  75:Middlewares/FreeRTOS/portable/portmacro.h **** #else /* if ( configTICK_TYPE_WIDTH_IN_BITS == TICK_TYPE_WIDTH_16_BITS ) */
  76:Middlewares/FreeRTOS/portable/portmacro.h ****     #error configTICK_TYPE_WIDTH_IN_BITS set to unsupported tick type width.
  77:Middlewares/FreeRTOS/portable/portmacro.h **** #endif /* if ( configTICK_TYPE_WIDTH_IN_BITS == TICK_TYPE_WIDTH_16_BITS ) */
  78:Middlewares/FreeRTOS/portable/portmacro.h **** /*-----------------------------------------------------------*/
  79:Middlewares/FreeRTOS/portable/portmacro.h **** 
  80:Middlewares/FreeRTOS/portable/portmacro.h **** /* Architecture specifics. */
  81:Middlewares/FreeRTOS/portable/portmacro.h **** #define portSTACK_GROWTH      ( -1 )
  82:Middlewares/FreeRTOS/portable/portmacro.h **** #define portTICK_PERIOD_MS    ( ( TickType_t ) 1000 / configTICK_RATE_HZ )
  83:Middlewares/FreeRTOS/portable/portmacro.h **** #define portBYTE_ALIGNMENT    8
  84:Middlewares/FreeRTOS/portable/portmacro.h **** #define portDONT_DISCARD      __attribute__( ( used ) )
  85:Middlewares/FreeRTOS/portable/portmacro.h **** /*-----------------------------------------------------------*/
  86:Middlewares/FreeRTOS/portable/portmacro.h **** 
  87:Middlewares/FreeRTOS/portable/portmacro.h **** /* Scheduler utilities. */
  88:Middlewares/FreeRTOS/portable/portmacro.h **** #define portYIELD()                                     \
  89:Middlewares/FreeRTOS/portable/portmacro.h ****     {                                                   \
  90:Middlewares/FreeRTOS/portable/portmacro.h ****         /* Set a PendSV to request a context switch. */ \
  91:Middlewares/FreeRTOS/portable/portmacro.h ****         portNVIC_INT_CTRL_REG = portNVIC_PENDSVSET_BIT; \
  92:Middlewares/FreeRTOS/portable/portmacro.h ****                                                         \
  93:Middlewares/FreeRTOS/portable/portmacro.h ****         /* Barriers are normally not required but do ensure the code is completely \
  94:Middlewares/FreeRTOS/portable/portmacro.h ****          * within the specified behaviour for the architecture. */ \
  95:Middlewares/FreeRTOS/portable/portmacro.h ****         __asm volatile ( "dsb" ::: "memory" );                     \
  96:Middlewares/FreeRTOS/portable/portmacro.h ****         __asm volatile ( "isb" );                                  \
  97:Middlewares/FreeRTOS/portable/portmacro.h ****     }
  98:Middlewares/FreeRTOS/portable/portmacro.h **** 
  99:Middlewares/FreeRTOS/portable/portmacro.h **** #define portNVIC_INT_CTRL_REG     ( *( ( volatile uint32_t * ) 0xe000ed04 ) )
 100:Middlewares/FreeRTOS/portable/portmacro.h **** #define portNVIC_PENDSVSET_BIT    ( 1UL << 28UL )
 101:Middlewares/FreeRTOS/portable/portmacro.h **** #define portEND_SWITCHING_ISR( xSwitchRequired ) \
 102:Middlewares/FreeRTOS/portable/portmacro.h ****     do                                           \
 103:Middlewares/FreeRTOS/portable/portmacro.h ****     {                                            \
 104:Middlewares/FreeRTOS/portable/portmacro.h ****         if( xSwitchRequired != pdFALSE )         \
 105:Middlewares/FreeRTOS/portable/portmacro.h ****         {                                        \
 106:Middlewares/FreeRTOS/portable/portmacro.h ****             traceISR_EXIT_TO_SCHEDULER();        \
 107:Middlewares/FreeRTOS/portable/portmacro.h ****             portYIELD();                         \
 108:Middlewares/FreeRTOS/portable/portmacro.h ****         }                                        \
 109:Middlewares/FreeRTOS/portable/portmacro.h ****         else                                     \
 110:Middlewares/FreeRTOS/portable/portmacro.h ****         {                                        \
 111:Middlewares/FreeRTOS/portable/portmacro.h ****             traceISR_EXIT();                     \
 112:Middlewares/FreeRTOS/portable/portmacro.h ****         }                                        \
 113:Middlewares/FreeRTOS/portable/portmacro.h ****     } while( 0 )
 114:Middlewares/FreeRTOS/portable/portmacro.h **** #define portYIELD_FROM_ISR( x )    portEND_SWITCHING_ISR( x )
 115:Middlewares/FreeRTOS/portable/portmacro.h **** /*-----------------------------------------------------------*/
 116:Middlewares/FreeRTOS/portable/portmacro.h **** 
 117:Middlewares/FreeRTOS/portable/portmacro.h **** /* Critical section management. */
 118:Middlewares/FreeRTOS/portable/portmacro.h **** extern void vPortEnterCritical( void );
 119:Middlewares/FreeRTOS/portable/portmacro.h **** extern void vPortExitCritical( void );
 120:Middlewares/FreeRTOS/portable/portmacro.h **** #define portSET_INTERRUPT_MASK_FROM_ISR()         ulPortRaiseBASEPRI()
 121:Middlewares/FreeRTOS/portable/portmacro.h **** #define portCLEAR_INTERRUPT_MASK_FROM_ISR( x )    vPortSetBASEPRI( x )
 122:Middlewares/FreeRTOS/portable/portmacro.h **** #define portDISABLE_INTERRUPTS()                  vPortRaiseBASEPRI()
 123:Middlewares/FreeRTOS/portable/portmacro.h **** #define portENABLE_INTERRUPTS()                   vPortSetBASEPRI( 0 )
 124:Middlewares/FreeRTOS/portable/portmacro.h **** #define portENTER_CRITICAL()                      vPortEnterCritical()
ARM GAS  /tmp/ccF71V7c.s 			page 71


 125:Middlewares/FreeRTOS/portable/portmacro.h **** #define portEXIT_CRITICAL()                       vPortExitCritical()
 126:Middlewares/FreeRTOS/portable/portmacro.h **** 
 127:Middlewares/FreeRTOS/portable/portmacro.h **** /*-----------------------------------------------------------*/
 128:Middlewares/FreeRTOS/portable/portmacro.h **** 
 129:Middlewares/FreeRTOS/portable/portmacro.h **** /* Task function macros as described on the FreeRTOS.org WEB site.  These are
 130:Middlewares/FreeRTOS/portable/portmacro.h ****  * not necessary for to use this port.  They are defined so the common demo files
 131:Middlewares/FreeRTOS/portable/portmacro.h ****  * (which build with all the ports) will build. */
 132:Middlewares/FreeRTOS/portable/portmacro.h **** #define portTASK_FUNCTION_PROTO( vFunction, pvParameters )    void vFunction( void * pvParameters )
 133:Middlewares/FreeRTOS/portable/portmacro.h **** #define portTASK_FUNCTION( vFunction, pvParameters )          void vFunction( void * pvParameters )
 134:Middlewares/FreeRTOS/portable/portmacro.h **** /*-----------------------------------------------------------*/
 135:Middlewares/FreeRTOS/portable/portmacro.h **** 
 136:Middlewares/FreeRTOS/portable/portmacro.h **** /* Tickless idle/low power functionality. */
 137:Middlewares/FreeRTOS/portable/portmacro.h **** #ifndef portSUPPRESS_TICKS_AND_SLEEP
 138:Middlewares/FreeRTOS/portable/portmacro.h ****     extern void vPortSuppressTicksAndSleep( TickType_t xExpectedIdleTime );
 139:Middlewares/FreeRTOS/portable/portmacro.h ****     #define portSUPPRESS_TICKS_AND_SLEEP( xExpectedIdleTime )    vPortSuppressTicksAndSleep( xExpec
 140:Middlewares/FreeRTOS/portable/portmacro.h **** #endif
 141:Middlewares/FreeRTOS/portable/portmacro.h **** /*-----------------------------------------------------------*/
 142:Middlewares/FreeRTOS/portable/portmacro.h **** 
 143:Middlewares/FreeRTOS/portable/portmacro.h **** /* Architecture specific optimisations. */
 144:Middlewares/FreeRTOS/portable/portmacro.h **** #ifndef configUSE_PORT_OPTIMISED_TASK_SELECTION
 145:Middlewares/FreeRTOS/portable/portmacro.h ****     #define configUSE_PORT_OPTIMISED_TASK_SELECTION    1
 146:Middlewares/FreeRTOS/portable/portmacro.h **** #endif
 147:Middlewares/FreeRTOS/portable/portmacro.h **** 
 148:Middlewares/FreeRTOS/portable/portmacro.h **** #if configUSE_PORT_OPTIMISED_TASK_SELECTION == 1
 149:Middlewares/FreeRTOS/portable/portmacro.h **** 
 150:Middlewares/FreeRTOS/portable/portmacro.h **** /* Generic helper function. */
 151:Middlewares/FreeRTOS/portable/portmacro.h ****     __attribute__( ( always_inline ) ) static inline uint8_t ucPortCountLeadingZeros( uint32_t ulBi
 152:Middlewares/FreeRTOS/portable/portmacro.h ****     {
 153:Middlewares/FreeRTOS/portable/portmacro.h ****         uint8_t ucReturn;
 154:Middlewares/FreeRTOS/portable/portmacro.h **** 
 155:Middlewares/FreeRTOS/portable/portmacro.h ****         __asm volatile ( "clz %0, %1" : "=r" ( ucReturn ) : "r" ( ulBitmap ) : "memory" );
 156:Middlewares/FreeRTOS/portable/portmacro.h **** 
 157:Middlewares/FreeRTOS/portable/portmacro.h ****         return ucReturn;
 158:Middlewares/FreeRTOS/portable/portmacro.h ****     }
 159:Middlewares/FreeRTOS/portable/portmacro.h **** 
 160:Middlewares/FreeRTOS/portable/portmacro.h **** /* Check the configuration. */
 161:Middlewares/FreeRTOS/portable/portmacro.h ****     #if ( configMAX_PRIORITIES > 32 )
 162:Middlewares/FreeRTOS/portable/portmacro.h ****         #error configUSE_PORT_OPTIMISED_TASK_SELECTION can only be set to 1 when configMAX_PRIORITI
 163:Middlewares/FreeRTOS/portable/portmacro.h ****     #endif
 164:Middlewares/FreeRTOS/portable/portmacro.h **** 
 165:Middlewares/FreeRTOS/portable/portmacro.h **** /* Store/clear the ready priorities in a bit map. */
 166:Middlewares/FreeRTOS/portable/portmacro.h ****     #define portRECORD_READY_PRIORITY( uxPriority, uxReadyPriorities )    ( uxReadyPriorities ) |= 
 167:Middlewares/FreeRTOS/portable/portmacro.h ****     #define portRESET_READY_PRIORITY( uxPriority, uxReadyPriorities )     ( uxReadyPriorities ) &= 
 168:Middlewares/FreeRTOS/portable/portmacro.h **** 
 169:Middlewares/FreeRTOS/portable/portmacro.h **** /*-----------------------------------------------------------*/
 170:Middlewares/FreeRTOS/portable/portmacro.h **** 
 171:Middlewares/FreeRTOS/portable/portmacro.h ****     #define portGET_HIGHEST_PRIORITY( uxTopPriority, uxReadyPriorities )    uxTopPriority = ( 31UL 
 172:Middlewares/FreeRTOS/portable/portmacro.h **** 
 173:Middlewares/FreeRTOS/portable/portmacro.h **** #endif /* configUSE_PORT_OPTIMISED_TASK_SELECTION */
 174:Middlewares/FreeRTOS/portable/portmacro.h **** 
 175:Middlewares/FreeRTOS/portable/portmacro.h **** /*-----------------------------------------------------------*/
 176:Middlewares/FreeRTOS/portable/portmacro.h **** 
 177:Middlewares/FreeRTOS/portable/portmacro.h **** #ifdef configASSERT
 178:Middlewares/FreeRTOS/portable/portmacro.h ****     void vPortValidateInterruptPriority( void );
 179:Middlewares/FreeRTOS/portable/portmacro.h ****     #define portASSERT_IF_INTERRUPT_PRIORITY_INVALID()    vPortValidateInterruptPriority()
 180:Middlewares/FreeRTOS/portable/portmacro.h **** #endif
 181:Middlewares/FreeRTOS/portable/portmacro.h **** 
ARM GAS  /tmp/ccF71V7c.s 			page 72


 182:Middlewares/FreeRTOS/portable/portmacro.h **** /* portNOP() is not required by this port. */
 183:Middlewares/FreeRTOS/portable/portmacro.h **** #define portNOP()
 184:Middlewares/FreeRTOS/portable/portmacro.h **** 
 185:Middlewares/FreeRTOS/portable/portmacro.h **** #define portINLINE              __inline
 186:Middlewares/FreeRTOS/portable/portmacro.h **** 
 187:Middlewares/FreeRTOS/portable/portmacro.h **** #ifndef portFORCE_INLINE
 188:Middlewares/FreeRTOS/portable/portmacro.h ****     #define portFORCE_INLINE    inline __attribute__( ( always_inline ) )
 189:Middlewares/FreeRTOS/portable/portmacro.h **** #endif
 190:Middlewares/FreeRTOS/portable/portmacro.h **** 
 191:Middlewares/FreeRTOS/portable/portmacro.h **** portFORCE_INLINE static BaseType_t xPortIsInsideInterrupt( void )
 192:Middlewares/FreeRTOS/portable/portmacro.h **** {
 193:Middlewares/FreeRTOS/portable/portmacro.h ****     uint32_t ulCurrentInterrupt;
 194:Middlewares/FreeRTOS/portable/portmacro.h ****     BaseType_t xReturn;
 195:Middlewares/FreeRTOS/portable/portmacro.h **** 
 196:Middlewares/FreeRTOS/portable/portmacro.h ****     /* Obtain the number of the currently executing interrupt. */
 197:Middlewares/FreeRTOS/portable/portmacro.h ****     __asm volatile ( "mrs %0, ipsr" : "=r" ( ulCurrentInterrupt )::"memory" );
 198:Middlewares/FreeRTOS/portable/portmacro.h **** 
 199:Middlewares/FreeRTOS/portable/portmacro.h ****     if( ulCurrentInterrupt == 0 )
 200:Middlewares/FreeRTOS/portable/portmacro.h ****     {
 201:Middlewares/FreeRTOS/portable/portmacro.h ****         xReturn = pdFALSE;
 202:Middlewares/FreeRTOS/portable/portmacro.h ****     }
 203:Middlewares/FreeRTOS/portable/portmacro.h ****     else
 204:Middlewares/FreeRTOS/portable/portmacro.h ****     {
 205:Middlewares/FreeRTOS/portable/portmacro.h ****         xReturn = pdTRUE;
 206:Middlewares/FreeRTOS/portable/portmacro.h ****     }
 207:Middlewares/FreeRTOS/portable/portmacro.h **** 
 208:Middlewares/FreeRTOS/portable/portmacro.h ****     return xReturn;
 209:Middlewares/FreeRTOS/portable/portmacro.h **** }
 210:Middlewares/FreeRTOS/portable/portmacro.h **** 
 211:Middlewares/FreeRTOS/portable/portmacro.h **** /*-----------------------------------------------------------*/
 212:Middlewares/FreeRTOS/portable/portmacro.h **** 
 213:Middlewares/FreeRTOS/portable/portmacro.h **** portFORCE_INLINE static void vPortRaiseBASEPRI( void )
 214:Middlewares/FreeRTOS/portable/portmacro.h **** {
 215:Middlewares/FreeRTOS/portable/portmacro.h ****     uint32_t ulNewBASEPRI;
 216:Middlewares/FreeRTOS/portable/portmacro.h **** 
 217:Middlewares/FreeRTOS/portable/portmacro.h ****     __asm volatile
 218:Middlewares/FreeRTOS/portable/portmacro.h ****     (
 219:Middlewares/FreeRTOS/portable/portmacro.h ****         "   mov %0, %1                                              \n" \
 220:Middlewares/FreeRTOS/portable/portmacro.h ****         "   msr basepri, %0                                         \n" \
 221:Middlewares/FreeRTOS/portable/portmacro.h ****         "   isb                                                     \n" \
 222:Middlewares/FreeRTOS/portable/portmacro.h ****         "   dsb                                                     \n" \
 223:Middlewares/FreeRTOS/portable/portmacro.h ****         : "=r" ( ulNewBASEPRI ) : "i" ( configMAX_SYSCALL_INTERRUPT_PRIORITY ) : "memory"
 224:Middlewares/FreeRTOS/portable/portmacro.h ****     );
 225:Middlewares/FreeRTOS/portable/portmacro.h **** }
 226:Middlewares/FreeRTOS/portable/portmacro.h **** 
 227:Middlewares/FreeRTOS/portable/portmacro.h **** /*-----------------------------------------------------------*/
 228:Middlewares/FreeRTOS/portable/portmacro.h **** 
 229:Middlewares/FreeRTOS/portable/portmacro.h **** portFORCE_INLINE static uint32_t ulPortRaiseBASEPRI( void )
 230:Middlewares/FreeRTOS/portable/portmacro.h **** {
 231:Middlewares/FreeRTOS/portable/portmacro.h ****     uint32_t ulOriginalBASEPRI, ulNewBASEPRI;
 232:Middlewares/FreeRTOS/portable/portmacro.h **** 
 233:Middlewares/FreeRTOS/portable/portmacro.h ****     __asm volatile
 1258              		.loc 2 233 5
 1259              		.syntax unified
 1260              	@ 233 "Middlewares/FreeRTOS/portable/portmacro.h" 1
 1261 0008 EFF31182 		   mrs r2, basepri                                         
 1262 000c 4FF05003 	   mov r3, #80                                              
ARM GAS  /tmp/ccF71V7c.s 			page 73


 1263 0010 83F31188 	   msr basepri, r3                                         
 1264 0014 BFF36F8F 	   isb                                                     
 1265 0018 BFF34F8F 	   dsb                                                     
 1266              	
 1267              	@ 0 "" 2
 1268              		.thumb
 1269              		.syntax unified
 1270 001c 3A61     		str	r2, [r7, #16]
 1271 001e FB60     		str	r3, [r7, #12]
 234:Middlewares/FreeRTOS/portable/portmacro.h ****     (
 235:Middlewares/FreeRTOS/portable/portmacro.h ****         "   mrs %0, basepri                                         \n" \
 236:Middlewares/FreeRTOS/portable/portmacro.h ****         "   mov %1, %2                                              \n" \
 237:Middlewares/FreeRTOS/portable/portmacro.h ****         "   msr basepri, %1                                         \n" \
 238:Middlewares/FreeRTOS/portable/portmacro.h ****         "   isb                                                     \n" \
 239:Middlewares/FreeRTOS/portable/portmacro.h ****         "   dsb                                                     \n" \
 240:Middlewares/FreeRTOS/portable/portmacro.h ****         : "=r" ( ulOriginalBASEPRI ), "=r" ( ulNewBASEPRI ) : "i" ( configMAX_SYSCALL_INTERRUPT_PRI
 241:Middlewares/FreeRTOS/portable/portmacro.h ****     );
 242:Middlewares/FreeRTOS/portable/portmacro.h **** 
 243:Middlewares/FreeRTOS/portable/portmacro.h ****     /* This return will not be reached but is necessary to prevent compiler
 244:Middlewares/FreeRTOS/portable/portmacro.h ****      * warnings. */
 245:Middlewares/FreeRTOS/portable/portmacro.h ****     return ulOriginalBASEPRI;
 1272              		.loc 2 245 12
 1273 0020 3B69     		ldr	r3, [r7, #16]
 1274              	.LBE38:
 1275              	.LBE37:
2645:Middlewares/FreeRTOS/tasks.c ****         TCB_t const * pxTCB;
2646:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxReturn;
2647:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxSavedInterruptStatus;
2648:Middlewares/FreeRTOS/tasks.c **** 
2649:Middlewares/FreeRTOS/tasks.c ****         traceENTER_uxTaskPriorityGetFromISR( xTask );
2650:Middlewares/FreeRTOS/tasks.c **** 
2651:Middlewares/FreeRTOS/tasks.c ****         /* RTOS ports that support interrupt nesting have the concept of a
2652:Middlewares/FreeRTOS/tasks.c ****          * maximum  system call (or maximum API call) interrupt priority.
2653:Middlewares/FreeRTOS/tasks.c ****          * Interrupts that are  above the maximum system call priority are keep
2654:Middlewares/FreeRTOS/tasks.c ****          * permanently enabled, even when the RTOS kernel is in a critical section,
2655:Middlewares/FreeRTOS/tasks.c ****          * but cannot make any calls to FreeRTOS API functions.  If configASSERT()
2656:Middlewares/FreeRTOS/tasks.c ****          * is defined in FreeRTOSConfig.h then
2657:Middlewares/FreeRTOS/tasks.c ****          * portASSERT_IF_INTERRUPT_PRIORITY_INVALID() will result in an assertion
2658:Middlewares/FreeRTOS/tasks.c ****          * failure if a FreeRTOS API function is called from an interrupt that has
2659:Middlewares/FreeRTOS/tasks.c ****          * been assigned a priority above the configured maximum system call
2660:Middlewares/FreeRTOS/tasks.c ****          * priority.  Only FreeRTOS functions that end in FromISR can be called
2661:Middlewares/FreeRTOS/tasks.c ****          * from interrupts  that have been assigned a priority at or (logically)
2662:Middlewares/FreeRTOS/tasks.c ****          * below the maximum system call interrupt priority.  FreeRTOS maintains a
2663:Middlewares/FreeRTOS/tasks.c ****          * separate interrupt safe API to ensure interrupt entry is as fast and as
2664:Middlewares/FreeRTOS/tasks.c ****          * simple as possible.  More information (albeit Cortex-M specific) is
2665:Middlewares/FreeRTOS/tasks.c ****          * provided on the following link:
2666:Middlewares/FreeRTOS/tasks.c ****          * https://www.FreeRTOS.org/RTOS-Cortex-M3-M4.html */
2667:Middlewares/FreeRTOS/tasks.c ****         portASSERT_IF_INTERRUPT_PRIORITY_INVALID();
2668:Middlewares/FreeRTOS/tasks.c **** 
2669:Middlewares/FreeRTOS/tasks.c ****         /* MISRA Ref 4.7.1 [Return value shall be checked] */
2670:Middlewares/FreeRTOS/tasks.c ****         /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#dir-47 *
2671:Middlewares/FreeRTOS/tasks.c ****         /* coverity[misra_c_2012_directive_4_7_violation] */
2672:Middlewares/FreeRTOS/tasks.c ****         uxSavedInterruptStatus = ( UBaseType_t ) taskENTER_CRITICAL_FROM_ISR();
 1276              		.loc 1 2672 50
 1277 0022 FB61     		str	r3, [r7, #28]
2673:Middlewares/FreeRTOS/tasks.c ****         {
2674:Middlewares/FreeRTOS/tasks.c ****             /* If null is passed in here then it is the priority of the calling
ARM GAS  /tmp/ccF71V7c.s 			page 74


2675:Middlewares/FreeRTOS/tasks.c ****              * task that is being queried. */
2676:Middlewares/FreeRTOS/tasks.c ****             pxTCB = prvGetTCBFromHandle( xTask );
 1278              		.loc 1 2676 21
 1279 0024 7B68     		ldr	r3, [r7, #4]
 1280 0026 002B     		cmp	r3, #0
 1281 0028 02D1     		bne	.L78
 1282              		.loc 1 2676 21 is_stmt 0 discriminator 1
 1283 002a 0A4B     		ldr	r3, .L81
 1284 002c 1B68     		ldr	r3, [r3]
 1285 002e 00E0     		b	.L79
 1286              	.L78:
 1287              		.loc 1 2676 21 discriminator 2
 1288 0030 7B68     		ldr	r3, [r7, #4]
 1289              	.L79:
 1290              		.loc 1 2676 19 is_stmt 1 discriminator 4
 1291 0032 BB61     		str	r3, [r7, #24]
2677:Middlewares/FreeRTOS/tasks.c ****             uxReturn = pxTCB->uxPriority;
 1292              		.loc 1 2677 22
 1293 0034 BB69     		ldr	r3, [r7, #24]
 1294 0036 DB6A     		ldr	r3, [r3, #44]
 1295 0038 7B61     		str	r3, [r7, #20]
 1296 003a FB69     		ldr	r3, [r7, #28]
 1297 003c BB60     		str	r3, [r7, #8]
 1298              	.LBB39:
 1299              	.LBB40:
 246:Middlewares/FreeRTOS/portable/portmacro.h **** }
 247:Middlewares/FreeRTOS/portable/portmacro.h **** /*-----------------------------------------------------------*/
 248:Middlewares/FreeRTOS/portable/portmacro.h **** 
 249:Middlewares/FreeRTOS/portable/portmacro.h **** portFORCE_INLINE static void vPortSetBASEPRI( uint32_t ulNewMaskValue )
 250:Middlewares/FreeRTOS/portable/portmacro.h **** {
 251:Middlewares/FreeRTOS/portable/portmacro.h ****     __asm volatile
 1300              		.loc 2 251 5
 1301 003e BB68     		ldr	r3, [r7, #8]
 1302              		.syntax unified
 1303              	@ 251 "Middlewares/FreeRTOS/portable/portmacro.h" 1
 1304 0040 83F31188 		   msr basepri, r3 
 1305              	@ 0 "" 2
 252:Middlewares/FreeRTOS/portable/portmacro.h ****     (
 253:Middlewares/FreeRTOS/portable/portmacro.h ****         "   msr basepri, %0 " ::"r" ( ulNewMaskValue ) : "memory"
 254:Middlewares/FreeRTOS/portable/portmacro.h ****     );
 255:Middlewares/FreeRTOS/portable/portmacro.h **** }
 1306              		.loc 2 255 1
 1307              		.thumb
 1308              		.syntax unified
 1309 0044 00BF     		nop
 1310              	.LBE40:
 1311              	.LBE39:
2678:Middlewares/FreeRTOS/tasks.c ****         }
2679:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL_FROM_ISR( uxSavedInterruptStatus );
2680:Middlewares/FreeRTOS/tasks.c **** 
2681:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_uxTaskPriorityGetFromISR( uxReturn );
2682:Middlewares/FreeRTOS/tasks.c **** 
2683:Middlewares/FreeRTOS/tasks.c ****         return uxReturn;
 1312              		.loc 1 2683 16
 1313 0046 7B69     		ldr	r3, [r7, #20]
2684:Middlewares/FreeRTOS/tasks.c ****     }
 1314              		.loc 1 2684 5
ARM GAS  /tmp/ccF71V7c.s 			page 75


 1315 0048 1846     		mov	r0, r3
 1316 004a 2437     		adds	r7, r7, #36
 1317              		.cfi_def_cfa_offset 4
 1318 004c BD46     		mov	sp, r7
 1319              		.cfi_def_cfa_register 13
 1320              		@ sp needed
 1321 004e 5DF8047B 		ldr	r7, [sp], #4
 1322              		.cfi_restore 7
 1323              		.cfi_def_cfa_offset 0
 1324 0052 7047     		bx	lr
 1325              	.L82:
 1326              		.align	2
 1327              	.L81:
 1328 0054 00000000 		.word	pxCurrentTCB
 1329              		.cfi_endproc
 1330              	.LFE16:
 1332              		.section	.text.uxTaskBasePriorityGet,"ax",%progbits
 1333              		.align	1
 1334              		.global	uxTaskBasePriorityGet
 1335              		.syntax unified
 1336              		.thumb
 1337              		.thumb_func
 1339              	uxTaskBasePriorityGet:
 1340              	.LFB17:
2685:Middlewares/FreeRTOS/tasks.c **** 
2686:Middlewares/FreeRTOS/tasks.c **** #endif /* INCLUDE_uxTaskPriorityGet */
2687:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
2688:Middlewares/FreeRTOS/tasks.c **** 
2689:Middlewares/FreeRTOS/tasks.c **** #if ( ( INCLUDE_uxTaskPriorityGet == 1 ) && ( configUSE_MUTEXES == 1 ) )
2690:Middlewares/FreeRTOS/tasks.c **** 
2691:Middlewares/FreeRTOS/tasks.c ****     UBaseType_t uxTaskBasePriorityGet( const TaskHandle_t xTask )
2692:Middlewares/FreeRTOS/tasks.c ****     {
 1341              		.loc 1 2692 5
 1342              		.cfi_startproc
 1343              		@ args = 0, pretend = 0, frame = 16
 1344              		@ frame_needed = 1, uses_anonymous_args = 0
 1345 0000 80B5     		push	{r7, lr}
 1346              		.cfi_def_cfa_offset 8
 1347              		.cfi_offset 7, -8
 1348              		.cfi_offset 14, -4
 1349 0002 84B0     		sub	sp, sp, #16
 1350              		.cfi_def_cfa_offset 24
 1351 0004 00AF     		add	r7, sp, #0
 1352              		.cfi_def_cfa_register 7
 1353 0006 7860     		str	r0, [r7, #4]
2693:Middlewares/FreeRTOS/tasks.c ****         TCB_t const * pxTCB;
2694:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxReturn;
2695:Middlewares/FreeRTOS/tasks.c **** 
2696:Middlewares/FreeRTOS/tasks.c ****         traceENTER_uxTaskBasePriorityGet( xTask );
2697:Middlewares/FreeRTOS/tasks.c **** 
2698:Middlewares/FreeRTOS/tasks.c ****         taskENTER_CRITICAL();
 1354              		.loc 1 2698 9
 1355 0008 FFF7FEFF 		bl	vPortEnterCritical
2699:Middlewares/FreeRTOS/tasks.c ****         {
2700:Middlewares/FreeRTOS/tasks.c ****             /* If null is passed in here then it is the base priority of the task
2701:Middlewares/FreeRTOS/tasks.c ****              * that called uxTaskBasePriorityGet() that is being queried. */
2702:Middlewares/FreeRTOS/tasks.c ****             pxTCB = prvGetTCBFromHandle( xTask );
ARM GAS  /tmp/ccF71V7c.s 			page 76


 1356              		.loc 1 2702 21
 1357 000c 7B68     		ldr	r3, [r7, #4]
 1358 000e 002B     		cmp	r3, #0
 1359 0010 02D1     		bne	.L84
 1360              		.loc 1 2702 21 is_stmt 0 discriminator 1
 1361 0012 074B     		ldr	r3, .L87
 1362 0014 1B68     		ldr	r3, [r3]
 1363 0016 00E0     		b	.L85
 1364              	.L84:
 1365              		.loc 1 2702 21 discriminator 2
 1366 0018 7B68     		ldr	r3, [r7, #4]
 1367              	.L85:
 1368              		.loc 1 2702 19 is_stmt 1 discriminator 4
 1369 001a FB60     		str	r3, [r7, #12]
2703:Middlewares/FreeRTOS/tasks.c ****             uxReturn = pxTCB->uxBasePriority;
 1370              		.loc 1 2703 22
 1371 001c FB68     		ldr	r3, [r7, #12]
 1372 001e DB6C     		ldr	r3, [r3, #76]
 1373 0020 BB60     		str	r3, [r7, #8]
2704:Middlewares/FreeRTOS/tasks.c ****         }
2705:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL();
 1374              		.loc 1 2705 9
 1375 0022 FFF7FEFF 		bl	vPortExitCritical
2706:Middlewares/FreeRTOS/tasks.c **** 
2707:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_uxTaskBasePriorityGet( uxReturn );
2708:Middlewares/FreeRTOS/tasks.c **** 
2709:Middlewares/FreeRTOS/tasks.c ****         return uxReturn;
 1376              		.loc 1 2709 16
 1377 0026 BB68     		ldr	r3, [r7, #8]
2710:Middlewares/FreeRTOS/tasks.c ****     }
 1378              		.loc 1 2710 5
 1379 0028 1846     		mov	r0, r3
 1380 002a 1037     		adds	r7, r7, #16
 1381              		.cfi_def_cfa_offset 8
 1382 002c BD46     		mov	sp, r7
 1383              		.cfi_def_cfa_register 13
 1384              		@ sp needed
 1385 002e 80BD     		pop	{r7, pc}
 1386              	.L88:
 1387              		.align	2
 1388              	.L87:
 1389 0030 00000000 		.word	pxCurrentTCB
 1390              		.cfi_endproc
 1391              	.LFE17:
 1393              		.section	.text.uxTaskBasePriorityGetFromISR,"ax",%progbits
 1394              		.align	1
 1395              		.global	uxTaskBasePriorityGetFromISR
 1396              		.syntax unified
 1397              		.thumb
 1398              		.thumb_func
 1400              	uxTaskBasePriorityGetFromISR:
 1401              	.LFB18:
2711:Middlewares/FreeRTOS/tasks.c **** 
2712:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( ( INCLUDE_uxTaskPriorityGet == 1 ) && ( configUSE_MUTEXES == 1 ) ) */
2713:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
2714:Middlewares/FreeRTOS/tasks.c **** 
2715:Middlewares/FreeRTOS/tasks.c **** #if ( ( INCLUDE_uxTaskPriorityGet == 1 ) && ( configUSE_MUTEXES == 1 ) )
ARM GAS  /tmp/ccF71V7c.s 			page 77


2716:Middlewares/FreeRTOS/tasks.c **** 
2717:Middlewares/FreeRTOS/tasks.c ****     UBaseType_t uxTaskBasePriorityGetFromISR( const TaskHandle_t xTask )
2718:Middlewares/FreeRTOS/tasks.c ****     {
 1402              		.loc 1 2718 5
 1403              		.cfi_startproc
 1404              		@ args = 0, pretend = 0, frame = 32
 1405              		@ frame_needed = 1, uses_anonymous_args = 0
 1406              		@ link register save eliminated.
 1407 0000 80B4     		push	{r7}
 1408              		.cfi_def_cfa_offset 4
 1409              		.cfi_offset 7, -4
 1410 0002 89B0     		sub	sp, sp, #36
 1411              		.cfi_def_cfa_offset 40
 1412 0004 00AF     		add	r7, sp, #0
 1413              		.cfi_def_cfa_register 7
 1414 0006 7860     		str	r0, [r7, #4]
 1415              	.LBB41:
 1416              	.LBB42:
 233:Middlewares/FreeRTOS/portable/portmacro.h ****     (
 1417              		.loc 2 233 5
 1418              		.syntax unified
 1419              	@ 233 "Middlewares/FreeRTOS/portable/portmacro.h" 1
 1420 0008 EFF31182 		   mrs r2, basepri                                         
 1421 000c 4FF05003 	   mov r3, #80                                              
 1422 0010 83F31188 	   msr basepri, r3                                         
 1423 0014 BFF36F8F 	   isb                                                     
 1424 0018 BFF34F8F 	   dsb                                                     
 1425              	
 1426              	@ 0 "" 2
 1427              		.thumb
 1428              		.syntax unified
 1429 001c 3A61     		str	r2, [r7, #16]
 1430 001e FB60     		str	r3, [r7, #12]
 245:Middlewares/FreeRTOS/portable/portmacro.h **** }
 1431              		.loc 2 245 12
 1432 0020 3B69     		ldr	r3, [r7, #16]
 1433              	.LBE42:
 1434              	.LBE41:
2719:Middlewares/FreeRTOS/tasks.c ****         TCB_t const * pxTCB;
2720:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxReturn;
2721:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxSavedInterruptStatus;
2722:Middlewares/FreeRTOS/tasks.c **** 
2723:Middlewares/FreeRTOS/tasks.c ****         traceENTER_uxTaskBasePriorityGetFromISR( xTask );
2724:Middlewares/FreeRTOS/tasks.c **** 
2725:Middlewares/FreeRTOS/tasks.c ****         /* RTOS ports that support interrupt nesting have the concept of a
2726:Middlewares/FreeRTOS/tasks.c ****          * maximum  system call (or maximum API call) interrupt priority.
2727:Middlewares/FreeRTOS/tasks.c ****          * Interrupts that are  above the maximum system call priority are keep
2728:Middlewares/FreeRTOS/tasks.c ****          * permanently enabled, even when the RTOS kernel is in a critical section,
2729:Middlewares/FreeRTOS/tasks.c ****          * but cannot make any calls to FreeRTOS API functions.  If configASSERT()
2730:Middlewares/FreeRTOS/tasks.c ****          * is defined in FreeRTOSConfig.h then
2731:Middlewares/FreeRTOS/tasks.c ****          * portASSERT_IF_INTERRUPT_PRIORITY_INVALID() will result in an assertion
2732:Middlewares/FreeRTOS/tasks.c ****          * failure if a FreeRTOS API function is called from an interrupt that has
2733:Middlewares/FreeRTOS/tasks.c ****          * been assigned a priority above the configured maximum system call
2734:Middlewares/FreeRTOS/tasks.c ****          * priority.  Only FreeRTOS functions that end in FromISR can be called
2735:Middlewares/FreeRTOS/tasks.c ****          * from interrupts  that have been assigned a priority at or (logically)
2736:Middlewares/FreeRTOS/tasks.c ****          * below the maximum system call interrupt priority.  FreeRTOS maintains a
2737:Middlewares/FreeRTOS/tasks.c ****          * separate interrupt safe API to ensure interrupt entry is as fast and as
ARM GAS  /tmp/ccF71V7c.s 			page 78


2738:Middlewares/FreeRTOS/tasks.c ****          * simple as possible.  More information (albeit Cortex-M specific) is
2739:Middlewares/FreeRTOS/tasks.c ****          * provided on the following link:
2740:Middlewares/FreeRTOS/tasks.c ****          * https://www.FreeRTOS.org/RTOS-Cortex-M3-M4.html */
2741:Middlewares/FreeRTOS/tasks.c ****         portASSERT_IF_INTERRUPT_PRIORITY_INVALID();
2742:Middlewares/FreeRTOS/tasks.c **** 
2743:Middlewares/FreeRTOS/tasks.c ****         /* MISRA Ref 4.7.1 [Return value shall be checked] */
2744:Middlewares/FreeRTOS/tasks.c ****         /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#dir-47 *
2745:Middlewares/FreeRTOS/tasks.c ****         /* coverity[misra_c_2012_directive_4_7_violation] */
2746:Middlewares/FreeRTOS/tasks.c ****         uxSavedInterruptStatus = ( UBaseType_t ) taskENTER_CRITICAL_FROM_ISR();
 1435              		.loc 1 2746 50
 1436 0022 FB61     		str	r3, [r7, #28]
2747:Middlewares/FreeRTOS/tasks.c ****         {
2748:Middlewares/FreeRTOS/tasks.c ****             /* If null is passed in here then it is the base priority of the calling
2749:Middlewares/FreeRTOS/tasks.c ****              * task that is being queried. */
2750:Middlewares/FreeRTOS/tasks.c ****             pxTCB = prvGetTCBFromHandle( xTask );
 1437              		.loc 1 2750 21
 1438 0024 7B68     		ldr	r3, [r7, #4]
 1439 0026 002B     		cmp	r3, #0
 1440 0028 02D1     		bne	.L91
 1441              		.loc 1 2750 21 is_stmt 0 discriminator 1
 1442 002a 0A4B     		ldr	r3, .L94
 1443 002c 1B68     		ldr	r3, [r3]
 1444 002e 00E0     		b	.L92
 1445              	.L91:
 1446              		.loc 1 2750 21 discriminator 2
 1447 0030 7B68     		ldr	r3, [r7, #4]
 1448              	.L92:
 1449              		.loc 1 2750 19 is_stmt 1 discriminator 4
 1450 0032 BB61     		str	r3, [r7, #24]
2751:Middlewares/FreeRTOS/tasks.c ****             uxReturn = pxTCB->uxBasePriority;
 1451              		.loc 1 2751 22
 1452 0034 BB69     		ldr	r3, [r7, #24]
 1453 0036 DB6C     		ldr	r3, [r3, #76]
 1454 0038 7B61     		str	r3, [r7, #20]
 1455 003a FB69     		ldr	r3, [r7, #28]
 1456 003c BB60     		str	r3, [r7, #8]
 1457              	.LBB43:
 1458              	.LBB44:
 251:Middlewares/FreeRTOS/portable/portmacro.h ****     (
 1459              		.loc 2 251 5
 1460 003e BB68     		ldr	r3, [r7, #8]
 1461              		.syntax unified
 1462              	@ 251 "Middlewares/FreeRTOS/portable/portmacro.h" 1
 1463 0040 83F31188 		   msr basepri, r3 
 1464              	@ 0 "" 2
 1465              		.loc 2 255 1
 1466              		.thumb
 1467              		.syntax unified
 1468 0044 00BF     		nop
 1469              	.LBE44:
 1470              	.LBE43:
2752:Middlewares/FreeRTOS/tasks.c ****         }
2753:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL_FROM_ISR( uxSavedInterruptStatus );
2754:Middlewares/FreeRTOS/tasks.c **** 
2755:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_uxTaskBasePriorityGetFromISR( uxReturn );
2756:Middlewares/FreeRTOS/tasks.c **** 
2757:Middlewares/FreeRTOS/tasks.c ****         return uxReturn;
ARM GAS  /tmp/ccF71V7c.s 			page 79


 1471              		.loc 1 2757 16
 1472 0046 7B69     		ldr	r3, [r7, #20]
2758:Middlewares/FreeRTOS/tasks.c ****     }
 1473              		.loc 1 2758 5
 1474 0048 1846     		mov	r0, r3
 1475 004a 2437     		adds	r7, r7, #36
 1476              		.cfi_def_cfa_offset 4
 1477 004c BD46     		mov	sp, r7
 1478              		.cfi_def_cfa_register 13
 1479              		@ sp needed
 1480 004e 5DF8047B 		ldr	r7, [sp], #4
 1481              		.cfi_restore 7
 1482              		.cfi_def_cfa_offset 0
 1483 0052 7047     		bx	lr
 1484              	.L95:
 1485              		.align	2
 1486              	.L94:
 1487 0054 00000000 		.word	pxCurrentTCB
 1488              		.cfi_endproc
 1489              	.LFE18:
 1491              		.section	.text.vTaskPrioritySet,"ax",%progbits
 1492              		.align	1
 1493              		.global	vTaskPrioritySet
 1494              		.syntax unified
 1495              		.thumb
 1496              		.thumb_func
 1498              	vTaskPrioritySet:
 1499              	.LFB19:
2759:Middlewares/FreeRTOS/tasks.c **** 
2760:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( ( INCLUDE_uxTaskPriorityGet == 1 ) && ( configUSE_MUTEXES == 1 ) ) */
2761:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
2762:Middlewares/FreeRTOS/tasks.c **** 
2763:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_vTaskPrioritySet == 1 )
2764:Middlewares/FreeRTOS/tasks.c **** 
2765:Middlewares/FreeRTOS/tasks.c ****     void vTaskPrioritySet( TaskHandle_t xTask,
2766:Middlewares/FreeRTOS/tasks.c ****                            UBaseType_t uxNewPriority )
2767:Middlewares/FreeRTOS/tasks.c ****     {
 1500              		.loc 1 2767 5
 1501              		.cfi_startproc
 1502              		@ args = 0, pretend = 0, frame = 32
 1503              		@ frame_needed = 1, uses_anonymous_args = 0
 1504 0000 80B5     		push	{r7, lr}
 1505              		.cfi_def_cfa_offset 8
 1506              		.cfi_offset 7, -8
 1507              		.cfi_offset 14, -4
 1508 0002 88B0     		sub	sp, sp, #32
 1509              		.cfi_def_cfa_offset 40
 1510 0004 00AF     		add	r7, sp, #0
 1511              		.cfi_def_cfa_register 7
 1512 0006 7860     		str	r0, [r7, #4]
 1513 0008 3960     		str	r1, [r7]
2768:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
2769:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxCurrentBasePriority, uxPriorityUsedOnEntry;
2770:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xYieldRequired = pdFALSE;
 1514              		.loc 1 2770 20
 1515 000a 0023     		movs	r3, #0
 1516 000c FB61     		str	r3, [r7, #28]
ARM GAS  /tmp/ccF71V7c.s 			page 80


2771:Middlewares/FreeRTOS/tasks.c **** 
2772:Middlewares/FreeRTOS/tasks.c ****         #if ( configNUMBER_OF_CORES > 1 )
2773:Middlewares/FreeRTOS/tasks.c ****             BaseType_t xYieldForTask = pdFALSE;
2774:Middlewares/FreeRTOS/tasks.c ****         #endif
2775:Middlewares/FreeRTOS/tasks.c **** 
2776:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskPrioritySet( xTask, uxNewPriority );
2777:Middlewares/FreeRTOS/tasks.c **** 
2778:Middlewares/FreeRTOS/tasks.c ****         configASSERT( uxNewPriority < configMAX_PRIORITIES );
2779:Middlewares/FreeRTOS/tasks.c **** 
2780:Middlewares/FreeRTOS/tasks.c ****         /* Ensure the new priority is valid. */
2781:Middlewares/FreeRTOS/tasks.c ****         if( uxNewPriority >= ( UBaseType_t ) configMAX_PRIORITIES )
 1517              		.loc 1 2781 11
 1518 000e 3B68     		ldr	r3, [r7]
 1519 0010 042B     		cmp	r3, #4
 1520 0012 01D9     		bls	.L97
2782:Middlewares/FreeRTOS/tasks.c ****         {
2783:Middlewares/FreeRTOS/tasks.c ****             uxNewPriority = ( UBaseType_t ) configMAX_PRIORITIES - ( UBaseType_t ) 1U;
 1521              		.loc 1 2783 27
 1522 0014 0423     		movs	r3, #4
 1523 0016 3B60     		str	r3, [r7]
 1524              	.L97:
2784:Middlewares/FreeRTOS/tasks.c ****         }
2785:Middlewares/FreeRTOS/tasks.c ****         else
2786:Middlewares/FreeRTOS/tasks.c ****         {
2787:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
2788:Middlewares/FreeRTOS/tasks.c ****         }
2789:Middlewares/FreeRTOS/tasks.c **** 
2790:Middlewares/FreeRTOS/tasks.c ****         taskENTER_CRITICAL();
 1525              		.loc 1 2790 9
 1526 0018 FFF7FEFF 		bl	vPortEnterCritical
2791:Middlewares/FreeRTOS/tasks.c ****         {
2792:Middlewares/FreeRTOS/tasks.c ****             /* If null is passed in here then it is the priority of the calling
2793:Middlewares/FreeRTOS/tasks.c ****              * task that is being changed. */
2794:Middlewares/FreeRTOS/tasks.c ****             pxTCB = prvGetTCBFromHandle( xTask );
 1527              		.loc 1 2794 21
 1528 001c 7B68     		ldr	r3, [r7, #4]
 1529 001e 002B     		cmp	r3, #0
 1530 0020 02D1     		bne	.L98
 1531              		.loc 1 2794 21 is_stmt 0 discriminator 1
 1532 0022 534B     		ldr	r3, .L108
 1533 0024 1B68     		ldr	r3, [r3]
 1534 0026 00E0     		b	.L99
 1535              	.L98:
 1536              		.loc 1 2794 21 discriminator 2
 1537 0028 7B68     		ldr	r3, [r7, #4]
 1538              	.L99:
 1539              		.loc 1 2794 19 is_stmt 1 discriminator 4
 1540 002a BB61     		str	r3, [r7, #24]
2795:Middlewares/FreeRTOS/tasks.c **** 
2796:Middlewares/FreeRTOS/tasks.c ****             traceTASK_PRIORITY_SET( pxTCB, uxNewPriority );
2797:Middlewares/FreeRTOS/tasks.c **** 
2798:Middlewares/FreeRTOS/tasks.c ****             #if ( configUSE_MUTEXES == 1 )
2799:Middlewares/FreeRTOS/tasks.c ****             {
2800:Middlewares/FreeRTOS/tasks.c ****                 uxCurrentBasePriority = pxTCB->uxBasePriority;
 1541              		.loc 1 2800 39
 1542 002c BB69     		ldr	r3, [r7, #24]
 1543 002e DB6C     		ldr	r3, [r3, #76]
ARM GAS  /tmp/ccF71V7c.s 			page 81


 1544 0030 7B61     		str	r3, [r7, #20]
2801:Middlewares/FreeRTOS/tasks.c ****             }
2802:Middlewares/FreeRTOS/tasks.c ****             #else
2803:Middlewares/FreeRTOS/tasks.c ****             {
2804:Middlewares/FreeRTOS/tasks.c ****                 uxCurrentBasePriority = pxTCB->uxPriority;
2805:Middlewares/FreeRTOS/tasks.c ****             }
2806:Middlewares/FreeRTOS/tasks.c ****             #endif
2807:Middlewares/FreeRTOS/tasks.c **** 
2808:Middlewares/FreeRTOS/tasks.c ****             if( uxCurrentBasePriority != uxNewPriority )
 1545              		.loc 1 2808 15
 1546 0032 7A69     		ldr	r2, [r7, #20]
 1547 0034 3B68     		ldr	r3, [r7]
 1548 0036 9A42     		cmp	r2, r3
 1549 0038 00F09380 		beq	.L100
2809:Middlewares/FreeRTOS/tasks.c ****             {
2810:Middlewares/FreeRTOS/tasks.c ****                 /* The priority change may have readied a task of higher
2811:Middlewares/FreeRTOS/tasks.c ****                  * priority than a running task. */
2812:Middlewares/FreeRTOS/tasks.c ****                 if( uxNewPriority > uxCurrentBasePriority )
 1550              		.loc 1 2812 19
 1551 003c 3A68     		ldr	r2, [r7]
 1552 003e 7B69     		ldr	r3, [r7, #20]
 1553 0040 9A42     		cmp	r2, r3
 1554 0042 0DD9     		bls	.L101
2813:Middlewares/FreeRTOS/tasks.c ****                 {
2814:Middlewares/FreeRTOS/tasks.c ****                     #if ( configNUMBER_OF_CORES == 1 )
2815:Middlewares/FreeRTOS/tasks.c ****                     {
2816:Middlewares/FreeRTOS/tasks.c ****                         if( pxTCB != pxCurrentTCB )
 1555              		.loc 1 2816 35
 1556 0044 4A4B     		ldr	r3, .L108
 1557 0046 1B68     		ldr	r3, [r3]
 1558              		.loc 1 2816 27
 1559 0048 BA69     		ldr	r2, [r7, #24]
 1560 004a 9A42     		cmp	r2, r3
 1561 004c 0FD0     		beq	.L102
2817:Middlewares/FreeRTOS/tasks.c ****                         {
2818:Middlewares/FreeRTOS/tasks.c ****                             /* The priority of a task other than the currently
2819:Middlewares/FreeRTOS/tasks.c ****                              * running task is being raised.  Is the priority being
2820:Middlewares/FreeRTOS/tasks.c ****                              * raised above that of the running task? */
2821:Middlewares/FreeRTOS/tasks.c ****                             if( uxNewPriority > pxCurrentTCB->uxPriority )
 1562              		.loc 1 2821 61
 1563 004e 484B     		ldr	r3, .L108
 1564 0050 1B68     		ldr	r3, [r3]
 1565 0052 DB6A     		ldr	r3, [r3, #44]
 1566              		.loc 1 2821 31
 1567 0054 3A68     		ldr	r2, [r7]
 1568 0056 9A42     		cmp	r2, r3
 1569 0058 09D9     		bls	.L102
2822:Middlewares/FreeRTOS/tasks.c ****                             {
2823:Middlewares/FreeRTOS/tasks.c ****                                 xYieldRequired = pdTRUE;
 1570              		.loc 1 2823 48
 1571 005a 0123     		movs	r3, #1
 1572 005c FB61     		str	r3, [r7, #28]
 1573 005e 06E0     		b	.L102
 1574              	.L101:
2824:Middlewares/FreeRTOS/tasks.c ****                             }
2825:Middlewares/FreeRTOS/tasks.c ****                             else
2826:Middlewares/FreeRTOS/tasks.c ****                             {
ARM GAS  /tmp/ccF71V7c.s 			page 82


2827:Middlewares/FreeRTOS/tasks.c ****                                 mtCOVERAGE_TEST_MARKER();
2828:Middlewares/FreeRTOS/tasks.c ****                             }
2829:Middlewares/FreeRTOS/tasks.c ****                         }
2830:Middlewares/FreeRTOS/tasks.c ****                         else
2831:Middlewares/FreeRTOS/tasks.c ****                         {
2832:Middlewares/FreeRTOS/tasks.c ****                             /* The priority of the running task is being raised,
2833:Middlewares/FreeRTOS/tasks.c ****                              * but the running task must already be the highest
2834:Middlewares/FreeRTOS/tasks.c ****                              * priority task able to run so no yield is required. */
2835:Middlewares/FreeRTOS/tasks.c ****                         }
2836:Middlewares/FreeRTOS/tasks.c ****                     }
2837:Middlewares/FreeRTOS/tasks.c ****                     #else /* #if ( configNUMBER_OF_CORES == 1 ) */
2838:Middlewares/FreeRTOS/tasks.c ****                     {
2839:Middlewares/FreeRTOS/tasks.c ****                         /* The priority of a task is being raised so
2840:Middlewares/FreeRTOS/tasks.c ****                          * perform a yield for this task later. */
2841:Middlewares/FreeRTOS/tasks.c ****                         xYieldForTask = pdTRUE;
2842:Middlewares/FreeRTOS/tasks.c ****                     }
2843:Middlewares/FreeRTOS/tasks.c ****                     #endif /* #if ( configNUMBER_OF_CORES == 1 ) */
2844:Middlewares/FreeRTOS/tasks.c ****                 }
2845:Middlewares/FreeRTOS/tasks.c ****                 else if( taskTASK_IS_RUNNING( pxTCB ) == pdTRUE )
 1575              		.loc 1 2845 55
 1576 0060 434B     		ldr	r3, .L108
 1577 0062 1B68     		ldr	r3, [r3]
 1578              		.loc 1 2845 24
 1579 0064 BA69     		ldr	r2, [r7, #24]
 1580 0066 9A42     		cmp	r2, r3
 1581 0068 01D1     		bne	.L102
2846:Middlewares/FreeRTOS/tasks.c ****                 {
2847:Middlewares/FreeRTOS/tasks.c ****                     /* Setting the priority of a running task down means
2848:Middlewares/FreeRTOS/tasks.c ****                      * there may now be another task of higher priority that
2849:Middlewares/FreeRTOS/tasks.c ****                      * is ready to execute. */
2850:Middlewares/FreeRTOS/tasks.c ****                     #if ( configUSE_TASK_PREEMPTION_DISABLE == 1 )
2851:Middlewares/FreeRTOS/tasks.c ****                         if( pxTCB->xPreemptionDisable == pdFALSE )
2852:Middlewares/FreeRTOS/tasks.c ****                     #endif
2853:Middlewares/FreeRTOS/tasks.c ****                     {
2854:Middlewares/FreeRTOS/tasks.c ****                         xYieldRequired = pdTRUE;
 1582              		.loc 1 2854 40
 1583 006a 0123     		movs	r3, #1
 1584 006c FB61     		str	r3, [r7, #28]
 1585              	.L102:
2855:Middlewares/FreeRTOS/tasks.c ****                     }
2856:Middlewares/FreeRTOS/tasks.c ****                 }
2857:Middlewares/FreeRTOS/tasks.c ****                 else
2858:Middlewares/FreeRTOS/tasks.c ****                 {
2859:Middlewares/FreeRTOS/tasks.c ****                     /* Setting the priority of any other task down does not
2860:Middlewares/FreeRTOS/tasks.c ****                      * require a yield as the running task must be above the
2861:Middlewares/FreeRTOS/tasks.c ****                      * new priority of the task being modified. */
2862:Middlewares/FreeRTOS/tasks.c ****                 }
2863:Middlewares/FreeRTOS/tasks.c **** 
2864:Middlewares/FreeRTOS/tasks.c ****                 /* Remember the ready list the task might be referenced from
2865:Middlewares/FreeRTOS/tasks.c ****                  * before its uxPriority member is changed so the
2866:Middlewares/FreeRTOS/tasks.c ****                  * taskRESET_READY_PRIORITY() macro can function correctly. */
2867:Middlewares/FreeRTOS/tasks.c ****                 uxPriorityUsedOnEntry = pxTCB->uxPriority;
 1586              		.loc 1 2867 39
 1587 006e BB69     		ldr	r3, [r7, #24]
 1588 0070 DB6A     		ldr	r3, [r3, #44]
 1589 0072 3B61     		str	r3, [r7, #16]
2868:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 83


2869:Middlewares/FreeRTOS/tasks.c ****                 #if ( configUSE_MUTEXES == 1 )
2870:Middlewares/FreeRTOS/tasks.c ****                 {
2871:Middlewares/FreeRTOS/tasks.c ****                     /* Only change the priority being used if the task is not
2872:Middlewares/FreeRTOS/tasks.c ****                      * currently using an inherited priority or the new priority
2873:Middlewares/FreeRTOS/tasks.c ****                      * is bigger than the inherited priority. */
2874:Middlewares/FreeRTOS/tasks.c ****                     if( ( pxTCB->uxBasePriority == pxTCB->uxPriority ) || ( uxNewPriority > pxTCB->
 1590              		.loc 1 2874 32
 1591 0074 BB69     		ldr	r3, [r7, #24]
 1592 0076 DA6C     		ldr	r2, [r3, #76]
 1593              		.loc 1 2874 57
 1594 0078 BB69     		ldr	r3, [r7, #24]
 1595 007a DB6A     		ldr	r3, [r3, #44]
 1596              		.loc 1 2874 23
 1597 007c 9A42     		cmp	r2, r3
 1598 007e 04D0     		beq	.L103
 1599              		.loc 1 2874 98 discriminator 1
 1600 0080 BB69     		ldr	r3, [r7, #24]
 1601 0082 DB6A     		ldr	r3, [r3, #44]
 1602              		.loc 1 2874 72 discriminator 1
 1603 0084 3A68     		ldr	r2, [r7]
 1604 0086 9A42     		cmp	r2, r3
 1605 0088 02D9     		bls	.L104
 1606              	.L103:
2875:Middlewares/FreeRTOS/tasks.c ****                     {
2876:Middlewares/FreeRTOS/tasks.c ****                         pxTCB->uxPriority = uxNewPriority;
 1607              		.loc 1 2876 43
 1608 008a BB69     		ldr	r3, [r7, #24]
 1609 008c 3A68     		ldr	r2, [r7]
 1610 008e DA62     		str	r2, [r3, #44]
 1611              	.L104:
2877:Middlewares/FreeRTOS/tasks.c ****                     }
2878:Middlewares/FreeRTOS/tasks.c ****                     else
2879:Middlewares/FreeRTOS/tasks.c ****                     {
2880:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
2881:Middlewares/FreeRTOS/tasks.c ****                     }
2882:Middlewares/FreeRTOS/tasks.c **** 
2883:Middlewares/FreeRTOS/tasks.c ****                     /* The base priority gets set whatever. */
2884:Middlewares/FreeRTOS/tasks.c ****                     pxTCB->uxBasePriority = uxNewPriority;
 1612              		.loc 1 2884 43
 1613 0090 BB69     		ldr	r3, [r7, #24]
 1614 0092 3A68     		ldr	r2, [r7]
 1615 0094 DA64     		str	r2, [r3, #76]
2885:Middlewares/FreeRTOS/tasks.c ****                 }
2886:Middlewares/FreeRTOS/tasks.c ****                 #else /* if ( configUSE_MUTEXES == 1 ) */
2887:Middlewares/FreeRTOS/tasks.c ****                 {
2888:Middlewares/FreeRTOS/tasks.c ****                     pxTCB->uxPriority = uxNewPriority;
2889:Middlewares/FreeRTOS/tasks.c ****                 }
2890:Middlewares/FreeRTOS/tasks.c ****                 #endif /* if ( configUSE_MUTEXES == 1 ) */
2891:Middlewares/FreeRTOS/tasks.c **** 
2892:Middlewares/FreeRTOS/tasks.c ****                 /* Only reset the event list item value if the value is not
2893:Middlewares/FreeRTOS/tasks.c ****                  * being used for anything else. */
2894:Middlewares/FreeRTOS/tasks.c ****                 if( ( listGET_LIST_ITEM_VALUE( &( pxTCB->xEventListItem ) ) & taskEVENT_LIST_ITEM_V
 1616              		.loc 1 2894 23
 1617 0096 BB69     		ldr	r3, [r7, #24]
 1618 0098 9B69     		ldr	r3, [r3, #24]
 1619              		.loc 1 2894 19
 1620 009a 002B     		cmp	r3, #0
ARM GAS  /tmp/ccF71V7c.s 			page 84


 1621 009c 04DB     		blt	.L105
2895:Middlewares/FreeRTOS/tasks.c ****                 {
2896:Middlewares/FreeRTOS/tasks.c ****                     listSET_LIST_ITEM_VALUE( &( pxTCB->xEventListItem ), ( ( TickType_t ) configMAX
 1622              		.loc 1 2896 21
 1623 009e 3B68     		ldr	r3, [r7]
 1624 00a0 C3F10502 		rsb	r2, r3, #5
 1625 00a4 BB69     		ldr	r3, [r7, #24]
 1626 00a6 9A61     		str	r2, [r3, #24]
 1627              	.L105:
2897:Middlewares/FreeRTOS/tasks.c ****                 }
2898:Middlewares/FreeRTOS/tasks.c ****                 else
2899:Middlewares/FreeRTOS/tasks.c ****                 {
2900:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
2901:Middlewares/FreeRTOS/tasks.c ****                 }
2902:Middlewares/FreeRTOS/tasks.c **** 
2903:Middlewares/FreeRTOS/tasks.c ****                 /* If the task is in the blocked or suspended list we need do
2904:Middlewares/FreeRTOS/tasks.c ****                  * nothing more than change its priority variable. However, if
2905:Middlewares/FreeRTOS/tasks.c ****                  * the task is in a ready list it needs to be removed and placed
2906:Middlewares/FreeRTOS/tasks.c ****                  * in the list appropriate to its new priority. */
2907:Middlewares/FreeRTOS/tasks.c ****                 if( listIS_CONTAINED_WITHIN( &( pxReadyTasksLists[ uxPriorityUsedOnEntry ] ), &( px
 1628              		.loc 1 2907 21
 1629 00a8 BB69     		ldr	r3, [r7, #24]
 1630 00aa 5969     		ldr	r1, [r3, #20]
 1631 00ac 3A69     		ldr	r2, [r7, #16]
 1632 00ae 1346     		mov	r3, r2
 1633 00b0 9B00     		lsls	r3, r3, #2
 1634 00b2 1344     		add	r3, r3, r2
 1635 00b4 9B00     		lsls	r3, r3, #2
 1636 00b6 2F4A     		ldr	r2, .L108+4
 1637 00b8 1344     		add	r3, r3, r2
 1638              		.loc 1 2907 19
 1639 00ba 9942     		cmp	r1, r3
 1640 00bc 46D1     		bne	.L106
2908:Middlewares/FreeRTOS/tasks.c ****                 {
2909:Middlewares/FreeRTOS/tasks.c ****                     /* The task is currently in its ready list - remove before
2910:Middlewares/FreeRTOS/tasks.c ****                      * adding it to its new ready list.  As we are in a critical
2911:Middlewares/FreeRTOS/tasks.c ****                      * section we can do this even if the scheduler is suspended. */
2912:Middlewares/FreeRTOS/tasks.c ****                     if( uxListRemove( &( pxTCB->xStateListItem ) ) == ( UBaseType_t ) 0 )
 1641              		.loc 1 2912 25
 1642 00be BB69     		ldr	r3, [r7, #24]
 1643 00c0 0433     		adds	r3, r3, #4
 1644 00c2 1846     		mov	r0, r3
 1645 00c4 FFF7FEFF 		bl	uxListRemove
2913:Middlewares/FreeRTOS/tasks.c ****                     {
2914:Middlewares/FreeRTOS/tasks.c ****                         /* It is known that the task is in its ready list so
2915:Middlewares/FreeRTOS/tasks.c ****                          * there is no need to check again and the port level
2916:Middlewares/FreeRTOS/tasks.c ****                          * reset macro can be called directly. */
2917:Middlewares/FreeRTOS/tasks.c ****                         portRESET_READY_PRIORITY( uxPriorityUsedOnEntry, uxTopReadyPriority );
2918:Middlewares/FreeRTOS/tasks.c ****                     }
2919:Middlewares/FreeRTOS/tasks.c ****                     else
2920:Middlewares/FreeRTOS/tasks.c ****                     {
2921:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
2922:Middlewares/FreeRTOS/tasks.c ****                     }
2923:Middlewares/FreeRTOS/tasks.c **** 
2924:Middlewares/FreeRTOS/tasks.c ****                     prvAddTaskToReadyList( pxTCB );
 1646              		.loc 1 2924 21
 1647 00c8 BB69     		ldr	r3, [r7, #24]
ARM GAS  /tmp/ccF71V7c.s 			page 85


 1648 00ca DA6A     		ldr	r2, [r3, #44]
 1649 00cc 2A4B     		ldr	r3, .L108+8
 1650 00ce 1B68     		ldr	r3, [r3]
 1651 00d0 9A42     		cmp	r2, r3
 1652 00d2 03D9     		bls	.L107
 1653              		.loc 1 2924 21 is_stmt 0 discriminator 1
 1654 00d4 BB69     		ldr	r3, [r7, #24]
 1655 00d6 DB6A     		ldr	r3, [r3, #44]
 1656 00d8 274A     		ldr	r2, .L108+8
 1657 00da 1360     		str	r3, [r2]
 1658              	.L107:
 1659              	.LBB45:
 1660              		.loc 1 2924 21 discriminator 3
 1661 00dc BB69     		ldr	r3, [r7, #24]
 1662 00de DA6A     		ldr	r2, [r3, #44]
 1663 00e0 2449     		ldr	r1, .L108+4
 1664 00e2 1346     		mov	r3, r2
 1665 00e4 9B00     		lsls	r3, r3, #2
 1666 00e6 1344     		add	r3, r3, r2
 1667 00e8 9B00     		lsls	r3, r3, #2
 1668 00ea 0B44     		add	r3, r3, r1
 1669 00ec 0433     		adds	r3, r3, #4
 1670 00ee 1B68     		ldr	r3, [r3]
 1671 00f0 FB60     		str	r3, [r7, #12]
 1672 00f2 BB69     		ldr	r3, [r7, #24]
 1673 00f4 FA68     		ldr	r2, [r7, #12]
 1674 00f6 9A60     		str	r2, [r3, #8]
 1675 00f8 FB68     		ldr	r3, [r7, #12]
 1676 00fa 9A68     		ldr	r2, [r3, #8]
 1677 00fc BB69     		ldr	r3, [r7, #24]
 1678 00fe DA60     		str	r2, [r3, #12]
 1679 0100 FB68     		ldr	r3, [r7, #12]
 1680 0102 9B68     		ldr	r3, [r3, #8]
 1681 0104 BA69     		ldr	r2, [r7, #24]
 1682 0106 0432     		adds	r2, r2, #4
 1683 0108 5A60     		str	r2, [r3, #4]
 1684 010a BB69     		ldr	r3, [r7, #24]
 1685 010c 1A1D     		adds	r2, r3, #4
 1686 010e FB68     		ldr	r3, [r7, #12]
 1687 0110 9A60     		str	r2, [r3, #8]
 1688 0112 BB69     		ldr	r3, [r7, #24]
 1689 0114 DA6A     		ldr	r2, [r3, #44]
 1690 0116 1346     		mov	r3, r2
 1691 0118 9B00     		lsls	r3, r3, #2
 1692 011a 1344     		add	r3, r3, r2
 1693 011c 9B00     		lsls	r3, r3, #2
 1694 011e 154A     		ldr	r2, .L108+4
 1695 0120 1A44     		add	r2, r2, r3
 1696 0122 BB69     		ldr	r3, [r7, #24]
 1697 0124 5A61     		str	r2, [r3, #20]
 1698 0126 BB69     		ldr	r3, [r7, #24]
 1699 0128 DA6A     		ldr	r2, [r3, #44]
 1700 012a 1249     		ldr	r1, .L108+4
 1701 012c 1346     		mov	r3, r2
 1702 012e 9B00     		lsls	r3, r3, #2
 1703 0130 1344     		add	r3, r3, r2
 1704 0132 9B00     		lsls	r3, r3, #2
ARM GAS  /tmp/ccF71V7c.s 			page 86


 1705 0134 0B44     		add	r3, r3, r1
 1706 0136 1B68     		ldr	r3, [r3]
 1707 0138 BA69     		ldr	r2, [r7, #24]
 1708 013a D26A     		ldr	r2, [r2, #44]
 1709 013c 591C     		adds	r1, r3, #1
 1710 013e 0D48     		ldr	r0, .L108+4
 1711 0140 1346     		mov	r3, r2
 1712 0142 9B00     		lsls	r3, r3, #2
 1713 0144 1344     		add	r3, r3, r2
 1714 0146 9B00     		lsls	r3, r3, #2
 1715 0148 0344     		add	r3, r3, r0
 1716 014a 1960     		str	r1, [r3]
 1717              	.L106:
 1718              	.LBE45:
2925:Middlewares/FreeRTOS/tasks.c ****                 }
2926:Middlewares/FreeRTOS/tasks.c ****                 else
2927:Middlewares/FreeRTOS/tasks.c ****                 {
2928:Middlewares/FreeRTOS/tasks.c ****                     #if ( configNUMBER_OF_CORES == 1 )
2929:Middlewares/FreeRTOS/tasks.c ****                     {
2930:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
2931:Middlewares/FreeRTOS/tasks.c ****                     }
2932:Middlewares/FreeRTOS/tasks.c ****                     #else
2933:Middlewares/FreeRTOS/tasks.c ****                     {
2934:Middlewares/FreeRTOS/tasks.c ****                         /* It's possible that xYieldForTask was already set to pdTRUE because
2935:Middlewares/FreeRTOS/tasks.c ****                          * its priority is being raised. However, since it is not in a ready list
2936:Middlewares/FreeRTOS/tasks.c ****                          * we don't actually need to yield for it. */
2937:Middlewares/FreeRTOS/tasks.c ****                         xYieldForTask = pdFALSE;
2938:Middlewares/FreeRTOS/tasks.c ****                     }
2939:Middlewares/FreeRTOS/tasks.c ****                     #endif
2940:Middlewares/FreeRTOS/tasks.c ****                 }
2941:Middlewares/FreeRTOS/tasks.c **** 
2942:Middlewares/FreeRTOS/tasks.c ****                 if( xYieldRequired != pdFALSE )
 1719              		.loc 1 2942 19 is_stmt 1
 1720 014c FB69     		ldr	r3, [r7, #28]
 1721 014e 002B     		cmp	r3, #0
 1722 0150 07D0     		beq	.L100
2943:Middlewares/FreeRTOS/tasks.c ****                 {
2944:Middlewares/FreeRTOS/tasks.c ****                     /* The running task priority is set down. Request the task to yield. */
2945:Middlewares/FreeRTOS/tasks.c ****                     taskYIELD_TASK_CORE_IF_USING_PREEMPTION( pxTCB );
 1723              		.loc 1 2945 21
 1724 0152 0A4B     		ldr	r3, .L108+12
 1725 0154 4FF08052 		mov	r2, #268435456
 1726 0158 1A60     		str	r2, [r3]
 1727              		.syntax unified
 1728              	@ 2945 "Middlewares/FreeRTOS/tasks.c" 1
 1729 015a BFF34F8F 		dsb
 1730              	@ 0 "" 2
 1731              	@ 2945 "Middlewares/FreeRTOS/tasks.c" 1
 1732 015e BFF36F8F 		isb
 1733              	@ 0 "" 2
 1734              		.thumb
 1735              		.syntax unified
 1736              	.L100:
2946:Middlewares/FreeRTOS/tasks.c ****                 }
2947:Middlewares/FreeRTOS/tasks.c ****                 else
2948:Middlewares/FreeRTOS/tasks.c ****                 {
2949:Middlewares/FreeRTOS/tasks.c ****                     #if ( configNUMBER_OF_CORES > 1 )
ARM GAS  /tmp/ccF71V7c.s 			page 87


2950:Middlewares/FreeRTOS/tasks.c ****                         if( xYieldForTask != pdFALSE )
2951:Middlewares/FreeRTOS/tasks.c ****                         {
2952:Middlewares/FreeRTOS/tasks.c ****                             /* The priority of the task is being raised. If a running
2953:Middlewares/FreeRTOS/tasks.c ****                              * task has priority lower than this task, it should yield
2954:Middlewares/FreeRTOS/tasks.c ****                              * for this task. */
2955:Middlewares/FreeRTOS/tasks.c ****                             taskYIELD_ANY_CORE_IF_USING_PREEMPTION( pxTCB );
2956:Middlewares/FreeRTOS/tasks.c ****                         }
2957:Middlewares/FreeRTOS/tasks.c ****                         else
2958:Middlewares/FreeRTOS/tasks.c ****                     #endif /* if ( configNUMBER_OF_CORES > 1 ) */
2959:Middlewares/FreeRTOS/tasks.c ****                     {
2960:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
2961:Middlewares/FreeRTOS/tasks.c ****                     }
2962:Middlewares/FreeRTOS/tasks.c ****                 }
2963:Middlewares/FreeRTOS/tasks.c **** 
2964:Middlewares/FreeRTOS/tasks.c ****                 /* Remove compiler warning about unused variables when the port
2965:Middlewares/FreeRTOS/tasks.c ****                  * optimised task selection is not being used. */
2966:Middlewares/FreeRTOS/tasks.c ****                 ( void ) uxPriorityUsedOnEntry;
2967:Middlewares/FreeRTOS/tasks.c ****             }
2968:Middlewares/FreeRTOS/tasks.c ****         }
2969:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL();
 1737              		.loc 1 2969 9
 1738 0162 FFF7FEFF 		bl	vPortExitCritical
2970:Middlewares/FreeRTOS/tasks.c **** 
2971:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskPrioritySet();
2972:Middlewares/FreeRTOS/tasks.c ****     }
 1739              		.loc 1 2972 5
 1740 0166 00BF     		nop
 1741 0168 2037     		adds	r7, r7, #32
 1742              		.cfi_def_cfa_offset 8
 1743 016a BD46     		mov	sp, r7
 1744              		.cfi_def_cfa_register 13
 1745              		@ sp needed
 1746 016c 80BD     		pop	{r7, pc}
 1747              	.L109:
 1748 016e 00BF     		.align	2
 1749              	.L108:
 1750 0170 00000000 		.word	pxCurrentTCB
 1751 0174 00000000 		.word	pxReadyTasksLists
 1752 0178 00000000 		.word	uxTopReadyPriority
 1753 017c 04ED00E0 		.word	-536810236
 1754              		.cfi_endproc
 1755              	.LFE19:
 1757              		.section	.text.vTaskSuspend,"ax",%progbits
 1758              		.align	1
 1759              		.global	vTaskSuspend
 1760              		.syntax unified
 1761              		.thumb
 1762              		.thumb_func
 1764              	vTaskSuspend:
 1765              	.LFB20:
2973:Middlewares/FreeRTOS/tasks.c **** 
2974:Middlewares/FreeRTOS/tasks.c **** #endif /* INCLUDE_vTaskPrioritySet */
2975:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
2976:Middlewares/FreeRTOS/tasks.c **** 
2977:Middlewares/FreeRTOS/tasks.c **** #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_CORE_AFFINITY == 1 ) )
2978:Middlewares/FreeRTOS/tasks.c ****     void vTaskCoreAffinitySet( const TaskHandle_t xTask,
2979:Middlewares/FreeRTOS/tasks.c ****                                UBaseType_t uxCoreAffinityMask )
ARM GAS  /tmp/ccF71V7c.s 			page 88


2980:Middlewares/FreeRTOS/tasks.c ****     {
2981:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
2982:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xCoreID;
2983:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxPrevCoreAffinityMask;
2984:Middlewares/FreeRTOS/tasks.c **** 
2985:Middlewares/FreeRTOS/tasks.c ****         #if ( configUSE_PREEMPTION == 1 )
2986:Middlewares/FreeRTOS/tasks.c ****             UBaseType_t uxPrevNotAllowedCores;
2987:Middlewares/FreeRTOS/tasks.c ****         #endif
2988:Middlewares/FreeRTOS/tasks.c **** 
2989:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskCoreAffinitySet( xTask, uxCoreAffinityMask );
2990:Middlewares/FreeRTOS/tasks.c **** 
2991:Middlewares/FreeRTOS/tasks.c ****         taskENTER_CRITICAL();
2992:Middlewares/FreeRTOS/tasks.c ****         {
2993:Middlewares/FreeRTOS/tasks.c ****             pxTCB = prvGetTCBFromHandle( xTask );
2994:Middlewares/FreeRTOS/tasks.c **** 
2995:Middlewares/FreeRTOS/tasks.c ****             uxPrevCoreAffinityMask = pxTCB->uxCoreAffinityMask;
2996:Middlewares/FreeRTOS/tasks.c ****             pxTCB->uxCoreAffinityMask = uxCoreAffinityMask;
2997:Middlewares/FreeRTOS/tasks.c **** 
2998:Middlewares/FreeRTOS/tasks.c ****             if( xSchedulerRunning != pdFALSE )
2999:Middlewares/FreeRTOS/tasks.c ****             {
3000:Middlewares/FreeRTOS/tasks.c ****                 if( taskTASK_IS_RUNNING( pxTCB ) == pdTRUE )
3001:Middlewares/FreeRTOS/tasks.c ****                 {
3002:Middlewares/FreeRTOS/tasks.c ****                     xCoreID = ( BaseType_t ) pxTCB->xTaskRunState;
3003:Middlewares/FreeRTOS/tasks.c **** 
3004:Middlewares/FreeRTOS/tasks.c ****                     /* If the task can no longer run on the core it was running,
3005:Middlewares/FreeRTOS/tasks.c ****                      * request the core to yield. */
3006:Middlewares/FreeRTOS/tasks.c ****                     if( ( uxCoreAffinityMask & ( ( UBaseType_t ) 1U << ( UBaseType_t ) xCoreID ) ) 
3007:Middlewares/FreeRTOS/tasks.c ****                     {
3008:Middlewares/FreeRTOS/tasks.c ****                         prvYieldCore( xCoreID );
3009:Middlewares/FreeRTOS/tasks.c ****                     }
3010:Middlewares/FreeRTOS/tasks.c ****                 }
3011:Middlewares/FreeRTOS/tasks.c ****                 else
3012:Middlewares/FreeRTOS/tasks.c ****                 {
3013:Middlewares/FreeRTOS/tasks.c ****                     #if ( configUSE_PREEMPTION == 1 )
3014:Middlewares/FreeRTOS/tasks.c ****                     {
3015:Middlewares/FreeRTOS/tasks.c ****                         /* Calculate the cores on which this task was not allowed to
3016:Middlewares/FreeRTOS/tasks.c ****                          * run previously. */
3017:Middlewares/FreeRTOS/tasks.c ****                         uxPrevNotAllowedCores = ( ~uxPrevCoreAffinityMask ) & ( ( 1U << configNUMBE
3018:Middlewares/FreeRTOS/tasks.c **** 
3019:Middlewares/FreeRTOS/tasks.c ****                         /* Does the new core mask enables this task to run on any of the
3020:Middlewares/FreeRTOS/tasks.c ****                          * previously not allowed cores? If yes, check if this task can be
3021:Middlewares/FreeRTOS/tasks.c ****                          * scheduled on any of those cores. */
3022:Middlewares/FreeRTOS/tasks.c ****                         if( ( uxPrevNotAllowedCores & uxCoreAffinityMask ) != 0U )
3023:Middlewares/FreeRTOS/tasks.c ****                         {
3024:Middlewares/FreeRTOS/tasks.c ****                             prvYieldForTask( pxTCB );
3025:Middlewares/FreeRTOS/tasks.c ****                         }
3026:Middlewares/FreeRTOS/tasks.c ****                     }
3027:Middlewares/FreeRTOS/tasks.c ****                     #else /* #if( configUSE_PREEMPTION == 1 ) */
3028:Middlewares/FreeRTOS/tasks.c ****                     {
3029:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
3030:Middlewares/FreeRTOS/tasks.c ****                     }
3031:Middlewares/FreeRTOS/tasks.c ****                     #endif /* #if( configUSE_PREEMPTION == 1 ) */
3032:Middlewares/FreeRTOS/tasks.c ****                 }
3033:Middlewares/FreeRTOS/tasks.c ****             }
3034:Middlewares/FreeRTOS/tasks.c ****         }
3035:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL();
3036:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 89


3037:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskCoreAffinitySet();
3038:Middlewares/FreeRTOS/tasks.c ****     }
3039:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_CORE_AFFINITY == 1 ) ) */
3040:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
3041:Middlewares/FreeRTOS/tasks.c **** 
3042:Middlewares/FreeRTOS/tasks.c **** #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_CORE_AFFINITY == 1 ) )
3043:Middlewares/FreeRTOS/tasks.c ****     UBaseType_t vTaskCoreAffinityGet( ConstTaskHandle_t xTask )
3044:Middlewares/FreeRTOS/tasks.c ****     {
3045:Middlewares/FreeRTOS/tasks.c ****         const TCB_t * pxTCB;
3046:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxCoreAffinityMask;
3047:Middlewares/FreeRTOS/tasks.c **** 
3048:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskCoreAffinityGet( xTask );
3049:Middlewares/FreeRTOS/tasks.c **** 
3050:Middlewares/FreeRTOS/tasks.c ****         taskENTER_CRITICAL();
3051:Middlewares/FreeRTOS/tasks.c ****         {
3052:Middlewares/FreeRTOS/tasks.c ****             pxTCB = prvGetTCBFromHandle( xTask );
3053:Middlewares/FreeRTOS/tasks.c ****             uxCoreAffinityMask = pxTCB->uxCoreAffinityMask;
3054:Middlewares/FreeRTOS/tasks.c ****         }
3055:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL();
3056:Middlewares/FreeRTOS/tasks.c **** 
3057:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskCoreAffinityGet( uxCoreAffinityMask );
3058:Middlewares/FreeRTOS/tasks.c **** 
3059:Middlewares/FreeRTOS/tasks.c ****         return uxCoreAffinityMask;
3060:Middlewares/FreeRTOS/tasks.c ****     }
3061:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_CORE_AFFINITY == 1 ) ) */
3062:Middlewares/FreeRTOS/tasks.c **** 
3063:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
3064:Middlewares/FreeRTOS/tasks.c **** 
3065:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_TASK_PREEMPTION_DISABLE == 1 )
3066:Middlewares/FreeRTOS/tasks.c **** 
3067:Middlewares/FreeRTOS/tasks.c ****     void vTaskPreemptionDisable( const TaskHandle_t xTask )
3068:Middlewares/FreeRTOS/tasks.c ****     {
3069:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
3070:Middlewares/FreeRTOS/tasks.c **** 
3071:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskPreemptionDisable( xTask );
3072:Middlewares/FreeRTOS/tasks.c **** 
3073:Middlewares/FreeRTOS/tasks.c ****         taskENTER_CRITICAL();
3074:Middlewares/FreeRTOS/tasks.c ****         {
3075:Middlewares/FreeRTOS/tasks.c ****             pxTCB = prvGetTCBFromHandle( xTask );
3076:Middlewares/FreeRTOS/tasks.c **** 
3077:Middlewares/FreeRTOS/tasks.c ****             pxTCB->xPreemptionDisable = pdTRUE;
3078:Middlewares/FreeRTOS/tasks.c ****         }
3079:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL();
3080:Middlewares/FreeRTOS/tasks.c **** 
3081:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskPreemptionDisable();
3082:Middlewares/FreeRTOS/tasks.c ****     }
3083:Middlewares/FreeRTOS/tasks.c **** 
3084:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( configUSE_TASK_PREEMPTION_DISABLE == 1 ) */
3085:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
3086:Middlewares/FreeRTOS/tasks.c **** 
3087:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_TASK_PREEMPTION_DISABLE == 1 )
3088:Middlewares/FreeRTOS/tasks.c **** 
3089:Middlewares/FreeRTOS/tasks.c ****     void vTaskPreemptionEnable( const TaskHandle_t xTask )
3090:Middlewares/FreeRTOS/tasks.c ****     {
3091:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
3092:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xCoreID;
3093:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 90


3094:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskPreemptionEnable( xTask );
3095:Middlewares/FreeRTOS/tasks.c **** 
3096:Middlewares/FreeRTOS/tasks.c ****         taskENTER_CRITICAL();
3097:Middlewares/FreeRTOS/tasks.c ****         {
3098:Middlewares/FreeRTOS/tasks.c ****             pxTCB = prvGetTCBFromHandle( xTask );
3099:Middlewares/FreeRTOS/tasks.c **** 
3100:Middlewares/FreeRTOS/tasks.c ****             pxTCB->xPreemptionDisable = pdFALSE;
3101:Middlewares/FreeRTOS/tasks.c **** 
3102:Middlewares/FreeRTOS/tasks.c ****             if( xSchedulerRunning != pdFALSE )
3103:Middlewares/FreeRTOS/tasks.c ****             {
3104:Middlewares/FreeRTOS/tasks.c ****                 if( taskTASK_IS_RUNNING( pxTCB ) == pdTRUE )
3105:Middlewares/FreeRTOS/tasks.c ****                 {
3106:Middlewares/FreeRTOS/tasks.c ****                     xCoreID = ( BaseType_t ) pxTCB->xTaskRunState;
3107:Middlewares/FreeRTOS/tasks.c ****                     prvYieldCore( xCoreID );
3108:Middlewares/FreeRTOS/tasks.c ****                 }
3109:Middlewares/FreeRTOS/tasks.c ****             }
3110:Middlewares/FreeRTOS/tasks.c ****         }
3111:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL();
3112:Middlewares/FreeRTOS/tasks.c **** 
3113:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskPreemptionEnable();
3114:Middlewares/FreeRTOS/tasks.c ****     }
3115:Middlewares/FreeRTOS/tasks.c **** 
3116:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( configUSE_TASK_PREEMPTION_DISABLE == 1 ) */
3117:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
3118:Middlewares/FreeRTOS/tasks.c **** 
3119:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_vTaskSuspend == 1 )
3120:Middlewares/FreeRTOS/tasks.c **** 
3121:Middlewares/FreeRTOS/tasks.c ****     void vTaskSuspend( TaskHandle_t xTaskToSuspend )
3122:Middlewares/FreeRTOS/tasks.c ****     {
 1766              		.loc 1 3122 5
 1767              		.cfi_startproc
 1768              		@ args = 0, pretend = 0, frame = 24
 1769              		@ frame_needed = 1, uses_anonymous_args = 0
 1770 0000 80B5     		push	{r7, lr}
 1771              		.cfi_def_cfa_offset 8
 1772              		.cfi_offset 7, -8
 1773              		.cfi_offset 14, -4
 1774 0002 86B0     		sub	sp, sp, #24
 1775              		.cfi_def_cfa_offset 32
 1776 0004 00AF     		add	r7, sp, #0
 1777              		.cfi_def_cfa_register 7
 1778 0006 7860     		str	r0, [r7, #4]
3123:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
3124:Middlewares/FreeRTOS/tasks.c **** 
3125:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskSuspend( xTaskToSuspend );
3126:Middlewares/FreeRTOS/tasks.c **** 
3127:Middlewares/FreeRTOS/tasks.c ****         taskENTER_CRITICAL();
 1779              		.loc 1 3127 9
 1780 0008 FFF7FEFF 		bl	vPortEnterCritical
3128:Middlewares/FreeRTOS/tasks.c ****         {
3129:Middlewares/FreeRTOS/tasks.c ****             /* If null is passed in here then it is the running task that is
3130:Middlewares/FreeRTOS/tasks.c ****              * being suspended. */
3131:Middlewares/FreeRTOS/tasks.c ****             pxTCB = prvGetTCBFromHandle( xTaskToSuspend );
 1781              		.loc 1 3131 21
 1782 000c 7B68     		ldr	r3, [r7, #4]
 1783 000e 002B     		cmp	r3, #0
 1784 0010 02D1     		bne	.L111
ARM GAS  /tmp/ccF71V7c.s 			page 91


 1785              		.loc 1 3131 21 is_stmt 0 discriminator 1
 1786 0012 304B     		ldr	r3, .L122
 1787 0014 1B68     		ldr	r3, [r3]
 1788 0016 00E0     		b	.L112
 1789              	.L111:
 1790              		.loc 1 3131 21 discriminator 2
 1791 0018 7B68     		ldr	r3, [r7, #4]
 1792              	.L112:
 1793              		.loc 1 3131 19 is_stmt 1 discriminator 4
 1794 001a 3B61     		str	r3, [r7, #16]
3132:Middlewares/FreeRTOS/tasks.c **** 
3133:Middlewares/FreeRTOS/tasks.c ****             traceTASK_SUSPEND( pxTCB );
3134:Middlewares/FreeRTOS/tasks.c **** 
3135:Middlewares/FreeRTOS/tasks.c ****             /* Remove task from the ready/delayed list and place in the
3136:Middlewares/FreeRTOS/tasks.c ****              * suspended list. */
3137:Middlewares/FreeRTOS/tasks.c ****             if( uxListRemove( &( pxTCB->xStateListItem ) ) == ( UBaseType_t ) 0 )
 1795              		.loc 1 3137 17
 1796 001c 3B69     		ldr	r3, [r7, #16]
 1797 001e 0433     		adds	r3, r3, #4
 1798 0020 1846     		mov	r0, r3
 1799 0022 FFF7FEFF 		bl	uxListRemove
3138:Middlewares/FreeRTOS/tasks.c ****             {
3139:Middlewares/FreeRTOS/tasks.c ****                 taskRESET_READY_PRIORITY( pxTCB->uxPriority );
3140:Middlewares/FreeRTOS/tasks.c ****             }
3141:Middlewares/FreeRTOS/tasks.c ****             else
3142:Middlewares/FreeRTOS/tasks.c ****             {
3143:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
3144:Middlewares/FreeRTOS/tasks.c ****             }
3145:Middlewares/FreeRTOS/tasks.c **** 
3146:Middlewares/FreeRTOS/tasks.c ****             /* Is the task waiting on an event also? */
3147:Middlewares/FreeRTOS/tasks.c ****             if( listLIST_ITEM_CONTAINER( &( pxTCB->xEventListItem ) ) != NULL )
 1800              		.loc 1 3147 17
 1801 0026 3B69     		ldr	r3, [r7, #16]
 1802 0028 9B6A     		ldr	r3, [r3, #40]
 1803              		.loc 1 3147 15
 1804 002a 002B     		cmp	r3, #0
 1805 002c 04D0     		beq	.L113
3148:Middlewares/FreeRTOS/tasks.c ****             {
3149:Middlewares/FreeRTOS/tasks.c ****                 ( void ) uxListRemove( &( pxTCB->xEventListItem ) );
 1806              		.loc 1 3149 26
 1807 002e 3B69     		ldr	r3, [r7, #16]
 1808 0030 1833     		adds	r3, r3, #24
 1809 0032 1846     		mov	r0, r3
 1810 0034 FFF7FEFF 		bl	uxListRemove
 1811              	.L113:
3150:Middlewares/FreeRTOS/tasks.c ****             }
3151:Middlewares/FreeRTOS/tasks.c ****             else
3152:Middlewares/FreeRTOS/tasks.c ****             {
3153:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
3154:Middlewares/FreeRTOS/tasks.c ****             }
3155:Middlewares/FreeRTOS/tasks.c **** 
3156:Middlewares/FreeRTOS/tasks.c ****             vListInsertEnd( &xSuspendedTaskList, &( pxTCB->xStateListItem ) );
 1812              		.loc 1 3156 13
 1813 0038 3B69     		ldr	r3, [r7, #16]
 1814 003a 0433     		adds	r3, r3, #4
 1815 003c 1946     		mov	r1, r3
 1816 003e 2648     		ldr	r0, .L122+4
ARM GAS  /tmp/ccF71V7c.s 			page 92


 1817 0040 FFF7FEFF 		bl	vListInsertEnd
 1818              	.LBB46:
3157:Middlewares/FreeRTOS/tasks.c **** 
3158:Middlewares/FreeRTOS/tasks.c ****             #if ( configUSE_TASK_NOTIFICATIONS == 1 )
3159:Middlewares/FreeRTOS/tasks.c ****             {
3160:Middlewares/FreeRTOS/tasks.c ****                 BaseType_t x;
3161:Middlewares/FreeRTOS/tasks.c **** 
3162:Middlewares/FreeRTOS/tasks.c ****                 for( x = ( BaseType_t ) 0; x < ( BaseType_t ) configTASK_NOTIFICATION_ARRAY_ENTRIES
 1819              		.loc 1 3162 24
 1820 0044 0023     		movs	r3, #0
 1821 0046 7B61     		str	r3, [r7, #20]
 1822              		.loc 1 3162 17
 1823 0048 10E0     		b	.L114
 1824              	.L116:
3163:Middlewares/FreeRTOS/tasks.c ****                 {
3164:Middlewares/FreeRTOS/tasks.c ****                     if( pxTCB->ucNotifyState[ x ] == taskWAITING_NOTIFICATION )
 1825              		.loc 1 3164 45
 1826 004a 3A69     		ldr	r2, [r7, #16]
 1827 004c 7B69     		ldr	r3, [r7, #20]
 1828 004e 1344     		add	r3, r3, r2
 1829 0050 5833     		adds	r3, r3, #88
 1830 0052 1B78     		ldrb	r3, [r3]
 1831 0054 DBB2     		uxtb	r3, r3
 1832              		.loc 1 3164 23
 1833 0056 012B     		cmp	r3, #1
 1834 0058 05D1     		bne	.L115
3165:Middlewares/FreeRTOS/tasks.c ****                     {
3166:Middlewares/FreeRTOS/tasks.c ****                         /* The task was blocked to wait for a notification, but is
3167:Middlewares/FreeRTOS/tasks.c ****                          * now suspended, so no notification was received. */
3168:Middlewares/FreeRTOS/tasks.c ****                         pxTCB->ucNotifyState[ x ] = taskNOT_WAITING_NOTIFICATION;
 1835              		.loc 1 3168 51
 1836 005a 3A69     		ldr	r2, [r7, #16]
 1837 005c 7B69     		ldr	r3, [r7, #20]
 1838 005e 1344     		add	r3, r3, r2
 1839 0060 5833     		adds	r3, r3, #88
 1840 0062 0022     		movs	r2, #0
 1841 0064 1A70     		strb	r2, [r3]
 1842              	.L115:
3162:Middlewares/FreeRTOS/tasks.c ****                 {
 1843              		.loc 1 3162 103 discriminator 2
 1844 0066 7B69     		ldr	r3, [r7, #20]
 1845 0068 0133     		adds	r3, r3, #1
 1846 006a 7B61     		str	r3, [r7, #20]
 1847              	.L114:
3162:Middlewares/FreeRTOS/tasks.c ****                 {
 1848              		.loc 1 3162 46 discriminator 1
 1849 006c 7B69     		ldr	r3, [r7, #20]
 1850 006e 002B     		cmp	r3, #0
 1851 0070 EBDD     		ble	.L116
 1852              	.LBE46:
3169:Middlewares/FreeRTOS/tasks.c ****                     }
3170:Middlewares/FreeRTOS/tasks.c ****                 }
3171:Middlewares/FreeRTOS/tasks.c ****             }
3172:Middlewares/FreeRTOS/tasks.c ****             #endif /* if ( configUSE_TASK_NOTIFICATIONS == 1 ) */
3173:Middlewares/FreeRTOS/tasks.c **** 
3174:Middlewares/FreeRTOS/tasks.c ****             /* In the case of SMP, it is possible that the task being suspended
3175:Middlewares/FreeRTOS/tasks.c ****              * is running on another core. We must evict the task before
ARM GAS  /tmp/ccF71V7c.s 			page 93


3176:Middlewares/FreeRTOS/tasks.c ****              * exiting the critical section to ensure that the task cannot
3177:Middlewares/FreeRTOS/tasks.c ****              * take an action which puts it back on ready/state/event list,
3178:Middlewares/FreeRTOS/tasks.c ****              * thereby nullifying the suspend operation. Once evicted, the
3179:Middlewares/FreeRTOS/tasks.c ****              * task won't be scheduled before it is resumed as it will no longer
3180:Middlewares/FreeRTOS/tasks.c ****              * be on the ready list. */
3181:Middlewares/FreeRTOS/tasks.c ****             #if ( configNUMBER_OF_CORES > 1 )
3182:Middlewares/FreeRTOS/tasks.c ****             {
3183:Middlewares/FreeRTOS/tasks.c ****                 if( xSchedulerRunning != pdFALSE )
3184:Middlewares/FreeRTOS/tasks.c ****                 {
3185:Middlewares/FreeRTOS/tasks.c ****                     /* Reset the next expected unblock time in case it referred to the
3186:Middlewares/FreeRTOS/tasks.c ****                      * task that is now in the Suspended state. */
3187:Middlewares/FreeRTOS/tasks.c ****                     prvResetNextTaskUnblockTime();
3188:Middlewares/FreeRTOS/tasks.c **** 
3189:Middlewares/FreeRTOS/tasks.c ****                     if( taskTASK_IS_RUNNING( pxTCB ) == pdTRUE )
3190:Middlewares/FreeRTOS/tasks.c ****                     {
3191:Middlewares/FreeRTOS/tasks.c ****                         if( pxTCB->xTaskRunState == ( BaseType_t ) portGET_CORE_ID() )
3192:Middlewares/FreeRTOS/tasks.c ****                         {
3193:Middlewares/FreeRTOS/tasks.c ****                             /* The current task has just been suspended. */
3194:Middlewares/FreeRTOS/tasks.c ****                             configASSERT( uxSchedulerSuspended == 0 );
3195:Middlewares/FreeRTOS/tasks.c ****                             vTaskYieldWithinAPI();
3196:Middlewares/FreeRTOS/tasks.c ****                         }
3197:Middlewares/FreeRTOS/tasks.c ****                         else
3198:Middlewares/FreeRTOS/tasks.c ****                         {
3199:Middlewares/FreeRTOS/tasks.c ****                             prvYieldCore( pxTCB->xTaskRunState );
3200:Middlewares/FreeRTOS/tasks.c ****                         }
3201:Middlewares/FreeRTOS/tasks.c ****                     }
3202:Middlewares/FreeRTOS/tasks.c ****                     else
3203:Middlewares/FreeRTOS/tasks.c ****                     {
3204:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
3205:Middlewares/FreeRTOS/tasks.c ****                     }
3206:Middlewares/FreeRTOS/tasks.c ****                 }
3207:Middlewares/FreeRTOS/tasks.c ****                 else
3208:Middlewares/FreeRTOS/tasks.c ****                 {
3209:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
3210:Middlewares/FreeRTOS/tasks.c ****                 }
3211:Middlewares/FreeRTOS/tasks.c ****             }
3212:Middlewares/FreeRTOS/tasks.c ****             #endif /* #if ( configNUMBER_OF_CORES > 1 ) */
3213:Middlewares/FreeRTOS/tasks.c ****         }
3214:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL();
 1853              		.loc 1 3214 9
 1854 0072 FFF7FEFF 		bl	vPortExitCritical
 1855              	.LBB47:
3215:Middlewares/FreeRTOS/tasks.c **** 
3216:Middlewares/FreeRTOS/tasks.c ****         #if ( configNUMBER_OF_CORES == 1 )
3217:Middlewares/FreeRTOS/tasks.c ****         {
3218:Middlewares/FreeRTOS/tasks.c ****             UBaseType_t uxCurrentListLength;
3219:Middlewares/FreeRTOS/tasks.c **** 
3220:Middlewares/FreeRTOS/tasks.c ****             if( xSchedulerRunning != pdFALSE )
 1856              		.loc 1 3220 35
 1857 0076 194B     		ldr	r3, .L122+8
 1858 0078 1B68     		ldr	r3, [r3]
 1859              		.loc 1 3220 15
 1860 007a 002B     		cmp	r3, #0
 1861 007c 05D0     		beq	.L117
3221:Middlewares/FreeRTOS/tasks.c ****             {
3222:Middlewares/FreeRTOS/tasks.c ****                 /* Reset the next expected unblock time in case it referred to the
3223:Middlewares/FreeRTOS/tasks.c ****                  * task that is now in the Suspended state. */
ARM GAS  /tmp/ccF71V7c.s 			page 94


3224:Middlewares/FreeRTOS/tasks.c ****                 taskENTER_CRITICAL();
 1862              		.loc 1 3224 17
 1863 007e FFF7FEFF 		bl	vPortEnterCritical
3225:Middlewares/FreeRTOS/tasks.c ****                 {
3226:Middlewares/FreeRTOS/tasks.c ****                     prvResetNextTaskUnblockTime();
 1864              		.loc 1 3226 21
 1865 0082 FFF7FEFF 		bl	prvResetNextTaskUnblockTime
3227:Middlewares/FreeRTOS/tasks.c ****                 }
3228:Middlewares/FreeRTOS/tasks.c ****                 taskEXIT_CRITICAL();
 1866              		.loc 1 3228 17
 1867 0086 FFF7FEFF 		bl	vPortExitCritical
 1868              	.L117:
3229:Middlewares/FreeRTOS/tasks.c ****             }
3230:Middlewares/FreeRTOS/tasks.c ****             else
3231:Middlewares/FreeRTOS/tasks.c ****             {
3232:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
3233:Middlewares/FreeRTOS/tasks.c ****             }
3234:Middlewares/FreeRTOS/tasks.c **** 
3235:Middlewares/FreeRTOS/tasks.c ****             if( pxTCB == pxCurrentTCB )
 1869              		.loc 1 3235 23
 1870 008a 124B     		ldr	r3, .L122
 1871 008c 1B68     		ldr	r3, [r3]
 1872              		.loc 1 3235 15
 1873 008e 3A69     		ldr	r2, [r7, #16]
 1874 0090 9A42     		cmp	r2, r3
 1875 0092 1AD1     		bne	.L121
3236:Middlewares/FreeRTOS/tasks.c ****             {
3237:Middlewares/FreeRTOS/tasks.c ****                 if( xSchedulerRunning != pdFALSE )
 1876              		.loc 1 3237 39
 1877 0094 114B     		ldr	r3, .L122+8
 1878 0096 1B68     		ldr	r3, [r3]
 1879              		.loc 1 3237 19
 1880 0098 002B     		cmp	r3, #0
 1881 009a 08D0     		beq	.L119
3238:Middlewares/FreeRTOS/tasks.c ****                 {
3239:Middlewares/FreeRTOS/tasks.c ****                     /* The current task has just been suspended. */
3240:Middlewares/FreeRTOS/tasks.c ****                     configASSERT( uxSchedulerSuspended == 0 );
3241:Middlewares/FreeRTOS/tasks.c ****                     portYIELD_WITHIN_API();
 1882              		.loc 1 3241 21
 1883 009c 104B     		ldr	r3, .L122+12
 1884 009e 4FF08052 		mov	r2, #268435456
 1885 00a2 1A60     		str	r2, [r3]
 1886              		.syntax unified
 1887              	@ 3241 "Middlewares/FreeRTOS/tasks.c" 1
 1888 00a4 BFF34F8F 		dsb
 1889              	@ 0 "" 2
 1890              	@ 3241 "Middlewares/FreeRTOS/tasks.c" 1
 1891 00a8 BFF36F8F 		isb
 1892              	@ 0 "" 2
 1893              		.thumb
 1894              		.syntax unified
 1895              	.LBE47:
3242:Middlewares/FreeRTOS/tasks.c ****                 }
3243:Middlewares/FreeRTOS/tasks.c ****                 else
3244:Middlewares/FreeRTOS/tasks.c ****                 {
3245:Middlewares/FreeRTOS/tasks.c ****                     /* The scheduler is not running, but the task that was pointed
3246:Middlewares/FreeRTOS/tasks.c ****                      * to by pxCurrentTCB has just been suspended and pxCurrentTCB
ARM GAS  /tmp/ccF71V7c.s 			page 95


3247:Middlewares/FreeRTOS/tasks.c ****                      * must be adjusted to point to a different task. */
3248:Middlewares/FreeRTOS/tasks.c **** 
3249:Middlewares/FreeRTOS/tasks.c ****                     /* Use a temp variable as a distinct sequence point for reading
3250:Middlewares/FreeRTOS/tasks.c ****                      * volatile variables prior to a comparison to ensure compliance
3251:Middlewares/FreeRTOS/tasks.c ****                      * with MISRA C 2012 Rule 13.2. */
3252:Middlewares/FreeRTOS/tasks.c ****                     uxCurrentListLength = listCURRENT_LIST_LENGTH( &xSuspendedTaskList );
3253:Middlewares/FreeRTOS/tasks.c **** 
3254:Middlewares/FreeRTOS/tasks.c ****                     if( uxCurrentListLength == uxCurrentNumberOfTasks )
3255:Middlewares/FreeRTOS/tasks.c ****                     {
3256:Middlewares/FreeRTOS/tasks.c ****                         /* No other tasks are ready, so set pxCurrentTCB back to
3257:Middlewares/FreeRTOS/tasks.c ****                          * NULL so when the next task is created pxCurrentTCB will
3258:Middlewares/FreeRTOS/tasks.c ****                          * be set to point to it no matter what its relative priority
3259:Middlewares/FreeRTOS/tasks.c ****                          * is. */
3260:Middlewares/FreeRTOS/tasks.c ****                         pxCurrentTCB = NULL;
3261:Middlewares/FreeRTOS/tasks.c ****                     }
3262:Middlewares/FreeRTOS/tasks.c ****                     else
3263:Middlewares/FreeRTOS/tasks.c ****                     {
3264:Middlewares/FreeRTOS/tasks.c ****                         vTaskSwitchContext();
3265:Middlewares/FreeRTOS/tasks.c ****                     }
3266:Middlewares/FreeRTOS/tasks.c ****                 }
3267:Middlewares/FreeRTOS/tasks.c ****             }
3268:Middlewares/FreeRTOS/tasks.c ****             else
3269:Middlewares/FreeRTOS/tasks.c ****             {
3270:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
3271:Middlewares/FreeRTOS/tasks.c ****             }
3272:Middlewares/FreeRTOS/tasks.c ****         }
3273:Middlewares/FreeRTOS/tasks.c ****         #endif /* #if ( configNUMBER_OF_CORES == 1 ) */
3274:Middlewares/FreeRTOS/tasks.c **** 
3275:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskSuspend();
3276:Middlewares/FreeRTOS/tasks.c ****     }
 1896              		.loc 1 3276 5
 1897 00ac 0DE0     		b	.L121
 1898              	.L119:
 1899              	.LBB48:
3252:Middlewares/FreeRTOS/tasks.c **** 
 1900              		.loc 1 3252 41
 1901 00ae 0A4B     		ldr	r3, .L122+4
 1902 00b0 1B68     		ldr	r3, [r3]
 1903 00b2 FB60     		str	r3, [r7, #12]
3254:Middlewares/FreeRTOS/tasks.c ****                     {
 1904              		.loc 1 3254 45
 1905 00b4 0B4B     		ldr	r3, .L122+16
 1906 00b6 1B68     		ldr	r3, [r3]
3254:Middlewares/FreeRTOS/tasks.c ****                     {
 1907              		.loc 1 3254 23
 1908 00b8 FA68     		ldr	r2, [r7, #12]
 1909 00ba 9A42     		cmp	r2, r3
 1910 00bc 03D1     		bne	.L120
3260:Middlewares/FreeRTOS/tasks.c ****                     }
 1911              		.loc 1 3260 38
 1912 00be 054B     		ldr	r3, .L122
 1913 00c0 0022     		movs	r2, #0
 1914 00c2 1A60     		str	r2, [r3]
 1915              	.LBE48:
 1916              		.loc 1 3276 5
 1917 00c4 01E0     		b	.L121
 1918              	.L120:
ARM GAS  /tmp/ccF71V7c.s 			page 96


 1919              	.LBB49:
3264:Middlewares/FreeRTOS/tasks.c ****                     }
 1920              		.loc 1 3264 25
 1921 00c6 FFF7FEFF 		bl	vTaskSwitchContext
 1922              	.L121:
 1923              	.LBE49:
 1924              		.loc 1 3276 5
 1925 00ca 00BF     		nop
 1926 00cc 1837     		adds	r7, r7, #24
 1927              		.cfi_def_cfa_offset 8
 1928 00ce BD46     		mov	sp, r7
 1929              		.cfi_def_cfa_register 13
 1930              		@ sp needed
 1931 00d0 80BD     		pop	{r7, pc}
 1932              	.L123:
 1933 00d2 00BF     		.align	2
 1934              	.L122:
 1935 00d4 00000000 		.word	pxCurrentTCB
 1936 00d8 00000000 		.word	xSuspendedTaskList
 1937 00dc 00000000 		.word	xSchedulerRunning
 1938 00e0 04ED00E0 		.word	-536810236
 1939 00e4 00000000 		.word	uxCurrentNumberOfTasks
 1940              		.cfi_endproc
 1941              	.LFE20:
 1943              		.section	.text.prvTaskIsTaskSuspended,"ax",%progbits
 1944              		.align	1
 1945              		.syntax unified
 1946              		.thumb
 1947              		.thumb_func
 1949              	prvTaskIsTaskSuspended:
 1950              	.LFB21:
3277:Middlewares/FreeRTOS/tasks.c **** 
3278:Middlewares/FreeRTOS/tasks.c **** #endif /* INCLUDE_vTaskSuspend */
3279:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
3280:Middlewares/FreeRTOS/tasks.c **** 
3281:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_vTaskSuspend == 1 )
3282:Middlewares/FreeRTOS/tasks.c **** 
3283:Middlewares/FreeRTOS/tasks.c ****     static BaseType_t prvTaskIsTaskSuspended( const TaskHandle_t xTask )
3284:Middlewares/FreeRTOS/tasks.c ****     {
 1951              		.loc 1 3284 5
 1952              		.cfi_startproc
 1953              		@ args = 0, pretend = 0, frame = 24
 1954              		@ frame_needed = 1, uses_anonymous_args = 0
 1955              		@ link register save eliminated.
 1956 0000 80B4     		push	{r7}
 1957              		.cfi_def_cfa_offset 4
 1958              		.cfi_offset 7, -4
 1959 0002 87B0     		sub	sp, sp, #28
 1960              		.cfi_def_cfa_offset 32
 1961 0004 00AF     		add	r7, sp, #0
 1962              		.cfi_def_cfa_register 7
 1963 0006 7860     		str	r0, [r7, #4]
3285:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xReturn = pdFALSE;
 1964              		.loc 1 3285 20
 1965 0008 0023     		movs	r3, #0
 1966 000a 7B61     		str	r3, [r7, #20]
3286:Middlewares/FreeRTOS/tasks.c ****         const TCB_t * const pxTCB = xTask;
ARM GAS  /tmp/ccF71V7c.s 			page 97


 1967              		.loc 1 3286 29
 1968 000c 7B68     		ldr	r3, [r7, #4]
 1969 000e FB60     		str	r3, [r7, #12]
3287:Middlewares/FreeRTOS/tasks.c **** 
3288:Middlewares/FreeRTOS/tasks.c ****         /* Accesses xPendingReadyList so must be called from a critical
3289:Middlewares/FreeRTOS/tasks.c ****          * section. */
3290:Middlewares/FreeRTOS/tasks.c **** 
3291:Middlewares/FreeRTOS/tasks.c ****         /* It does not make sense to check if the calling task is suspended. */
3292:Middlewares/FreeRTOS/tasks.c ****         configASSERT( xTask );
3293:Middlewares/FreeRTOS/tasks.c **** 
3294:Middlewares/FreeRTOS/tasks.c ****         /* Is the task being resumed actually in the suspended list? */
3295:Middlewares/FreeRTOS/tasks.c ****         if( listIS_CONTAINED_WITHIN( &xSuspendedTaskList, &( pxTCB->xStateListItem ) ) != pdFALSE )
 1970              		.loc 1 3295 13
 1971 0010 FB68     		ldr	r3, [r7, #12]
 1972 0012 5B69     		ldr	r3, [r3, #20]
 1973              		.loc 1 3295 11
 1974 0014 144A     		ldr	r2, .L131
 1975 0016 9342     		cmp	r3, r2
 1976 0018 1ED1     		bne	.L125
3296:Middlewares/FreeRTOS/tasks.c ****         {
3297:Middlewares/FreeRTOS/tasks.c ****             /* Has the task already been resumed from within an ISR? */
3298:Middlewares/FreeRTOS/tasks.c ****             if( listIS_CONTAINED_WITHIN( &xPendingReadyList, &( pxTCB->xEventListItem ) ) == pdFALS
 1977              		.loc 1 3298 17
 1978 001a FB68     		ldr	r3, [r7, #12]
 1979 001c 9B6A     		ldr	r3, [r3, #40]
 1980              		.loc 1 3298 15
 1981 001e 134A     		ldr	r2, .L131+4
 1982 0020 9342     		cmp	r3, r2
 1983 0022 19D0     		beq	.L125
3299:Middlewares/FreeRTOS/tasks.c ****             {
3300:Middlewares/FreeRTOS/tasks.c ****                 /* Is it in the suspended list because it is in the Suspended
3301:Middlewares/FreeRTOS/tasks.c ****                  * state, or because it is blocked with no timeout? */
3302:Middlewares/FreeRTOS/tasks.c ****                 if( listIS_CONTAINED_WITHIN( NULL, &( pxTCB->xEventListItem ) ) != pdFALSE )
 1984              		.loc 1 3302 21
 1985 0024 FB68     		ldr	r3, [r7, #12]
 1986 0026 9B6A     		ldr	r3, [r3, #40]
 1987              		.loc 1 3302 19
 1988 0028 002B     		cmp	r3, #0
 1989 002a 15D1     		bne	.L125
 1990              	.LBB50:
3303:Middlewares/FreeRTOS/tasks.c ****                 {
3304:Middlewares/FreeRTOS/tasks.c ****                     #if ( configUSE_TASK_NOTIFICATIONS == 1 )
3305:Middlewares/FreeRTOS/tasks.c ****                     {
3306:Middlewares/FreeRTOS/tasks.c ****                         BaseType_t x;
3307:Middlewares/FreeRTOS/tasks.c **** 
3308:Middlewares/FreeRTOS/tasks.c ****                         /* The task does not appear on the event list item of
3309:Middlewares/FreeRTOS/tasks.c ****                          * and of the RTOS objects, but could still be in the
3310:Middlewares/FreeRTOS/tasks.c ****                          * blocked state if it is waiting on its notification
3311:Middlewares/FreeRTOS/tasks.c ****                          * rather than waiting on an object.  If not, is
3312:Middlewares/FreeRTOS/tasks.c ****                          * suspended. */
3313:Middlewares/FreeRTOS/tasks.c ****                         xReturn = pdTRUE;
 1991              		.loc 1 3313 33
 1992 002c 0123     		movs	r3, #1
 1993 002e 7B61     		str	r3, [r7, #20]
3314:Middlewares/FreeRTOS/tasks.c **** 
3315:Middlewares/FreeRTOS/tasks.c ****                         for( x = ( BaseType_t ) 0; x < ( BaseType_t ) configTASK_NOTIFICATION_ARRAY
 1994              		.loc 1 3315 32
ARM GAS  /tmp/ccF71V7c.s 			page 98


 1995 0030 0023     		movs	r3, #0
 1996 0032 3B61     		str	r3, [r7, #16]
 1997              		.loc 1 3315 25
 1998 0034 0DE0     		b	.L126
 1999              	.L129:
3316:Middlewares/FreeRTOS/tasks.c ****                         {
3317:Middlewares/FreeRTOS/tasks.c ****                             if( pxTCB->ucNotifyState[ x ] == taskWAITING_NOTIFICATION )
 2000              		.loc 1 3317 53
 2001 0036 FA68     		ldr	r2, [r7, #12]
 2002 0038 3B69     		ldr	r3, [r7, #16]
 2003 003a 1344     		add	r3, r3, r2
 2004 003c 5833     		adds	r3, r3, #88
 2005 003e 1B78     		ldrb	r3, [r3]
 2006 0040 DBB2     		uxtb	r3, r3
 2007              		.loc 1 3317 31
 2008 0042 012B     		cmp	r3, #1
 2009 0044 02D1     		bne	.L127
3318:Middlewares/FreeRTOS/tasks.c ****                             {
3319:Middlewares/FreeRTOS/tasks.c ****                                 xReturn = pdFALSE;
 2010              		.loc 1 3319 41
 2011 0046 0023     		movs	r3, #0
 2012 0048 7B61     		str	r3, [r7, #20]
3320:Middlewares/FreeRTOS/tasks.c ****                                 break;
 2013              		.loc 1 3320 33
 2014 004a 05E0     		b	.L125
 2015              	.L127:
3315:Middlewares/FreeRTOS/tasks.c ****                         {
 2016              		.loc 1 3315 111 discriminator 2
 2017 004c 3B69     		ldr	r3, [r7, #16]
 2018 004e 0133     		adds	r3, r3, #1
 2019 0050 3B61     		str	r3, [r7, #16]
 2020              	.L126:
3315:Middlewares/FreeRTOS/tasks.c ****                         {
 2021              		.loc 1 3315 54 discriminator 1
 2022 0052 3B69     		ldr	r3, [r7, #16]
 2023 0054 002B     		cmp	r3, #0
 2024 0056 EEDD     		ble	.L129
 2025              	.L125:
 2026              	.LBE50:
3321:Middlewares/FreeRTOS/tasks.c ****                             }
3322:Middlewares/FreeRTOS/tasks.c ****                         }
3323:Middlewares/FreeRTOS/tasks.c ****                     }
3324:Middlewares/FreeRTOS/tasks.c ****                     #else /* if ( configUSE_TASK_NOTIFICATIONS == 1 ) */
3325:Middlewares/FreeRTOS/tasks.c ****                     {
3326:Middlewares/FreeRTOS/tasks.c ****                         xReturn = pdTRUE;
3327:Middlewares/FreeRTOS/tasks.c ****                     }
3328:Middlewares/FreeRTOS/tasks.c ****                     #endif /* if ( configUSE_TASK_NOTIFICATIONS == 1 ) */
3329:Middlewares/FreeRTOS/tasks.c ****                 }
3330:Middlewares/FreeRTOS/tasks.c ****                 else
3331:Middlewares/FreeRTOS/tasks.c ****                 {
3332:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
3333:Middlewares/FreeRTOS/tasks.c ****                 }
3334:Middlewares/FreeRTOS/tasks.c ****             }
3335:Middlewares/FreeRTOS/tasks.c ****             else
3336:Middlewares/FreeRTOS/tasks.c ****             {
3337:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
3338:Middlewares/FreeRTOS/tasks.c ****             }
ARM GAS  /tmp/ccF71V7c.s 			page 99


3339:Middlewares/FreeRTOS/tasks.c ****         }
3340:Middlewares/FreeRTOS/tasks.c ****         else
3341:Middlewares/FreeRTOS/tasks.c ****         {
3342:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
3343:Middlewares/FreeRTOS/tasks.c ****         }
3344:Middlewares/FreeRTOS/tasks.c **** 
3345:Middlewares/FreeRTOS/tasks.c ****         return xReturn;
 2027              		.loc 1 3345 16
 2028 0058 7B69     		ldr	r3, [r7, #20]
3346:Middlewares/FreeRTOS/tasks.c ****     }
 2029              		.loc 1 3346 5
 2030 005a 1846     		mov	r0, r3
 2031 005c 1C37     		adds	r7, r7, #28
 2032              		.cfi_def_cfa_offset 4
 2033 005e BD46     		mov	sp, r7
 2034              		.cfi_def_cfa_register 13
 2035              		@ sp needed
 2036 0060 5DF8047B 		ldr	r7, [sp], #4
 2037              		.cfi_restore 7
 2038              		.cfi_def_cfa_offset 0
 2039 0064 7047     		bx	lr
 2040              	.L132:
 2041 0066 00BF     		.align	2
 2042              	.L131:
 2043 0068 00000000 		.word	xSuspendedTaskList
 2044 006c 00000000 		.word	xPendingReadyList
 2045              		.cfi_endproc
 2046              	.LFE21:
 2048              		.section	.text.vTaskResume,"ax",%progbits
 2049              		.align	1
 2050              		.global	vTaskResume
 2051              		.syntax unified
 2052              		.thumb
 2053              		.thumb_func
 2055              	vTaskResume:
 2056              	.LFB22:
3347:Middlewares/FreeRTOS/tasks.c **** 
3348:Middlewares/FreeRTOS/tasks.c **** #endif /* INCLUDE_vTaskSuspend */
3349:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
3350:Middlewares/FreeRTOS/tasks.c **** 
3351:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_vTaskSuspend == 1 )
3352:Middlewares/FreeRTOS/tasks.c **** 
3353:Middlewares/FreeRTOS/tasks.c ****     void vTaskResume( TaskHandle_t xTaskToResume )
3354:Middlewares/FreeRTOS/tasks.c ****     {
 2057              		.loc 1 3354 5
 2058              		.cfi_startproc
 2059              		@ args = 0, pretend = 0, frame = 16
 2060              		@ frame_needed = 1, uses_anonymous_args = 0
 2061 0000 80B5     		push	{r7, lr}
 2062              		.cfi_def_cfa_offset 8
 2063              		.cfi_offset 7, -8
 2064              		.cfi_offset 14, -4
 2065 0002 84B0     		sub	sp, sp, #16
 2066              		.cfi_def_cfa_offset 24
 2067 0004 00AF     		add	r7, sp, #0
 2068              		.cfi_def_cfa_register 7
 2069 0006 7860     		str	r0, [r7, #4]
ARM GAS  /tmp/ccF71V7c.s 			page 100


3355:Middlewares/FreeRTOS/tasks.c ****         TCB_t * const pxTCB = xTaskToResume;
 2070              		.loc 1 3355 23
 2071 0008 7B68     		ldr	r3, [r7, #4]
 2072 000a FB60     		str	r3, [r7, #12]
3356:Middlewares/FreeRTOS/tasks.c **** 
3357:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskResume( xTaskToResume );
3358:Middlewares/FreeRTOS/tasks.c **** 
3359:Middlewares/FreeRTOS/tasks.c ****         /* It does not make sense to resume the calling task. */
3360:Middlewares/FreeRTOS/tasks.c ****         configASSERT( xTaskToResume );
3361:Middlewares/FreeRTOS/tasks.c **** 
3362:Middlewares/FreeRTOS/tasks.c ****         #if ( configNUMBER_OF_CORES == 1 )
3363:Middlewares/FreeRTOS/tasks.c **** 
3364:Middlewares/FreeRTOS/tasks.c ****             /* The parameter cannot be NULL as it is impossible to resume the
3365:Middlewares/FreeRTOS/tasks.c ****              * currently executing task. */
3366:Middlewares/FreeRTOS/tasks.c ****             if( ( pxTCB != pxCurrentTCB ) && ( pxTCB != NULL ) )
 2073              		.loc 1 3366 25
 2074 000c 354B     		ldr	r3, .L138
 2075 000e 1B68     		ldr	r3, [r3]
 2076              		.loc 1 3366 15
 2077 0010 FA68     		ldr	r2, [r7, #12]
 2078 0012 9A42     		cmp	r2, r3
 2079 0014 62D0     		beq	.L137
 2080              		.loc 1 3366 43 discriminator 1
 2081 0016 FB68     		ldr	r3, [r7, #12]
 2082 0018 002B     		cmp	r3, #0
 2083 001a 5FD0     		beq	.L137
3367:Middlewares/FreeRTOS/tasks.c ****         #else
3368:Middlewares/FreeRTOS/tasks.c **** 
3369:Middlewares/FreeRTOS/tasks.c ****             /* The parameter cannot be NULL as it is impossible to resume the
3370:Middlewares/FreeRTOS/tasks.c ****              * currently executing task. It is also impossible to resume a task
3371:Middlewares/FreeRTOS/tasks.c ****              * that is actively running on another core but it is not safe
3372:Middlewares/FreeRTOS/tasks.c ****              * to check their run state here. Therefore, we get into a critical
3373:Middlewares/FreeRTOS/tasks.c ****              * section and check if the task is actually suspended or not. */
3374:Middlewares/FreeRTOS/tasks.c ****             if( pxTCB != NULL )
3375:Middlewares/FreeRTOS/tasks.c ****         #endif
3376:Middlewares/FreeRTOS/tasks.c ****         {
3377:Middlewares/FreeRTOS/tasks.c ****             taskENTER_CRITICAL();
 2084              		.loc 1 3377 13
 2085 001c FFF7FEFF 		bl	vPortEnterCritical
3378:Middlewares/FreeRTOS/tasks.c ****             {
3379:Middlewares/FreeRTOS/tasks.c ****                 if( prvTaskIsTaskSuspended( pxTCB ) != pdFALSE )
 2086              		.loc 1 3379 21
 2087 0020 F868     		ldr	r0, [r7, #12]
 2088 0022 FFF7FEFF 		bl	prvTaskIsTaskSuspended
 2089 0026 0346     		mov	r3, r0
 2090              		.loc 1 3379 19 discriminator 1
 2091 0028 002B     		cmp	r3, #0
 2092 002a 55D0     		beq	.L135
3380:Middlewares/FreeRTOS/tasks.c ****                 {
3381:Middlewares/FreeRTOS/tasks.c ****                     traceTASK_RESUME( pxTCB );
3382:Middlewares/FreeRTOS/tasks.c **** 
3383:Middlewares/FreeRTOS/tasks.c ****                     /* The ready list can be accessed even if the scheduler is
3384:Middlewares/FreeRTOS/tasks.c ****                      * suspended because this is inside a critical section. */
3385:Middlewares/FreeRTOS/tasks.c ****                     ( void ) uxListRemove( &( pxTCB->xStateListItem ) );
 2093              		.loc 1 3385 30
 2094 002c FB68     		ldr	r3, [r7, #12]
 2095 002e 0433     		adds	r3, r3, #4
ARM GAS  /tmp/ccF71V7c.s 			page 101


 2096 0030 1846     		mov	r0, r3
 2097 0032 FFF7FEFF 		bl	uxListRemove
3386:Middlewares/FreeRTOS/tasks.c ****                     prvAddTaskToReadyList( pxTCB );
 2098              		.loc 1 3386 21
 2099 0036 FB68     		ldr	r3, [r7, #12]
 2100 0038 DA6A     		ldr	r2, [r3, #44]
 2101 003a 2B4B     		ldr	r3, .L138+4
 2102 003c 1B68     		ldr	r3, [r3]
 2103 003e 9A42     		cmp	r2, r3
 2104 0040 03D9     		bls	.L136
 2105              		.loc 1 3386 21 is_stmt 0 discriminator 1
 2106 0042 FB68     		ldr	r3, [r7, #12]
 2107 0044 DB6A     		ldr	r3, [r3, #44]
 2108 0046 284A     		ldr	r2, .L138+4
 2109 0048 1360     		str	r3, [r2]
 2110              	.L136:
 2111              	.LBB51:
 2112              		.loc 1 3386 21 discriminator 3
 2113 004a FB68     		ldr	r3, [r7, #12]
 2114 004c DA6A     		ldr	r2, [r3, #44]
 2115 004e 2749     		ldr	r1, .L138+8
 2116 0050 1346     		mov	r3, r2
 2117 0052 9B00     		lsls	r3, r3, #2
 2118 0054 1344     		add	r3, r3, r2
 2119 0056 9B00     		lsls	r3, r3, #2
 2120 0058 0B44     		add	r3, r3, r1
 2121 005a 0433     		adds	r3, r3, #4
 2122 005c 1B68     		ldr	r3, [r3]
 2123 005e BB60     		str	r3, [r7, #8]
 2124 0060 FB68     		ldr	r3, [r7, #12]
 2125 0062 BA68     		ldr	r2, [r7, #8]
 2126 0064 9A60     		str	r2, [r3, #8]
 2127 0066 BB68     		ldr	r3, [r7, #8]
 2128 0068 9A68     		ldr	r2, [r3, #8]
 2129 006a FB68     		ldr	r3, [r7, #12]
 2130 006c DA60     		str	r2, [r3, #12]
 2131 006e BB68     		ldr	r3, [r7, #8]
 2132 0070 9B68     		ldr	r3, [r3, #8]
 2133 0072 FA68     		ldr	r2, [r7, #12]
 2134 0074 0432     		adds	r2, r2, #4
 2135 0076 5A60     		str	r2, [r3, #4]
 2136 0078 FB68     		ldr	r3, [r7, #12]
 2137 007a 1A1D     		adds	r2, r3, #4
 2138 007c BB68     		ldr	r3, [r7, #8]
 2139 007e 9A60     		str	r2, [r3, #8]
 2140 0080 FB68     		ldr	r3, [r7, #12]
 2141 0082 DA6A     		ldr	r2, [r3, #44]
 2142 0084 1346     		mov	r3, r2
 2143 0086 9B00     		lsls	r3, r3, #2
 2144 0088 1344     		add	r3, r3, r2
 2145 008a 9B00     		lsls	r3, r3, #2
 2146 008c 174A     		ldr	r2, .L138+8
 2147 008e 1A44     		add	r2, r2, r3
 2148 0090 FB68     		ldr	r3, [r7, #12]
 2149 0092 5A61     		str	r2, [r3, #20]
 2150 0094 FB68     		ldr	r3, [r7, #12]
 2151 0096 DA6A     		ldr	r2, [r3, #44]
ARM GAS  /tmp/ccF71V7c.s 			page 102


 2152 0098 1449     		ldr	r1, .L138+8
 2153 009a 1346     		mov	r3, r2
 2154 009c 9B00     		lsls	r3, r3, #2
 2155 009e 1344     		add	r3, r3, r2
 2156 00a0 9B00     		lsls	r3, r3, #2
 2157 00a2 0B44     		add	r3, r3, r1
 2158 00a4 1B68     		ldr	r3, [r3]
 2159 00a6 FA68     		ldr	r2, [r7, #12]
 2160 00a8 D26A     		ldr	r2, [r2, #44]
 2161 00aa 591C     		adds	r1, r3, #1
 2162 00ac 0F48     		ldr	r0, .L138+8
 2163 00ae 1346     		mov	r3, r2
 2164 00b0 9B00     		lsls	r3, r3, #2
 2165 00b2 1344     		add	r3, r3, r2
 2166 00b4 9B00     		lsls	r3, r3, #2
 2167 00b6 0344     		add	r3, r3, r0
 2168 00b8 1960     		str	r1, [r3]
 2169              	.LBE51:
3387:Middlewares/FreeRTOS/tasks.c **** 
3388:Middlewares/FreeRTOS/tasks.c ****                     /* This yield may not cause the task just resumed to run,
3389:Middlewares/FreeRTOS/tasks.c ****                      * but will leave the lists in the correct state for the
3390:Middlewares/FreeRTOS/tasks.c ****                      * next yield. */
3391:Middlewares/FreeRTOS/tasks.c ****                     taskYIELD_ANY_CORE_IF_USING_PREEMPTION( pxTCB );
 2170              		.loc 1 3391 21 is_stmt 1
 2171 00ba 0A4B     		ldr	r3, .L138
 2172 00bc 1B68     		ldr	r3, [r3]
 2173 00be DA6A     		ldr	r2, [r3, #44]
 2174 00c0 FB68     		ldr	r3, [r7, #12]
 2175 00c2 DB6A     		ldr	r3, [r3, #44]
 2176 00c4 9A42     		cmp	r2, r3
 2177 00c6 07D2     		bcs	.L135
 2178              		.loc 1 3391 21 is_stmt 0 discriminator 1
 2179 00c8 094B     		ldr	r3, .L138+12
 2180 00ca 4FF08052 		mov	r2, #268435456
 2181 00ce 1A60     		str	r2, [r3]
 2182              		.syntax unified
 2183              	@ 3391 "Middlewares/FreeRTOS/tasks.c" 1
 2184 00d0 BFF34F8F 		dsb
 2185              	@ 0 "" 2
 2186              	@ 3391 "Middlewares/FreeRTOS/tasks.c" 1
 2187 00d4 BFF36F8F 		isb
 2188              	@ 0 "" 2
 2189              		.thumb
 2190              		.syntax unified
 2191              	.L135:
3392:Middlewares/FreeRTOS/tasks.c ****                 }
3393:Middlewares/FreeRTOS/tasks.c ****                 else
3394:Middlewares/FreeRTOS/tasks.c ****                 {
3395:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
3396:Middlewares/FreeRTOS/tasks.c ****                 }
3397:Middlewares/FreeRTOS/tasks.c ****             }
3398:Middlewares/FreeRTOS/tasks.c ****             taskEXIT_CRITICAL();
 2192              		.loc 1 3398 13 is_stmt 1
 2193 00d8 FFF7FEFF 		bl	vPortExitCritical
 2194              	.L137:
3399:Middlewares/FreeRTOS/tasks.c ****         }
3400:Middlewares/FreeRTOS/tasks.c ****         else
ARM GAS  /tmp/ccF71V7c.s 			page 103


3401:Middlewares/FreeRTOS/tasks.c ****         {
3402:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
3403:Middlewares/FreeRTOS/tasks.c ****         }
3404:Middlewares/FreeRTOS/tasks.c **** 
3405:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskResume();
3406:Middlewares/FreeRTOS/tasks.c ****     }
 2195              		.loc 1 3406 5
 2196 00dc 00BF     		nop
 2197 00de 1037     		adds	r7, r7, #16
 2198              		.cfi_def_cfa_offset 8
 2199 00e0 BD46     		mov	sp, r7
 2200              		.cfi_def_cfa_register 13
 2201              		@ sp needed
 2202 00e2 80BD     		pop	{r7, pc}
 2203              	.L139:
 2204              		.align	2
 2205              	.L138:
 2206 00e4 00000000 		.word	pxCurrentTCB
 2207 00e8 00000000 		.word	uxTopReadyPriority
 2208 00ec 00000000 		.word	pxReadyTasksLists
 2209 00f0 04ED00E0 		.word	-536810236
 2210              		.cfi_endproc
 2211              	.LFE22:
 2213              		.section	.text.xTaskResumeFromISR,"ax",%progbits
 2214              		.align	1
 2215              		.global	xTaskResumeFromISR
 2216              		.syntax unified
 2217              		.thumb
 2218              		.thumb_func
 2220              	xTaskResumeFromISR:
 2221              	.LFB23:
3407:Middlewares/FreeRTOS/tasks.c **** 
3408:Middlewares/FreeRTOS/tasks.c **** #endif /* INCLUDE_vTaskSuspend */
3409:Middlewares/FreeRTOS/tasks.c **** 
3410:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
3411:Middlewares/FreeRTOS/tasks.c **** 
3412:Middlewares/FreeRTOS/tasks.c **** #if ( ( INCLUDE_xTaskResumeFromISR == 1 ) && ( INCLUDE_vTaskSuspend == 1 ) )
3413:Middlewares/FreeRTOS/tasks.c **** 
3414:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xTaskResumeFromISR( TaskHandle_t xTaskToResume )
3415:Middlewares/FreeRTOS/tasks.c ****     {
 2222              		.loc 1 3415 5
 2223              		.cfi_startproc
 2224              		@ args = 0, pretend = 0, frame = 40
 2225              		@ frame_needed = 1, uses_anonymous_args = 0
 2226 0000 80B5     		push	{r7, lr}
 2227              		.cfi_def_cfa_offset 8
 2228              		.cfi_offset 7, -8
 2229              		.cfi_offset 14, -4
 2230 0002 8AB0     		sub	sp, sp, #40
 2231              		.cfi_def_cfa_offset 48
 2232 0004 00AF     		add	r7, sp, #0
 2233              		.cfi_def_cfa_register 7
 2234 0006 7860     		str	r0, [r7, #4]
3416:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xYieldRequired = pdFALSE;
 2235              		.loc 1 3416 20
 2236 0008 0023     		movs	r3, #0
 2237 000a 7B62     		str	r3, [r7, #36]
ARM GAS  /tmp/ccF71V7c.s 			page 104


3417:Middlewares/FreeRTOS/tasks.c ****         TCB_t * const pxTCB = xTaskToResume;
 2238              		.loc 1 3417 23
 2239 000c 7B68     		ldr	r3, [r7, #4]
 2240 000e 3B62     		str	r3, [r7, #32]
 2241              	.LBB52:
 2242              	.LBB53:
 233:Middlewares/FreeRTOS/portable/portmacro.h ****     (
 2243              		.loc 2 233 5
 2244              		.syntax unified
 2245              	@ 233 "Middlewares/FreeRTOS/portable/portmacro.h" 1
 2246 0010 EFF31182 		   mrs r2, basepri                                         
 2247 0014 4FF05003 	   mov r3, #80                                              
 2248 0018 83F31188 	   msr basepri, r3                                         
 2249 001c BFF36F8F 	   isb                                                     
 2250 0020 BFF34F8F 	   dsb                                                     
 2251              	
 2252              	@ 0 "" 2
 2253              		.thumb
 2254              		.syntax unified
 2255 0024 7A61     		str	r2, [r7, #20]
 2256 0026 3B61     		str	r3, [r7, #16]
 245:Middlewares/FreeRTOS/portable/portmacro.h **** }
 2257              		.loc 2 245 12
 2258 0028 7B69     		ldr	r3, [r7, #20]
 2259              	.LBE53:
 2260              	.LBE52:
3418:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxSavedInterruptStatus;
3419:Middlewares/FreeRTOS/tasks.c **** 
3420:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskResumeFromISR( xTaskToResume );
3421:Middlewares/FreeRTOS/tasks.c **** 
3422:Middlewares/FreeRTOS/tasks.c ****         configASSERT( xTaskToResume );
3423:Middlewares/FreeRTOS/tasks.c **** 
3424:Middlewares/FreeRTOS/tasks.c ****         /* RTOS ports that support interrupt nesting have the concept of a
3425:Middlewares/FreeRTOS/tasks.c ****          * maximum  system call (or maximum API call) interrupt priority.
3426:Middlewares/FreeRTOS/tasks.c ****          * Interrupts that are  above the maximum system call priority are keep
3427:Middlewares/FreeRTOS/tasks.c ****          * permanently enabled, even when the RTOS kernel is in a critical section,
3428:Middlewares/FreeRTOS/tasks.c ****          * but cannot make any calls to FreeRTOS API functions.  If configASSERT()
3429:Middlewares/FreeRTOS/tasks.c ****          * is defined in FreeRTOSConfig.h then
3430:Middlewares/FreeRTOS/tasks.c ****          * portASSERT_IF_INTERRUPT_PRIORITY_INVALID() will result in an assertion
3431:Middlewares/FreeRTOS/tasks.c ****          * failure if a FreeRTOS API function is called from an interrupt that has
3432:Middlewares/FreeRTOS/tasks.c ****          * been assigned a priority above the configured maximum system call
3433:Middlewares/FreeRTOS/tasks.c ****          * priority.  Only FreeRTOS functions that end in FromISR can be called
3434:Middlewares/FreeRTOS/tasks.c ****          * from interrupts  that have been assigned a priority at or (logically)
3435:Middlewares/FreeRTOS/tasks.c ****          * below the maximum system call interrupt priority.  FreeRTOS maintains a
3436:Middlewares/FreeRTOS/tasks.c ****          * separate interrupt safe API to ensure interrupt entry is as fast and as
3437:Middlewares/FreeRTOS/tasks.c ****          * simple as possible.  More information (albeit Cortex-M specific) is
3438:Middlewares/FreeRTOS/tasks.c ****          * provided on the following link:
3439:Middlewares/FreeRTOS/tasks.c ****          * https://www.FreeRTOS.org/RTOS-Cortex-M3-M4.html */
3440:Middlewares/FreeRTOS/tasks.c ****         portASSERT_IF_INTERRUPT_PRIORITY_INVALID();
3441:Middlewares/FreeRTOS/tasks.c **** 
3442:Middlewares/FreeRTOS/tasks.c ****         /* MISRA Ref 4.7.1 [Return value shall be checked] */
3443:Middlewares/FreeRTOS/tasks.c ****         /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#dir-47 *
3444:Middlewares/FreeRTOS/tasks.c ****         /* coverity[misra_c_2012_directive_4_7_violation] */
3445:Middlewares/FreeRTOS/tasks.c ****         uxSavedInterruptStatus = taskENTER_CRITICAL_FROM_ISR();
 2261              		.loc 1 3445 34
 2262 002a FB61     		str	r3, [r7, #28]
3446:Middlewares/FreeRTOS/tasks.c ****         {
ARM GAS  /tmp/ccF71V7c.s 			page 105


3447:Middlewares/FreeRTOS/tasks.c ****             if( prvTaskIsTaskSuspended( pxTCB ) != pdFALSE )
 2263              		.loc 1 3447 17
 2264 002c 386A     		ldr	r0, [r7, #32]
 2265 002e FFF7FEFF 		bl	prvTaskIsTaskSuspended
 2266 0032 0346     		mov	r3, r0
 2267              		.loc 1 3447 15 discriminator 1
 2268 0034 002B     		cmp	r3, #0
 2269 0036 5DD0     		beq	.L142
3448:Middlewares/FreeRTOS/tasks.c ****             {
3449:Middlewares/FreeRTOS/tasks.c ****                 traceTASK_RESUME_FROM_ISR( pxTCB );
3450:Middlewares/FreeRTOS/tasks.c **** 
3451:Middlewares/FreeRTOS/tasks.c ****                 /* Check the ready lists can be accessed. */
3452:Middlewares/FreeRTOS/tasks.c ****                 if( uxSchedulerSuspended == ( UBaseType_t ) 0U )
 2270              		.loc 1 3452 42
 2271 0038 344B     		ldr	r3, .L147
 2272 003a 1B68     		ldr	r3, [r3]
 2273              		.loc 1 3452 19
 2274 003c 002B     		cmp	r3, #0
 2275 003e 53D1     		bne	.L143
3453:Middlewares/FreeRTOS/tasks.c ****                 {
3454:Middlewares/FreeRTOS/tasks.c ****                     #if ( configNUMBER_OF_CORES == 1 )
3455:Middlewares/FreeRTOS/tasks.c ****                     {
3456:Middlewares/FreeRTOS/tasks.c ****                         /* Ready lists can be accessed so move the task from the
3457:Middlewares/FreeRTOS/tasks.c ****                          * suspended list to the ready list directly. */
3458:Middlewares/FreeRTOS/tasks.c ****                         if( pxTCB->uxPriority > pxCurrentTCB->uxPriority )
 2276              		.loc 1 3458 34
 2277 0040 3B6A     		ldr	r3, [r7, #32]
 2278 0042 DA6A     		ldr	r2, [r3, #44]
 2279              		.loc 1 3458 61
 2280 0044 324B     		ldr	r3, .L147+4
 2281 0046 1B68     		ldr	r3, [r3]
 2282 0048 DB6A     		ldr	r3, [r3, #44]
 2283              		.loc 1 3458 27
 2284 004a 9A42     		cmp	r2, r3
 2285 004c 04D9     		bls	.L144
3459:Middlewares/FreeRTOS/tasks.c ****                         {
3460:Middlewares/FreeRTOS/tasks.c ****                             xYieldRequired = pdTRUE;
 2286              		.loc 1 3460 44
 2287 004e 0123     		movs	r3, #1
 2288 0050 7B62     		str	r3, [r7, #36]
3461:Middlewares/FreeRTOS/tasks.c **** 
3462:Middlewares/FreeRTOS/tasks.c ****                             /* Mark that a yield is pending in case the user is not
3463:Middlewares/FreeRTOS/tasks.c ****                              * using the return value to initiate a context switch
3464:Middlewares/FreeRTOS/tasks.c ****                              * from the ISR using the port specific portYIELD_FROM_ISR(). */
3465:Middlewares/FreeRTOS/tasks.c ****                             xYieldPendings[ 0 ] = pdTRUE;
 2289              		.loc 1 3465 49
 2290 0052 304B     		ldr	r3, .L147+8
 2291 0054 0122     		movs	r2, #1
 2292 0056 1A60     		str	r2, [r3]
 2293              	.L144:
3466:Middlewares/FreeRTOS/tasks.c ****                         }
3467:Middlewares/FreeRTOS/tasks.c ****                         else
3468:Middlewares/FreeRTOS/tasks.c ****                         {
3469:Middlewares/FreeRTOS/tasks.c ****                             mtCOVERAGE_TEST_MARKER();
3470:Middlewares/FreeRTOS/tasks.c ****                         }
3471:Middlewares/FreeRTOS/tasks.c ****                     }
3472:Middlewares/FreeRTOS/tasks.c ****                     #endif /* #if ( configNUMBER_OF_CORES == 1 ) */
ARM GAS  /tmp/ccF71V7c.s 			page 106


3473:Middlewares/FreeRTOS/tasks.c **** 
3474:Middlewares/FreeRTOS/tasks.c ****                     ( void ) uxListRemove( &( pxTCB->xStateListItem ) );
 2294              		.loc 1 3474 30
 2295 0058 3B6A     		ldr	r3, [r7, #32]
 2296 005a 0433     		adds	r3, r3, #4
 2297 005c 1846     		mov	r0, r3
 2298 005e FFF7FEFF 		bl	uxListRemove
3475:Middlewares/FreeRTOS/tasks.c ****                     prvAddTaskToReadyList( pxTCB );
 2299              		.loc 1 3475 21
 2300 0062 3B6A     		ldr	r3, [r7, #32]
 2301 0064 DA6A     		ldr	r2, [r3, #44]
 2302 0066 2C4B     		ldr	r3, .L147+12
 2303 0068 1B68     		ldr	r3, [r3]
 2304 006a 9A42     		cmp	r2, r3
 2305 006c 03D9     		bls	.L145
 2306              		.loc 1 3475 21 is_stmt 0 discriminator 1
 2307 006e 3B6A     		ldr	r3, [r7, #32]
 2308 0070 DB6A     		ldr	r3, [r3, #44]
 2309 0072 294A     		ldr	r2, .L147+12
 2310 0074 1360     		str	r3, [r2]
 2311              	.L145:
 2312              	.LBB54:
 2313              		.loc 1 3475 21 discriminator 3
 2314 0076 3B6A     		ldr	r3, [r7, #32]
 2315 0078 DA6A     		ldr	r2, [r3, #44]
 2316 007a 2849     		ldr	r1, .L147+16
 2317 007c 1346     		mov	r3, r2
 2318 007e 9B00     		lsls	r3, r3, #2
 2319 0080 1344     		add	r3, r3, r2
 2320 0082 9B00     		lsls	r3, r3, #2
 2321 0084 0B44     		add	r3, r3, r1
 2322 0086 0433     		adds	r3, r3, #4
 2323 0088 1B68     		ldr	r3, [r3]
 2324 008a BB61     		str	r3, [r7, #24]
 2325 008c 3B6A     		ldr	r3, [r7, #32]
 2326 008e BA69     		ldr	r2, [r7, #24]
 2327 0090 9A60     		str	r2, [r3, #8]
 2328 0092 BB69     		ldr	r3, [r7, #24]
 2329 0094 9A68     		ldr	r2, [r3, #8]
 2330 0096 3B6A     		ldr	r3, [r7, #32]
 2331 0098 DA60     		str	r2, [r3, #12]
 2332 009a BB69     		ldr	r3, [r7, #24]
 2333 009c 9B68     		ldr	r3, [r3, #8]
 2334 009e 3A6A     		ldr	r2, [r7, #32]
 2335 00a0 0432     		adds	r2, r2, #4
 2336 00a2 5A60     		str	r2, [r3, #4]
 2337 00a4 3B6A     		ldr	r3, [r7, #32]
 2338 00a6 1A1D     		adds	r2, r3, #4
 2339 00a8 BB69     		ldr	r3, [r7, #24]
 2340 00aa 9A60     		str	r2, [r3, #8]
 2341 00ac 3B6A     		ldr	r3, [r7, #32]
 2342 00ae DA6A     		ldr	r2, [r3, #44]
 2343 00b0 1346     		mov	r3, r2
 2344 00b2 9B00     		lsls	r3, r3, #2
 2345 00b4 1344     		add	r3, r3, r2
 2346 00b6 9B00     		lsls	r3, r3, #2
 2347 00b8 184A     		ldr	r2, .L147+16
ARM GAS  /tmp/ccF71V7c.s 			page 107


 2348 00ba 1A44     		add	r2, r2, r3
 2349 00bc 3B6A     		ldr	r3, [r7, #32]
 2350 00be 5A61     		str	r2, [r3, #20]
 2351 00c0 3B6A     		ldr	r3, [r7, #32]
 2352 00c2 DA6A     		ldr	r2, [r3, #44]
 2353 00c4 1549     		ldr	r1, .L147+16
 2354 00c6 1346     		mov	r3, r2
 2355 00c8 9B00     		lsls	r3, r3, #2
 2356 00ca 1344     		add	r3, r3, r2
 2357 00cc 9B00     		lsls	r3, r3, #2
 2358 00ce 0B44     		add	r3, r3, r1
 2359 00d0 1B68     		ldr	r3, [r3]
 2360 00d2 3A6A     		ldr	r2, [r7, #32]
 2361 00d4 D26A     		ldr	r2, [r2, #44]
 2362 00d6 591C     		adds	r1, r3, #1
 2363 00d8 1048     		ldr	r0, .L147+16
 2364 00da 1346     		mov	r3, r2
 2365 00dc 9B00     		lsls	r3, r3, #2
 2366 00de 1344     		add	r3, r3, r2
 2367 00e0 9B00     		lsls	r3, r3, #2
 2368 00e2 0344     		add	r3, r3, r0
 2369 00e4 1960     		str	r1, [r3]
 2370              	.LBE54:
 2371 00e6 05E0     		b	.L142
 2372              	.L143:
3476:Middlewares/FreeRTOS/tasks.c ****                 }
3477:Middlewares/FreeRTOS/tasks.c ****                 else
3478:Middlewares/FreeRTOS/tasks.c ****                 {
3479:Middlewares/FreeRTOS/tasks.c ****                     /* The delayed or ready lists cannot be accessed so the task
3480:Middlewares/FreeRTOS/tasks.c ****                      * is held in the pending ready list until the scheduler is
3481:Middlewares/FreeRTOS/tasks.c ****                      * unsuspended. */
3482:Middlewares/FreeRTOS/tasks.c ****                     vListInsertEnd( &( xPendingReadyList ), &( pxTCB->xEventListItem ) );
 2373              		.loc 1 3482 21 is_stmt 1
 2374 00e8 3B6A     		ldr	r3, [r7, #32]
 2375 00ea 1833     		adds	r3, r3, #24
 2376 00ec 1946     		mov	r1, r3
 2377 00ee 0C48     		ldr	r0, .L147+20
 2378 00f0 FFF7FEFF 		bl	vListInsertEnd
 2379              	.L142:
 2380 00f4 FB69     		ldr	r3, [r7, #28]
 2381 00f6 FB60     		str	r3, [r7, #12]
 2382              	.LBB55:
 2383              	.LBB56:
 251:Middlewares/FreeRTOS/portable/portmacro.h ****     (
 2384              		.loc 2 251 5
 2385 00f8 FB68     		ldr	r3, [r7, #12]
 2386              		.syntax unified
 2387              	@ 251 "Middlewares/FreeRTOS/portable/portmacro.h" 1
 2388 00fa 83F31188 		   msr basepri, r3 
 2389              	@ 0 "" 2
 2390              		.loc 2 255 1
 2391              		.thumb
 2392              		.syntax unified
 2393 00fe 00BF     		nop
 2394              	.LBE56:
 2395              	.LBE55:
3483:Middlewares/FreeRTOS/tasks.c ****                 }
ARM GAS  /tmp/ccF71V7c.s 			page 108


3484:Middlewares/FreeRTOS/tasks.c **** 
3485:Middlewares/FreeRTOS/tasks.c ****                 #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_PREEMPTION == 1 ) )
3486:Middlewares/FreeRTOS/tasks.c ****                 {
3487:Middlewares/FreeRTOS/tasks.c ****                     prvYieldForTask( pxTCB );
3488:Middlewares/FreeRTOS/tasks.c **** 
3489:Middlewares/FreeRTOS/tasks.c ****                     if( xYieldPendings[ portGET_CORE_ID() ] != pdFALSE )
3490:Middlewares/FreeRTOS/tasks.c ****                     {
3491:Middlewares/FreeRTOS/tasks.c ****                         xYieldRequired = pdTRUE;
3492:Middlewares/FreeRTOS/tasks.c ****                     }
3493:Middlewares/FreeRTOS/tasks.c ****                 }
3494:Middlewares/FreeRTOS/tasks.c ****                 #endif /* #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_PREEMPTION == 1 ) ) */
3495:Middlewares/FreeRTOS/tasks.c ****             }
3496:Middlewares/FreeRTOS/tasks.c ****             else
3497:Middlewares/FreeRTOS/tasks.c ****             {
3498:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
3499:Middlewares/FreeRTOS/tasks.c ****             }
3500:Middlewares/FreeRTOS/tasks.c ****         }
3501:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL_FROM_ISR( uxSavedInterruptStatus );
3502:Middlewares/FreeRTOS/tasks.c **** 
3503:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskResumeFromISR( xYieldRequired );
3504:Middlewares/FreeRTOS/tasks.c **** 
3505:Middlewares/FreeRTOS/tasks.c ****         return xYieldRequired;
 2396              		.loc 1 3505 16
 2397 0100 7B6A     		ldr	r3, [r7, #36]
3506:Middlewares/FreeRTOS/tasks.c ****     }
 2398              		.loc 1 3506 5
 2399 0102 1846     		mov	r0, r3
 2400 0104 2837     		adds	r7, r7, #40
 2401              		.cfi_def_cfa_offset 8
 2402 0106 BD46     		mov	sp, r7
 2403              		.cfi_def_cfa_register 13
 2404              		@ sp needed
 2405 0108 80BD     		pop	{r7, pc}
 2406              	.L148:
 2407 010a 00BF     		.align	2
 2408              	.L147:
 2409 010c 00000000 		.word	uxSchedulerSuspended
 2410 0110 00000000 		.word	pxCurrentTCB
 2411 0114 00000000 		.word	xYieldPendings
 2412 0118 00000000 		.word	uxTopReadyPriority
 2413 011c 00000000 		.word	pxReadyTasksLists
 2414 0120 00000000 		.word	xPendingReadyList
 2415              		.cfi_endproc
 2416              	.LFE23:
 2418              		.section	.rodata
 2419              		.align	2
 2420              	.LC0:
 2421 0000 49444C45 		.ascii	"IDLE\000"
 2421      00
 2422              		.section	.text.prvCreateIdleTasks,"ax",%progbits
 2423              		.align	1
 2424              		.syntax unified
 2425              		.thumb
 2426              		.thumb_func
 2428              	prvCreateIdleTasks:
 2429              	.LFB24:
3507:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 109


3508:Middlewares/FreeRTOS/tasks.c **** #endif /* ( ( INCLUDE_xTaskResumeFromISR == 1 ) && ( INCLUDE_vTaskSuspend == 1 ) ) */
3509:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
3510:Middlewares/FreeRTOS/tasks.c **** 
3511:Middlewares/FreeRTOS/tasks.c **** static BaseType_t prvCreateIdleTasks( void )
3512:Middlewares/FreeRTOS/tasks.c **** {
 2430              		.loc 1 3512 1
 2431              		.cfi_startproc
 2432              		@ args = 0, pretend = 0, frame = 32
 2433              		@ frame_needed = 1, uses_anonymous_args = 0
 2434 0000 80B5     		push	{r7, lr}
 2435              		.cfi_def_cfa_offset 8
 2436              		.cfi_offset 7, -8
 2437              		.cfi_offset 14, -4
 2438 0002 8AB0     		sub	sp, sp, #40
 2439              		.cfi_def_cfa_offset 48
 2440 0004 02AF     		add	r7, sp, #8
 2441              		.cfi_def_cfa 7, 40
3513:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xReturn = pdPASS;
 2442              		.loc 1 3513 16
 2443 0006 0123     		movs	r3, #1
 2444 0008 FB61     		str	r3, [r7, #28]
3514:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xCoreID;
3515:Middlewares/FreeRTOS/tasks.c ****     char cIdleName[ configMAX_TASK_NAME_LEN ];
3516:Middlewares/FreeRTOS/tasks.c ****     TaskFunction_t pxIdleTaskFunction = NULL;
 2445              		.loc 1 3516 20
 2446 000a 0023     		movs	r3, #0
 2447 000c 3B61     		str	r3, [r7, #16]
3517:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xIdleTaskNameIndex;
3518:Middlewares/FreeRTOS/tasks.c **** 
3519:Middlewares/FreeRTOS/tasks.c ****     for( xIdleTaskNameIndex = ( BaseType_t ) 0; xIdleTaskNameIndex < ( BaseType_t ) configMAX_TASK_
 2448              		.loc 1 3519 29
 2449 000e 0023     		movs	r3, #0
 2450 0010 7B61     		str	r3, [r7, #20]
 2451              		.loc 1 3519 5
 2452 0012 11E0     		b	.L150
 2453              	.L153:
3520:Middlewares/FreeRTOS/tasks.c ****     {
3521:Middlewares/FreeRTOS/tasks.c ****         cIdleName[ xIdleTaskNameIndex ] = configIDLE_TASK_NAME[ xIdleTaskNameIndex ];
 2454              		.loc 1 3521 63
 2455 0014 1C4A     		ldr	r2, .L161
 2456 0016 7B69     		ldr	r3, [r7, #20]
 2457 0018 1344     		add	r3, r3, r2
 2458 001a 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2459              		.loc 1 3521 41
 2460 001c 3A46     		mov	r2, r7
 2461 001e 7B69     		ldr	r3, [r7, #20]
 2462 0020 1344     		add	r3, r3, r2
 2463 0022 0A46     		mov	r2, r1
 2464 0024 1A70     		strb	r2, [r3]
3522:Middlewares/FreeRTOS/tasks.c **** 
3523:Middlewares/FreeRTOS/tasks.c ****         /* Don't copy all configMAX_TASK_NAME_LEN if the string is shorter than
3524:Middlewares/FreeRTOS/tasks.c ****          * configMAX_TASK_NAME_LEN characters just in case the memory after the
3525:Middlewares/FreeRTOS/tasks.c ****          * string is not accessible (extremely unlikely). */
3526:Middlewares/FreeRTOS/tasks.c ****         if( cIdleName[ xIdleTaskNameIndex ] == ( char ) 0x00 )
 2465              		.loc 1 3526 22
 2466 0026 3A46     		mov	r2, r7
 2467 0028 7B69     		ldr	r3, [r7, #20]
ARM GAS  /tmp/ccF71V7c.s 			page 110


 2468 002a 1344     		add	r3, r3, r2
 2469 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2470              		.loc 1 3526 11
 2471 002e 002B     		cmp	r3, #0
 2472 0030 06D0     		beq	.L159
3519:Middlewares/FreeRTOS/tasks.c ****     {
 2473              		.loc 1 3519 128 discriminator 2
 2474 0032 7B69     		ldr	r3, [r7, #20]
 2475 0034 0133     		adds	r3, r3, #1
 2476 0036 7B61     		str	r3, [r7, #20]
 2477              	.L150:
3519:Middlewares/FreeRTOS/tasks.c ****     {
 2478              		.loc 1 3519 68 discriminator 1
 2479 0038 7B69     		ldr	r3, [r7, #20]
 2480 003a 0F2B     		cmp	r3, #15
 2481 003c EADD     		ble	.L153
 2482 003e 00E0     		b	.L152
 2483              	.L159:
3527:Middlewares/FreeRTOS/tasks.c ****         {
3528:Middlewares/FreeRTOS/tasks.c ****             break;
 2484              		.loc 1 3528 13
 2485 0040 00BF     		nop
 2486              	.L152:
3529:Middlewares/FreeRTOS/tasks.c ****         }
3530:Middlewares/FreeRTOS/tasks.c ****         else
3531:Middlewares/FreeRTOS/tasks.c ****         {
3532:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
3533:Middlewares/FreeRTOS/tasks.c ****         }
3534:Middlewares/FreeRTOS/tasks.c ****     }
3535:Middlewares/FreeRTOS/tasks.c **** 
3536:Middlewares/FreeRTOS/tasks.c ****     /* Add each idle task at the lowest priority. */
3537:Middlewares/FreeRTOS/tasks.c ****     for( xCoreID = ( BaseType_t ) 0; xCoreID < ( BaseType_t ) configNUMBER_OF_CORES; xCoreID++ )
 2487              		.loc 1 3537 18
 2488 0042 0023     		movs	r3, #0
 2489 0044 BB61     		str	r3, [r7, #24]
 2490              		.loc 1 3537 5
 2491 0046 15E0     		b	.L154
 2492              	.L157:
3538:Middlewares/FreeRTOS/tasks.c ****     {
3539:Middlewares/FreeRTOS/tasks.c ****         #if ( configNUMBER_OF_CORES == 1 )
3540:Middlewares/FreeRTOS/tasks.c ****         {
3541:Middlewares/FreeRTOS/tasks.c ****             pxIdleTaskFunction = prvIdleTask;
 2493              		.loc 1 3541 32
 2494 0048 104B     		ldr	r3, .L161+4
 2495 004a 3B61     		str	r3, [r7, #16]
3542:Middlewares/FreeRTOS/tasks.c ****         }
3543:Middlewares/FreeRTOS/tasks.c ****         #else /* #if (  configNUMBER_OF_CORES == 1 ) */
3544:Middlewares/FreeRTOS/tasks.c ****         {
3545:Middlewares/FreeRTOS/tasks.c ****             /* In the FreeRTOS SMP, configNUMBER_OF_CORES - 1 passive idle tasks
3546:Middlewares/FreeRTOS/tasks.c ****              * are also created to ensure that each core has an idle task to
3547:Middlewares/FreeRTOS/tasks.c ****              * run when no other task is available to run. */
3548:Middlewares/FreeRTOS/tasks.c ****             if( xCoreID == 0 )
3549:Middlewares/FreeRTOS/tasks.c ****             {
3550:Middlewares/FreeRTOS/tasks.c ****                 pxIdleTaskFunction = prvIdleTask;
3551:Middlewares/FreeRTOS/tasks.c ****             }
3552:Middlewares/FreeRTOS/tasks.c ****             else
3553:Middlewares/FreeRTOS/tasks.c ****             {
ARM GAS  /tmp/ccF71V7c.s 			page 111


3554:Middlewares/FreeRTOS/tasks.c ****                 pxIdleTaskFunction = prvPassiveIdleTask;
3555:Middlewares/FreeRTOS/tasks.c ****             }
3556:Middlewares/FreeRTOS/tasks.c ****         }
3557:Middlewares/FreeRTOS/tasks.c ****         #endif /* #if (  configNUMBER_OF_CORES == 1 ) */
3558:Middlewares/FreeRTOS/tasks.c **** 
3559:Middlewares/FreeRTOS/tasks.c ****         /* Update the idle task name with suffix to differentiate the idle tasks.
3560:Middlewares/FreeRTOS/tasks.c ****          * This function is not required in single core FreeRTOS since there is
3561:Middlewares/FreeRTOS/tasks.c ****          * only one idle task. */
3562:Middlewares/FreeRTOS/tasks.c ****         #if ( configNUMBER_OF_CORES > 1 )
3563:Middlewares/FreeRTOS/tasks.c ****         {
3564:Middlewares/FreeRTOS/tasks.c ****             /* Append the idle task number to the end of the name if there is space. */
3565:Middlewares/FreeRTOS/tasks.c ****             if( xIdleTaskNameIndex < ( BaseType_t ) configMAX_TASK_NAME_LEN )
3566:Middlewares/FreeRTOS/tasks.c ****             {
3567:Middlewares/FreeRTOS/tasks.c ****                 cIdleName[ xIdleTaskNameIndex ] = ( char ) ( xCoreID + '0' );
3568:Middlewares/FreeRTOS/tasks.c **** 
3569:Middlewares/FreeRTOS/tasks.c ****                 /* And append a null character if there is space. */
3570:Middlewares/FreeRTOS/tasks.c ****                 if( ( xIdleTaskNameIndex + 1 ) < ( BaseType_t ) configMAX_TASK_NAME_LEN )
3571:Middlewares/FreeRTOS/tasks.c ****                 {
3572:Middlewares/FreeRTOS/tasks.c ****                     cIdleName[ xIdleTaskNameIndex + 1 ] = '\0';
3573:Middlewares/FreeRTOS/tasks.c ****                 }
3574:Middlewares/FreeRTOS/tasks.c ****                 else
3575:Middlewares/FreeRTOS/tasks.c ****                 {
3576:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
3577:Middlewares/FreeRTOS/tasks.c ****                 }
3578:Middlewares/FreeRTOS/tasks.c ****             }
3579:Middlewares/FreeRTOS/tasks.c ****             else
3580:Middlewares/FreeRTOS/tasks.c ****             {
3581:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
3582:Middlewares/FreeRTOS/tasks.c ****             }
3583:Middlewares/FreeRTOS/tasks.c ****         }
3584:Middlewares/FreeRTOS/tasks.c ****         #endif /* if ( configNUMBER_OF_CORES > 1 ) */
3585:Middlewares/FreeRTOS/tasks.c **** 
3586:Middlewares/FreeRTOS/tasks.c ****         #if ( configSUPPORT_STATIC_ALLOCATION == 1 )
3587:Middlewares/FreeRTOS/tasks.c ****         {
3588:Middlewares/FreeRTOS/tasks.c ****             StaticTask_t * pxIdleTaskTCBBuffer = NULL;
3589:Middlewares/FreeRTOS/tasks.c ****             StackType_t * pxIdleTaskStackBuffer = NULL;
3590:Middlewares/FreeRTOS/tasks.c ****             configSTACK_DEPTH_TYPE uxIdleTaskStackSize;
3591:Middlewares/FreeRTOS/tasks.c **** 
3592:Middlewares/FreeRTOS/tasks.c ****             /* The Idle task is created using user provided RAM - obtain the
3593:Middlewares/FreeRTOS/tasks.c ****              * address of the RAM then create the idle task. */
3594:Middlewares/FreeRTOS/tasks.c ****             #if ( configNUMBER_OF_CORES == 1 )
3595:Middlewares/FreeRTOS/tasks.c ****             {
3596:Middlewares/FreeRTOS/tasks.c ****                 vApplicationGetIdleTaskMemory( &pxIdleTaskTCBBuffer, &pxIdleTaskStackBuffer, &uxIdl
3597:Middlewares/FreeRTOS/tasks.c ****             }
3598:Middlewares/FreeRTOS/tasks.c ****             #else
3599:Middlewares/FreeRTOS/tasks.c ****             {
3600:Middlewares/FreeRTOS/tasks.c ****                 if( xCoreID == 0 )
3601:Middlewares/FreeRTOS/tasks.c ****                 {
3602:Middlewares/FreeRTOS/tasks.c ****                     vApplicationGetIdleTaskMemory( &pxIdleTaskTCBBuffer, &pxIdleTaskStackBuffer, &u
3603:Middlewares/FreeRTOS/tasks.c ****                 }
3604:Middlewares/FreeRTOS/tasks.c ****                 else
3605:Middlewares/FreeRTOS/tasks.c ****                 {
3606:Middlewares/FreeRTOS/tasks.c ****                     vApplicationGetPassiveIdleTaskMemory( &pxIdleTaskTCBBuffer, &pxIdleTaskStackBuf
3607:Middlewares/FreeRTOS/tasks.c ****                 }
3608:Middlewares/FreeRTOS/tasks.c ****             }
3609:Middlewares/FreeRTOS/tasks.c ****             #endif /* if ( configNUMBER_OF_CORES == 1 ) */
3610:Middlewares/FreeRTOS/tasks.c ****             xIdleTaskHandles[ xCoreID ] = xTaskCreateStatic( pxIdleTaskFunction,
ARM GAS  /tmp/ccF71V7c.s 			page 112


3611:Middlewares/FreeRTOS/tasks.c ****                                                              cIdleName,
3612:Middlewares/FreeRTOS/tasks.c ****                                                              uxIdleTaskStackSize,
3613:Middlewares/FreeRTOS/tasks.c ****                                                              ( void * ) NULL,
3614:Middlewares/FreeRTOS/tasks.c ****                                                              portPRIVILEGE_BIT, /* In effect ( tskI
3615:Middlewares/FreeRTOS/tasks.c ****                                                              pxIdleTaskStackBuffer,
3616:Middlewares/FreeRTOS/tasks.c ****                                                              pxIdleTaskTCBBuffer );
3617:Middlewares/FreeRTOS/tasks.c **** 
3618:Middlewares/FreeRTOS/tasks.c ****             if( xIdleTaskHandles[ xCoreID ] != NULL )
3619:Middlewares/FreeRTOS/tasks.c ****             {
3620:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pdPASS;
3621:Middlewares/FreeRTOS/tasks.c ****             }
3622:Middlewares/FreeRTOS/tasks.c ****             else
3623:Middlewares/FreeRTOS/tasks.c ****             {
3624:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pdFAIL;
3625:Middlewares/FreeRTOS/tasks.c ****             }
3626:Middlewares/FreeRTOS/tasks.c ****         }
3627:Middlewares/FreeRTOS/tasks.c ****         #else /* if ( configSUPPORT_STATIC_ALLOCATION == 1 ) */
3628:Middlewares/FreeRTOS/tasks.c ****         {
3629:Middlewares/FreeRTOS/tasks.c ****             /* The Idle task is being created using dynamically allocated RAM. */
3630:Middlewares/FreeRTOS/tasks.c ****             xReturn = xTaskCreate( pxIdleTaskFunction,
 2496              		.loc 1 3630 23
 2497 004c BB69     		ldr	r3, [r7, #24]
 2498 004e 9B00     		lsls	r3, r3, #2
 2499 0050 0F4A     		ldr	r2, .L161+8
 2500 0052 1344     		add	r3, r3, r2
 2501 0054 3946     		mov	r1, r7
 2502 0056 0193     		str	r3, [sp, #4]
 2503 0058 0023     		movs	r3, #0
 2504 005a 0093     		str	r3, [sp]
 2505 005c 0023     		movs	r3, #0
 2506 005e 8022     		movs	r2, #128
 2507 0060 3869     		ldr	r0, [r7, #16]
 2508 0062 FFF7FEFF 		bl	xTaskCreate
 2509 0066 F861     		str	r0, [r7, #28]
3631:Middlewares/FreeRTOS/tasks.c ****                                    cIdleName,
3632:Middlewares/FreeRTOS/tasks.c ****                                    configMINIMAL_STACK_SIZE,
3633:Middlewares/FreeRTOS/tasks.c ****                                    ( void * ) NULL,
3634:Middlewares/FreeRTOS/tasks.c ****                                    portPRIVILEGE_BIT, /* In effect ( tskIDLE_PRIORITY | portPRIVILE
3635:Middlewares/FreeRTOS/tasks.c ****                                    &xIdleTaskHandles[ xCoreID ] );
3636:Middlewares/FreeRTOS/tasks.c ****         }
3637:Middlewares/FreeRTOS/tasks.c ****         #endif /* configSUPPORT_STATIC_ALLOCATION */
3638:Middlewares/FreeRTOS/tasks.c **** 
3639:Middlewares/FreeRTOS/tasks.c ****         /* Break the loop if any of the idle task is failed to be created. */
3640:Middlewares/FreeRTOS/tasks.c ****         if( xReturn == pdFAIL )
 2510              		.loc 1 3640 11
 2511 0068 FB69     		ldr	r3, [r7, #28]
 2512 006a 002B     		cmp	r3, #0
 2513 006c 06D0     		beq	.L160
3537:Middlewares/FreeRTOS/tasks.c ****     {
 2514              		.loc 1 3537 93 discriminator 2
 2515 006e BB69     		ldr	r3, [r7, #24]
 2516 0070 0133     		adds	r3, r3, #1
 2517 0072 BB61     		str	r3, [r7, #24]
 2518              	.L154:
3537:Middlewares/FreeRTOS/tasks.c ****     {
 2519              		.loc 1 3537 46 discriminator 1
 2520 0074 BB69     		ldr	r3, [r7, #24]
ARM GAS  /tmp/ccF71V7c.s 			page 113


 2521 0076 002B     		cmp	r3, #0
 2522 0078 E6DD     		ble	.L157
 2523 007a 00E0     		b	.L156
 2524              	.L160:
3641:Middlewares/FreeRTOS/tasks.c ****         {
3642:Middlewares/FreeRTOS/tasks.c ****             break;
 2525              		.loc 1 3642 13
 2526 007c 00BF     		nop
 2527              	.L156:
3643:Middlewares/FreeRTOS/tasks.c ****         }
3644:Middlewares/FreeRTOS/tasks.c ****         else
3645:Middlewares/FreeRTOS/tasks.c ****         {
3646:Middlewares/FreeRTOS/tasks.c ****             #if ( configNUMBER_OF_CORES == 1 )
3647:Middlewares/FreeRTOS/tasks.c ****             {
3648:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
3649:Middlewares/FreeRTOS/tasks.c ****             }
3650:Middlewares/FreeRTOS/tasks.c ****             #else
3651:Middlewares/FreeRTOS/tasks.c ****             {
3652:Middlewares/FreeRTOS/tasks.c ****                 /* Assign idle task to each core before SMP scheduler is running. */
3653:Middlewares/FreeRTOS/tasks.c ****                 xIdleTaskHandles[ xCoreID ]->xTaskRunState = xCoreID;
3654:Middlewares/FreeRTOS/tasks.c ****                 pxCurrentTCBs[ xCoreID ] = xIdleTaskHandles[ xCoreID ];
3655:Middlewares/FreeRTOS/tasks.c ****             }
3656:Middlewares/FreeRTOS/tasks.c ****             #endif
3657:Middlewares/FreeRTOS/tasks.c ****         }
3658:Middlewares/FreeRTOS/tasks.c ****     }
3659:Middlewares/FreeRTOS/tasks.c **** 
3660:Middlewares/FreeRTOS/tasks.c ****     return xReturn;
 2528              		.loc 1 3660 12
 2529 007e FB69     		ldr	r3, [r7, #28]
3661:Middlewares/FreeRTOS/tasks.c **** }
 2530              		.loc 1 3661 1
 2531 0080 1846     		mov	r0, r3
 2532 0082 2037     		adds	r7, r7, #32
 2533              		.cfi_def_cfa_offset 8
 2534 0084 BD46     		mov	sp, r7
 2535              		.cfi_def_cfa_register 13
 2536              		@ sp needed
 2537 0086 80BD     		pop	{r7, pc}
 2538              	.L162:
 2539              		.align	2
 2540              	.L161:
 2541 0088 00000000 		.word	.LC0
 2542 008c 00000000 		.word	prvIdleTask
 2543 0090 00000000 		.word	xIdleTaskHandles
 2544              		.cfi_endproc
 2545              	.LFE24:
 2547              		.section	.text.vTaskStartScheduler,"ax",%progbits
 2548              		.align	1
 2549              		.global	vTaskStartScheduler
 2550              		.syntax unified
 2551              		.thumb
 2552              		.thumb_func
 2554              	vTaskStartScheduler:
 2555              	.LFB25:
3662:Middlewares/FreeRTOS/tasks.c **** 
3663:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
3664:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 114


3665:Middlewares/FreeRTOS/tasks.c **** void vTaskStartScheduler( void )
3666:Middlewares/FreeRTOS/tasks.c **** {
 2556              		.loc 1 3666 1
 2557              		.cfi_startproc
 2558              		@ args = 0, pretend = 0, frame = 8
 2559              		@ frame_needed = 1, uses_anonymous_args = 0
 2560 0000 80B5     		push	{r7, lr}
 2561              		.cfi_def_cfa_offset 8
 2562              		.cfi_offset 7, -8
 2563              		.cfi_offset 14, -4
 2564 0002 82B0     		sub	sp, sp, #8
 2565              		.cfi_def_cfa_offset 16
 2566 0004 00AF     		add	r7, sp, #0
 2567              		.cfi_def_cfa_register 7
3667:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xReturn;
3668:Middlewares/FreeRTOS/tasks.c **** 
3669:Middlewares/FreeRTOS/tasks.c ****     traceENTER_vTaskStartScheduler();
3670:Middlewares/FreeRTOS/tasks.c **** 
3671:Middlewares/FreeRTOS/tasks.c ****     #if ( configUSE_CORE_AFFINITY == 1 ) && ( configNUMBER_OF_CORES > 1 )
3672:Middlewares/FreeRTOS/tasks.c ****     {
3673:Middlewares/FreeRTOS/tasks.c ****         /* Sanity check that the UBaseType_t must have greater than or equal to
3674:Middlewares/FreeRTOS/tasks.c ****          * the number of bits as confNUMBER_OF_CORES. */
3675:Middlewares/FreeRTOS/tasks.c ****         configASSERT( ( sizeof( UBaseType_t ) * taskBITS_PER_BYTE ) >= configNUMBER_OF_CORES );
3676:Middlewares/FreeRTOS/tasks.c ****     }
3677:Middlewares/FreeRTOS/tasks.c ****     #endif /* #if ( configUSE_CORE_AFFINITY == 1 ) && ( configNUMBER_OF_CORES > 1 ) */
3678:Middlewares/FreeRTOS/tasks.c **** 
3679:Middlewares/FreeRTOS/tasks.c ****     xReturn = prvCreateIdleTasks();
 2568              		.loc 1 3679 15
 2569 0006 FFF7FEFF 		bl	prvCreateIdleTasks
 2570 000a 7860     		str	r0, [r7, #4]
3680:Middlewares/FreeRTOS/tasks.c **** 
3681:Middlewares/FreeRTOS/tasks.c ****     #if ( configUSE_TIMERS == 1 )
3682:Middlewares/FreeRTOS/tasks.c ****     {
3683:Middlewares/FreeRTOS/tasks.c ****         if( xReturn == pdPASS )
3684:Middlewares/FreeRTOS/tasks.c ****         {
3685:Middlewares/FreeRTOS/tasks.c ****             xReturn = xTimerCreateTimerTask();
3686:Middlewares/FreeRTOS/tasks.c ****         }
3687:Middlewares/FreeRTOS/tasks.c ****         else
3688:Middlewares/FreeRTOS/tasks.c ****         {
3689:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
3690:Middlewares/FreeRTOS/tasks.c ****         }
3691:Middlewares/FreeRTOS/tasks.c ****     }
3692:Middlewares/FreeRTOS/tasks.c ****     #endif /* configUSE_TIMERS */
3693:Middlewares/FreeRTOS/tasks.c **** 
3694:Middlewares/FreeRTOS/tasks.c ****     if( xReturn == pdPASS )
 2571              		.loc 1 3694 7
 2572 000c 7B68     		ldr	r3, [r7, #4]
 2573 000e 012B     		cmp	r3, #1
 2574 0010 15D1     		bne	.L164
 2575              	.LBB57:
 2576              	.LBB58:
 217:Middlewares/FreeRTOS/portable/portmacro.h ****     (
 2577              		.loc 2 217 5
 2578              		.syntax unified
 2579              	@ 217 "Middlewares/FreeRTOS/portable/portmacro.h" 1
 2580 0012 4FF05003 		   mov r3, #80                                              
 2581 0016 83F31188 	   msr basepri, r3                                         
ARM GAS  /tmp/ccF71V7c.s 			page 115


 2582 001a BFF36F8F 	   isb                                                     
 2583 001e BFF34F8F 	   dsb                                                     
 2584              	
 2585              	@ 0 "" 2
 2586              		.thumb
 2587              		.syntax unified
 2588 0022 3B60     		str	r3, [r7]
 225:Middlewares/FreeRTOS/portable/portmacro.h **** 
 2589              		.loc 2 225 1
 2590 0024 00BF     		nop
 2591              	.LBE58:
 2592              	.LBE57:
3695:Middlewares/FreeRTOS/tasks.c ****     {
3696:Middlewares/FreeRTOS/tasks.c ****         /* freertos_tasks_c_additions_init() should only be called if the user
3697:Middlewares/FreeRTOS/tasks.c ****          * definable macro FREERTOS_TASKS_C_ADDITIONS_INIT() is defined, as that is
3698:Middlewares/FreeRTOS/tasks.c ****          * the only macro called by the function. */
3699:Middlewares/FreeRTOS/tasks.c ****         #ifdef FREERTOS_TASKS_C_ADDITIONS_INIT
3700:Middlewares/FreeRTOS/tasks.c ****         {
3701:Middlewares/FreeRTOS/tasks.c ****             freertos_tasks_c_additions_init();
3702:Middlewares/FreeRTOS/tasks.c ****         }
3703:Middlewares/FreeRTOS/tasks.c ****         #endif
3704:Middlewares/FreeRTOS/tasks.c **** 
3705:Middlewares/FreeRTOS/tasks.c ****         /* Interrupts are turned off here, to ensure a tick does not occur
3706:Middlewares/FreeRTOS/tasks.c ****          * before or during the call to xPortStartScheduler().  The stacks of
3707:Middlewares/FreeRTOS/tasks.c ****          * the created tasks contain a status word with interrupts switched on
3708:Middlewares/FreeRTOS/tasks.c ****          * so interrupts will automatically get re-enabled when the first task
3709:Middlewares/FreeRTOS/tasks.c ****          * starts to run. */
3710:Middlewares/FreeRTOS/tasks.c ****         portDISABLE_INTERRUPTS();
3711:Middlewares/FreeRTOS/tasks.c **** 
3712:Middlewares/FreeRTOS/tasks.c ****         #if ( configUSE_C_RUNTIME_TLS_SUPPORT == 1 )
3713:Middlewares/FreeRTOS/tasks.c ****         {
3714:Middlewares/FreeRTOS/tasks.c ****             /* Switch C-Runtime's TLS Block to point to the TLS
3715:Middlewares/FreeRTOS/tasks.c ****              * block specific to the task that will run first. */
3716:Middlewares/FreeRTOS/tasks.c ****             configSET_TLS_BLOCK( pxCurrentTCB->xTLSBlock );
3717:Middlewares/FreeRTOS/tasks.c ****         }
3718:Middlewares/FreeRTOS/tasks.c ****         #endif
3719:Middlewares/FreeRTOS/tasks.c **** 
3720:Middlewares/FreeRTOS/tasks.c ****         xNextTaskUnblockTime = portMAX_DELAY;
 2593              		.loc 1 3720 30
 2594 0026 094B     		ldr	r3, .L165
 2595 0028 4FF0FF32 		mov	r2, #-1
 2596 002c 1A60     		str	r2, [r3]
3721:Middlewares/FreeRTOS/tasks.c ****         xSchedulerRunning = pdTRUE;
 2597              		.loc 1 3721 27
 2598 002e 084B     		ldr	r3, .L165+4
 2599 0030 0122     		movs	r2, #1
 2600 0032 1A60     		str	r2, [r3]
3722:Middlewares/FreeRTOS/tasks.c ****         xTickCount = ( TickType_t ) configINITIAL_TICK_COUNT;
 2601              		.loc 1 3722 20
 2602 0034 074B     		ldr	r3, .L165+8
 2603 0036 0022     		movs	r2, #0
 2604 0038 1A60     		str	r2, [r3]
3723:Middlewares/FreeRTOS/tasks.c **** 
3724:Middlewares/FreeRTOS/tasks.c ****         /* If configGENERATE_RUN_TIME_STATS is defined then the following
3725:Middlewares/FreeRTOS/tasks.c ****          * macro must be defined to configure the timer/counter used to generate
3726:Middlewares/FreeRTOS/tasks.c ****          * the run time counter time base.   NOTE:  If configGENERATE_RUN_TIME_STATS
3727:Middlewares/FreeRTOS/tasks.c ****          * is set to 0 and the following line fails to build then ensure you do not
ARM GAS  /tmp/ccF71V7c.s 			page 116


3728:Middlewares/FreeRTOS/tasks.c ****          * have portCONFIGURE_TIMER_FOR_RUN_TIME_STATS() defined in your
3729:Middlewares/FreeRTOS/tasks.c ****          * FreeRTOSConfig.h file. */
3730:Middlewares/FreeRTOS/tasks.c ****         portCONFIGURE_TIMER_FOR_RUN_TIME_STATS();
3731:Middlewares/FreeRTOS/tasks.c **** 
3732:Middlewares/FreeRTOS/tasks.c ****         traceTASK_SWITCHED_IN();
3733:Middlewares/FreeRTOS/tasks.c **** 
3734:Middlewares/FreeRTOS/tasks.c ****         /* Setting up the timer tick is hardware specific and thus in the
3735:Middlewares/FreeRTOS/tasks.c ****          * portable interface. */
3736:Middlewares/FreeRTOS/tasks.c **** 
3737:Middlewares/FreeRTOS/tasks.c ****         /* The return value for xPortStartScheduler is not required
3738:Middlewares/FreeRTOS/tasks.c ****          * hence using a void datatype. */
3739:Middlewares/FreeRTOS/tasks.c ****         ( void ) xPortStartScheduler();
 2605              		.loc 1 3739 18
 2606 003a FFF7FEFF 		bl	xPortStartScheduler
 2607              	.L164:
3740:Middlewares/FreeRTOS/tasks.c **** 
3741:Middlewares/FreeRTOS/tasks.c ****         /* In most cases, xPortStartScheduler() will not return. If it
3742:Middlewares/FreeRTOS/tasks.c ****          * returns pdTRUE then there was not enough heap memory available
3743:Middlewares/FreeRTOS/tasks.c ****          * to create either the Idle or the Timer task. If it returned
3744:Middlewares/FreeRTOS/tasks.c ****          * pdFALSE, then the application called xTaskEndScheduler().
3745:Middlewares/FreeRTOS/tasks.c ****          * Most ports don't implement xTaskEndScheduler() as there is
3746:Middlewares/FreeRTOS/tasks.c ****          * nothing to return to. */
3747:Middlewares/FreeRTOS/tasks.c ****     }
3748:Middlewares/FreeRTOS/tasks.c ****     else
3749:Middlewares/FreeRTOS/tasks.c ****     {
3750:Middlewares/FreeRTOS/tasks.c ****         /* This line will only be reached if the kernel could not be started,
3751:Middlewares/FreeRTOS/tasks.c ****          * because there was not enough FreeRTOS heap to create the idle task
3752:Middlewares/FreeRTOS/tasks.c ****          * or the timer task. */
3753:Middlewares/FreeRTOS/tasks.c ****         configASSERT( xReturn != errCOULD_NOT_ALLOCATE_REQUIRED_MEMORY );
3754:Middlewares/FreeRTOS/tasks.c ****     }
3755:Middlewares/FreeRTOS/tasks.c **** 
3756:Middlewares/FreeRTOS/tasks.c ****     /* Prevent compiler warnings if INCLUDE_xTaskGetIdleTaskHandle is set to 0,
3757:Middlewares/FreeRTOS/tasks.c ****      * meaning xIdleTaskHandles are not used anywhere else. */
3758:Middlewares/FreeRTOS/tasks.c ****     ( void ) xIdleTaskHandles;
3759:Middlewares/FreeRTOS/tasks.c **** 
3760:Middlewares/FreeRTOS/tasks.c ****     /* OpenOCD makes use of uxTopUsedPriority for thread debugging. Prevent uxTopUsedPriority
3761:Middlewares/FreeRTOS/tasks.c ****      * from getting optimized out as it is no longer used by the kernel. */
3762:Middlewares/FreeRTOS/tasks.c ****     ( void ) uxTopUsedPriority;
 2608              		.loc 1 3762 5
 2609 003e 064B     		ldr	r3, .L165+12
 2610 0040 1B68     		ldr	r3, [r3]
3763:Middlewares/FreeRTOS/tasks.c **** 
3764:Middlewares/FreeRTOS/tasks.c ****     traceRETURN_vTaskStartScheduler();
3765:Middlewares/FreeRTOS/tasks.c **** }
 2611              		.loc 1 3765 1
 2612 0042 00BF     		nop
 2613 0044 0837     		adds	r7, r7, #8
 2614              		.cfi_def_cfa_offset 8
 2615 0046 BD46     		mov	sp, r7
 2616              		.cfi_def_cfa_register 13
 2617              		@ sp needed
 2618 0048 80BD     		pop	{r7, pc}
 2619              	.L166:
 2620 004a 00BF     		.align	2
 2621              	.L165:
 2622 004c 00000000 		.word	xNextTaskUnblockTime
 2623 0050 00000000 		.word	xSchedulerRunning
ARM GAS  /tmp/ccF71V7c.s 			page 117


 2624 0054 00000000 		.word	xTickCount
 2625 0058 00000000 		.word	uxTopUsedPriority
 2626              		.cfi_endproc
 2627              	.LFE25:
 2629              		.section	.text.vTaskEndScheduler,"ax",%progbits
 2630              		.align	1
 2631              		.global	vTaskEndScheduler
 2632              		.syntax unified
 2633              		.thumb
 2634              		.thumb_func
 2636              	vTaskEndScheduler:
 2637              	.LFB26:
3766:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
3767:Middlewares/FreeRTOS/tasks.c **** 
3768:Middlewares/FreeRTOS/tasks.c **** void vTaskEndScheduler( void )
3769:Middlewares/FreeRTOS/tasks.c **** {
 2638              		.loc 1 3769 1
 2639              		.cfi_startproc
 2640              		@ args = 0, pretend = 0, frame = 8
 2641              		@ frame_needed = 1, uses_anonymous_args = 0
 2642 0000 80B5     		push	{r7, lr}
 2643              		.cfi_def_cfa_offset 8
 2644              		.cfi_offset 7, -8
 2645              		.cfi_offset 14, -4
 2646 0002 82B0     		sub	sp, sp, #8
 2647              		.cfi_def_cfa_offset 16
 2648 0004 00AF     		add	r7, sp, #0
 2649              		.cfi_def_cfa_register 7
 2650              	.LBB59:
3770:Middlewares/FreeRTOS/tasks.c ****     traceENTER_vTaskEndScheduler();
3771:Middlewares/FreeRTOS/tasks.c **** 
3772:Middlewares/FreeRTOS/tasks.c ****     #if ( INCLUDE_vTaskDelete == 1 )
3773:Middlewares/FreeRTOS/tasks.c ****     {
3774:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xCoreID;
3775:Middlewares/FreeRTOS/tasks.c **** 
3776:Middlewares/FreeRTOS/tasks.c ****         #if ( configUSE_TIMERS == 1 )
3777:Middlewares/FreeRTOS/tasks.c ****         {
3778:Middlewares/FreeRTOS/tasks.c ****             /* Delete the timer task created by the kernel. */
3779:Middlewares/FreeRTOS/tasks.c ****             vTaskDelete( xTimerGetTimerDaemonTaskHandle() );
3780:Middlewares/FreeRTOS/tasks.c ****         }
3781:Middlewares/FreeRTOS/tasks.c ****         #endif /* #if ( configUSE_TIMERS == 1 ) */
3782:Middlewares/FreeRTOS/tasks.c **** 
3783:Middlewares/FreeRTOS/tasks.c ****         /* Delete Idle tasks created by the kernel.*/
3784:Middlewares/FreeRTOS/tasks.c ****         for( xCoreID = 0; xCoreID < ( BaseType_t ) configNUMBER_OF_CORES; xCoreID++ )
 2651              		.loc 1 3784 22
 2652 0006 0023     		movs	r3, #0
 2653 0008 7B60     		str	r3, [r7, #4]
 2654              		.loc 1 3784 9
 2655 000a 09E0     		b	.L168
 2656              	.L169:
3785:Middlewares/FreeRTOS/tasks.c ****         {
3786:Middlewares/FreeRTOS/tasks.c ****             vTaskDelete( xIdleTaskHandles[ xCoreID ] );
 2657              		.loc 1 3786 13
 2658 000c 104A     		ldr	r2, .L170
 2659 000e 7B68     		ldr	r3, [r7, #4]
 2660 0010 52F82330 		ldr	r3, [r2, r3, lsl #2]
 2661 0014 1846     		mov	r0, r3
ARM GAS  /tmp/ccF71V7c.s 			page 118


 2662 0016 FFF7FEFF 		bl	vTaskDelete
3784:Middlewares/FreeRTOS/tasks.c ****         {
 2663              		.loc 1 3784 82 discriminator 3
 2664 001a 7B68     		ldr	r3, [r7, #4]
 2665 001c 0133     		adds	r3, r3, #1
 2666 001e 7B60     		str	r3, [r7, #4]
 2667              	.L168:
3784:Middlewares/FreeRTOS/tasks.c ****         {
 2668              		.loc 1 3784 35 discriminator 1
 2669 0020 7B68     		ldr	r3, [r7, #4]
 2670 0022 002B     		cmp	r3, #0
 2671 0024 F2DD     		ble	.L169
3787:Middlewares/FreeRTOS/tasks.c ****         }
3788:Middlewares/FreeRTOS/tasks.c **** 
3789:Middlewares/FreeRTOS/tasks.c ****         /* Idle task is responsible for reclaiming the resources of the tasks in
3790:Middlewares/FreeRTOS/tasks.c ****          * xTasksWaitingTermination list. Since the idle task is now deleted and
3791:Middlewares/FreeRTOS/tasks.c ****          * no longer going to run, we need to reclaim resources of all the tasks
3792:Middlewares/FreeRTOS/tasks.c ****          * in the xTasksWaitingTermination list. */
3793:Middlewares/FreeRTOS/tasks.c ****         prvCheckTasksWaitingTermination();
 2672              		.loc 1 3793 9
 2673 0026 FFF7FEFF 		bl	prvCheckTasksWaitingTermination
 2674              	.LBE59:
 2675              	.LBB60:
 2676              	.LBB61:
 217:Middlewares/FreeRTOS/portable/portmacro.h ****     (
 2677              		.loc 2 217 5
 2678              		.syntax unified
 2679              	@ 217 "Middlewares/FreeRTOS/portable/portmacro.h" 1
 2680 002a 4FF05003 		   mov r3, #80                                              
 2681 002e 83F31188 	   msr basepri, r3                                         
 2682 0032 BFF36F8F 	   isb                                                     
 2683 0036 BFF34F8F 	   dsb                                                     
 2684              	
 2685              	@ 0 "" 2
 2686              		.thumb
 2687              		.syntax unified
 2688 003a 3B60     		str	r3, [r7]
 225:Middlewares/FreeRTOS/portable/portmacro.h **** 
 2689              		.loc 2 225 1
 2690 003c 00BF     		nop
 2691              	.LBE61:
 2692              	.LBE60:
3794:Middlewares/FreeRTOS/tasks.c ****     }
3795:Middlewares/FreeRTOS/tasks.c ****     #endif /* #if ( INCLUDE_vTaskDelete == 1 ) */
3796:Middlewares/FreeRTOS/tasks.c **** 
3797:Middlewares/FreeRTOS/tasks.c ****     /* Stop the scheduler interrupts and call the portable scheduler end
3798:Middlewares/FreeRTOS/tasks.c ****      * routine so the original ISRs can be restored if necessary.  The port
3799:Middlewares/FreeRTOS/tasks.c ****      * layer must ensure interrupts enable  bit is left in the correct state. */
3800:Middlewares/FreeRTOS/tasks.c ****     portDISABLE_INTERRUPTS();
3801:Middlewares/FreeRTOS/tasks.c ****     xSchedulerRunning = pdFALSE;
 2693              		.loc 1 3801 23
 2694 003e 054B     		ldr	r3, .L170+4
 2695 0040 0022     		movs	r2, #0
 2696 0042 1A60     		str	r2, [r3]
3802:Middlewares/FreeRTOS/tasks.c **** 
3803:Middlewares/FreeRTOS/tasks.c ****     /* This function must be called from a task and the application is
3804:Middlewares/FreeRTOS/tasks.c ****      * responsible for deleting that task after the scheduler is stopped. */
ARM GAS  /tmp/ccF71V7c.s 			page 119


3805:Middlewares/FreeRTOS/tasks.c ****     vPortEndScheduler();
 2697              		.loc 1 3805 5
 2698 0044 FFF7FEFF 		bl	vPortEndScheduler
3806:Middlewares/FreeRTOS/tasks.c **** 
3807:Middlewares/FreeRTOS/tasks.c ****     traceRETURN_vTaskEndScheduler();
3808:Middlewares/FreeRTOS/tasks.c **** }
 2699              		.loc 1 3808 1
 2700 0048 00BF     		nop
 2701 004a 0837     		adds	r7, r7, #8
 2702              		.cfi_def_cfa_offset 8
 2703 004c BD46     		mov	sp, r7
 2704              		.cfi_def_cfa_register 13
 2705              		@ sp needed
 2706 004e 80BD     		pop	{r7, pc}
 2707              	.L171:
 2708              		.align	2
 2709              	.L170:
 2710 0050 00000000 		.word	xIdleTaskHandles
 2711 0054 00000000 		.word	xSchedulerRunning
 2712              		.cfi_endproc
 2713              	.LFE26:
 2715              		.section	.text.vTaskSuspendAll,"ax",%progbits
 2716              		.align	1
 2717              		.global	vTaskSuspendAll
 2718              		.syntax unified
 2719              		.thumb
 2720              		.thumb_func
 2722              	vTaskSuspendAll:
 2723              	.LFB27:
3809:Middlewares/FreeRTOS/tasks.c **** /*----------------------------------------------------------*/
3810:Middlewares/FreeRTOS/tasks.c **** 
3811:Middlewares/FreeRTOS/tasks.c **** void vTaskSuspendAll( void )
3812:Middlewares/FreeRTOS/tasks.c **** {
 2724              		.loc 1 3812 1
 2725              		.cfi_startproc
 2726              		@ args = 0, pretend = 0, frame = 0
 2727              		@ frame_needed = 1, uses_anonymous_args = 0
 2728              		@ link register save eliminated.
 2729 0000 80B4     		push	{r7}
 2730              		.cfi_def_cfa_offset 4
 2731              		.cfi_offset 7, -4
 2732 0002 00AF     		add	r7, sp, #0
 2733              		.cfi_def_cfa_register 7
3813:Middlewares/FreeRTOS/tasks.c ****     traceENTER_vTaskSuspendAll();
3814:Middlewares/FreeRTOS/tasks.c **** 
3815:Middlewares/FreeRTOS/tasks.c ****     #if ( configNUMBER_OF_CORES == 1 )
3816:Middlewares/FreeRTOS/tasks.c ****     {
3817:Middlewares/FreeRTOS/tasks.c ****         /* A critical section is not required as the variable is of type
3818:Middlewares/FreeRTOS/tasks.c ****          * BaseType_t.  Please read Richard Barry's reply in the following link to a
3819:Middlewares/FreeRTOS/tasks.c ****          * post in the FreeRTOS support forum before reporting this as a bug! -
3820:Middlewares/FreeRTOS/tasks.c ****          * https://goo.gl/wu4acr */
3821:Middlewares/FreeRTOS/tasks.c **** 
3822:Middlewares/FreeRTOS/tasks.c ****         /* portSOFTWARE_BARRIER() is only implemented for emulated/simulated ports that
3823:Middlewares/FreeRTOS/tasks.c ****          * do not otherwise exhibit real time behaviour. */
3824:Middlewares/FreeRTOS/tasks.c ****         portSOFTWARE_BARRIER();
3825:Middlewares/FreeRTOS/tasks.c **** 
3826:Middlewares/FreeRTOS/tasks.c ****         /* The scheduler is suspended if uxSchedulerSuspended is non-zero.  An increment
ARM GAS  /tmp/ccF71V7c.s 			page 120


3827:Middlewares/FreeRTOS/tasks.c ****          * is used to allow calls to vTaskSuspendAll() to nest. */
3828:Middlewares/FreeRTOS/tasks.c ****         uxSchedulerSuspended = ( UBaseType_t ) ( uxSchedulerSuspended + 1U );
 2734              		.loc 1 3828 32
 2735 0004 044B     		ldr	r3, .L173
 2736 0006 1B68     		ldr	r3, [r3]
 2737 0008 0133     		adds	r3, r3, #1
 2738              		.loc 1 3828 30
 2739 000a 034A     		ldr	r2, .L173
 2740 000c 1360     		str	r3, [r2]
3829:Middlewares/FreeRTOS/tasks.c **** 
3830:Middlewares/FreeRTOS/tasks.c ****         /* Enforces ordering for ports and optimised compilers that may otherwise place
3831:Middlewares/FreeRTOS/tasks.c ****          * the above increment elsewhere. */
3832:Middlewares/FreeRTOS/tasks.c ****         portMEMORY_BARRIER();
 2741              		.loc 1 3832 9
3833:Middlewares/FreeRTOS/tasks.c ****     }
3834:Middlewares/FreeRTOS/tasks.c ****     #else /* #if ( configNUMBER_OF_CORES == 1 ) */
3835:Middlewares/FreeRTOS/tasks.c ****     {
3836:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t ulState;
3837:Middlewares/FreeRTOS/tasks.c **** 
3838:Middlewares/FreeRTOS/tasks.c ****         /* This must only be called from within a task. */
3839:Middlewares/FreeRTOS/tasks.c ****         portASSERT_IF_IN_ISR();
3840:Middlewares/FreeRTOS/tasks.c **** 
3841:Middlewares/FreeRTOS/tasks.c ****         if( xSchedulerRunning != pdFALSE )
3842:Middlewares/FreeRTOS/tasks.c ****         {
3843:Middlewares/FreeRTOS/tasks.c ****             /* Writes to uxSchedulerSuspended must be protected by both the task AND ISR locks.
3844:Middlewares/FreeRTOS/tasks.c ****              * We must disable interrupts before we grab the locks in the event that this task is
3845:Middlewares/FreeRTOS/tasks.c ****              * interrupted and switches context before incrementing uxSchedulerSuspended.
3846:Middlewares/FreeRTOS/tasks.c ****              * It is safe to re-enable interrupts after releasing the ISR lock and incrementing
3847:Middlewares/FreeRTOS/tasks.c ****              * uxSchedulerSuspended since that will prevent context switches. */
3848:Middlewares/FreeRTOS/tasks.c ****             ulState = portSET_INTERRUPT_MASK();
3849:Middlewares/FreeRTOS/tasks.c **** 
3850:Middlewares/FreeRTOS/tasks.c ****             /* This must never be called from inside a critical section. */
3851:Middlewares/FreeRTOS/tasks.c ****             configASSERT( portGET_CRITICAL_NESTING_COUNT() == 0 );
3852:Middlewares/FreeRTOS/tasks.c **** 
3853:Middlewares/FreeRTOS/tasks.c ****             /* portSOFRWARE_BARRIER() is only implemented for emulated/simulated ports that
3854:Middlewares/FreeRTOS/tasks.c ****              * do not otherwise exhibit real time behaviour. */
3855:Middlewares/FreeRTOS/tasks.c ****             portSOFTWARE_BARRIER();
3856:Middlewares/FreeRTOS/tasks.c **** 
3857:Middlewares/FreeRTOS/tasks.c ****             portGET_TASK_LOCK();
3858:Middlewares/FreeRTOS/tasks.c **** 
3859:Middlewares/FreeRTOS/tasks.c ****             /* uxSchedulerSuspended is increased after prvCheckForRunStateChange. The
3860:Middlewares/FreeRTOS/tasks.c ****              * purpose is to prevent altering the variable when fromISR APIs are readying
3861:Middlewares/FreeRTOS/tasks.c ****              * it. */
3862:Middlewares/FreeRTOS/tasks.c ****             if( uxSchedulerSuspended == 0U )
3863:Middlewares/FreeRTOS/tasks.c ****             {
3864:Middlewares/FreeRTOS/tasks.c ****                 prvCheckForRunStateChange();
3865:Middlewares/FreeRTOS/tasks.c ****             }
3866:Middlewares/FreeRTOS/tasks.c ****             else
3867:Middlewares/FreeRTOS/tasks.c ****             {
3868:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
3869:Middlewares/FreeRTOS/tasks.c ****             }
3870:Middlewares/FreeRTOS/tasks.c **** 
3871:Middlewares/FreeRTOS/tasks.c ****             portGET_ISR_LOCK();
3872:Middlewares/FreeRTOS/tasks.c **** 
3873:Middlewares/FreeRTOS/tasks.c ****             /* The scheduler is suspended if uxSchedulerSuspended is non-zero. An increment
3874:Middlewares/FreeRTOS/tasks.c ****              * is used to allow calls to vTaskSuspendAll() to nest. */
3875:Middlewares/FreeRTOS/tasks.c ****             ++uxSchedulerSuspended;
ARM GAS  /tmp/ccF71V7c.s 			page 121


3876:Middlewares/FreeRTOS/tasks.c ****             portRELEASE_ISR_LOCK();
3877:Middlewares/FreeRTOS/tasks.c **** 
3878:Middlewares/FreeRTOS/tasks.c ****             portCLEAR_INTERRUPT_MASK( ulState );
3879:Middlewares/FreeRTOS/tasks.c ****         }
3880:Middlewares/FreeRTOS/tasks.c ****         else
3881:Middlewares/FreeRTOS/tasks.c ****         {
3882:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
3883:Middlewares/FreeRTOS/tasks.c ****         }
3884:Middlewares/FreeRTOS/tasks.c ****     }
3885:Middlewares/FreeRTOS/tasks.c ****     #endif /* #if ( configNUMBER_OF_CORES == 1 ) */
3886:Middlewares/FreeRTOS/tasks.c **** 
3887:Middlewares/FreeRTOS/tasks.c ****     traceRETURN_vTaskSuspendAll();
3888:Middlewares/FreeRTOS/tasks.c **** }
 2742              		.loc 1 3888 1
 2743 000e 00BF     		nop
 2744 0010 BD46     		mov	sp, r7
 2745              		.cfi_def_cfa_register 13
 2746              		@ sp needed
 2747 0012 5DF8047B 		ldr	r7, [sp], #4
 2748              		.cfi_restore 7
 2749              		.cfi_def_cfa_offset 0
 2750 0016 7047     		bx	lr
 2751              	.L174:
 2752              		.align	2
 2753              	.L173:
 2754 0018 00000000 		.word	uxSchedulerSuspended
 2755              		.cfi_endproc
 2756              	.LFE27:
 2758              		.section	.text.xTaskResumeAll,"ax",%progbits
 2759              		.align	1
 2760              		.global	xTaskResumeAll
 2761              		.syntax unified
 2762              		.thumb
 2763              		.thumb_func
 2765              	xTaskResumeAll:
 2766              	.LFB28:
3889:Middlewares/FreeRTOS/tasks.c **** 
3890:Middlewares/FreeRTOS/tasks.c **** /*----------------------------------------------------------*/
3891:Middlewares/FreeRTOS/tasks.c **** 
3892:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_TICKLESS_IDLE != 0 )
3893:Middlewares/FreeRTOS/tasks.c **** 
3894:Middlewares/FreeRTOS/tasks.c ****     static TickType_t prvGetExpectedIdleTime( void )
3895:Middlewares/FreeRTOS/tasks.c ****     {
3896:Middlewares/FreeRTOS/tasks.c ****         TickType_t xReturn;
3897:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxHigherPriorityReadyTasks = pdFALSE;
3898:Middlewares/FreeRTOS/tasks.c **** 
3899:Middlewares/FreeRTOS/tasks.c ****         /* uxHigherPriorityReadyTasks takes care of the case where
3900:Middlewares/FreeRTOS/tasks.c ****          * configUSE_PREEMPTION is 0, so there may be tasks above the idle priority
3901:Middlewares/FreeRTOS/tasks.c ****          * task that are in the Ready state, even though the idle task is
3902:Middlewares/FreeRTOS/tasks.c ****          * running. */
3903:Middlewares/FreeRTOS/tasks.c ****         #if ( configUSE_PORT_OPTIMISED_TASK_SELECTION == 0 )
3904:Middlewares/FreeRTOS/tasks.c ****         {
3905:Middlewares/FreeRTOS/tasks.c ****             if( uxTopReadyPriority > tskIDLE_PRIORITY )
3906:Middlewares/FreeRTOS/tasks.c ****             {
3907:Middlewares/FreeRTOS/tasks.c ****                 uxHigherPriorityReadyTasks = pdTRUE;
3908:Middlewares/FreeRTOS/tasks.c ****             }
3909:Middlewares/FreeRTOS/tasks.c ****         }
ARM GAS  /tmp/ccF71V7c.s 			page 122


3910:Middlewares/FreeRTOS/tasks.c ****         #else
3911:Middlewares/FreeRTOS/tasks.c ****         {
3912:Middlewares/FreeRTOS/tasks.c ****             const UBaseType_t uxLeastSignificantBit = ( UBaseType_t ) 0x01;
3913:Middlewares/FreeRTOS/tasks.c **** 
3914:Middlewares/FreeRTOS/tasks.c ****             /* When port optimised task selection is used the uxTopReadyPriority
3915:Middlewares/FreeRTOS/tasks.c ****              * variable is used as a bit map.  If bits other than the least
3916:Middlewares/FreeRTOS/tasks.c ****              * significant bit are set then there are tasks that have a priority
3917:Middlewares/FreeRTOS/tasks.c ****              * above the idle priority that are in the Ready state.  This takes
3918:Middlewares/FreeRTOS/tasks.c ****              * care of the case where the co-operative scheduler is in use. */
3919:Middlewares/FreeRTOS/tasks.c ****             if( uxTopReadyPriority > uxLeastSignificantBit )
3920:Middlewares/FreeRTOS/tasks.c ****             {
3921:Middlewares/FreeRTOS/tasks.c ****                 uxHigherPriorityReadyTasks = pdTRUE;
3922:Middlewares/FreeRTOS/tasks.c ****             }
3923:Middlewares/FreeRTOS/tasks.c ****         }
3924:Middlewares/FreeRTOS/tasks.c ****         #endif /* if ( configUSE_PORT_OPTIMISED_TASK_SELECTION == 0 ) */
3925:Middlewares/FreeRTOS/tasks.c **** 
3926:Middlewares/FreeRTOS/tasks.c ****         if( pxCurrentTCB->uxPriority > tskIDLE_PRIORITY )
3927:Middlewares/FreeRTOS/tasks.c ****         {
3928:Middlewares/FreeRTOS/tasks.c ****             xReturn = 0;
3929:Middlewares/FreeRTOS/tasks.c ****         }
3930:Middlewares/FreeRTOS/tasks.c ****         else if( listCURRENT_LIST_LENGTH( &( pxReadyTasksLists[ tskIDLE_PRIORITY ] ) ) > 1U )
3931:Middlewares/FreeRTOS/tasks.c ****         {
3932:Middlewares/FreeRTOS/tasks.c ****             /* There are other idle priority tasks in the ready state.  If
3933:Middlewares/FreeRTOS/tasks.c ****              * time slicing is used then the very next tick interrupt must be
3934:Middlewares/FreeRTOS/tasks.c ****              * processed. */
3935:Middlewares/FreeRTOS/tasks.c ****             xReturn = 0;
3936:Middlewares/FreeRTOS/tasks.c ****         }
3937:Middlewares/FreeRTOS/tasks.c ****         else if( uxHigherPriorityReadyTasks != pdFALSE )
3938:Middlewares/FreeRTOS/tasks.c ****         {
3939:Middlewares/FreeRTOS/tasks.c ****             /* There are tasks in the Ready state that have a priority above the
3940:Middlewares/FreeRTOS/tasks.c ****              * idle priority.  This path can only be reached if
3941:Middlewares/FreeRTOS/tasks.c ****              * configUSE_PREEMPTION is 0. */
3942:Middlewares/FreeRTOS/tasks.c ****             xReturn = 0;
3943:Middlewares/FreeRTOS/tasks.c ****         }
3944:Middlewares/FreeRTOS/tasks.c ****         else
3945:Middlewares/FreeRTOS/tasks.c ****         {
3946:Middlewares/FreeRTOS/tasks.c ****             xReturn = xNextTaskUnblockTime;
3947:Middlewares/FreeRTOS/tasks.c ****             xReturn -= xTickCount;
3948:Middlewares/FreeRTOS/tasks.c ****         }
3949:Middlewares/FreeRTOS/tasks.c **** 
3950:Middlewares/FreeRTOS/tasks.c ****         return xReturn;
3951:Middlewares/FreeRTOS/tasks.c ****     }
3952:Middlewares/FreeRTOS/tasks.c **** 
3953:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_TICKLESS_IDLE */
3954:Middlewares/FreeRTOS/tasks.c **** /*----------------------------------------------------------*/
3955:Middlewares/FreeRTOS/tasks.c **** 
3956:Middlewares/FreeRTOS/tasks.c **** BaseType_t xTaskResumeAll( void )
3957:Middlewares/FreeRTOS/tasks.c **** {
 2767              		.loc 1 3957 1
 2768              		.cfi_startproc
 2769              		@ args = 0, pretend = 0, frame = 32
 2770              		@ frame_needed = 1, uses_anonymous_args = 0
 2771 0000 80B5     		push	{r7, lr}
 2772              		.cfi_def_cfa_offset 8
 2773              		.cfi_offset 7, -8
 2774              		.cfi_offset 14, -4
 2775 0002 88B0     		sub	sp, sp, #32
ARM GAS  /tmp/ccF71V7c.s 			page 123


 2776              		.cfi_def_cfa_offset 40
 2777 0004 00AF     		add	r7, sp, #0
 2778              		.cfi_def_cfa_register 7
3958:Middlewares/FreeRTOS/tasks.c ****     TCB_t * pxTCB = NULL;
 2779              		.loc 1 3958 13
 2780 0006 0023     		movs	r3, #0
 2781 0008 FB61     		str	r3, [r7, #28]
3959:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xAlreadyYielded = pdFALSE;
 2782              		.loc 1 3959 16
 2783 000a 0023     		movs	r3, #0
 2784 000c BB61     		str	r3, [r7, #24]
3960:Middlewares/FreeRTOS/tasks.c **** 
3961:Middlewares/FreeRTOS/tasks.c ****     traceENTER_xTaskResumeAll();
3962:Middlewares/FreeRTOS/tasks.c **** 
3963:Middlewares/FreeRTOS/tasks.c ****     #if ( configNUMBER_OF_CORES > 1 )
3964:Middlewares/FreeRTOS/tasks.c ****         if( xSchedulerRunning != pdFALSE )
3965:Middlewares/FreeRTOS/tasks.c ****     #endif
3966:Middlewares/FreeRTOS/tasks.c ****     {
3967:Middlewares/FreeRTOS/tasks.c ****         /* It is possible that an ISR caused a task to be removed from an event
3968:Middlewares/FreeRTOS/tasks.c ****          * list while the scheduler was suspended.  If this was the case then the
3969:Middlewares/FreeRTOS/tasks.c ****          * removed task will have been added to the xPendingReadyList.  Once the
3970:Middlewares/FreeRTOS/tasks.c ****          * scheduler has been resumed it is safe to move all the pending ready
3971:Middlewares/FreeRTOS/tasks.c ****          * tasks from this list into their appropriate ready list. */
3972:Middlewares/FreeRTOS/tasks.c ****         taskENTER_CRITICAL();
 2785              		.loc 1 3972 9
 2786 000e FFF7FEFF 		bl	vPortEnterCritical
 2787              	.LBB62:
3973:Middlewares/FreeRTOS/tasks.c ****         {
3974:Middlewares/FreeRTOS/tasks.c ****             BaseType_t xCoreID;
3975:Middlewares/FreeRTOS/tasks.c ****             xCoreID = ( BaseType_t ) portGET_CORE_ID();
 2788              		.loc 1 3975 21
 2789 0012 0023     		movs	r3, #0
 2790 0014 3B61     		str	r3, [r7, #16]
3976:Middlewares/FreeRTOS/tasks.c **** 
3977:Middlewares/FreeRTOS/tasks.c ****             /* If uxSchedulerSuspended is zero then this function does not match a
3978:Middlewares/FreeRTOS/tasks.c ****              * previous call to vTaskSuspendAll(). */
3979:Middlewares/FreeRTOS/tasks.c ****             configASSERT( uxSchedulerSuspended != 0U );
3980:Middlewares/FreeRTOS/tasks.c **** 
3981:Middlewares/FreeRTOS/tasks.c ****             uxSchedulerSuspended = ( UBaseType_t ) ( uxSchedulerSuspended - 1U );
 2791              		.loc 1 3981 36
 2792 0016 6E4B     		ldr	r3, .L188
 2793 0018 1B68     		ldr	r3, [r3]
 2794 001a 013B     		subs	r3, r3, #1
 2795              		.loc 1 3981 34
 2796 001c 6C4A     		ldr	r2, .L188
 2797 001e 1360     		str	r3, [r2]
3982:Middlewares/FreeRTOS/tasks.c ****             portRELEASE_TASK_LOCK();
3983:Middlewares/FreeRTOS/tasks.c **** 
3984:Middlewares/FreeRTOS/tasks.c ****             if( uxSchedulerSuspended == ( UBaseType_t ) 0U )
 2798              		.loc 1 3984 38
 2799 0020 6B4B     		ldr	r3, .L188
 2800 0022 1B68     		ldr	r3, [r3]
 2801              		.loc 1 3984 15
 2802 0024 002B     		cmp	r3, #0
 2803 0026 40F0CB80 		bne	.L176
3985:Middlewares/FreeRTOS/tasks.c ****             {
3986:Middlewares/FreeRTOS/tasks.c ****                 if( uxCurrentNumberOfTasks > ( UBaseType_t ) 0U )
ARM GAS  /tmp/ccF71V7c.s 			page 124


 2804              		.loc 1 3986 44
 2805 002a 6A4B     		ldr	r3, .L188+4
 2806 002c 1B68     		ldr	r3, [r3]
 2807              		.loc 1 3986 19
 2808 002e 002B     		cmp	r3, #0
 2809 0030 00F0C680 		beq	.L176
3987:Middlewares/FreeRTOS/tasks.c ****                 {
3988:Middlewares/FreeRTOS/tasks.c ****                     /* Move any readied tasks from the pending list into the
3989:Middlewares/FreeRTOS/tasks.c ****                      * appropriate ready list. */
3990:Middlewares/FreeRTOS/tasks.c ****                     while( listLIST_IS_EMPTY( &xPendingReadyList ) == pdFALSE )
 2810              		.loc 1 3990 26
 2811 0034 8FE0     		b	.L177
 2812              	.L182:
3991:Middlewares/FreeRTOS/tasks.c ****                     {
3992:Middlewares/FreeRTOS/tasks.c ****                         /* MISRA Ref 11.5.3 [Void pointer assignment] */
3993:Middlewares/FreeRTOS/tasks.c ****                         /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/M
3994:Middlewares/FreeRTOS/tasks.c ****                         /* coverity[misra_c_2012_rule_11_5_violation] */
3995:Middlewares/FreeRTOS/tasks.c ****                         pxTCB = listGET_OWNER_OF_HEAD_ENTRY( ( &xPendingReadyList ) );
 2813              		.loc 1 3995 33
 2814 0036 684B     		ldr	r3, .L188+8
 2815 0038 DB68     		ldr	r3, [r3, #12]
 2816              		.loc 1 3995 31
 2817 003a DB68     		ldr	r3, [r3, #12]
 2818 003c FB61     		str	r3, [r7, #28]
 2819              	.LBB63:
3996:Middlewares/FreeRTOS/tasks.c ****                         listREMOVE_ITEM( &( pxTCB->xEventListItem ) );
 2820              		.loc 1 3996 25
 2821 003e FB69     		ldr	r3, [r7, #28]
 2822 0040 9B6A     		ldr	r3, [r3, #40]
 2823 0042 FB60     		str	r3, [r7, #12]
 2824 0044 FB69     		ldr	r3, [r7, #28]
 2825 0046 DB69     		ldr	r3, [r3, #28]
 2826 0048 FA69     		ldr	r2, [r7, #28]
 2827 004a 126A     		ldr	r2, [r2, #32]
 2828 004c 9A60     		str	r2, [r3, #8]
 2829 004e FB69     		ldr	r3, [r7, #28]
 2830 0050 1B6A     		ldr	r3, [r3, #32]
 2831 0052 FA69     		ldr	r2, [r7, #28]
 2832 0054 D269     		ldr	r2, [r2, #28]
 2833 0056 5A60     		str	r2, [r3, #4]
 2834 0058 FB68     		ldr	r3, [r7, #12]
 2835 005a 5A68     		ldr	r2, [r3, #4]
 2836 005c FB69     		ldr	r3, [r7, #28]
 2837 005e 1833     		adds	r3, r3, #24
 2838 0060 9A42     		cmp	r2, r3
 2839 0062 03D1     		bne	.L178
 2840              		.loc 1 3996 25 is_stmt 0 discriminator 1
 2841 0064 FB69     		ldr	r3, [r7, #28]
 2842 0066 1A6A     		ldr	r2, [r3, #32]
 2843 0068 FB68     		ldr	r3, [r7, #12]
 2844 006a 5A60     		str	r2, [r3, #4]
 2845              	.L178:
 2846              		.loc 1 3996 25 discriminator 3
 2847 006c FB69     		ldr	r3, [r7, #28]
 2848 006e 0022     		movs	r2, #0
 2849 0070 9A62     		str	r2, [r3, #40]
 2850 0072 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccF71V7c.s 			page 125


 2851 0074 1B68     		ldr	r3, [r3]
 2852 0076 5A1E     		subs	r2, r3, #1
 2853 0078 FB68     		ldr	r3, [r7, #12]
 2854 007a 1A60     		str	r2, [r3]
 2855              	.LBE63:
3997:Middlewares/FreeRTOS/tasks.c ****                         portMEMORY_BARRIER();
 2856              		.loc 1 3997 25 is_stmt 1
 2857              	.LBB64:
3998:Middlewares/FreeRTOS/tasks.c ****                         listREMOVE_ITEM( &( pxTCB->xStateListItem ) );
 2858              		.loc 1 3998 25
 2859 007c FB69     		ldr	r3, [r7, #28]
 2860 007e 5B69     		ldr	r3, [r3, #20]
 2861 0080 BB60     		str	r3, [r7, #8]
 2862 0082 FB69     		ldr	r3, [r7, #28]
 2863 0084 9B68     		ldr	r3, [r3, #8]
 2864 0086 FA69     		ldr	r2, [r7, #28]
 2865 0088 D268     		ldr	r2, [r2, #12]
 2866 008a 9A60     		str	r2, [r3, #8]
 2867 008c FB69     		ldr	r3, [r7, #28]
 2868 008e DB68     		ldr	r3, [r3, #12]
 2869 0090 FA69     		ldr	r2, [r7, #28]
 2870 0092 9268     		ldr	r2, [r2, #8]
 2871 0094 5A60     		str	r2, [r3, #4]
 2872 0096 BB68     		ldr	r3, [r7, #8]
 2873 0098 5A68     		ldr	r2, [r3, #4]
 2874 009a FB69     		ldr	r3, [r7, #28]
 2875 009c 0433     		adds	r3, r3, #4
 2876 009e 9A42     		cmp	r2, r3
 2877 00a0 03D1     		bne	.L179
 2878              		.loc 1 3998 25 is_stmt 0 discriminator 1
 2879 00a2 FB69     		ldr	r3, [r7, #28]
 2880 00a4 DA68     		ldr	r2, [r3, #12]
 2881 00a6 BB68     		ldr	r3, [r7, #8]
 2882 00a8 5A60     		str	r2, [r3, #4]
 2883              	.L179:
 2884              		.loc 1 3998 25 discriminator 3
 2885 00aa FB69     		ldr	r3, [r7, #28]
 2886 00ac 0022     		movs	r2, #0
 2887 00ae 5A61     		str	r2, [r3, #20]
 2888 00b0 BB68     		ldr	r3, [r7, #8]
 2889 00b2 1B68     		ldr	r3, [r3]
 2890 00b4 5A1E     		subs	r2, r3, #1
 2891 00b6 BB68     		ldr	r3, [r7, #8]
 2892 00b8 1A60     		str	r2, [r3]
 2893              	.LBE64:
3999:Middlewares/FreeRTOS/tasks.c ****                         prvAddTaskToReadyList( pxTCB );
 2894              		.loc 1 3999 25 is_stmt 1
 2895 00ba FB69     		ldr	r3, [r7, #28]
 2896 00bc DA6A     		ldr	r2, [r3, #44]
 2897 00be 474B     		ldr	r3, .L188+12
 2898 00c0 1B68     		ldr	r3, [r3]
 2899 00c2 9A42     		cmp	r2, r3
 2900 00c4 03D9     		bls	.L180
 2901              		.loc 1 3999 25 is_stmt 0 discriminator 1
 2902 00c6 FB69     		ldr	r3, [r7, #28]
 2903 00c8 DB6A     		ldr	r3, [r3, #44]
 2904 00ca 444A     		ldr	r2, .L188+12
ARM GAS  /tmp/ccF71V7c.s 			page 126


 2905 00cc 1360     		str	r3, [r2]
 2906              	.L180:
 2907              	.LBB65:
 2908              		.loc 1 3999 25 discriminator 3
 2909 00ce FB69     		ldr	r3, [r7, #28]
 2910 00d0 DA6A     		ldr	r2, [r3, #44]
 2911 00d2 4349     		ldr	r1, .L188+16
 2912 00d4 1346     		mov	r3, r2
 2913 00d6 9B00     		lsls	r3, r3, #2
 2914 00d8 1344     		add	r3, r3, r2
 2915 00da 9B00     		lsls	r3, r3, #2
 2916 00dc 0B44     		add	r3, r3, r1
 2917 00de 0433     		adds	r3, r3, #4
 2918 00e0 1B68     		ldr	r3, [r3]
 2919 00e2 7B60     		str	r3, [r7, #4]
 2920 00e4 FB69     		ldr	r3, [r7, #28]
 2921 00e6 7A68     		ldr	r2, [r7, #4]
 2922 00e8 9A60     		str	r2, [r3, #8]
 2923 00ea 7B68     		ldr	r3, [r7, #4]
 2924 00ec 9A68     		ldr	r2, [r3, #8]
 2925 00ee FB69     		ldr	r3, [r7, #28]
 2926 00f0 DA60     		str	r2, [r3, #12]
 2927 00f2 7B68     		ldr	r3, [r7, #4]
 2928 00f4 9B68     		ldr	r3, [r3, #8]
 2929 00f6 FA69     		ldr	r2, [r7, #28]
 2930 00f8 0432     		adds	r2, r2, #4
 2931 00fa 5A60     		str	r2, [r3, #4]
 2932 00fc FB69     		ldr	r3, [r7, #28]
 2933 00fe 1A1D     		adds	r2, r3, #4
 2934 0100 7B68     		ldr	r3, [r7, #4]
 2935 0102 9A60     		str	r2, [r3, #8]
 2936 0104 FB69     		ldr	r3, [r7, #28]
 2937 0106 DA6A     		ldr	r2, [r3, #44]
 2938 0108 1346     		mov	r3, r2
 2939 010a 9B00     		lsls	r3, r3, #2
 2940 010c 1344     		add	r3, r3, r2
 2941 010e 9B00     		lsls	r3, r3, #2
 2942 0110 334A     		ldr	r2, .L188+16
 2943 0112 1A44     		add	r2, r2, r3
 2944 0114 FB69     		ldr	r3, [r7, #28]
 2945 0116 5A61     		str	r2, [r3, #20]
 2946 0118 FB69     		ldr	r3, [r7, #28]
 2947 011a DA6A     		ldr	r2, [r3, #44]
 2948 011c 3049     		ldr	r1, .L188+16
 2949 011e 1346     		mov	r3, r2
 2950 0120 9B00     		lsls	r3, r3, #2
 2951 0122 1344     		add	r3, r3, r2
 2952 0124 9B00     		lsls	r3, r3, #2
 2953 0126 0B44     		add	r3, r3, r1
 2954 0128 1B68     		ldr	r3, [r3]
 2955 012a FA69     		ldr	r2, [r7, #28]
 2956 012c D26A     		ldr	r2, [r2, #44]
 2957 012e 591C     		adds	r1, r3, #1
 2958 0130 2B48     		ldr	r0, .L188+16
 2959 0132 1346     		mov	r3, r2
 2960 0134 9B00     		lsls	r3, r3, #2
 2961 0136 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccF71V7c.s 			page 127


 2962 0138 9B00     		lsls	r3, r3, #2
 2963 013a 0344     		add	r3, r3, r0
 2964 013c 1960     		str	r1, [r3]
 2965              	.LBE65:
4000:Middlewares/FreeRTOS/tasks.c **** 
4001:Middlewares/FreeRTOS/tasks.c ****                         #if ( configNUMBER_OF_CORES == 1 )
4002:Middlewares/FreeRTOS/tasks.c ****                         {
4003:Middlewares/FreeRTOS/tasks.c ****                             /* If the moved task has a priority higher than the current
4004:Middlewares/FreeRTOS/tasks.c ****                              * task then a yield must be performed. */
4005:Middlewares/FreeRTOS/tasks.c ****                             if( pxTCB->uxPriority > pxCurrentTCB->uxPriority )
 2966              		.loc 1 4005 38 is_stmt 1
 2967 013e FB69     		ldr	r3, [r7, #28]
 2968 0140 DA6A     		ldr	r2, [r3, #44]
 2969              		.loc 1 4005 65
 2970 0142 284B     		ldr	r3, .L188+20
 2971 0144 1B68     		ldr	r3, [r3]
 2972 0146 DB6A     		ldr	r3, [r3, #44]
 2973              		.loc 1 4005 31
 2974 0148 9A42     		cmp	r2, r3
 2975 014a 04D9     		bls	.L177
4006:Middlewares/FreeRTOS/tasks.c ****                             {
4007:Middlewares/FreeRTOS/tasks.c ****                                 xYieldPendings[ xCoreID ] = pdTRUE;
 2976              		.loc 1 4007 59
 2977 014c 264A     		ldr	r2, .L188+24
 2978 014e 3B69     		ldr	r3, [r7, #16]
 2979 0150 0121     		movs	r1, #1
 2980 0152 42F82310 		str	r1, [r2, r3, lsl #2]
 2981              	.L177:
3990:Middlewares/FreeRTOS/tasks.c ****                     {
 2982              		.loc 1 3990 28
 2983 0156 204B     		ldr	r3, .L188+8
 2984 0158 1B68     		ldr	r3, [r3]
3990:Middlewares/FreeRTOS/tasks.c ****                     {
 2985              		.loc 1 3990 68
 2986 015a 002B     		cmp	r3, #0
 2987 015c 7FF46BAF 		bne	.L182
4008:Middlewares/FreeRTOS/tasks.c ****                             }
4009:Middlewares/FreeRTOS/tasks.c ****                             else
4010:Middlewares/FreeRTOS/tasks.c ****                             {
4011:Middlewares/FreeRTOS/tasks.c ****                                 mtCOVERAGE_TEST_MARKER();
4012:Middlewares/FreeRTOS/tasks.c ****                             }
4013:Middlewares/FreeRTOS/tasks.c ****                         }
4014:Middlewares/FreeRTOS/tasks.c ****                         #else /* #if ( configNUMBER_OF_CORES == 1 ) */
4015:Middlewares/FreeRTOS/tasks.c ****                         {
4016:Middlewares/FreeRTOS/tasks.c ****                             /* All appropriate tasks yield at the moment a task is added to xPendin
4017:Middlewares/FreeRTOS/tasks.c ****                              * If the current core yielded then vTaskSwitchContext() has already be
4018:Middlewares/FreeRTOS/tasks.c ****                              * which sets xYieldPendings for the current core to pdTRUE. */
4019:Middlewares/FreeRTOS/tasks.c ****                         }
4020:Middlewares/FreeRTOS/tasks.c ****                         #endif /* #if ( configNUMBER_OF_CORES == 1 ) */
4021:Middlewares/FreeRTOS/tasks.c ****                     }
4022:Middlewares/FreeRTOS/tasks.c **** 
4023:Middlewares/FreeRTOS/tasks.c ****                     if( pxTCB != NULL )
 2988              		.loc 1 4023 23
 2989 0160 FB69     		ldr	r3, [r7, #28]
 2990 0162 002B     		cmp	r3, #0
 2991 0164 01D0     		beq	.L183
4024:Middlewares/FreeRTOS/tasks.c ****                     {
ARM GAS  /tmp/ccF71V7c.s 			page 128


4025:Middlewares/FreeRTOS/tasks.c ****                         /* A task was unblocked while the scheduler was suspended,
4026:Middlewares/FreeRTOS/tasks.c ****                          * which may have prevented the next unblock time from being
4027:Middlewares/FreeRTOS/tasks.c ****                          * re-calculated, in which case re-calculate it now.  Mainly
4028:Middlewares/FreeRTOS/tasks.c ****                          * important for low power tickless implementations, where
4029:Middlewares/FreeRTOS/tasks.c ****                          * this can prevent an unnecessary exit from low power
4030:Middlewares/FreeRTOS/tasks.c ****                          * state. */
4031:Middlewares/FreeRTOS/tasks.c ****                         prvResetNextTaskUnblockTime();
 2992              		.loc 1 4031 25
 2993 0166 FFF7FEFF 		bl	prvResetNextTaskUnblockTime
 2994              	.L183:
 2995              	.LBB66:
4032:Middlewares/FreeRTOS/tasks.c ****                     }
4033:Middlewares/FreeRTOS/tasks.c **** 
4034:Middlewares/FreeRTOS/tasks.c ****                     /* If any ticks occurred while the scheduler was suspended then
4035:Middlewares/FreeRTOS/tasks.c ****                      * they should be processed now.  This ensures the tick count does
4036:Middlewares/FreeRTOS/tasks.c ****                      * not  slip, and that any delayed tasks are resumed at the correct
4037:Middlewares/FreeRTOS/tasks.c ****                      * time.
4038:Middlewares/FreeRTOS/tasks.c ****                      *
4039:Middlewares/FreeRTOS/tasks.c ****                      * It should be safe to call xTaskIncrementTick here from any core
4040:Middlewares/FreeRTOS/tasks.c ****                      * since we are in a critical section and xTaskIncrementTick itself
4041:Middlewares/FreeRTOS/tasks.c ****                      * protects itself within a critical section. Suspending the scheduler
4042:Middlewares/FreeRTOS/tasks.c ****                      * from any core causes xTaskIncrementTick to increment uxPendedCounts. */
4043:Middlewares/FreeRTOS/tasks.c ****                     {
4044:Middlewares/FreeRTOS/tasks.c ****                         TickType_t xPendedCounts = xPendedTicks; /* Non-volatile copy. */
 2996              		.loc 1 4044 36
 2997 016a 204B     		ldr	r3, .L188+28
 2998 016c 1B68     		ldr	r3, [r3]
 2999 016e 7B61     		str	r3, [r7, #20]
4045:Middlewares/FreeRTOS/tasks.c **** 
4046:Middlewares/FreeRTOS/tasks.c ****                         if( xPendedCounts > ( TickType_t ) 0U )
 3000              		.loc 1 4046 27
 3001 0170 7B69     		ldr	r3, [r7, #20]
 3002 0172 002B     		cmp	r3, #0
 3003 0174 12D0     		beq	.L184
 3004              	.L186:
4047:Middlewares/FreeRTOS/tasks.c ****                         {
4048:Middlewares/FreeRTOS/tasks.c ****                             do
4049:Middlewares/FreeRTOS/tasks.c ****                             {
4050:Middlewares/FreeRTOS/tasks.c ****                                 if( xTaskIncrementTick() != pdFALSE )
 3005              		.loc 1 4050 37
 3006 0176 FFF7FEFF 		bl	xTaskIncrementTick
 3007 017a 0346     		mov	r3, r0
 3008              		.loc 1 4050 35 discriminator 1
 3009 017c 002B     		cmp	r3, #0
 3010 017e 04D0     		beq	.L185
4051:Middlewares/FreeRTOS/tasks.c ****                                 {
4052:Middlewares/FreeRTOS/tasks.c ****                                     /* Other cores are interrupted from
4053:Middlewares/FreeRTOS/tasks.c ****                                      * within xTaskIncrementTick(). */
4054:Middlewares/FreeRTOS/tasks.c ****                                     xYieldPendings[ xCoreID ] = pdTRUE;
 3011              		.loc 1 4054 63
 3012 0180 194A     		ldr	r2, .L188+24
 3013 0182 3B69     		ldr	r3, [r7, #16]
 3014 0184 0121     		movs	r1, #1
 3015 0186 42F82310 		str	r1, [r2, r3, lsl #2]
 3016              	.L185:
4055:Middlewares/FreeRTOS/tasks.c ****                                 }
4056:Middlewares/FreeRTOS/tasks.c ****                                 else
ARM GAS  /tmp/ccF71V7c.s 			page 129


4057:Middlewares/FreeRTOS/tasks.c ****                                 {
4058:Middlewares/FreeRTOS/tasks.c ****                                     mtCOVERAGE_TEST_MARKER();
4059:Middlewares/FreeRTOS/tasks.c ****                                 }
4060:Middlewares/FreeRTOS/tasks.c **** 
4061:Middlewares/FreeRTOS/tasks.c ****                                 --xPendedCounts;
 3017              		.loc 1 4061 33
 3018 018a 7B69     		ldr	r3, [r7, #20]
 3019 018c 013B     		subs	r3, r3, #1
 3020 018e 7B61     		str	r3, [r7, #20]
4062:Middlewares/FreeRTOS/tasks.c ****                             } while( xPendedCounts > ( TickType_t ) 0U );
 3021              		.loc 1 4062 52
 3022 0190 7B69     		ldr	r3, [r7, #20]
 3023 0192 002B     		cmp	r3, #0
 3024 0194 EFD1     		bne	.L186
4063:Middlewares/FreeRTOS/tasks.c **** 
4064:Middlewares/FreeRTOS/tasks.c ****                             xPendedTicks = 0;
 3025              		.loc 1 4064 42
 3026 0196 154B     		ldr	r3, .L188+28
 3027 0198 0022     		movs	r2, #0
 3028 019a 1A60     		str	r2, [r3]
 3029              	.L184:
 3030              	.LBE66:
4065:Middlewares/FreeRTOS/tasks.c ****                         }
4066:Middlewares/FreeRTOS/tasks.c ****                         else
4067:Middlewares/FreeRTOS/tasks.c ****                         {
4068:Middlewares/FreeRTOS/tasks.c ****                             mtCOVERAGE_TEST_MARKER();
4069:Middlewares/FreeRTOS/tasks.c ****                         }
4070:Middlewares/FreeRTOS/tasks.c ****                     }
4071:Middlewares/FreeRTOS/tasks.c **** 
4072:Middlewares/FreeRTOS/tasks.c ****                     if( xYieldPendings[ xCoreID ] != pdFALSE )
 3031              		.loc 1 4072 39
 3032 019c 124A     		ldr	r2, .L188+24
 3033 019e 3B69     		ldr	r3, [r7, #16]
 3034 01a0 52F82330 		ldr	r3, [r2, r3, lsl #2]
 3035              		.loc 1 4072 23
 3036 01a4 002B     		cmp	r3, #0
 3037 01a6 0BD0     		beq	.L176
4073:Middlewares/FreeRTOS/tasks.c ****                     {
4074:Middlewares/FreeRTOS/tasks.c ****                         #if ( configUSE_PREEMPTION != 0 )
4075:Middlewares/FreeRTOS/tasks.c ****                         {
4076:Middlewares/FreeRTOS/tasks.c ****                             xAlreadyYielded = pdTRUE;
 3038              		.loc 1 4076 45
 3039 01a8 0123     		movs	r3, #1
 3040 01aa BB61     		str	r3, [r7, #24]
4077:Middlewares/FreeRTOS/tasks.c ****                         }
4078:Middlewares/FreeRTOS/tasks.c ****                         #endif /* #if ( configUSE_PREEMPTION != 0 ) */
4079:Middlewares/FreeRTOS/tasks.c **** 
4080:Middlewares/FreeRTOS/tasks.c ****                         #if ( configNUMBER_OF_CORES == 1 )
4081:Middlewares/FreeRTOS/tasks.c ****                         {
4082:Middlewares/FreeRTOS/tasks.c ****                             taskYIELD_TASK_CORE_IF_USING_PREEMPTION( pxCurrentTCB );
 3041              		.loc 1 4082 29
 3042 01ac 0D4B     		ldr	r3, .L188+20
 3043 01ae 1B68     		ldr	r3, [r3]
 3044 01b0 0F4B     		ldr	r3, .L188+32
 3045 01b2 4FF08052 		mov	r2, #268435456
 3046 01b6 1A60     		str	r2, [r3]
 3047              		.syntax unified
ARM GAS  /tmp/ccF71V7c.s 			page 130


 3048              	@ 4082 "Middlewares/FreeRTOS/tasks.c" 1
 3049 01b8 BFF34F8F 		dsb
 3050              	@ 0 "" 2
 3051              	@ 4082 "Middlewares/FreeRTOS/tasks.c" 1
 3052 01bc BFF36F8F 		isb
 3053              	@ 0 "" 2
 3054              		.thumb
 3055              		.syntax unified
 3056              	.L176:
 3057              	.LBE62:
4083:Middlewares/FreeRTOS/tasks.c ****                         }
4084:Middlewares/FreeRTOS/tasks.c ****                         #endif /* #if ( configNUMBER_OF_CORES == 1 ) */
4085:Middlewares/FreeRTOS/tasks.c ****                     }
4086:Middlewares/FreeRTOS/tasks.c ****                     else
4087:Middlewares/FreeRTOS/tasks.c ****                     {
4088:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
4089:Middlewares/FreeRTOS/tasks.c ****                     }
4090:Middlewares/FreeRTOS/tasks.c ****                 }
4091:Middlewares/FreeRTOS/tasks.c ****             }
4092:Middlewares/FreeRTOS/tasks.c ****             else
4093:Middlewares/FreeRTOS/tasks.c ****             {
4094:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
4095:Middlewares/FreeRTOS/tasks.c ****             }
4096:Middlewares/FreeRTOS/tasks.c ****         }
4097:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL();
 3058              		.loc 1 4097 9
 3059 01c0 FFF7FEFF 		bl	vPortExitCritical
4098:Middlewares/FreeRTOS/tasks.c ****     }
4099:Middlewares/FreeRTOS/tasks.c **** 
4100:Middlewares/FreeRTOS/tasks.c ****     traceRETURN_xTaskResumeAll( xAlreadyYielded );
4101:Middlewares/FreeRTOS/tasks.c **** 
4102:Middlewares/FreeRTOS/tasks.c ****     return xAlreadyYielded;
 3060              		.loc 1 4102 12
 3061 01c4 BB69     		ldr	r3, [r7, #24]
4103:Middlewares/FreeRTOS/tasks.c **** }
 3062              		.loc 1 4103 1
 3063 01c6 1846     		mov	r0, r3
 3064 01c8 2037     		adds	r7, r7, #32
 3065              		.cfi_def_cfa_offset 8
 3066 01ca BD46     		mov	sp, r7
 3067              		.cfi_def_cfa_register 13
 3068              		@ sp needed
 3069 01cc 80BD     		pop	{r7, pc}
 3070              	.L189:
 3071 01ce 00BF     		.align	2
 3072              	.L188:
 3073 01d0 00000000 		.word	uxSchedulerSuspended
 3074 01d4 00000000 		.word	uxCurrentNumberOfTasks
 3075 01d8 00000000 		.word	xPendingReadyList
 3076 01dc 00000000 		.word	uxTopReadyPriority
 3077 01e0 00000000 		.word	pxReadyTasksLists
 3078 01e4 00000000 		.word	pxCurrentTCB
 3079 01e8 00000000 		.word	xYieldPendings
 3080 01ec 00000000 		.word	xPendedTicks
 3081 01f0 04ED00E0 		.word	-536810236
 3082              		.cfi_endproc
 3083              	.LFE28:
ARM GAS  /tmp/ccF71V7c.s 			page 131


 3085              		.section	.text.xTaskGetTickCount,"ax",%progbits
 3086              		.align	1
 3087              		.global	xTaskGetTickCount
 3088              		.syntax unified
 3089              		.thumb
 3090              		.thumb_func
 3092              	xTaskGetTickCount:
 3093              	.LFB29:
4104:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
4105:Middlewares/FreeRTOS/tasks.c **** 
4106:Middlewares/FreeRTOS/tasks.c **** TickType_t xTaskGetTickCount( void )
4107:Middlewares/FreeRTOS/tasks.c **** {
 3094              		.loc 1 4107 1
 3095              		.cfi_startproc
 3096              		@ args = 0, pretend = 0, frame = 8
 3097              		@ frame_needed = 1, uses_anonymous_args = 0
 3098              		@ link register save eliminated.
 3099 0000 80B4     		push	{r7}
 3100              		.cfi_def_cfa_offset 4
 3101              		.cfi_offset 7, -4
 3102 0002 83B0     		sub	sp, sp, #12
 3103              		.cfi_def_cfa_offset 16
 3104 0004 00AF     		add	r7, sp, #0
 3105              		.cfi_def_cfa_register 7
4108:Middlewares/FreeRTOS/tasks.c ****     TickType_t xTicks;
4109:Middlewares/FreeRTOS/tasks.c **** 
4110:Middlewares/FreeRTOS/tasks.c ****     traceENTER_xTaskGetTickCount();
4111:Middlewares/FreeRTOS/tasks.c **** 
4112:Middlewares/FreeRTOS/tasks.c ****     /* Critical section required if running on a 16 bit processor. */
4113:Middlewares/FreeRTOS/tasks.c ****     portTICK_TYPE_ENTER_CRITICAL();
4114:Middlewares/FreeRTOS/tasks.c ****     {
4115:Middlewares/FreeRTOS/tasks.c ****         xTicks = xTickCount;
 3106              		.loc 1 4115 16
 3107 0006 054B     		ldr	r3, .L192
 3108 0008 1B68     		ldr	r3, [r3]
 3109 000a 7B60     		str	r3, [r7, #4]
4116:Middlewares/FreeRTOS/tasks.c ****     }
4117:Middlewares/FreeRTOS/tasks.c ****     portTICK_TYPE_EXIT_CRITICAL();
4118:Middlewares/FreeRTOS/tasks.c **** 
4119:Middlewares/FreeRTOS/tasks.c ****     traceRETURN_xTaskGetTickCount( xTicks );
4120:Middlewares/FreeRTOS/tasks.c **** 
4121:Middlewares/FreeRTOS/tasks.c ****     return xTicks;
 3110              		.loc 1 4121 12
 3111 000c 7B68     		ldr	r3, [r7, #4]
4122:Middlewares/FreeRTOS/tasks.c **** }
 3112              		.loc 1 4122 1
 3113 000e 1846     		mov	r0, r3
 3114 0010 0C37     		adds	r7, r7, #12
 3115              		.cfi_def_cfa_offset 4
 3116 0012 BD46     		mov	sp, r7
 3117              		.cfi_def_cfa_register 13
 3118              		@ sp needed
 3119 0014 5DF8047B 		ldr	r7, [sp], #4
 3120              		.cfi_restore 7
 3121              		.cfi_def_cfa_offset 0
 3122 0018 7047     		bx	lr
 3123              	.L193:
ARM GAS  /tmp/ccF71V7c.s 			page 132


 3124 001a 00BF     		.align	2
 3125              	.L192:
 3126 001c 00000000 		.word	xTickCount
 3127              		.cfi_endproc
 3128              	.LFE29:
 3130              		.section	.text.xTaskGetTickCountFromISR,"ax",%progbits
 3131              		.align	1
 3132              		.global	xTaskGetTickCountFromISR
 3133              		.syntax unified
 3134              		.thumb
 3135              		.thumb_func
 3137              	xTaskGetTickCountFromISR:
 3138              	.LFB30:
4123:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
4124:Middlewares/FreeRTOS/tasks.c **** 
4125:Middlewares/FreeRTOS/tasks.c **** TickType_t xTaskGetTickCountFromISR( void )
4126:Middlewares/FreeRTOS/tasks.c **** {
 3139              		.loc 1 4126 1
 3140              		.cfi_startproc
 3141              		@ args = 0, pretend = 0, frame = 8
 3142              		@ frame_needed = 1, uses_anonymous_args = 0
 3143              		@ link register save eliminated.
 3144 0000 80B4     		push	{r7}
 3145              		.cfi_def_cfa_offset 4
 3146              		.cfi_offset 7, -4
 3147 0002 83B0     		sub	sp, sp, #12
 3148              		.cfi_def_cfa_offset 16
 3149 0004 00AF     		add	r7, sp, #0
 3150              		.cfi_def_cfa_register 7
4127:Middlewares/FreeRTOS/tasks.c ****     TickType_t xReturn;
4128:Middlewares/FreeRTOS/tasks.c ****     UBaseType_t uxSavedInterruptStatus;
4129:Middlewares/FreeRTOS/tasks.c **** 
4130:Middlewares/FreeRTOS/tasks.c ****     traceENTER_xTaskGetTickCountFromISR();
4131:Middlewares/FreeRTOS/tasks.c **** 
4132:Middlewares/FreeRTOS/tasks.c ****     /* RTOS ports that support interrupt nesting have the concept of a maximum
4133:Middlewares/FreeRTOS/tasks.c ****      * system call (or maximum API call) interrupt priority.  Interrupts that are
4134:Middlewares/FreeRTOS/tasks.c ****      * above the maximum system call priority are kept permanently enabled, even
4135:Middlewares/FreeRTOS/tasks.c ****      * when the RTOS kernel is in a critical section, but cannot make any calls to
4136:Middlewares/FreeRTOS/tasks.c ****      * FreeRTOS API functions.  If configASSERT() is defined in FreeRTOSConfig.h
4137:Middlewares/FreeRTOS/tasks.c ****      * then portASSERT_IF_INTERRUPT_PRIORITY_INVALID() will result in an assertion
4138:Middlewares/FreeRTOS/tasks.c ****      * failure if a FreeRTOS API function is called from an interrupt that has been
4139:Middlewares/FreeRTOS/tasks.c ****      * assigned a priority above the configured maximum system call priority.
4140:Middlewares/FreeRTOS/tasks.c ****      * Only FreeRTOS functions that end in FromISR can be called from interrupts
4141:Middlewares/FreeRTOS/tasks.c ****      * that have been assigned a priority at or (logically) below the maximum
4142:Middlewares/FreeRTOS/tasks.c ****      * system call  interrupt priority.  FreeRTOS maintains a separate interrupt
4143:Middlewares/FreeRTOS/tasks.c ****      * safe API to ensure interrupt entry is as fast and as simple as possible.
4144:Middlewares/FreeRTOS/tasks.c ****      * More information (albeit Cortex-M specific) is provided on the following
4145:Middlewares/FreeRTOS/tasks.c ****      * link: https://www.FreeRTOS.org/RTOS-Cortex-M3-M4.html */
4146:Middlewares/FreeRTOS/tasks.c ****     portASSERT_IF_INTERRUPT_PRIORITY_INVALID();
4147:Middlewares/FreeRTOS/tasks.c **** 
4148:Middlewares/FreeRTOS/tasks.c ****     uxSavedInterruptStatus = portTICK_TYPE_SET_INTERRUPT_MASK_FROM_ISR();
 3151              		.loc 1 4148 28
 3152 0006 0023     		movs	r3, #0
 3153 0008 7B60     		str	r3, [r7, #4]
4149:Middlewares/FreeRTOS/tasks.c ****     {
4150:Middlewares/FreeRTOS/tasks.c ****         xReturn = xTickCount;
 3154              		.loc 1 4150 17
ARM GAS  /tmp/ccF71V7c.s 			page 133


 3155 000a 054B     		ldr	r3, .L196
 3156 000c 1B68     		ldr	r3, [r3]
 3157 000e 3B60     		str	r3, [r7]
4151:Middlewares/FreeRTOS/tasks.c ****     }
4152:Middlewares/FreeRTOS/tasks.c ****     portTICK_TYPE_CLEAR_INTERRUPT_MASK_FROM_ISR( uxSavedInterruptStatus );
4153:Middlewares/FreeRTOS/tasks.c **** 
4154:Middlewares/FreeRTOS/tasks.c ****     traceRETURN_xTaskGetTickCountFromISR( xReturn );
4155:Middlewares/FreeRTOS/tasks.c **** 
4156:Middlewares/FreeRTOS/tasks.c ****     return xReturn;
 3158              		.loc 1 4156 12
 3159 0010 3B68     		ldr	r3, [r7]
4157:Middlewares/FreeRTOS/tasks.c **** }
 3160              		.loc 1 4157 1
 3161 0012 1846     		mov	r0, r3
 3162 0014 0C37     		adds	r7, r7, #12
 3163              		.cfi_def_cfa_offset 4
 3164 0016 BD46     		mov	sp, r7
 3165              		.cfi_def_cfa_register 13
 3166              		@ sp needed
 3167 0018 5DF8047B 		ldr	r7, [sp], #4
 3168              		.cfi_restore 7
 3169              		.cfi_def_cfa_offset 0
 3170 001c 7047     		bx	lr
 3171              	.L197:
 3172 001e 00BF     		.align	2
 3173              	.L196:
 3174 0020 00000000 		.word	xTickCount
 3175              		.cfi_endproc
 3176              	.LFE30:
 3178              		.section	.text.uxTaskGetNumberOfTasks,"ax",%progbits
 3179              		.align	1
 3180              		.global	uxTaskGetNumberOfTasks
 3181              		.syntax unified
 3182              		.thumb
 3183              		.thumb_func
 3185              	uxTaskGetNumberOfTasks:
 3186              	.LFB31:
4158:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
4159:Middlewares/FreeRTOS/tasks.c **** 
4160:Middlewares/FreeRTOS/tasks.c **** UBaseType_t uxTaskGetNumberOfTasks( void )
4161:Middlewares/FreeRTOS/tasks.c **** {
 3187              		.loc 1 4161 1
 3188              		.cfi_startproc
 3189              		@ args = 0, pretend = 0, frame = 0
 3190              		@ frame_needed = 1, uses_anonymous_args = 0
 3191              		@ link register save eliminated.
 3192 0000 80B4     		push	{r7}
 3193              		.cfi_def_cfa_offset 4
 3194              		.cfi_offset 7, -4
 3195 0002 00AF     		add	r7, sp, #0
 3196              		.cfi_def_cfa_register 7
4162:Middlewares/FreeRTOS/tasks.c ****     traceENTER_uxTaskGetNumberOfTasks();
4163:Middlewares/FreeRTOS/tasks.c **** 
4164:Middlewares/FreeRTOS/tasks.c ****     /* A critical section is not required because the variables are of type
4165:Middlewares/FreeRTOS/tasks.c ****      * BaseType_t. */
4166:Middlewares/FreeRTOS/tasks.c ****     traceRETURN_uxTaskGetNumberOfTasks( uxCurrentNumberOfTasks );
4167:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 134


4168:Middlewares/FreeRTOS/tasks.c ****     return uxCurrentNumberOfTasks;
 3197              		.loc 1 4168 12
 3198 0004 034B     		ldr	r3, .L200
 3199 0006 1B68     		ldr	r3, [r3]
4169:Middlewares/FreeRTOS/tasks.c **** }
 3200              		.loc 1 4169 1
 3201 0008 1846     		mov	r0, r3
 3202 000a BD46     		mov	sp, r7
 3203              		.cfi_def_cfa_register 13
 3204              		@ sp needed
 3205 000c 5DF8047B 		ldr	r7, [sp], #4
 3206              		.cfi_restore 7
 3207              		.cfi_def_cfa_offset 0
 3208 0010 7047     		bx	lr
 3209              	.L201:
 3210 0012 00BF     		.align	2
 3211              	.L200:
 3212 0014 00000000 		.word	uxCurrentNumberOfTasks
 3213              		.cfi_endproc
 3214              	.LFE31:
 3216              		.section	.text.pcTaskGetName,"ax",%progbits
 3217              		.align	1
 3218              		.global	pcTaskGetName
 3219              		.syntax unified
 3220              		.thumb
 3221              		.thumb_func
 3223              	pcTaskGetName:
 3224              	.LFB32:
4170:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
4171:Middlewares/FreeRTOS/tasks.c **** 
4172:Middlewares/FreeRTOS/tasks.c **** char * pcTaskGetName( TaskHandle_t xTaskToQuery )
4173:Middlewares/FreeRTOS/tasks.c **** {
 3225              		.loc 1 4173 1
 3226              		.cfi_startproc
 3227              		@ args = 0, pretend = 0, frame = 16
 3228              		@ frame_needed = 1, uses_anonymous_args = 0
 3229              		@ link register save eliminated.
 3230 0000 80B4     		push	{r7}
 3231              		.cfi_def_cfa_offset 4
 3232              		.cfi_offset 7, -4
 3233 0002 85B0     		sub	sp, sp, #20
 3234              		.cfi_def_cfa_offset 24
 3235 0004 00AF     		add	r7, sp, #0
 3236              		.cfi_def_cfa_register 7
 3237 0006 7860     		str	r0, [r7, #4]
4174:Middlewares/FreeRTOS/tasks.c ****     TCB_t * pxTCB;
4175:Middlewares/FreeRTOS/tasks.c **** 
4176:Middlewares/FreeRTOS/tasks.c ****     traceENTER_pcTaskGetName( xTaskToQuery );
4177:Middlewares/FreeRTOS/tasks.c **** 
4178:Middlewares/FreeRTOS/tasks.c ****     /* If null is passed in here then the name of the calling task is being
4179:Middlewares/FreeRTOS/tasks.c ****      * queried. */
4180:Middlewares/FreeRTOS/tasks.c ****     pxTCB = prvGetTCBFromHandle( xTaskToQuery );
 3238              		.loc 1 4180 13
 3239 0008 7B68     		ldr	r3, [r7, #4]
 3240 000a 002B     		cmp	r3, #0
 3241 000c 02D1     		bne	.L203
 3242              		.loc 1 4180 13 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccF71V7c.s 			page 135


 3243 000e 064B     		ldr	r3, .L206
 3244 0010 1B68     		ldr	r3, [r3]
 3245 0012 00E0     		b	.L204
 3246              	.L203:
 3247              		.loc 1 4180 13 discriminator 2
 3248 0014 7B68     		ldr	r3, [r7, #4]
 3249              	.L204:
 3250              		.loc 1 4180 11 is_stmt 1 discriminator 4
 3251 0016 FB60     		str	r3, [r7, #12]
4181:Middlewares/FreeRTOS/tasks.c ****     configASSERT( pxTCB );
4182:Middlewares/FreeRTOS/tasks.c **** 
4183:Middlewares/FreeRTOS/tasks.c ****     traceRETURN_pcTaskGetName( &( pxTCB->pcTaskName[ 0 ] ) );
4184:Middlewares/FreeRTOS/tasks.c **** 
4185:Middlewares/FreeRTOS/tasks.c ****     return &( pxTCB->pcTaskName[ 0 ] );
 3252              		.loc 1 4185 12
 3253 0018 FB68     		ldr	r3, [r7, #12]
 3254 001a 3433     		adds	r3, r3, #52
4186:Middlewares/FreeRTOS/tasks.c **** }
 3255              		.loc 1 4186 1
 3256 001c 1846     		mov	r0, r3
 3257 001e 1437     		adds	r7, r7, #20
 3258              		.cfi_def_cfa_offset 4
 3259 0020 BD46     		mov	sp, r7
 3260              		.cfi_def_cfa_register 13
 3261              		@ sp needed
 3262 0022 5DF8047B 		ldr	r7, [sp], #4
 3263              		.cfi_restore 7
 3264              		.cfi_def_cfa_offset 0
 3265 0026 7047     		bx	lr
 3266              	.L207:
 3267              		.align	2
 3268              	.L206:
 3269 0028 00000000 		.word	pxCurrentTCB
 3270              		.cfi_endproc
 3271              	.LFE32:
 3273              		.section	.text.uxTaskGetSystemState,"ax",%progbits
 3274              		.align	1
 3275              		.global	uxTaskGetSystemState
 3276              		.syntax unified
 3277              		.thumb
 3278              		.thumb_func
 3280              	uxTaskGetSystemState:
 3281              	.LFB33:
4187:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
4188:Middlewares/FreeRTOS/tasks.c **** 
4189:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_xTaskGetHandle == 1 )
4190:Middlewares/FreeRTOS/tasks.c ****     static TCB_t * prvSearchForNameWithinSingleList( List_t * pxList,
4191:Middlewares/FreeRTOS/tasks.c ****                                                      const char pcNameToQuery[] )
4192:Middlewares/FreeRTOS/tasks.c ****     {
4193:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxReturn = NULL;
4194:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB = NULL;
4195:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t x;
4196:Middlewares/FreeRTOS/tasks.c ****         char cNextChar;
4197:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xBreakLoop;
4198:Middlewares/FreeRTOS/tasks.c ****         const ListItem_t * pxEndMarker = listGET_END_MARKER( pxList );
4199:Middlewares/FreeRTOS/tasks.c ****         ListItem_t * pxIterator;
4200:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 136


4201:Middlewares/FreeRTOS/tasks.c ****         /* This function is called with the scheduler suspended. */
4202:Middlewares/FreeRTOS/tasks.c **** 
4203:Middlewares/FreeRTOS/tasks.c ****         if( listCURRENT_LIST_LENGTH( pxList ) > ( UBaseType_t ) 0 )
4204:Middlewares/FreeRTOS/tasks.c ****         {
4205:Middlewares/FreeRTOS/tasks.c ****             for( pxIterator = listGET_HEAD_ENTRY( pxList ); pxIterator != pxEndMarker; pxIterator =
4206:Middlewares/FreeRTOS/tasks.c ****             {
4207:Middlewares/FreeRTOS/tasks.c ****                 /* MISRA Ref 11.5.3 [Void pointer assignment] */
4208:Middlewares/FreeRTOS/tasks.c ****                 /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#
4209:Middlewares/FreeRTOS/tasks.c ****                 /* coverity[misra_c_2012_rule_11_5_violation] */
4210:Middlewares/FreeRTOS/tasks.c ****                 pxTCB = listGET_LIST_ITEM_OWNER( pxIterator );
4211:Middlewares/FreeRTOS/tasks.c **** 
4212:Middlewares/FreeRTOS/tasks.c ****                 /* Check each character in the name looking for a match or
4213:Middlewares/FreeRTOS/tasks.c ****                  * mismatch. */
4214:Middlewares/FreeRTOS/tasks.c ****                 xBreakLoop = pdFALSE;
4215:Middlewares/FreeRTOS/tasks.c **** 
4216:Middlewares/FreeRTOS/tasks.c ****                 for( x = ( UBaseType_t ) 0; x < ( UBaseType_t ) configMAX_TASK_NAME_LEN; x++ )
4217:Middlewares/FreeRTOS/tasks.c ****                 {
4218:Middlewares/FreeRTOS/tasks.c ****                     cNextChar = pxTCB->pcTaskName[ x ];
4219:Middlewares/FreeRTOS/tasks.c **** 
4220:Middlewares/FreeRTOS/tasks.c ****                     if( cNextChar != pcNameToQuery[ x ] )
4221:Middlewares/FreeRTOS/tasks.c ****                     {
4222:Middlewares/FreeRTOS/tasks.c ****                         /* Characters didn't match. */
4223:Middlewares/FreeRTOS/tasks.c ****                         xBreakLoop = pdTRUE;
4224:Middlewares/FreeRTOS/tasks.c ****                     }
4225:Middlewares/FreeRTOS/tasks.c ****                     else if( cNextChar == ( char ) 0x00 )
4226:Middlewares/FreeRTOS/tasks.c ****                     {
4227:Middlewares/FreeRTOS/tasks.c ****                         /* Both strings terminated, a match must have been
4228:Middlewares/FreeRTOS/tasks.c ****                          * found. */
4229:Middlewares/FreeRTOS/tasks.c ****                         pxReturn = pxTCB;
4230:Middlewares/FreeRTOS/tasks.c ****                         xBreakLoop = pdTRUE;
4231:Middlewares/FreeRTOS/tasks.c ****                     }
4232:Middlewares/FreeRTOS/tasks.c ****                     else
4233:Middlewares/FreeRTOS/tasks.c ****                     {
4234:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
4235:Middlewares/FreeRTOS/tasks.c ****                     }
4236:Middlewares/FreeRTOS/tasks.c **** 
4237:Middlewares/FreeRTOS/tasks.c ****                     if( xBreakLoop != pdFALSE )
4238:Middlewares/FreeRTOS/tasks.c ****                     {
4239:Middlewares/FreeRTOS/tasks.c ****                         break;
4240:Middlewares/FreeRTOS/tasks.c ****                     }
4241:Middlewares/FreeRTOS/tasks.c ****                 }
4242:Middlewares/FreeRTOS/tasks.c **** 
4243:Middlewares/FreeRTOS/tasks.c ****                 if( pxReturn != NULL )
4244:Middlewares/FreeRTOS/tasks.c ****                 {
4245:Middlewares/FreeRTOS/tasks.c ****                     /* The handle has been found. */
4246:Middlewares/FreeRTOS/tasks.c ****                     break;
4247:Middlewares/FreeRTOS/tasks.c ****                 }
4248:Middlewares/FreeRTOS/tasks.c ****             }
4249:Middlewares/FreeRTOS/tasks.c ****         }
4250:Middlewares/FreeRTOS/tasks.c ****         else
4251:Middlewares/FreeRTOS/tasks.c ****         {
4252:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
4253:Middlewares/FreeRTOS/tasks.c ****         }
4254:Middlewares/FreeRTOS/tasks.c **** 
4255:Middlewares/FreeRTOS/tasks.c ****         return pxReturn;
4256:Middlewares/FreeRTOS/tasks.c ****     }
4257:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 137


4258:Middlewares/FreeRTOS/tasks.c **** #endif /* INCLUDE_xTaskGetHandle */
4259:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
4260:Middlewares/FreeRTOS/tasks.c **** 
4261:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_xTaskGetHandle == 1 )
4262:Middlewares/FreeRTOS/tasks.c **** 
4263:Middlewares/FreeRTOS/tasks.c ****     TaskHandle_t xTaskGetHandle( const char * pcNameToQuery )
4264:Middlewares/FreeRTOS/tasks.c ****     {
4265:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxQueue = configMAX_PRIORITIES;
4266:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
4267:Middlewares/FreeRTOS/tasks.c **** 
4268:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskGetHandle( pcNameToQuery );
4269:Middlewares/FreeRTOS/tasks.c **** 
4270:Middlewares/FreeRTOS/tasks.c ****         /* Task names will be truncated to configMAX_TASK_NAME_LEN - 1 bytes. */
4271:Middlewares/FreeRTOS/tasks.c ****         configASSERT( strlen( pcNameToQuery ) < configMAX_TASK_NAME_LEN );
4272:Middlewares/FreeRTOS/tasks.c **** 
4273:Middlewares/FreeRTOS/tasks.c ****         vTaskSuspendAll();
4274:Middlewares/FreeRTOS/tasks.c ****         {
4275:Middlewares/FreeRTOS/tasks.c ****             /* Search the ready lists. */
4276:Middlewares/FreeRTOS/tasks.c ****             do
4277:Middlewares/FreeRTOS/tasks.c ****             {
4278:Middlewares/FreeRTOS/tasks.c ****                 uxQueue--;
4279:Middlewares/FreeRTOS/tasks.c ****                 pxTCB = prvSearchForNameWithinSingleList( ( List_t * ) &( pxReadyTasksLists[ uxQueu
4280:Middlewares/FreeRTOS/tasks.c **** 
4281:Middlewares/FreeRTOS/tasks.c ****                 if( pxTCB != NULL )
4282:Middlewares/FreeRTOS/tasks.c ****                 {
4283:Middlewares/FreeRTOS/tasks.c ****                     /* Found the handle. */
4284:Middlewares/FreeRTOS/tasks.c ****                     break;
4285:Middlewares/FreeRTOS/tasks.c ****                 }
4286:Middlewares/FreeRTOS/tasks.c ****             } while( uxQueue > ( UBaseType_t ) tskIDLE_PRIORITY );
4287:Middlewares/FreeRTOS/tasks.c **** 
4288:Middlewares/FreeRTOS/tasks.c ****             /* Search the delayed lists. */
4289:Middlewares/FreeRTOS/tasks.c ****             if( pxTCB == NULL )
4290:Middlewares/FreeRTOS/tasks.c ****             {
4291:Middlewares/FreeRTOS/tasks.c ****                 pxTCB = prvSearchForNameWithinSingleList( ( List_t * ) pxDelayedTaskList, pcNameToQ
4292:Middlewares/FreeRTOS/tasks.c ****             }
4293:Middlewares/FreeRTOS/tasks.c **** 
4294:Middlewares/FreeRTOS/tasks.c ****             if( pxTCB == NULL )
4295:Middlewares/FreeRTOS/tasks.c ****             {
4296:Middlewares/FreeRTOS/tasks.c ****                 pxTCB = prvSearchForNameWithinSingleList( ( List_t * ) pxOverflowDelayedTaskList, p
4297:Middlewares/FreeRTOS/tasks.c ****             }
4298:Middlewares/FreeRTOS/tasks.c **** 
4299:Middlewares/FreeRTOS/tasks.c ****             #if ( INCLUDE_vTaskSuspend == 1 )
4300:Middlewares/FreeRTOS/tasks.c ****             {
4301:Middlewares/FreeRTOS/tasks.c ****                 if( pxTCB == NULL )
4302:Middlewares/FreeRTOS/tasks.c ****                 {
4303:Middlewares/FreeRTOS/tasks.c ****                     /* Search the suspended list. */
4304:Middlewares/FreeRTOS/tasks.c ****                     pxTCB = prvSearchForNameWithinSingleList( &xSuspendedTaskList, pcNameToQuery );
4305:Middlewares/FreeRTOS/tasks.c ****                 }
4306:Middlewares/FreeRTOS/tasks.c ****             }
4307:Middlewares/FreeRTOS/tasks.c ****             #endif
4308:Middlewares/FreeRTOS/tasks.c **** 
4309:Middlewares/FreeRTOS/tasks.c ****             #if ( INCLUDE_vTaskDelete == 1 )
4310:Middlewares/FreeRTOS/tasks.c ****             {
4311:Middlewares/FreeRTOS/tasks.c ****                 if( pxTCB == NULL )
4312:Middlewares/FreeRTOS/tasks.c ****                 {
4313:Middlewares/FreeRTOS/tasks.c ****                     /* Search the deleted list. */
4314:Middlewares/FreeRTOS/tasks.c ****                     pxTCB = prvSearchForNameWithinSingleList( &xTasksWaitingTermination, pcNameToQu
ARM GAS  /tmp/ccF71V7c.s 			page 138


4315:Middlewares/FreeRTOS/tasks.c ****                 }
4316:Middlewares/FreeRTOS/tasks.c ****             }
4317:Middlewares/FreeRTOS/tasks.c ****             #endif
4318:Middlewares/FreeRTOS/tasks.c ****         }
4319:Middlewares/FreeRTOS/tasks.c ****         ( void ) xTaskResumeAll();
4320:Middlewares/FreeRTOS/tasks.c **** 
4321:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskGetHandle( pxTCB );
4322:Middlewares/FreeRTOS/tasks.c **** 
4323:Middlewares/FreeRTOS/tasks.c ****         return pxTCB;
4324:Middlewares/FreeRTOS/tasks.c ****     }
4325:Middlewares/FreeRTOS/tasks.c **** 
4326:Middlewares/FreeRTOS/tasks.c **** #endif /* INCLUDE_xTaskGetHandle */
4327:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
4328:Middlewares/FreeRTOS/tasks.c **** 
4329:Middlewares/FreeRTOS/tasks.c **** #if ( configSUPPORT_STATIC_ALLOCATION == 1 )
4330:Middlewares/FreeRTOS/tasks.c **** 
4331:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xTaskGetStaticBuffers( TaskHandle_t xTask,
4332:Middlewares/FreeRTOS/tasks.c ****                                       StackType_t ** ppuxStackBuffer,
4333:Middlewares/FreeRTOS/tasks.c ****                                       StaticTask_t ** ppxTaskBuffer )
4334:Middlewares/FreeRTOS/tasks.c ****     {
4335:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xReturn;
4336:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
4337:Middlewares/FreeRTOS/tasks.c **** 
4338:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskGetStaticBuffers( xTask, ppuxStackBuffer, ppxTaskBuffer );
4339:Middlewares/FreeRTOS/tasks.c **** 
4340:Middlewares/FreeRTOS/tasks.c ****         configASSERT( ppuxStackBuffer != NULL );
4341:Middlewares/FreeRTOS/tasks.c ****         configASSERT( ppxTaskBuffer != NULL );
4342:Middlewares/FreeRTOS/tasks.c **** 
4343:Middlewares/FreeRTOS/tasks.c ****         pxTCB = prvGetTCBFromHandle( xTask );
4344:Middlewares/FreeRTOS/tasks.c **** 
4345:Middlewares/FreeRTOS/tasks.c ****         #if ( tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE == 1 )
4346:Middlewares/FreeRTOS/tasks.c ****         {
4347:Middlewares/FreeRTOS/tasks.c ****             if( pxTCB->ucStaticallyAllocated == tskSTATICALLY_ALLOCATED_STACK_AND_TCB )
4348:Middlewares/FreeRTOS/tasks.c ****             {
4349:Middlewares/FreeRTOS/tasks.c ****                 *ppuxStackBuffer = pxTCB->pxStack;
4350:Middlewares/FreeRTOS/tasks.c ****                 /* MISRA Ref 11.3.1 [Misaligned access] */
4351:Middlewares/FreeRTOS/tasks.c ****                 /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#
4352:Middlewares/FreeRTOS/tasks.c ****                 /* coverity[misra_c_2012_rule_11_3_violation] */
4353:Middlewares/FreeRTOS/tasks.c ****                 *ppxTaskBuffer = ( StaticTask_t * ) pxTCB;
4354:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pdTRUE;
4355:Middlewares/FreeRTOS/tasks.c ****             }
4356:Middlewares/FreeRTOS/tasks.c ****             else if( pxTCB->ucStaticallyAllocated == tskSTATICALLY_ALLOCATED_STACK_ONLY )
4357:Middlewares/FreeRTOS/tasks.c ****             {
4358:Middlewares/FreeRTOS/tasks.c ****                 *ppuxStackBuffer = pxTCB->pxStack;
4359:Middlewares/FreeRTOS/tasks.c ****                 *ppxTaskBuffer = NULL;
4360:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pdTRUE;
4361:Middlewares/FreeRTOS/tasks.c ****             }
4362:Middlewares/FreeRTOS/tasks.c ****             else
4363:Middlewares/FreeRTOS/tasks.c ****             {
4364:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pdFALSE;
4365:Middlewares/FreeRTOS/tasks.c ****             }
4366:Middlewares/FreeRTOS/tasks.c ****         }
4367:Middlewares/FreeRTOS/tasks.c ****         #else /* tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE == 1 */
4368:Middlewares/FreeRTOS/tasks.c ****         {
4369:Middlewares/FreeRTOS/tasks.c ****             *ppuxStackBuffer = pxTCB->pxStack;
4370:Middlewares/FreeRTOS/tasks.c ****             *ppxTaskBuffer = ( StaticTask_t * ) pxTCB;
4371:Middlewares/FreeRTOS/tasks.c ****             xReturn = pdTRUE;
ARM GAS  /tmp/ccF71V7c.s 			page 139


4372:Middlewares/FreeRTOS/tasks.c ****         }
4373:Middlewares/FreeRTOS/tasks.c ****         #endif /* tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE == 1 */
4374:Middlewares/FreeRTOS/tasks.c **** 
4375:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskGetStaticBuffers( xReturn );
4376:Middlewares/FreeRTOS/tasks.c **** 
4377:Middlewares/FreeRTOS/tasks.c ****         return xReturn;
4378:Middlewares/FreeRTOS/tasks.c ****     }
4379:Middlewares/FreeRTOS/tasks.c **** 
4380:Middlewares/FreeRTOS/tasks.c **** #endif /* configSUPPORT_STATIC_ALLOCATION */
4381:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
4382:Middlewares/FreeRTOS/tasks.c **** 
4383:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_TRACE_FACILITY == 1 )
4384:Middlewares/FreeRTOS/tasks.c **** 
4385:Middlewares/FreeRTOS/tasks.c ****     UBaseType_t uxTaskGetSystemState( TaskStatus_t * const pxTaskStatusArray,
4386:Middlewares/FreeRTOS/tasks.c ****                                       const UBaseType_t uxArraySize,
4387:Middlewares/FreeRTOS/tasks.c ****                                       configRUN_TIME_COUNTER_TYPE * const pulTotalRunTime )
4388:Middlewares/FreeRTOS/tasks.c ****     {
 3282              		.loc 1 4388 5
 3283              		.cfi_startproc
 3284              		@ args = 0, pretend = 0, frame = 24
 3285              		@ frame_needed = 1, uses_anonymous_args = 0
 3286 0000 80B5     		push	{r7, lr}
 3287              		.cfi_def_cfa_offset 8
 3288              		.cfi_offset 7, -8
 3289              		.cfi_offset 14, -4
 3290 0002 86B0     		sub	sp, sp, #24
 3291              		.cfi_def_cfa_offset 32
 3292 0004 00AF     		add	r7, sp, #0
 3293              		.cfi_def_cfa_register 7
 3294 0006 F860     		str	r0, [r7, #12]
 3295 0008 B960     		str	r1, [r7, #8]
 3296 000a 7A60     		str	r2, [r7, #4]
4389:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxTask = 0, uxQueue = configMAX_PRIORITIES;
 3297              		.loc 1 4389 21
 3298 000c 0023     		movs	r3, #0
 3299 000e 7B61     		str	r3, [r7, #20]
 3300              		.loc 1 4389 33
 3301 0010 0523     		movs	r3, #5
 3302 0012 3B61     		str	r3, [r7, #16]
4390:Middlewares/FreeRTOS/tasks.c **** 
4391:Middlewares/FreeRTOS/tasks.c ****         traceENTER_uxTaskGetSystemState( pxTaskStatusArray, uxArraySize, pulTotalRunTime );
4392:Middlewares/FreeRTOS/tasks.c **** 
4393:Middlewares/FreeRTOS/tasks.c ****         vTaskSuspendAll();
 3303              		.loc 1 4393 9
 3304 0014 FFF7FEFF 		bl	vTaskSuspendAll
4394:Middlewares/FreeRTOS/tasks.c ****         {
4395:Middlewares/FreeRTOS/tasks.c ****             /* Is there a space in the array for each task in the system? */
4396:Middlewares/FreeRTOS/tasks.c ****             if( uxArraySize >= uxCurrentNumberOfTasks )
 3305              		.loc 1 4396 29
 3306 0018 3A4B     		ldr	r3, .L212
 3307 001a 1B68     		ldr	r3, [r3]
 3308              		.loc 1 4396 15
 3309 001c BA68     		ldr	r2, [r7, #8]
 3310 001e 9A42     		cmp	r2, r3
 3311 0020 68D3     		bcc	.L209
 3312              	.L210:
4397:Middlewares/FreeRTOS/tasks.c ****             {
ARM GAS  /tmp/ccF71V7c.s 			page 140


4398:Middlewares/FreeRTOS/tasks.c ****                 /* Fill in an TaskStatus_t structure with information on each
4399:Middlewares/FreeRTOS/tasks.c ****                  * task in the Ready state. */
4400:Middlewares/FreeRTOS/tasks.c ****                 do
4401:Middlewares/FreeRTOS/tasks.c ****                 {
4402:Middlewares/FreeRTOS/tasks.c ****                     uxQueue--;
 3313              		.loc 1 4402 28
 3314 0022 3B69     		ldr	r3, [r7, #16]
 3315 0024 013B     		subs	r3, r3, #1
 3316 0026 3B61     		str	r3, [r7, #16]
4403:Middlewares/FreeRTOS/tasks.c ****                     uxTask = ( UBaseType_t ) ( uxTask + prvListTasksWithinSingleList( &( pxTaskStat
 3317              		.loc 1 4403 107
 3318 0028 7A69     		ldr	r2, [r7, #20]
 3319 002a 1346     		mov	r3, r2
 3320 002c DB00     		lsls	r3, r3, #3
 3321 002e 1344     		add	r3, r3, r2
 3322 0030 9B00     		lsls	r3, r3, #2
 3323 0032 1A46     		mov	r2, r3
 3324              		.loc 1 4403 87
 3325 0034 FB68     		ldr	r3, [r7, #12]
 3326 0036 9818     		adds	r0, r3, r2
 3327              		.loc 1 4403 57
 3328 0038 3A69     		ldr	r2, [r7, #16]
 3329 003a 1346     		mov	r3, r2
 3330 003c 9B00     		lsls	r3, r3, #2
 3331 003e 1344     		add	r3, r3, r2
 3332 0040 9B00     		lsls	r3, r3, #2
 3333 0042 314A     		ldr	r2, .L212+4
 3334 0044 1344     		add	r3, r3, r2
 3335 0046 0122     		movs	r2, #1
 3336 0048 1946     		mov	r1, r3
 3337 004a FFF7FEFF 		bl	prvListTasksWithinSingleList
 3338 004e 0246     		mov	r2, r0
 3339              		.loc 1 4403 28 discriminator 1
 3340 0050 7B69     		ldr	r3, [r7, #20]
 3341 0052 1344     		add	r3, r3, r2
 3342 0054 7B61     		str	r3, [r7, #20]
4404:Middlewares/FreeRTOS/tasks.c ****                 } while( uxQueue > ( UBaseType_t ) tskIDLE_PRIORITY );
 3343              		.loc 1 4404 34 discriminator 1
 3344 0056 3B69     		ldr	r3, [r7, #16]
 3345 0058 002B     		cmp	r3, #0
 3346 005a E2D1     		bne	.L210
4405:Middlewares/FreeRTOS/tasks.c **** 
4406:Middlewares/FreeRTOS/tasks.c ****                 /* Fill in an TaskStatus_t structure with information on each
4407:Middlewares/FreeRTOS/tasks.c ****                  * task in the Blocked state. */
4408:Middlewares/FreeRTOS/tasks.c ****                 uxTask = ( UBaseType_t ) ( uxTask + prvListTasksWithinSingleList( &( pxTaskStatusAr
 3347              		.loc 1 4408 103
 3348 005c 7A69     		ldr	r2, [r7, #20]
 3349 005e 1346     		mov	r3, r2
 3350 0060 DB00     		lsls	r3, r3, #3
 3351 0062 1344     		add	r3, r3, r2
 3352 0064 9B00     		lsls	r3, r3, #2
 3353 0066 1A46     		mov	r2, r3
 3354              		.loc 1 4408 83
 3355 0068 FB68     		ldr	r3, [r7, #12]
 3356 006a 1344     		add	r3, r3, r2
 3357              		.loc 1 4408 53
 3358 006c 274A     		ldr	r2, .L212+8
ARM GAS  /tmp/ccF71V7c.s 			page 141


 3359 006e 1168     		ldr	r1, [r2]
 3360 0070 0222     		movs	r2, #2
 3361 0072 1846     		mov	r0, r3
 3362 0074 FFF7FEFF 		bl	prvListTasksWithinSingleList
 3363 0078 0246     		mov	r2, r0
 3364              		.loc 1 4408 24 discriminator 1
 3365 007a 7B69     		ldr	r3, [r7, #20]
 3366 007c 1344     		add	r3, r3, r2
 3367 007e 7B61     		str	r3, [r7, #20]
4409:Middlewares/FreeRTOS/tasks.c ****                 uxTask = ( UBaseType_t ) ( uxTask + prvListTasksWithinSingleList( &( pxTaskStatusAr
 3368              		.loc 1 4409 103
 3369 0080 7A69     		ldr	r2, [r7, #20]
 3370 0082 1346     		mov	r3, r2
 3371 0084 DB00     		lsls	r3, r3, #3
 3372 0086 1344     		add	r3, r3, r2
 3373 0088 9B00     		lsls	r3, r3, #2
 3374 008a 1A46     		mov	r2, r3
 3375              		.loc 1 4409 83
 3376 008c FB68     		ldr	r3, [r7, #12]
 3377 008e 1344     		add	r3, r3, r2
 3378              		.loc 1 4409 53
 3379 0090 1F4A     		ldr	r2, .L212+12
 3380 0092 1168     		ldr	r1, [r2]
 3381 0094 0222     		movs	r2, #2
 3382 0096 1846     		mov	r0, r3
 3383 0098 FFF7FEFF 		bl	prvListTasksWithinSingleList
 3384 009c 0246     		mov	r2, r0
 3385              		.loc 1 4409 24 discriminator 1
 3386 009e 7B69     		ldr	r3, [r7, #20]
 3387 00a0 1344     		add	r3, r3, r2
 3388 00a2 7B61     		str	r3, [r7, #20]
4410:Middlewares/FreeRTOS/tasks.c **** 
4411:Middlewares/FreeRTOS/tasks.c ****                 #if ( INCLUDE_vTaskDelete == 1 )
4412:Middlewares/FreeRTOS/tasks.c ****                 {
4413:Middlewares/FreeRTOS/tasks.c ****                     /* Fill in an TaskStatus_t structure with information on
4414:Middlewares/FreeRTOS/tasks.c ****                      * each task that has been deleted but not yet cleaned up. */
4415:Middlewares/FreeRTOS/tasks.c ****                     uxTask = ( UBaseType_t ) ( uxTask + prvListTasksWithinSingleList( &( pxTaskStat
 3389              		.loc 1 4415 107
 3390 00a4 7A69     		ldr	r2, [r7, #20]
 3391 00a6 1346     		mov	r3, r2
 3392 00a8 DB00     		lsls	r3, r3, #3
 3393 00aa 1344     		add	r3, r3, r2
 3394 00ac 9B00     		lsls	r3, r3, #2
 3395 00ae 1A46     		mov	r2, r3
 3396              		.loc 1 4415 87
 3397 00b0 FB68     		ldr	r3, [r7, #12]
 3398 00b2 1344     		add	r3, r3, r2
 3399              		.loc 1 4415 57
 3400 00b4 0422     		movs	r2, #4
 3401 00b6 1749     		ldr	r1, .L212+16
 3402 00b8 1846     		mov	r0, r3
 3403 00ba FFF7FEFF 		bl	prvListTasksWithinSingleList
 3404 00be 0246     		mov	r2, r0
 3405              		.loc 1 4415 28 discriminator 1
 3406 00c0 7B69     		ldr	r3, [r7, #20]
 3407 00c2 1344     		add	r3, r3, r2
 3408 00c4 7B61     		str	r3, [r7, #20]
ARM GAS  /tmp/ccF71V7c.s 			page 142


4416:Middlewares/FreeRTOS/tasks.c ****                 }
4417:Middlewares/FreeRTOS/tasks.c ****                 #endif
4418:Middlewares/FreeRTOS/tasks.c **** 
4419:Middlewares/FreeRTOS/tasks.c ****                 #if ( INCLUDE_vTaskSuspend == 1 )
4420:Middlewares/FreeRTOS/tasks.c ****                 {
4421:Middlewares/FreeRTOS/tasks.c ****                     /* Fill in an TaskStatus_t structure with information on
4422:Middlewares/FreeRTOS/tasks.c ****                      * each task in the Suspended state. */
4423:Middlewares/FreeRTOS/tasks.c ****                     uxTask = ( UBaseType_t ) ( uxTask + prvListTasksWithinSingleList( &( pxTaskStat
 3409              		.loc 1 4423 107
 3410 00c6 7A69     		ldr	r2, [r7, #20]
 3411 00c8 1346     		mov	r3, r2
 3412 00ca DB00     		lsls	r3, r3, #3
 3413 00cc 1344     		add	r3, r3, r2
 3414 00ce 9B00     		lsls	r3, r3, #2
 3415 00d0 1A46     		mov	r2, r3
 3416              		.loc 1 4423 87
 3417 00d2 FB68     		ldr	r3, [r7, #12]
 3418 00d4 1344     		add	r3, r3, r2
 3419              		.loc 1 4423 57
 3420 00d6 0322     		movs	r2, #3
 3421 00d8 0F49     		ldr	r1, .L212+20
 3422 00da 1846     		mov	r0, r3
 3423 00dc FFF7FEFF 		bl	prvListTasksWithinSingleList
 3424 00e0 0246     		mov	r2, r0
 3425              		.loc 1 4423 28 discriminator 1
 3426 00e2 7B69     		ldr	r3, [r7, #20]
 3427 00e4 1344     		add	r3, r3, r2
 3428 00e6 7B61     		str	r3, [r7, #20]
4424:Middlewares/FreeRTOS/tasks.c ****                 }
4425:Middlewares/FreeRTOS/tasks.c ****                 #endif
4426:Middlewares/FreeRTOS/tasks.c **** 
4427:Middlewares/FreeRTOS/tasks.c ****                 #if ( configGENERATE_RUN_TIME_STATS == 1 )
4428:Middlewares/FreeRTOS/tasks.c ****                 {
4429:Middlewares/FreeRTOS/tasks.c ****                     if( pulTotalRunTime != NULL )
4430:Middlewares/FreeRTOS/tasks.c ****                     {
4431:Middlewares/FreeRTOS/tasks.c ****                         #ifdef portALT_GET_RUN_TIME_COUNTER_VALUE
4432:Middlewares/FreeRTOS/tasks.c ****                             portALT_GET_RUN_TIME_COUNTER_VALUE( ( *pulTotalRunTime ) );
4433:Middlewares/FreeRTOS/tasks.c ****                         #else
4434:Middlewares/FreeRTOS/tasks.c ****                             *pulTotalRunTime = ( configRUN_TIME_COUNTER_TYPE ) portGET_RUN_TIME_COU
4435:Middlewares/FreeRTOS/tasks.c ****                         #endif
4436:Middlewares/FreeRTOS/tasks.c ****                     }
4437:Middlewares/FreeRTOS/tasks.c ****                 }
4438:Middlewares/FreeRTOS/tasks.c ****                 #else /* if ( configGENERATE_RUN_TIME_STATS == 1 ) */
4439:Middlewares/FreeRTOS/tasks.c ****                 {
4440:Middlewares/FreeRTOS/tasks.c ****                     if( pulTotalRunTime != NULL )
 3429              		.loc 1 4440 23
 3430 00e8 7B68     		ldr	r3, [r7, #4]
 3431 00ea 002B     		cmp	r3, #0
 3432 00ec 02D0     		beq	.L209
4441:Middlewares/FreeRTOS/tasks.c ****                     {
4442:Middlewares/FreeRTOS/tasks.c ****                         *pulTotalRunTime = 0;
 3433              		.loc 1 4442 42
 3434 00ee 7B68     		ldr	r3, [r7, #4]
 3435 00f0 0022     		movs	r2, #0
 3436 00f2 1A60     		str	r2, [r3]
 3437              	.L209:
4443:Middlewares/FreeRTOS/tasks.c ****                     }
ARM GAS  /tmp/ccF71V7c.s 			page 143


4444:Middlewares/FreeRTOS/tasks.c ****                 }
4445:Middlewares/FreeRTOS/tasks.c ****                 #endif /* if ( configGENERATE_RUN_TIME_STATS == 1 ) */
4446:Middlewares/FreeRTOS/tasks.c ****             }
4447:Middlewares/FreeRTOS/tasks.c ****             else
4448:Middlewares/FreeRTOS/tasks.c ****             {
4449:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
4450:Middlewares/FreeRTOS/tasks.c ****             }
4451:Middlewares/FreeRTOS/tasks.c ****         }
4452:Middlewares/FreeRTOS/tasks.c ****         ( void ) xTaskResumeAll();
 3438              		.loc 1 4452 18
 3439 00f4 FFF7FEFF 		bl	xTaskResumeAll
4453:Middlewares/FreeRTOS/tasks.c **** 
4454:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_uxTaskGetSystemState( uxTask );
4455:Middlewares/FreeRTOS/tasks.c **** 
4456:Middlewares/FreeRTOS/tasks.c ****         return uxTask;
 3440              		.loc 1 4456 16
 3441 00f8 7B69     		ldr	r3, [r7, #20]
4457:Middlewares/FreeRTOS/tasks.c ****     }
 3442              		.loc 1 4457 5
 3443 00fa 1846     		mov	r0, r3
 3444 00fc 1837     		adds	r7, r7, #24
 3445              		.cfi_def_cfa_offset 8
 3446 00fe BD46     		mov	sp, r7
 3447              		.cfi_def_cfa_register 13
 3448              		@ sp needed
 3449 0100 80BD     		pop	{r7, pc}
 3450              	.L213:
 3451 0102 00BF     		.align	2
 3452              	.L212:
 3453 0104 00000000 		.word	uxCurrentNumberOfTasks
 3454 0108 00000000 		.word	pxReadyTasksLists
 3455 010c 00000000 		.word	pxDelayedTaskList
 3456 0110 00000000 		.word	pxOverflowDelayedTaskList
 3457 0114 00000000 		.word	xTasksWaitingTermination
 3458 0118 00000000 		.word	xSuspendedTaskList
 3459              		.cfi_endproc
 3460              	.LFE33:
 3462              		.section	.text.xTaskCatchUpTicks,"ax",%progbits
 3463              		.align	1
 3464              		.global	xTaskCatchUpTicks
 3465              		.syntax unified
 3466              		.thumb
 3467              		.thumb_func
 3469              	xTaskCatchUpTicks:
 3470              	.LFB34:
4458:Middlewares/FreeRTOS/tasks.c **** 
4459:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_TRACE_FACILITY */
4460:Middlewares/FreeRTOS/tasks.c **** /*----------------------------------------------------------*/
4461:Middlewares/FreeRTOS/tasks.c **** 
4462:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_xTaskGetIdleTaskHandle == 1 )
4463:Middlewares/FreeRTOS/tasks.c **** 
4464:Middlewares/FreeRTOS/tasks.c ****     #if ( configNUMBER_OF_CORES == 1 )
4465:Middlewares/FreeRTOS/tasks.c ****         TaskHandle_t xTaskGetIdleTaskHandle( void )
4466:Middlewares/FreeRTOS/tasks.c ****         {
4467:Middlewares/FreeRTOS/tasks.c ****             traceENTER_xTaskGetIdleTaskHandle();
4468:Middlewares/FreeRTOS/tasks.c **** 
4469:Middlewares/FreeRTOS/tasks.c ****             /* If xTaskGetIdleTaskHandle() is called before the scheduler has been
ARM GAS  /tmp/ccF71V7c.s 			page 144


4470:Middlewares/FreeRTOS/tasks.c ****              * started, then xIdleTaskHandles will be NULL. */
4471:Middlewares/FreeRTOS/tasks.c ****             configASSERT( ( xIdleTaskHandles[ 0 ] != NULL ) );
4472:Middlewares/FreeRTOS/tasks.c **** 
4473:Middlewares/FreeRTOS/tasks.c ****             traceRETURN_xTaskGetIdleTaskHandle( xIdleTaskHandles[ 0 ] );
4474:Middlewares/FreeRTOS/tasks.c **** 
4475:Middlewares/FreeRTOS/tasks.c ****             return xIdleTaskHandles[ 0 ];
4476:Middlewares/FreeRTOS/tasks.c ****         }
4477:Middlewares/FreeRTOS/tasks.c ****     #endif /* if ( configNUMBER_OF_CORES == 1 ) */
4478:Middlewares/FreeRTOS/tasks.c **** 
4479:Middlewares/FreeRTOS/tasks.c ****     TaskHandle_t xTaskGetIdleTaskHandleForCore( BaseType_t xCoreID )
4480:Middlewares/FreeRTOS/tasks.c ****     {
4481:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskGetIdleTaskHandleForCore( xCoreID );
4482:Middlewares/FreeRTOS/tasks.c **** 
4483:Middlewares/FreeRTOS/tasks.c ****         /* Ensure the core ID is valid. */
4484:Middlewares/FreeRTOS/tasks.c ****         configASSERT( taskVALID_CORE_ID( xCoreID ) == pdTRUE );
4485:Middlewares/FreeRTOS/tasks.c **** 
4486:Middlewares/FreeRTOS/tasks.c ****         /* If xTaskGetIdleTaskHandle() is called before the scheduler has been
4487:Middlewares/FreeRTOS/tasks.c ****          * started, then xIdleTaskHandles will be NULL. */
4488:Middlewares/FreeRTOS/tasks.c ****         configASSERT( ( xIdleTaskHandles[ xCoreID ] != NULL ) );
4489:Middlewares/FreeRTOS/tasks.c **** 
4490:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskGetIdleTaskHandleForCore( xIdleTaskHandles[ xCoreID ] );
4491:Middlewares/FreeRTOS/tasks.c **** 
4492:Middlewares/FreeRTOS/tasks.c ****         return xIdleTaskHandles[ xCoreID ];
4493:Middlewares/FreeRTOS/tasks.c ****     }
4494:Middlewares/FreeRTOS/tasks.c **** 
4495:Middlewares/FreeRTOS/tasks.c **** #endif /* INCLUDE_xTaskGetIdleTaskHandle */
4496:Middlewares/FreeRTOS/tasks.c **** /*----------------------------------------------------------*/
4497:Middlewares/FreeRTOS/tasks.c **** 
4498:Middlewares/FreeRTOS/tasks.c **** /* This conditional compilation should use inequality to 0, not equality to 1.
4499:Middlewares/FreeRTOS/tasks.c ****  * This is to ensure vTaskStepTick() is available when user defined low power mode
4500:Middlewares/FreeRTOS/tasks.c ****  * implementations require configUSE_TICKLESS_IDLE to be set to a value other than
4501:Middlewares/FreeRTOS/tasks.c ****  * 1. */
4502:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_TICKLESS_IDLE != 0 )
4503:Middlewares/FreeRTOS/tasks.c **** 
4504:Middlewares/FreeRTOS/tasks.c ****     void vTaskStepTick( TickType_t xTicksToJump )
4505:Middlewares/FreeRTOS/tasks.c ****     {
4506:Middlewares/FreeRTOS/tasks.c ****         TickType_t xUpdatedTickCount;
4507:Middlewares/FreeRTOS/tasks.c **** 
4508:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskStepTick( xTicksToJump );
4509:Middlewares/FreeRTOS/tasks.c **** 
4510:Middlewares/FreeRTOS/tasks.c ****         /* Correct the tick count value after a period during which the tick
4511:Middlewares/FreeRTOS/tasks.c ****          * was suppressed.  Note this does *not* call the tick hook function for
4512:Middlewares/FreeRTOS/tasks.c ****          * each stepped tick. */
4513:Middlewares/FreeRTOS/tasks.c ****         xUpdatedTickCount = xTickCount + xTicksToJump;
4514:Middlewares/FreeRTOS/tasks.c ****         configASSERT( xUpdatedTickCount <= xNextTaskUnblockTime );
4515:Middlewares/FreeRTOS/tasks.c **** 
4516:Middlewares/FreeRTOS/tasks.c ****         if( xUpdatedTickCount == xNextTaskUnblockTime )
4517:Middlewares/FreeRTOS/tasks.c ****         {
4518:Middlewares/FreeRTOS/tasks.c ****             /* Arrange for xTickCount to reach xNextTaskUnblockTime in
4519:Middlewares/FreeRTOS/tasks.c ****              * xTaskIncrementTick() when the scheduler resumes.  This ensures
4520:Middlewares/FreeRTOS/tasks.c ****              * that any delayed tasks are resumed at the correct time. */
4521:Middlewares/FreeRTOS/tasks.c ****             configASSERT( uxSchedulerSuspended != ( UBaseType_t ) 0U );
4522:Middlewares/FreeRTOS/tasks.c ****             configASSERT( xTicksToJump != ( TickType_t ) 0 );
4523:Middlewares/FreeRTOS/tasks.c **** 
4524:Middlewares/FreeRTOS/tasks.c ****             /* Prevent the tick interrupt modifying xPendedTicks simultaneously. */
4525:Middlewares/FreeRTOS/tasks.c ****             taskENTER_CRITICAL();
4526:Middlewares/FreeRTOS/tasks.c ****             {
ARM GAS  /tmp/ccF71V7c.s 			page 145


4527:Middlewares/FreeRTOS/tasks.c ****                 xPendedTicks++;
4528:Middlewares/FreeRTOS/tasks.c ****             }
4529:Middlewares/FreeRTOS/tasks.c ****             taskEXIT_CRITICAL();
4530:Middlewares/FreeRTOS/tasks.c ****             xTicksToJump--;
4531:Middlewares/FreeRTOS/tasks.c ****         }
4532:Middlewares/FreeRTOS/tasks.c ****         else
4533:Middlewares/FreeRTOS/tasks.c ****         {
4534:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
4535:Middlewares/FreeRTOS/tasks.c ****         }
4536:Middlewares/FreeRTOS/tasks.c **** 
4537:Middlewares/FreeRTOS/tasks.c ****         xTickCount += xTicksToJump;
4538:Middlewares/FreeRTOS/tasks.c **** 
4539:Middlewares/FreeRTOS/tasks.c ****         traceINCREASE_TICK_COUNT( xTicksToJump );
4540:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskStepTick();
4541:Middlewares/FreeRTOS/tasks.c ****     }
4542:Middlewares/FreeRTOS/tasks.c **** 
4543:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_TICKLESS_IDLE */
4544:Middlewares/FreeRTOS/tasks.c **** /*----------------------------------------------------------*/
4545:Middlewares/FreeRTOS/tasks.c **** 
4546:Middlewares/FreeRTOS/tasks.c **** BaseType_t xTaskCatchUpTicks( TickType_t xTicksToCatchUp )
4547:Middlewares/FreeRTOS/tasks.c **** {
 3471              		.loc 1 4547 1
 3472              		.cfi_startproc
 3473              		@ args = 0, pretend = 0, frame = 16
 3474              		@ frame_needed = 1, uses_anonymous_args = 0
 3475 0000 80B5     		push	{r7, lr}
 3476              		.cfi_def_cfa_offset 8
 3477              		.cfi_offset 7, -8
 3478              		.cfi_offset 14, -4
 3479 0002 84B0     		sub	sp, sp, #16
 3480              		.cfi_def_cfa_offset 24
 3481 0004 00AF     		add	r7, sp, #0
 3482              		.cfi_def_cfa_register 7
 3483 0006 7860     		str	r0, [r7, #4]
4548:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xYieldOccurred;
4549:Middlewares/FreeRTOS/tasks.c **** 
4550:Middlewares/FreeRTOS/tasks.c ****     traceENTER_xTaskCatchUpTicks( xTicksToCatchUp );
4551:Middlewares/FreeRTOS/tasks.c **** 
4552:Middlewares/FreeRTOS/tasks.c ****     /* Must not be called with the scheduler suspended as the implementation
4553:Middlewares/FreeRTOS/tasks.c ****      * relies on xPendedTicks being wound down to 0 in xTaskResumeAll(). */
4554:Middlewares/FreeRTOS/tasks.c ****     configASSERT( uxSchedulerSuspended == ( UBaseType_t ) 0U );
4555:Middlewares/FreeRTOS/tasks.c **** 
4556:Middlewares/FreeRTOS/tasks.c ****     /* Use xPendedTicks to mimic xTicksToCatchUp number of ticks occurring when
4557:Middlewares/FreeRTOS/tasks.c ****      * the scheduler is suspended so the ticks are executed in xTaskResumeAll(). */
4558:Middlewares/FreeRTOS/tasks.c ****     vTaskSuspendAll();
 3484              		.loc 1 4558 5
 3485 0008 FFF7FEFF 		bl	vTaskSuspendAll
4559:Middlewares/FreeRTOS/tasks.c **** 
4560:Middlewares/FreeRTOS/tasks.c ****     /* Prevent the tick interrupt modifying xPendedTicks simultaneously. */
4561:Middlewares/FreeRTOS/tasks.c ****     taskENTER_CRITICAL();
 3486              		.loc 1 4561 5
 3487 000c FFF7FEFF 		bl	vPortEnterCritical
4562:Middlewares/FreeRTOS/tasks.c ****     {
4563:Middlewares/FreeRTOS/tasks.c ****         xPendedTicks += xTicksToCatchUp;
 3488              		.loc 1 4563 22
 3489 0010 074B     		ldr	r3, .L216
 3490 0012 1A68     		ldr	r2, [r3]
ARM GAS  /tmp/ccF71V7c.s 			page 146


 3491 0014 7B68     		ldr	r3, [r7, #4]
 3492 0016 1344     		add	r3, r3, r2
 3493 0018 054A     		ldr	r2, .L216
 3494 001a 1360     		str	r3, [r2]
4564:Middlewares/FreeRTOS/tasks.c ****     }
4565:Middlewares/FreeRTOS/tasks.c ****     taskEXIT_CRITICAL();
 3495              		.loc 1 4565 5
 3496 001c FFF7FEFF 		bl	vPortExitCritical
4566:Middlewares/FreeRTOS/tasks.c ****     xYieldOccurred = xTaskResumeAll();
 3497              		.loc 1 4566 22
 3498 0020 FFF7FEFF 		bl	xTaskResumeAll
 3499 0024 F860     		str	r0, [r7, #12]
4567:Middlewares/FreeRTOS/tasks.c **** 
4568:Middlewares/FreeRTOS/tasks.c ****     traceRETURN_xTaskCatchUpTicks( xYieldOccurred );
4569:Middlewares/FreeRTOS/tasks.c **** 
4570:Middlewares/FreeRTOS/tasks.c ****     return xYieldOccurred;
 3500              		.loc 1 4570 12
 3501 0026 FB68     		ldr	r3, [r7, #12]
4571:Middlewares/FreeRTOS/tasks.c **** }
 3502              		.loc 1 4571 1
 3503 0028 1846     		mov	r0, r3
 3504 002a 1037     		adds	r7, r7, #16
 3505              		.cfi_def_cfa_offset 8
 3506 002c BD46     		mov	sp, r7
 3507              		.cfi_def_cfa_register 13
 3508              		@ sp needed
 3509 002e 80BD     		pop	{r7, pc}
 3510              	.L217:
 3511              		.align	2
 3512              	.L216:
 3513 0030 00000000 		.word	xPendedTicks
 3514              		.cfi_endproc
 3515              	.LFE34:
 3517              		.section	.text.xTaskIncrementTick,"ax",%progbits
 3518              		.align	1
 3519              		.global	xTaskIncrementTick
 3520              		.syntax unified
 3521              		.thumb
 3522              		.thumb_func
 3524              	xTaskIncrementTick:
 3525              	.LFB35:
4572:Middlewares/FreeRTOS/tasks.c **** /*----------------------------------------------------------*/
4573:Middlewares/FreeRTOS/tasks.c **** 
4574:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_xTaskAbortDelay == 1 )
4575:Middlewares/FreeRTOS/tasks.c **** 
4576:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xTaskAbortDelay( TaskHandle_t xTask )
4577:Middlewares/FreeRTOS/tasks.c ****     {
4578:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB = xTask;
4579:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xReturn;
4580:Middlewares/FreeRTOS/tasks.c **** 
4581:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskAbortDelay( xTask );
4582:Middlewares/FreeRTOS/tasks.c **** 
4583:Middlewares/FreeRTOS/tasks.c ****         configASSERT( pxTCB );
4584:Middlewares/FreeRTOS/tasks.c **** 
4585:Middlewares/FreeRTOS/tasks.c ****         vTaskSuspendAll();
4586:Middlewares/FreeRTOS/tasks.c ****         {
4587:Middlewares/FreeRTOS/tasks.c ****             /* A task can only be prematurely removed from the Blocked state if
ARM GAS  /tmp/ccF71V7c.s 			page 147


4588:Middlewares/FreeRTOS/tasks.c ****              * it is actually in the Blocked state. */
4589:Middlewares/FreeRTOS/tasks.c ****             if( eTaskGetState( xTask ) == eBlocked )
4590:Middlewares/FreeRTOS/tasks.c ****             {
4591:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pdPASS;
4592:Middlewares/FreeRTOS/tasks.c **** 
4593:Middlewares/FreeRTOS/tasks.c ****                 /* Remove the reference to the task from the blocked list.  An
4594:Middlewares/FreeRTOS/tasks.c ****                  * interrupt won't touch the xStateListItem because the
4595:Middlewares/FreeRTOS/tasks.c ****                  * scheduler is suspended. */
4596:Middlewares/FreeRTOS/tasks.c ****                 ( void ) uxListRemove( &( pxTCB->xStateListItem ) );
4597:Middlewares/FreeRTOS/tasks.c **** 
4598:Middlewares/FreeRTOS/tasks.c ****                 /* Is the task waiting on an event also?  If so remove it from
4599:Middlewares/FreeRTOS/tasks.c ****                  * the event list too.  Interrupts can touch the event list item,
4600:Middlewares/FreeRTOS/tasks.c ****                  * even though the scheduler is suspended, so a critical section
4601:Middlewares/FreeRTOS/tasks.c ****                  * is used. */
4602:Middlewares/FreeRTOS/tasks.c ****                 taskENTER_CRITICAL();
4603:Middlewares/FreeRTOS/tasks.c ****                 {
4604:Middlewares/FreeRTOS/tasks.c ****                     if( listLIST_ITEM_CONTAINER( &( pxTCB->xEventListItem ) ) != NULL )
4605:Middlewares/FreeRTOS/tasks.c ****                     {
4606:Middlewares/FreeRTOS/tasks.c ****                         ( void ) uxListRemove( &( pxTCB->xEventListItem ) );
4607:Middlewares/FreeRTOS/tasks.c **** 
4608:Middlewares/FreeRTOS/tasks.c ****                         /* This lets the task know it was forcibly removed from the
4609:Middlewares/FreeRTOS/tasks.c ****                          * blocked state so it should not re-evaluate its block time and
4610:Middlewares/FreeRTOS/tasks.c ****                          * then block again. */
4611:Middlewares/FreeRTOS/tasks.c ****                         pxTCB->ucDelayAborted = ( uint8_t ) pdTRUE;
4612:Middlewares/FreeRTOS/tasks.c ****                     }
4613:Middlewares/FreeRTOS/tasks.c ****                     else
4614:Middlewares/FreeRTOS/tasks.c ****                     {
4615:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
4616:Middlewares/FreeRTOS/tasks.c ****                     }
4617:Middlewares/FreeRTOS/tasks.c ****                 }
4618:Middlewares/FreeRTOS/tasks.c ****                 taskEXIT_CRITICAL();
4619:Middlewares/FreeRTOS/tasks.c **** 
4620:Middlewares/FreeRTOS/tasks.c ****                 /* Place the unblocked task into the appropriate ready list. */
4621:Middlewares/FreeRTOS/tasks.c ****                 prvAddTaskToReadyList( pxTCB );
4622:Middlewares/FreeRTOS/tasks.c **** 
4623:Middlewares/FreeRTOS/tasks.c ****                 /* A task being unblocked cannot cause an immediate context
4624:Middlewares/FreeRTOS/tasks.c ****                  * switch if preemption is turned off. */
4625:Middlewares/FreeRTOS/tasks.c ****                 #if ( configUSE_PREEMPTION == 1 )
4626:Middlewares/FreeRTOS/tasks.c ****                 {
4627:Middlewares/FreeRTOS/tasks.c ****                     #if ( configNUMBER_OF_CORES == 1 )
4628:Middlewares/FreeRTOS/tasks.c ****                     {
4629:Middlewares/FreeRTOS/tasks.c ****                         /* Preemption is on, but a context switch should only be
4630:Middlewares/FreeRTOS/tasks.c ****                          * performed if the unblocked task has a priority that is
4631:Middlewares/FreeRTOS/tasks.c ****                          * higher than the currently executing task. */
4632:Middlewares/FreeRTOS/tasks.c ****                         if( pxTCB->uxPriority > pxCurrentTCB->uxPriority )
4633:Middlewares/FreeRTOS/tasks.c ****                         {
4634:Middlewares/FreeRTOS/tasks.c ****                             /* Pend the yield to be performed when the scheduler
4635:Middlewares/FreeRTOS/tasks.c ****                              * is unsuspended. */
4636:Middlewares/FreeRTOS/tasks.c ****                             xYieldPendings[ 0 ] = pdTRUE;
4637:Middlewares/FreeRTOS/tasks.c ****                         }
4638:Middlewares/FreeRTOS/tasks.c ****                         else
4639:Middlewares/FreeRTOS/tasks.c ****                         {
4640:Middlewares/FreeRTOS/tasks.c ****                             mtCOVERAGE_TEST_MARKER();
4641:Middlewares/FreeRTOS/tasks.c ****                         }
4642:Middlewares/FreeRTOS/tasks.c ****                     }
4643:Middlewares/FreeRTOS/tasks.c ****                     #else /* #if ( configNUMBER_OF_CORES == 1 ) */
4644:Middlewares/FreeRTOS/tasks.c ****                     {
ARM GAS  /tmp/ccF71V7c.s 			page 148


4645:Middlewares/FreeRTOS/tasks.c ****                         taskENTER_CRITICAL();
4646:Middlewares/FreeRTOS/tasks.c ****                         {
4647:Middlewares/FreeRTOS/tasks.c ****                             prvYieldForTask( pxTCB );
4648:Middlewares/FreeRTOS/tasks.c ****                         }
4649:Middlewares/FreeRTOS/tasks.c ****                         taskEXIT_CRITICAL();
4650:Middlewares/FreeRTOS/tasks.c ****                     }
4651:Middlewares/FreeRTOS/tasks.c ****                     #endif /* #if ( configNUMBER_OF_CORES == 1 ) */
4652:Middlewares/FreeRTOS/tasks.c ****                 }
4653:Middlewares/FreeRTOS/tasks.c ****                 #endif /* #if ( configUSE_PREEMPTION == 1 ) */
4654:Middlewares/FreeRTOS/tasks.c ****             }
4655:Middlewares/FreeRTOS/tasks.c ****             else
4656:Middlewares/FreeRTOS/tasks.c ****             {
4657:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pdFAIL;
4658:Middlewares/FreeRTOS/tasks.c ****             }
4659:Middlewares/FreeRTOS/tasks.c ****         }
4660:Middlewares/FreeRTOS/tasks.c ****         ( void ) xTaskResumeAll();
4661:Middlewares/FreeRTOS/tasks.c **** 
4662:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskAbortDelay( xReturn );
4663:Middlewares/FreeRTOS/tasks.c **** 
4664:Middlewares/FreeRTOS/tasks.c ****         return xReturn;
4665:Middlewares/FreeRTOS/tasks.c ****     }
4666:Middlewares/FreeRTOS/tasks.c **** 
4667:Middlewares/FreeRTOS/tasks.c **** #endif /* INCLUDE_xTaskAbortDelay */
4668:Middlewares/FreeRTOS/tasks.c **** /*----------------------------------------------------------*/
4669:Middlewares/FreeRTOS/tasks.c **** 
4670:Middlewares/FreeRTOS/tasks.c **** BaseType_t xTaskIncrementTick( void )
4671:Middlewares/FreeRTOS/tasks.c **** {
 3526              		.loc 1 4671 1
 3527              		.cfi_startproc
 3528              		@ args = 0, pretend = 0, frame = 32
 3529              		@ frame_needed = 1, uses_anonymous_args = 0
 3530 0000 80B5     		push	{r7, lr}
 3531              		.cfi_def_cfa_offset 8
 3532              		.cfi_offset 7, -8
 3533              		.cfi_offset 14, -4
 3534 0002 88B0     		sub	sp, sp, #32
 3535              		.cfi_def_cfa_offset 40
 3536 0004 00AF     		add	r7, sp, #0
 3537              		.cfi_def_cfa_register 7
4672:Middlewares/FreeRTOS/tasks.c ****     TCB_t * pxTCB;
4673:Middlewares/FreeRTOS/tasks.c ****     TickType_t xItemValue;
4674:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xSwitchRequired = pdFALSE;
 3538              		.loc 1 4674 16
 3539 0006 0023     		movs	r3, #0
 3540 0008 FB61     		str	r3, [r7, #28]
4675:Middlewares/FreeRTOS/tasks.c **** 
4676:Middlewares/FreeRTOS/tasks.c ****     #if ( configUSE_PREEMPTION == 1 ) && ( configNUMBER_OF_CORES > 1 )
4677:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xYieldRequiredForCore[ configNUMBER_OF_CORES ] = { pdFALSE };
4678:Middlewares/FreeRTOS/tasks.c ****     #endif /* #if ( configUSE_PREEMPTION == 1 ) && ( configNUMBER_OF_CORES > 1 ) */
4679:Middlewares/FreeRTOS/tasks.c **** 
4680:Middlewares/FreeRTOS/tasks.c ****     traceENTER_xTaskIncrementTick();
4681:Middlewares/FreeRTOS/tasks.c **** 
4682:Middlewares/FreeRTOS/tasks.c ****     /* Called by the portable layer each time a tick interrupt occurs.
4683:Middlewares/FreeRTOS/tasks.c ****      * Increments the tick then checks to see if the new tick value will cause any
4684:Middlewares/FreeRTOS/tasks.c ****      * tasks to be unblocked. */
4685:Middlewares/FreeRTOS/tasks.c ****     traceTASK_INCREMENT_TICK( xTickCount );
4686:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 149


4687:Middlewares/FreeRTOS/tasks.c ****     /* Tick increment should occur on every kernel timer event. Core 0 has the
4688:Middlewares/FreeRTOS/tasks.c ****      * responsibility to increment the tick, or increment the pended ticks if the
4689:Middlewares/FreeRTOS/tasks.c ****      * scheduler is suspended.  If pended ticks is greater than zero, the core that
4690:Middlewares/FreeRTOS/tasks.c ****      * calls xTaskResumeAll has the responsibility to increment the tick. */
4691:Middlewares/FreeRTOS/tasks.c ****     if( uxSchedulerSuspended == ( UBaseType_t ) 0U )
 3541              		.loc 1 4691 30
 3542 000a 774B     		ldr	r3, .L233
 3543 000c 1B68     		ldr	r3, [r3]
 3544              		.loc 1 4691 7
 3545 000e 002B     		cmp	r3, #0
 3546 0010 40F0DF80 		bne	.L219
 3547              	.LBB67:
4692:Middlewares/FreeRTOS/tasks.c ****     {
4693:Middlewares/FreeRTOS/tasks.c ****         /* Minor optimisation.  The tick count cannot change in this
4694:Middlewares/FreeRTOS/tasks.c ****          * block. */
4695:Middlewares/FreeRTOS/tasks.c ****         const TickType_t xConstTickCount = xTickCount + ( TickType_t ) 1;
 3548              		.loc 1 4695 55
 3549 0014 754B     		ldr	r3, .L233+4
 3550 0016 1B68     		ldr	r3, [r3]
 3551              		.loc 1 4695 26
 3552 0018 0133     		adds	r3, r3, #1
 3553 001a BB61     		str	r3, [r7, #24]
4696:Middlewares/FreeRTOS/tasks.c **** 
4697:Middlewares/FreeRTOS/tasks.c ****         /* Increment the RTOS tick, switching the delayed and overflowed
4698:Middlewares/FreeRTOS/tasks.c ****          * delayed lists if it wraps to 0. */
4699:Middlewares/FreeRTOS/tasks.c ****         xTickCount = xConstTickCount;
 3554              		.loc 1 4699 20
 3555 001c 734A     		ldr	r2, .L233+4
 3556 001e BB69     		ldr	r3, [r7, #24]
 3557 0020 1360     		str	r3, [r2]
4700:Middlewares/FreeRTOS/tasks.c **** 
4701:Middlewares/FreeRTOS/tasks.c ****         if( xConstTickCount == ( TickType_t ) 0U )
 3558              		.loc 1 4701 11
 3559 0022 BB69     		ldr	r3, [r7, #24]
 3560 0024 002B     		cmp	r3, #0
 3561 0026 10D1     		bne	.L220
 3562              	.LBB68:
4702:Middlewares/FreeRTOS/tasks.c ****         {
4703:Middlewares/FreeRTOS/tasks.c ****             taskSWITCH_DELAYED_LISTS();
 3563              		.loc 1 4703 13
 3564 0028 714B     		ldr	r3, .L233+8
 3565 002a 1B68     		ldr	r3, [r3]
 3566 002c 7B61     		str	r3, [r7, #20]
 3567 002e 714B     		ldr	r3, .L233+12
 3568 0030 1B68     		ldr	r3, [r3]
 3569 0032 6F4A     		ldr	r2, .L233+8
 3570 0034 1360     		str	r3, [r2]
 3571 0036 6F4A     		ldr	r2, .L233+12
 3572 0038 7B69     		ldr	r3, [r7, #20]
 3573 003a 1360     		str	r3, [r2]
 3574 003c 6E4B     		ldr	r3, .L233+16
 3575 003e 1B68     		ldr	r3, [r3]
 3576 0040 0133     		adds	r3, r3, #1
 3577 0042 6D4A     		ldr	r2, .L233+16
 3578 0044 1360     		str	r3, [r2]
 3579 0046 FFF7FEFF 		bl	prvResetNextTaskUnblockTime
 3580              	.L220:
ARM GAS  /tmp/ccF71V7c.s 			page 150


 3581              	.LBE68:
4704:Middlewares/FreeRTOS/tasks.c ****         }
4705:Middlewares/FreeRTOS/tasks.c ****         else
4706:Middlewares/FreeRTOS/tasks.c ****         {
4707:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
4708:Middlewares/FreeRTOS/tasks.c ****         }
4709:Middlewares/FreeRTOS/tasks.c **** 
4710:Middlewares/FreeRTOS/tasks.c ****         /* See if this tick has made a timeout expire.  Tasks are stored in
4711:Middlewares/FreeRTOS/tasks.c ****          * the  queue in the order of their wake time - meaning once one task
4712:Middlewares/FreeRTOS/tasks.c ****          * has been found whose block time has not expired there is no need to
4713:Middlewares/FreeRTOS/tasks.c ****          * look any further down the list. */
4714:Middlewares/FreeRTOS/tasks.c ****         if( xConstTickCount >= xNextTaskUnblockTime )
 3582              		.loc 1 4714 29
 3583 004a 6C4B     		ldr	r3, .L233+20
 3584 004c 1B68     		ldr	r3, [r3]
 3585              		.loc 1 4714 11
 3586 004e BA69     		ldr	r2, [r7, #24]
 3587 0050 9A42     		cmp	r2, r3
 3588 0052 C0F0A980 		bcc	.L221
 3589              	.L229:
4715:Middlewares/FreeRTOS/tasks.c ****         {
4716:Middlewares/FreeRTOS/tasks.c ****             for( ; ; )
4717:Middlewares/FreeRTOS/tasks.c ****             {
4718:Middlewares/FreeRTOS/tasks.c ****                 if( listLIST_IS_EMPTY( pxDelayedTaskList ) != pdFALSE )
 3590              		.loc 1 4718 21
 3591 0056 664B     		ldr	r3, .L233+8
 3592 0058 1B68     		ldr	r3, [r3]
 3593 005a 1B68     		ldr	r3, [r3]
 3594              		.loc 1 4718 19
 3595 005c 002B     		cmp	r3, #0
 3596 005e 04D1     		bne	.L222
4719:Middlewares/FreeRTOS/tasks.c ****                 {
4720:Middlewares/FreeRTOS/tasks.c ****                     /* The delayed list is empty.  Set xNextTaskUnblockTime
4721:Middlewares/FreeRTOS/tasks.c ****                      * to the maximum possible value so it is extremely
4722:Middlewares/FreeRTOS/tasks.c ****                      * unlikely that the
4723:Middlewares/FreeRTOS/tasks.c ****                      * if( xTickCount >= xNextTaskUnblockTime ) test will pass
4724:Middlewares/FreeRTOS/tasks.c ****                      * next time through. */
4725:Middlewares/FreeRTOS/tasks.c ****                     xNextTaskUnblockTime = portMAX_DELAY;
 3597              		.loc 1 4725 42
 3598 0060 664B     		ldr	r3, .L233+20
 3599 0062 4FF0FF32 		mov	r2, #-1
 3600 0066 1A60     		str	r2, [r3]
4726:Middlewares/FreeRTOS/tasks.c ****                     break;
 3601              		.loc 1 4726 21
 3602 0068 9EE0     		b	.L221
 3603              	.L222:
4727:Middlewares/FreeRTOS/tasks.c ****                 }
4728:Middlewares/FreeRTOS/tasks.c ****                 else
4729:Middlewares/FreeRTOS/tasks.c ****                 {
4730:Middlewares/FreeRTOS/tasks.c ****                     /* The delayed list is not empty, get the value of the
4731:Middlewares/FreeRTOS/tasks.c ****                      * item at the head of the delayed list.  This is the time
4732:Middlewares/FreeRTOS/tasks.c ****                      * at which the task at the head of the delayed list must
4733:Middlewares/FreeRTOS/tasks.c ****                      * be removed from the Blocked state. */
4734:Middlewares/FreeRTOS/tasks.c ****                     /* MISRA Ref 11.5.3 [Void pointer assignment] */
4735:Middlewares/FreeRTOS/tasks.c ****                     /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA
4736:Middlewares/FreeRTOS/tasks.c ****                     /* coverity[misra_c_2012_rule_11_5_violation] */
4737:Middlewares/FreeRTOS/tasks.c ****                     pxTCB = listGET_OWNER_OF_HEAD_ENTRY( pxDelayedTaskList );
ARM GAS  /tmp/ccF71V7c.s 			page 151


 3604              		.loc 1 4737 29
 3605 006a 614B     		ldr	r3, .L233+8
 3606 006c 1B68     		ldr	r3, [r3]
 3607 006e DB68     		ldr	r3, [r3, #12]
 3608              		.loc 1 4737 27
 3609 0070 DB68     		ldr	r3, [r3, #12]
 3610 0072 3B61     		str	r3, [r7, #16]
4738:Middlewares/FreeRTOS/tasks.c ****                     xItemValue = listGET_LIST_ITEM_VALUE( &( pxTCB->xStateListItem ) );
 3611              		.loc 1 4738 32
 3612 0074 3B69     		ldr	r3, [r7, #16]
 3613 0076 5B68     		ldr	r3, [r3, #4]
 3614 0078 FB60     		str	r3, [r7, #12]
4739:Middlewares/FreeRTOS/tasks.c **** 
4740:Middlewares/FreeRTOS/tasks.c ****                     if( xConstTickCount < xItemValue )
 3615              		.loc 1 4740 23
 3616 007a BA69     		ldr	r2, [r7, #24]
 3617 007c FB68     		ldr	r3, [r7, #12]
 3618 007e 9A42     		cmp	r2, r3
 3619 0080 03D2     		bcs	.L223
4741:Middlewares/FreeRTOS/tasks.c ****                     {
4742:Middlewares/FreeRTOS/tasks.c ****                         /* It is not time to unblock this item yet, but the
4743:Middlewares/FreeRTOS/tasks.c ****                          * item value is the time at which the task at the head
4744:Middlewares/FreeRTOS/tasks.c ****                          * of the blocked list must be removed from the Blocked
4745:Middlewares/FreeRTOS/tasks.c ****                          * state -  so record the item value in
4746:Middlewares/FreeRTOS/tasks.c ****                          * xNextTaskUnblockTime. */
4747:Middlewares/FreeRTOS/tasks.c ****                         xNextTaskUnblockTime = xItemValue;
 3620              		.loc 1 4747 46
 3621 0082 5E4A     		ldr	r2, .L233+20
 3622 0084 FB68     		ldr	r3, [r7, #12]
 3623 0086 1360     		str	r3, [r2]
4748:Middlewares/FreeRTOS/tasks.c ****                         break;
 3624              		.loc 1 4748 25
 3625 0088 8EE0     		b	.L221
 3626              	.L223:
 3627              	.LBB69:
4749:Middlewares/FreeRTOS/tasks.c ****                     }
4750:Middlewares/FreeRTOS/tasks.c ****                     else
4751:Middlewares/FreeRTOS/tasks.c ****                     {
4752:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
4753:Middlewares/FreeRTOS/tasks.c ****                     }
4754:Middlewares/FreeRTOS/tasks.c **** 
4755:Middlewares/FreeRTOS/tasks.c ****                     /* It is time to remove the item from the Blocked state. */
4756:Middlewares/FreeRTOS/tasks.c ****                     listREMOVE_ITEM( &( pxTCB->xStateListItem ) );
 3628              		.loc 1 4756 21
 3629 008a 3B69     		ldr	r3, [r7, #16]
 3630 008c 5B69     		ldr	r3, [r3, #20]
 3631 008e BB60     		str	r3, [r7, #8]
 3632 0090 3B69     		ldr	r3, [r7, #16]
 3633 0092 9B68     		ldr	r3, [r3, #8]
 3634 0094 3A69     		ldr	r2, [r7, #16]
 3635 0096 D268     		ldr	r2, [r2, #12]
 3636 0098 9A60     		str	r2, [r3, #8]
 3637 009a 3B69     		ldr	r3, [r7, #16]
 3638 009c DB68     		ldr	r3, [r3, #12]
 3639 009e 3A69     		ldr	r2, [r7, #16]
 3640 00a0 9268     		ldr	r2, [r2, #8]
 3641 00a2 5A60     		str	r2, [r3, #4]
ARM GAS  /tmp/ccF71V7c.s 			page 152


 3642 00a4 BB68     		ldr	r3, [r7, #8]
 3643 00a6 5A68     		ldr	r2, [r3, #4]
 3644 00a8 3B69     		ldr	r3, [r7, #16]
 3645 00aa 0433     		adds	r3, r3, #4
 3646 00ac 9A42     		cmp	r2, r3
 3647 00ae 03D1     		bne	.L224
 3648              		.loc 1 4756 21 is_stmt 0 discriminator 1
 3649 00b0 3B69     		ldr	r3, [r7, #16]
 3650 00b2 DA68     		ldr	r2, [r3, #12]
 3651 00b4 BB68     		ldr	r3, [r7, #8]
 3652 00b6 5A60     		str	r2, [r3, #4]
 3653              	.L224:
 3654              		.loc 1 4756 21 discriminator 3
 3655 00b8 3B69     		ldr	r3, [r7, #16]
 3656 00ba 0022     		movs	r2, #0
 3657 00bc 5A61     		str	r2, [r3, #20]
 3658 00be BB68     		ldr	r3, [r7, #8]
 3659 00c0 1B68     		ldr	r3, [r3]
 3660 00c2 5A1E     		subs	r2, r3, #1
 3661 00c4 BB68     		ldr	r3, [r7, #8]
 3662 00c6 1A60     		str	r2, [r3]
 3663              	.LBE69:
4757:Middlewares/FreeRTOS/tasks.c **** 
4758:Middlewares/FreeRTOS/tasks.c ****                     /* Is the task waiting on an event also?  If so remove
4759:Middlewares/FreeRTOS/tasks.c ****                      * it from the event list. */
4760:Middlewares/FreeRTOS/tasks.c ****                     if( listLIST_ITEM_CONTAINER( &( pxTCB->xEventListItem ) ) != NULL )
 3664              		.loc 1 4760 25 is_stmt 1
 3665 00c8 3B69     		ldr	r3, [r7, #16]
 3666 00ca 9B6A     		ldr	r3, [r3, #40]
 3667              		.loc 1 4760 23
 3668 00cc 002B     		cmp	r3, #0
 3669 00ce 1ED0     		beq	.L225
 3670              	.LBB70:
4761:Middlewares/FreeRTOS/tasks.c ****                     {
4762:Middlewares/FreeRTOS/tasks.c ****                         listREMOVE_ITEM( &( pxTCB->xEventListItem ) );
 3671              		.loc 1 4762 25
 3672 00d0 3B69     		ldr	r3, [r7, #16]
 3673 00d2 9B6A     		ldr	r3, [r3, #40]
 3674 00d4 7B60     		str	r3, [r7, #4]
 3675 00d6 3B69     		ldr	r3, [r7, #16]
 3676 00d8 DB69     		ldr	r3, [r3, #28]
 3677 00da 3A69     		ldr	r2, [r7, #16]
 3678 00dc 126A     		ldr	r2, [r2, #32]
 3679 00de 9A60     		str	r2, [r3, #8]
 3680 00e0 3B69     		ldr	r3, [r7, #16]
 3681 00e2 1B6A     		ldr	r3, [r3, #32]
 3682 00e4 3A69     		ldr	r2, [r7, #16]
 3683 00e6 D269     		ldr	r2, [r2, #28]
 3684 00e8 5A60     		str	r2, [r3, #4]
 3685 00ea 7B68     		ldr	r3, [r7, #4]
 3686 00ec 5A68     		ldr	r2, [r3, #4]
 3687 00ee 3B69     		ldr	r3, [r7, #16]
 3688 00f0 1833     		adds	r3, r3, #24
 3689 00f2 9A42     		cmp	r2, r3
 3690 00f4 03D1     		bne	.L226
 3691              		.loc 1 4762 25 is_stmt 0 discriminator 1
 3692 00f6 3B69     		ldr	r3, [r7, #16]
ARM GAS  /tmp/ccF71V7c.s 			page 153


 3693 00f8 1A6A     		ldr	r2, [r3, #32]
 3694 00fa 7B68     		ldr	r3, [r7, #4]
 3695 00fc 5A60     		str	r2, [r3, #4]
 3696              	.L226:
 3697              		.loc 1 4762 25 discriminator 3
 3698 00fe 3B69     		ldr	r3, [r7, #16]
 3699 0100 0022     		movs	r2, #0
 3700 0102 9A62     		str	r2, [r3, #40]
 3701 0104 7B68     		ldr	r3, [r7, #4]
 3702 0106 1B68     		ldr	r3, [r3]
 3703 0108 5A1E     		subs	r2, r3, #1
 3704 010a 7B68     		ldr	r3, [r7, #4]
 3705 010c 1A60     		str	r2, [r3]
 3706              	.L225:
 3707              	.LBE70:
4763:Middlewares/FreeRTOS/tasks.c ****                     }
4764:Middlewares/FreeRTOS/tasks.c ****                     else
4765:Middlewares/FreeRTOS/tasks.c ****                     {
4766:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
4767:Middlewares/FreeRTOS/tasks.c ****                     }
4768:Middlewares/FreeRTOS/tasks.c **** 
4769:Middlewares/FreeRTOS/tasks.c ****                     /* Place the unblocked task into the appropriate ready
4770:Middlewares/FreeRTOS/tasks.c ****                      * list. */
4771:Middlewares/FreeRTOS/tasks.c ****                     prvAddTaskToReadyList( pxTCB );
 3708              		.loc 1 4771 21 is_stmt 1
 3709 010e 3B69     		ldr	r3, [r7, #16]
 3710 0110 DA6A     		ldr	r2, [r3, #44]
 3711 0112 3B4B     		ldr	r3, .L233+24
 3712 0114 1B68     		ldr	r3, [r3]
 3713 0116 9A42     		cmp	r2, r3
 3714 0118 03D9     		bls	.L227
 3715              		.loc 1 4771 21 is_stmt 0 discriminator 1
 3716 011a 3B69     		ldr	r3, [r7, #16]
 3717 011c DB6A     		ldr	r3, [r3, #44]
 3718 011e 384A     		ldr	r2, .L233+24
 3719 0120 1360     		str	r3, [r2]
 3720              	.L227:
 3721              	.LBB71:
 3722              		.loc 1 4771 21 discriminator 3
 3723 0122 3B69     		ldr	r3, [r7, #16]
 3724 0124 DA6A     		ldr	r2, [r3, #44]
 3725 0126 3749     		ldr	r1, .L233+28
 3726 0128 1346     		mov	r3, r2
 3727 012a 9B00     		lsls	r3, r3, #2
 3728 012c 1344     		add	r3, r3, r2
 3729 012e 9B00     		lsls	r3, r3, #2
 3730 0130 0B44     		add	r3, r3, r1
 3731 0132 0433     		adds	r3, r3, #4
 3732 0134 1B68     		ldr	r3, [r3]
 3733 0136 3B60     		str	r3, [r7]
 3734 0138 3B69     		ldr	r3, [r7, #16]
 3735 013a 3A68     		ldr	r2, [r7]
 3736 013c 9A60     		str	r2, [r3, #8]
 3737 013e 3B68     		ldr	r3, [r7]
 3738 0140 9A68     		ldr	r2, [r3, #8]
 3739 0142 3B69     		ldr	r3, [r7, #16]
 3740 0144 DA60     		str	r2, [r3, #12]
ARM GAS  /tmp/ccF71V7c.s 			page 154


 3741 0146 3B68     		ldr	r3, [r7]
 3742 0148 9B68     		ldr	r3, [r3, #8]
 3743 014a 3A69     		ldr	r2, [r7, #16]
 3744 014c 0432     		adds	r2, r2, #4
 3745 014e 5A60     		str	r2, [r3, #4]
 3746 0150 3B69     		ldr	r3, [r7, #16]
 3747 0152 1A1D     		adds	r2, r3, #4
 3748 0154 3B68     		ldr	r3, [r7]
 3749 0156 9A60     		str	r2, [r3, #8]
 3750 0158 3B69     		ldr	r3, [r7, #16]
 3751 015a DA6A     		ldr	r2, [r3, #44]
 3752 015c 1346     		mov	r3, r2
 3753 015e 9B00     		lsls	r3, r3, #2
 3754 0160 1344     		add	r3, r3, r2
 3755 0162 9B00     		lsls	r3, r3, #2
 3756 0164 274A     		ldr	r2, .L233+28
 3757 0166 1A44     		add	r2, r2, r3
 3758 0168 3B69     		ldr	r3, [r7, #16]
 3759 016a 5A61     		str	r2, [r3, #20]
 3760 016c 3B69     		ldr	r3, [r7, #16]
 3761 016e DA6A     		ldr	r2, [r3, #44]
 3762 0170 2449     		ldr	r1, .L233+28
 3763 0172 1346     		mov	r3, r2
 3764 0174 9B00     		lsls	r3, r3, #2
 3765 0176 1344     		add	r3, r3, r2
 3766 0178 9B00     		lsls	r3, r3, #2
 3767 017a 0B44     		add	r3, r3, r1
 3768 017c 1B68     		ldr	r3, [r3]
 3769 017e 3A69     		ldr	r2, [r7, #16]
 3770 0180 D26A     		ldr	r2, [r2, #44]
 3771 0182 591C     		adds	r1, r3, #1
 3772 0184 1F48     		ldr	r0, .L233+28
 3773 0186 1346     		mov	r3, r2
 3774 0188 9B00     		lsls	r3, r3, #2
 3775 018a 1344     		add	r3, r3, r2
 3776 018c 9B00     		lsls	r3, r3, #2
 3777 018e 0344     		add	r3, r3, r0
 3778 0190 1960     		str	r1, [r3]
 3779              	.LBE71:
4772:Middlewares/FreeRTOS/tasks.c **** 
4773:Middlewares/FreeRTOS/tasks.c ****                     /* A task being unblocked cannot cause an immediate
4774:Middlewares/FreeRTOS/tasks.c ****                      * context switch if preemption is turned off. */
4775:Middlewares/FreeRTOS/tasks.c ****                     #if ( configUSE_PREEMPTION == 1 )
4776:Middlewares/FreeRTOS/tasks.c ****                     {
4777:Middlewares/FreeRTOS/tasks.c ****                         #if ( configNUMBER_OF_CORES == 1 )
4778:Middlewares/FreeRTOS/tasks.c ****                         {
4779:Middlewares/FreeRTOS/tasks.c ****                             /* Preemption is on, but a context switch should
4780:Middlewares/FreeRTOS/tasks.c ****                              * only be performed if the unblocked task's
4781:Middlewares/FreeRTOS/tasks.c ****                              * priority is higher than the currently executing
4782:Middlewares/FreeRTOS/tasks.c ****                              * task.
4783:Middlewares/FreeRTOS/tasks.c ****                              * The case of equal priority tasks sharing
4784:Middlewares/FreeRTOS/tasks.c ****                              * processing time (which happens when both
4785:Middlewares/FreeRTOS/tasks.c ****                              * preemption and time slicing are on) is
4786:Middlewares/FreeRTOS/tasks.c ****                              * handled below.*/
4787:Middlewares/FreeRTOS/tasks.c ****                             if( pxTCB->uxPriority > pxCurrentTCB->uxPriority )
 3780              		.loc 1 4787 38 is_stmt 1
 3781 0192 3B69     		ldr	r3, [r7, #16]
ARM GAS  /tmp/ccF71V7c.s 			page 155


 3782 0194 DA6A     		ldr	r2, [r3, #44]
 3783              		.loc 1 4787 65
 3784 0196 1C4B     		ldr	r3, .L233+32
 3785 0198 1B68     		ldr	r3, [r3]
 3786 019a DB6A     		ldr	r3, [r3, #44]
 3787              		.loc 1 4787 31
 3788 019c 9A42     		cmp	r2, r3
 3789 019e 7FF65AAF 		bls	.L229
4788:Middlewares/FreeRTOS/tasks.c ****                             {
4789:Middlewares/FreeRTOS/tasks.c ****                                 xSwitchRequired = pdTRUE;
 3790              		.loc 1 4789 49
 3791 01a2 0123     		movs	r3, #1
 3792 01a4 FB61     		str	r3, [r7, #28]
4718:Middlewares/FreeRTOS/tasks.c ****                 {
 3793              		.loc 1 4718 19
 3794 01a6 56E7     		b	.L229
 3795              	.L221:
4790:Middlewares/FreeRTOS/tasks.c ****                             }
4791:Middlewares/FreeRTOS/tasks.c ****                             else
4792:Middlewares/FreeRTOS/tasks.c ****                             {
4793:Middlewares/FreeRTOS/tasks.c ****                                 mtCOVERAGE_TEST_MARKER();
4794:Middlewares/FreeRTOS/tasks.c ****                             }
4795:Middlewares/FreeRTOS/tasks.c ****                         }
4796:Middlewares/FreeRTOS/tasks.c ****                         #else /* #if( configNUMBER_OF_CORES == 1 ) */
4797:Middlewares/FreeRTOS/tasks.c ****                         {
4798:Middlewares/FreeRTOS/tasks.c ****                             prvYieldForTask( pxTCB );
4799:Middlewares/FreeRTOS/tasks.c ****                         }
4800:Middlewares/FreeRTOS/tasks.c ****                         #endif /* #if( configNUMBER_OF_CORES == 1 ) */
4801:Middlewares/FreeRTOS/tasks.c ****                     }
4802:Middlewares/FreeRTOS/tasks.c ****                     #endif /* #if ( configUSE_PREEMPTION == 1 ) */
4803:Middlewares/FreeRTOS/tasks.c ****                 }
4804:Middlewares/FreeRTOS/tasks.c ****             }
4805:Middlewares/FreeRTOS/tasks.c ****         }
4806:Middlewares/FreeRTOS/tasks.c **** 
4807:Middlewares/FreeRTOS/tasks.c ****         /* Tasks of equal priority to the currently running task will share
4808:Middlewares/FreeRTOS/tasks.c ****          * processing time (time slice) if preemption is on, and the application
4809:Middlewares/FreeRTOS/tasks.c ****          * writer has not explicitly turned time slicing off. */
4810:Middlewares/FreeRTOS/tasks.c ****         #if ( ( configUSE_PREEMPTION == 1 ) && ( configUSE_TIME_SLICING == 1 ) )
4811:Middlewares/FreeRTOS/tasks.c ****         {
4812:Middlewares/FreeRTOS/tasks.c ****             #if ( configNUMBER_OF_CORES == 1 )
4813:Middlewares/FreeRTOS/tasks.c ****             {
4814:Middlewares/FreeRTOS/tasks.c ****                 if( listCURRENT_LIST_LENGTH( &( pxReadyTasksLists[ pxCurrentTCB->uxPriority ] ) ) >
 3796              		.loc 1 4814 21
 3797 01a8 174B     		ldr	r3, .L233+32
 3798 01aa 1B68     		ldr	r3, [r3]
 3799 01ac DA6A     		ldr	r2, [r3, #44]
 3800 01ae 1549     		ldr	r1, .L233+28
 3801 01b0 1346     		mov	r3, r2
 3802 01b2 9B00     		lsls	r3, r3, #2
 3803 01b4 1344     		add	r3, r3, r2
 3804 01b6 9B00     		lsls	r3, r3, #2
 3805 01b8 0B44     		add	r3, r3, r1
 3806 01ba 1B68     		ldr	r3, [r3]
 3807              		.loc 1 4814 19
 3808 01bc 012B     		cmp	r3, #1
 3809 01be 01D9     		bls	.L230
4815:Middlewares/FreeRTOS/tasks.c ****                 {
ARM GAS  /tmp/ccF71V7c.s 			page 156


4816:Middlewares/FreeRTOS/tasks.c ****                     xSwitchRequired = pdTRUE;
 3810              		.loc 1 4816 37
 3811 01c0 0123     		movs	r3, #1
 3812 01c2 FB61     		str	r3, [r7, #28]
 3813              	.L230:
4817:Middlewares/FreeRTOS/tasks.c ****                 }
4818:Middlewares/FreeRTOS/tasks.c ****                 else
4819:Middlewares/FreeRTOS/tasks.c ****                 {
4820:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
4821:Middlewares/FreeRTOS/tasks.c ****                 }
4822:Middlewares/FreeRTOS/tasks.c ****             }
4823:Middlewares/FreeRTOS/tasks.c ****             #else /* #if ( configNUMBER_OF_CORES == 1 ) */
4824:Middlewares/FreeRTOS/tasks.c ****             {
4825:Middlewares/FreeRTOS/tasks.c ****                 BaseType_t xCoreID;
4826:Middlewares/FreeRTOS/tasks.c **** 
4827:Middlewares/FreeRTOS/tasks.c ****                 for( xCoreID = 0; xCoreID < ( ( BaseType_t ) configNUMBER_OF_CORES ); xCoreID++ )
4828:Middlewares/FreeRTOS/tasks.c ****                 {
4829:Middlewares/FreeRTOS/tasks.c ****                     if( listCURRENT_LIST_LENGTH( &( pxReadyTasksLists[ pxCurrentTCBs[ xCoreID ]->ux
4830:Middlewares/FreeRTOS/tasks.c ****                     {
4831:Middlewares/FreeRTOS/tasks.c ****                         xYieldRequiredForCore[ xCoreID ] = pdTRUE;
4832:Middlewares/FreeRTOS/tasks.c ****                     }
4833:Middlewares/FreeRTOS/tasks.c ****                     else
4834:Middlewares/FreeRTOS/tasks.c ****                     {
4835:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
4836:Middlewares/FreeRTOS/tasks.c ****                     }
4837:Middlewares/FreeRTOS/tasks.c ****                 }
4838:Middlewares/FreeRTOS/tasks.c ****             }
4839:Middlewares/FreeRTOS/tasks.c ****             #endif /* #if ( configNUMBER_OF_CORES == 1 ) */
4840:Middlewares/FreeRTOS/tasks.c ****         }
4841:Middlewares/FreeRTOS/tasks.c ****         #endif /* #if ( ( configUSE_PREEMPTION == 1 ) && ( configUSE_TIME_SLICING == 1 ) ) */
4842:Middlewares/FreeRTOS/tasks.c **** 
4843:Middlewares/FreeRTOS/tasks.c ****         #if ( configUSE_TICK_HOOK == 1 )
4844:Middlewares/FreeRTOS/tasks.c ****         {
4845:Middlewares/FreeRTOS/tasks.c ****             /* Guard against the tick hook being called when the pended tick
4846:Middlewares/FreeRTOS/tasks.c ****              * count is being unwound (when the scheduler is being unlocked). */
4847:Middlewares/FreeRTOS/tasks.c ****             if( xPendedTicks == ( TickType_t ) 0 )
4848:Middlewares/FreeRTOS/tasks.c ****             {
4849:Middlewares/FreeRTOS/tasks.c ****                 vApplicationTickHook();
4850:Middlewares/FreeRTOS/tasks.c ****             }
4851:Middlewares/FreeRTOS/tasks.c ****             else
4852:Middlewares/FreeRTOS/tasks.c ****             {
4853:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
4854:Middlewares/FreeRTOS/tasks.c ****             }
4855:Middlewares/FreeRTOS/tasks.c ****         }
4856:Middlewares/FreeRTOS/tasks.c ****         #endif /* configUSE_TICK_HOOK */
4857:Middlewares/FreeRTOS/tasks.c **** 
4858:Middlewares/FreeRTOS/tasks.c ****         #if ( configUSE_PREEMPTION == 1 )
4859:Middlewares/FreeRTOS/tasks.c ****         {
4860:Middlewares/FreeRTOS/tasks.c ****             #if ( configNUMBER_OF_CORES == 1 )
4861:Middlewares/FreeRTOS/tasks.c ****             {
4862:Middlewares/FreeRTOS/tasks.c ****                 /* For single core the core ID is always 0. */
4863:Middlewares/FreeRTOS/tasks.c ****                 if( xYieldPendings[ 0 ] != pdFALSE )
 3814              		.loc 1 4863 35
 3815 01c4 114B     		ldr	r3, .L233+36
 3816 01c6 1B68     		ldr	r3, [r3]
 3817              		.loc 1 4863 19
 3818 01c8 002B     		cmp	r3, #0
ARM GAS  /tmp/ccF71V7c.s 			page 157


 3819 01ca 07D0     		beq	.L231
4864:Middlewares/FreeRTOS/tasks.c ****                 {
4865:Middlewares/FreeRTOS/tasks.c ****                     xSwitchRequired = pdTRUE;
 3820              		.loc 1 4865 37
 3821 01cc 0123     		movs	r3, #1
 3822 01ce FB61     		str	r3, [r7, #28]
 3823 01d0 04E0     		b	.L231
 3824              	.L219:
 3825              	.LBE67:
4866:Middlewares/FreeRTOS/tasks.c ****                 }
4867:Middlewares/FreeRTOS/tasks.c ****                 else
4868:Middlewares/FreeRTOS/tasks.c ****                 {
4869:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
4870:Middlewares/FreeRTOS/tasks.c ****                 }
4871:Middlewares/FreeRTOS/tasks.c ****             }
4872:Middlewares/FreeRTOS/tasks.c ****             #else /* #if ( configNUMBER_OF_CORES == 1 ) */
4873:Middlewares/FreeRTOS/tasks.c ****             {
4874:Middlewares/FreeRTOS/tasks.c ****                 BaseType_t xCoreID, xCurrentCoreID;
4875:Middlewares/FreeRTOS/tasks.c ****                 xCurrentCoreID = ( BaseType_t ) portGET_CORE_ID();
4876:Middlewares/FreeRTOS/tasks.c **** 
4877:Middlewares/FreeRTOS/tasks.c ****                 for( xCoreID = 0; xCoreID < ( BaseType_t ) configNUMBER_OF_CORES; xCoreID++ )
4878:Middlewares/FreeRTOS/tasks.c ****                 {
4879:Middlewares/FreeRTOS/tasks.c ****                     #if ( configUSE_TASK_PREEMPTION_DISABLE == 1 )
4880:Middlewares/FreeRTOS/tasks.c ****                         if( pxCurrentTCBs[ xCoreID ]->xPreemptionDisable == pdFALSE )
4881:Middlewares/FreeRTOS/tasks.c ****                     #endif
4882:Middlewares/FreeRTOS/tasks.c ****                     {
4883:Middlewares/FreeRTOS/tasks.c ****                         if( ( xYieldRequiredForCore[ xCoreID ] != pdFALSE ) || ( xYieldPendings[ xC
4884:Middlewares/FreeRTOS/tasks.c ****                         {
4885:Middlewares/FreeRTOS/tasks.c ****                             if( xCoreID == xCurrentCoreID )
4886:Middlewares/FreeRTOS/tasks.c ****                             {
4887:Middlewares/FreeRTOS/tasks.c ****                                 xSwitchRequired = pdTRUE;
4888:Middlewares/FreeRTOS/tasks.c ****                             }
4889:Middlewares/FreeRTOS/tasks.c ****                             else
4890:Middlewares/FreeRTOS/tasks.c ****                             {
4891:Middlewares/FreeRTOS/tasks.c ****                                 prvYieldCore( xCoreID );
4892:Middlewares/FreeRTOS/tasks.c ****                             }
4893:Middlewares/FreeRTOS/tasks.c ****                         }
4894:Middlewares/FreeRTOS/tasks.c ****                         else
4895:Middlewares/FreeRTOS/tasks.c ****                         {
4896:Middlewares/FreeRTOS/tasks.c ****                             mtCOVERAGE_TEST_MARKER();
4897:Middlewares/FreeRTOS/tasks.c ****                         }
4898:Middlewares/FreeRTOS/tasks.c ****                     }
4899:Middlewares/FreeRTOS/tasks.c ****                 }
4900:Middlewares/FreeRTOS/tasks.c ****             }
4901:Middlewares/FreeRTOS/tasks.c ****             #endif /* #if ( configNUMBER_OF_CORES == 1 ) */
4902:Middlewares/FreeRTOS/tasks.c ****         }
4903:Middlewares/FreeRTOS/tasks.c ****         #endif /* #if ( configUSE_PREEMPTION == 1 ) */
4904:Middlewares/FreeRTOS/tasks.c ****     }
4905:Middlewares/FreeRTOS/tasks.c ****     else
4906:Middlewares/FreeRTOS/tasks.c ****     {
4907:Middlewares/FreeRTOS/tasks.c ****         xPendedTicks += 1U;
 3826              		.loc 1 4907 22
 3827 01d2 0F4B     		ldr	r3, .L233+40
 3828 01d4 1B68     		ldr	r3, [r3]
 3829 01d6 0133     		adds	r3, r3, #1
 3830 01d8 0D4A     		ldr	r2, .L233+40
 3831 01da 1360     		str	r3, [r2]
ARM GAS  /tmp/ccF71V7c.s 			page 158


 3832              	.L231:
4908:Middlewares/FreeRTOS/tasks.c **** 
4909:Middlewares/FreeRTOS/tasks.c ****         /* The tick hook gets called at regular intervals, even if the
4910:Middlewares/FreeRTOS/tasks.c ****          * scheduler is locked. */
4911:Middlewares/FreeRTOS/tasks.c ****         #if ( configUSE_TICK_HOOK == 1 )
4912:Middlewares/FreeRTOS/tasks.c ****         {
4913:Middlewares/FreeRTOS/tasks.c ****             vApplicationTickHook();
4914:Middlewares/FreeRTOS/tasks.c ****         }
4915:Middlewares/FreeRTOS/tasks.c ****         #endif
4916:Middlewares/FreeRTOS/tasks.c ****     }
4917:Middlewares/FreeRTOS/tasks.c **** 
4918:Middlewares/FreeRTOS/tasks.c ****     traceRETURN_xTaskIncrementTick( xSwitchRequired );
4919:Middlewares/FreeRTOS/tasks.c **** 
4920:Middlewares/FreeRTOS/tasks.c ****     return xSwitchRequired;
 3833              		.loc 1 4920 12
 3834 01dc FB69     		ldr	r3, [r7, #28]
4921:Middlewares/FreeRTOS/tasks.c **** }
 3835              		.loc 1 4921 1
 3836 01de 1846     		mov	r0, r3
 3837 01e0 2037     		adds	r7, r7, #32
 3838              		.cfi_def_cfa_offset 8
 3839 01e2 BD46     		mov	sp, r7
 3840              		.cfi_def_cfa_register 13
 3841              		@ sp needed
 3842 01e4 80BD     		pop	{r7, pc}
 3843              	.L234:
 3844 01e6 00BF     		.align	2
 3845              	.L233:
 3846 01e8 00000000 		.word	uxSchedulerSuspended
 3847 01ec 00000000 		.word	xTickCount
 3848 01f0 00000000 		.word	pxDelayedTaskList
 3849 01f4 00000000 		.word	pxOverflowDelayedTaskList
 3850 01f8 00000000 		.word	xNumOfOverflows
 3851 01fc 00000000 		.word	xNextTaskUnblockTime
 3852 0200 00000000 		.word	uxTopReadyPriority
 3853 0204 00000000 		.word	pxReadyTasksLists
 3854 0208 00000000 		.word	pxCurrentTCB
 3855 020c 00000000 		.word	xYieldPendings
 3856 0210 00000000 		.word	xPendedTicks
 3857              		.cfi_endproc
 3858              	.LFE35:
 3860              		.section	.text.vTaskSwitchContext,"ax",%progbits
 3861              		.align	1
 3862              		.global	vTaskSwitchContext
 3863              		.syntax unified
 3864              		.thumb
 3865              		.thumb_func
 3867              	vTaskSwitchContext:
 3868              	.LFB36:
4922:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
4923:Middlewares/FreeRTOS/tasks.c **** 
4924:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_APPLICATION_TASK_TAG == 1 )
4925:Middlewares/FreeRTOS/tasks.c **** 
4926:Middlewares/FreeRTOS/tasks.c ****     void vTaskSetApplicationTaskTag( TaskHandle_t xTask,
4927:Middlewares/FreeRTOS/tasks.c ****                                      TaskHookFunction_t pxHookFunction )
4928:Middlewares/FreeRTOS/tasks.c ****     {
4929:Middlewares/FreeRTOS/tasks.c ****         TCB_t * xTCB;
ARM GAS  /tmp/ccF71V7c.s 			page 159


4930:Middlewares/FreeRTOS/tasks.c **** 
4931:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskSetApplicationTaskTag( xTask, pxHookFunction );
4932:Middlewares/FreeRTOS/tasks.c **** 
4933:Middlewares/FreeRTOS/tasks.c ****         /* If xTask is NULL then it is the task hook of the calling task that is
4934:Middlewares/FreeRTOS/tasks.c ****          * getting set. */
4935:Middlewares/FreeRTOS/tasks.c ****         if( xTask == NULL )
4936:Middlewares/FreeRTOS/tasks.c ****         {
4937:Middlewares/FreeRTOS/tasks.c ****             xTCB = ( TCB_t * ) pxCurrentTCB;
4938:Middlewares/FreeRTOS/tasks.c ****         }
4939:Middlewares/FreeRTOS/tasks.c ****         else
4940:Middlewares/FreeRTOS/tasks.c ****         {
4941:Middlewares/FreeRTOS/tasks.c ****             xTCB = xTask;
4942:Middlewares/FreeRTOS/tasks.c ****         }
4943:Middlewares/FreeRTOS/tasks.c **** 
4944:Middlewares/FreeRTOS/tasks.c ****         /* Save the hook function in the TCB.  A critical section is required as
4945:Middlewares/FreeRTOS/tasks.c ****          * the value can be accessed from an interrupt. */
4946:Middlewares/FreeRTOS/tasks.c ****         taskENTER_CRITICAL();
4947:Middlewares/FreeRTOS/tasks.c ****         {
4948:Middlewares/FreeRTOS/tasks.c ****             xTCB->pxTaskTag = pxHookFunction;
4949:Middlewares/FreeRTOS/tasks.c ****         }
4950:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL();
4951:Middlewares/FreeRTOS/tasks.c **** 
4952:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskSetApplicationTaskTag();
4953:Middlewares/FreeRTOS/tasks.c ****     }
4954:Middlewares/FreeRTOS/tasks.c **** 
4955:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_APPLICATION_TASK_TAG */
4956:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
4957:Middlewares/FreeRTOS/tasks.c **** 
4958:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_APPLICATION_TASK_TAG == 1 )
4959:Middlewares/FreeRTOS/tasks.c **** 
4960:Middlewares/FreeRTOS/tasks.c ****     TaskHookFunction_t xTaskGetApplicationTaskTag( TaskHandle_t xTask )
4961:Middlewares/FreeRTOS/tasks.c ****     {
4962:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
4963:Middlewares/FreeRTOS/tasks.c ****         TaskHookFunction_t xReturn;
4964:Middlewares/FreeRTOS/tasks.c **** 
4965:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskGetApplicationTaskTag( xTask );
4966:Middlewares/FreeRTOS/tasks.c **** 
4967:Middlewares/FreeRTOS/tasks.c ****         /* If xTask is NULL then set the calling task's hook. */
4968:Middlewares/FreeRTOS/tasks.c ****         pxTCB = prvGetTCBFromHandle( xTask );
4969:Middlewares/FreeRTOS/tasks.c **** 
4970:Middlewares/FreeRTOS/tasks.c ****         /* Save the hook function in the TCB.  A critical section is required as
4971:Middlewares/FreeRTOS/tasks.c ****          * the value can be accessed from an interrupt. */
4972:Middlewares/FreeRTOS/tasks.c ****         taskENTER_CRITICAL();
4973:Middlewares/FreeRTOS/tasks.c ****         {
4974:Middlewares/FreeRTOS/tasks.c ****             xReturn = pxTCB->pxTaskTag;
4975:Middlewares/FreeRTOS/tasks.c ****         }
4976:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL();
4977:Middlewares/FreeRTOS/tasks.c **** 
4978:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskGetApplicationTaskTag( xReturn );
4979:Middlewares/FreeRTOS/tasks.c **** 
4980:Middlewares/FreeRTOS/tasks.c ****         return xReturn;
4981:Middlewares/FreeRTOS/tasks.c ****     }
4982:Middlewares/FreeRTOS/tasks.c **** 
4983:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_APPLICATION_TASK_TAG */
4984:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
4985:Middlewares/FreeRTOS/tasks.c **** 
4986:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_APPLICATION_TASK_TAG == 1 )
ARM GAS  /tmp/ccF71V7c.s 			page 160


4987:Middlewares/FreeRTOS/tasks.c **** 
4988:Middlewares/FreeRTOS/tasks.c ****     TaskHookFunction_t xTaskGetApplicationTaskTagFromISR( TaskHandle_t xTask )
4989:Middlewares/FreeRTOS/tasks.c ****     {
4990:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
4991:Middlewares/FreeRTOS/tasks.c ****         TaskHookFunction_t xReturn;
4992:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxSavedInterruptStatus;
4993:Middlewares/FreeRTOS/tasks.c **** 
4994:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskGetApplicationTaskTagFromISR( xTask );
4995:Middlewares/FreeRTOS/tasks.c **** 
4996:Middlewares/FreeRTOS/tasks.c ****         /* If xTask is NULL then set the calling task's hook. */
4997:Middlewares/FreeRTOS/tasks.c ****         pxTCB = prvGetTCBFromHandle( xTask );
4998:Middlewares/FreeRTOS/tasks.c **** 
4999:Middlewares/FreeRTOS/tasks.c ****         /* Save the hook function in the TCB.  A critical section is required as
5000:Middlewares/FreeRTOS/tasks.c ****          * the value can be accessed from an interrupt. */
5001:Middlewares/FreeRTOS/tasks.c ****         /* MISRA Ref 4.7.1 [Return value shall be checked] */
5002:Middlewares/FreeRTOS/tasks.c ****         /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#dir-47 *
5003:Middlewares/FreeRTOS/tasks.c ****         /* coverity[misra_c_2012_directive_4_7_violation] */
5004:Middlewares/FreeRTOS/tasks.c ****         uxSavedInterruptStatus = taskENTER_CRITICAL_FROM_ISR();
5005:Middlewares/FreeRTOS/tasks.c ****         {
5006:Middlewares/FreeRTOS/tasks.c ****             xReturn = pxTCB->pxTaskTag;
5007:Middlewares/FreeRTOS/tasks.c ****         }
5008:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL_FROM_ISR( uxSavedInterruptStatus );
5009:Middlewares/FreeRTOS/tasks.c **** 
5010:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskGetApplicationTaskTagFromISR( xReturn );
5011:Middlewares/FreeRTOS/tasks.c **** 
5012:Middlewares/FreeRTOS/tasks.c ****         return xReturn;
5013:Middlewares/FreeRTOS/tasks.c ****     }
5014:Middlewares/FreeRTOS/tasks.c **** 
5015:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_APPLICATION_TASK_TAG */
5016:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
5017:Middlewares/FreeRTOS/tasks.c **** 
5018:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_APPLICATION_TASK_TAG == 1 )
5019:Middlewares/FreeRTOS/tasks.c **** 
5020:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xTaskCallApplicationTaskHook( TaskHandle_t xTask,
5021:Middlewares/FreeRTOS/tasks.c ****                                              void * pvParameter )
5022:Middlewares/FreeRTOS/tasks.c ****     {
5023:Middlewares/FreeRTOS/tasks.c ****         TCB_t * xTCB;
5024:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xReturn;
5025:Middlewares/FreeRTOS/tasks.c **** 
5026:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskCallApplicationTaskHook( xTask, pvParameter );
5027:Middlewares/FreeRTOS/tasks.c **** 
5028:Middlewares/FreeRTOS/tasks.c ****         /* If xTask is NULL then we are calling our own task hook. */
5029:Middlewares/FreeRTOS/tasks.c ****         if( xTask == NULL )
5030:Middlewares/FreeRTOS/tasks.c ****         {
5031:Middlewares/FreeRTOS/tasks.c ****             xTCB = pxCurrentTCB;
5032:Middlewares/FreeRTOS/tasks.c ****         }
5033:Middlewares/FreeRTOS/tasks.c ****         else
5034:Middlewares/FreeRTOS/tasks.c ****         {
5035:Middlewares/FreeRTOS/tasks.c ****             xTCB = xTask;
5036:Middlewares/FreeRTOS/tasks.c ****         }
5037:Middlewares/FreeRTOS/tasks.c **** 
5038:Middlewares/FreeRTOS/tasks.c ****         if( xTCB->pxTaskTag != NULL )
5039:Middlewares/FreeRTOS/tasks.c ****         {
5040:Middlewares/FreeRTOS/tasks.c ****             xReturn = xTCB->pxTaskTag( pvParameter );
5041:Middlewares/FreeRTOS/tasks.c ****         }
5042:Middlewares/FreeRTOS/tasks.c ****         else
5043:Middlewares/FreeRTOS/tasks.c ****         {
ARM GAS  /tmp/ccF71V7c.s 			page 161


5044:Middlewares/FreeRTOS/tasks.c ****             xReturn = pdFAIL;
5045:Middlewares/FreeRTOS/tasks.c ****         }
5046:Middlewares/FreeRTOS/tasks.c **** 
5047:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskCallApplicationTaskHook( xReturn );
5048:Middlewares/FreeRTOS/tasks.c **** 
5049:Middlewares/FreeRTOS/tasks.c ****         return xReturn;
5050:Middlewares/FreeRTOS/tasks.c ****     }
5051:Middlewares/FreeRTOS/tasks.c **** 
5052:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_APPLICATION_TASK_TAG */
5053:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
5054:Middlewares/FreeRTOS/tasks.c **** 
5055:Middlewares/FreeRTOS/tasks.c **** #if ( configNUMBER_OF_CORES == 1 )
5056:Middlewares/FreeRTOS/tasks.c ****     void vTaskSwitchContext( void )
5057:Middlewares/FreeRTOS/tasks.c ****     {
 3869              		.loc 1 5057 5
 3870              		.cfi_startproc
 3871              		@ args = 0, pretend = 0, frame = 8
 3872              		@ frame_needed = 1, uses_anonymous_args = 0
 3873              		@ link register save eliminated.
 3874 0000 80B4     		push	{r7}
 3875              		.cfi_def_cfa_offset 4
 3876              		.cfi_offset 7, -4
 3877 0002 83B0     		sub	sp, sp, #12
 3878              		.cfi_def_cfa_offset 16
 3879 0004 00AF     		add	r7, sp, #0
 3880              		.cfi_def_cfa_register 7
5058:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskSwitchContext();
5059:Middlewares/FreeRTOS/tasks.c **** 
5060:Middlewares/FreeRTOS/tasks.c ****         if( uxSchedulerSuspended != ( UBaseType_t ) 0U )
 3881              		.loc 1 5060 34
 3882 0006 214B     		ldr	r3, .L242
 3883 0008 1B68     		ldr	r3, [r3]
 3884              		.loc 1 5060 11
 3885 000a 002B     		cmp	r3, #0
 3886 000c 03D0     		beq	.L236
5061:Middlewares/FreeRTOS/tasks.c ****         {
5062:Middlewares/FreeRTOS/tasks.c ****             /* The scheduler is currently suspended - do not allow a context
5063:Middlewares/FreeRTOS/tasks.c ****              * switch. */
5064:Middlewares/FreeRTOS/tasks.c ****             xYieldPendings[ 0 ] = pdTRUE;
 3887              		.loc 1 5064 33
 3888 000e 204B     		ldr	r3, .L242+4
 3889 0010 0122     		movs	r2, #1
 3890 0012 1A60     		str	r2, [r3]
5065:Middlewares/FreeRTOS/tasks.c ****         }
5066:Middlewares/FreeRTOS/tasks.c ****         else
5067:Middlewares/FreeRTOS/tasks.c ****         {
5068:Middlewares/FreeRTOS/tasks.c ****             xYieldPendings[ 0 ] = pdFALSE;
5069:Middlewares/FreeRTOS/tasks.c ****             traceTASK_SWITCHED_OUT();
5070:Middlewares/FreeRTOS/tasks.c **** 
5071:Middlewares/FreeRTOS/tasks.c ****             #if ( configGENERATE_RUN_TIME_STATS == 1 )
5072:Middlewares/FreeRTOS/tasks.c ****             {
5073:Middlewares/FreeRTOS/tasks.c ****                 #ifdef portALT_GET_RUN_TIME_COUNTER_VALUE
5074:Middlewares/FreeRTOS/tasks.c ****                     portALT_GET_RUN_TIME_COUNTER_VALUE( ulTotalRunTime[ 0 ] );
5075:Middlewares/FreeRTOS/tasks.c ****                 #else
5076:Middlewares/FreeRTOS/tasks.c ****                     ulTotalRunTime[ 0 ] = portGET_RUN_TIME_COUNTER_VALUE();
5077:Middlewares/FreeRTOS/tasks.c ****                 #endif
5078:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 162


5079:Middlewares/FreeRTOS/tasks.c ****                 /* Add the amount of time the task has been running to the
5080:Middlewares/FreeRTOS/tasks.c ****                  * accumulated time so far.  The time the task started running was
5081:Middlewares/FreeRTOS/tasks.c ****                  * stored in ulTaskSwitchedInTime.  Note that there is no overflow
5082:Middlewares/FreeRTOS/tasks.c ****                  * protection here so count values are only valid until the timer
5083:Middlewares/FreeRTOS/tasks.c ****                  * overflows.  The guard against negative values is to protect
5084:Middlewares/FreeRTOS/tasks.c ****                  * against suspect run time stat counter implementations - which
5085:Middlewares/FreeRTOS/tasks.c ****                  * are provided by the application, not the kernel. */
5086:Middlewares/FreeRTOS/tasks.c ****                 if( ulTotalRunTime[ 0 ] > ulTaskSwitchedInTime[ 0 ] )
5087:Middlewares/FreeRTOS/tasks.c ****                 {
5088:Middlewares/FreeRTOS/tasks.c ****                     pxCurrentTCB->ulRunTimeCounter += ( ulTotalRunTime[ 0 ] - ulTaskSwitchedInTime[
5089:Middlewares/FreeRTOS/tasks.c ****                 }
5090:Middlewares/FreeRTOS/tasks.c ****                 else
5091:Middlewares/FreeRTOS/tasks.c ****                 {
5092:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
5093:Middlewares/FreeRTOS/tasks.c ****                 }
5094:Middlewares/FreeRTOS/tasks.c **** 
5095:Middlewares/FreeRTOS/tasks.c ****                 ulTaskSwitchedInTime[ 0 ] = ulTotalRunTime[ 0 ];
5096:Middlewares/FreeRTOS/tasks.c ****             }
5097:Middlewares/FreeRTOS/tasks.c ****             #endif /* configGENERATE_RUN_TIME_STATS */
5098:Middlewares/FreeRTOS/tasks.c **** 
5099:Middlewares/FreeRTOS/tasks.c ****             /* Check for stack overflow, if configured. */
5100:Middlewares/FreeRTOS/tasks.c ****             taskCHECK_FOR_STACK_OVERFLOW();
5101:Middlewares/FreeRTOS/tasks.c **** 
5102:Middlewares/FreeRTOS/tasks.c ****             /* Before the currently running task is switched out, save its errno. */
5103:Middlewares/FreeRTOS/tasks.c ****             #if ( configUSE_POSIX_ERRNO == 1 )
5104:Middlewares/FreeRTOS/tasks.c ****             {
5105:Middlewares/FreeRTOS/tasks.c ****                 pxCurrentTCB->iTaskErrno = FreeRTOS_errno;
5106:Middlewares/FreeRTOS/tasks.c ****             }
5107:Middlewares/FreeRTOS/tasks.c ****             #endif
5108:Middlewares/FreeRTOS/tasks.c **** 
5109:Middlewares/FreeRTOS/tasks.c ****             /* Select a new task to run using either the generic C or port
5110:Middlewares/FreeRTOS/tasks.c ****              * optimised asm code. */
5111:Middlewares/FreeRTOS/tasks.c ****             /* MISRA Ref 11.5.3 [Void pointer assignment] */
5112:Middlewares/FreeRTOS/tasks.c ****             /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#rule
5113:Middlewares/FreeRTOS/tasks.c ****             /* coverity[misra_c_2012_rule_11_5_violation] */
5114:Middlewares/FreeRTOS/tasks.c ****             taskSELECT_HIGHEST_PRIORITY_TASK();
5115:Middlewares/FreeRTOS/tasks.c ****             traceTASK_SWITCHED_IN();
5116:Middlewares/FreeRTOS/tasks.c **** 
5117:Middlewares/FreeRTOS/tasks.c ****             /* Macro to inject port specific behaviour immediately after
5118:Middlewares/FreeRTOS/tasks.c ****              * switching tasks, such as setting an end of stack watchpoint
5119:Middlewares/FreeRTOS/tasks.c ****              * or reconfiguring the MPU. */
5120:Middlewares/FreeRTOS/tasks.c ****             portTASK_SWITCH_HOOK( pxCurrentTCB );
5121:Middlewares/FreeRTOS/tasks.c **** 
5122:Middlewares/FreeRTOS/tasks.c ****             /* After the new task is switched in, update the global errno. */
5123:Middlewares/FreeRTOS/tasks.c ****             #if ( configUSE_POSIX_ERRNO == 1 )
5124:Middlewares/FreeRTOS/tasks.c ****             {
5125:Middlewares/FreeRTOS/tasks.c ****                 FreeRTOS_errno = pxCurrentTCB->iTaskErrno;
5126:Middlewares/FreeRTOS/tasks.c ****             }
5127:Middlewares/FreeRTOS/tasks.c ****             #endif
5128:Middlewares/FreeRTOS/tasks.c **** 
5129:Middlewares/FreeRTOS/tasks.c ****             #if ( configUSE_C_RUNTIME_TLS_SUPPORT == 1 )
5130:Middlewares/FreeRTOS/tasks.c ****             {
5131:Middlewares/FreeRTOS/tasks.c ****                 /* Switch C-Runtime's TLS Block to point to the TLS
5132:Middlewares/FreeRTOS/tasks.c ****                  * Block specific to this task. */
5133:Middlewares/FreeRTOS/tasks.c ****                 configSET_TLS_BLOCK( pxCurrentTCB->xTLSBlock );
5134:Middlewares/FreeRTOS/tasks.c ****             }
5135:Middlewares/FreeRTOS/tasks.c ****             #endif
ARM GAS  /tmp/ccF71V7c.s 			page 163


5136:Middlewares/FreeRTOS/tasks.c ****         }
5137:Middlewares/FreeRTOS/tasks.c **** 
5138:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskSwitchContext();
5139:Middlewares/FreeRTOS/tasks.c ****     }
 3891              		.loc 1 5139 5
 3892 0014 34E0     		b	.L241
 3893              	.L236:
5068:Middlewares/FreeRTOS/tasks.c ****             traceTASK_SWITCHED_OUT();
 3894              		.loc 1 5068 33
 3895 0016 1E4B     		ldr	r3, .L242+4
 3896 0018 0022     		movs	r2, #0
 3897 001a 1A60     		str	r2, [r3]
 3898              	.LBB72:
5114:Middlewares/FreeRTOS/tasks.c ****             traceTASK_SWITCHED_IN();
 3899              		.loc 1 5114 13
 3900 001c 1D4B     		ldr	r3, .L242+8
 3901 001e 1B68     		ldr	r3, [r3]
 3902 0020 7B60     		str	r3, [r7, #4]
 3903 0022 02E0     		b	.L238
 3904              	.L239:
5114:Middlewares/FreeRTOS/tasks.c ****             traceTASK_SWITCHED_IN();
 3905              		.loc 1 5114 13 is_stmt 0 discriminator 3
 3906 0024 7B68     		ldr	r3, [r7, #4]
 3907 0026 013B     		subs	r3, r3, #1
 3908 0028 7B60     		str	r3, [r7, #4]
 3909              	.L238:
5114:Middlewares/FreeRTOS/tasks.c ****             traceTASK_SWITCHED_IN();
 3910              		.loc 1 5114 13 discriminator 1
 3911 002a 1B49     		ldr	r1, .L242+12
 3912 002c 7A68     		ldr	r2, [r7, #4]
 3913 002e 1346     		mov	r3, r2
 3914 0030 9B00     		lsls	r3, r3, #2
 3915 0032 1344     		add	r3, r3, r2
 3916 0034 9B00     		lsls	r3, r3, #2
 3917 0036 0B44     		add	r3, r3, r1
 3918 0038 1B68     		ldr	r3, [r3]
 3919 003a 002B     		cmp	r3, #0
 3920 003c F2D0     		beq	.L239
 3921              	.LBB73:
5114:Middlewares/FreeRTOS/tasks.c ****             traceTASK_SWITCHED_IN();
 3922              		.loc 1 5114 13 discriminator 4
 3923 003e 7A68     		ldr	r2, [r7, #4]
 3924 0040 1346     		mov	r3, r2
 3925 0042 9B00     		lsls	r3, r3, #2
 3926 0044 1344     		add	r3, r3, r2
 3927 0046 9B00     		lsls	r3, r3, #2
 3928 0048 134A     		ldr	r2, .L242+12
 3929 004a 1344     		add	r3, r3, r2
 3930 004c 3B60     		str	r3, [r7]
 3931 004e 3B68     		ldr	r3, [r7]
 3932 0050 5B68     		ldr	r3, [r3, #4]
 3933 0052 5A68     		ldr	r2, [r3, #4]
 3934 0054 3B68     		ldr	r3, [r7]
 3935 0056 5A60     		str	r2, [r3, #4]
 3936 0058 3B68     		ldr	r3, [r7]
 3937 005a 5A68     		ldr	r2, [r3, #4]
 3938 005c 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccF71V7c.s 			page 164


 3939 005e 0833     		adds	r3, r3, #8
 3940 0060 9A42     		cmp	r2, r3
 3941 0062 03D1     		bne	.L240
5114:Middlewares/FreeRTOS/tasks.c ****             traceTASK_SWITCHED_IN();
 3942              		.loc 1 5114 13 discriminator 5
 3943 0064 3B68     		ldr	r3, [r7]
 3944 0066 DA68     		ldr	r2, [r3, #12]
 3945 0068 3B68     		ldr	r3, [r7]
 3946 006a 5A60     		str	r2, [r3, #4]
 3947              	.L240:
5114:Middlewares/FreeRTOS/tasks.c ****             traceTASK_SWITCHED_IN();
 3948              		.loc 1 5114 13 discriminator 7
 3949 006c 3B68     		ldr	r3, [r7]
 3950 006e 5B68     		ldr	r3, [r3, #4]
 3951 0070 DB68     		ldr	r3, [r3, #12]
 3952 0072 0A4A     		ldr	r2, .L242+16
 3953 0074 1360     		str	r3, [r2]
 3954              	.LBE73:
 3955 0076 074A     		ldr	r2, .L242+8
 3956 0078 7B68     		ldr	r3, [r7, #4]
 3957 007a 1360     		str	r3, [r2]
 3958              	.LBE72:
5120:Middlewares/FreeRTOS/tasks.c **** 
 3959              		.loc 1 5120 13 is_stmt 1
 3960 007c 074B     		ldr	r3, .L242+16
 3961 007e 1B68     		ldr	r3, [r3]
 3962              	.L241:
 3963              		.loc 1 5139 5
 3964 0080 00BF     		nop
 3965 0082 0C37     		adds	r7, r7, #12
 3966              		.cfi_def_cfa_offset 4
 3967 0084 BD46     		mov	sp, r7
 3968              		.cfi_def_cfa_register 13
 3969              		@ sp needed
 3970 0086 5DF8047B 		ldr	r7, [sp], #4
 3971              		.cfi_restore 7
 3972              		.cfi_def_cfa_offset 0
 3973 008a 7047     		bx	lr
 3974              	.L243:
 3975              		.align	2
 3976              	.L242:
 3977 008c 00000000 		.word	uxSchedulerSuspended
 3978 0090 00000000 		.word	xYieldPendings
 3979 0094 00000000 		.word	uxTopReadyPriority
 3980 0098 00000000 		.word	pxReadyTasksLists
 3981 009c 00000000 		.word	pxCurrentTCB
 3982              		.cfi_endproc
 3983              	.LFE36:
 3985              		.section	.text.vTaskPlaceOnEventList,"ax",%progbits
 3986              		.align	1
 3987              		.global	vTaskPlaceOnEventList
 3988              		.syntax unified
 3989              		.thumb
 3990              		.thumb_func
 3992              	vTaskPlaceOnEventList:
 3993              	.LFB37:
5140:Middlewares/FreeRTOS/tasks.c **** #else /* if ( configNUMBER_OF_CORES == 1 ) */
ARM GAS  /tmp/ccF71V7c.s 			page 165


5141:Middlewares/FreeRTOS/tasks.c ****     void vTaskSwitchContext( BaseType_t xCoreID )
5142:Middlewares/FreeRTOS/tasks.c ****     {
5143:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskSwitchContext();
5144:Middlewares/FreeRTOS/tasks.c **** 
5145:Middlewares/FreeRTOS/tasks.c ****         /* Acquire both locks:
5146:Middlewares/FreeRTOS/tasks.c ****          * - The ISR lock protects the ready list from simultaneous access by
5147:Middlewares/FreeRTOS/tasks.c ****          *   both other ISRs and tasks.
5148:Middlewares/FreeRTOS/tasks.c ****          * - We also take the task lock to pause here in case another core has
5149:Middlewares/FreeRTOS/tasks.c ****          *   suspended the scheduler. We don't want to simply set xYieldPending
5150:Middlewares/FreeRTOS/tasks.c ****          *   and move on if another core suspended the scheduler. We should only
5151:Middlewares/FreeRTOS/tasks.c ****          *   do that if the current core has suspended the scheduler. */
5152:Middlewares/FreeRTOS/tasks.c **** 
5153:Middlewares/FreeRTOS/tasks.c ****         portGET_TASK_LOCK(); /* Must always acquire the task lock first. */
5154:Middlewares/FreeRTOS/tasks.c ****         portGET_ISR_LOCK();
5155:Middlewares/FreeRTOS/tasks.c ****         {
5156:Middlewares/FreeRTOS/tasks.c ****             /* vTaskSwitchContext() must never be called from within a critical section.
5157:Middlewares/FreeRTOS/tasks.c ****              * This is not necessarily true for single core FreeRTOS, but it is for this
5158:Middlewares/FreeRTOS/tasks.c ****              * SMP port. */
5159:Middlewares/FreeRTOS/tasks.c ****             configASSERT( portGET_CRITICAL_NESTING_COUNT() == 0 );
5160:Middlewares/FreeRTOS/tasks.c **** 
5161:Middlewares/FreeRTOS/tasks.c ****             if( uxSchedulerSuspended != ( UBaseType_t ) 0U )
5162:Middlewares/FreeRTOS/tasks.c ****             {
5163:Middlewares/FreeRTOS/tasks.c ****                 /* The scheduler is currently suspended - do not allow a context
5164:Middlewares/FreeRTOS/tasks.c ****                  * switch. */
5165:Middlewares/FreeRTOS/tasks.c ****                 xYieldPendings[ xCoreID ] = pdTRUE;
5166:Middlewares/FreeRTOS/tasks.c ****             }
5167:Middlewares/FreeRTOS/tasks.c ****             else
5168:Middlewares/FreeRTOS/tasks.c ****             {
5169:Middlewares/FreeRTOS/tasks.c ****                 xYieldPendings[ xCoreID ] = pdFALSE;
5170:Middlewares/FreeRTOS/tasks.c ****                 traceTASK_SWITCHED_OUT();
5171:Middlewares/FreeRTOS/tasks.c **** 
5172:Middlewares/FreeRTOS/tasks.c ****                 #if ( configGENERATE_RUN_TIME_STATS == 1 )
5173:Middlewares/FreeRTOS/tasks.c ****                 {
5174:Middlewares/FreeRTOS/tasks.c ****                     #ifdef portALT_GET_RUN_TIME_COUNTER_VALUE
5175:Middlewares/FreeRTOS/tasks.c ****                         portALT_GET_RUN_TIME_COUNTER_VALUE( ulTotalRunTime[ xCoreID ] );
5176:Middlewares/FreeRTOS/tasks.c ****                     #else
5177:Middlewares/FreeRTOS/tasks.c ****                         ulTotalRunTime[ xCoreID ] = portGET_RUN_TIME_COUNTER_VALUE();
5178:Middlewares/FreeRTOS/tasks.c ****                     #endif
5179:Middlewares/FreeRTOS/tasks.c **** 
5180:Middlewares/FreeRTOS/tasks.c ****                     /* Add the amount of time the task has been running to the
5181:Middlewares/FreeRTOS/tasks.c ****                      * accumulated time so far.  The time the task started running was
5182:Middlewares/FreeRTOS/tasks.c ****                      * stored in ulTaskSwitchedInTime.  Note that there is no overflow
5183:Middlewares/FreeRTOS/tasks.c ****                      * protection here so count values are only valid until the timer
5184:Middlewares/FreeRTOS/tasks.c ****                      * overflows.  The guard against negative values is to protect
5185:Middlewares/FreeRTOS/tasks.c ****                      * against suspect run time stat counter implementations - which
5186:Middlewares/FreeRTOS/tasks.c ****                      * are provided by the application, not the kernel. */
5187:Middlewares/FreeRTOS/tasks.c ****                     if( ulTotalRunTime[ xCoreID ] > ulTaskSwitchedInTime[ xCoreID ] )
5188:Middlewares/FreeRTOS/tasks.c ****                     {
5189:Middlewares/FreeRTOS/tasks.c ****                         pxCurrentTCBs[ xCoreID ]->ulRunTimeCounter += ( ulTotalRunTime[ xCoreID ] -
5190:Middlewares/FreeRTOS/tasks.c ****                     }
5191:Middlewares/FreeRTOS/tasks.c ****                     else
5192:Middlewares/FreeRTOS/tasks.c ****                     {
5193:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
5194:Middlewares/FreeRTOS/tasks.c ****                     }
5195:Middlewares/FreeRTOS/tasks.c **** 
5196:Middlewares/FreeRTOS/tasks.c ****                     ulTaskSwitchedInTime[ xCoreID ] = ulTotalRunTime[ xCoreID ];
5197:Middlewares/FreeRTOS/tasks.c ****                 }
ARM GAS  /tmp/ccF71V7c.s 			page 166


5198:Middlewares/FreeRTOS/tasks.c ****                 #endif /* configGENERATE_RUN_TIME_STATS */
5199:Middlewares/FreeRTOS/tasks.c **** 
5200:Middlewares/FreeRTOS/tasks.c ****                 /* Check for stack overflow, if configured. */
5201:Middlewares/FreeRTOS/tasks.c ****                 taskCHECK_FOR_STACK_OVERFLOW();
5202:Middlewares/FreeRTOS/tasks.c **** 
5203:Middlewares/FreeRTOS/tasks.c ****                 /* Before the currently running task is switched out, save its errno. */
5204:Middlewares/FreeRTOS/tasks.c ****                 #if ( configUSE_POSIX_ERRNO == 1 )
5205:Middlewares/FreeRTOS/tasks.c ****                 {
5206:Middlewares/FreeRTOS/tasks.c ****                     pxCurrentTCBs[ xCoreID ]->iTaskErrno = FreeRTOS_errno;
5207:Middlewares/FreeRTOS/tasks.c ****                 }
5208:Middlewares/FreeRTOS/tasks.c ****                 #endif
5209:Middlewares/FreeRTOS/tasks.c **** 
5210:Middlewares/FreeRTOS/tasks.c ****                 /* Select a new task to run. */
5211:Middlewares/FreeRTOS/tasks.c ****                 taskSELECT_HIGHEST_PRIORITY_TASK( xCoreID );
5212:Middlewares/FreeRTOS/tasks.c ****                 traceTASK_SWITCHED_IN();
5213:Middlewares/FreeRTOS/tasks.c **** 
5214:Middlewares/FreeRTOS/tasks.c ****                 /* Macro to inject port specific behaviour immediately after
5215:Middlewares/FreeRTOS/tasks.c ****                  * switching tasks, such as setting an end of stack watchpoint
5216:Middlewares/FreeRTOS/tasks.c ****                  * or reconfiguring the MPU. */
5217:Middlewares/FreeRTOS/tasks.c ****                 portTASK_SWITCH_HOOK( pxCurrentTCBs[ portGET_CORE_ID() ] );
5218:Middlewares/FreeRTOS/tasks.c **** 
5219:Middlewares/FreeRTOS/tasks.c ****                 /* After the new task is switched in, update the global errno. */
5220:Middlewares/FreeRTOS/tasks.c ****                 #if ( configUSE_POSIX_ERRNO == 1 )
5221:Middlewares/FreeRTOS/tasks.c ****                 {
5222:Middlewares/FreeRTOS/tasks.c ****                     FreeRTOS_errno = pxCurrentTCBs[ xCoreID ]->iTaskErrno;
5223:Middlewares/FreeRTOS/tasks.c ****                 }
5224:Middlewares/FreeRTOS/tasks.c ****                 #endif
5225:Middlewares/FreeRTOS/tasks.c **** 
5226:Middlewares/FreeRTOS/tasks.c ****                 #if ( configUSE_C_RUNTIME_TLS_SUPPORT == 1 )
5227:Middlewares/FreeRTOS/tasks.c ****                 {
5228:Middlewares/FreeRTOS/tasks.c ****                     /* Switch C-Runtime's TLS Block to point to the TLS
5229:Middlewares/FreeRTOS/tasks.c ****                      * Block specific to this task. */
5230:Middlewares/FreeRTOS/tasks.c ****                     configSET_TLS_BLOCK( pxCurrentTCBs[ xCoreID ]->xTLSBlock );
5231:Middlewares/FreeRTOS/tasks.c ****                 }
5232:Middlewares/FreeRTOS/tasks.c ****                 #endif
5233:Middlewares/FreeRTOS/tasks.c ****             }
5234:Middlewares/FreeRTOS/tasks.c ****         }
5235:Middlewares/FreeRTOS/tasks.c ****         portRELEASE_ISR_LOCK();
5236:Middlewares/FreeRTOS/tasks.c ****         portRELEASE_TASK_LOCK();
5237:Middlewares/FreeRTOS/tasks.c **** 
5238:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskSwitchContext();
5239:Middlewares/FreeRTOS/tasks.c ****     }
5240:Middlewares/FreeRTOS/tasks.c **** #endif /* if ( configNUMBER_OF_CORES > 1 ) */
5241:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
5242:Middlewares/FreeRTOS/tasks.c **** 
5243:Middlewares/FreeRTOS/tasks.c **** void vTaskPlaceOnEventList( List_t * const pxEventList,
5244:Middlewares/FreeRTOS/tasks.c ****                             const TickType_t xTicksToWait )
5245:Middlewares/FreeRTOS/tasks.c **** {
 3994              		.loc 1 5245 1
 3995              		.cfi_startproc
 3996              		@ args = 0, pretend = 0, frame = 8
 3997              		@ frame_needed = 1, uses_anonymous_args = 0
 3998 0000 80B5     		push	{r7, lr}
 3999              		.cfi_def_cfa_offset 8
 4000              		.cfi_offset 7, -8
 4001              		.cfi_offset 14, -4
 4002 0002 82B0     		sub	sp, sp, #8
ARM GAS  /tmp/ccF71V7c.s 			page 167


 4003              		.cfi_def_cfa_offset 16
 4004 0004 00AF     		add	r7, sp, #0
 4005              		.cfi_def_cfa_register 7
 4006 0006 7860     		str	r0, [r7, #4]
 4007 0008 3960     		str	r1, [r7]
5246:Middlewares/FreeRTOS/tasks.c ****     traceENTER_vTaskPlaceOnEventList( pxEventList, xTicksToWait );
5247:Middlewares/FreeRTOS/tasks.c **** 
5248:Middlewares/FreeRTOS/tasks.c ****     configASSERT( pxEventList );
5249:Middlewares/FreeRTOS/tasks.c **** 
5250:Middlewares/FreeRTOS/tasks.c ****     /* THIS FUNCTION MUST BE CALLED WITH THE
5251:Middlewares/FreeRTOS/tasks.c ****      * SCHEDULER SUSPENDED AND THE QUEUE BEING ACCESSED LOCKED. */
5252:Middlewares/FreeRTOS/tasks.c **** 
5253:Middlewares/FreeRTOS/tasks.c ****     /* Place the event list item of the TCB in the appropriate event list.
5254:Middlewares/FreeRTOS/tasks.c ****      * This is placed in the list in priority order so the highest priority task
5255:Middlewares/FreeRTOS/tasks.c ****      * is the first to be woken by the event.
5256:Middlewares/FreeRTOS/tasks.c ****      *
5257:Middlewares/FreeRTOS/tasks.c ****      * Note: Lists are sorted in ascending order by ListItem_t.xItemValue.
5258:Middlewares/FreeRTOS/tasks.c ****      * Normally, the xItemValue of a TCB's ListItem_t members is:
5259:Middlewares/FreeRTOS/tasks.c ****      *      xItemValue = ( configMAX_PRIORITIES - uxPriority )
5260:Middlewares/FreeRTOS/tasks.c ****      * Therefore, the event list is sorted in descending priority order.
5261:Middlewares/FreeRTOS/tasks.c ****      *
5262:Middlewares/FreeRTOS/tasks.c ****      * The queue that contains the event list is locked, preventing
5263:Middlewares/FreeRTOS/tasks.c ****      * simultaneous access from interrupts. */
5264:Middlewares/FreeRTOS/tasks.c ****     vListInsert( pxEventList, &( pxCurrentTCB->xEventListItem ) );
 4008              		.loc 1 5264 46
 4009 000a 074B     		ldr	r3, .L245
 4010 000c 1B68     		ldr	r3, [r3]
 4011              		.loc 1 5264 5
 4012 000e 1833     		adds	r3, r3, #24
 4013 0010 1946     		mov	r1, r3
 4014 0012 7868     		ldr	r0, [r7, #4]
 4015 0014 FFF7FEFF 		bl	vListInsert
5265:Middlewares/FreeRTOS/tasks.c **** 
5266:Middlewares/FreeRTOS/tasks.c ****     prvAddCurrentTaskToDelayedList( xTicksToWait, pdTRUE );
 4016              		.loc 1 5266 5
 4017 0018 0121     		movs	r1, #1
 4018 001a 3868     		ldr	r0, [r7]
 4019 001c FFF7FEFF 		bl	prvAddCurrentTaskToDelayedList
5267:Middlewares/FreeRTOS/tasks.c **** 
5268:Middlewares/FreeRTOS/tasks.c ****     traceRETURN_vTaskPlaceOnEventList();
5269:Middlewares/FreeRTOS/tasks.c **** }
 4020              		.loc 1 5269 1
 4021 0020 00BF     		nop
 4022 0022 0837     		adds	r7, r7, #8
 4023              		.cfi_def_cfa_offset 8
 4024 0024 BD46     		mov	sp, r7
 4025              		.cfi_def_cfa_register 13
 4026              		@ sp needed
 4027 0026 80BD     		pop	{r7, pc}
 4028              	.L246:
 4029              		.align	2
 4030              	.L245:
 4031 0028 00000000 		.word	pxCurrentTCB
 4032              		.cfi_endproc
 4033              	.LFE37:
 4035              		.section	.text.vTaskPlaceOnUnorderedEventList,"ax",%progbits
 4036              		.align	1
ARM GAS  /tmp/ccF71V7c.s 			page 168


 4037              		.global	vTaskPlaceOnUnorderedEventList
 4038              		.syntax unified
 4039              		.thumb
 4040              		.thumb_func
 4042              	vTaskPlaceOnUnorderedEventList:
 4043              	.LFB38:
5270:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
5271:Middlewares/FreeRTOS/tasks.c **** 
5272:Middlewares/FreeRTOS/tasks.c **** void vTaskPlaceOnUnorderedEventList( List_t * pxEventList,
5273:Middlewares/FreeRTOS/tasks.c ****                                      const TickType_t xItemValue,
5274:Middlewares/FreeRTOS/tasks.c ****                                      const TickType_t xTicksToWait )
5275:Middlewares/FreeRTOS/tasks.c **** {
 4044              		.loc 1 5275 1
 4045              		.cfi_startproc
 4046              		@ args = 0, pretend = 0, frame = 24
 4047              		@ frame_needed = 1, uses_anonymous_args = 0
 4048 0000 80B5     		push	{r7, lr}
 4049              		.cfi_def_cfa_offset 8
 4050              		.cfi_offset 7, -8
 4051              		.cfi_offset 14, -4
 4052 0002 86B0     		sub	sp, sp, #24
 4053              		.cfi_def_cfa_offset 32
 4054 0004 00AF     		add	r7, sp, #0
 4055              		.cfi_def_cfa_register 7
 4056 0006 F860     		str	r0, [r7, #12]
 4057 0008 B960     		str	r1, [r7, #8]
 4058 000a 7A60     		str	r2, [r7, #4]
5276:Middlewares/FreeRTOS/tasks.c ****     traceENTER_vTaskPlaceOnUnorderedEventList( pxEventList, xItemValue, xTicksToWait );
5277:Middlewares/FreeRTOS/tasks.c **** 
5278:Middlewares/FreeRTOS/tasks.c ****     configASSERT( pxEventList );
5279:Middlewares/FreeRTOS/tasks.c **** 
5280:Middlewares/FreeRTOS/tasks.c ****     /* THIS FUNCTION MUST BE CALLED WITH THE SCHEDULER SUSPENDED.  It is used by
5281:Middlewares/FreeRTOS/tasks.c ****      * the event groups implementation. */
5282:Middlewares/FreeRTOS/tasks.c ****     configASSERT( uxSchedulerSuspended != ( UBaseType_t ) 0U );
5283:Middlewares/FreeRTOS/tasks.c **** 
5284:Middlewares/FreeRTOS/tasks.c ****     /* Store the item value in the event list item.  It is safe to access the
5285:Middlewares/FreeRTOS/tasks.c ****      * event list item here as interrupts won't access the event list item of a
5286:Middlewares/FreeRTOS/tasks.c ****      * task that is not in the Blocked state. */
5287:Middlewares/FreeRTOS/tasks.c ****     listSET_LIST_ITEM_VALUE( &( pxCurrentTCB->xEventListItem ), xItemValue | taskEVENT_LIST_ITEM_VA
 4059              		.loc 1 5287 5
 4060 000c 174B     		ldr	r3, .L248
 4061 000e 1B68     		ldr	r3, [r3]
 4062 0010 BA68     		ldr	r2, [r7, #8]
 4063 0012 42F00042 		orr	r2, r2, #-2147483648
 4064 0016 9A61     		str	r2, [r3, #24]
 4065              	.LBB74:
5288:Middlewares/FreeRTOS/tasks.c **** 
5289:Middlewares/FreeRTOS/tasks.c ****     /* Place the event list item of the TCB at the end of the appropriate event
5290:Middlewares/FreeRTOS/tasks.c ****      * list.  It is safe to access the event list here because it is part of an
5291:Middlewares/FreeRTOS/tasks.c ****      * event group implementation - and interrupts don't access event groups
5292:Middlewares/FreeRTOS/tasks.c ****      * directly (instead they access them indirectly by pending function calls to
5293:Middlewares/FreeRTOS/tasks.c ****      * the task level). */
5294:Middlewares/FreeRTOS/tasks.c ****     listINSERT_END( pxEventList, &( pxCurrentTCB->xEventListItem ) );
 4066              		.loc 1 5294 5
 4067 0018 FB68     		ldr	r3, [r7, #12]
 4068 001a 5B68     		ldr	r3, [r3, #4]
 4069 001c 7B61     		str	r3, [r7, #20]
ARM GAS  /tmp/ccF71V7c.s 			page 169


 4070 001e 134B     		ldr	r3, .L248
 4071 0020 1B68     		ldr	r3, [r3]
 4072 0022 7A69     		ldr	r2, [r7, #20]
 4073 0024 DA61     		str	r2, [r3, #28]
 4074 0026 114B     		ldr	r3, .L248
 4075 0028 1B68     		ldr	r3, [r3]
 4076 002a 7A69     		ldr	r2, [r7, #20]
 4077 002c 9268     		ldr	r2, [r2, #8]
 4078 002e 1A62     		str	r2, [r3, #32]
 4079 0030 0E4B     		ldr	r3, .L248
 4080 0032 1A68     		ldr	r2, [r3]
 4081 0034 7B69     		ldr	r3, [r7, #20]
 4082 0036 9B68     		ldr	r3, [r3, #8]
 4083 0038 1832     		adds	r2, r2, #24
 4084 003a 5A60     		str	r2, [r3, #4]
 4085 003c 0B4B     		ldr	r3, .L248
 4086 003e 1B68     		ldr	r3, [r3]
 4087 0040 03F11802 		add	r2, r3, #24
 4088 0044 7B69     		ldr	r3, [r7, #20]
 4089 0046 9A60     		str	r2, [r3, #8]
 4090 0048 084B     		ldr	r3, .L248
 4091 004a 1B68     		ldr	r3, [r3]
 4092 004c FA68     		ldr	r2, [r7, #12]
 4093 004e 9A62     		str	r2, [r3, #40]
 4094 0050 FB68     		ldr	r3, [r7, #12]
 4095 0052 1B68     		ldr	r3, [r3]
 4096 0054 5A1C     		adds	r2, r3, #1
 4097 0056 FB68     		ldr	r3, [r7, #12]
 4098 0058 1A60     		str	r2, [r3]
 4099              	.LBE74:
5295:Middlewares/FreeRTOS/tasks.c **** 
5296:Middlewares/FreeRTOS/tasks.c ****     prvAddCurrentTaskToDelayedList( xTicksToWait, pdTRUE );
 4100              		.loc 1 5296 5
 4101 005a 0121     		movs	r1, #1
 4102 005c 7868     		ldr	r0, [r7, #4]
 4103 005e FFF7FEFF 		bl	prvAddCurrentTaskToDelayedList
5297:Middlewares/FreeRTOS/tasks.c **** 
5298:Middlewares/FreeRTOS/tasks.c ****     traceRETURN_vTaskPlaceOnUnorderedEventList();
5299:Middlewares/FreeRTOS/tasks.c **** }
 4104              		.loc 1 5299 1
 4105 0062 00BF     		nop
 4106 0064 1837     		adds	r7, r7, #24
 4107              		.cfi_def_cfa_offset 8
 4108 0066 BD46     		mov	sp, r7
 4109              		.cfi_def_cfa_register 13
 4110              		@ sp needed
 4111 0068 80BD     		pop	{r7, pc}
 4112              	.L249:
 4113 006a 00BF     		.align	2
 4114              	.L248:
 4115 006c 00000000 		.word	pxCurrentTCB
 4116              		.cfi_endproc
 4117              	.LFE38:
 4119              		.section	.text.xTaskRemoveFromEventList,"ax",%progbits
 4120              		.align	1
 4121              		.global	xTaskRemoveFromEventList
 4122              		.syntax unified
ARM GAS  /tmp/ccF71V7c.s 			page 170


 4123              		.thumb
 4124              		.thumb_func
 4126              	xTaskRemoveFromEventList:
 4127              	.LFB39:
5300:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
5301:Middlewares/FreeRTOS/tasks.c **** 
5302:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_TIMERS == 1 )
5303:Middlewares/FreeRTOS/tasks.c **** 
5304:Middlewares/FreeRTOS/tasks.c ****     void vTaskPlaceOnEventListRestricted( List_t * const pxEventList,
5305:Middlewares/FreeRTOS/tasks.c ****                                           TickType_t xTicksToWait,
5306:Middlewares/FreeRTOS/tasks.c ****                                           const BaseType_t xWaitIndefinitely )
5307:Middlewares/FreeRTOS/tasks.c ****     {
5308:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskPlaceOnEventListRestricted( pxEventList, xTicksToWait, xWaitIndefinitely );
5309:Middlewares/FreeRTOS/tasks.c **** 
5310:Middlewares/FreeRTOS/tasks.c ****         configASSERT( pxEventList );
5311:Middlewares/FreeRTOS/tasks.c **** 
5312:Middlewares/FreeRTOS/tasks.c ****         /* This function should not be called by application code hence the
5313:Middlewares/FreeRTOS/tasks.c ****          * 'Restricted' in its name.  It is not part of the public API.  It is
5314:Middlewares/FreeRTOS/tasks.c ****          * designed for use by kernel code, and has special calling requirements -
5315:Middlewares/FreeRTOS/tasks.c ****          * it should be called with the scheduler suspended. */
5316:Middlewares/FreeRTOS/tasks.c **** 
5317:Middlewares/FreeRTOS/tasks.c **** 
5318:Middlewares/FreeRTOS/tasks.c ****         /* Place the event list item of the TCB in the appropriate event list.
5319:Middlewares/FreeRTOS/tasks.c ****          * In this case it is assume that this is the only task that is going to
5320:Middlewares/FreeRTOS/tasks.c ****          * be waiting on this event list, so the faster vListInsertEnd() function
5321:Middlewares/FreeRTOS/tasks.c ****          * can be used in place of vListInsert. */
5322:Middlewares/FreeRTOS/tasks.c ****         listINSERT_END( pxEventList, &( pxCurrentTCB->xEventListItem ) );
5323:Middlewares/FreeRTOS/tasks.c **** 
5324:Middlewares/FreeRTOS/tasks.c ****         /* If the task should block indefinitely then set the block time to a
5325:Middlewares/FreeRTOS/tasks.c ****          * value that will be recognised as an indefinite delay inside the
5326:Middlewares/FreeRTOS/tasks.c ****          * prvAddCurrentTaskToDelayedList() function. */
5327:Middlewares/FreeRTOS/tasks.c ****         if( xWaitIndefinitely != pdFALSE )
5328:Middlewares/FreeRTOS/tasks.c ****         {
5329:Middlewares/FreeRTOS/tasks.c ****             xTicksToWait = portMAX_DELAY;
5330:Middlewares/FreeRTOS/tasks.c ****         }
5331:Middlewares/FreeRTOS/tasks.c **** 
5332:Middlewares/FreeRTOS/tasks.c ****         traceTASK_DELAY_UNTIL( ( xTickCount + xTicksToWait ) );
5333:Middlewares/FreeRTOS/tasks.c ****         prvAddCurrentTaskToDelayedList( xTicksToWait, xWaitIndefinitely );
5334:Middlewares/FreeRTOS/tasks.c **** 
5335:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskPlaceOnEventListRestricted();
5336:Middlewares/FreeRTOS/tasks.c ****     }
5337:Middlewares/FreeRTOS/tasks.c **** 
5338:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_TIMERS */
5339:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
5340:Middlewares/FreeRTOS/tasks.c **** 
5341:Middlewares/FreeRTOS/tasks.c **** BaseType_t xTaskRemoveFromEventList( const List_t * const pxEventList )
5342:Middlewares/FreeRTOS/tasks.c **** {
 4128              		.loc 1 5342 1
 4129              		.cfi_startproc
 4130              		@ args = 0, pretend = 0, frame = 32
 4131              		@ frame_needed = 1, uses_anonymous_args = 0
 4132              		@ link register save eliminated.
 4133 0000 80B4     		push	{r7}
 4134              		.cfi_def_cfa_offset 4
 4135              		.cfi_offset 7, -4
 4136 0002 89B0     		sub	sp, sp, #36
 4137              		.cfi_def_cfa_offset 40
ARM GAS  /tmp/ccF71V7c.s 			page 171


 4138 0004 00AF     		add	r7, sp, #0
 4139              		.cfi_def_cfa_register 7
 4140 0006 7860     		str	r0, [r7, #4]
5343:Middlewares/FreeRTOS/tasks.c ****     TCB_t * pxUnblockedTCB;
5344:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xReturn;
5345:Middlewares/FreeRTOS/tasks.c **** 
5346:Middlewares/FreeRTOS/tasks.c ****     traceENTER_xTaskRemoveFromEventList( pxEventList );
5347:Middlewares/FreeRTOS/tasks.c **** 
5348:Middlewares/FreeRTOS/tasks.c ****     /* THIS FUNCTION MUST BE CALLED FROM A CRITICAL SECTION.  It can also be
5349:Middlewares/FreeRTOS/tasks.c ****      * called from a critical section within an ISR. */
5350:Middlewares/FreeRTOS/tasks.c **** 
5351:Middlewares/FreeRTOS/tasks.c ****     /* The event list is sorted in priority order, so the first in the list can
5352:Middlewares/FreeRTOS/tasks.c ****      * be removed as it is known to be the highest priority.  Remove the TCB from
5353:Middlewares/FreeRTOS/tasks.c ****      * the delayed list, and add it to the ready list.
5354:Middlewares/FreeRTOS/tasks.c ****      *
5355:Middlewares/FreeRTOS/tasks.c ****      * If an event is for a queue that is locked then this function will never
5356:Middlewares/FreeRTOS/tasks.c ****      * get called - the lock count on the queue will get modified instead.  This
5357:Middlewares/FreeRTOS/tasks.c ****      * means exclusive access to the event list is guaranteed here.
5358:Middlewares/FreeRTOS/tasks.c ****      *
5359:Middlewares/FreeRTOS/tasks.c ****      * This function assumes that a check has already been made to ensure that
5360:Middlewares/FreeRTOS/tasks.c ****      * pxEventList is not empty. */
5361:Middlewares/FreeRTOS/tasks.c ****     /* MISRA Ref 11.5.3 [Void pointer assignment] */
5362:Middlewares/FreeRTOS/tasks.c ****     /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#rule-115 */
5363:Middlewares/FreeRTOS/tasks.c ****     /* coverity[misra_c_2012_rule_11_5_violation] */
5364:Middlewares/FreeRTOS/tasks.c ****     pxUnblockedTCB = listGET_OWNER_OF_HEAD_ENTRY( pxEventList );
 4141              		.loc 1 5364 22
 4142 0008 7B68     		ldr	r3, [r7, #4]
 4143 000a DB68     		ldr	r3, [r3, #12]
 4144              		.loc 1 5364 20
 4145 000c DB68     		ldr	r3, [r3, #12]
 4146 000e BB61     		str	r3, [r7, #24]
 4147              	.LBB75:
5365:Middlewares/FreeRTOS/tasks.c ****     configASSERT( pxUnblockedTCB );
5366:Middlewares/FreeRTOS/tasks.c ****     listREMOVE_ITEM( &( pxUnblockedTCB->xEventListItem ) );
 4148              		.loc 1 5366 5
 4149 0010 BB69     		ldr	r3, [r7, #24]
 4150 0012 9B6A     		ldr	r3, [r3, #40]
 4151 0014 7B61     		str	r3, [r7, #20]
 4152 0016 BB69     		ldr	r3, [r7, #24]
 4153 0018 DB69     		ldr	r3, [r3, #28]
 4154 001a BA69     		ldr	r2, [r7, #24]
 4155 001c 126A     		ldr	r2, [r2, #32]
 4156 001e 9A60     		str	r2, [r3, #8]
 4157 0020 BB69     		ldr	r3, [r7, #24]
 4158 0022 1B6A     		ldr	r3, [r3, #32]
 4159 0024 BA69     		ldr	r2, [r7, #24]
 4160 0026 D269     		ldr	r2, [r2, #28]
 4161 0028 5A60     		str	r2, [r3, #4]
 4162 002a 7B69     		ldr	r3, [r7, #20]
 4163 002c 5A68     		ldr	r2, [r3, #4]
 4164 002e BB69     		ldr	r3, [r7, #24]
 4165 0030 1833     		adds	r3, r3, #24
 4166 0032 9A42     		cmp	r2, r3
 4167 0034 03D1     		bne	.L251
 4168              		.loc 1 5366 5 is_stmt 0 discriminator 1
 4169 0036 BB69     		ldr	r3, [r7, #24]
 4170 0038 1A6A     		ldr	r2, [r3, #32]
ARM GAS  /tmp/ccF71V7c.s 			page 172


 4171 003a 7B69     		ldr	r3, [r7, #20]
 4172 003c 5A60     		str	r2, [r3, #4]
 4173              	.L251:
 4174              		.loc 1 5366 5 discriminator 3
 4175 003e BB69     		ldr	r3, [r7, #24]
 4176 0040 0022     		movs	r2, #0
 4177 0042 9A62     		str	r2, [r3, #40]
 4178 0044 7B69     		ldr	r3, [r7, #20]
 4179 0046 1B68     		ldr	r3, [r3]
 4180 0048 5A1E     		subs	r2, r3, #1
 4181 004a 7B69     		ldr	r3, [r7, #20]
 4182 004c 1A60     		str	r2, [r3]
 4183              	.LBE75:
5367:Middlewares/FreeRTOS/tasks.c **** 
5368:Middlewares/FreeRTOS/tasks.c ****     if( uxSchedulerSuspended == ( UBaseType_t ) 0U )
 4184              		.loc 1 5368 30 is_stmt 1
 4185 004e 4C4B     		ldr	r3, .L259
 4186 0050 1B68     		ldr	r3, [r3]
 4187              		.loc 1 5368 7
 4188 0052 002B     		cmp	r3, #0
 4189 0054 61D1     		bne	.L252
 4190              	.LBB76:
5369:Middlewares/FreeRTOS/tasks.c ****     {
5370:Middlewares/FreeRTOS/tasks.c ****         listREMOVE_ITEM( &( pxUnblockedTCB->xStateListItem ) );
 4191              		.loc 1 5370 9
 4192 0056 BB69     		ldr	r3, [r7, #24]
 4193 0058 5B69     		ldr	r3, [r3, #20]
 4194 005a FB60     		str	r3, [r7, #12]
 4195 005c BB69     		ldr	r3, [r7, #24]
 4196 005e 9B68     		ldr	r3, [r3, #8]
 4197 0060 BA69     		ldr	r2, [r7, #24]
 4198 0062 D268     		ldr	r2, [r2, #12]
 4199 0064 9A60     		str	r2, [r3, #8]
 4200 0066 BB69     		ldr	r3, [r7, #24]
 4201 0068 DB68     		ldr	r3, [r3, #12]
 4202 006a BA69     		ldr	r2, [r7, #24]
 4203 006c 9268     		ldr	r2, [r2, #8]
 4204 006e 5A60     		str	r2, [r3, #4]
 4205 0070 FB68     		ldr	r3, [r7, #12]
 4206 0072 5A68     		ldr	r2, [r3, #4]
 4207 0074 BB69     		ldr	r3, [r7, #24]
 4208 0076 0433     		adds	r3, r3, #4
 4209 0078 9A42     		cmp	r2, r3
 4210 007a 03D1     		bne	.L253
 4211              		.loc 1 5370 9 is_stmt 0 discriminator 1
 4212 007c BB69     		ldr	r3, [r7, #24]
 4213 007e DA68     		ldr	r2, [r3, #12]
 4214 0080 FB68     		ldr	r3, [r7, #12]
 4215 0082 5A60     		str	r2, [r3, #4]
 4216              	.L253:
 4217              		.loc 1 5370 9 discriminator 3
 4218 0084 BB69     		ldr	r3, [r7, #24]
 4219 0086 0022     		movs	r2, #0
 4220 0088 5A61     		str	r2, [r3, #20]
 4221 008a FB68     		ldr	r3, [r7, #12]
 4222 008c 1B68     		ldr	r3, [r3]
 4223 008e 5A1E     		subs	r2, r3, #1
ARM GAS  /tmp/ccF71V7c.s 			page 173


 4224 0090 FB68     		ldr	r3, [r7, #12]
 4225 0092 1A60     		str	r2, [r3]
 4226              	.LBE76:
5371:Middlewares/FreeRTOS/tasks.c ****         prvAddTaskToReadyList( pxUnblockedTCB );
 4227              		.loc 1 5371 9 is_stmt 1
 4228 0094 BB69     		ldr	r3, [r7, #24]
 4229 0096 DA6A     		ldr	r2, [r3, #44]
 4230 0098 3A4B     		ldr	r3, .L259+4
 4231 009a 1B68     		ldr	r3, [r3]
 4232 009c 9A42     		cmp	r2, r3
 4233 009e 03D9     		bls	.L254
 4234              		.loc 1 5371 9 is_stmt 0 discriminator 1
 4235 00a0 BB69     		ldr	r3, [r7, #24]
 4236 00a2 DB6A     		ldr	r3, [r3, #44]
 4237 00a4 374A     		ldr	r2, .L259+4
 4238 00a6 1360     		str	r3, [r2]
 4239              	.L254:
 4240              	.LBB77:
 4241              		.loc 1 5371 9 discriminator 3
 4242 00a8 BB69     		ldr	r3, [r7, #24]
 4243 00aa DA6A     		ldr	r2, [r3, #44]
 4244 00ac 3649     		ldr	r1, .L259+8
 4245 00ae 1346     		mov	r3, r2
 4246 00b0 9B00     		lsls	r3, r3, #2
 4247 00b2 1344     		add	r3, r3, r2
 4248 00b4 9B00     		lsls	r3, r3, #2
 4249 00b6 0B44     		add	r3, r3, r1
 4250 00b8 0433     		adds	r3, r3, #4
 4251 00ba 1B68     		ldr	r3, [r3]
 4252 00bc BB60     		str	r3, [r7, #8]
 4253 00be BB69     		ldr	r3, [r7, #24]
 4254 00c0 BA68     		ldr	r2, [r7, #8]
 4255 00c2 9A60     		str	r2, [r3, #8]
 4256 00c4 BB68     		ldr	r3, [r7, #8]
 4257 00c6 9A68     		ldr	r2, [r3, #8]
 4258 00c8 BB69     		ldr	r3, [r7, #24]
 4259 00ca DA60     		str	r2, [r3, #12]
 4260 00cc BB68     		ldr	r3, [r7, #8]
 4261 00ce 9B68     		ldr	r3, [r3, #8]
 4262 00d0 BA69     		ldr	r2, [r7, #24]
 4263 00d2 0432     		adds	r2, r2, #4
 4264 00d4 5A60     		str	r2, [r3, #4]
 4265 00d6 BB69     		ldr	r3, [r7, #24]
 4266 00d8 1A1D     		adds	r2, r3, #4
 4267 00da BB68     		ldr	r3, [r7, #8]
 4268 00dc 9A60     		str	r2, [r3, #8]
 4269 00de BB69     		ldr	r3, [r7, #24]
 4270 00e0 DA6A     		ldr	r2, [r3, #44]
 4271 00e2 1346     		mov	r3, r2
 4272 00e4 9B00     		lsls	r3, r3, #2
 4273 00e6 1344     		add	r3, r3, r2
 4274 00e8 9B00     		lsls	r3, r3, #2
 4275 00ea 274A     		ldr	r2, .L259+8
 4276 00ec 1A44     		add	r2, r2, r3
 4277 00ee BB69     		ldr	r3, [r7, #24]
 4278 00f0 5A61     		str	r2, [r3, #20]
 4279 00f2 BB69     		ldr	r3, [r7, #24]
ARM GAS  /tmp/ccF71V7c.s 			page 174


 4280 00f4 DA6A     		ldr	r2, [r3, #44]
 4281 00f6 2449     		ldr	r1, .L259+8
 4282 00f8 1346     		mov	r3, r2
 4283 00fa 9B00     		lsls	r3, r3, #2
 4284 00fc 1344     		add	r3, r3, r2
 4285 00fe 9B00     		lsls	r3, r3, #2
 4286 0100 0B44     		add	r3, r3, r1
 4287 0102 1B68     		ldr	r3, [r3]
 4288 0104 BA69     		ldr	r2, [r7, #24]
 4289 0106 D26A     		ldr	r2, [r2, #44]
 4290 0108 591C     		adds	r1, r3, #1
 4291 010a 1F48     		ldr	r0, .L259+8
 4292 010c 1346     		mov	r3, r2
 4293 010e 9B00     		lsls	r3, r3, #2
 4294 0110 1344     		add	r3, r3, r2
 4295 0112 9B00     		lsls	r3, r3, #2
 4296 0114 0344     		add	r3, r3, r0
 4297 0116 1960     		str	r1, [r3]
 4298              	.LBE77:
 4299 0118 1BE0     		b	.L255
 4300              	.L252:
 4301              	.LBB78:
5372:Middlewares/FreeRTOS/tasks.c **** 
5373:Middlewares/FreeRTOS/tasks.c ****         #if ( configUSE_TICKLESS_IDLE != 0 )
5374:Middlewares/FreeRTOS/tasks.c ****         {
5375:Middlewares/FreeRTOS/tasks.c ****             /* If a task is blocked on a kernel object then xNextTaskUnblockTime
5376:Middlewares/FreeRTOS/tasks.c ****              * might be set to the blocked task's time out time.  If the task is
5377:Middlewares/FreeRTOS/tasks.c ****              * unblocked for a reason other than a timeout xNextTaskUnblockTime is
5378:Middlewares/FreeRTOS/tasks.c ****              * normally left unchanged, because it is automatically reset to a new
5379:Middlewares/FreeRTOS/tasks.c ****              * value when the tick count equals xNextTaskUnblockTime.  However if
5380:Middlewares/FreeRTOS/tasks.c ****              * tickless idling is used it might be more important to enter sleep mode
5381:Middlewares/FreeRTOS/tasks.c ****              * at the earliest possible time - so reset xNextTaskUnblockTime here to
5382:Middlewares/FreeRTOS/tasks.c ****              * ensure it is updated at the earliest possible time. */
5383:Middlewares/FreeRTOS/tasks.c ****             prvResetNextTaskUnblockTime();
5384:Middlewares/FreeRTOS/tasks.c ****         }
5385:Middlewares/FreeRTOS/tasks.c ****         #endif
5386:Middlewares/FreeRTOS/tasks.c ****     }
5387:Middlewares/FreeRTOS/tasks.c ****     else
5388:Middlewares/FreeRTOS/tasks.c ****     {
5389:Middlewares/FreeRTOS/tasks.c ****         /* The delayed and ready lists cannot be accessed, so hold this task
5390:Middlewares/FreeRTOS/tasks.c ****          * pending until the scheduler is resumed. */
5391:Middlewares/FreeRTOS/tasks.c ****         listINSERT_END( &( xPendingReadyList ), &( pxUnblockedTCB->xEventListItem ) );
 4302              		.loc 1 5391 9 is_stmt 1
 4303 011a 1C4B     		ldr	r3, .L259+12
 4304 011c 5B68     		ldr	r3, [r3, #4]
 4305 011e 3B61     		str	r3, [r7, #16]
 4306 0120 BB69     		ldr	r3, [r7, #24]
 4307 0122 3A69     		ldr	r2, [r7, #16]
 4308 0124 DA61     		str	r2, [r3, #28]
 4309 0126 3B69     		ldr	r3, [r7, #16]
 4310 0128 9A68     		ldr	r2, [r3, #8]
 4311 012a BB69     		ldr	r3, [r7, #24]
 4312 012c 1A62     		str	r2, [r3, #32]
 4313 012e 3B69     		ldr	r3, [r7, #16]
 4314 0130 9B68     		ldr	r3, [r3, #8]
 4315 0132 BA69     		ldr	r2, [r7, #24]
 4316 0134 1832     		adds	r2, r2, #24
ARM GAS  /tmp/ccF71V7c.s 			page 175


 4317 0136 5A60     		str	r2, [r3, #4]
 4318 0138 BB69     		ldr	r3, [r7, #24]
 4319 013a 03F11802 		add	r2, r3, #24
 4320 013e 3B69     		ldr	r3, [r7, #16]
 4321 0140 9A60     		str	r2, [r3, #8]
 4322 0142 BB69     		ldr	r3, [r7, #24]
 4323 0144 114A     		ldr	r2, .L259+12
 4324 0146 9A62     		str	r2, [r3, #40]
 4325 0148 104B     		ldr	r3, .L259+12
 4326 014a 1B68     		ldr	r3, [r3]
 4327 014c 0133     		adds	r3, r3, #1
 4328 014e 0F4A     		ldr	r2, .L259+12
 4329 0150 1360     		str	r3, [r2]
 4330              	.L255:
 4331              	.LBE78:
5392:Middlewares/FreeRTOS/tasks.c ****     }
5393:Middlewares/FreeRTOS/tasks.c **** 
5394:Middlewares/FreeRTOS/tasks.c ****     #if ( configNUMBER_OF_CORES == 1 )
5395:Middlewares/FreeRTOS/tasks.c ****     {
5396:Middlewares/FreeRTOS/tasks.c ****         if( pxUnblockedTCB->uxPriority > pxCurrentTCB->uxPriority )
 4332              		.loc 1 5396 27
 4333 0152 BB69     		ldr	r3, [r7, #24]
 4334 0154 DA6A     		ldr	r2, [r3, #44]
 4335              		.loc 1 5396 54
 4336 0156 0E4B     		ldr	r3, .L259+16
 4337 0158 1B68     		ldr	r3, [r3]
 4338 015a DB6A     		ldr	r3, [r3, #44]
 4339              		.loc 1 5396 11
 4340 015c 9A42     		cmp	r2, r3
 4341 015e 05D9     		bls	.L256
5397:Middlewares/FreeRTOS/tasks.c ****         {
5398:Middlewares/FreeRTOS/tasks.c ****             /* Return true if the task removed from the event list has a higher
5399:Middlewares/FreeRTOS/tasks.c ****              * priority than the calling task.  This allows the calling task to know if
5400:Middlewares/FreeRTOS/tasks.c ****              * it should force a context switch now. */
5401:Middlewares/FreeRTOS/tasks.c ****             xReturn = pdTRUE;
 4342              		.loc 1 5401 21
 4343 0160 0123     		movs	r3, #1
 4344 0162 FB61     		str	r3, [r7, #28]
5402:Middlewares/FreeRTOS/tasks.c **** 
5403:Middlewares/FreeRTOS/tasks.c ****             /* Mark that a yield is pending in case the user is not using the
5404:Middlewares/FreeRTOS/tasks.c ****              * "xHigherPriorityTaskWoken" parameter to an ISR safe FreeRTOS function. */
5405:Middlewares/FreeRTOS/tasks.c ****             xYieldPendings[ 0 ] = pdTRUE;
 4345              		.loc 1 5405 33
 4346 0164 0B4B     		ldr	r3, .L259+20
 4347 0166 0122     		movs	r2, #1
 4348 0168 1A60     		str	r2, [r3]
 4349 016a 01E0     		b	.L257
 4350              	.L256:
5406:Middlewares/FreeRTOS/tasks.c ****         }
5407:Middlewares/FreeRTOS/tasks.c ****         else
5408:Middlewares/FreeRTOS/tasks.c ****         {
5409:Middlewares/FreeRTOS/tasks.c ****             xReturn = pdFALSE;
 4351              		.loc 1 5409 21
 4352 016c 0023     		movs	r3, #0
 4353 016e FB61     		str	r3, [r7, #28]
 4354              	.L257:
5410:Middlewares/FreeRTOS/tasks.c ****         }
ARM GAS  /tmp/ccF71V7c.s 			page 176


5411:Middlewares/FreeRTOS/tasks.c ****     }
5412:Middlewares/FreeRTOS/tasks.c ****     #else /* #if ( configNUMBER_OF_CORES == 1 ) */
5413:Middlewares/FreeRTOS/tasks.c ****     {
5414:Middlewares/FreeRTOS/tasks.c ****         xReturn = pdFALSE;
5415:Middlewares/FreeRTOS/tasks.c **** 
5416:Middlewares/FreeRTOS/tasks.c ****         #if ( configUSE_PREEMPTION == 1 )
5417:Middlewares/FreeRTOS/tasks.c ****         {
5418:Middlewares/FreeRTOS/tasks.c ****             prvYieldForTask( pxUnblockedTCB );
5419:Middlewares/FreeRTOS/tasks.c **** 
5420:Middlewares/FreeRTOS/tasks.c ****             if( xYieldPendings[ portGET_CORE_ID() ] != pdFALSE )
5421:Middlewares/FreeRTOS/tasks.c ****             {
5422:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pdTRUE;
5423:Middlewares/FreeRTOS/tasks.c ****             }
5424:Middlewares/FreeRTOS/tasks.c ****         }
5425:Middlewares/FreeRTOS/tasks.c ****         #endif /* #if ( configUSE_PREEMPTION == 1 ) */
5426:Middlewares/FreeRTOS/tasks.c ****     }
5427:Middlewares/FreeRTOS/tasks.c ****     #endif /* #if ( configNUMBER_OF_CORES == 1 ) */
5428:Middlewares/FreeRTOS/tasks.c **** 
5429:Middlewares/FreeRTOS/tasks.c ****     traceRETURN_xTaskRemoveFromEventList( xReturn );
5430:Middlewares/FreeRTOS/tasks.c ****     return xReturn;
 4355              		.loc 1 5430 12
 4356 0170 FB69     		ldr	r3, [r7, #28]
5431:Middlewares/FreeRTOS/tasks.c **** }
 4357              		.loc 1 5431 1
 4358 0172 1846     		mov	r0, r3
 4359 0174 2437     		adds	r7, r7, #36
 4360              		.cfi_def_cfa_offset 4
 4361 0176 BD46     		mov	sp, r7
 4362              		.cfi_def_cfa_register 13
 4363              		@ sp needed
 4364 0178 5DF8047B 		ldr	r7, [sp], #4
 4365              		.cfi_restore 7
 4366              		.cfi_def_cfa_offset 0
 4367 017c 7047     		bx	lr
 4368              	.L260:
 4369 017e 00BF     		.align	2
 4370              	.L259:
 4371 0180 00000000 		.word	uxSchedulerSuspended
 4372 0184 00000000 		.word	uxTopReadyPriority
 4373 0188 00000000 		.word	pxReadyTasksLists
 4374 018c 00000000 		.word	xPendingReadyList
 4375 0190 00000000 		.word	pxCurrentTCB
 4376 0194 00000000 		.word	xYieldPendings
 4377              		.cfi_endproc
 4378              	.LFE39:
 4380              		.section	.text.vTaskRemoveFromUnorderedEventList,"ax",%progbits
 4381              		.align	1
 4382              		.global	vTaskRemoveFromUnorderedEventList
 4383              		.syntax unified
 4384              		.thumb
 4385              		.thumb_func
 4387              	vTaskRemoveFromUnorderedEventList:
 4388              	.LFB40:
5432:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
5433:Middlewares/FreeRTOS/tasks.c **** 
5434:Middlewares/FreeRTOS/tasks.c **** void vTaskRemoveFromUnorderedEventList( ListItem_t * pxEventListItem,
5435:Middlewares/FreeRTOS/tasks.c ****                                         const TickType_t xItemValue )
ARM GAS  /tmp/ccF71V7c.s 			page 177


5436:Middlewares/FreeRTOS/tasks.c **** {
 4389              		.loc 1 5436 1
 4390              		.cfi_startproc
 4391              		@ args = 0, pretend = 0, frame = 24
 4392              		@ frame_needed = 1, uses_anonymous_args = 0
 4393              		@ link register save eliminated.
 4394 0000 80B4     		push	{r7}
 4395              		.cfi_def_cfa_offset 4
 4396              		.cfi_offset 7, -4
 4397 0002 87B0     		sub	sp, sp, #28
 4398              		.cfi_def_cfa_offset 32
 4399 0004 00AF     		add	r7, sp, #0
 4400              		.cfi_def_cfa_register 7
 4401 0006 7860     		str	r0, [r7, #4]
 4402 0008 3960     		str	r1, [r7]
5437:Middlewares/FreeRTOS/tasks.c ****     TCB_t * pxUnblockedTCB;
5438:Middlewares/FreeRTOS/tasks.c **** 
5439:Middlewares/FreeRTOS/tasks.c ****     traceENTER_vTaskRemoveFromUnorderedEventList( pxEventListItem, xItemValue );
5440:Middlewares/FreeRTOS/tasks.c **** 
5441:Middlewares/FreeRTOS/tasks.c ****     /* THIS FUNCTION MUST BE CALLED WITH THE SCHEDULER SUSPENDED.  It is used by
5442:Middlewares/FreeRTOS/tasks.c ****      * the event flags implementation. */
5443:Middlewares/FreeRTOS/tasks.c ****     configASSERT( uxSchedulerSuspended != ( UBaseType_t ) 0U );
5444:Middlewares/FreeRTOS/tasks.c **** 
5445:Middlewares/FreeRTOS/tasks.c ****     /* Store the new item value in the event list. */
5446:Middlewares/FreeRTOS/tasks.c ****     listSET_LIST_ITEM_VALUE( pxEventListItem, xItemValue | taskEVENT_LIST_ITEM_VALUE_IN_USE );
 4403              		.loc 1 5446 5
 4404 000a 3B68     		ldr	r3, [r7]
 4405 000c 43F00042 		orr	r2, r3, #-2147483648
 4406 0010 7B68     		ldr	r3, [r7, #4]
 4407 0012 1A60     		str	r2, [r3]
5447:Middlewares/FreeRTOS/tasks.c **** 
5448:Middlewares/FreeRTOS/tasks.c ****     /* Remove the event list form the event flag.  Interrupts do not access
5449:Middlewares/FreeRTOS/tasks.c ****      * event flags. */
5450:Middlewares/FreeRTOS/tasks.c ****     /* MISRA Ref 11.5.3 [Void pointer assignment] */
5451:Middlewares/FreeRTOS/tasks.c ****     /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#rule-115 */
5452:Middlewares/FreeRTOS/tasks.c ****     /* coverity[misra_c_2012_rule_11_5_violation] */
5453:Middlewares/FreeRTOS/tasks.c ****     pxUnblockedTCB = listGET_LIST_ITEM_OWNER( pxEventListItem );
 4408              		.loc 1 5453 20
 4409 0014 7B68     		ldr	r3, [r7, #4]
 4410 0016 DB68     		ldr	r3, [r3, #12]
 4411 0018 7B61     		str	r3, [r7, #20]
 4412              	.LBB79:
5454:Middlewares/FreeRTOS/tasks.c ****     configASSERT( pxUnblockedTCB );
5455:Middlewares/FreeRTOS/tasks.c ****     listREMOVE_ITEM( pxEventListItem );
 4413              		.loc 1 5455 5
 4414 001a 7B68     		ldr	r3, [r7, #4]
 4415 001c 1B69     		ldr	r3, [r3, #16]
 4416 001e 3B61     		str	r3, [r7, #16]
 4417 0020 7B68     		ldr	r3, [r7, #4]
 4418 0022 5B68     		ldr	r3, [r3, #4]
 4419 0024 7A68     		ldr	r2, [r7, #4]
 4420 0026 9268     		ldr	r2, [r2, #8]
 4421 0028 9A60     		str	r2, [r3, #8]
 4422 002a 7B68     		ldr	r3, [r7, #4]
 4423 002c 9B68     		ldr	r3, [r3, #8]
 4424 002e 7A68     		ldr	r2, [r7, #4]
 4425 0030 5268     		ldr	r2, [r2, #4]
ARM GAS  /tmp/ccF71V7c.s 			page 178


 4426 0032 5A60     		str	r2, [r3, #4]
 4427 0034 3B69     		ldr	r3, [r7, #16]
 4428 0036 5B68     		ldr	r3, [r3, #4]
 4429 0038 7A68     		ldr	r2, [r7, #4]
 4430 003a 9A42     		cmp	r2, r3
 4431 003c 03D1     		bne	.L262
 4432              		.loc 1 5455 5 is_stmt 0 discriminator 1
 4433 003e 7B68     		ldr	r3, [r7, #4]
 4434 0040 9A68     		ldr	r2, [r3, #8]
 4435 0042 3B69     		ldr	r3, [r7, #16]
 4436 0044 5A60     		str	r2, [r3, #4]
 4437              	.L262:
 4438              		.loc 1 5455 5 discriminator 3
 4439 0046 7B68     		ldr	r3, [r7, #4]
 4440 0048 0022     		movs	r2, #0
 4441 004a 1A61     		str	r2, [r3, #16]
 4442 004c 3B69     		ldr	r3, [r7, #16]
 4443 004e 1B68     		ldr	r3, [r3]
 4444 0050 5A1E     		subs	r2, r3, #1
 4445 0052 3B69     		ldr	r3, [r7, #16]
 4446 0054 1A60     		str	r2, [r3]
 4447              	.LBE79:
 4448              	.LBB80:
5456:Middlewares/FreeRTOS/tasks.c **** 
5457:Middlewares/FreeRTOS/tasks.c ****     #if ( configUSE_TICKLESS_IDLE != 0 )
5458:Middlewares/FreeRTOS/tasks.c ****     {
5459:Middlewares/FreeRTOS/tasks.c ****         /* If a task is blocked on a kernel object then xNextTaskUnblockTime
5460:Middlewares/FreeRTOS/tasks.c ****          * might be set to the blocked task's time out time.  If the task is
5461:Middlewares/FreeRTOS/tasks.c ****          * unblocked for a reason other than a timeout xNextTaskUnblockTime is
5462:Middlewares/FreeRTOS/tasks.c ****          * normally left unchanged, because it is automatically reset to a new
5463:Middlewares/FreeRTOS/tasks.c ****          * value when the tick count equals xNextTaskUnblockTime.  However if
5464:Middlewares/FreeRTOS/tasks.c ****          * tickless idling is used it might be more important to enter sleep mode
5465:Middlewares/FreeRTOS/tasks.c ****          * at the earliest possible time - so reset xNextTaskUnblockTime here to
5466:Middlewares/FreeRTOS/tasks.c ****          * ensure it is updated at the earliest possible time. */
5467:Middlewares/FreeRTOS/tasks.c ****         prvResetNextTaskUnblockTime();
5468:Middlewares/FreeRTOS/tasks.c ****     }
5469:Middlewares/FreeRTOS/tasks.c ****     #endif
5470:Middlewares/FreeRTOS/tasks.c **** 
5471:Middlewares/FreeRTOS/tasks.c ****     /* Remove the task from the delayed list and add it to the ready list.  The
5472:Middlewares/FreeRTOS/tasks.c ****      * scheduler is suspended so interrupts will not be accessing the ready
5473:Middlewares/FreeRTOS/tasks.c ****      * lists. */
5474:Middlewares/FreeRTOS/tasks.c ****     listREMOVE_ITEM( &( pxUnblockedTCB->xStateListItem ) );
 4449              		.loc 1 5474 5 is_stmt 1
 4450 0056 7B69     		ldr	r3, [r7, #20]
 4451 0058 5B69     		ldr	r3, [r3, #20]
 4452 005a FB60     		str	r3, [r7, #12]
 4453 005c 7B69     		ldr	r3, [r7, #20]
 4454 005e 9B68     		ldr	r3, [r3, #8]
 4455 0060 7A69     		ldr	r2, [r7, #20]
 4456 0062 D268     		ldr	r2, [r2, #12]
 4457 0064 9A60     		str	r2, [r3, #8]
 4458 0066 7B69     		ldr	r3, [r7, #20]
 4459 0068 DB68     		ldr	r3, [r3, #12]
 4460 006a 7A69     		ldr	r2, [r7, #20]
 4461 006c 9268     		ldr	r2, [r2, #8]
 4462 006e 5A60     		str	r2, [r3, #4]
 4463 0070 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccF71V7c.s 			page 179


 4464 0072 5A68     		ldr	r2, [r3, #4]
 4465 0074 7B69     		ldr	r3, [r7, #20]
 4466 0076 0433     		adds	r3, r3, #4
 4467 0078 9A42     		cmp	r2, r3
 4468 007a 03D1     		bne	.L263
 4469              		.loc 1 5474 5 is_stmt 0 discriminator 1
 4470 007c 7B69     		ldr	r3, [r7, #20]
 4471 007e DA68     		ldr	r2, [r3, #12]
 4472 0080 FB68     		ldr	r3, [r7, #12]
 4473 0082 5A60     		str	r2, [r3, #4]
 4474              	.L263:
 4475              		.loc 1 5474 5 discriminator 3
 4476 0084 7B69     		ldr	r3, [r7, #20]
 4477 0086 0022     		movs	r2, #0
 4478 0088 5A61     		str	r2, [r3, #20]
 4479 008a FB68     		ldr	r3, [r7, #12]
 4480 008c 1B68     		ldr	r3, [r3]
 4481 008e 5A1E     		subs	r2, r3, #1
 4482 0090 FB68     		ldr	r3, [r7, #12]
 4483 0092 1A60     		str	r2, [r3]
 4484              	.LBE80:
5475:Middlewares/FreeRTOS/tasks.c ****     prvAddTaskToReadyList( pxUnblockedTCB );
 4485              		.loc 1 5475 5 is_stmt 1
 4486 0094 7B69     		ldr	r3, [r7, #20]
 4487 0096 DA6A     		ldr	r2, [r3, #44]
 4488 0098 274B     		ldr	r3, .L267
 4489 009a 1B68     		ldr	r3, [r3]
 4490 009c 9A42     		cmp	r2, r3
 4491 009e 03D9     		bls	.L264
 4492              		.loc 1 5475 5 is_stmt 0 discriminator 1
 4493 00a0 7B69     		ldr	r3, [r7, #20]
 4494 00a2 DB6A     		ldr	r3, [r3, #44]
 4495 00a4 244A     		ldr	r2, .L267
 4496 00a6 1360     		str	r3, [r2]
 4497              	.L264:
 4498              	.LBB81:
 4499              		.loc 1 5475 5 discriminator 3
 4500 00a8 7B69     		ldr	r3, [r7, #20]
 4501 00aa DA6A     		ldr	r2, [r3, #44]
 4502 00ac 2349     		ldr	r1, .L267+4
 4503 00ae 1346     		mov	r3, r2
 4504 00b0 9B00     		lsls	r3, r3, #2
 4505 00b2 1344     		add	r3, r3, r2
 4506 00b4 9B00     		lsls	r3, r3, #2
 4507 00b6 0B44     		add	r3, r3, r1
 4508 00b8 0433     		adds	r3, r3, #4
 4509 00ba 1B68     		ldr	r3, [r3]
 4510 00bc BB60     		str	r3, [r7, #8]
 4511 00be 7B69     		ldr	r3, [r7, #20]
 4512 00c0 BA68     		ldr	r2, [r7, #8]
 4513 00c2 9A60     		str	r2, [r3, #8]
 4514 00c4 BB68     		ldr	r3, [r7, #8]
 4515 00c6 9A68     		ldr	r2, [r3, #8]
 4516 00c8 7B69     		ldr	r3, [r7, #20]
 4517 00ca DA60     		str	r2, [r3, #12]
 4518 00cc BB68     		ldr	r3, [r7, #8]
 4519 00ce 9B68     		ldr	r3, [r3, #8]
ARM GAS  /tmp/ccF71V7c.s 			page 180


 4520 00d0 7A69     		ldr	r2, [r7, #20]
 4521 00d2 0432     		adds	r2, r2, #4
 4522 00d4 5A60     		str	r2, [r3, #4]
 4523 00d6 7B69     		ldr	r3, [r7, #20]
 4524 00d8 1A1D     		adds	r2, r3, #4
 4525 00da BB68     		ldr	r3, [r7, #8]
 4526 00dc 9A60     		str	r2, [r3, #8]
 4527 00de 7B69     		ldr	r3, [r7, #20]
 4528 00e0 DA6A     		ldr	r2, [r3, #44]
 4529 00e2 1346     		mov	r3, r2
 4530 00e4 9B00     		lsls	r3, r3, #2
 4531 00e6 1344     		add	r3, r3, r2
 4532 00e8 9B00     		lsls	r3, r3, #2
 4533 00ea 144A     		ldr	r2, .L267+4
 4534 00ec 1A44     		add	r2, r2, r3
 4535 00ee 7B69     		ldr	r3, [r7, #20]
 4536 00f0 5A61     		str	r2, [r3, #20]
 4537 00f2 7B69     		ldr	r3, [r7, #20]
 4538 00f4 DA6A     		ldr	r2, [r3, #44]
 4539 00f6 1149     		ldr	r1, .L267+4
 4540 00f8 1346     		mov	r3, r2
 4541 00fa 9B00     		lsls	r3, r3, #2
 4542 00fc 1344     		add	r3, r3, r2
 4543 00fe 9B00     		lsls	r3, r3, #2
 4544 0100 0B44     		add	r3, r3, r1
 4545 0102 1B68     		ldr	r3, [r3]
 4546 0104 7A69     		ldr	r2, [r7, #20]
 4547 0106 D26A     		ldr	r2, [r2, #44]
 4548 0108 591C     		adds	r1, r3, #1
 4549 010a 0C48     		ldr	r0, .L267+4
 4550 010c 1346     		mov	r3, r2
 4551 010e 9B00     		lsls	r3, r3, #2
 4552 0110 1344     		add	r3, r3, r2
 4553 0112 9B00     		lsls	r3, r3, #2
 4554 0114 0344     		add	r3, r3, r0
 4555 0116 1960     		str	r1, [r3]
 4556              	.LBE81:
5476:Middlewares/FreeRTOS/tasks.c **** 
5477:Middlewares/FreeRTOS/tasks.c ****     #if ( configNUMBER_OF_CORES == 1 )
5478:Middlewares/FreeRTOS/tasks.c ****     {
5479:Middlewares/FreeRTOS/tasks.c ****         if( pxUnblockedTCB->uxPriority > pxCurrentTCB->uxPriority )
 4557              		.loc 1 5479 27 is_stmt 1
 4558 0118 7B69     		ldr	r3, [r7, #20]
 4559 011a DA6A     		ldr	r2, [r3, #44]
 4560              		.loc 1 5479 54
 4561 011c 084B     		ldr	r3, .L267+8
 4562 011e 1B68     		ldr	r3, [r3]
 4563 0120 DB6A     		ldr	r3, [r3, #44]
 4564              		.loc 1 5479 11
 4565 0122 9A42     		cmp	r2, r3
 4566 0124 02D9     		bls	.L266
5480:Middlewares/FreeRTOS/tasks.c ****         {
5481:Middlewares/FreeRTOS/tasks.c ****             /* The unblocked task has a priority above that of the calling task, so
5482:Middlewares/FreeRTOS/tasks.c ****              * a context switch is required.  This function is called with the
5483:Middlewares/FreeRTOS/tasks.c ****              * scheduler suspended so xYieldPending is set so the context switch
5484:Middlewares/FreeRTOS/tasks.c ****              * occurs immediately that the scheduler is resumed (unsuspended). */
5485:Middlewares/FreeRTOS/tasks.c ****             xYieldPendings[ 0 ] = pdTRUE;
ARM GAS  /tmp/ccF71V7c.s 			page 181


 4567              		.loc 1 5485 33
 4568 0126 074B     		ldr	r3, .L267+12
 4569 0128 0122     		movs	r2, #1
 4570 012a 1A60     		str	r2, [r3]
 4571              	.L266:
5486:Middlewares/FreeRTOS/tasks.c ****         }
5487:Middlewares/FreeRTOS/tasks.c ****     }
5488:Middlewares/FreeRTOS/tasks.c ****     #else /* #if ( configNUMBER_OF_CORES == 1 ) */
5489:Middlewares/FreeRTOS/tasks.c ****     {
5490:Middlewares/FreeRTOS/tasks.c ****         #if ( configUSE_PREEMPTION == 1 )
5491:Middlewares/FreeRTOS/tasks.c ****         {
5492:Middlewares/FreeRTOS/tasks.c ****             taskENTER_CRITICAL();
5493:Middlewares/FreeRTOS/tasks.c ****             {
5494:Middlewares/FreeRTOS/tasks.c ****                 prvYieldForTask( pxUnblockedTCB );
5495:Middlewares/FreeRTOS/tasks.c ****             }
5496:Middlewares/FreeRTOS/tasks.c ****             taskEXIT_CRITICAL();
5497:Middlewares/FreeRTOS/tasks.c ****         }
5498:Middlewares/FreeRTOS/tasks.c ****         #endif
5499:Middlewares/FreeRTOS/tasks.c ****     }
5500:Middlewares/FreeRTOS/tasks.c ****     #endif /* #if ( configNUMBER_OF_CORES == 1 ) */
5501:Middlewares/FreeRTOS/tasks.c **** 
5502:Middlewares/FreeRTOS/tasks.c ****     traceRETURN_vTaskRemoveFromUnorderedEventList();
5503:Middlewares/FreeRTOS/tasks.c **** }
 4572              		.loc 1 5503 1
 4573 012c 00BF     		nop
 4574 012e 1C37     		adds	r7, r7, #28
 4575              		.cfi_def_cfa_offset 4
 4576 0130 BD46     		mov	sp, r7
 4577              		.cfi_def_cfa_register 13
 4578              		@ sp needed
 4579 0132 5DF8047B 		ldr	r7, [sp], #4
 4580              		.cfi_restore 7
 4581              		.cfi_def_cfa_offset 0
 4582 0136 7047     		bx	lr
 4583              	.L268:
 4584              		.align	2
 4585              	.L267:
 4586 0138 00000000 		.word	uxTopReadyPriority
 4587 013c 00000000 		.word	pxReadyTasksLists
 4588 0140 00000000 		.word	pxCurrentTCB
 4589 0144 00000000 		.word	xYieldPendings
 4590              		.cfi_endproc
 4591              	.LFE40:
 4593              		.section	.text.vTaskSetTimeOutState,"ax",%progbits
 4594              		.align	1
 4595              		.global	vTaskSetTimeOutState
 4596              		.syntax unified
 4597              		.thumb
 4598              		.thumb_func
 4600              	vTaskSetTimeOutState:
 4601              	.LFB41:
5504:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
5505:Middlewares/FreeRTOS/tasks.c **** 
5506:Middlewares/FreeRTOS/tasks.c **** void vTaskSetTimeOutState( TimeOut_t * const pxTimeOut )
5507:Middlewares/FreeRTOS/tasks.c **** {
 4602              		.loc 1 5507 1
 4603              		.cfi_startproc
ARM GAS  /tmp/ccF71V7c.s 			page 182


 4604              		@ args = 0, pretend = 0, frame = 8
 4605              		@ frame_needed = 1, uses_anonymous_args = 0
 4606 0000 80B5     		push	{r7, lr}
 4607              		.cfi_def_cfa_offset 8
 4608              		.cfi_offset 7, -8
 4609              		.cfi_offset 14, -4
 4610 0002 82B0     		sub	sp, sp, #8
 4611              		.cfi_def_cfa_offset 16
 4612 0004 00AF     		add	r7, sp, #0
 4613              		.cfi_def_cfa_register 7
 4614 0006 7860     		str	r0, [r7, #4]
5508:Middlewares/FreeRTOS/tasks.c ****     traceENTER_vTaskSetTimeOutState( pxTimeOut );
5509:Middlewares/FreeRTOS/tasks.c **** 
5510:Middlewares/FreeRTOS/tasks.c ****     configASSERT( pxTimeOut );
5511:Middlewares/FreeRTOS/tasks.c ****     taskENTER_CRITICAL();
 4615              		.loc 1 5511 5
 4616 0008 FFF7FEFF 		bl	vPortEnterCritical
5512:Middlewares/FreeRTOS/tasks.c ****     {
5513:Middlewares/FreeRTOS/tasks.c ****         pxTimeOut->xOverflowCount = xNumOfOverflows;
 4617              		.loc 1 5513 35
 4618 000c 064B     		ldr	r3, .L270
 4619 000e 1A68     		ldr	r2, [r3]
 4620 0010 7B68     		ldr	r3, [r7, #4]
 4621 0012 1A60     		str	r2, [r3]
5514:Middlewares/FreeRTOS/tasks.c ****         pxTimeOut->xTimeOnEntering = xTickCount;
 4622              		.loc 1 5514 36
 4623 0014 054B     		ldr	r3, .L270+4
 4624 0016 1A68     		ldr	r2, [r3]
 4625 0018 7B68     		ldr	r3, [r7, #4]
 4626 001a 5A60     		str	r2, [r3, #4]
5515:Middlewares/FreeRTOS/tasks.c ****     }
5516:Middlewares/FreeRTOS/tasks.c ****     taskEXIT_CRITICAL();
 4627              		.loc 1 5516 5
 4628 001c FFF7FEFF 		bl	vPortExitCritical
5517:Middlewares/FreeRTOS/tasks.c **** 
5518:Middlewares/FreeRTOS/tasks.c ****     traceRETURN_vTaskSetTimeOutState();
5519:Middlewares/FreeRTOS/tasks.c **** }
 4629              		.loc 1 5519 1
 4630 0020 00BF     		nop
 4631 0022 0837     		adds	r7, r7, #8
 4632              		.cfi_def_cfa_offset 8
 4633 0024 BD46     		mov	sp, r7
 4634              		.cfi_def_cfa_register 13
 4635              		@ sp needed
 4636 0026 80BD     		pop	{r7, pc}
 4637              	.L271:
 4638              		.align	2
 4639              	.L270:
 4640 0028 00000000 		.word	xNumOfOverflows
 4641 002c 00000000 		.word	xTickCount
 4642              		.cfi_endproc
 4643              	.LFE41:
 4645              		.section	.text.vTaskInternalSetTimeOutState,"ax",%progbits
 4646              		.align	1
 4647              		.global	vTaskInternalSetTimeOutState
 4648              		.syntax unified
 4649              		.thumb
ARM GAS  /tmp/ccF71V7c.s 			page 183


 4650              		.thumb_func
 4652              	vTaskInternalSetTimeOutState:
 4653              	.LFB42:
5520:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
5521:Middlewares/FreeRTOS/tasks.c **** 
5522:Middlewares/FreeRTOS/tasks.c **** void vTaskInternalSetTimeOutState( TimeOut_t * const pxTimeOut )
5523:Middlewares/FreeRTOS/tasks.c **** {
 4654              		.loc 1 5523 1
 4655              		.cfi_startproc
 4656              		@ args = 0, pretend = 0, frame = 8
 4657              		@ frame_needed = 1, uses_anonymous_args = 0
 4658              		@ link register save eliminated.
 4659 0000 80B4     		push	{r7}
 4660              		.cfi_def_cfa_offset 4
 4661              		.cfi_offset 7, -4
 4662 0002 83B0     		sub	sp, sp, #12
 4663              		.cfi_def_cfa_offset 16
 4664 0004 00AF     		add	r7, sp, #0
 4665              		.cfi_def_cfa_register 7
 4666 0006 7860     		str	r0, [r7, #4]
5524:Middlewares/FreeRTOS/tasks.c ****     traceENTER_vTaskInternalSetTimeOutState( pxTimeOut );
5525:Middlewares/FreeRTOS/tasks.c **** 
5526:Middlewares/FreeRTOS/tasks.c ****     /* For internal use only as it does not use a critical section. */
5527:Middlewares/FreeRTOS/tasks.c ****     pxTimeOut->xOverflowCount = xNumOfOverflows;
 4667              		.loc 1 5527 31
 4668 0008 064B     		ldr	r3, .L273
 4669 000a 1A68     		ldr	r2, [r3]
 4670 000c 7B68     		ldr	r3, [r7, #4]
 4671 000e 1A60     		str	r2, [r3]
5528:Middlewares/FreeRTOS/tasks.c ****     pxTimeOut->xTimeOnEntering = xTickCount;
 4672              		.loc 1 5528 32
 4673 0010 054B     		ldr	r3, .L273+4
 4674 0012 1A68     		ldr	r2, [r3]
 4675 0014 7B68     		ldr	r3, [r7, #4]
 4676 0016 5A60     		str	r2, [r3, #4]
5529:Middlewares/FreeRTOS/tasks.c **** 
5530:Middlewares/FreeRTOS/tasks.c ****     traceRETURN_vTaskInternalSetTimeOutState();
5531:Middlewares/FreeRTOS/tasks.c **** }
 4677              		.loc 1 5531 1
 4678 0018 00BF     		nop
 4679 001a 0C37     		adds	r7, r7, #12
 4680              		.cfi_def_cfa_offset 4
 4681 001c BD46     		mov	sp, r7
 4682              		.cfi_def_cfa_register 13
 4683              		@ sp needed
 4684 001e 5DF8047B 		ldr	r7, [sp], #4
 4685              		.cfi_restore 7
 4686              		.cfi_def_cfa_offset 0
 4687 0022 7047     		bx	lr
 4688              	.L274:
 4689              		.align	2
 4690              	.L273:
 4691 0024 00000000 		.word	xNumOfOverflows
 4692 0028 00000000 		.word	xTickCount
 4693              		.cfi_endproc
 4694              	.LFE42:
 4696              		.section	.text.xTaskCheckForTimeOut,"ax",%progbits
ARM GAS  /tmp/ccF71V7c.s 			page 184


 4697              		.align	1
 4698              		.global	xTaskCheckForTimeOut
 4699              		.syntax unified
 4700              		.thumb
 4701              		.thumb_func
 4703              	xTaskCheckForTimeOut:
 4704              	.LFB43:
5532:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
5533:Middlewares/FreeRTOS/tasks.c **** 
5534:Middlewares/FreeRTOS/tasks.c **** BaseType_t xTaskCheckForTimeOut( TimeOut_t * const pxTimeOut,
5535:Middlewares/FreeRTOS/tasks.c ****                                  TickType_t * const pxTicksToWait )
5536:Middlewares/FreeRTOS/tasks.c **** {
 4705              		.loc 1 5536 1
 4706              		.cfi_startproc
 4707              		@ args = 0, pretend = 0, frame = 24
 4708              		@ frame_needed = 1, uses_anonymous_args = 0
 4709 0000 80B5     		push	{r7, lr}
 4710              		.cfi_def_cfa_offset 8
 4711              		.cfi_offset 7, -8
 4712              		.cfi_offset 14, -4
 4713 0002 86B0     		sub	sp, sp, #24
 4714              		.cfi_def_cfa_offset 32
 4715 0004 00AF     		add	r7, sp, #0
 4716              		.cfi_def_cfa_register 7
 4717 0006 7860     		str	r0, [r7, #4]
 4718 0008 3960     		str	r1, [r7]
5537:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xReturn;
5538:Middlewares/FreeRTOS/tasks.c **** 
5539:Middlewares/FreeRTOS/tasks.c ****     traceENTER_xTaskCheckForTimeOut( pxTimeOut, pxTicksToWait );
5540:Middlewares/FreeRTOS/tasks.c **** 
5541:Middlewares/FreeRTOS/tasks.c ****     configASSERT( pxTimeOut );
5542:Middlewares/FreeRTOS/tasks.c ****     configASSERT( pxTicksToWait );
5543:Middlewares/FreeRTOS/tasks.c **** 
5544:Middlewares/FreeRTOS/tasks.c ****     taskENTER_CRITICAL();
 4719              		.loc 1 5544 5
 4720 000a FFF7FEFF 		bl	vPortEnterCritical
 4721              	.LBB82:
5545:Middlewares/FreeRTOS/tasks.c ****     {
5546:Middlewares/FreeRTOS/tasks.c ****         /* Minor optimisation.  The tick count cannot change in this block. */
5547:Middlewares/FreeRTOS/tasks.c ****         const TickType_t xConstTickCount = xTickCount;
 4722              		.loc 1 5547 26
 4723 000e 1F4B     		ldr	r3, .L281
 4724 0010 1B68     		ldr	r3, [r3]
 4725 0012 3B61     		str	r3, [r7, #16]
5548:Middlewares/FreeRTOS/tasks.c ****         const TickType_t xElapsedTime = xConstTickCount - pxTimeOut->xTimeOnEntering;
 4726              		.loc 1 5548 68
 4727 0014 7B68     		ldr	r3, [r7, #4]
 4728 0016 5B68     		ldr	r3, [r3, #4]
 4729              		.loc 1 5548 26
 4730 0018 3A69     		ldr	r2, [r7, #16]
 4731 001a D31A     		subs	r3, r2, r3
 4732 001c FB60     		str	r3, [r7, #12]
5549:Middlewares/FreeRTOS/tasks.c **** 
5550:Middlewares/FreeRTOS/tasks.c ****         #if ( INCLUDE_xTaskAbortDelay == 1 )
5551:Middlewares/FreeRTOS/tasks.c ****             if( pxCurrentTCB->ucDelayAborted != ( uint8_t ) pdFALSE )
5552:Middlewares/FreeRTOS/tasks.c ****             {
5553:Middlewares/FreeRTOS/tasks.c ****                 /* The delay was aborted, which is not the same as a time out,
ARM GAS  /tmp/ccF71V7c.s 			page 185


5554:Middlewares/FreeRTOS/tasks.c ****                  * but has the same result. */
5555:Middlewares/FreeRTOS/tasks.c ****                 pxCurrentTCB->ucDelayAborted = ( uint8_t ) pdFALSE;
5556:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pdTRUE;
5557:Middlewares/FreeRTOS/tasks.c ****             }
5558:Middlewares/FreeRTOS/tasks.c ****             else
5559:Middlewares/FreeRTOS/tasks.c ****         #endif
5560:Middlewares/FreeRTOS/tasks.c **** 
5561:Middlewares/FreeRTOS/tasks.c ****         #if ( INCLUDE_vTaskSuspend == 1 )
5562:Middlewares/FreeRTOS/tasks.c ****             if( *pxTicksToWait == portMAX_DELAY )
 4733              		.loc 1 5562 17
 4734 001e 3B68     		ldr	r3, [r7]
 4735 0020 1B68     		ldr	r3, [r3]
 4736              		.loc 1 5562 15
 4737 0022 B3F1FF3F 		cmp	r3, #-1
 4738 0026 02D1     		bne	.L276
5563:Middlewares/FreeRTOS/tasks.c ****             {
5564:Middlewares/FreeRTOS/tasks.c ****                 /* If INCLUDE_vTaskSuspend is set to 1 and the block time
5565:Middlewares/FreeRTOS/tasks.c ****                  * specified is the maximum block time then the task should block
5566:Middlewares/FreeRTOS/tasks.c ****                  * indefinitely, and therefore never time out. */
5567:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pdFALSE;
 4739              		.loc 1 5567 25
 4740 0028 0023     		movs	r3, #0
 4741 002a 7B61     		str	r3, [r7, #20]
 4742 002c 26E0     		b	.L277
 4743              	.L276:
5568:Middlewares/FreeRTOS/tasks.c ****             }
5569:Middlewares/FreeRTOS/tasks.c ****             else
5570:Middlewares/FreeRTOS/tasks.c ****         #endif
5571:Middlewares/FreeRTOS/tasks.c **** 
5572:Middlewares/FreeRTOS/tasks.c ****         if( ( xNumOfOverflows != pxTimeOut->xOverflowCount ) && ( xConstTickCount >= pxTimeOut->xTi
 4744              		.loc 1 5572 43
 4745 002e 7B68     		ldr	r3, [r7, #4]
 4746 0030 1A68     		ldr	r2, [r3]
 4747              		.loc 1 5572 31
 4748 0032 174B     		ldr	r3, .L281+4
 4749 0034 1B68     		ldr	r3, [r3]
 4750              		.loc 1 5572 11
 4751 0036 9A42     		cmp	r2, r3
 4752 0038 0AD0     		beq	.L278
 4753              		.loc 1 5572 95 discriminator 1
 4754 003a 7B68     		ldr	r3, [r7, #4]
 4755 003c 5B68     		ldr	r3, [r3, #4]
 4756              		.loc 1 5572 62 discriminator 1
 4757 003e 3A69     		ldr	r2, [r7, #16]
 4758 0040 9A42     		cmp	r2, r3
 4759 0042 05D3     		bcc	.L278
5573:Middlewares/FreeRTOS/tasks.c ****         {
5574:Middlewares/FreeRTOS/tasks.c ****             /* The tick count is greater than the time at which
5575:Middlewares/FreeRTOS/tasks.c ****              * vTaskSetTimeout() was called, but has also overflowed since
5576:Middlewares/FreeRTOS/tasks.c ****              * vTaskSetTimeOut() was called.  It must have wrapped all the way
5577:Middlewares/FreeRTOS/tasks.c ****              * around and gone past again. This passed since vTaskSetTimeout()
5578:Middlewares/FreeRTOS/tasks.c ****              * was called. */
5579:Middlewares/FreeRTOS/tasks.c ****             xReturn = pdTRUE;
 4760              		.loc 1 5579 21
 4761 0044 0123     		movs	r3, #1
 4762 0046 7B61     		str	r3, [r7, #20]
5580:Middlewares/FreeRTOS/tasks.c ****             *pxTicksToWait = ( TickType_t ) 0;
ARM GAS  /tmp/ccF71V7c.s 			page 186


 4763              		.loc 1 5580 28
 4764 0048 3B68     		ldr	r3, [r7]
 4765 004a 0022     		movs	r2, #0
 4766 004c 1A60     		str	r2, [r3]
 4767 004e 15E0     		b	.L277
 4768              	.L278:
5581:Middlewares/FreeRTOS/tasks.c ****         }
5582:Middlewares/FreeRTOS/tasks.c ****         else if( xElapsedTime < *pxTicksToWait )
 4769              		.loc 1 5582 33
 4770 0050 3B68     		ldr	r3, [r7]
 4771 0052 1B68     		ldr	r3, [r3]
 4772              		.loc 1 5582 16
 4773 0054 FA68     		ldr	r2, [r7, #12]
 4774 0056 9A42     		cmp	r2, r3
 4775 0058 0BD2     		bcs	.L279
5583:Middlewares/FreeRTOS/tasks.c ****         {
5584:Middlewares/FreeRTOS/tasks.c ****             /* Not a genuine timeout. Adjust parameters for time remaining. */
5585:Middlewares/FreeRTOS/tasks.c ****             *pxTicksToWait -= xElapsedTime;
 4776              		.loc 1 5585 13
 4777 005a 3B68     		ldr	r3, [r7]
 4778 005c 1A68     		ldr	r2, [r3]
 4779              		.loc 1 5585 28
 4780 005e FB68     		ldr	r3, [r7, #12]
 4781 0060 D21A     		subs	r2, r2, r3
 4782 0062 3B68     		ldr	r3, [r7]
 4783 0064 1A60     		str	r2, [r3]
5586:Middlewares/FreeRTOS/tasks.c ****             vTaskInternalSetTimeOutState( pxTimeOut );
 4784              		.loc 1 5586 13
 4785 0066 7868     		ldr	r0, [r7, #4]
 4786 0068 FFF7FEFF 		bl	vTaskInternalSetTimeOutState
5587:Middlewares/FreeRTOS/tasks.c ****             xReturn = pdFALSE;
 4787              		.loc 1 5587 21
 4788 006c 0023     		movs	r3, #0
 4789 006e 7B61     		str	r3, [r7, #20]
 4790 0070 04E0     		b	.L277
 4791              	.L279:
5588:Middlewares/FreeRTOS/tasks.c ****         }
5589:Middlewares/FreeRTOS/tasks.c ****         else
5590:Middlewares/FreeRTOS/tasks.c ****         {
5591:Middlewares/FreeRTOS/tasks.c ****             *pxTicksToWait = ( TickType_t ) 0;
 4792              		.loc 1 5591 28
 4793 0072 3B68     		ldr	r3, [r7]
 4794 0074 0022     		movs	r2, #0
 4795 0076 1A60     		str	r2, [r3]
5592:Middlewares/FreeRTOS/tasks.c ****             xReturn = pdTRUE;
 4796              		.loc 1 5592 21
 4797 0078 0123     		movs	r3, #1
 4798 007a 7B61     		str	r3, [r7, #20]
 4799              	.L277:
 4800              	.LBE82:
5593:Middlewares/FreeRTOS/tasks.c ****         }
5594:Middlewares/FreeRTOS/tasks.c ****     }
5595:Middlewares/FreeRTOS/tasks.c ****     taskEXIT_CRITICAL();
 4801              		.loc 1 5595 5
 4802 007c FFF7FEFF 		bl	vPortExitCritical
5596:Middlewares/FreeRTOS/tasks.c **** 
5597:Middlewares/FreeRTOS/tasks.c ****     traceRETURN_xTaskCheckForTimeOut( xReturn );
ARM GAS  /tmp/ccF71V7c.s 			page 187


5598:Middlewares/FreeRTOS/tasks.c **** 
5599:Middlewares/FreeRTOS/tasks.c ****     return xReturn;
 4803              		.loc 1 5599 12
 4804 0080 7B69     		ldr	r3, [r7, #20]
5600:Middlewares/FreeRTOS/tasks.c **** }
 4805              		.loc 1 5600 1
 4806 0082 1846     		mov	r0, r3
 4807 0084 1837     		adds	r7, r7, #24
 4808              		.cfi_def_cfa_offset 8
 4809 0086 BD46     		mov	sp, r7
 4810              		.cfi_def_cfa_register 13
 4811              		@ sp needed
 4812 0088 80BD     		pop	{r7, pc}
 4813              	.L282:
 4814 008a 00BF     		.align	2
 4815              	.L281:
 4816 008c 00000000 		.word	xTickCount
 4817 0090 00000000 		.word	xNumOfOverflows
 4818              		.cfi_endproc
 4819              	.LFE43:
 4821              		.section	.text.vTaskMissedYield,"ax",%progbits
 4822              		.align	1
 4823              		.global	vTaskMissedYield
 4824              		.syntax unified
 4825              		.thumb
 4826              		.thumb_func
 4828              	vTaskMissedYield:
 4829              	.LFB44:
5601:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
5602:Middlewares/FreeRTOS/tasks.c **** 
5603:Middlewares/FreeRTOS/tasks.c **** void vTaskMissedYield( void )
5604:Middlewares/FreeRTOS/tasks.c **** {
 4830              		.loc 1 5604 1
 4831              		.cfi_startproc
 4832              		@ args = 0, pretend = 0, frame = 0
 4833              		@ frame_needed = 1, uses_anonymous_args = 0
 4834              		@ link register save eliminated.
 4835 0000 80B4     		push	{r7}
 4836              		.cfi_def_cfa_offset 4
 4837              		.cfi_offset 7, -4
 4838 0002 00AF     		add	r7, sp, #0
 4839              		.cfi_def_cfa_register 7
5605:Middlewares/FreeRTOS/tasks.c ****     traceENTER_vTaskMissedYield();
5606:Middlewares/FreeRTOS/tasks.c **** 
5607:Middlewares/FreeRTOS/tasks.c ****     /* Must be called from within a critical section. */
5608:Middlewares/FreeRTOS/tasks.c ****     xYieldPendings[ portGET_CORE_ID() ] = pdTRUE;
 4840              		.loc 1 5608 41
 4841 0004 034B     		ldr	r3, .L284
 4842 0006 0122     		movs	r2, #1
 4843 0008 1A60     		str	r2, [r3]
5609:Middlewares/FreeRTOS/tasks.c **** 
5610:Middlewares/FreeRTOS/tasks.c ****     traceRETURN_vTaskMissedYield();
5611:Middlewares/FreeRTOS/tasks.c **** }
 4844              		.loc 1 5611 1
 4845 000a 00BF     		nop
 4846 000c BD46     		mov	sp, r7
 4847              		.cfi_def_cfa_register 13
ARM GAS  /tmp/ccF71V7c.s 			page 188


 4848              		@ sp needed
 4849 000e 5DF8047B 		ldr	r7, [sp], #4
 4850              		.cfi_restore 7
 4851              		.cfi_def_cfa_offset 0
 4852 0012 7047     		bx	lr
 4853              	.L285:
 4854              		.align	2
 4855              	.L284:
 4856 0014 00000000 		.word	xYieldPendings
 4857              		.cfi_endproc
 4858              	.LFE44:
 4860              		.section	.text.uxTaskGetTaskNumber,"ax",%progbits
 4861              		.align	1
 4862              		.global	uxTaskGetTaskNumber
 4863              		.syntax unified
 4864              		.thumb
 4865              		.thumb_func
 4867              	uxTaskGetTaskNumber:
 4868              	.LFB45:
5612:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
5613:Middlewares/FreeRTOS/tasks.c **** 
5614:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_TRACE_FACILITY == 1 )
5615:Middlewares/FreeRTOS/tasks.c **** 
5616:Middlewares/FreeRTOS/tasks.c ****     UBaseType_t uxTaskGetTaskNumber( TaskHandle_t xTask )
5617:Middlewares/FreeRTOS/tasks.c ****     {
 4869              		.loc 1 5617 5
 4870              		.cfi_startproc
 4871              		@ args = 0, pretend = 0, frame = 16
 4872              		@ frame_needed = 1, uses_anonymous_args = 0
 4873              		@ link register save eliminated.
 4874 0000 80B4     		push	{r7}
 4875              		.cfi_def_cfa_offset 4
 4876              		.cfi_offset 7, -4
 4877 0002 85B0     		sub	sp, sp, #20
 4878              		.cfi_def_cfa_offset 24
 4879 0004 00AF     		add	r7, sp, #0
 4880              		.cfi_def_cfa_register 7
 4881 0006 7860     		str	r0, [r7, #4]
5618:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxReturn;
5619:Middlewares/FreeRTOS/tasks.c ****         TCB_t const * pxTCB;
5620:Middlewares/FreeRTOS/tasks.c **** 
5621:Middlewares/FreeRTOS/tasks.c ****         traceENTER_uxTaskGetTaskNumber( xTask );
5622:Middlewares/FreeRTOS/tasks.c **** 
5623:Middlewares/FreeRTOS/tasks.c ****         if( xTask != NULL )
 4882              		.loc 1 5623 11
 4883 0008 7B68     		ldr	r3, [r7, #4]
 4884 000a 002B     		cmp	r3, #0
 4885 000c 05D0     		beq	.L287
5624:Middlewares/FreeRTOS/tasks.c ****         {
5625:Middlewares/FreeRTOS/tasks.c ****             pxTCB = xTask;
 4886              		.loc 1 5625 19
 4887 000e 7B68     		ldr	r3, [r7, #4]
 4888 0010 BB60     		str	r3, [r7, #8]
5626:Middlewares/FreeRTOS/tasks.c ****             uxReturn = pxTCB->uxTaskNumber;
 4889              		.loc 1 5626 22
 4890 0012 BB68     		ldr	r3, [r7, #8]
 4891 0014 9B6C     		ldr	r3, [r3, #72]
ARM GAS  /tmp/ccF71V7c.s 			page 189


 4892 0016 FB60     		str	r3, [r7, #12]
 4893 0018 01E0     		b	.L288
 4894              	.L287:
5627:Middlewares/FreeRTOS/tasks.c ****         }
5628:Middlewares/FreeRTOS/tasks.c ****         else
5629:Middlewares/FreeRTOS/tasks.c ****         {
5630:Middlewares/FreeRTOS/tasks.c ****             uxReturn = 0U;
 4895              		.loc 1 5630 22
 4896 001a 0023     		movs	r3, #0
 4897 001c FB60     		str	r3, [r7, #12]
 4898              	.L288:
5631:Middlewares/FreeRTOS/tasks.c ****         }
5632:Middlewares/FreeRTOS/tasks.c **** 
5633:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_uxTaskGetTaskNumber( uxReturn );
5634:Middlewares/FreeRTOS/tasks.c **** 
5635:Middlewares/FreeRTOS/tasks.c ****         return uxReturn;
 4899              		.loc 1 5635 16
 4900 001e FB68     		ldr	r3, [r7, #12]
5636:Middlewares/FreeRTOS/tasks.c ****     }
 4901              		.loc 1 5636 5
 4902 0020 1846     		mov	r0, r3
 4903 0022 1437     		adds	r7, r7, #20
 4904              		.cfi_def_cfa_offset 4
 4905 0024 BD46     		mov	sp, r7
 4906              		.cfi_def_cfa_register 13
 4907              		@ sp needed
 4908 0026 5DF8047B 		ldr	r7, [sp], #4
 4909              		.cfi_restore 7
 4910              		.cfi_def_cfa_offset 0
 4911 002a 7047     		bx	lr
 4912              		.cfi_endproc
 4913              	.LFE45:
 4915              		.section	.text.vTaskSetTaskNumber,"ax",%progbits
 4916              		.align	1
 4917              		.global	vTaskSetTaskNumber
 4918              		.syntax unified
 4919              		.thumb
 4920              		.thumb_func
 4922              	vTaskSetTaskNumber:
 4923              	.LFB46:
5637:Middlewares/FreeRTOS/tasks.c **** 
5638:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_TRACE_FACILITY */
5639:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
5640:Middlewares/FreeRTOS/tasks.c **** 
5641:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_TRACE_FACILITY == 1 )
5642:Middlewares/FreeRTOS/tasks.c **** 
5643:Middlewares/FreeRTOS/tasks.c ****     void vTaskSetTaskNumber( TaskHandle_t xTask,
5644:Middlewares/FreeRTOS/tasks.c ****                              const UBaseType_t uxHandle )
5645:Middlewares/FreeRTOS/tasks.c ****     {
 4924              		.loc 1 5645 5
 4925              		.cfi_startproc
 4926              		@ args = 0, pretend = 0, frame = 16
 4927              		@ frame_needed = 1, uses_anonymous_args = 0
 4928              		@ link register save eliminated.
 4929 0000 80B4     		push	{r7}
 4930              		.cfi_def_cfa_offset 4
 4931              		.cfi_offset 7, -4
ARM GAS  /tmp/ccF71V7c.s 			page 190


 4932 0002 85B0     		sub	sp, sp, #20
 4933              		.cfi_def_cfa_offset 24
 4934 0004 00AF     		add	r7, sp, #0
 4935              		.cfi_def_cfa_register 7
 4936 0006 7860     		str	r0, [r7, #4]
 4937 0008 3960     		str	r1, [r7]
5646:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
5647:Middlewares/FreeRTOS/tasks.c **** 
5648:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskSetTaskNumber( xTask, uxHandle );
5649:Middlewares/FreeRTOS/tasks.c **** 
5650:Middlewares/FreeRTOS/tasks.c ****         if( xTask != NULL )
 4938              		.loc 1 5650 11
 4939 000a 7B68     		ldr	r3, [r7, #4]
 4940 000c 002B     		cmp	r3, #0
 4941 000e 04D0     		beq	.L292
5651:Middlewares/FreeRTOS/tasks.c ****         {
5652:Middlewares/FreeRTOS/tasks.c ****             pxTCB = xTask;
 4942              		.loc 1 5652 19
 4943 0010 7B68     		ldr	r3, [r7, #4]
 4944 0012 FB60     		str	r3, [r7, #12]
5653:Middlewares/FreeRTOS/tasks.c ****             pxTCB->uxTaskNumber = uxHandle;
 4945              		.loc 1 5653 33
 4946 0014 FB68     		ldr	r3, [r7, #12]
 4947 0016 3A68     		ldr	r2, [r7]
 4948 0018 9A64     		str	r2, [r3, #72]
 4949              	.L292:
5654:Middlewares/FreeRTOS/tasks.c ****         }
5655:Middlewares/FreeRTOS/tasks.c **** 
5656:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskSetTaskNumber();
5657:Middlewares/FreeRTOS/tasks.c ****     }
 4950              		.loc 1 5657 5
 4951 001a 00BF     		nop
 4952 001c 1437     		adds	r7, r7, #20
 4953              		.cfi_def_cfa_offset 4
 4954 001e BD46     		mov	sp, r7
 4955              		.cfi_def_cfa_register 13
 4956              		@ sp needed
 4957 0020 5DF8047B 		ldr	r7, [sp], #4
 4958              		.cfi_restore 7
 4959              		.cfi_def_cfa_offset 0
 4960 0024 7047     		bx	lr
 4961              		.cfi_endproc
 4962              	.LFE46:
 4964              		.section	.text.prvIdleTask,"ax",%progbits
 4965              		.align	1
 4966              		.syntax unified
 4967              		.thumb
 4968              		.thumb_func
 4970              	prvIdleTask:
 4971              	.LFB47:
5658:Middlewares/FreeRTOS/tasks.c **** 
5659:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_TRACE_FACILITY */
5660:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
5661:Middlewares/FreeRTOS/tasks.c **** 
5662:Middlewares/FreeRTOS/tasks.c **** /*
5663:Middlewares/FreeRTOS/tasks.c ****  * -----------------------------------------------------------
5664:Middlewares/FreeRTOS/tasks.c ****  * The passive idle task.
ARM GAS  /tmp/ccF71V7c.s 			page 191


5665:Middlewares/FreeRTOS/tasks.c ****  * ----------------------------------------------------------
5666:Middlewares/FreeRTOS/tasks.c ****  *
5667:Middlewares/FreeRTOS/tasks.c ****  * The passive idle task is used for all the additional cores in a SMP
5668:Middlewares/FreeRTOS/tasks.c ****  * system. There must be only 1 active idle task and the rest are passive
5669:Middlewares/FreeRTOS/tasks.c ****  * idle tasks.
5670:Middlewares/FreeRTOS/tasks.c ****  *
5671:Middlewares/FreeRTOS/tasks.c ****  * The portTASK_FUNCTION() macro is used to allow port/compiler specific
5672:Middlewares/FreeRTOS/tasks.c ****  * language extensions.  The equivalent prototype for this function is:
5673:Middlewares/FreeRTOS/tasks.c ****  *
5674:Middlewares/FreeRTOS/tasks.c ****  * void prvPassiveIdleTask( void *pvParameters );
5675:Middlewares/FreeRTOS/tasks.c ****  */
5676:Middlewares/FreeRTOS/tasks.c **** 
5677:Middlewares/FreeRTOS/tasks.c **** #if ( configNUMBER_OF_CORES > 1 )
5678:Middlewares/FreeRTOS/tasks.c ****     static portTASK_FUNCTION( prvPassiveIdleTask, pvParameters )
5679:Middlewares/FreeRTOS/tasks.c ****     {
5680:Middlewares/FreeRTOS/tasks.c ****         ( void ) pvParameters;
5681:Middlewares/FreeRTOS/tasks.c **** 
5682:Middlewares/FreeRTOS/tasks.c ****         taskYIELD();
5683:Middlewares/FreeRTOS/tasks.c **** 
5684:Middlewares/FreeRTOS/tasks.c ****         for( ; configCONTROL_INFINITE_LOOP(); )
5685:Middlewares/FreeRTOS/tasks.c ****         {
5686:Middlewares/FreeRTOS/tasks.c ****             #if ( configUSE_PREEMPTION == 0 )
5687:Middlewares/FreeRTOS/tasks.c ****             {
5688:Middlewares/FreeRTOS/tasks.c ****                 /* If we are not using preemption we keep forcing a task switch to
5689:Middlewares/FreeRTOS/tasks.c ****                  * see if any other task has become available.  If we are using
5690:Middlewares/FreeRTOS/tasks.c ****                  * preemption we don't need to do this as any task becoming available
5691:Middlewares/FreeRTOS/tasks.c ****                  * will automatically get the processor anyway. */
5692:Middlewares/FreeRTOS/tasks.c ****                 taskYIELD();
5693:Middlewares/FreeRTOS/tasks.c ****             }
5694:Middlewares/FreeRTOS/tasks.c ****             #endif /* configUSE_PREEMPTION */
5695:Middlewares/FreeRTOS/tasks.c **** 
5696:Middlewares/FreeRTOS/tasks.c ****             #if ( ( configUSE_PREEMPTION == 1 ) && ( configIDLE_SHOULD_YIELD == 1 ) )
5697:Middlewares/FreeRTOS/tasks.c ****             {
5698:Middlewares/FreeRTOS/tasks.c ****                 /* When using preemption tasks of equal priority will be
5699:Middlewares/FreeRTOS/tasks.c ****                  * timesliced.  If a task that is sharing the idle priority is ready
5700:Middlewares/FreeRTOS/tasks.c ****                  * to run then the idle task should yield before the end of the
5701:Middlewares/FreeRTOS/tasks.c ****                  * timeslice.
5702:Middlewares/FreeRTOS/tasks.c ****                  *
5703:Middlewares/FreeRTOS/tasks.c ****                  * A critical region is not required here as we are just reading from
5704:Middlewares/FreeRTOS/tasks.c ****                  * the list, and an occasional incorrect value will not matter.  If
5705:Middlewares/FreeRTOS/tasks.c ****                  * the ready list at the idle priority contains one more task than the
5706:Middlewares/FreeRTOS/tasks.c ****                  * number of idle tasks, which is equal to the configured numbers of cores
5707:Middlewares/FreeRTOS/tasks.c ****                  * then a task other than the idle task is ready to execute. */
5708:Middlewares/FreeRTOS/tasks.c ****                 if( listCURRENT_LIST_LENGTH( &( pxReadyTasksLists[ tskIDLE_PRIORITY ] ) ) > ( UBase
5709:Middlewares/FreeRTOS/tasks.c ****                 {
5710:Middlewares/FreeRTOS/tasks.c ****                     taskYIELD();
5711:Middlewares/FreeRTOS/tasks.c ****                 }
5712:Middlewares/FreeRTOS/tasks.c ****                 else
5713:Middlewares/FreeRTOS/tasks.c ****                 {
5714:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
5715:Middlewares/FreeRTOS/tasks.c ****                 }
5716:Middlewares/FreeRTOS/tasks.c ****             }
5717:Middlewares/FreeRTOS/tasks.c ****             #endif /* ( ( configUSE_PREEMPTION == 1 ) && ( configIDLE_SHOULD_YIELD == 1 ) ) */
5718:Middlewares/FreeRTOS/tasks.c **** 
5719:Middlewares/FreeRTOS/tasks.c ****             #if ( configUSE_PASSIVE_IDLE_HOOK == 1 )
5720:Middlewares/FreeRTOS/tasks.c ****             {
5721:Middlewares/FreeRTOS/tasks.c ****                 /* Call the user defined function from within the idle task.  This
ARM GAS  /tmp/ccF71V7c.s 			page 192


5722:Middlewares/FreeRTOS/tasks.c ****                  * allows the application designer to add background functionality
5723:Middlewares/FreeRTOS/tasks.c ****                  * without the overhead of a separate task.
5724:Middlewares/FreeRTOS/tasks.c ****                  *
5725:Middlewares/FreeRTOS/tasks.c ****                  * This hook is intended to manage core activity such as disabling cores that go id
5726:Middlewares/FreeRTOS/tasks.c ****                  *
5727:Middlewares/FreeRTOS/tasks.c ****                  * NOTE: vApplicationPassiveIdleHook() MUST NOT, UNDER ANY CIRCUMSTANCES,
5728:Middlewares/FreeRTOS/tasks.c ****                  * CALL A FUNCTION THAT MIGHT BLOCK. */
5729:Middlewares/FreeRTOS/tasks.c ****                 vApplicationPassiveIdleHook();
5730:Middlewares/FreeRTOS/tasks.c ****             }
5731:Middlewares/FreeRTOS/tasks.c ****             #endif /* configUSE_PASSIVE_IDLE_HOOK */
5732:Middlewares/FreeRTOS/tasks.c ****         }
5733:Middlewares/FreeRTOS/tasks.c ****     }
5734:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( configNUMBER_OF_CORES > 1 ) */
5735:Middlewares/FreeRTOS/tasks.c **** 
5736:Middlewares/FreeRTOS/tasks.c **** /*
5737:Middlewares/FreeRTOS/tasks.c ****  * -----------------------------------------------------------
5738:Middlewares/FreeRTOS/tasks.c ****  * The idle task.
5739:Middlewares/FreeRTOS/tasks.c ****  * ----------------------------------------------------------
5740:Middlewares/FreeRTOS/tasks.c ****  *
5741:Middlewares/FreeRTOS/tasks.c ****  * The portTASK_FUNCTION() macro is used to allow port/compiler specific
5742:Middlewares/FreeRTOS/tasks.c ****  * language extensions.  The equivalent prototype for this function is:
5743:Middlewares/FreeRTOS/tasks.c ****  *
5744:Middlewares/FreeRTOS/tasks.c ****  * void prvIdleTask( void *pvParameters );
5745:Middlewares/FreeRTOS/tasks.c ****  *
5746:Middlewares/FreeRTOS/tasks.c ****  */
5747:Middlewares/FreeRTOS/tasks.c **** 
5748:Middlewares/FreeRTOS/tasks.c **** static portTASK_FUNCTION( prvIdleTask, pvParameters )
5749:Middlewares/FreeRTOS/tasks.c **** {
 4972              		.loc 1 5749 1
 4973              		.cfi_startproc
 4974              		@ args = 0, pretend = 0, frame = 8
 4975              		@ frame_needed = 1, uses_anonymous_args = 0
 4976 0000 80B5     		push	{r7, lr}
 4977              		.cfi_def_cfa_offset 8
 4978              		.cfi_offset 7, -8
 4979              		.cfi_offset 14, -4
 4980 0002 82B0     		sub	sp, sp, #8
 4981              		.cfi_def_cfa_offset 16
 4982 0004 00AF     		add	r7, sp, #0
 4983              		.cfi_def_cfa_register 7
 4984 0006 7860     		str	r0, [r7, #4]
 4985              	.L295:
5750:Middlewares/FreeRTOS/tasks.c ****     /* Stop warnings. */
5751:Middlewares/FreeRTOS/tasks.c ****     ( void ) pvParameters;
5752:Middlewares/FreeRTOS/tasks.c **** 
5753:Middlewares/FreeRTOS/tasks.c ****     /** THIS IS THE RTOS IDLE TASK - WHICH IS CREATED AUTOMATICALLY WHEN THE
5754:Middlewares/FreeRTOS/tasks.c ****      * SCHEDULER IS STARTED. **/
5755:Middlewares/FreeRTOS/tasks.c **** 
5756:Middlewares/FreeRTOS/tasks.c ****     /* In case a task that has a secure context deletes itself, in which case
5757:Middlewares/FreeRTOS/tasks.c ****      * the idle task is responsible for deleting the task's secure context, if
5758:Middlewares/FreeRTOS/tasks.c ****      * any. */
5759:Middlewares/FreeRTOS/tasks.c ****     portALLOCATE_SECURE_CONTEXT( configMINIMAL_SECURE_STACK_SIZE );
5760:Middlewares/FreeRTOS/tasks.c **** 
5761:Middlewares/FreeRTOS/tasks.c ****     #if ( configNUMBER_OF_CORES > 1 )
5762:Middlewares/FreeRTOS/tasks.c ****     {
5763:Middlewares/FreeRTOS/tasks.c ****         /* SMP all cores start up in the idle task. This initial yield gets the application
5764:Middlewares/FreeRTOS/tasks.c ****          * tasks started. */
ARM GAS  /tmp/ccF71V7c.s 			page 193


5765:Middlewares/FreeRTOS/tasks.c ****         taskYIELD();
5766:Middlewares/FreeRTOS/tasks.c ****     }
5767:Middlewares/FreeRTOS/tasks.c ****     #endif /* #if ( configNUMBER_OF_CORES > 1 ) */
5768:Middlewares/FreeRTOS/tasks.c **** 
5769:Middlewares/FreeRTOS/tasks.c ****     for( ; configCONTROL_INFINITE_LOOP(); )
5770:Middlewares/FreeRTOS/tasks.c ****     {
5771:Middlewares/FreeRTOS/tasks.c ****         /* See if any tasks have deleted themselves - if so then the idle task
5772:Middlewares/FreeRTOS/tasks.c ****          * is responsible for freeing the deleted task's TCB and stack. */
5773:Middlewares/FreeRTOS/tasks.c ****         prvCheckTasksWaitingTermination();
 4986              		.loc 1 5773 9
 4987 0008 FFF7FEFF 		bl	prvCheckTasksWaitingTermination
5774:Middlewares/FreeRTOS/tasks.c **** 
5775:Middlewares/FreeRTOS/tasks.c ****         #if ( configUSE_PREEMPTION == 0 )
5776:Middlewares/FreeRTOS/tasks.c ****         {
5777:Middlewares/FreeRTOS/tasks.c ****             /* If we are not using preemption we keep forcing a task switch to
5778:Middlewares/FreeRTOS/tasks.c ****              * see if any other task has become available.  If we are using
5779:Middlewares/FreeRTOS/tasks.c ****              * preemption we don't need to do this as any task becoming available
5780:Middlewares/FreeRTOS/tasks.c ****              * will automatically get the processor anyway. */
5781:Middlewares/FreeRTOS/tasks.c ****             taskYIELD();
5782:Middlewares/FreeRTOS/tasks.c ****         }
5783:Middlewares/FreeRTOS/tasks.c ****         #endif /* configUSE_PREEMPTION */
5784:Middlewares/FreeRTOS/tasks.c **** 
5785:Middlewares/FreeRTOS/tasks.c ****         #if ( ( configUSE_PREEMPTION == 1 ) && ( configIDLE_SHOULD_YIELD == 1 ) )
5786:Middlewares/FreeRTOS/tasks.c ****         {
5787:Middlewares/FreeRTOS/tasks.c ****             /* When using preemption tasks of equal priority will be
5788:Middlewares/FreeRTOS/tasks.c ****              * timesliced.  If a task that is sharing the idle priority is ready
5789:Middlewares/FreeRTOS/tasks.c ****              * to run then the idle task should yield before the end of the
5790:Middlewares/FreeRTOS/tasks.c ****              * timeslice.
5791:Middlewares/FreeRTOS/tasks.c ****              *
5792:Middlewares/FreeRTOS/tasks.c ****              * A critical region is not required here as we are just reading from
5793:Middlewares/FreeRTOS/tasks.c ****              * the list, and an occasional incorrect value will not matter.  If
5794:Middlewares/FreeRTOS/tasks.c ****              * the ready list at the idle priority contains one more task than the
5795:Middlewares/FreeRTOS/tasks.c ****              * number of idle tasks, which is equal to the configured numbers of cores
5796:Middlewares/FreeRTOS/tasks.c ****              * then a task other than the idle task is ready to execute. */
5797:Middlewares/FreeRTOS/tasks.c ****             if( listCURRENT_LIST_LENGTH( &( pxReadyTasksLists[ tskIDLE_PRIORITY ] ) ) > ( UBaseType
 4988              		.loc 1 5797 17
 4989 000c 064B     		ldr	r3, .L296
 4990 000e 1B68     		ldr	r3, [r3]
 4991              		.loc 1 5797 15
 4992 0010 012B     		cmp	r3, #1
 4993 0012 F9D9     		bls	.L295
5798:Middlewares/FreeRTOS/tasks.c ****             {
5799:Middlewares/FreeRTOS/tasks.c ****                 taskYIELD();
 4994              		.loc 1 5799 17
 4995 0014 054B     		ldr	r3, .L296+4
 4996 0016 4FF08052 		mov	r2, #268435456
 4997 001a 1A60     		str	r2, [r3]
 4998              		.syntax unified
 4999              	@ 5799 "Middlewares/FreeRTOS/tasks.c" 1
 5000 001c BFF34F8F 		dsb
 5001              	@ 0 "" 2
 5002              	@ 5799 "Middlewares/FreeRTOS/tasks.c" 1
 5003 0020 BFF36F8F 		isb
 5004              	@ 0 "" 2
5773:Middlewares/FreeRTOS/tasks.c **** 
 5005              		.loc 1 5773 9
 5006              		.thumb
ARM GAS  /tmp/ccF71V7c.s 			page 194


 5007              		.syntax unified
 5008 0024 F0E7     		b	.L295
 5009              	.L297:
 5010 0026 00BF     		.align	2
 5011              	.L296:
 5012 0028 00000000 		.word	pxReadyTasksLists
 5013 002c 04ED00E0 		.word	-536810236
 5014              		.cfi_endproc
 5015              	.LFE47:
 5017              		.section	.text.prvInitialiseTaskLists,"ax",%progbits
 5018              		.align	1
 5019              		.syntax unified
 5020              		.thumb
 5021              		.thumb_func
 5023              	prvInitialiseTaskLists:
 5024              	.LFB48:
5800:Middlewares/FreeRTOS/tasks.c ****             }
5801:Middlewares/FreeRTOS/tasks.c ****             else
5802:Middlewares/FreeRTOS/tasks.c ****             {
5803:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
5804:Middlewares/FreeRTOS/tasks.c ****             }
5805:Middlewares/FreeRTOS/tasks.c ****         }
5806:Middlewares/FreeRTOS/tasks.c ****         #endif /* ( ( configUSE_PREEMPTION == 1 ) && ( configIDLE_SHOULD_YIELD == 1 ) ) */
5807:Middlewares/FreeRTOS/tasks.c **** 
5808:Middlewares/FreeRTOS/tasks.c ****         #if ( configUSE_IDLE_HOOK == 1 )
5809:Middlewares/FreeRTOS/tasks.c ****         {
5810:Middlewares/FreeRTOS/tasks.c ****             /* Call the user defined function from within the idle task. */
5811:Middlewares/FreeRTOS/tasks.c ****             vApplicationIdleHook();
5812:Middlewares/FreeRTOS/tasks.c ****         }
5813:Middlewares/FreeRTOS/tasks.c ****         #endif /* configUSE_IDLE_HOOK */
5814:Middlewares/FreeRTOS/tasks.c **** 
5815:Middlewares/FreeRTOS/tasks.c ****         /* This conditional compilation should use inequality to 0, not equality
5816:Middlewares/FreeRTOS/tasks.c ****          * to 1.  This is to ensure portSUPPRESS_TICKS_AND_SLEEP() is called when
5817:Middlewares/FreeRTOS/tasks.c ****          * user defined low power mode  implementations require
5818:Middlewares/FreeRTOS/tasks.c ****          * configUSE_TICKLESS_IDLE to be set to a value other than 1. */
5819:Middlewares/FreeRTOS/tasks.c ****         #if ( configUSE_TICKLESS_IDLE != 0 )
5820:Middlewares/FreeRTOS/tasks.c ****         {
5821:Middlewares/FreeRTOS/tasks.c ****             TickType_t xExpectedIdleTime;
5822:Middlewares/FreeRTOS/tasks.c **** 
5823:Middlewares/FreeRTOS/tasks.c ****             /* It is not desirable to suspend then resume the scheduler on
5824:Middlewares/FreeRTOS/tasks.c ****              * each iteration of the idle task.  Therefore, a preliminary
5825:Middlewares/FreeRTOS/tasks.c ****              * test of the expected idle time is performed without the
5826:Middlewares/FreeRTOS/tasks.c ****              * scheduler suspended.  The result here is not necessarily
5827:Middlewares/FreeRTOS/tasks.c ****              * valid. */
5828:Middlewares/FreeRTOS/tasks.c ****             xExpectedIdleTime = prvGetExpectedIdleTime();
5829:Middlewares/FreeRTOS/tasks.c **** 
5830:Middlewares/FreeRTOS/tasks.c ****             if( xExpectedIdleTime >= ( TickType_t ) configEXPECTED_IDLE_TIME_BEFORE_SLEEP )
5831:Middlewares/FreeRTOS/tasks.c ****             {
5832:Middlewares/FreeRTOS/tasks.c ****                 vTaskSuspendAll();
5833:Middlewares/FreeRTOS/tasks.c ****                 {
5834:Middlewares/FreeRTOS/tasks.c ****                     /* Now the scheduler is suspended, the expected idle
5835:Middlewares/FreeRTOS/tasks.c ****                      * time can be sampled again, and this time its value can
5836:Middlewares/FreeRTOS/tasks.c ****                      * be used. */
5837:Middlewares/FreeRTOS/tasks.c ****                     configASSERT( xNextTaskUnblockTime >= xTickCount );
5838:Middlewares/FreeRTOS/tasks.c ****                     xExpectedIdleTime = prvGetExpectedIdleTime();
5839:Middlewares/FreeRTOS/tasks.c **** 
5840:Middlewares/FreeRTOS/tasks.c ****                     /* Define the following macro to set xExpectedIdleTime to 0
ARM GAS  /tmp/ccF71V7c.s 			page 195


5841:Middlewares/FreeRTOS/tasks.c ****                      * if the application does not want
5842:Middlewares/FreeRTOS/tasks.c ****                      * portSUPPRESS_TICKS_AND_SLEEP() to be called. */
5843:Middlewares/FreeRTOS/tasks.c ****                     configPRE_SUPPRESS_TICKS_AND_SLEEP_PROCESSING( xExpectedIdleTime );
5844:Middlewares/FreeRTOS/tasks.c **** 
5845:Middlewares/FreeRTOS/tasks.c ****                     if( xExpectedIdleTime >= ( TickType_t ) configEXPECTED_IDLE_TIME_BEFORE_SLEEP )
5846:Middlewares/FreeRTOS/tasks.c ****                     {
5847:Middlewares/FreeRTOS/tasks.c ****                         traceLOW_POWER_IDLE_BEGIN();
5848:Middlewares/FreeRTOS/tasks.c ****                         portSUPPRESS_TICKS_AND_SLEEP( xExpectedIdleTime );
5849:Middlewares/FreeRTOS/tasks.c ****                         traceLOW_POWER_IDLE_END();
5850:Middlewares/FreeRTOS/tasks.c ****                     }
5851:Middlewares/FreeRTOS/tasks.c ****                     else
5852:Middlewares/FreeRTOS/tasks.c ****                     {
5853:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
5854:Middlewares/FreeRTOS/tasks.c ****                     }
5855:Middlewares/FreeRTOS/tasks.c ****                 }
5856:Middlewares/FreeRTOS/tasks.c ****                 ( void ) xTaskResumeAll();
5857:Middlewares/FreeRTOS/tasks.c ****             }
5858:Middlewares/FreeRTOS/tasks.c ****             else
5859:Middlewares/FreeRTOS/tasks.c ****             {
5860:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
5861:Middlewares/FreeRTOS/tasks.c ****             }
5862:Middlewares/FreeRTOS/tasks.c ****         }
5863:Middlewares/FreeRTOS/tasks.c ****         #endif /* configUSE_TICKLESS_IDLE */
5864:Middlewares/FreeRTOS/tasks.c **** 
5865:Middlewares/FreeRTOS/tasks.c ****         #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_PASSIVE_IDLE_HOOK == 1 ) )
5866:Middlewares/FreeRTOS/tasks.c ****         {
5867:Middlewares/FreeRTOS/tasks.c ****             /* Call the user defined function from within the idle task.  This
5868:Middlewares/FreeRTOS/tasks.c ****              * allows the application designer to add background functionality
5869:Middlewares/FreeRTOS/tasks.c ****              * without the overhead of a separate task.
5870:Middlewares/FreeRTOS/tasks.c ****              *
5871:Middlewares/FreeRTOS/tasks.c ****              * This hook is intended to manage core activity such as disabling cores that go idle.
5872:Middlewares/FreeRTOS/tasks.c ****              *
5873:Middlewares/FreeRTOS/tasks.c ****              * NOTE: vApplicationPassiveIdleHook() MUST NOT, UNDER ANY CIRCUMSTANCES,
5874:Middlewares/FreeRTOS/tasks.c ****              * CALL A FUNCTION THAT MIGHT BLOCK. */
5875:Middlewares/FreeRTOS/tasks.c ****             vApplicationPassiveIdleHook();
5876:Middlewares/FreeRTOS/tasks.c ****         }
5877:Middlewares/FreeRTOS/tasks.c ****         #endif /* #if ( ( configNUMBER_OF_CORES > 1 ) && ( configUSE_PASSIVE_IDLE_HOOK == 1 ) ) */
5878:Middlewares/FreeRTOS/tasks.c ****     }
5879:Middlewares/FreeRTOS/tasks.c **** }
5880:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
5881:Middlewares/FreeRTOS/tasks.c **** 
5882:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_TICKLESS_IDLE != 0 )
5883:Middlewares/FreeRTOS/tasks.c **** 
5884:Middlewares/FreeRTOS/tasks.c ****     eSleepModeStatus eTaskConfirmSleepModeStatus( void )
5885:Middlewares/FreeRTOS/tasks.c ****     {
5886:Middlewares/FreeRTOS/tasks.c ****         #if ( INCLUDE_vTaskSuspend == 1 )
5887:Middlewares/FreeRTOS/tasks.c ****             /* The idle task exists in addition to the application tasks. */
5888:Middlewares/FreeRTOS/tasks.c ****             const UBaseType_t uxNonApplicationTasks = configNUMBER_OF_CORES;
5889:Middlewares/FreeRTOS/tasks.c ****         #endif /* INCLUDE_vTaskSuspend */
5890:Middlewares/FreeRTOS/tasks.c **** 
5891:Middlewares/FreeRTOS/tasks.c ****         eSleepModeStatus eReturn = eStandardSleep;
5892:Middlewares/FreeRTOS/tasks.c **** 
5893:Middlewares/FreeRTOS/tasks.c ****         traceENTER_eTaskConfirmSleepModeStatus();
5894:Middlewares/FreeRTOS/tasks.c **** 
5895:Middlewares/FreeRTOS/tasks.c ****         /* This function must be called from a critical section. */
5896:Middlewares/FreeRTOS/tasks.c **** 
5897:Middlewares/FreeRTOS/tasks.c ****         if( listCURRENT_LIST_LENGTH( &xPendingReadyList ) != 0U )
ARM GAS  /tmp/ccF71V7c.s 			page 196


5898:Middlewares/FreeRTOS/tasks.c ****         {
5899:Middlewares/FreeRTOS/tasks.c ****             /* A task was made ready while the scheduler was suspended. */
5900:Middlewares/FreeRTOS/tasks.c ****             eReturn = eAbortSleep;
5901:Middlewares/FreeRTOS/tasks.c ****         }
5902:Middlewares/FreeRTOS/tasks.c ****         else if( xYieldPendings[ portGET_CORE_ID() ] != pdFALSE )
5903:Middlewares/FreeRTOS/tasks.c ****         {
5904:Middlewares/FreeRTOS/tasks.c ****             /* A yield was pended while the scheduler was suspended. */
5905:Middlewares/FreeRTOS/tasks.c ****             eReturn = eAbortSleep;
5906:Middlewares/FreeRTOS/tasks.c ****         }
5907:Middlewares/FreeRTOS/tasks.c ****         else if( xPendedTicks != 0U )
5908:Middlewares/FreeRTOS/tasks.c ****         {
5909:Middlewares/FreeRTOS/tasks.c ****             /* A tick interrupt has already occurred but was held pending
5910:Middlewares/FreeRTOS/tasks.c ****              * because the scheduler is suspended. */
5911:Middlewares/FreeRTOS/tasks.c ****             eReturn = eAbortSleep;
5912:Middlewares/FreeRTOS/tasks.c ****         }
5913:Middlewares/FreeRTOS/tasks.c **** 
5914:Middlewares/FreeRTOS/tasks.c ****         #if ( INCLUDE_vTaskSuspend == 1 )
5915:Middlewares/FreeRTOS/tasks.c ****             else if( listCURRENT_LIST_LENGTH( &xSuspendedTaskList ) == ( uxCurrentNumberOfTasks - u
5916:Middlewares/FreeRTOS/tasks.c ****             {
5917:Middlewares/FreeRTOS/tasks.c ****                 /* If all the tasks are in the suspended list (which might mean they
5918:Middlewares/FreeRTOS/tasks.c ****                  * have an infinite block time rather than actually being suspended)
5919:Middlewares/FreeRTOS/tasks.c ****                  * then it is safe to turn all clocks off and just wait for external
5920:Middlewares/FreeRTOS/tasks.c ****                  * interrupts. */
5921:Middlewares/FreeRTOS/tasks.c ****                 eReturn = eNoTasksWaitingTimeout;
5922:Middlewares/FreeRTOS/tasks.c ****             }
5923:Middlewares/FreeRTOS/tasks.c ****         #endif /* INCLUDE_vTaskSuspend */
5924:Middlewares/FreeRTOS/tasks.c ****         else
5925:Middlewares/FreeRTOS/tasks.c ****         {
5926:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
5927:Middlewares/FreeRTOS/tasks.c ****         }
5928:Middlewares/FreeRTOS/tasks.c **** 
5929:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_eTaskConfirmSleepModeStatus( eReturn );
5930:Middlewares/FreeRTOS/tasks.c **** 
5931:Middlewares/FreeRTOS/tasks.c ****         return eReturn;
5932:Middlewares/FreeRTOS/tasks.c ****     }
5933:Middlewares/FreeRTOS/tasks.c **** 
5934:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_TICKLESS_IDLE */
5935:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
5936:Middlewares/FreeRTOS/tasks.c **** 
5937:Middlewares/FreeRTOS/tasks.c **** #if ( configNUM_THREAD_LOCAL_STORAGE_POINTERS != 0 )
5938:Middlewares/FreeRTOS/tasks.c **** 
5939:Middlewares/FreeRTOS/tasks.c ****     void vTaskSetThreadLocalStoragePointer( TaskHandle_t xTaskToSet,
5940:Middlewares/FreeRTOS/tasks.c ****                                             BaseType_t xIndex,
5941:Middlewares/FreeRTOS/tasks.c ****                                             void * pvValue )
5942:Middlewares/FreeRTOS/tasks.c ****     {
5943:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
5944:Middlewares/FreeRTOS/tasks.c **** 
5945:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskSetThreadLocalStoragePointer( xTaskToSet, xIndex, pvValue );
5946:Middlewares/FreeRTOS/tasks.c **** 
5947:Middlewares/FreeRTOS/tasks.c ****         if( ( xIndex >= 0 ) &&
5948:Middlewares/FreeRTOS/tasks.c ****             ( xIndex < ( BaseType_t ) configNUM_THREAD_LOCAL_STORAGE_POINTERS ) )
5949:Middlewares/FreeRTOS/tasks.c ****         {
5950:Middlewares/FreeRTOS/tasks.c ****             pxTCB = prvGetTCBFromHandle( xTaskToSet );
5951:Middlewares/FreeRTOS/tasks.c ****             configASSERT( pxTCB != NULL );
5952:Middlewares/FreeRTOS/tasks.c ****             pxTCB->pvThreadLocalStoragePointers[ xIndex ] = pvValue;
5953:Middlewares/FreeRTOS/tasks.c ****         }
5954:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 197


5955:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskSetThreadLocalStoragePointer();
5956:Middlewares/FreeRTOS/tasks.c ****     }
5957:Middlewares/FreeRTOS/tasks.c **** 
5958:Middlewares/FreeRTOS/tasks.c **** #endif /* configNUM_THREAD_LOCAL_STORAGE_POINTERS */
5959:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
5960:Middlewares/FreeRTOS/tasks.c **** 
5961:Middlewares/FreeRTOS/tasks.c **** #if ( configNUM_THREAD_LOCAL_STORAGE_POINTERS != 0 )
5962:Middlewares/FreeRTOS/tasks.c **** 
5963:Middlewares/FreeRTOS/tasks.c ****     void * pvTaskGetThreadLocalStoragePointer( TaskHandle_t xTaskToQuery,
5964:Middlewares/FreeRTOS/tasks.c ****                                                BaseType_t xIndex )
5965:Middlewares/FreeRTOS/tasks.c ****     {
5966:Middlewares/FreeRTOS/tasks.c ****         void * pvReturn = NULL;
5967:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
5968:Middlewares/FreeRTOS/tasks.c **** 
5969:Middlewares/FreeRTOS/tasks.c ****         traceENTER_pvTaskGetThreadLocalStoragePointer( xTaskToQuery, xIndex );
5970:Middlewares/FreeRTOS/tasks.c **** 
5971:Middlewares/FreeRTOS/tasks.c ****         if( ( xIndex >= 0 ) &&
5972:Middlewares/FreeRTOS/tasks.c ****             ( xIndex < ( BaseType_t ) configNUM_THREAD_LOCAL_STORAGE_POINTERS ) )
5973:Middlewares/FreeRTOS/tasks.c ****         {
5974:Middlewares/FreeRTOS/tasks.c ****             pxTCB = prvGetTCBFromHandle( xTaskToQuery );
5975:Middlewares/FreeRTOS/tasks.c ****             pvReturn = pxTCB->pvThreadLocalStoragePointers[ xIndex ];
5976:Middlewares/FreeRTOS/tasks.c ****         }
5977:Middlewares/FreeRTOS/tasks.c ****         else
5978:Middlewares/FreeRTOS/tasks.c ****         {
5979:Middlewares/FreeRTOS/tasks.c ****             pvReturn = NULL;
5980:Middlewares/FreeRTOS/tasks.c ****         }
5981:Middlewares/FreeRTOS/tasks.c **** 
5982:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_pvTaskGetThreadLocalStoragePointer( pvReturn );
5983:Middlewares/FreeRTOS/tasks.c **** 
5984:Middlewares/FreeRTOS/tasks.c ****         return pvReturn;
5985:Middlewares/FreeRTOS/tasks.c ****     }
5986:Middlewares/FreeRTOS/tasks.c **** 
5987:Middlewares/FreeRTOS/tasks.c **** #endif /* configNUM_THREAD_LOCAL_STORAGE_POINTERS */
5988:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
5989:Middlewares/FreeRTOS/tasks.c **** 
5990:Middlewares/FreeRTOS/tasks.c **** #if ( portUSING_MPU_WRAPPERS == 1 )
5991:Middlewares/FreeRTOS/tasks.c **** 
5992:Middlewares/FreeRTOS/tasks.c ****     void vTaskAllocateMPURegions( TaskHandle_t xTaskToModify,
5993:Middlewares/FreeRTOS/tasks.c ****                                   const MemoryRegion_t * const pxRegions )
5994:Middlewares/FreeRTOS/tasks.c ****     {
5995:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
5996:Middlewares/FreeRTOS/tasks.c **** 
5997:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskAllocateMPURegions( xTaskToModify, pxRegions );
5998:Middlewares/FreeRTOS/tasks.c **** 
5999:Middlewares/FreeRTOS/tasks.c ****         /* If null is passed in here then we are modifying the MPU settings of
6000:Middlewares/FreeRTOS/tasks.c ****          * the calling task. */
6001:Middlewares/FreeRTOS/tasks.c ****         pxTCB = prvGetTCBFromHandle( xTaskToModify );
6002:Middlewares/FreeRTOS/tasks.c **** 
6003:Middlewares/FreeRTOS/tasks.c ****         vPortStoreTaskMPUSettings( &( pxTCB->xMPUSettings ), pxRegions, NULL, 0 );
6004:Middlewares/FreeRTOS/tasks.c **** 
6005:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskAllocateMPURegions();
6006:Middlewares/FreeRTOS/tasks.c ****     }
6007:Middlewares/FreeRTOS/tasks.c **** 
6008:Middlewares/FreeRTOS/tasks.c **** #endif /* portUSING_MPU_WRAPPERS */
6009:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
6010:Middlewares/FreeRTOS/tasks.c **** 
6011:Middlewares/FreeRTOS/tasks.c **** static void prvInitialiseTaskLists( void )
ARM GAS  /tmp/ccF71V7c.s 			page 198


6012:Middlewares/FreeRTOS/tasks.c **** {
 5025              		.loc 1 6012 1
 5026              		.cfi_startproc
 5027              		@ args = 0, pretend = 0, frame = 8
 5028              		@ frame_needed = 1, uses_anonymous_args = 0
 5029 0000 80B5     		push	{r7, lr}
 5030              		.cfi_def_cfa_offset 8
 5031              		.cfi_offset 7, -8
 5032              		.cfi_offset 14, -4
 5033 0002 82B0     		sub	sp, sp, #8
 5034              		.cfi_def_cfa_offset 16
 5035 0004 00AF     		add	r7, sp, #0
 5036              		.cfi_def_cfa_register 7
6013:Middlewares/FreeRTOS/tasks.c ****     UBaseType_t uxPriority;
6014:Middlewares/FreeRTOS/tasks.c **** 
6015:Middlewares/FreeRTOS/tasks.c ****     for( uxPriority = ( UBaseType_t ) 0U; uxPriority < ( UBaseType_t ) configMAX_PRIORITIES; uxPrio
 5037              		.loc 1 6015 21
 5038 0006 0023     		movs	r3, #0
 5039 0008 7B60     		str	r3, [r7, #4]
 5040              		.loc 1 6015 5
 5041 000a 0CE0     		b	.L299
 5042              	.L300:
6016:Middlewares/FreeRTOS/tasks.c ****     {
6017:Middlewares/FreeRTOS/tasks.c ****         vListInitialise( &( pxReadyTasksLists[ uxPriority ] ) );
 5043              		.loc 1 6017 9
 5044 000c 7A68     		ldr	r2, [r7, #4]
 5045 000e 1346     		mov	r3, r2
 5046 0010 9B00     		lsls	r3, r3, #2
 5047 0012 1344     		add	r3, r3, r2
 5048 0014 9B00     		lsls	r3, r3, #2
 5049 0016 124A     		ldr	r2, .L301
 5050 0018 1344     		add	r3, r3, r2
 5051 001a 1846     		mov	r0, r3
 5052 001c FFF7FEFF 		bl	vListInitialise
6015:Middlewares/FreeRTOS/tasks.c ****     {
 5053              		.loc 1 6015 104 discriminator 3
 5054 0020 7B68     		ldr	r3, [r7, #4]
 5055 0022 0133     		adds	r3, r3, #1
 5056 0024 7B60     		str	r3, [r7, #4]
 5057              	.L299:
6015:Middlewares/FreeRTOS/tasks.c ****     {
 5058              		.loc 1 6015 54 discriminator 1
 5059 0026 7B68     		ldr	r3, [r7, #4]
 5060 0028 042B     		cmp	r3, #4
 5061 002a EFD9     		bls	.L300
6018:Middlewares/FreeRTOS/tasks.c ****     }
6019:Middlewares/FreeRTOS/tasks.c **** 
6020:Middlewares/FreeRTOS/tasks.c ****     vListInitialise( &xDelayedTaskList1 );
 5062              		.loc 1 6020 5
 5063 002c 0D48     		ldr	r0, .L301+4
 5064 002e FFF7FEFF 		bl	vListInitialise
6021:Middlewares/FreeRTOS/tasks.c ****     vListInitialise( &xDelayedTaskList2 );
 5065              		.loc 1 6021 5
 5066 0032 0D48     		ldr	r0, .L301+8
 5067 0034 FFF7FEFF 		bl	vListInitialise
6022:Middlewares/FreeRTOS/tasks.c ****     vListInitialise( &xPendingReadyList );
 5068              		.loc 1 6022 5
ARM GAS  /tmp/ccF71V7c.s 			page 199


 5069 0038 0C48     		ldr	r0, .L301+12
 5070 003a FFF7FEFF 		bl	vListInitialise
6023:Middlewares/FreeRTOS/tasks.c **** 
6024:Middlewares/FreeRTOS/tasks.c ****     #if ( INCLUDE_vTaskDelete == 1 )
6025:Middlewares/FreeRTOS/tasks.c ****     {
6026:Middlewares/FreeRTOS/tasks.c ****         vListInitialise( &xTasksWaitingTermination );
 5071              		.loc 1 6026 9
 5072 003e 0C48     		ldr	r0, .L301+16
 5073 0040 FFF7FEFF 		bl	vListInitialise
6027:Middlewares/FreeRTOS/tasks.c ****     }
6028:Middlewares/FreeRTOS/tasks.c ****     #endif /* INCLUDE_vTaskDelete */
6029:Middlewares/FreeRTOS/tasks.c **** 
6030:Middlewares/FreeRTOS/tasks.c ****     #if ( INCLUDE_vTaskSuspend == 1 )
6031:Middlewares/FreeRTOS/tasks.c ****     {
6032:Middlewares/FreeRTOS/tasks.c ****         vListInitialise( &xSuspendedTaskList );
 5074              		.loc 1 6032 9
 5075 0044 0B48     		ldr	r0, .L301+20
 5076 0046 FFF7FEFF 		bl	vListInitialise
6033:Middlewares/FreeRTOS/tasks.c ****     }
6034:Middlewares/FreeRTOS/tasks.c ****     #endif /* INCLUDE_vTaskSuspend */
6035:Middlewares/FreeRTOS/tasks.c **** 
6036:Middlewares/FreeRTOS/tasks.c ****     /* Start with pxDelayedTaskList using list1 and the pxOverflowDelayedTaskList
6037:Middlewares/FreeRTOS/tasks.c ****      * using list2. */
6038:Middlewares/FreeRTOS/tasks.c ****     pxDelayedTaskList = &xDelayedTaskList1;
 5077              		.loc 1 6038 23
 5078 004a 0B4B     		ldr	r3, .L301+24
 5079 004c 054A     		ldr	r2, .L301+4
 5080 004e 1A60     		str	r2, [r3]
6039:Middlewares/FreeRTOS/tasks.c ****     pxOverflowDelayedTaskList = &xDelayedTaskList2;
 5081              		.loc 1 6039 31
 5082 0050 0A4B     		ldr	r3, .L301+28
 5083 0052 054A     		ldr	r2, .L301+8
 5084 0054 1A60     		str	r2, [r3]
6040:Middlewares/FreeRTOS/tasks.c **** }
 5085              		.loc 1 6040 1
 5086 0056 00BF     		nop
 5087 0058 0837     		adds	r7, r7, #8
 5088              		.cfi_def_cfa_offset 8
 5089 005a BD46     		mov	sp, r7
 5090              		.cfi_def_cfa_register 13
 5091              		@ sp needed
 5092 005c 80BD     		pop	{r7, pc}
 5093              	.L302:
 5094 005e 00BF     		.align	2
 5095              	.L301:
 5096 0060 00000000 		.word	pxReadyTasksLists
 5097 0064 00000000 		.word	xDelayedTaskList1
 5098 0068 00000000 		.word	xDelayedTaskList2
 5099 006c 00000000 		.word	xPendingReadyList
 5100 0070 00000000 		.word	xTasksWaitingTermination
 5101 0074 00000000 		.word	xSuspendedTaskList
 5102 0078 00000000 		.word	pxDelayedTaskList
 5103 007c 00000000 		.word	pxOverflowDelayedTaskList
 5104              		.cfi_endproc
 5105              	.LFE48:
 5107              		.section	.text.prvCheckTasksWaitingTermination,"ax",%progbits
 5108              		.align	1
ARM GAS  /tmp/ccF71V7c.s 			page 200


 5109              		.syntax unified
 5110              		.thumb
 5111              		.thumb_func
 5113              	prvCheckTasksWaitingTermination:
 5114              	.LFB49:
6041:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
6042:Middlewares/FreeRTOS/tasks.c **** 
6043:Middlewares/FreeRTOS/tasks.c **** static void prvCheckTasksWaitingTermination( void )
6044:Middlewares/FreeRTOS/tasks.c **** {
 5115              		.loc 1 6044 1
 5116              		.cfi_startproc
 5117              		@ args = 0, pretend = 0, frame = 8
 5118              		@ frame_needed = 1, uses_anonymous_args = 0
 5119 0000 80B5     		push	{r7, lr}
 5120              		.cfi_def_cfa_offset 8
 5121              		.cfi_offset 7, -8
 5122              		.cfi_offset 14, -4
 5123 0002 82B0     		sub	sp, sp, #8
 5124              		.cfi_def_cfa_offset 16
 5125 0004 00AF     		add	r7, sp, #0
 5126              		.cfi_def_cfa_register 7
 5127              	.LBB83:
6045:Middlewares/FreeRTOS/tasks.c ****     /** THIS FUNCTION IS CALLED FROM THE RTOS IDLE TASK **/
6046:Middlewares/FreeRTOS/tasks.c **** 
6047:Middlewares/FreeRTOS/tasks.c ****     #if ( INCLUDE_vTaskDelete == 1 )
6048:Middlewares/FreeRTOS/tasks.c ****     {
6049:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
6050:Middlewares/FreeRTOS/tasks.c **** 
6051:Middlewares/FreeRTOS/tasks.c ****         /* uxDeletedTasksWaitingCleanUp is used to prevent taskENTER_CRITICAL()
6052:Middlewares/FreeRTOS/tasks.c ****          * being called too often in the idle task. */
6053:Middlewares/FreeRTOS/tasks.c ****         while( uxDeletedTasksWaitingCleanUp > ( UBaseType_t ) 0U )
 5128              		.loc 1 6053 14
 5129 0006 19E0     		b	.L304
 5130              	.L305:
6054:Middlewares/FreeRTOS/tasks.c ****         {
6055:Middlewares/FreeRTOS/tasks.c ****             #if ( configNUMBER_OF_CORES == 1 )
6056:Middlewares/FreeRTOS/tasks.c ****             {
6057:Middlewares/FreeRTOS/tasks.c ****                 taskENTER_CRITICAL();
 5131              		.loc 1 6057 17
 5132 0008 FFF7FEFF 		bl	vPortEnterCritical
6058:Middlewares/FreeRTOS/tasks.c ****                 {
6059:Middlewares/FreeRTOS/tasks.c ****                     {
6060:Middlewares/FreeRTOS/tasks.c ****                         /* MISRA Ref 11.5.3 [Void pointer assignment] */
6061:Middlewares/FreeRTOS/tasks.c ****                         /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/M
6062:Middlewares/FreeRTOS/tasks.c ****                         /* coverity[misra_c_2012_rule_11_5_violation] */
6063:Middlewares/FreeRTOS/tasks.c ****                         pxTCB = listGET_OWNER_OF_HEAD_ENTRY( ( &xTasksWaitingTermination ) );
 5133              		.loc 1 6063 33
 5134 000c 104B     		ldr	r3, .L306
 5135 000e DB68     		ldr	r3, [r3, #12]
 5136              		.loc 1 6063 31
 5137 0010 DB68     		ldr	r3, [r3, #12]
 5138 0012 7B60     		str	r3, [r7, #4]
6064:Middlewares/FreeRTOS/tasks.c ****                         ( void ) uxListRemove( &( pxTCB->xStateListItem ) );
 5139              		.loc 1 6064 34
 5140 0014 7B68     		ldr	r3, [r7, #4]
 5141 0016 0433     		adds	r3, r3, #4
 5142 0018 1846     		mov	r0, r3
ARM GAS  /tmp/ccF71V7c.s 			page 201


 5143 001a FFF7FEFF 		bl	uxListRemove
6065:Middlewares/FreeRTOS/tasks.c ****                         --uxCurrentNumberOfTasks;
 5144              		.loc 1 6065 25
 5145 001e 0D4B     		ldr	r3, .L306+4
 5146 0020 1B68     		ldr	r3, [r3]
 5147 0022 013B     		subs	r3, r3, #1
 5148 0024 0B4A     		ldr	r2, .L306+4
 5149 0026 1360     		str	r3, [r2]
6066:Middlewares/FreeRTOS/tasks.c ****                         --uxDeletedTasksWaitingCleanUp;
 5150              		.loc 1 6066 25
 5151 0028 0B4B     		ldr	r3, .L306+8
 5152 002a 1B68     		ldr	r3, [r3]
 5153 002c 013B     		subs	r3, r3, #1
 5154 002e 0A4A     		ldr	r2, .L306+8
 5155 0030 1360     		str	r3, [r2]
6067:Middlewares/FreeRTOS/tasks.c ****                     }
6068:Middlewares/FreeRTOS/tasks.c ****                 }
6069:Middlewares/FreeRTOS/tasks.c ****                 taskEXIT_CRITICAL();
 5156              		.loc 1 6069 17
 5157 0032 FFF7FEFF 		bl	vPortExitCritical
6070:Middlewares/FreeRTOS/tasks.c **** 
6071:Middlewares/FreeRTOS/tasks.c ****                 prvDeleteTCB( pxTCB );
 5158              		.loc 1 6071 17
 5159 0036 7868     		ldr	r0, [r7, #4]
 5160 0038 FFF7FEFF 		bl	prvDeleteTCB
 5161              	.L304:
6053:Middlewares/FreeRTOS/tasks.c ****         {
 5162              		.loc 1 6053 45
 5163 003c 064B     		ldr	r3, .L306+8
 5164 003e 1B68     		ldr	r3, [r3]
 5165 0040 002B     		cmp	r3, #0
 5166 0042 E1D1     		bne	.L305
 5167              	.LBE83:
6072:Middlewares/FreeRTOS/tasks.c ****             }
6073:Middlewares/FreeRTOS/tasks.c ****             #else /* #if( configNUMBER_OF_CORES == 1 ) */
6074:Middlewares/FreeRTOS/tasks.c ****             {
6075:Middlewares/FreeRTOS/tasks.c ****                 pxTCB = NULL;
6076:Middlewares/FreeRTOS/tasks.c **** 
6077:Middlewares/FreeRTOS/tasks.c ****                 taskENTER_CRITICAL();
6078:Middlewares/FreeRTOS/tasks.c ****                 {
6079:Middlewares/FreeRTOS/tasks.c ****                     /* For SMP, multiple idles can be running simultaneously
6080:Middlewares/FreeRTOS/tasks.c ****                      * and we need to check that other idles did not cleanup while we were
6081:Middlewares/FreeRTOS/tasks.c ****                      * waiting to enter the critical section. */
6082:Middlewares/FreeRTOS/tasks.c ****                     if( uxDeletedTasksWaitingCleanUp > ( UBaseType_t ) 0U )
6083:Middlewares/FreeRTOS/tasks.c ****                     {
6084:Middlewares/FreeRTOS/tasks.c ****                         /* MISRA Ref 11.5.3 [Void pointer assignment] */
6085:Middlewares/FreeRTOS/tasks.c ****                         /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/M
6086:Middlewares/FreeRTOS/tasks.c ****                         /* coverity[misra_c_2012_rule_11_5_violation] */
6087:Middlewares/FreeRTOS/tasks.c ****                         pxTCB = listGET_OWNER_OF_HEAD_ENTRY( ( &xTasksWaitingTermination ) );
6088:Middlewares/FreeRTOS/tasks.c **** 
6089:Middlewares/FreeRTOS/tasks.c ****                         if( pxTCB->xTaskRunState == taskTASK_NOT_RUNNING )
6090:Middlewares/FreeRTOS/tasks.c ****                         {
6091:Middlewares/FreeRTOS/tasks.c ****                             ( void ) uxListRemove( &( pxTCB->xStateListItem ) );
6092:Middlewares/FreeRTOS/tasks.c ****                             --uxCurrentNumberOfTasks;
6093:Middlewares/FreeRTOS/tasks.c ****                             --uxDeletedTasksWaitingCleanUp;
6094:Middlewares/FreeRTOS/tasks.c ****                         }
6095:Middlewares/FreeRTOS/tasks.c ****                         else
ARM GAS  /tmp/ccF71V7c.s 			page 202


6096:Middlewares/FreeRTOS/tasks.c ****                         {
6097:Middlewares/FreeRTOS/tasks.c ****                             /* The TCB to be deleted still has not yet been switched out
6098:Middlewares/FreeRTOS/tasks.c ****                              * by the scheduler, so we will just exit this loop early and
6099:Middlewares/FreeRTOS/tasks.c ****                              * try again next time. */
6100:Middlewares/FreeRTOS/tasks.c ****                             taskEXIT_CRITICAL();
6101:Middlewares/FreeRTOS/tasks.c ****                             break;
6102:Middlewares/FreeRTOS/tasks.c ****                         }
6103:Middlewares/FreeRTOS/tasks.c ****                     }
6104:Middlewares/FreeRTOS/tasks.c ****                 }
6105:Middlewares/FreeRTOS/tasks.c ****                 taskEXIT_CRITICAL();
6106:Middlewares/FreeRTOS/tasks.c **** 
6107:Middlewares/FreeRTOS/tasks.c ****                 if( pxTCB != NULL )
6108:Middlewares/FreeRTOS/tasks.c ****                 {
6109:Middlewares/FreeRTOS/tasks.c ****                     prvDeleteTCB( pxTCB );
6110:Middlewares/FreeRTOS/tasks.c ****                 }
6111:Middlewares/FreeRTOS/tasks.c ****             }
6112:Middlewares/FreeRTOS/tasks.c ****             #endif /* #if( configNUMBER_OF_CORES == 1 ) */
6113:Middlewares/FreeRTOS/tasks.c ****         }
6114:Middlewares/FreeRTOS/tasks.c ****     }
6115:Middlewares/FreeRTOS/tasks.c ****     #endif /* INCLUDE_vTaskDelete */
6116:Middlewares/FreeRTOS/tasks.c **** }
 5168              		.loc 1 6116 1
 5169 0044 00BF     		nop
 5170 0046 00BF     		nop
 5171 0048 0837     		adds	r7, r7, #8
 5172              		.cfi_def_cfa_offset 8
 5173 004a BD46     		mov	sp, r7
 5174              		.cfi_def_cfa_register 13
 5175              		@ sp needed
 5176 004c 80BD     		pop	{r7, pc}
 5177              	.L307:
 5178 004e 00BF     		.align	2
 5179              	.L306:
 5180 0050 00000000 		.word	xTasksWaitingTermination
 5181 0054 00000000 		.word	uxCurrentNumberOfTasks
 5182 0058 00000000 		.word	uxDeletedTasksWaitingCleanUp
 5183              		.cfi_endproc
 5184              	.LFE49:
 5186              		.section	.text.vTaskGetInfo,"ax",%progbits
 5187              		.align	1
 5188              		.global	vTaskGetInfo
 5189              		.syntax unified
 5190              		.thumb
 5191              		.thumb_func
 5193              	vTaskGetInfo:
 5194              	.LFB50:
6117:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
6118:Middlewares/FreeRTOS/tasks.c **** 
6119:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_TRACE_FACILITY == 1 )
6120:Middlewares/FreeRTOS/tasks.c **** 
6121:Middlewares/FreeRTOS/tasks.c ****     void vTaskGetInfo( TaskHandle_t xTask,
6122:Middlewares/FreeRTOS/tasks.c ****                        TaskStatus_t * pxTaskStatus,
6123:Middlewares/FreeRTOS/tasks.c ****                        BaseType_t xGetFreeStackSpace,
6124:Middlewares/FreeRTOS/tasks.c ****                        eTaskState eState )
6125:Middlewares/FreeRTOS/tasks.c ****     {
 5195              		.loc 1 6125 5
 5196              		.cfi_startproc
ARM GAS  /tmp/ccF71V7c.s 			page 203


 5197              		@ args = 0, pretend = 0, frame = 24
 5198              		@ frame_needed = 1, uses_anonymous_args = 0
 5199 0000 80B5     		push	{r7, lr}
 5200              		.cfi_def_cfa_offset 8
 5201              		.cfi_offset 7, -8
 5202              		.cfi_offset 14, -4
 5203 0002 86B0     		sub	sp, sp, #24
 5204              		.cfi_def_cfa_offset 32
 5205 0004 00AF     		add	r7, sp, #0
 5206              		.cfi_def_cfa_register 7
 5207 0006 F860     		str	r0, [r7, #12]
 5208 0008 B960     		str	r1, [r7, #8]
 5209 000a 7A60     		str	r2, [r7, #4]
 5210 000c FB70     		strb	r3, [r7, #3]
6126:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
6127:Middlewares/FreeRTOS/tasks.c **** 
6128:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskGetInfo( xTask, pxTaskStatus, xGetFreeStackSpace, eState );
6129:Middlewares/FreeRTOS/tasks.c **** 
6130:Middlewares/FreeRTOS/tasks.c ****         /* xTask is NULL then get the state of the calling task. */
6131:Middlewares/FreeRTOS/tasks.c ****         pxTCB = prvGetTCBFromHandle( xTask );
 5211              		.loc 1 6131 17
 5212 000e FB68     		ldr	r3, [r7, #12]
 5213 0010 002B     		cmp	r3, #0
 5214 0012 02D1     		bne	.L309
 5215              		.loc 1 6131 17 is_stmt 0 discriminator 1
 5216 0014 3C4B     		ldr	r3, .L324
 5217 0016 1B68     		ldr	r3, [r3]
 5218 0018 00E0     		b	.L310
 5219              	.L309:
 5220              		.loc 1 6131 17 discriminator 2
 5221 001a FB68     		ldr	r3, [r7, #12]
 5222              	.L310:
 5223              		.loc 1 6131 15 is_stmt 1 discriminator 4
 5224 001c 3B61     		str	r3, [r7, #16]
6132:Middlewares/FreeRTOS/tasks.c **** 
6133:Middlewares/FreeRTOS/tasks.c ****         pxTaskStatus->xHandle = pxTCB;
 5225              		.loc 1 6133 31
 5226 001e BB68     		ldr	r3, [r7, #8]
 5227 0020 3A69     		ldr	r2, [r7, #16]
 5228 0022 1A60     		str	r2, [r3]
6134:Middlewares/FreeRTOS/tasks.c ****         pxTaskStatus->pcTaskName = ( const char * ) &( pxTCB->pcTaskName[ 0 ] );
 5229              		.loc 1 6134 53
 5230 0024 3B69     		ldr	r3, [r7, #16]
 5231 0026 03F13402 		add	r2, r3, #52
 5232              		.loc 1 6134 34
 5233 002a BB68     		ldr	r3, [r7, #8]
 5234 002c 5A60     		str	r2, [r3, #4]
6135:Middlewares/FreeRTOS/tasks.c ****         pxTaskStatus->uxCurrentPriority = pxTCB->uxPriority;
 5235              		.loc 1 6135 48
 5236 002e 3B69     		ldr	r3, [r7, #16]
 5237 0030 DA6A     		ldr	r2, [r3, #44]
 5238              		.loc 1 6135 41
 5239 0032 BB68     		ldr	r3, [r7, #8]
 5240 0034 1A61     		str	r2, [r3, #16]
6136:Middlewares/FreeRTOS/tasks.c ****         pxTaskStatus->pxStackBase = pxTCB->pxStack;
 5241              		.loc 1 6136 42
 5242 0036 3B69     		ldr	r3, [r7, #16]
ARM GAS  /tmp/ccF71V7c.s 			page 204


 5243 0038 1A6B     		ldr	r2, [r3, #48]
 5244              		.loc 1 6136 35
 5245 003a BB68     		ldr	r3, [r7, #8]
 5246 003c DA61     		str	r2, [r3, #28]
6137:Middlewares/FreeRTOS/tasks.c ****         #if ( ( portSTACK_GROWTH > 0 ) || ( configRECORD_STACK_HIGH_ADDRESS == 1 ) )
6138:Middlewares/FreeRTOS/tasks.c ****             pxTaskStatus->pxTopOfStack = ( StackType_t * ) pxTCB->pxTopOfStack;
6139:Middlewares/FreeRTOS/tasks.c ****             pxTaskStatus->pxEndOfStack = pxTCB->pxEndOfStack;
6140:Middlewares/FreeRTOS/tasks.c ****         #endif
6141:Middlewares/FreeRTOS/tasks.c ****         pxTaskStatus->xTaskNumber = pxTCB->uxTCBNumber;
 5247              		.loc 1 6141 42
 5248 003e 3B69     		ldr	r3, [r7, #16]
 5249 0040 5A6C     		ldr	r2, [r3, #68]
 5250              		.loc 1 6141 35
 5251 0042 BB68     		ldr	r3, [r7, #8]
 5252 0044 9A60     		str	r2, [r3, #8]
6142:Middlewares/FreeRTOS/tasks.c **** 
6143:Middlewares/FreeRTOS/tasks.c ****         #if ( ( configUSE_CORE_AFFINITY == 1 ) && ( configNUMBER_OF_CORES > 1 ) )
6144:Middlewares/FreeRTOS/tasks.c ****         {
6145:Middlewares/FreeRTOS/tasks.c ****             pxTaskStatus->uxCoreAffinityMask = pxTCB->uxCoreAffinityMask;
6146:Middlewares/FreeRTOS/tasks.c ****         }
6147:Middlewares/FreeRTOS/tasks.c ****         #endif
6148:Middlewares/FreeRTOS/tasks.c **** 
6149:Middlewares/FreeRTOS/tasks.c ****         #if ( configUSE_MUTEXES == 1 )
6150:Middlewares/FreeRTOS/tasks.c ****         {
6151:Middlewares/FreeRTOS/tasks.c ****             pxTaskStatus->uxBasePriority = pxTCB->uxBasePriority;
 5253              		.loc 1 6151 49
 5254 0046 3B69     		ldr	r3, [r7, #16]
 5255 0048 DA6C     		ldr	r2, [r3, #76]
 5256              		.loc 1 6151 42
 5257 004a BB68     		ldr	r3, [r7, #8]
 5258 004c 5A61     		str	r2, [r3, #20]
6152:Middlewares/FreeRTOS/tasks.c ****         }
6153:Middlewares/FreeRTOS/tasks.c ****         #else
6154:Middlewares/FreeRTOS/tasks.c ****         {
6155:Middlewares/FreeRTOS/tasks.c ****             pxTaskStatus->uxBasePriority = 0;
6156:Middlewares/FreeRTOS/tasks.c ****         }
6157:Middlewares/FreeRTOS/tasks.c ****         #endif
6158:Middlewares/FreeRTOS/tasks.c **** 
6159:Middlewares/FreeRTOS/tasks.c ****         #if ( configGENERATE_RUN_TIME_STATS == 1 )
6160:Middlewares/FreeRTOS/tasks.c ****         {
6161:Middlewares/FreeRTOS/tasks.c ****             pxTaskStatus->ulRunTimeCounter = pxTCB->ulRunTimeCounter;
6162:Middlewares/FreeRTOS/tasks.c ****         }
6163:Middlewares/FreeRTOS/tasks.c ****         #else
6164:Middlewares/FreeRTOS/tasks.c ****         {
6165:Middlewares/FreeRTOS/tasks.c ****             pxTaskStatus->ulRunTimeCounter = ( configRUN_TIME_COUNTER_TYPE ) 0;
 5259              		.loc 1 6165 44
 5260 004e BB68     		ldr	r3, [r7, #8]
 5261 0050 0022     		movs	r2, #0
 5262 0052 9A61     		str	r2, [r3, #24]
6166:Middlewares/FreeRTOS/tasks.c ****         }
6167:Middlewares/FreeRTOS/tasks.c ****         #endif
6168:Middlewares/FreeRTOS/tasks.c **** 
6169:Middlewares/FreeRTOS/tasks.c ****         /* Obtaining the task state is a little fiddly, so is only done if the
6170:Middlewares/FreeRTOS/tasks.c ****          * value of eState passed into this function is eInvalid - otherwise the
6171:Middlewares/FreeRTOS/tasks.c ****          * state is just set to whatever is passed in. */
6172:Middlewares/FreeRTOS/tasks.c ****         if( eState != eInvalid )
 5263              		.loc 1 6172 11
ARM GAS  /tmp/ccF71V7c.s 			page 205


 5264 0054 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5265 0056 052B     		cmp	r3, #5
 5266 0058 3CD0     		beq	.L311
6173:Middlewares/FreeRTOS/tasks.c ****         {
6174:Middlewares/FreeRTOS/tasks.c ****             if( taskTASK_IS_RUNNING( pxTCB ) == pdTRUE )
 5267              		.loc 1 6174 46
 5268 005a 2B4B     		ldr	r3, .L324
 5269 005c 1B68     		ldr	r3, [r3]
 5270              		.loc 1 6174 15
 5271 005e 3A69     		ldr	r2, [r7, #16]
 5272 0060 9A42     		cmp	r2, r3
 5273 0062 03D1     		bne	.L312
6175:Middlewares/FreeRTOS/tasks.c ****             {
6176:Middlewares/FreeRTOS/tasks.c ****                 pxTaskStatus->eCurrentState = eRunning;
 5274              		.loc 1 6176 45
 5275 0064 BB68     		ldr	r3, [r7, #8]
 5276 0066 0022     		movs	r2, #0
 5277 0068 1A73     		strb	r2, [r3, #12]
 5278 006a 3AE0     		b	.L313
 5279              	.L312:
6177:Middlewares/FreeRTOS/tasks.c ****             }
6178:Middlewares/FreeRTOS/tasks.c ****             else
6179:Middlewares/FreeRTOS/tasks.c ****             {
6180:Middlewares/FreeRTOS/tasks.c ****                 pxTaskStatus->eCurrentState = eState;
 5280              		.loc 1 6180 45
 5281 006c BB68     		ldr	r3, [r7, #8]
 5282 006e FA78     		ldrb	r2, [r7, #3]
 5283 0070 1A73     		strb	r2, [r3, #12]
6181:Middlewares/FreeRTOS/tasks.c **** 
6182:Middlewares/FreeRTOS/tasks.c ****                 #if ( INCLUDE_vTaskSuspend == 1 )
6183:Middlewares/FreeRTOS/tasks.c ****                 {
6184:Middlewares/FreeRTOS/tasks.c ****                     /* If the task is in the suspended list then there is a
6185:Middlewares/FreeRTOS/tasks.c ****                      *  chance it is actually just blocked indefinitely - so really
6186:Middlewares/FreeRTOS/tasks.c ****                      *  it should be reported as being in the Blocked state. */
6187:Middlewares/FreeRTOS/tasks.c ****                     if( eState == eSuspended )
 5284              		.loc 1 6187 23
 5285 0072 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5286 0074 032B     		cmp	r3, #3
 5287 0076 20D1     		bne	.L314
6188:Middlewares/FreeRTOS/tasks.c ****                     {
6189:Middlewares/FreeRTOS/tasks.c ****                         vTaskSuspendAll();
 5288              		.loc 1 6189 25
 5289 0078 FFF7FEFF 		bl	vTaskSuspendAll
6190:Middlewares/FreeRTOS/tasks.c ****                         {
6191:Middlewares/FreeRTOS/tasks.c ****                             if( listLIST_ITEM_CONTAINER( &( pxTCB->xEventListItem ) ) != NULL )
 5290              		.loc 1 6191 33
 5291 007c 3B69     		ldr	r3, [r7, #16]
 5292 007e 9B6A     		ldr	r3, [r3, #40]
 5293              		.loc 1 6191 31
 5294 0080 002B     		cmp	r3, #0
 5295 0082 03D0     		beq	.L315
6192:Middlewares/FreeRTOS/tasks.c ****                             {
6193:Middlewares/FreeRTOS/tasks.c ****                                 pxTaskStatus->eCurrentState = eBlocked;
 5296              		.loc 1 6193 61
 5297 0084 BB68     		ldr	r3, [r7, #8]
 5298 0086 0222     		movs	r2, #2
 5299 0088 1A73     		strb	r2, [r3, #12]
ARM GAS  /tmp/ccF71V7c.s 			page 206


 5300 008a 14E0     		b	.L316
 5301              	.L315:
 5302              	.LBB84:
6194:Middlewares/FreeRTOS/tasks.c ****                             }
6195:Middlewares/FreeRTOS/tasks.c ****                             else
6196:Middlewares/FreeRTOS/tasks.c ****                             {
6197:Middlewares/FreeRTOS/tasks.c ****                                 #if ( configUSE_TASK_NOTIFICATIONS == 1 )
6198:Middlewares/FreeRTOS/tasks.c ****                                 {
6199:Middlewares/FreeRTOS/tasks.c ****                                     BaseType_t x;
6200:Middlewares/FreeRTOS/tasks.c **** 
6201:Middlewares/FreeRTOS/tasks.c ****                                     /* The task does not appear on the event list item of
6202:Middlewares/FreeRTOS/tasks.c ****                                      * and of the RTOS objects, but could still be in the
6203:Middlewares/FreeRTOS/tasks.c ****                                      * blocked state if it is waiting on its notification
6204:Middlewares/FreeRTOS/tasks.c ****                                      * rather than waiting on an object.  If not, is
6205:Middlewares/FreeRTOS/tasks.c ****                                      * suspended. */
6206:Middlewares/FreeRTOS/tasks.c ****                                     for( x = ( BaseType_t ) 0; x < ( BaseType_t ) configTASK_NOTIFI
 5303              		.loc 1 6206 44
 5304 008c 0023     		movs	r3, #0
 5305 008e 7B61     		str	r3, [r7, #20]
 5306              		.loc 1 6206 37
 5307 0090 0EE0     		b	.L317
 5308              	.L319:
6207:Middlewares/FreeRTOS/tasks.c ****                                     {
6208:Middlewares/FreeRTOS/tasks.c ****                                         if( pxTCB->ucNotifyState[ x ] == taskWAITING_NOTIFICATION )
 5309              		.loc 1 6208 65
 5310 0092 3A69     		ldr	r2, [r7, #16]
 5311 0094 7B69     		ldr	r3, [r7, #20]
 5312 0096 1344     		add	r3, r3, r2
 5313 0098 5833     		adds	r3, r3, #88
 5314 009a 1B78     		ldrb	r3, [r3]
 5315 009c DBB2     		uxtb	r3, r3
 5316              		.loc 1 6208 43
 5317 009e 012B     		cmp	r3, #1
 5318 00a0 03D1     		bne	.L318
6209:Middlewares/FreeRTOS/tasks.c ****                                         {
6210:Middlewares/FreeRTOS/tasks.c ****                                             pxTaskStatus->eCurrentState = eBlocked;
 5319              		.loc 1 6210 73
 5320 00a2 BB68     		ldr	r3, [r7, #8]
 5321 00a4 0222     		movs	r2, #2
 5322 00a6 1A73     		strb	r2, [r3, #12]
6211:Middlewares/FreeRTOS/tasks.c ****                                             break;
 5323              		.loc 1 6211 45
 5324 00a8 05E0     		b	.L316
 5325              	.L318:
6206:Middlewares/FreeRTOS/tasks.c ****                                     {
 5326              		.loc 1 6206 123 discriminator 2
 5327 00aa 7B69     		ldr	r3, [r7, #20]
 5328 00ac 0133     		adds	r3, r3, #1
 5329 00ae 7B61     		str	r3, [r7, #20]
 5330              	.L317:
6206:Middlewares/FreeRTOS/tasks.c ****                                     {
 5331              		.loc 1 6206 66 discriminator 1
 5332 00b0 7B69     		ldr	r3, [r7, #20]
 5333 00b2 002B     		cmp	r3, #0
 5334 00b4 EDDD     		ble	.L319
 5335              	.L316:
 5336              	.LBE84:
ARM GAS  /tmp/ccF71V7c.s 			page 207


6212:Middlewares/FreeRTOS/tasks.c ****                                         }
6213:Middlewares/FreeRTOS/tasks.c ****                                     }
6214:Middlewares/FreeRTOS/tasks.c ****                                 }
6215:Middlewares/FreeRTOS/tasks.c ****                                 #endif /* if ( configUSE_TASK_NOTIFICATIONS == 1 ) */
6216:Middlewares/FreeRTOS/tasks.c ****                             }
6217:Middlewares/FreeRTOS/tasks.c ****                         }
6218:Middlewares/FreeRTOS/tasks.c ****                         ( void ) xTaskResumeAll();
 5337              		.loc 1 6218 34
 5338 00b6 FFF7FEFF 		bl	xTaskResumeAll
 5339              	.L314:
6219:Middlewares/FreeRTOS/tasks.c ****                     }
6220:Middlewares/FreeRTOS/tasks.c ****                 }
6221:Middlewares/FreeRTOS/tasks.c ****                 #endif /* INCLUDE_vTaskSuspend */
6222:Middlewares/FreeRTOS/tasks.c **** 
6223:Middlewares/FreeRTOS/tasks.c ****                 /* Tasks can be in pending ready list and other state list at the
6224:Middlewares/FreeRTOS/tasks.c ****                  * same time. These tasks are in ready state no matter what state
6225:Middlewares/FreeRTOS/tasks.c ****                  * list the task is in. */
6226:Middlewares/FreeRTOS/tasks.c ****                 taskENTER_CRITICAL();
 5340              		.loc 1 6226 17
 5341 00ba FFF7FEFF 		bl	vPortEnterCritical
6227:Middlewares/FreeRTOS/tasks.c ****                 {
6228:Middlewares/FreeRTOS/tasks.c ****                     if( listIS_CONTAINED_WITHIN( &xPendingReadyList, &( pxTCB->xEventListItem ) ) !
 5342              		.loc 1 6228 25
 5343 00be 3B69     		ldr	r3, [r7, #16]
 5344 00c0 9B6A     		ldr	r3, [r3, #40]
 5345              		.loc 1 6228 23
 5346 00c2 124A     		ldr	r2, .L324+4
 5347 00c4 9342     		cmp	r3, r2
 5348 00c6 02D1     		bne	.L320
6229:Middlewares/FreeRTOS/tasks.c ****                     {
6230:Middlewares/FreeRTOS/tasks.c ****                         pxTaskStatus->eCurrentState = eReady;
 5349              		.loc 1 6230 53
 5350 00c8 BB68     		ldr	r3, [r7, #8]
 5351 00ca 0122     		movs	r2, #1
 5352 00cc 1A73     		strb	r2, [r3, #12]
 5353              	.L320:
6231:Middlewares/FreeRTOS/tasks.c ****                     }
6232:Middlewares/FreeRTOS/tasks.c ****                 }
6233:Middlewares/FreeRTOS/tasks.c ****                 taskEXIT_CRITICAL();
 5354              		.loc 1 6233 17
 5355 00ce FFF7FEFF 		bl	vPortExitCritical
 5356 00d2 06E0     		b	.L313
 5357              	.L311:
6234:Middlewares/FreeRTOS/tasks.c ****             }
6235:Middlewares/FreeRTOS/tasks.c ****         }
6236:Middlewares/FreeRTOS/tasks.c ****         else
6237:Middlewares/FreeRTOS/tasks.c ****         {
6238:Middlewares/FreeRTOS/tasks.c ****             pxTaskStatus->eCurrentState = eTaskGetState( pxTCB );
 5358              		.loc 1 6238 43
 5359 00d4 3869     		ldr	r0, [r7, #16]
 5360 00d6 FFF7FEFF 		bl	eTaskGetState
 5361 00da 0346     		mov	r3, r0
 5362 00dc 1A46     		mov	r2, r3
 5363              		.loc 1 6238 41 discriminator 1
 5364 00de BB68     		ldr	r3, [r7, #8]
 5365 00e0 1A73     		strb	r2, [r3, #12]
 5366              	.L313:
ARM GAS  /tmp/ccF71V7c.s 			page 208


6239:Middlewares/FreeRTOS/tasks.c ****         }
6240:Middlewares/FreeRTOS/tasks.c **** 
6241:Middlewares/FreeRTOS/tasks.c ****         /* Obtaining the stack space takes some time, so the xGetFreeStackSpace
6242:Middlewares/FreeRTOS/tasks.c ****          * parameter is provided to allow it to be skipped. */
6243:Middlewares/FreeRTOS/tasks.c ****         if( xGetFreeStackSpace != pdFALSE )
 5367              		.loc 1 6243 11
 5368 00e2 7B68     		ldr	r3, [r7, #4]
 5369 00e4 002B     		cmp	r3, #0
 5370 00e6 08D0     		beq	.L321
6244:Middlewares/FreeRTOS/tasks.c ****         {
6245:Middlewares/FreeRTOS/tasks.c ****             #if ( portSTACK_GROWTH > 0 )
6246:Middlewares/FreeRTOS/tasks.c ****             {
6247:Middlewares/FreeRTOS/tasks.c ****                 pxTaskStatus->usStackHighWaterMark = prvTaskCheckFreeStackSpace( ( uint8_t * ) pxTC
6248:Middlewares/FreeRTOS/tasks.c ****             }
6249:Middlewares/FreeRTOS/tasks.c ****             #else
6250:Middlewares/FreeRTOS/tasks.c ****             {
6251:Middlewares/FreeRTOS/tasks.c ****                 pxTaskStatus->usStackHighWaterMark = prvTaskCheckFreeStackSpace( ( uint8_t * ) pxTC
 5371              		.loc 1 6251 101
 5372 00e8 3B69     		ldr	r3, [r7, #16]
 5373 00ea 1B6B     		ldr	r3, [r3, #48]
 5374              		.loc 1 6251 54
 5375 00ec 1846     		mov	r0, r3
 5376 00ee FFF7FEFF 		bl	prvTaskCheckFreeStackSpace
 5377 00f2 0246     		mov	r2, r0
 5378              		.loc 1 6251 52 discriminator 1
 5379 00f4 BB68     		ldr	r3, [r7, #8]
 5380 00f6 1A62     		str	r2, [r3, #32]
6252:Middlewares/FreeRTOS/tasks.c ****             }
6253:Middlewares/FreeRTOS/tasks.c ****             #endif
6254:Middlewares/FreeRTOS/tasks.c ****         }
6255:Middlewares/FreeRTOS/tasks.c ****         else
6256:Middlewares/FreeRTOS/tasks.c ****         {
6257:Middlewares/FreeRTOS/tasks.c ****             pxTaskStatus->usStackHighWaterMark = 0;
6258:Middlewares/FreeRTOS/tasks.c ****         }
6259:Middlewares/FreeRTOS/tasks.c **** 
6260:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskGetInfo();
6261:Middlewares/FreeRTOS/tasks.c ****     }
 5381              		.loc 1 6261 5
 5382 00f8 02E0     		b	.L323
 5383              	.L321:
6257:Middlewares/FreeRTOS/tasks.c ****         }
 5384              		.loc 1 6257 48
 5385 00fa BB68     		ldr	r3, [r7, #8]
 5386 00fc 0022     		movs	r2, #0
 5387 00fe 1A62     		str	r2, [r3, #32]
 5388              	.L323:
 5389              		.loc 1 6261 5
 5390 0100 00BF     		nop
 5391 0102 1837     		adds	r7, r7, #24
 5392              		.cfi_def_cfa_offset 8
 5393 0104 BD46     		mov	sp, r7
 5394              		.cfi_def_cfa_register 13
 5395              		@ sp needed
 5396 0106 80BD     		pop	{r7, pc}
 5397              	.L325:
 5398              		.align	2
 5399              	.L324:
ARM GAS  /tmp/ccF71V7c.s 			page 209


 5400 0108 00000000 		.word	pxCurrentTCB
 5401 010c 00000000 		.word	xPendingReadyList
 5402              		.cfi_endproc
 5403              	.LFE50:
 5405              		.section	.text.prvListTasksWithinSingleList,"ax",%progbits
 5406              		.align	1
 5407              		.syntax unified
 5408              		.thumb
 5409              		.thumb_func
 5411              	prvListTasksWithinSingleList:
 5412              	.LFB51:
6262:Middlewares/FreeRTOS/tasks.c **** 
6263:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_TRACE_FACILITY */
6264:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
6265:Middlewares/FreeRTOS/tasks.c **** 
6266:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_TRACE_FACILITY == 1 )
6267:Middlewares/FreeRTOS/tasks.c **** 
6268:Middlewares/FreeRTOS/tasks.c ****     static UBaseType_t prvListTasksWithinSingleList( TaskStatus_t * pxTaskStatusArray,
6269:Middlewares/FreeRTOS/tasks.c ****                                                      List_t * pxList,
6270:Middlewares/FreeRTOS/tasks.c ****                                                      eTaskState eState )
6271:Middlewares/FreeRTOS/tasks.c ****     {
 5413              		.loc 1 6271 5
 5414              		.cfi_startproc
 5415              		@ args = 0, pretend = 0, frame = 32
 5416              		@ frame_needed = 1, uses_anonymous_args = 0
 5417 0000 80B5     		push	{r7, lr}
 5418              		.cfi_def_cfa_offset 8
 5419              		.cfi_offset 7, -8
 5420              		.cfi_offset 14, -4
 5421 0002 88B0     		sub	sp, sp, #32
 5422              		.cfi_def_cfa_offset 40
 5423 0004 00AF     		add	r7, sp, #0
 5424              		.cfi_def_cfa_register 7
 5425 0006 F860     		str	r0, [r7, #12]
 5426 0008 B960     		str	r1, [r7, #8]
 5427 000a 1346     		mov	r3, r2
 5428 000c FB71     		strb	r3, [r7, #7]
6272:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxTask = 0;
 5429              		.loc 1 6272 21
 5430 000e 0023     		movs	r3, #0
 5431 0010 FB61     		str	r3, [r7, #28]
6273:Middlewares/FreeRTOS/tasks.c ****         const ListItem_t * pxEndMarker = listGET_END_MARKER( pxList );
 5432              		.loc 1 6273 28
 5433 0012 BB68     		ldr	r3, [r7, #8]
 5434 0014 0833     		adds	r3, r3, #8
 5435 0016 7B61     		str	r3, [r7, #20]
6274:Middlewares/FreeRTOS/tasks.c ****         ListItem_t * pxIterator;
6275:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB = NULL;
 5436              		.loc 1 6275 17
 5437 0018 0023     		movs	r3, #0
 5438 001a 3B61     		str	r3, [r7, #16]
6276:Middlewares/FreeRTOS/tasks.c **** 
6277:Middlewares/FreeRTOS/tasks.c ****         if( listCURRENT_LIST_LENGTH( pxList ) > ( UBaseType_t ) 0 )
 5439              		.loc 1 6277 13
 5440 001c BB68     		ldr	r3, [r7, #8]
 5441 001e 1B68     		ldr	r3, [r3]
 5442              		.loc 1 6277 11
ARM GAS  /tmp/ccF71V7c.s 			page 210


 5443 0020 002B     		cmp	r3, #0
 5444 0022 1DD0     		beq	.L327
6278:Middlewares/FreeRTOS/tasks.c ****         {
6279:Middlewares/FreeRTOS/tasks.c ****             /* Populate an TaskStatus_t structure within the
6280:Middlewares/FreeRTOS/tasks.c ****              * pxTaskStatusArray array for each task that is referenced from
6281:Middlewares/FreeRTOS/tasks.c ****              * pxList.  See the definition of TaskStatus_t in task.h for the
6282:Middlewares/FreeRTOS/tasks.c ****              * meaning of each TaskStatus_t structure member. */
6283:Middlewares/FreeRTOS/tasks.c ****             for( pxIterator = listGET_HEAD_ENTRY( pxList ); pxIterator != pxEndMarker; pxIterator =
 5445              		.loc 1 6283 29
 5446 0024 BB68     		ldr	r3, [r7, #8]
 5447 0026 DB68     		ldr	r3, [r3, #12]
 5448 0028 BB61     		str	r3, [r7, #24]
 5449              		.loc 1 6283 13
 5450 002a 15E0     		b	.L328
 5451              	.L329:
6284:Middlewares/FreeRTOS/tasks.c ****             {
6285:Middlewares/FreeRTOS/tasks.c ****                 /* MISRA Ref 11.5.3 [Void pointer assignment] */
6286:Middlewares/FreeRTOS/tasks.c ****                 /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#
6287:Middlewares/FreeRTOS/tasks.c ****                 /* coverity[misra_c_2012_rule_11_5_violation] */
6288:Middlewares/FreeRTOS/tasks.c ****                 pxTCB = listGET_LIST_ITEM_OWNER( pxIterator );
 5452              		.loc 1 6288 23
 5453 002c BB69     		ldr	r3, [r7, #24]
 5454 002e DB68     		ldr	r3, [r3, #12]
 5455 0030 3B61     		str	r3, [r7, #16]
6289:Middlewares/FreeRTOS/tasks.c **** 
6290:Middlewares/FreeRTOS/tasks.c ****                 vTaskGetInfo( ( TaskHandle_t ) pxTCB, &( pxTaskStatusArray[ uxTask ] ), pdTRUE, eSt
 5456              		.loc 1 6290 75
 5457 0032 FA69     		ldr	r2, [r7, #28]
 5458 0034 1346     		mov	r3, r2
 5459 0036 DB00     		lsls	r3, r3, #3
 5460 0038 1344     		add	r3, r3, r2
 5461 003a 9B00     		lsls	r3, r3, #2
 5462 003c 1A46     		mov	r2, r3
 5463              		.loc 1 6290 17
 5464 003e FB68     		ldr	r3, [r7, #12]
 5465 0040 9918     		adds	r1, r3, r2
 5466 0042 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5467 0044 0122     		movs	r2, #1
 5468 0046 3869     		ldr	r0, [r7, #16]
 5469 0048 FFF7FEFF 		bl	vTaskGetInfo
6291:Middlewares/FreeRTOS/tasks.c ****                 uxTask++;
 5470              		.loc 1 6291 23
 5471 004c FB69     		ldr	r3, [r7, #28]
 5472 004e 0133     		adds	r3, r3, #1
 5473 0050 FB61     		str	r3, [r7, #28]
6283:Middlewares/FreeRTOS/tasks.c ****             {
 5474              		.loc 1 6283 99 discriminator 3
 5475 0052 BB69     		ldr	r3, [r7, #24]
 5476 0054 5B68     		ldr	r3, [r3, #4]
 5477 0056 BB61     		str	r3, [r7, #24]
 5478              	.L328:
6283:Middlewares/FreeRTOS/tasks.c ****             {
 5479              		.loc 1 6283 72 discriminator 1
 5480 0058 BA69     		ldr	r2, [r7, #24]
 5481 005a 7B69     		ldr	r3, [r7, #20]
 5482 005c 9A42     		cmp	r2, r3
 5483 005e E5D1     		bne	.L329
ARM GAS  /tmp/ccF71V7c.s 			page 211


 5484              	.L327:
6292:Middlewares/FreeRTOS/tasks.c ****             }
6293:Middlewares/FreeRTOS/tasks.c ****         }
6294:Middlewares/FreeRTOS/tasks.c ****         else
6295:Middlewares/FreeRTOS/tasks.c ****         {
6296:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
6297:Middlewares/FreeRTOS/tasks.c ****         }
6298:Middlewares/FreeRTOS/tasks.c **** 
6299:Middlewares/FreeRTOS/tasks.c ****         return uxTask;
 5485              		.loc 1 6299 16
 5486 0060 FB69     		ldr	r3, [r7, #28]
6300:Middlewares/FreeRTOS/tasks.c ****     }
 5487              		.loc 1 6300 5
 5488 0062 1846     		mov	r0, r3
 5489 0064 2037     		adds	r7, r7, #32
 5490              		.cfi_def_cfa_offset 8
 5491 0066 BD46     		mov	sp, r7
 5492              		.cfi_def_cfa_register 13
 5493              		@ sp needed
 5494 0068 80BD     		pop	{r7, pc}
 5495              		.cfi_endproc
 5496              	.LFE51:
 5498              		.section	.text.prvTaskCheckFreeStackSpace,"ax",%progbits
 5499              		.align	1
 5500              		.syntax unified
 5501              		.thumb
 5502              		.thumb_func
 5504              	prvTaskCheckFreeStackSpace:
 5505              	.LFB52:
6301:Middlewares/FreeRTOS/tasks.c **** 
6302:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_TRACE_FACILITY */
6303:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
6304:Middlewares/FreeRTOS/tasks.c **** 
6305:Middlewares/FreeRTOS/tasks.c **** #if ( ( configUSE_TRACE_FACILITY == 1 ) || ( INCLUDE_uxTaskGetStackHighWaterMark == 1 ) || ( INCLUD
6306:Middlewares/FreeRTOS/tasks.c **** 
6307:Middlewares/FreeRTOS/tasks.c ****     static configSTACK_DEPTH_TYPE prvTaskCheckFreeStackSpace( const uint8_t * pucStackByte )
6308:Middlewares/FreeRTOS/tasks.c ****     {
 5506              		.loc 1 6308 5
 5507              		.cfi_startproc
 5508              		@ args = 0, pretend = 0, frame = 16
 5509              		@ frame_needed = 1, uses_anonymous_args = 0
 5510              		@ link register save eliminated.
 5511 0000 80B4     		push	{r7}
 5512              		.cfi_def_cfa_offset 4
 5513              		.cfi_offset 7, -4
 5514 0002 85B0     		sub	sp, sp, #20
 5515              		.cfi_def_cfa_offset 24
 5516 0004 00AF     		add	r7, sp, #0
 5517              		.cfi_def_cfa_register 7
 5518 0006 7860     		str	r0, [r7, #4]
6309:Middlewares/FreeRTOS/tasks.c ****         configSTACK_DEPTH_TYPE uxCount = 0U;
 5519              		.loc 1 6309 32
 5520 0008 0023     		movs	r3, #0
 5521 000a FB60     		str	r3, [r7, #12]
6310:Middlewares/FreeRTOS/tasks.c **** 
6311:Middlewares/FreeRTOS/tasks.c ****         while( *pucStackByte == ( uint8_t ) tskSTACK_FILL_BYTE )
 5522              		.loc 1 6311 14
ARM GAS  /tmp/ccF71V7c.s 			page 212


 5523 000c 05E0     		b	.L332
 5524              	.L333:
6312:Middlewares/FreeRTOS/tasks.c ****         {
6313:Middlewares/FreeRTOS/tasks.c ****             pucStackByte -= portSTACK_GROWTH;
 5525              		.loc 1 6313 26
 5526 000e 7B68     		ldr	r3, [r7, #4]
 5527 0010 0133     		adds	r3, r3, #1
 5528 0012 7B60     		str	r3, [r7, #4]
6314:Middlewares/FreeRTOS/tasks.c ****             uxCount++;
 5529              		.loc 1 6314 20
 5530 0014 FB68     		ldr	r3, [r7, #12]
 5531 0016 0133     		adds	r3, r3, #1
 5532 0018 FB60     		str	r3, [r7, #12]
 5533              	.L332:
6311:Middlewares/FreeRTOS/tasks.c ****         {
 5534              		.loc 1 6311 16
 5535 001a 7B68     		ldr	r3, [r7, #4]
 5536 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
6311:Middlewares/FreeRTOS/tasks.c ****         {
 5537              		.loc 1 6311 30
 5538 001e A52B     		cmp	r3, #165
 5539 0020 F5D0     		beq	.L333
6315:Middlewares/FreeRTOS/tasks.c ****         }
6316:Middlewares/FreeRTOS/tasks.c **** 
6317:Middlewares/FreeRTOS/tasks.c ****         uxCount /= ( configSTACK_DEPTH_TYPE ) sizeof( StackType_t );
 5540              		.loc 1 6317 17
 5541 0022 FB68     		ldr	r3, [r7, #12]
 5542 0024 9B08     		lsrs	r3, r3, #2
 5543 0026 FB60     		str	r3, [r7, #12]
6318:Middlewares/FreeRTOS/tasks.c **** 
6319:Middlewares/FreeRTOS/tasks.c ****         return uxCount;
 5544              		.loc 1 6319 16
 5545 0028 FB68     		ldr	r3, [r7, #12]
6320:Middlewares/FreeRTOS/tasks.c ****     }
 5546              		.loc 1 6320 5
 5547 002a 1846     		mov	r0, r3
 5548 002c 1437     		adds	r7, r7, #20
 5549              		.cfi_def_cfa_offset 4
 5550 002e BD46     		mov	sp, r7
 5551              		.cfi_def_cfa_register 13
 5552              		@ sp needed
 5553 0030 5DF8047B 		ldr	r7, [sp], #4
 5554              		.cfi_restore 7
 5555              		.cfi_def_cfa_offset 0
 5556 0034 7047     		bx	lr
 5557              		.cfi_endproc
 5558              	.LFE52:
 5560              		.section	.text.prvDeleteTCB,"ax",%progbits
 5561              		.align	1
 5562              		.syntax unified
 5563              		.thumb
 5564              		.thumb_func
 5566              	prvDeleteTCB:
 5567              	.LFB53:
6321:Middlewares/FreeRTOS/tasks.c **** 
6322:Middlewares/FreeRTOS/tasks.c **** #endif /* ( ( configUSE_TRACE_FACILITY == 1 ) || ( INCLUDE_uxTaskGetStackHighWaterMark == 1 ) || ( 
6323:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
ARM GAS  /tmp/ccF71V7c.s 			page 213


6324:Middlewares/FreeRTOS/tasks.c **** 
6325:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_uxTaskGetStackHighWaterMark2 == 1 )
6326:Middlewares/FreeRTOS/tasks.c **** 
6327:Middlewares/FreeRTOS/tasks.c **** /* uxTaskGetStackHighWaterMark() and uxTaskGetStackHighWaterMark2() are the
6328:Middlewares/FreeRTOS/tasks.c ****  * same except for their return type.  Using configSTACK_DEPTH_TYPE allows the
6329:Middlewares/FreeRTOS/tasks.c ****  * user to determine the return type.  It gets around the problem of the value
6330:Middlewares/FreeRTOS/tasks.c ****  * overflowing on 8-bit types without breaking backward compatibility for
6331:Middlewares/FreeRTOS/tasks.c ****  * applications that expect an 8-bit return type. */
6332:Middlewares/FreeRTOS/tasks.c ****     configSTACK_DEPTH_TYPE uxTaskGetStackHighWaterMark2( TaskHandle_t xTask )
6333:Middlewares/FreeRTOS/tasks.c ****     {
6334:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
6335:Middlewares/FreeRTOS/tasks.c ****         uint8_t * pucEndOfStack;
6336:Middlewares/FreeRTOS/tasks.c ****         configSTACK_DEPTH_TYPE uxReturn;
6337:Middlewares/FreeRTOS/tasks.c **** 
6338:Middlewares/FreeRTOS/tasks.c ****         traceENTER_uxTaskGetStackHighWaterMark2( xTask );
6339:Middlewares/FreeRTOS/tasks.c **** 
6340:Middlewares/FreeRTOS/tasks.c ****         /* uxTaskGetStackHighWaterMark() and uxTaskGetStackHighWaterMark2() are
6341:Middlewares/FreeRTOS/tasks.c ****          * the same except for their return type.  Using configSTACK_DEPTH_TYPE
6342:Middlewares/FreeRTOS/tasks.c ****          * allows the user to determine the return type.  It gets around the
6343:Middlewares/FreeRTOS/tasks.c ****          * problem of the value overflowing on 8-bit types without breaking
6344:Middlewares/FreeRTOS/tasks.c ****          * backward compatibility for applications that expect an 8-bit return
6345:Middlewares/FreeRTOS/tasks.c ****          * type. */
6346:Middlewares/FreeRTOS/tasks.c **** 
6347:Middlewares/FreeRTOS/tasks.c ****         pxTCB = prvGetTCBFromHandle( xTask );
6348:Middlewares/FreeRTOS/tasks.c **** 
6349:Middlewares/FreeRTOS/tasks.c ****         #if portSTACK_GROWTH < 0
6350:Middlewares/FreeRTOS/tasks.c ****         {
6351:Middlewares/FreeRTOS/tasks.c ****             pucEndOfStack = ( uint8_t * ) pxTCB->pxStack;
6352:Middlewares/FreeRTOS/tasks.c ****         }
6353:Middlewares/FreeRTOS/tasks.c ****         #else
6354:Middlewares/FreeRTOS/tasks.c ****         {
6355:Middlewares/FreeRTOS/tasks.c ****             pucEndOfStack = ( uint8_t * ) pxTCB->pxEndOfStack;
6356:Middlewares/FreeRTOS/tasks.c ****         }
6357:Middlewares/FreeRTOS/tasks.c ****         #endif
6358:Middlewares/FreeRTOS/tasks.c **** 
6359:Middlewares/FreeRTOS/tasks.c ****         uxReturn = prvTaskCheckFreeStackSpace( pucEndOfStack );
6360:Middlewares/FreeRTOS/tasks.c **** 
6361:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_uxTaskGetStackHighWaterMark2( uxReturn );
6362:Middlewares/FreeRTOS/tasks.c **** 
6363:Middlewares/FreeRTOS/tasks.c ****         return uxReturn;
6364:Middlewares/FreeRTOS/tasks.c ****     }
6365:Middlewares/FreeRTOS/tasks.c **** 
6366:Middlewares/FreeRTOS/tasks.c **** #endif /* INCLUDE_uxTaskGetStackHighWaterMark2 */
6367:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
6368:Middlewares/FreeRTOS/tasks.c **** 
6369:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_uxTaskGetStackHighWaterMark == 1 )
6370:Middlewares/FreeRTOS/tasks.c **** 
6371:Middlewares/FreeRTOS/tasks.c ****     UBaseType_t uxTaskGetStackHighWaterMark( TaskHandle_t xTask )
6372:Middlewares/FreeRTOS/tasks.c ****     {
6373:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
6374:Middlewares/FreeRTOS/tasks.c ****         uint8_t * pucEndOfStack;
6375:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxReturn;
6376:Middlewares/FreeRTOS/tasks.c **** 
6377:Middlewares/FreeRTOS/tasks.c ****         traceENTER_uxTaskGetStackHighWaterMark( xTask );
6378:Middlewares/FreeRTOS/tasks.c **** 
6379:Middlewares/FreeRTOS/tasks.c ****         pxTCB = prvGetTCBFromHandle( xTask );
6380:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 214


6381:Middlewares/FreeRTOS/tasks.c ****         #if portSTACK_GROWTH < 0
6382:Middlewares/FreeRTOS/tasks.c ****         {
6383:Middlewares/FreeRTOS/tasks.c ****             pucEndOfStack = ( uint8_t * ) pxTCB->pxStack;
6384:Middlewares/FreeRTOS/tasks.c ****         }
6385:Middlewares/FreeRTOS/tasks.c ****         #else
6386:Middlewares/FreeRTOS/tasks.c ****         {
6387:Middlewares/FreeRTOS/tasks.c ****             pucEndOfStack = ( uint8_t * ) pxTCB->pxEndOfStack;
6388:Middlewares/FreeRTOS/tasks.c ****         }
6389:Middlewares/FreeRTOS/tasks.c ****         #endif
6390:Middlewares/FreeRTOS/tasks.c **** 
6391:Middlewares/FreeRTOS/tasks.c ****         uxReturn = ( UBaseType_t ) prvTaskCheckFreeStackSpace( pucEndOfStack );
6392:Middlewares/FreeRTOS/tasks.c **** 
6393:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_uxTaskGetStackHighWaterMark( uxReturn );
6394:Middlewares/FreeRTOS/tasks.c **** 
6395:Middlewares/FreeRTOS/tasks.c ****         return uxReturn;
6396:Middlewares/FreeRTOS/tasks.c ****     }
6397:Middlewares/FreeRTOS/tasks.c **** 
6398:Middlewares/FreeRTOS/tasks.c **** #endif /* INCLUDE_uxTaskGetStackHighWaterMark */
6399:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
6400:Middlewares/FreeRTOS/tasks.c **** 
6401:Middlewares/FreeRTOS/tasks.c **** #if ( INCLUDE_vTaskDelete == 1 )
6402:Middlewares/FreeRTOS/tasks.c **** 
6403:Middlewares/FreeRTOS/tasks.c ****     static void prvDeleteTCB( TCB_t * pxTCB )
6404:Middlewares/FreeRTOS/tasks.c ****     {
 5568              		.loc 1 6404 5
 5569              		.cfi_startproc
 5570              		@ args = 0, pretend = 0, frame = 8
 5571              		@ frame_needed = 1, uses_anonymous_args = 0
 5572 0000 80B5     		push	{r7, lr}
 5573              		.cfi_def_cfa_offset 8
 5574              		.cfi_offset 7, -8
 5575              		.cfi_offset 14, -4
 5576 0002 82B0     		sub	sp, sp, #8
 5577              		.cfi_def_cfa_offset 16
 5578 0004 00AF     		add	r7, sp, #0
 5579              		.cfi_def_cfa_register 7
 5580 0006 7860     		str	r0, [r7, #4]
6405:Middlewares/FreeRTOS/tasks.c ****         /* This call is required specifically for the TriCore port.  It must be
6406:Middlewares/FreeRTOS/tasks.c ****          * above the vPortFree() calls.  The call is also used by ports/demos that
6407:Middlewares/FreeRTOS/tasks.c ****          * want to allocate and clean RAM statically. */
6408:Middlewares/FreeRTOS/tasks.c ****         portCLEAN_UP_TCB( pxTCB );
6409:Middlewares/FreeRTOS/tasks.c **** 
6410:Middlewares/FreeRTOS/tasks.c ****         #if ( configUSE_C_RUNTIME_TLS_SUPPORT == 1 )
6411:Middlewares/FreeRTOS/tasks.c ****         {
6412:Middlewares/FreeRTOS/tasks.c ****             /* Free up the memory allocated for the task's TLS Block. */
6413:Middlewares/FreeRTOS/tasks.c ****             configDEINIT_TLS_BLOCK( pxTCB->xTLSBlock );
6414:Middlewares/FreeRTOS/tasks.c ****         }
6415:Middlewares/FreeRTOS/tasks.c ****         #endif
6416:Middlewares/FreeRTOS/tasks.c **** 
6417:Middlewares/FreeRTOS/tasks.c ****         #if ( ( configSUPPORT_DYNAMIC_ALLOCATION == 1 ) && ( configSUPPORT_STATIC_ALLOCATION == 0 )
6418:Middlewares/FreeRTOS/tasks.c ****         {
6419:Middlewares/FreeRTOS/tasks.c ****             /* The task can only have been allocated dynamically - free both
6420:Middlewares/FreeRTOS/tasks.c ****              * the stack and TCB. */
6421:Middlewares/FreeRTOS/tasks.c ****             vPortFreeStack( pxTCB->pxStack );
 5581              		.loc 1 6421 34
 5582 0008 7B68     		ldr	r3, [r7, #4]
 5583 000a 1B6B     		ldr	r3, [r3, #48]
ARM GAS  /tmp/ccF71V7c.s 			page 215


 5584              		.loc 1 6421 13
 5585 000c 1846     		mov	r0, r3
 5586 000e FFF7FEFF 		bl	vPortFree
6422:Middlewares/FreeRTOS/tasks.c ****             vPortFree( pxTCB );
 5587              		.loc 1 6422 13
 5588 0012 7868     		ldr	r0, [r7, #4]
 5589 0014 FFF7FEFF 		bl	vPortFree
6423:Middlewares/FreeRTOS/tasks.c ****         }
6424:Middlewares/FreeRTOS/tasks.c ****         #elif ( tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE != 0 )
6425:Middlewares/FreeRTOS/tasks.c ****         {
6426:Middlewares/FreeRTOS/tasks.c ****             /* The task could have been allocated statically or dynamically, so
6427:Middlewares/FreeRTOS/tasks.c ****              * check what was statically allocated before trying to free the
6428:Middlewares/FreeRTOS/tasks.c ****              * memory. */
6429:Middlewares/FreeRTOS/tasks.c ****             if( pxTCB->ucStaticallyAllocated == tskDYNAMICALLY_ALLOCATED_STACK_AND_TCB )
6430:Middlewares/FreeRTOS/tasks.c ****             {
6431:Middlewares/FreeRTOS/tasks.c ****                 /* Both the stack and TCB were allocated dynamically, so both
6432:Middlewares/FreeRTOS/tasks.c ****                  * must be freed. */
6433:Middlewares/FreeRTOS/tasks.c ****                 vPortFreeStack( pxTCB->pxStack );
6434:Middlewares/FreeRTOS/tasks.c ****                 vPortFree( pxTCB );
6435:Middlewares/FreeRTOS/tasks.c ****             }
6436:Middlewares/FreeRTOS/tasks.c ****             else if( pxTCB->ucStaticallyAllocated == tskSTATICALLY_ALLOCATED_STACK_ONLY )
6437:Middlewares/FreeRTOS/tasks.c ****             {
6438:Middlewares/FreeRTOS/tasks.c ****                 /* Only the stack was statically allocated, so the TCB is the
6439:Middlewares/FreeRTOS/tasks.c ****                  * only memory that must be freed. */
6440:Middlewares/FreeRTOS/tasks.c ****                 vPortFree( pxTCB );
6441:Middlewares/FreeRTOS/tasks.c ****             }
6442:Middlewares/FreeRTOS/tasks.c ****             else
6443:Middlewares/FreeRTOS/tasks.c ****             {
6444:Middlewares/FreeRTOS/tasks.c ****                 /* Neither the stack nor the TCB were allocated dynamically, so
6445:Middlewares/FreeRTOS/tasks.c ****                  * nothing needs to be freed. */
6446:Middlewares/FreeRTOS/tasks.c ****                 configASSERT( pxTCB->ucStaticallyAllocated == tskSTATICALLY_ALLOCATED_STACK_AND_TCB
6447:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
6448:Middlewares/FreeRTOS/tasks.c ****             }
6449:Middlewares/FreeRTOS/tasks.c ****         }
6450:Middlewares/FreeRTOS/tasks.c ****         #endif /* configSUPPORT_DYNAMIC_ALLOCATION */
6451:Middlewares/FreeRTOS/tasks.c ****     }
 5590              		.loc 1 6451 5
 5591 0018 00BF     		nop
 5592 001a 0837     		adds	r7, r7, #8
 5593              		.cfi_def_cfa_offset 8
 5594 001c BD46     		mov	sp, r7
 5595              		.cfi_def_cfa_register 13
 5596              		@ sp needed
 5597 001e 80BD     		pop	{r7, pc}
 5598              		.cfi_endproc
 5599              	.LFE53:
 5601              		.section	.text.prvResetNextTaskUnblockTime,"ax",%progbits
 5602              		.align	1
 5603              		.syntax unified
 5604              		.thumb
 5605              		.thumb_func
 5607              	prvResetNextTaskUnblockTime:
 5608              	.LFB54:
6452:Middlewares/FreeRTOS/tasks.c **** 
6453:Middlewares/FreeRTOS/tasks.c **** #endif /* INCLUDE_vTaskDelete */
6454:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
6455:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 216


6456:Middlewares/FreeRTOS/tasks.c **** static void prvResetNextTaskUnblockTime( void )
6457:Middlewares/FreeRTOS/tasks.c **** {
 5609              		.loc 1 6457 1
 5610              		.cfi_startproc
 5611              		@ args = 0, pretend = 0, frame = 0
 5612              		@ frame_needed = 1, uses_anonymous_args = 0
 5613              		@ link register save eliminated.
 5614 0000 80B4     		push	{r7}
 5615              		.cfi_def_cfa_offset 4
 5616              		.cfi_offset 7, -4
 5617 0002 00AF     		add	r7, sp, #0
 5618              		.cfi_def_cfa_register 7
6458:Middlewares/FreeRTOS/tasks.c ****     if( listLIST_IS_EMPTY( pxDelayedTaskList ) != pdFALSE )
 5619              		.loc 1 6458 9
 5620 0004 0A4B     		ldr	r3, .L340
 5621 0006 1B68     		ldr	r3, [r3]
 5622 0008 1B68     		ldr	r3, [r3]
 5623              		.loc 1 6458 7
 5624 000a 002B     		cmp	r3, #0
 5625 000c 04D1     		bne	.L337
6459:Middlewares/FreeRTOS/tasks.c ****     {
6460:Middlewares/FreeRTOS/tasks.c ****         /* The new current delayed list is empty.  Set xNextTaskUnblockTime to
6461:Middlewares/FreeRTOS/tasks.c ****          * the maximum possible value so it is  extremely unlikely that the
6462:Middlewares/FreeRTOS/tasks.c ****          * if( xTickCount >= xNextTaskUnblockTime ) test will pass until
6463:Middlewares/FreeRTOS/tasks.c ****          * there is an item in the delayed list. */
6464:Middlewares/FreeRTOS/tasks.c ****         xNextTaskUnblockTime = portMAX_DELAY;
 5626              		.loc 1 6464 30
 5627 000e 094B     		ldr	r3, .L340+4
 5628 0010 4FF0FF32 		mov	r2, #-1
 5629 0014 1A60     		str	r2, [r3]
6465:Middlewares/FreeRTOS/tasks.c ****     }
6466:Middlewares/FreeRTOS/tasks.c ****     else
6467:Middlewares/FreeRTOS/tasks.c ****     {
6468:Middlewares/FreeRTOS/tasks.c ****         /* The new current delayed list is not empty, get the value of
6469:Middlewares/FreeRTOS/tasks.c ****          * the item at the head of the delayed list.  This is the time at
6470:Middlewares/FreeRTOS/tasks.c ****          * which the task at the head of the delayed list should be removed
6471:Middlewares/FreeRTOS/tasks.c ****          * from the Blocked state. */
6472:Middlewares/FreeRTOS/tasks.c ****         xNextTaskUnblockTime = listGET_ITEM_VALUE_OF_HEAD_ENTRY( pxDelayedTaskList );
6473:Middlewares/FreeRTOS/tasks.c ****     }
6474:Middlewares/FreeRTOS/tasks.c **** }
 5630              		.loc 1 6474 1
 5631 0016 05E0     		b	.L339
 5632              	.L337:
6472:Middlewares/FreeRTOS/tasks.c ****     }
 5633              		.loc 1 6472 32
 5634 0018 054B     		ldr	r3, .L340
 5635 001a 1B68     		ldr	r3, [r3]
 5636 001c DB68     		ldr	r3, [r3, #12]
 5637 001e 1B68     		ldr	r3, [r3]
6472:Middlewares/FreeRTOS/tasks.c ****     }
 5638              		.loc 1 6472 30
 5639 0020 044A     		ldr	r2, .L340+4
 5640 0022 1360     		str	r3, [r2]
 5641              	.L339:
 5642              		.loc 1 6474 1
 5643 0024 00BF     		nop
 5644 0026 BD46     		mov	sp, r7
ARM GAS  /tmp/ccF71V7c.s 			page 217


 5645              		.cfi_def_cfa_register 13
 5646              		@ sp needed
 5647 0028 5DF8047B 		ldr	r7, [sp], #4
 5648              		.cfi_restore 7
 5649              		.cfi_def_cfa_offset 0
 5650 002c 7047     		bx	lr
 5651              	.L341:
 5652 002e 00BF     		.align	2
 5653              	.L340:
 5654 0030 00000000 		.word	pxDelayedTaskList
 5655 0034 00000000 		.word	xNextTaskUnblockTime
 5656              		.cfi_endproc
 5657              	.LFE54:
 5659              		.section	.text.xTaskGetCurrentTaskHandle,"ax",%progbits
 5660              		.align	1
 5661              		.global	xTaskGetCurrentTaskHandle
 5662              		.syntax unified
 5663              		.thumb
 5664              		.thumb_func
 5666              	xTaskGetCurrentTaskHandle:
 5667              	.LFB55:
6475:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
6476:Middlewares/FreeRTOS/tasks.c **** 
6477:Middlewares/FreeRTOS/tasks.c **** #if ( ( INCLUDE_xTaskGetCurrentTaskHandle == 1 ) || ( configUSE_MUTEXES == 1 ) ) || ( configNUMBER_
6478:Middlewares/FreeRTOS/tasks.c **** 
6479:Middlewares/FreeRTOS/tasks.c ****     #if ( configNUMBER_OF_CORES == 1 )
6480:Middlewares/FreeRTOS/tasks.c ****         TaskHandle_t xTaskGetCurrentTaskHandle( void )
6481:Middlewares/FreeRTOS/tasks.c ****         {
 5668              		.loc 1 6481 9
 5669              		.cfi_startproc
 5670              		@ args = 0, pretend = 0, frame = 8
 5671              		@ frame_needed = 1, uses_anonymous_args = 0
 5672              		@ link register save eliminated.
 5673 0000 80B4     		push	{r7}
 5674              		.cfi_def_cfa_offset 4
 5675              		.cfi_offset 7, -4
 5676 0002 83B0     		sub	sp, sp, #12
 5677              		.cfi_def_cfa_offset 16
 5678 0004 00AF     		add	r7, sp, #0
 5679              		.cfi_def_cfa_register 7
6482:Middlewares/FreeRTOS/tasks.c ****             TaskHandle_t xReturn;
6483:Middlewares/FreeRTOS/tasks.c **** 
6484:Middlewares/FreeRTOS/tasks.c ****             traceENTER_xTaskGetCurrentTaskHandle();
6485:Middlewares/FreeRTOS/tasks.c **** 
6486:Middlewares/FreeRTOS/tasks.c ****             /* A critical section is not required as this is not called from
6487:Middlewares/FreeRTOS/tasks.c ****              * an interrupt and the current TCB will always be the same for any
6488:Middlewares/FreeRTOS/tasks.c ****              * individual execution thread. */
6489:Middlewares/FreeRTOS/tasks.c ****             xReturn = pxCurrentTCB;
 5680              		.loc 1 6489 21
 5681 0006 054B     		ldr	r3, .L344
 5682 0008 1B68     		ldr	r3, [r3]
 5683 000a 7B60     		str	r3, [r7, #4]
6490:Middlewares/FreeRTOS/tasks.c **** 
6491:Middlewares/FreeRTOS/tasks.c ****             traceRETURN_xTaskGetCurrentTaskHandle( xReturn );
6492:Middlewares/FreeRTOS/tasks.c **** 
6493:Middlewares/FreeRTOS/tasks.c ****             return xReturn;
 5684              		.loc 1 6493 20
ARM GAS  /tmp/ccF71V7c.s 			page 218


 5685 000c 7B68     		ldr	r3, [r7, #4]
6494:Middlewares/FreeRTOS/tasks.c ****         }
 5686              		.loc 1 6494 9
 5687 000e 1846     		mov	r0, r3
 5688 0010 0C37     		adds	r7, r7, #12
 5689              		.cfi_def_cfa_offset 4
 5690 0012 BD46     		mov	sp, r7
 5691              		.cfi_def_cfa_register 13
 5692              		@ sp needed
 5693 0014 5DF8047B 		ldr	r7, [sp], #4
 5694              		.cfi_restore 7
 5695              		.cfi_def_cfa_offset 0
 5696 0018 7047     		bx	lr
 5697              	.L345:
 5698 001a 00BF     		.align	2
 5699              	.L344:
 5700 001c 00000000 		.word	pxCurrentTCB
 5701              		.cfi_endproc
 5702              	.LFE55:
 5704              		.section	.text.xTaskGetCurrentTaskHandleForCore,"ax",%progbits
 5705              		.align	1
 5706              		.global	xTaskGetCurrentTaskHandleForCore
 5707              		.syntax unified
 5708              		.thumb
 5709              		.thumb_func
 5711              	xTaskGetCurrentTaskHandleForCore:
 5712              	.LFB56:
6495:Middlewares/FreeRTOS/tasks.c ****     #else /* #if ( configNUMBER_OF_CORES == 1 ) */
6496:Middlewares/FreeRTOS/tasks.c ****         TaskHandle_t xTaskGetCurrentTaskHandle( void )
6497:Middlewares/FreeRTOS/tasks.c ****         {
6498:Middlewares/FreeRTOS/tasks.c ****             TaskHandle_t xReturn;
6499:Middlewares/FreeRTOS/tasks.c ****             UBaseType_t uxSavedInterruptStatus;
6500:Middlewares/FreeRTOS/tasks.c **** 
6501:Middlewares/FreeRTOS/tasks.c ****             traceENTER_xTaskGetCurrentTaskHandle();
6502:Middlewares/FreeRTOS/tasks.c **** 
6503:Middlewares/FreeRTOS/tasks.c ****             uxSavedInterruptStatus = portSET_INTERRUPT_MASK();
6504:Middlewares/FreeRTOS/tasks.c ****             {
6505:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pxCurrentTCBs[ portGET_CORE_ID() ];
6506:Middlewares/FreeRTOS/tasks.c ****             }
6507:Middlewares/FreeRTOS/tasks.c ****             portCLEAR_INTERRUPT_MASK( uxSavedInterruptStatus );
6508:Middlewares/FreeRTOS/tasks.c **** 
6509:Middlewares/FreeRTOS/tasks.c ****             traceRETURN_xTaskGetCurrentTaskHandle( xReturn );
6510:Middlewares/FreeRTOS/tasks.c **** 
6511:Middlewares/FreeRTOS/tasks.c ****             return xReturn;
6512:Middlewares/FreeRTOS/tasks.c ****         }
6513:Middlewares/FreeRTOS/tasks.c ****     #endif /* #if ( configNUMBER_OF_CORES == 1 ) */
6514:Middlewares/FreeRTOS/tasks.c **** 
6515:Middlewares/FreeRTOS/tasks.c ****     TaskHandle_t xTaskGetCurrentTaskHandleForCore( BaseType_t xCoreID )
6516:Middlewares/FreeRTOS/tasks.c ****     {
 5713              		.loc 1 6516 5
 5714              		.cfi_startproc
 5715              		@ args = 0, pretend = 0, frame = 16
 5716              		@ frame_needed = 1, uses_anonymous_args = 0
 5717              		@ link register save eliminated.
 5718 0000 80B4     		push	{r7}
 5719              		.cfi_def_cfa_offset 4
 5720              		.cfi_offset 7, -4
ARM GAS  /tmp/ccF71V7c.s 			page 219


 5721 0002 85B0     		sub	sp, sp, #20
 5722              		.cfi_def_cfa_offset 24
 5723 0004 00AF     		add	r7, sp, #0
 5724              		.cfi_def_cfa_register 7
 5725 0006 7860     		str	r0, [r7, #4]
6517:Middlewares/FreeRTOS/tasks.c ****         TaskHandle_t xReturn = NULL;
 5726              		.loc 1 6517 22
 5727 0008 0023     		movs	r3, #0
 5728 000a FB60     		str	r3, [r7, #12]
6518:Middlewares/FreeRTOS/tasks.c **** 
6519:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskGetCurrentTaskHandleForCore( xCoreID );
6520:Middlewares/FreeRTOS/tasks.c **** 
6521:Middlewares/FreeRTOS/tasks.c ****         if( taskVALID_CORE_ID( xCoreID ) != pdFALSE )
 5729              		.loc 1 6521 11
 5730 000c 7B68     		ldr	r3, [r7, #4]
 5731 000e 002B     		cmp	r3, #0
 5732 0010 05DB     		blt	.L347
 5733              		.loc 1 6521 42 discriminator 1
 5734 0012 7B68     		ldr	r3, [r7, #4]
 5735 0014 002B     		cmp	r3, #0
 5736 0016 02DC     		bgt	.L347
6522:Middlewares/FreeRTOS/tasks.c ****         {
6523:Middlewares/FreeRTOS/tasks.c ****             #if ( configNUMBER_OF_CORES == 1 )
6524:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pxCurrentTCB;
 5737              		.loc 1 6524 25
 5738 0018 044B     		ldr	r3, .L349
 5739 001a 1B68     		ldr	r3, [r3]
 5740 001c FB60     		str	r3, [r7, #12]
 5741              	.L347:
6525:Middlewares/FreeRTOS/tasks.c ****             #else /* #if ( configNUMBER_OF_CORES == 1 ) */
6526:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pxCurrentTCBs[ xCoreID ];
6527:Middlewares/FreeRTOS/tasks.c ****             #endif /* #if ( configNUMBER_OF_CORES == 1 ) */
6528:Middlewares/FreeRTOS/tasks.c ****         }
6529:Middlewares/FreeRTOS/tasks.c **** 
6530:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskGetCurrentTaskHandleForCore( xReturn );
6531:Middlewares/FreeRTOS/tasks.c **** 
6532:Middlewares/FreeRTOS/tasks.c ****         return xReturn;
 5742              		.loc 1 6532 16
 5743 001e FB68     		ldr	r3, [r7, #12]
6533:Middlewares/FreeRTOS/tasks.c ****     }
 5744              		.loc 1 6533 5
 5745 0020 1846     		mov	r0, r3
 5746 0022 1437     		adds	r7, r7, #20
 5747              		.cfi_def_cfa_offset 4
 5748 0024 BD46     		mov	sp, r7
 5749              		.cfi_def_cfa_register 13
 5750              		@ sp needed
 5751 0026 5DF8047B 		ldr	r7, [sp], #4
 5752              		.cfi_restore 7
 5753              		.cfi_def_cfa_offset 0
 5754 002a 7047     		bx	lr
 5755              	.L350:
 5756              		.align	2
 5757              	.L349:
 5758 002c 00000000 		.word	pxCurrentTCB
 5759              		.cfi_endproc
 5760              	.LFE56:
ARM GAS  /tmp/ccF71V7c.s 			page 220


 5762              		.section	.text.xTaskPriorityInherit,"ax",%progbits
 5763              		.align	1
 5764              		.global	xTaskPriorityInherit
 5765              		.syntax unified
 5766              		.thumb
 5767              		.thumb_func
 5769              	xTaskPriorityInherit:
 5770              	.LFB57:
6534:Middlewares/FreeRTOS/tasks.c **** 
6535:Middlewares/FreeRTOS/tasks.c **** #endif /* ( ( INCLUDE_xTaskGetCurrentTaskHandle == 1 ) || ( configUSE_MUTEXES == 1 ) ) */
6536:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
6537:Middlewares/FreeRTOS/tasks.c **** 
6538:Middlewares/FreeRTOS/tasks.c **** #if ( ( INCLUDE_xTaskGetSchedulerState == 1 ) || ( configUSE_TIMERS == 1 ) )
6539:Middlewares/FreeRTOS/tasks.c **** 
6540:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xTaskGetSchedulerState( void )
6541:Middlewares/FreeRTOS/tasks.c ****     {
6542:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xReturn;
6543:Middlewares/FreeRTOS/tasks.c **** 
6544:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskGetSchedulerState();
6545:Middlewares/FreeRTOS/tasks.c **** 
6546:Middlewares/FreeRTOS/tasks.c ****         if( xSchedulerRunning == pdFALSE )
6547:Middlewares/FreeRTOS/tasks.c ****         {
6548:Middlewares/FreeRTOS/tasks.c ****             xReturn = taskSCHEDULER_NOT_STARTED;
6549:Middlewares/FreeRTOS/tasks.c ****         }
6550:Middlewares/FreeRTOS/tasks.c ****         else
6551:Middlewares/FreeRTOS/tasks.c ****         {
6552:Middlewares/FreeRTOS/tasks.c ****             #if ( configNUMBER_OF_CORES > 1 )
6553:Middlewares/FreeRTOS/tasks.c ****                 taskENTER_CRITICAL();
6554:Middlewares/FreeRTOS/tasks.c ****             #endif
6555:Middlewares/FreeRTOS/tasks.c ****             {
6556:Middlewares/FreeRTOS/tasks.c ****                 if( uxSchedulerSuspended == ( UBaseType_t ) 0U )
6557:Middlewares/FreeRTOS/tasks.c ****                 {
6558:Middlewares/FreeRTOS/tasks.c ****                     xReturn = taskSCHEDULER_RUNNING;
6559:Middlewares/FreeRTOS/tasks.c ****                 }
6560:Middlewares/FreeRTOS/tasks.c ****                 else
6561:Middlewares/FreeRTOS/tasks.c ****                 {
6562:Middlewares/FreeRTOS/tasks.c ****                     xReturn = taskSCHEDULER_SUSPENDED;
6563:Middlewares/FreeRTOS/tasks.c ****                 }
6564:Middlewares/FreeRTOS/tasks.c ****             }
6565:Middlewares/FreeRTOS/tasks.c ****             #if ( configNUMBER_OF_CORES > 1 )
6566:Middlewares/FreeRTOS/tasks.c ****                 taskEXIT_CRITICAL();
6567:Middlewares/FreeRTOS/tasks.c ****             #endif
6568:Middlewares/FreeRTOS/tasks.c ****         }
6569:Middlewares/FreeRTOS/tasks.c **** 
6570:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskGetSchedulerState( xReturn );
6571:Middlewares/FreeRTOS/tasks.c **** 
6572:Middlewares/FreeRTOS/tasks.c ****         return xReturn;
6573:Middlewares/FreeRTOS/tasks.c ****     }
6574:Middlewares/FreeRTOS/tasks.c **** 
6575:Middlewares/FreeRTOS/tasks.c **** #endif /* ( ( INCLUDE_xTaskGetSchedulerState == 1 ) || ( configUSE_TIMERS == 1 ) ) */
6576:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
6577:Middlewares/FreeRTOS/tasks.c **** 
6578:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_MUTEXES == 1 )
6579:Middlewares/FreeRTOS/tasks.c **** 
6580:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xTaskPriorityInherit( TaskHandle_t const pxMutexHolder )
6581:Middlewares/FreeRTOS/tasks.c ****     {
 5771              		.loc 1 6581 5
ARM GAS  /tmp/ccF71V7c.s 			page 221


 5772              		.cfi_startproc
 5773              		@ args = 0, pretend = 0, frame = 24
 5774              		@ frame_needed = 1, uses_anonymous_args = 0
 5775 0000 80B5     		push	{r7, lr}
 5776              		.cfi_def_cfa_offset 8
 5777              		.cfi_offset 7, -8
 5778              		.cfi_offset 14, -4
 5779 0002 86B0     		sub	sp, sp, #24
 5780              		.cfi_def_cfa_offset 32
 5781 0004 00AF     		add	r7, sp, #0
 5782              		.cfi_def_cfa_register 7
 5783 0006 7860     		str	r0, [r7, #4]
6582:Middlewares/FreeRTOS/tasks.c ****         TCB_t * const pxMutexHolderTCB = pxMutexHolder;
 5784              		.loc 1 6582 23
 5785 0008 7B68     		ldr	r3, [r7, #4]
 5786 000a 3B61     		str	r3, [r7, #16]
6583:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xReturn = pdFALSE;
 5787              		.loc 1 6583 20
 5788 000c 0023     		movs	r3, #0
 5789 000e 7B61     		str	r3, [r7, #20]
6584:Middlewares/FreeRTOS/tasks.c **** 
6585:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskPriorityInherit( pxMutexHolder );
6586:Middlewares/FreeRTOS/tasks.c **** 
6587:Middlewares/FreeRTOS/tasks.c ****         /* If the mutex is taken by an interrupt, the mutex holder is NULL. Priority
6588:Middlewares/FreeRTOS/tasks.c ****          * inheritance is not applied in this scenario. */
6589:Middlewares/FreeRTOS/tasks.c ****         if( pxMutexHolder != NULL )
 5790              		.loc 1 6589 11
 5791 0010 7B68     		ldr	r3, [r7, #4]
 5792 0012 002B     		cmp	r3, #0
 5793 0014 7BD0     		beq	.L352
6590:Middlewares/FreeRTOS/tasks.c ****         {
6591:Middlewares/FreeRTOS/tasks.c ****             /* If the holder of the mutex has a priority below the priority of
6592:Middlewares/FreeRTOS/tasks.c ****              * the task attempting to obtain the mutex then it will temporarily
6593:Middlewares/FreeRTOS/tasks.c ****              * inherit the priority of the task attempting to obtain the mutex. */
6594:Middlewares/FreeRTOS/tasks.c ****             if( pxMutexHolderTCB->uxPriority < pxCurrentTCB->uxPriority )
 5794              		.loc 1 6594 33
 5795 0016 3B69     		ldr	r3, [r7, #16]
 5796 0018 DA6A     		ldr	r2, [r3, #44]
 5797              		.loc 1 6594 60
 5798 001a 3F4B     		ldr	r3, .L359
 5799 001c 1B68     		ldr	r3, [r3]
 5800 001e DB6A     		ldr	r3, [r3, #44]
 5801              		.loc 1 6594 15
 5802 0020 9A42     		cmp	r2, r3
 5803 0022 6BD2     		bcs	.L353
6595:Middlewares/FreeRTOS/tasks.c ****             {
6596:Middlewares/FreeRTOS/tasks.c ****                 /* Adjust the mutex holder state to account for its new
6597:Middlewares/FreeRTOS/tasks.c ****                  * priority.  Only reset the event list item value if the value is
6598:Middlewares/FreeRTOS/tasks.c ****                  * not being used for anything else. */
6599:Middlewares/FreeRTOS/tasks.c ****                 if( ( listGET_LIST_ITEM_VALUE( &( pxMutexHolderTCB->xEventListItem ) ) & taskEVENT_
 5804              		.loc 1 6599 23
 5805 0024 3B69     		ldr	r3, [r7, #16]
 5806 0026 9B69     		ldr	r3, [r3, #24]
 5807              		.loc 1 6599 19
 5808 0028 002B     		cmp	r3, #0
 5809 002a 06DB     		blt	.L354
6600:Middlewares/FreeRTOS/tasks.c ****                 {
ARM GAS  /tmp/ccF71V7c.s 			page 222


6601:Middlewares/FreeRTOS/tasks.c ****                     listSET_LIST_ITEM_VALUE( &( pxMutexHolderTCB->xEventListItem ), ( TickType_t ) 
 5810              		.loc 1 6601 21
 5811 002c 3A4B     		ldr	r3, .L359
 5812 002e 1B68     		ldr	r3, [r3]
 5813 0030 DB6A     		ldr	r3, [r3, #44]
 5814 0032 C3F10502 		rsb	r2, r3, #5
 5815 0036 3B69     		ldr	r3, [r7, #16]
 5816 0038 9A61     		str	r2, [r3, #24]
 5817              	.L354:
6602:Middlewares/FreeRTOS/tasks.c ****                 }
6603:Middlewares/FreeRTOS/tasks.c ****                 else
6604:Middlewares/FreeRTOS/tasks.c ****                 {
6605:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
6606:Middlewares/FreeRTOS/tasks.c ****                 }
6607:Middlewares/FreeRTOS/tasks.c **** 
6608:Middlewares/FreeRTOS/tasks.c ****                 /* If the task being modified is in the ready state it will need
6609:Middlewares/FreeRTOS/tasks.c ****                  * to be moved into a new list. */
6610:Middlewares/FreeRTOS/tasks.c ****                 if( listIS_CONTAINED_WITHIN( &( pxReadyTasksLists[ pxMutexHolderTCB->uxPriority ] )
 5818              		.loc 1 6610 21
 5819 003a 3B69     		ldr	r3, [r7, #16]
 5820 003c 5969     		ldr	r1, [r3, #20]
 5821 003e 3B69     		ldr	r3, [r7, #16]
 5822 0040 DA6A     		ldr	r2, [r3, #44]
 5823 0042 1346     		mov	r3, r2
 5824 0044 9B00     		lsls	r3, r3, #2
 5825 0046 1344     		add	r3, r3, r2
 5826 0048 9B00     		lsls	r3, r3, #2
 5827 004a 344A     		ldr	r2, .L359+4
 5828 004c 1344     		add	r3, r3, r2
 5829              		.loc 1 6610 19
 5830 004e 9942     		cmp	r1, r3
 5831 0050 4CD1     		bne	.L355
6611:Middlewares/FreeRTOS/tasks.c ****                 {
6612:Middlewares/FreeRTOS/tasks.c ****                     if( uxListRemove( &( pxMutexHolderTCB->xStateListItem ) ) == ( UBaseType_t ) 0 
 5832              		.loc 1 6612 25
 5833 0052 3B69     		ldr	r3, [r7, #16]
 5834 0054 0433     		adds	r3, r3, #4
 5835 0056 1846     		mov	r0, r3
 5836 0058 FFF7FEFF 		bl	uxListRemove
6613:Middlewares/FreeRTOS/tasks.c ****                     {
6614:Middlewares/FreeRTOS/tasks.c ****                         /* It is known that the task is in its ready list so
6615:Middlewares/FreeRTOS/tasks.c ****                          * there is no need to check again and the port level
6616:Middlewares/FreeRTOS/tasks.c ****                          * reset macro can be called directly. */
6617:Middlewares/FreeRTOS/tasks.c ****                         portRESET_READY_PRIORITY( pxMutexHolderTCB->uxPriority, uxTopReadyPriority 
6618:Middlewares/FreeRTOS/tasks.c ****                     }
6619:Middlewares/FreeRTOS/tasks.c ****                     else
6620:Middlewares/FreeRTOS/tasks.c ****                     {
6621:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
6622:Middlewares/FreeRTOS/tasks.c ****                     }
6623:Middlewares/FreeRTOS/tasks.c **** 
6624:Middlewares/FreeRTOS/tasks.c ****                     /* Inherit the priority before being moved into the new list. */
6625:Middlewares/FreeRTOS/tasks.c ****                     pxMutexHolderTCB->uxPriority = pxCurrentTCB->uxPriority;
 5837              		.loc 1 6625 64
 5838 005c 2E4B     		ldr	r3, .L359
 5839 005e 1B68     		ldr	r3, [r3]
 5840 0060 DA6A     		ldr	r2, [r3, #44]
 5841              		.loc 1 6625 50
ARM GAS  /tmp/ccF71V7c.s 			page 223


 5842 0062 3B69     		ldr	r3, [r7, #16]
 5843 0064 DA62     		str	r2, [r3, #44]
6626:Middlewares/FreeRTOS/tasks.c ****                     prvAddTaskToReadyList( pxMutexHolderTCB );
 5844              		.loc 1 6626 21
 5845 0066 3B69     		ldr	r3, [r7, #16]
 5846 0068 DA6A     		ldr	r2, [r3, #44]
 5847 006a 2D4B     		ldr	r3, .L359+8
 5848 006c 1B68     		ldr	r3, [r3]
 5849 006e 9A42     		cmp	r2, r3
 5850 0070 03D9     		bls	.L356
 5851              		.loc 1 6626 21 is_stmt 0 discriminator 1
 5852 0072 3B69     		ldr	r3, [r7, #16]
 5853 0074 DB6A     		ldr	r3, [r3, #44]
 5854 0076 2A4A     		ldr	r2, .L359+8
 5855 0078 1360     		str	r3, [r2]
 5856              	.L356:
 5857              	.LBB85:
 5858              		.loc 1 6626 21 discriminator 3
 5859 007a 3B69     		ldr	r3, [r7, #16]
 5860 007c DA6A     		ldr	r2, [r3, #44]
 5861 007e 2749     		ldr	r1, .L359+4
 5862 0080 1346     		mov	r3, r2
 5863 0082 9B00     		lsls	r3, r3, #2
 5864 0084 1344     		add	r3, r3, r2
 5865 0086 9B00     		lsls	r3, r3, #2
 5866 0088 0B44     		add	r3, r3, r1
 5867 008a 0433     		adds	r3, r3, #4
 5868 008c 1B68     		ldr	r3, [r3]
 5869 008e FB60     		str	r3, [r7, #12]
 5870 0090 3B69     		ldr	r3, [r7, #16]
 5871 0092 FA68     		ldr	r2, [r7, #12]
 5872 0094 9A60     		str	r2, [r3, #8]
 5873 0096 FB68     		ldr	r3, [r7, #12]
 5874 0098 9A68     		ldr	r2, [r3, #8]
 5875 009a 3B69     		ldr	r3, [r7, #16]
 5876 009c DA60     		str	r2, [r3, #12]
 5877 009e FB68     		ldr	r3, [r7, #12]
 5878 00a0 9B68     		ldr	r3, [r3, #8]
 5879 00a2 3A69     		ldr	r2, [r7, #16]
 5880 00a4 0432     		adds	r2, r2, #4
 5881 00a6 5A60     		str	r2, [r3, #4]
 5882 00a8 3B69     		ldr	r3, [r7, #16]
 5883 00aa 1A1D     		adds	r2, r3, #4
 5884 00ac FB68     		ldr	r3, [r7, #12]
 5885 00ae 9A60     		str	r2, [r3, #8]
 5886 00b0 3B69     		ldr	r3, [r7, #16]
 5887 00b2 DA6A     		ldr	r2, [r3, #44]
 5888 00b4 1346     		mov	r3, r2
 5889 00b6 9B00     		lsls	r3, r3, #2
 5890 00b8 1344     		add	r3, r3, r2
 5891 00ba 9B00     		lsls	r3, r3, #2
 5892 00bc 174A     		ldr	r2, .L359+4
 5893 00be 1A44     		add	r2, r2, r3
 5894 00c0 3B69     		ldr	r3, [r7, #16]
 5895 00c2 5A61     		str	r2, [r3, #20]
 5896 00c4 3B69     		ldr	r3, [r7, #16]
 5897 00c6 DA6A     		ldr	r2, [r3, #44]
ARM GAS  /tmp/ccF71V7c.s 			page 224


 5898 00c8 1449     		ldr	r1, .L359+4
 5899 00ca 1346     		mov	r3, r2
 5900 00cc 9B00     		lsls	r3, r3, #2
 5901 00ce 1344     		add	r3, r3, r2
 5902 00d0 9B00     		lsls	r3, r3, #2
 5903 00d2 0B44     		add	r3, r3, r1
 5904 00d4 1B68     		ldr	r3, [r3]
 5905 00d6 3A69     		ldr	r2, [r7, #16]
 5906 00d8 D26A     		ldr	r2, [r2, #44]
 5907 00da 591C     		adds	r1, r3, #1
 5908 00dc 0F48     		ldr	r0, .L359+4
 5909 00de 1346     		mov	r3, r2
 5910 00e0 9B00     		lsls	r3, r3, #2
 5911 00e2 1344     		add	r3, r3, r2
 5912 00e4 9B00     		lsls	r3, r3, #2
 5913 00e6 0344     		add	r3, r3, r0
 5914 00e8 1960     		str	r1, [r3]
 5915              	.LBE85:
 5916 00ea 04E0     		b	.L357
 5917              	.L355:
6627:Middlewares/FreeRTOS/tasks.c ****                     #if ( configNUMBER_OF_CORES > 1 )
6628:Middlewares/FreeRTOS/tasks.c ****                     {
6629:Middlewares/FreeRTOS/tasks.c ****                         /* The priority of the task is raised. Yield for this task
6630:Middlewares/FreeRTOS/tasks.c ****                          * if it is not running. */
6631:Middlewares/FreeRTOS/tasks.c ****                         if( taskTASK_IS_RUNNING( pxMutexHolderTCB ) != pdTRUE )
6632:Middlewares/FreeRTOS/tasks.c ****                         {
6633:Middlewares/FreeRTOS/tasks.c ****                             prvYieldForTask( pxMutexHolderTCB );
6634:Middlewares/FreeRTOS/tasks.c ****                         }
6635:Middlewares/FreeRTOS/tasks.c ****                     }
6636:Middlewares/FreeRTOS/tasks.c ****                     #endif /* if ( configNUMBER_OF_CORES > 1 ) */
6637:Middlewares/FreeRTOS/tasks.c ****                 }
6638:Middlewares/FreeRTOS/tasks.c ****                 else
6639:Middlewares/FreeRTOS/tasks.c ****                 {
6640:Middlewares/FreeRTOS/tasks.c ****                     /* Just inherit the priority. */
6641:Middlewares/FreeRTOS/tasks.c ****                     pxMutexHolderTCB->uxPriority = pxCurrentTCB->uxPriority;
 5918              		.loc 1 6641 64 is_stmt 1
 5919 00ec 0A4B     		ldr	r3, .L359
 5920 00ee 1B68     		ldr	r3, [r3]
 5921 00f0 DA6A     		ldr	r2, [r3, #44]
 5922              		.loc 1 6641 50
 5923 00f2 3B69     		ldr	r3, [r7, #16]
 5924 00f4 DA62     		str	r2, [r3, #44]
 5925              	.L357:
6642:Middlewares/FreeRTOS/tasks.c ****                 }
6643:Middlewares/FreeRTOS/tasks.c **** 
6644:Middlewares/FreeRTOS/tasks.c ****                 traceTASK_PRIORITY_INHERIT( pxMutexHolderTCB, pxCurrentTCB->uxPriority );
6645:Middlewares/FreeRTOS/tasks.c **** 
6646:Middlewares/FreeRTOS/tasks.c ****                 /* Inheritance occurred. */
6647:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pdTRUE;
 5926              		.loc 1 6647 25
 5927 00f6 0123     		movs	r3, #1
 5928 00f8 7B61     		str	r3, [r7, #20]
 5929 00fa 08E0     		b	.L352
 5930              	.L353:
6648:Middlewares/FreeRTOS/tasks.c ****             }
6649:Middlewares/FreeRTOS/tasks.c ****             else
6650:Middlewares/FreeRTOS/tasks.c ****             {
ARM GAS  /tmp/ccF71V7c.s 			page 225


6651:Middlewares/FreeRTOS/tasks.c ****                 if( pxMutexHolderTCB->uxBasePriority < pxCurrentTCB->uxPriority )
 5931              		.loc 1 6651 37
 5932 00fc 3B69     		ldr	r3, [r7, #16]
 5933 00fe DA6C     		ldr	r2, [r3, #76]
 5934              		.loc 1 6651 68
 5935 0100 054B     		ldr	r3, .L359
 5936 0102 1B68     		ldr	r3, [r3]
 5937 0104 DB6A     		ldr	r3, [r3, #44]
 5938              		.loc 1 6651 19
 5939 0106 9A42     		cmp	r2, r3
 5940 0108 01D2     		bcs	.L352
6652:Middlewares/FreeRTOS/tasks.c ****                 {
6653:Middlewares/FreeRTOS/tasks.c ****                     /* The base priority of the mutex holder is lower than the
6654:Middlewares/FreeRTOS/tasks.c ****                      * priority of the task attempting to take the mutex, but the
6655:Middlewares/FreeRTOS/tasks.c ****                      * current priority of the mutex holder is not lower than the
6656:Middlewares/FreeRTOS/tasks.c ****                      * priority of the task attempting to take the mutex.
6657:Middlewares/FreeRTOS/tasks.c ****                      * Therefore the mutex holder must have already inherited a
6658:Middlewares/FreeRTOS/tasks.c ****                      * priority, but inheritance would have occurred if that had
6659:Middlewares/FreeRTOS/tasks.c ****                      * not been the case. */
6660:Middlewares/FreeRTOS/tasks.c ****                     xReturn = pdTRUE;
 5941              		.loc 1 6660 29
 5942 010a 0123     		movs	r3, #1
 5943 010c 7B61     		str	r3, [r7, #20]
 5944              	.L352:
6661:Middlewares/FreeRTOS/tasks.c ****                 }
6662:Middlewares/FreeRTOS/tasks.c ****                 else
6663:Middlewares/FreeRTOS/tasks.c ****                 {
6664:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
6665:Middlewares/FreeRTOS/tasks.c ****                 }
6666:Middlewares/FreeRTOS/tasks.c ****             }
6667:Middlewares/FreeRTOS/tasks.c ****         }
6668:Middlewares/FreeRTOS/tasks.c ****         else
6669:Middlewares/FreeRTOS/tasks.c ****         {
6670:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
6671:Middlewares/FreeRTOS/tasks.c ****         }
6672:Middlewares/FreeRTOS/tasks.c **** 
6673:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskPriorityInherit( xReturn );
6674:Middlewares/FreeRTOS/tasks.c **** 
6675:Middlewares/FreeRTOS/tasks.c ****         return xReturn;
 5945              		.loc 1 6675 16
 5946 010e 7B69     		ldr	r3, [r7, #20]
6676:Middlewares/FreeRTOS/tasks.c ****     }
 5947              		.loc 1 6676 5
 5948 0110 1846     		mov	r0, r3
 5949 0112 1837     		adds	r7, r7, #24
 5950              		.cfi_def_cfa_offset 8
 5951 0114 BD46     		mov	sp, r7
 5952              		.cfi_def_cfa_register 13
 5953              		@ sp needed
 5954 0116 80BD     		pop	{r7, pc}
 5955              	.L360:
 5956              		.align	2
 5957              	.L359:
 5958 0118 00000000 		.word	pxCurrentTCB
 5959 011c 00000000 		.word	pxReadyTasksLists
 5960 0120 00000000 		.word	uxTopReadyPriority
 5961              		.cfi_endproc
ARM GAS  /tmp/ccF71V7c.s 			page 226


 5962              	.LFE57:
 5964              		.section	.text.xTaskPriorityDisinherit,"ax",%progbits
 5965              		.align	1
 5966              		.global	xTaskPriorityDisinherit
 5967              		.syntax unified
 5968              		.thumb
 5969              		.thumb_func
 5971              	xTaskPriorityDisinherit:
 5972              	.LFB58:
6677:Middlewares/FreeRTOS/tasks.c **** 
6678:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_MUTEXES */
6679:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
6680:Middlewares/FreeRTOS/tasks.c **** 
6681:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_MUTEXES == 1 )
6682:Middlewares/FreeRTOS/tasks.c **** 
6683:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xTaskPriorityDisinherit( TaskHandle_t const pxMutexHolder )
6684:Middlewares/FreeRTOS/tasks.c ****     {
 5973              		.loc 1 6684 5
 5974              		.cfi_startproc
 5975              		@ args = 0, pretend = 0, frame = 24
 5976              		@ frame_needed = 1, uses_anonymous_args = 0
 5977 0000 80B5     		push	{r7, lr}
 5978              		.cfi_def_cfa_offset 8
 5979              		.cfi_offset 7, -8
 5980              		.cfi_offset 14, -4
 5981 0002 86B0     		sub	sp, sp, #24
 5982              		.cfi_def_cfa_offset 32
 5983 0004 00AF     		add	r7, sp, #0
 5984              		.cfi_def_cfa_register 7
 5985 0006 7860     		str	r0, [r7, #4]
6685:Middlewares/FreeRTOS/tasks.c ****         TCB_t * const pxTCB = pxMutexHolder;
 5986              		.loc 1 6685 23
 5987 0008 7B68     		ldr	r3, [r7, #4]
 5988 000a 3B61     		str	r3, [r7, #16]
6686:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xReturn = pdFALSE;
 5989              		.loc 1 6686 20
 5990 000c 0023     		movs	r3, #0
 5991 000e 7B61     		str	r3, [r7, #20]
6687:Middlewares/FreeRTOS/tasks.c **** 
6688:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskPriorityDisinherit( pxMutexHolder );
6689:Middlewares/FreeRTOS/tasks.c **** 
6690:Middlewares/FreeRTOS/tasks.c ****         if( pxMutexHolder != NULL )
 5992              		.loc 1 6690 11
 5993 0010 7B68     		ldr	r3, [r7, #4]
 5994 0012 002B     		cmp	r3, #0
 5995 0014 61D0     		beq	.L362
6691:Middlewares/FreeRTOS/tasks.c ****         {
6692:Middlewares/FreeRTOS/tasks.c ****             /* A task can only have an inherited priority if it holds the mutex.
6693:Middlewares/FreeRTOS/tasks.c ****              * If the mutex is held by a task then it cannot be given from an
6694:Middlewares/FreeRTOS/tasks.c ****              * interrupt, and if a mutex is given by the holding task then it must
6695:Middlewares/FreeRTOS/tasks.c ****              * be the running state task. */
6696:Middlewares/FreeRTOS/tasks.c ****             configASSERT( pxTCB == pxCurrentTCB );
6697:Middlewares/FreeRTOS/tasks.c ****             configASSERT( pxTCB->uxMutexesHeld );
6698:Middlewares/FreeRTOS/tasks.c ****             ( pxTCB->uxMutexesHeld )--;
 5996              		.loc 1 6698 20
 5997 0016 3B69     		ldr	r3, [r7, #16]
 5998 0018 1B6D     		ldr	r3, [r3, #80]
ARM GAS  /tmp/ccF71V7c.s 			page 227


 5999              		.loc 1 6698 37
 6000 001a 5A1E     		subs	r2, r3, #1
 6001 001c 3B69     		ldr	r3, [r7, #16]
 6002 001e 1A65     		str	r2, [r3, #80]
6699:Middlewares/FreeRTOS/tasks.c **** 
6700:Middlewares/FreeRTOS/tasks.c ****             /* Has the holder of the mutex inherited the priority of another
6701:Middlewares/FreeRTOS/tasks.c ****              * task? */
6702:Middlewares/FreeRTOS/tasks.c ****             if( pxTCB->uxPriority != pxTCB->uxBasePriority )
 6003              		.loc 1 6702 22
 6004 0020 3B69     		ldr	r3, [r7, #16]
 6005 0022 DA6A     		ldr	r2, [r3, #44]
 6006              		.loc 1 6702 43
 6007 0024 3B69     		ldr	r3, [r7, #16]
 6008 0026 DB6C     		ldr	r3, [r3, #76]
 6009              		.loc 1 6702 15
 6010 0028 9A42     		cmp	r2, r3
 6011 002a 56D0     		beq	.L362
6703:Middlewares/FreeRTOS/tasks.c ****             {
6704:Middlewares/FreeRTOS/tasks.c ****                 /* Only disinherit if no other mutexes are held. */
6705:Middlewares/FreeRTOS/tasks.c ****                 if( pxTCB->uxMutexesHeld == ( UBaseType_t ) 0 )
 6012              		.loc 1 6705 26
 6013 002c 3B69     		ldr	r3, [r7, #16]
 6014 002e 1B6D     		ldr	r3, [r3, #80]
 6015              		.loc 1 6705 19
 6016 0030 002B     		cmp	r3, #0
 6017 0032 52D1     		bne	.L362
6706:Middlewares/FreeRTOS/tasks.c ****                 {
6707:Middlewares/FreeRTOS/tasks.c ****                     /* A task can only have an inherited priority if it holds
6708:Middlewares/FreeRTOS/tasks.c ****                      * the mutex.  If the mutex is held by a task then it cannot be
6709:Middlewares/FreeRTOS/tasks.c ****                      * given from an interrupt, and if a mutex is given by the
6710:Middlewares/FreeRTOS/tasks.c ****                      * holding task then it must be the running state task.  Remove
6711:Middlewares/FreeRTOS/tasks.c ****                      * the holding task from the ready list. */
6712:Middlewares/FreeRTOS/tasks.c ****                     if( uxListRemove( &( pxTCB->xStateListItem ) ) == ( UBaseType_t ) 0 )
 6018              		.loc 1 6712 25
 6019 0034 3B69     		ldr	r3, [r7, #16]
 6020 0036 0433     		adds	r3, r3, #4
 6021 0038 1846     		mov	r0, r3
 6022 003a FFF7FEFF 		bl	uxListRemove
6713:Middlewares/FreeRTOS/tasks.c ****                     {
6714:Middlewares/FreeRTOS/tasks.c ****                         portRESET_READY_PRIORITY( pxTCB->uxPriority, uxTopReadyPriority );
6715:Middlewares/FreeRTOS/tasks.c ****                     }
6716:Middlewares/FreeRTOS/tasks.c ****                     else
6717:Middlewares/FreeRTOS/tasks.c ****                     {
6718:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
6719:Middlewares/FreeRTOS/tasks.c ****                     }
6720:Middlewares/FreeRTOS/tasks.c **** 
6721:Middlewares/FreeRTOS/tasks.c ****                     /* Disinherit the priority before adding the task into the
6722:Middlewares/FreeRTOS/tasks.c ****                      * new  ready list. */
6723:Middlewares/FreeRTOS/tasks.c ****                     traceTASK_PRIORITY_DISINHERIT( pxTCB, pxTCB->uxBasePriority );
6724:Middlewares/FreeRTOS/tasks.c ****                     pxTCB->uxPriority = pxTCB->uxBasePriority;
 6023              		.loc 1 6724 46
 6024 003e 3B69     		ldr	r3, [r7, #16]
 6025 0040 DA6C     		ldr	r2, [r3, #76]
 6026              		.loc 1 6724 39
 6027 0042 3B69     		ldr	r3, [r7, #16]
 6028 0044 DA62     		str	r2, [r3, #44]
6725:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 228


6726:Middlewares/FreeRTOS/tasks.c ****                     /* Reset the event list item value.  It cannot be in use for
6727:Middlewares/FreeRTOS/tasks.c ****                      * any other purpose if this task is running, and it must be
6728:Middlewares/FreeRTOS/tasks.c ****                      * running to give back the mutex. */
6729:Middlewares/FreeRTOS/tasks.c ****                     listSET_LIST_ITEM_VALUE( &( pxTCB->xEventListItem ), ( TickType_t ) configMAX_P
 6029              		.loc 1 6729 21
 6030 0046 3B69     		ldr	r3, [r7, #16]
 6031 0048 DB6A     		ldr	r3, [r3, #44]
 6032 004a C3F10502 		rsb	r2, r3, #5
 6033 004e 3B69     		ldr	r3, [r7, #16]
 6034 0050 9A61     		str	r2, [r3, #24]
6730:Middlewares/FreeRTOS/tasks.c ****                     prvAddTaskToReadyList( pxTCB );
 6035              		.loc 1 6730 21
 6036 0052 3B69     		ldr	r3, [r7, #16]
 6037 0054 DA6A     		ldr	r2, [r3, #44]
 6038 0056 234B     		ldr	r3, .L365
 6039 0058 1B68     		ldr	r3, [r3]
 6040 005a 9A42     		cmp	r2, r3
 6041 005c 03D9     		bls	.L363
 6042              		.loc 1 6730 21 is_stmt 0 discriminator 1
 6043 005e 3B69     		ldr	r3, [r7, #16]
 6044 0060 DB6A     		ldr	r3, [r3, #44]
 6045 0062 204A     		ldr	r2, .L365
 6046 0064 1360     		str	r3, [r2]
 6047              	.L363:
 6048              	.LBB86:
 6049              		.loc 1 6730 21 discriminator 3
 6050 0066 3B69     		ldr	r3, [r7, #16]
 6051 0068 DA6A     		ldr	r2, [r3, #44]
 6052 006a 1F49     		ldr	r1, .L365+4
 6053 006c 1346     		mov	r3, r2
 6054 006e 9B00     		lsls	r3, r3, #2
 6055 0070 1344     		add	r3, r3, r2
 6056 0072 9B00     		lsls	r3, r3, #2
 6057 0074 0B44     		add	r3, r3, r1
 6058 0076 0433     		adds	r3, r3, #4
 6059 0078 1B68     		ldr	r3, [r3]
 6060 007a FB60     		str	r3, [r7, #12]
 6061 007c 3B69     		ldr	r3, [r7, #16]
 6062 007e FA68     		ldr	r2, [r7, #12]
 6063 0080 9A60     		str	r2, [r3, #8]
 6064 0082 FB68     		ldr	r3, [r7, #12]
 6065 0084 9A68     		ldr	r2, [r3, #8]
 6066 0086 3B69     		ldr	r3, [r7, #16]
 6067 0088 DA60     		str	r2, [r3, #12]
 6068 008a FB68     		ldr	r3, [r7, #12]
 6069 008c 9B68     		ldr	r3, [r3, #8]
 6070 008e 3A69     		ldr	r2, [r7, #16]
 6071 0090 0432     		adds	r2, r2, #4
 6072 0092 5A60     		str	r2, [r3, #4]
 6073 0094 3B69     		ldr	r3, [r7, #16]
 6074 0096 1A1D     		adds	r2, r3, #4
 6075 0098 FB68     		ldr	r3, [r7, #12]
 6076 009a 9A60     		str	r2, [r3, #8]
 6077 009c 3B69     		ldr	r3, [r7, #16]
 6078 009e DA6A     		ldr	r2, [r3, #44]
 6079 00a0 1346     		mov	r3, r2
 6080 00a2 9B00     		lsls	r3, r3, #2
ARM GAS  /tmp/ccF71V7c.s 			page 229


 6081 00a4 1344     		add	r3, r3, r2
 6082 00a6 9B00     		lsls	r3, r3, #2
 6083 00a8 0F4A     		ldr	r2, .L365+4
 6084 00aa 1A44     		add	r2, r2, r3
 6085 00ac 3B69     		ldr	r3, [r7, #16]
 6086 00ae 5A61     		str	r2, [r3, #20]
 6087 00b0 3B69     		ldr	r3, [r7, #16]
 6088 00b2 DA6A     		ldr	r2, [r3, #44]
 6089 00b4 0C49     		ldr	r1, .L365+4
 6090 00b6 1346     		mov	r3, r2
 6091 00b8 9B00     		lsls	r3, r3, #2
 6092 00ba 1344     		add	r3, r3, r2
 6093 00bc 9B00     		lsls	r3, r3, #2
 6094 00be 0B44     		add	r3, r3, r1
 6095 00c0 1B68     		ldr	r3, [r3]
 6096 00c2 3A69     		ldr	r2, [r7, #16]
 6097 00c4 D26A     		ldr	r2, [r2, #44]
 6098 00c6 591C     		adds	r1, r3, #1
 6099 00c8 0748     		ldr	r0, .L365+4
 6100 00ca 1346     		mov	r3, r2
 6101 00cc 9B00     		lsls	r3, r3, #2
 6102 00ce 1344     		add	r3, r3, r2
 6103 00d0 9B00     		lsls	r3, r3, #2
 6104 00d2 0344     		add	r3, r3, r0
 6105 00d4 1960     		str	r1, [r3]
 6106              	.LBE86:
6731:Middlewares/FreeRTOS/tasks.c ****                     #if ( configNUMBER_OF_CORES > 1 )
6732:Middlewares/FreeRTOS/tasks.c ****                     {
6733:Middlewares/FreeRTOS/tasks.c ****                         /* The priority of the task is dropped. Yield the core on
6734:Middlewares/FreeRTOS/tasks.c ****                          * which the task is running. */
6735:Middlewares/FreeRTOS/tasks.c ****                         if( taskTASK_IS_RUNNING( pxTCB ) == pdTRUE )
6736:Middlewares/FreeRTOS/tasks.c ****                         {
6737:Middlewares/FreeRTOS/tasks.c ****                             prvYieldCore( pxTCB->xTaskRunState );
6738:Middlewares/FreeRTOS/tasks.c ****                         }
6739:Middlewares/FreeRTOS/tasks.c ****                     }
6740:Middlewares/FreeRTOS/tasks.c ****                     #endif /* if ( configNUMBER_OF_CORES > 1 ) */
6741:Middlewares/FreeRTOS/tasks.c **** 
6742:Middlewares/FreeRTOS/tasks.c ****                     /* Return true to indicate that a context switch is required.
6743:Middlewares/FreeRTOS/tasks.c ****                      * This is only actually required in the corner case whereby
6744:Middlewares/FreeRTOS/tasks.c ****                      * multiple mutexes were held and the mutexes were given back
6745:Middlewares/FreeRTOS/tasks.c ****                      * in an order different to that in which they were taken.
6746:Middlewares/FreeRTOS/tasks.c ****                      * If a context switch did not occur when the first mutex was
6747:Middlewares/FreeRTOS/tasks.c ****                      * returned, even if a task was waiting on it, then a context
6748:Middlewares/FreeRTOS/tasks.c ****                      * switch should occur when the last mutex is returned whether
6749:Middlewares/FreeRTOS/tasks.c ****                      * a task is waiting on it or not. */
6750:Middlewares/FreeRTOS/tasks.c ****                     xReturn = pdTRUE;
 6107              		.loc 1 6750 29 is_stmt 1
 6108 00d6 0123     		movs	r3, #1
 6109 00d8 7B61     		str	r3, [r7, #20]
 6110              	.L362:
6751:Middlewares/FreeRTOS/tasks.c ****                 }
6752:Middlewares/FreeRTOS/tasks.c ****                 else
6753:Middlewares/FreeRTOS/tasks.c ****                 {
6754:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
6755:Middlewares/FreeRTOS/tasks.c ****                 }
6756:Middlewares/FreeRTOS/tasks.c ****             }
6757:Middlewares/FreeRTOS/tasks.c ****             else
ARM GAS  /tmp/ccF71V7c.s 			page 230


6758:Middlewares/FreeRTOS/tasks.c ****             {
6759:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
6760:Middlewares/FreeRTOS/tasks.c ****             }
6761:Middlewares/FreeRTOS/tasks.c ****         }
6762:Middlewares/FreeRTOS/tasks.c ****         else
6763:Middlewares/FreeRTOS/tasks.c ****         {
6764:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
6765:Middlewares/FreeRTOS/tasks.c ****         }
6766:Middlewares/FreeRTOS/tasks.c **** 
6767:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskPriorityDisinherit( xReturn );
6768:Middlewares/FreeRTOS/tasks.c **** 
6769:Middlewares/FreeRTOS/tasks.c ****         return xReturn;
 6111              		.loc 1 6769 16
 6112 00da 7B69     		ldr	r3, [r7, #20]
6770:Middlewares/FreeRTOS/tasks.c ****     }
 6113              		.loc 1 6770 5
 6114 00dc 1846     		mov	r0, r3
 6115 00de 1837     		adds	r7, r7, #24
 6116              		.cfi_def_cfa_offset 8
 6117 00e0 BD46     		mov	sp, r7
 6118              		.cfi_def_cfa_register 13
 6119              		@ sp needed
 6120 00e2 80BD     		pop	{r7, pc}
 6121              	.L366:
 6122              		.align	2
 6123              	.L365:
 6124 00e4 00000000 		.word	uxTopReadyPriority
 6125 00e8 00000000 		.word	pxReadyTasksLists
 6126              		.cfi_endproc
 6127              	.LFE58:
 6129              		.section	.text.vTaskPriorityDisinheritAfterTimeout,"ax",%progbits
 6130              		.align	1
 6131              		.global	vTaskPriorityDisinheritAfterTimeout
 6132              		.syntax unified
 6133              		.thumb
 6134              		.thumb_func
 6136              	vTaskPriorityDisinheritAfterTimeout:
 6137              	.LFB59:
6771:Middlewares/FreeRTOS/tasks.c **** 
6772:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_MUTEXES */
6773:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
6774:Middlewares/FreeRTOS/tasks.c **** 
6775:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_MUTEXES == 1 )
6776:Middlewares/FreeRTOS/tasks.c **** 
6777:Middlewares/FreeRTOS/tasks.c ****     void vTaskPriorityDisinheritAfterTimeout( TaskHandle_t const pxMutexHolder,
6778:Middlewares/FreeRTOS/tasks.c ****                                               UBaseType_t uxHighestPriorityWaitingTask )
6779:Middlewares/FreeRTOS/tasks.c ****     {
 6138              		.loc 1 6779 5
 6139              		.cfi_startproc
 6140              		@ args = 0, pretend = 0, frame = 32
 6141              		@ frame_needed = 1, uses_anonymous_args = 0
 6142 0000 80B5     		push	{r7, lr}
 6143              		.cfi_def_cfa_offset 8
 6144              		.cfi_offset 7, -8
 6145              		.cfi_offset 14, -4
 6146 0002 88B0     		sub	sp, sp, #32
 6147              		.cfi_def_cfa_offset 40
ARM GAS  /tmp/ccF71V7c.s 			page 231


 6148 0004 00AF     		add	r7, sp, #0
 6149              		.cfi_def_cfa_register 7
 6150 0006 7860     		str	r0, [r7, #4]
 6151 0008 3960     		str	r1, [r7]
6780:Middlewares/FreeRTOS/tasks.c ****         TCB_t * const pxTCB = pxMutexHolder;
 6152              		.loc 1 6780 23
 6153 000a 7B68     		ldr	r3, [r7, #4]
 6154 000c BB61     		str	r3, [r7, #24]
6781:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxPriorityUsedOnEntry, uxPriorityToUse;
6782:Middlewares/FreeRTOS/tasks.c ****         const UBaseType_t uxOnlyOneMutexHeld = ( UBaseType_t ) 1;
 6155              		.loc 1 6782 27
 6156 000e 0123     		movs	r3, #1
 6157 0010 7B61     		str	r3, [r7, #20]
6783:Middlewares/FreeRTOS/tasks.c **** 
6784:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskPriorityDisinheritAfterTimeout( pxMutexHolder, uxHighestPriorityWaitingTask
6785:Middlewares/FreeRTOS/tasks.c **** 
6786:Middlewares/FreeRTOS/tasks.c ****         if( pxMutexHolder != NULL )
 6158              		.loc 1 6786 11
 6159 0012 7B68     		ldr	r3, [r7, #4]
 6160 0014 002B     		cmp	r3, #0
 6161 0016 75D0     		beq	.L373
6787:Middlewares/FreeRTOS/tasks.c ****         {
6788:Middlewares/FreeRTOS/tasks.c ****             /* If pxMutexHolder is not NULL then the holder must hold at least
6789:Middlewares/FreeRTOS/tasks.c ****              * one mutex. */
6790:Middlewares/FreeRTOS/tasks.c ****             configASSERT( pxTCB->uxMutexesHeld );
6791:Middlewares/FreeRTOS/tasks.c **** 
6792:Middlewares/FreeRTOS/tasks.c ****             /* Determine the priority to which the priority of the task that
6793:Middlewares/FreeRTOS/tasks.c ****              * holds the mutex should be set.  This will be the greater of the
6794:Middlewares/FreeRTOS/tasks.c ****              * holding task's base priority and the priority of the highest
6795:Middlewares/FreeRTOS/tasks.c ****              * priority task that is waiting to obtain the mutex. */
6796:Middlewares/FreeRTOS/tasks.c ****             if( pxTCB->uxBasePriority < uxHighestPriorityWaitingTask )
 6162              		.loc 1 6796 22
 6163 0018 BB69     		ldr	r3, [r7, #24]
 6164 001a DB6C     		ldr	r3, [r3, #76]
 6165              		.loc 1 6796 15
 6166 001c 3A68     		ldr	r2, [r7]
 6167 001e 9A42     		cmp	r2, r3
 6168 0020 02D9     		bls	.L369
6797:Middlewares/FreeRTOS/tasks.c ****             {
6798:Middlewares/FreeRTOS/tasks.c ****                 uxPriorityToUse = uxHighestPriorityWaitingTask;
 6169              		.loc 1 6798 33
 6170 0022 3B68     		ldr	r3, [r7]
 6171 0024 FB61     		str	r3, [r7, #28]
 6172 0026 02E0     		b	.L370
 6173              	.L369:
6799:Middlewares/FreeRTOS/tasks.c ****             }
6800:Middlewares/FreeRTOS/tasks.c ****             else
6801:Middlewares/FreeRTOS/tasks.c ****             {
6802:Middlewares/FreeRTOS/tasks.c ****                 uxPriorityToUse = pxTCB->uxBasePriority;
 6174              		.loc 1 6802 33
 6175 0028 BB69     		ldr	r3, [r7, #24]
 6176 002a DB6C     		ldr	r3, [r3, #76]
 6177 002c FB61     		str	r3, [r7, #28]
 6178              	.L370:
6803:Middlewares/FreeRTOS/tasks.c ****             }
6804:Middlewares/FreeRTOS/tasks.c **** 
6805:Middlewares/FreeRTOS/tasks.c ****             /* Does the priority need to change? */
ARM GAS  /tmp/ccF71V7c.s 			page 232


6806:Middlewares/FreeRTOS/tasks.c ****             if( pxTCB->uxPriority != uxPriorityToUse )
 6179              		.loc 1 6806 22
 6180 002e BB69     		ldr	r3, [r7, #24]
 6181 0030 DB6A     		ldr	r3, [r3, #44]
 6182              		.loc 1 6806 15
 6183 0032 FA69     		ldr	r2, [r7, #28]
 6184 0034 9A42     		cmp	r2, r3
 6185 0036 65D0     		beq	.L373
6807:Middlewares/FreeRTOS/tasks.c ****             {
6808:Middlewares/FreeRTOS/tasks.c ****                 /* Only disinherit if no other mutexes are held.  This is a
6809:Middlewares/FreeRTOS/tasks.c ****                  * simplification in the priority inheritance implementation.  If
6810:Middlewares/FreeRTOS/tasks.c ****                  * the task that holds the mutex is also holding other mutexes then
6811:Middlewares/FreeRTOS/tasks.c ****                  * the other mutexes may have caused the priority inheritance. */
6812:Middlewares/FreeRTOS/tasks.c ****                 if( pxTCB->uxMutexesHeld == uxOnlyOneMutexHeld )
 6186              		.loc 1 6812 26
 6187 0038 BB69     		ldr	r3, [r7, #24]
 6188 003a 1B6D     		ldr	r3, [r3, #80]
 6189              		.loc 1 6812 19
 6190 003c 7A69     		ldr	r2, [r7, #20]
 6191 003e 9A42     		cmp	r2, r3
 6192 0040 60D1     		bne	.L373
6813:Middlewares/FreeRTOS/tasks.c ****                 {
6814:Middlewares/FreeRTOS/tasks.c ****                     /* If a task has timed out because it already holds the
6815:Middlewares/FreeRTOS/tasks.c ****                      * mutex it was trying to obtain then it cannot of inherited
6816:Middlewares/FreeRTOS/tasks.c ****                      * its own priority. */
6817:Middlewares/FreeRTOS/tasks.c ****                     configASSERT( pxTCB != pxCurrentTCB );
6818:Middlewares/FreeRTOS/tasks.c **** 
6819:Middlewares/FreeRTOS/tasks.c ****                     /* Disinherit the priority, remembering the previous
6820:Middlewares/FreeRTOS/tasks.c ****                      * priority to facilitate determining the subject task's
6821:Middlewares/FreeRTOS/tasks.c ****                      * state. */
6822:Middlewares/FreeRTOS/tasks.c ****                     traceTASK_PRIORITY_DISINHERIT( pxTCB, uxPriorityToUse );
6823:Middlewares/FreeRTOS/tasks.c ****                     uxPriorityUsedOnEntry = pxTCB->uxPriority;
 6193              		.loc 1 6823 43
 6194 0042 BB69     		ldr	r3, [r7, #24]
 6195 0044 DB6A     		ldr	r3, [r3, #44]
 6196 0046 3B61     		str	r3, [r7, #16]
6824:Middlewares/FreeRTOS/tasks.c ****                     pxTCB->uxPriority = uxPriorityToUse;
 6197              		.loc 1 6824 39
 6198 0048 BB69     		ldr	r3, [r7, #24]
 6199 004a FA69     		ldr	r2, [r7, #28]
 6200 004c DA62     		str	r2, [r3, #44]
6825:Middlewares/FreeRTOS/tasks.c **** 
6826:Middlewares/FreeRTOS/tasks.c ****                     /* Only reset the event list item value if the value is not
6827:Middlewares/FreeRTOS/tasks.c ****                      * being used for anything else. */
6828:Middlewares/FreeRTOS/tasks.c ****                     if( ( listGET_LIST_ITEM_VALUE( &( pxTCB->xEventListItem ) ) & taskEVENT_LIST_IT
 6201              		.loc 1 6828 27
 6202 004e BB69     		ldr	r3, [r7, #24]
 6203 0050 9B69     		ldr	r3, [r3, #24]
 6204              		.loc 1 6828 23
 6205 0052 002B     		cmp	r3, #0
 6206 0054 04DB     		blt	.L371
6829:Middlewares/FreeRTOS/tasks.c ****                     {
6830:Middlewares/FreeRTOS/tasks.c ****                         listSET_LIST_ITEM_VALUE( &( pxTCB->xEventListItem ), ( TickType_t ) configM
 6207              		.loc 1 6830 25
 6208 0056 FB69     		ldr	r3, [r7, #28]
 6209 0058 C3F10502 		rsb	r2, r3, #5
 6210 005c BB69     		ldr	r3, [r7, #24]
ARM GAS  /tmp/ccF71V7c.s 			page 233


 6211 005e 9A61     		str	r2, [r3, #24]
 6212              	.L371:
6831:Middlewares/FreeRTOS/tasks.c ****                     }
6832:Middlewares/FreeRTOS/tasks.c ****                     else
6833:Middlewares/FreeRTOS/tasks.c ****                     {
6834:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
6835:Middlewares/FreeRTOS/tasks.c ****                     }
6836:Middlewares/FreeRTOS/tasks.c **** 
6837:Middlewares/FreeRTOS/tasks.c ****                     /* If the running task is not the task that holds the mutex
6838:Middlewares/FreeRTOS/tasks.c ****                      * then the task that holds the mutex could be in either the
6839:Middlewares/FreeRTOS/tasks.c ****                      * Ready, Blocked or Suspended states.  Only remove the task
6840:Middlewares/FreeRTOS/tasks.c ****                      * from its current state list if it is in the Ready state as
6841:Middlewares/FreeRTOS/tasks.c ****                      * the task's priority is going to change and there is one
6842:Middlewares/FreeRTOS/tasks.c ****                      * Ready list per priority. */
6843:Middlewares/FreeRTOS/tasks.c ****                     if( listIS_CONTAINED_WITHIN( &( pxReadyTasksLists[ uxPriorityUsedOnEntry ] ), &
 6213              		.loc 1 6843 25
 6214 0060 BB69     		ldr	r3, [r7, #24]
 6215 0062 5969     		ldr	r1, [r3, #20]
 6216 0064 3A69     		ldr	r2, [r7, #16]
 6217 0066 1346     		mov	r3, r2
 6218 0068 9B00     		lsls	r3, r3, #2
 6219 006a 1344     		add	r3, r3, r2
 6220 006c 9B00     		lsls	r3, r3, #2
 6221 006e 274A     		ldr	r2, .L374
 6222 0070 1344     		add	r3, r3, r2
 6223              		.loc 1 6843 23
 6224 0072 9942     		cmp	r1, r3
 6225 0074 46D1     		bne	.L373
6844:Middlewares/FreeRTOS/tasks.c ****                     {
6845:Middlewares/FreeRTOS/tasks.c ****                         if( uxListRemove( &( pxTCB->xStateListItem ) ) == ( UBaseType_t ) 0 )
 6226              		.loc 1 6845 29
 6227 0076 BB69     		ldr	r3, [r7, #24]
 6228 0078 0433     		adds	r3, r3, #4
 6229 007a 1846     		mov	r0, r3
 6230 007c FFF7FEFF 		bl	uxListRemove
6846:Middlewares/FreeRTOS/tasks.c ****                         {
6847:Middlewares/FreeRTOS/tasks.c ****                             /* It is known that the task is in its ready list so
6848:Middlewares/FreeRTOS/tasks.c ****                              * there is no need to check again and the port level
6849:Middlewares/FreeRTOS/tasks.c ****                              * reset macro can be called directly. */
6850:Middlewares/FreeRTOS/tasks.c ****                             portRESET_READY_PRIORITY( pxTCB->uxPriority, uxTopReadyPriority );
6851:Middlewares/FreeRTOS/tasks.c ****                         }
6852:Middlewares/FreeRTOS/tasks.c ****                         else
6853:Middlewares/FreeRTOS/tasks.c ****                         {
6854:Middlewares/FreeRTOS/tasks.c ****                             mtCOVERAGE_TEST_MARKER();
6855:Middlewares/FreeRTOS/tasks.c ****                         }
6856:Middlewares/FreeRTOS/tasks.c **** 
6857:Middlewares/FreeRTOS/tasks.c ****                         prvAddTaskToReadyList( pxTCB );
 6231              		.loc 1 6857 25
 6232 0080 BB69     		ldr	r3, [r7, #24]
 6233 0082 DA6A     		ldr	r2, [r3, #44]
 6234 0084 224B     		ldr	r3, .L374+4
 6235 0086 1B68     		ldr	r3, [r3]
 6236 0088 9A42     		cmp	r2, r3
 6237 008a 03D9     		bls	.L372
 6238              		.loc 1 6857 25 is_stmt 0 discriminator 1
 6239 008c BB69     		ldr	r3, [r7, #24]
 6240 008e DB6A     		ldr	r3, [r3, #44]
ARM GAS  /tmp/ccF71V7c.s 			page 234


 6241 0090 1F4A     		ldr	r2, .L374+4
 6242 0092 1360     		str	r3, [r2]
 6243              	.L372:
 6244              	.LBB87:
 6245              		.loc 1 6857 25 discriminator 3
 6246 0094 BB69     		ldr	r3, [r7, #24]
 6247 0096 DA6A     		ldr	r2, [r3, #44]
 6248 0098 1C49     		ldr	r1, .L374
 6249 009a 1346     		mov	r3, r2
 6250 009c 9B00     		lsls	r3, r3, #2
 6251 009e 1344     		add	r3, r3, r2
 6252 00a0 9B00     		lsls	r3, r3, #2
 6253 00a2 0B44     		add	r3, r3, r1
 6254 00a4 0433     		adds	r3, r3, #4
 6255 00a6 1B68     		ldr	r3, [r3]
 6256 00a8 FB60     		str	r3, [r7, #12]
 6257 00aa BB69     		ldr	r3, [r7, #24]
 6258 00ac FA68     		ldr	r2, [r7, #12]
 6259 00ae 9A60     		str	r2, [r3, #8]
 6260 00b0 FB68     		ldr	r3, [r7, #12]
 6261 00b2 9A68     		ldr	r2, [r3, #8]
 6262 00b4 BB69     		ldr	r3, [r7, #24]
 6263 00b6 DA60     		str	r2, [r3, #12]
 6264 00b8 FB68     		ldr	r3, [r7, #12]
 6265 00ba 9B68     		ldr	r3, [r3, #8]
 6266 00bc BA69     		ldr	r2, [r7, #24]
 6267 00be 0432     		adds	r2, r2, #4
 6268 00c0 5A60     		str	r2, [r3, #4]
 6269 00c2 BB69     		ldr	r3, [r7, #24]
 6270 00c4 1A1D     		adds	r2, r3, #4
 6271 00c6 FB68     		ldr	r3, [r7, #12]
 6272 00c8 9A60     		str	r2, [r3, #8]
 6273 00ca BB69     		ldr	r3, [r7, #24]
 6274 00cc DA6A     		ldr	r2, [r3, #44]
 6275 00ce 1346     		mov	r3, r2
 6276 00d0 9B00     		lsls	r3, r3, #2
 6277 00d2 1344     		add	r3, r3, r2
 6278 00d4 9B00     		lsls	r3, r3, #2
 6279 00d6 0D4A     		ldr	r2, .L374
 6280 00d8 1A44     		add	r2, r2, r3
 6281 00da BB69     		ldr	r3, [r7, #24]
 6282 00dc 5A61     		str	r2, [r3, #20]
 6283 00de BB69     		ldr	r3, [r7, #24]
 6284 00e0 DA6A     		ldr	r2, [r3, #44]
 6285 00e2 0A49     		ldr	r1, .L374
 6286 00e4 1346     		mov	r3, r2
 6287 00e6 9B00     		lsls	r3, r3, #2
 6288 00e8 1344     		add	r3, r3, r2
 6289 00ea 9B00     		lsls	r3, r3, #2
 6290 00ec 0B44     		add	r3, r3, r1
 6291 00ee 1B68     		ldr	r3, [r3]
 6292 00f0 BA69     		ldr	r2, [r7, #24]
 6293 00f2 D26A     		ldr	r2, [r2, #44]
 6294 00f4 591C     		adds	r1, r3, #1
 6295 00f6 0548     		ldr	r0, .L374
 6296 00f8 1346     		mov	r3, r2
 6297 00fa 9B00     		lsls	r3, r3, #2
ARM GAS  /tmp/ccF71V7c.s 			page 235


 6298 00fc 1344     		add	r3, r3, r2
 6299 00fe 9B00     		lsls	r3, r3, #2
 6300 0100 0344     		add	r3, r3, r0
 6301 0102 1960     		str	r1, [r3]
 6302              	.L373:
 6303              	.LBE87:
6858:Middlewares/FreeRTOS/tasks.c ****                         #if ( configNUMBER_OF_CORES > 1 )
6859:Middlewares/FreeRTOS/tasks.c ****                         {
6860:Middlewares/FreeRTOS/tasks.c ****                             /* The priority of the task is dropped. Yield the core on
6861:Middlewares/FreeRTOS/tasks.c ****                              * which the task is running. */
6862:Middlewares/FreeRTOS/tasks.c ****                             if( taskTASK_IS_RUNNING( pxTCB ) == pdTRUE )
6863:Middlewares/FreeRTOS/tasks.c ****                             {
6864:Middlewares/FreeRTOS/tasks.c ****                                 prvYieldCore( pxTCB->xTaskRunState );
6865:Middlewares/FreeRTOS/tasks.c ****                             }
6866:Middlewares/FreeRTOS/tasks.c ****                         }
6867:Middlewares/FreeRTOS/tasks.c ****                         #endif /* if ( configNUMBER_OF_CORES > 1 ) */
6868:Middlewares/FreeRTOS/tasks.c ****                     }
6869:Middlewares/FreeRTOS/tasks.c ****                     else
6870:Middlewares/FreeRTOS/tasks.c ****                     {
6871:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
6872:Middlewares/FreeRTOS/tasks.c ****                     }
6873:Middlewares/FreeRTOS/tasks.c ****                 }
6874:Middlewares/FreeRTOS/tasks.c ****                 else
6875:Middlewares/FreeRTOS/tasks.c ****                 {
6876:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
6877:Middlewares/FreeRTOS/tasks.c ****                 }
6878:Middlewares/FreeRTOS/tasks.c ****             }
6879:Middlewares/FreeRTOS/tasks.c ****             else
6880:Middlewares/FreeRTOS/tasks.c ****             {
6881:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
6882:Middlewares/FreeRTOS/tasks.c ****             }
6883:Middlewares/FreeRTOS/tasks.c ****         }
6884:Middlewares/FreeRTOS/tasks.c ****         else
6885:Middlewares/FreeRTOS/tasks.c ****         {
6886:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
6887:Middlewares/FreeRTOS/tasks.c ****         }
6888:Middlewares/FreeRTOS/tasks.c **** 
6889:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskPriorityDisinheritAfterTimeout();
6890:Middlewares/FreeRTOS/tasks.c ****     }
 6304              		.loc 1 6890 5 is_stmt 1
 6305 0104 00BF     		nop
 6306 0106 2037     		adds	r7, r7, #32
 6307              		.cfi_def_cfa_offset 8
 6308 0108 BD46     		mov	sp, r7
 6309              		.cfi_def_cfa_register 13
 6310              		@ sp needed
 6311 010a 80BD     		pop	{r7, pc}
 6312              	.L375:
 6313              		.align	2
 6314              	.L374:
 6315 010c 00000000 		.word	pxReadyTasksLists
 6316 0110 00000000 		.word	uxTopReadyPriority
 6317              		.cfi_endproc
 6318              	.LFE59:
 6320              		.section	.text.prvWriteNameToBuffer,"ax",%progbits
 6321              		.align	1
 6322              		.syntax unified
ARM GAS  /tmp/ccF71V7c.s 			page 236


 6323              		.thumb
 6324              		.thumb_func
 6326              	prvWriteNameToBuffer:
 6327              	.LFB60:
6891:Middlewares/FreeRTOS/tasks.c **** 
6892:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_MUTEXES */
6893:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
6894:Middlewares/FreeRTOS/tasks.c **** 
6895:Middlewares/FreeRTOS/tasks.c **** #if ( configNUMBER_OF_CORES > 1 )
6896:Middlewares/FreeRTOS/tasks.c **** 
6897:Middlewares/FreeRTOS/tasks.c **** /* If not in a critical section then yield immediately.
6898:Middlewares/FreeRTOS/tasks.c ****  * Otherwise set xYieldPendings to true to wait to
6899:Middlewares/FreeRTOS/tasks.c ****  * yield until exiting the critical section.
6900:Middlewares/FreeRTOS/tasks.c ****  */
6901:Middlewares/FreeRTOS/tasks.c ****     void vTaskYieldWithinAPI( void )
6902:Middlewares/FreeRTOS/tasks.c ****     {
6903:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskYieldWithinAPI();
6904:Middlewares/FreeRTOS/tasks.c **** 
6905:Middlewares/FreeRTOS/tasks.c ****         if( portGET_CRITICAL_NESTING_COUNT() == 0U )
6906:Middlewares/FreeRTOS/tasks.c ****         {
6907:Middlewares/FreeRTOS/tasks.c ****             portYIELD();
6908:Middlewares/FreeRTOS/tasks.c ****         }
6909:Middlewares/FreeRTOS/tasks.c ****         else
6910:Middlewares/FreeRTOS/tasks.c ****         {
6911:Middlewares/FreeRTOS/tasks.c ****             xYieldPendings[ portGET_CORE_ID() ] = pdTRUE;
6912:Middlewares/FreeRTOS/tasks.c ****         }
6913:Middlewares/FreeRTOS/tasks.c **** 
6914:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskYieldWithinAPI();
6915:Middlewares/FreeRTOS/tasks.c ****     }
6916:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( configNUMBER_OF_CORES > 1 ) */
6917:Middlewares/FreeRTOS/tasks.c **** 
6918:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
6919:Middlewares/FreeRTOS/tasks.c **** 
6920:Middlewares/FreeRTOS/tasks.c **** #if ( ( portCRITICAL_NESTING_IN_TCB == 1 ) && ( configNUMBER_OF_CORES == 1 ) )
6921:Middlewares/FreeRTOS/tasks.c **** 
6922:Middlewares/FreeRTOS/tasks.c ****     void vTaskEnterCritical( void )
6923:Middlewares/FreeRTOS/tasks.c ****     {
6924:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskEnterCritical();
6925:Middlewares/FreeRTOS/tasks.c **** 
6926:Middlewares/FreeRTOS/tasks.c ****         portDISABLE_INTERRUPTS();
6927:Middlewares/FreeRTOS/tasks.c **** 
6928:Middlewares/FreeRTOS/tasks.c ****         if( xSchedulerRunning != pdFALSE )
6929:Middlewares/FreeRTOS/tasks.c ****         {
6930:Middlewares/FreeRTOS/tasks.c ****             ( pxCurrentTCB->uxCriticalNesting )++;
6931:Middlewares/FreeRTOS/tasks.c **** 
6932:Middlewares/FreeRTOS/tasks.c ****             /* This is not the interrupt safe version of the enter critical
6933:Middlewares/FreeRTOS/tasks.c ****              * function so  assert() if it is being called from an interrupt
6934:Middlewares/FreeRTOS/tasks.c ****              * context.  Only API functions that end in "FromISR" can be used in an
6935:Middlewares/FreeRTOS/tasks.c ****              * interrupt.  Only assert if the critical nesting count is 1 to
6936:Middlewares/FreeRTOS/tasks.c ****              * protect against recursive calls if the assert function also uses a
6937:Middlewares/FreeRTOS/tasks.c ****              * critical section. */
6938:Middlewares/FreeRTOS/tasks.c ****             if( pxCurrentTCB->uxCriticalNesting == 1U )
6939:Middlewares/FreeRTOS/tasks.c ****             {
6940:Middlewares/FreeRTOS/tasks.c ****                 portASSERT_IF_IN_ISR();
6941:Middlewares/FreeRTOS/tasks.c ****             }
6942:Middlewares/FreeRTOS/tasks.c ****         }
6943:Middlewares/FreeRTOS/tasks.c ****         else
ARM GAS  /tmp/ccF71V7c.s 			page 237


6944:Middlewares/FreeRTOS/tasks.c ****         {
6945:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
6946:Middlewares/FreeRTOS/tasks.c ****         }
6947:Middlewares/FreeRTOS/tasks.c **** 
6948:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskEnterCritical();
6949:Middlewares/FreeRTOS/tasks.c ****     }
6950:Middlewares/FreeRTOS/tasks.c **** 
6951:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( ( portCRITICAL_NESTING_IN_TCB == 1 ) && ( configNUMBER_OF_CORES == 1 ) ) */
6952:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
6953:Middlewares/FreeRTOS/tasks.c **** 
6954:Middlewares/FreeRTOS/tasks.c **** #if ( configNUMBER_OF_CORES > 1 )
6955:Middlewares/FreeRTOS/tasks.c **** 
6956:Middlewares/FreeRTOS/tasks.c ****     void vTaskEnterCritical( void )
6957:Middlewares/FreeRTOS/tasks.c ****     {
6958:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskEnterCritical();
6959:Middlewares/FreeRTOS/tasks.c **** 
6960:Middlewares/FreeRTOS/tasks.c ****         portDISABLE_INTERRUPTS();
6961:Middlewares/FreeRTOS/tasks.c **** 
6962:Middlewares/FreeRTOS/tasks.c ****         if( xSchedulerRunning != pdFALSE )
6963:Middlewares/FreeRTOS/tasks.c ****         {
6964:Middlewares/FreeRTOS/tasks.c ****             if( portGET_CRITICAL_NESTING_COUNT() == 0U )
6965:Middlewares/FreeRTOS/tasks.c ****             {
6966:Middlewares/FreeRTOS/tasks.c ****                 portGET_TASK_LOCK();
6967:Middlewares/FreeRTOS/tasks.c ****                 portGET_ISR_LOCK();
6968:Middlewares/FreeRTOS/tasks.c ****             }
6969:Middlewares/FreeRTOS/tasks.c **** 
6970:Middlewares/FreeRTOS/tasks.c ****             portINCREMENT_CRITICAL_NESTING_COUNT();
6971:Middlewares/FreeRTOS/tasks.c **** 
6972:Middlewares/FreeRTOS/tasks.c ****             /* This is not the interrupt safe version of the enter critical
6973:Middlewares/FreeRTOS/tasks.c ****              * function so  assert() if it is being called from an interrupt
6974:Middlewares/FreeRTOS/tasks.c ****              * context.  Only API functions that end in "FromISR" can be used in an
6975:Middlewares/FreeRTOS/tasks.c ****              * interrupt.  Only assert if the critical nesting count is 1 to
6976:Middlewares/FreeRTOS/tasks.c ****              * protect against recursive calls if the assert function also uses a
6977:Middlewares/FreeRTOS/tasks.c ****              * critical section. */
6978:Middlewares/FreeRTOS/tasks.c ****             if( portGET_CRITICAL_NESTING_COUNT() == 1U )
6979:Middlewares/FreeRTOS/tasks.c ****             {
6980:Middlewares/FreeRTOS/tasks.c ****                 portASSERT_IF_IN_ISR();
6981:Middlewares/FreeRTOS/tasks.c **** 
6982:Middlewares/FreeRTOS/tasks.c ****                 if( uxSchedulerSuspended == 0U )
6983:Middlewares/FreeRTOS/tasks.c ****                 {
6984:Middlewares/FreeRTOS/tasks.c ****                     /* The only time there would be a problem is if this is called
6985:Middlewares/FreeRTOS/tasks.c ****                      * before a context switch and vTaskExitCritical() is called
6986:Middlewares/FreeRTOS/tasks.c ****                      * after pxCurrentTCB changes. Therefore this should not be
6987:Middlewares/FreeRTOS/tasks.c ****                      * used within vTaskSwitchContext(). */
6988:Middlewares/FreeRTOS/tasks.c ****                     prvCheckForRunStateChange();
6989:Middlewares/FreeRTOS/tasks.c ****                 }
6990:Middlewares/FreeRTOS/tasks.c ****             }
6991:Middlewares/FreeRTOS/tasks.c ****         }
6992:Middlewares/FreeRTOS/tasks.c ****         else
6993:Middlewares/FreeRTOS/tasks.c ****         {
6994:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
6995:Middlewares/FreeRTOS/tasks.c ****         }
6996:Middlewares/FreeRTOS/tasks.c **** 
6997:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskEnterCritical();
6998:Middlewares/FreeRTOS/tasks.c ****     }
6999:Middlewares/FreeRTOS/tasks.c **** 
7000:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( configNUMBER_OF_CORES > 1 ) */
ARM GAS  /tmp/ccF71V7c.s 			page 238


7001:Middlewares/FreeRTOS/tasks.c **** 
7002:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
7003:Middlewares/FreeRTOS/tasks.c **** 
7004:Middlewares/FreeRTOS/tasks.c **** #if ( configNUMBER_OF_CORES > 1 )
7005:Middlewares/FreeRTOS/tasks.c **** 
7006:Middlewares/FreeRTOS/tasks.c ****     UBaseType_t vTaskEnterCriticalFromISR( void )
7007:Middlewares/FreeRTOS/tasks.c ****     {
7008:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxSavedInterruptStatus = 0;
7009:Middlewares/FreeRTOS/tasks.c **** 
7010:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskEnterCriticalFromISR();
7011:Middlewares/FreeRTOS/tasks.c **** 
7012:Middlewares/FreeRTOS/tasks.c ****         if( xSchedulerRunning != pdFALSE )
7013:Middlewares/FreeRTOS/tasks.c ****         {
7014:Middlewares/FreeRTOS/tasks.c ****             uxSavedInterruptStatus = portSET_INTERRUPT_MASK_FROM_ISR();
7015:Middlewares/FreeRTOS/tasks.c **** 
7016:Middlewares/FreeRTOS/tasks.c ****             if( portGET_CRITICAL_NESTING_COUNT() == 0U )
7017:Middlewares/FreeRTOS/tasks.c ****             {
7018:Middlewares/FreeRTOS/tasks.c ****                 portGET_ISR_LOCK();
7019:Middlewares/FreeRTOS/tasks.c ****             }
7020:Middlewares/FreeRTOS/tasks.c **** 
7021:Middlewares/FreeRTOS/tasks.c ****             portINCREMENT_CRITICAL_NESTING_COUNT();
7022:Middlewares/FreeRTOS/tasks.c ****         }
7023:Middlewares/FreeRTOS/tasks.c ****         else
7024:Middlewares/FreeRTOS/tasks.c ****         {
7025:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
7026:Middlewares/FreeRTOS/tasks.c ****         }
7027:Middlewares/FreeRTOS/tasks.c **** 
7028:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskEnterCriticalFromISR( uxSavedInterruptStatus );
7029:Middlewares/FreeRTOS/tasks.c **** 
7030:Middlewares/FreeRTOS/tasks.c ****         return uxSavedInterruptStatus;
7031:Middlewares/FreeRTOS/tasks.c ****     }
7032:Middlewares/FreeRTOS/tasks.c **** 
7033:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( configNUMBER_OF_CORES > 1 ) */
7034:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
7035:Middlewares/FreeRTOS/tasks.c **** 
7036:Middlewares/FreeRTOS/tasks.c **** #if ( ( portCRITICAL_NESTING_IN_TCB == 1 ) && ( configNUMBER_OF_CORES == 1 ) )
7037:Middlewares/FreeRTOS/tasks.c **** 
7038:Middlewares/FreeRTOS/tasks.c ****     void vTaskExitCritical( void )
7039:Middlewares/FreeRTOS/tasks.c ****     {
7040:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskExitCritical();
7041:Middlewares/FreeRTOS/tasks.c **** 
7042:Middlewares/FreeRTOS/tasks.c ****         if( xSchedulerRunning != pdFALSE )
7043:Middlewares/FreeRTOS/tasks.c ****         {
7044:Middlewares/FreeRTOS/tasks.c ****             /* If pxCurrentTCB->uxCriticalNesting is zero then this function
7045:Middlewares/FreeRTOS/tasks.c ****              * does not match a previous call to vTaskEnterCritical(). */
7046:Middlewares/FreeRTOS/tasks.c ****             configASSERT( pxCurrentTCB->uxCriticalNesting > 0U );
7047:Middlewares/FreeRTOS/tasks.c **** 
7048:Middlewares/FreeRTOS/tasks.c ****             /* This function should not be called in ISR. Use vTaskExitCriticalFromISR
7049:Middlewares/FreeRTOS/tasks.c ****              * to exit critical section from ISR. */
7050:Middlewares/FreeRTOS/tasks.c ****             portASSERT_IF_IN_ISR();
7051:Middlewares/FreeRTOS/tasks.c **** 
7052:Middlewares/FreeRTOS/tasks.c ****             if( pxCurrentTCB->uxCriticalNesting > 0U )
7053:Middlewares/FreeRTOS/tasks.c ****             {
7054:Middlewares/FreeRTOS/tasks.c ****                 ( pxCurrentTCB->uxCriticalNesting )--;
7055:Middlewares/FreeRTOS/tasks.c **** 
7056:Middlewares/FreeRTOS/tasks.c ****                 if( pxCurrentTCB->uxCriticalNesting == 0U )
7057:Middlewares/FreeRTOS/tasks.c ****                 {
ARM GAS  /tmp/ccF71V7c.s 			page 239


7058:Middlewares/FreeRTOS/tasks.c ****                     portENABLE_INTERRUPTS();
7059:Middlewares/FreeRTOS/tasks.c ****                 }
7060:Middlewares/FreeRTOS/tasks.c ****                 else
7061:Middlewares/FreeRTOS/tasks.c ****                 {
7062:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
7063:Middlewares/FreeRTOS/tasks.c ****                 }
7064:Middlewares/FreeRTOS/tasks.c ****             }
7065:Middlewares/FreeRTOS/tasks.c ****             else
7066:Middlewares/FreeRTOS/tasks.c ****             {
7067:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
7068:Middlewares/FreeRTOS/tasks.c ****             }
7069:Middlewares/FreeRTOS/tasks.c ****         }
7070:Middlewares/FreeRTOS/tasks.c ****         else
7071:Middlewares/FreeRTOS/tasks.c ****         {
7072:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
7073:Middlewares/FreeRTOS/tasks.c ****         }
7074:Middlewares/FreeRTOS/tasks.c **** 
7075:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskExitCritical();
7076:Middlewares/FreeRTOS/tasks.c ****     }
7077:Middlewares/FreeRTOS/tasks.c **** 
7078:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( ( portCRITICAL_NESTING_IN_TCB == 1 ) && ( configNUMBER_OF_CORES == 1 ) ) */
7079:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
7080:Middlewares/FreeRTOS/tasks.c **** 
7081:Middlewares/FreeRTOS/tasks.c **** #if ( configNUMBER_OF_CORES > 1 )
7082:Middlewares/FreeRTOS/tasks.c **** 
7083:Middlewares/FreeRTOS/tasks.c ****     void vTaskExitCritical( void )
7084:Middlewares/FreeRTOS/tasks.c ****     {
7085:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskExitCritical();
7086:Middlewares/FreeRTOS/tasks.c **** 
7087:Middlewares/FreeRTOS/tasks.c ****         if( xSchedulerRunning != pdFALSE )
7088:Middlewares/FreeRTOS/tasks.c ****         {
7089:Middlewares/FreeRTOS/tasks.c ****             /* If critical nesting count is zero then this function
7090:Middlewares/FreeRTOS/tasks.c ****              * does not match a previous call to vTaskEnterCritical(). */
7091:Middlewares/FreeRTOS/tasks.c ****             configASSERT( portGET_CRITICAL_NESTING_COUNT() > 0U );
7092:Middlewares/FreeRTOS/tasks.c **** 
7093:Middlewares/FreeRTOS/tasks.c ****             /* This function should not be called in ISR. Use vTaskExitCriticalFromISR
7094:Middlewares/FreeRTOS/tasks.c ****              * to exit critical section from ISR. */
7095:Middlewares/FreeRTOS/tasks.c ****             portASSERT_IF_IN_ISR();
7096:Middlewares/FreeRTOS/tasks.c **** 
7097:Middlewares/FreeRTOS/tasks.c ****             if( portGET_CRITICAL_NESTING_COUNT() > 0U )
7098:Middlewares/FreeRTOS/tasks.c ****             {
7099:Middlewares/FreeRTOS/tasks.c ****                 portDECREMENT_CRITICAL_NESTING_COUNT();
7100:Middlewares/FreeRTOS/tasks.c **** 
7101:Middlewares/FreeRTOS/tasks.c ****                 if( portGET_CRITICAL_NESTING_COUNT() == 0U )
7102:Middlewares/FreeRTOS/tasks.c ****                 {
7103:Middlewares/FreeRTOS/tasks.c ****                     BaseType_t xYieldCurrentTask;
7104:Middlewares/FreeRTOS/tasks.c **** 
7105:Middlewares/FreeRTOS/tasks.c ****                     /* Get the xYieldPending stats inside the critical section. */
7106:Middlewares/FreeRTOS/tasks.c ****                     xYieldCurrentTask = xYieldPendings[ portGET_CORE_ID() ];
7107:Middlewares/FreeRTOS/tasks.c **** 
7108:Middlewares/FreeRTOS/tasks.c ****                     portRELEASE_ISR_LOCK();
7109:Middlewares/FreeRTOS/tasks.c ****                     portRELEASE_TASK_LOCK();
7110:Middlewares/FreeRTOS/tasks.c ****                     portENABLE_INTERRUPTS();
7111:Middlewares/FreeRTOS/tasks.c **** 
7112:Middlewares/FreeRTOS/tasks.c ****                     /* When a task yields in a critical section it just sets
7113:Middlewares/FreeRTOS/tasks.c ****                      * xYieldPending to true. So now that we have exited the
7114:Middlewares/FreeRTOS/tasks.c ****                      * critical section check if xYieldPending is true, and
ARM GAS  /tmp/ccF71V7c.s 			page 240


7115:Middlewares/FreeRTOS/tasks.c ****                      * if so yield. */
7116:Middlewares/FreeRTOS/tasks.c ****                     if( xYieldCurrentTask != pdFALSE )
7117:Middlewares/FreeRTOS/tasks.c ****                     {
7118:Middlewares/FreeRTOS/tasks.c ****                         portYIELD();
7119:Middlewares/FreeRTOS/tasks.c ****                     }
7120:Middlewares/FreeRTOS/tasks.c ****                 }
7121:Middlewares/FreeRTOS/tasks.c ****                 else
7122:Middlewares/FreeRTOS/tasks.c ****                 {
7123:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
7124:Middlewares/FreeRTOS/tasks.c ****                 }
7125:Middlewares/FreeRTOS/tasks.c ****             }
7126:Middlewares/FreeRTOS/tasks.c ****             else
7127:Middlewares/FreeRTOS/tasks.c ****             {
7128:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
7129:Middlewares/FreeRTOS/tasks.c ****             }
7130:Middlewares/FreeRTOS/tasks.c ****         }
7131:Middlewares/FreeRTOS/tasks.c ****         else
7132:Middlewares/FreeRTOS/tasks.c ****         {
7133:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
7134:Middlewares/FreeRTOS/tasks.c ****         }
7135:Middlewares/FreeRTOS/tasks.c **** 
7136:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskExitCritical();
7137:Middlewares/FreeRTOS/tasks.c ****     }
7138:Middlewares/FreeRTOS/tasks.c **** 
7139:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( configNUMBER_OF_CORES > 1 ) */
7140:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
7141:Middlewares/FreeRTOS/tasks.c **** 
7142:Middlewares/FreeRTOS/tasks.c **** #if ( configNUMBER_OF_CORES > 1 )
7143:Middlewares/FreeRTOS/tasks.c **** 
7144:Middlewares/FreeRTOS/tasks.c ****     void vTaskExitCriticalFromISR( UBaseType_t uxSavedInterruptStatus )
7145:Middlewares/FreeRTOS/tasks.c ****     {
7146:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskExitCriticalFromISR( uxSavedInterruptStatus );
7147:Middlewares/FreeRTOS/tasks.c **** 
7148:Middlewares/FreeRTOS/tasks.c ****         if( xSchedulerRunning != pdFALSE )
7149:Middlewares/FreeRTOS/tasks.c ****         {
7150:Middlewares/FreeRTOS/tasks.c ****             /* If critical nesting count is zero then this function
7151:Middlewares/FreeRTOS/tasks.c ****              * does not match a previous call to vTaskEnterCritical(). */
7152:Middlewares/FreeRTOS/tasks.c ****             configASSERT( portGET_CRITICAL_NESTING_COUNT() > 0U );
7153:Middlewares/FreeRTOS/tasks.c **** 
7154:Middlewares/FreeRTOS/tasks.c ****             if( portGET_CRITICAL_NESTING_COUNT() > 0U )
7155:Middlewares/FreeRTOS/tasks.c ****             {
7156:Middlewares/FreeRTOS/tasks.c ****                 portDECREMENT_CRITICAL_NESTING_COUNT();
7157:Middlewares/FreeRTOS/tasks.c **** 
7158:Middlewares/FreeRTOS/tasks.c ****                 if( portGET_CRITICAL_NESTING_COUNT() == 0U )
7159:Middlewares/FreeRTOS/tasks.c ****                 {
7160:Middlewares/FreeRTOS/tasks.c ****                     portRELEASE_ISR_LOCK();
7161:Middlewares/FreeRTOS/tasks.c ****                     portCLEAR_INTERRUPT_MASK_FROM_ISR( uxSavedInterruptStatus );
7162:Middlewares/FreeRTOS/tasks.c ****                 }
7163:Middlewares/FreeRTOS/tasks.c ****                 else
7164:Middlewares/FreeRTOS/tasks.c ****                 {
7165:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
7166:Middlewares/FreeRTOS/tasks.c ****                 }
7167:Middlewares/FreeRTOS/tasks.c ****             }
7168:Middlewares/FreeRTOS/tasks.c ****             else
7169:Middlewares/FreeRTOS/tasks.c ****             {
7170:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
7171:Middlewares/FreeRTOS/tasks.c ****             }
ARM GAS  /tmp/ccF71V7c.s 			page 241


7172:Middlewares/FreeRTOS/tasks.c ****         }
7173:Middlewares/FreeRTOS/tasks.c ****         else
7174:Middlewares/FreeRTOS/tasks.c ****         {
7175:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
7176:Middlewares/FreeRTOS/tasks.c ****         }
7177:Middlewares/FreeRTOS/tasks.c **** 
7178:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskExitCriticalFromISR();
7179:Middlewares/FreeRTOS/tasks.c ****     }
7180:Middlewares/FreeRTOS/tasks.c **** 
7181:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( configNUMBER_OF_CORES > 1 ) */
7182:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
7183:Middlewares/FreeRTOS/tasks.c **** 
7184:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_STATS_FORMATTING_FUNCTIONS > 0 )
7185:Middlewares/FreeRTOS/tasks.c **** 
7186:Middlewares/FreeRTOS/tasks.c ****     static char * prvWriteNameToBuffer( char * pcBuffer,
7187:Middlewares/FreeRTOS/tasks.c ****                                         const char * pcTaskName )
7188:Middlewares/FreeRTOS/tasks.c ****     {
 6328              		.loc 1 7188 5
 6329              		.cfi_startproc
 6330              		@ args = 0, pretend = 0, frame = 16
 6331              		@ frame_needed = 1, uses_anonymous_args = 0
 6332 0000 80B5     		push	{r7, lr}
 6333              		.cfi_def_cfa_offset 8
 6334              		.cfi_offset 7, -8
 6335              		.cfi_offset 14, -4
 6336 0002 84B0     		sub	sp, sp, #16
 6337              		.cfi_def_cfa_offset 24
 6338 0004 00AF     		add	r7, sp, #0
 6339              		.cfi_def_cfa_register 7
 6340 0006 7860     		str	r0, [r7, #4]
 6341 0008 3960     		str	r1, [r7]
7189:Middlewares/FreeRTOS/tasks.c ****         size_t x;
7190:Middlewares/FreeRTOS/tasks.c **** 
7191:Middlewares/FreeRTOS/tasks.c ****         /* Start by copying the entire string. */
7192:Middlewares/FreeRTOS/tasks.c ****         ( void ) strcpy( pcBuffer, pcTaskName );
 6342              		.loc 1 7192 18
 6343 000a 3968     		ldr	r1, [r7]
 6344 000c 7868     		ldr	r0, [r7, #4]
 6345 000e FFF7FEFF 		bl	strcpy
7193:Middlewares/FreeRTOS/tasks.c **** 
7194:Middlewares/FreeRTOS/tasks.c ****         /* Pad the end of the string with spaces to ensure columns line up when
7195:Middlewares/FreeRTOS/tasks.c ****          * printed out. */
7196:Middlewares/FreeRTOS/tasks.c ****         for( x = strlen( pcBuffer ); x < ( size_t ) ( ( size_t ) configMAX_TASK_NAME_LEN - 1U ); x+
 6346              		.loc 1 7196 18
 6347 0012 7868     		ldr	r0, [r7, #4]
 6348 0014 FFF7FEFF 		bl	strlen
 6349 0018 F860     		str	r0, [r7, #12]
 6350              		.loc 1 7196 9
 6351 001a 07E0     		b	.L377
 6352              	.L378:
7197:Middlewares/FreeRTOS/tasks.c ****         {
7198:Middlewares/FreeRTOS/tasks.c ****             pcBuffer[ x ] = ' ';
 6353              		.loc 1 7198 21
 6354 001c 7A68     		ldr	r2, [r7, #4]
 6355 001e FB68     		ldr	r3, [r7, #12]
 6356 0020 1344     		add	r3, r3, r2
 6357              		.loc 1 7198 27
ARM GAS  /tmp/ccF71V7c.s 			page 242


 6358 0022 2022     		movs	r2, #32
 6359 0024 1A70     		strb	r2, [r3]
7196:Middlewares/FreeRTOS/tasks.c ****         {
 6360              		.loc 1 7196 99 discriminator 3
 6361 0026 FB68     		ldr	r3, [r7, #12]
 6362 0028 0133     		adds	r3, r3, #1
 6363 002a FB60     		str	r3, [r7, #12]
 6364              	.L377:
7196:Middlewares/FreeRTOS/tasks.c ****         {
 6365              		.loc 1 7196 40 discriminator 1
 6366 002c FB68     		ldr	r3, [r7, #12]
 6367 002e 0E2B     		cmp	r3, #14
 6368 0030 F4D9     		bls	.L378
7199:Middlewares/FreeRTOS/tasks.c ****         }
7200:Middlewares/FreeRTOS/tasks.c **** 
7201:Middlewares/FreeRTOS/tasks.c ****         /* Terminate. */
7202:Middlewares/FreeRTOS/tasks.c ****         pcBuffer[ x ] = ( char ) 0x00;
 6369              		.loc 1 7202 17
 6370 0032 7A68     		ldr	r2, [r7, #4]
 6371 0034 FB68     		ldr	r3, [r7, #12]
 6372 0036 1344     		add	r3, r3, r2
 6373              		.loc 1 7202 23
 6374 0038 0022     		movs	r2, #0
 6375 003a 1A70     		strb	r2, [r3]
7203:Middlewares/FreeRTOS/tasks.c **** 
7204:Middlewares/FreeRTOS/tasks.c ****         /* Return the new end of string. */
7205:Middlewares/FreeRTOS/tasks.c ****         return &( pcBuffer[ x ] );
 6376              		.loc 1 7205 16
 6377 003c 7A68     		ldr	r2, [r7, #4]
 6378 003e FB68     		ldr	r3, [r7, #12]
 6379 0040 1344     		add	r3, r3, r2
7206:Middlewares/FreeRTOS/tasks.c ****     }
 6380              		.loc 1 7206 5
 6381 0042 1846     		mov	r0, r3
 6382 0044 1037     		adds	r7, r7, #16
 6383              		.cfi_def_cfa_offset 8
 6384 0046 BD46     		mov	sp, r7
 6385              		.cfi_def_cfa_register 13
 6386              		@ sp needed
 6387 0048 80BD     		pop	{r7, pc}
 6388              		.cfi_endproc
 6389              	.LFE60:
 6391              		.section	.rodata
 6392 0005 000000   		.align	2
 6393              	.LC1:
 6394 0008 09256309 		.ascii	"\011%c\011%u\011%u\011%u\015\012\000"
 6394      25750925 
 6394      75092575 
 6394      0D0A00
 6395              		.section	.text.vTaskListTasks,"ax",%progbits
 6396              		.align	1
 6397              		.global	vTaskListTasks
 6398              		.syntax unified
 6399              		.thumb
 6400              		.thumb_func
 6402              	vTaskListTasks:
 6403              	.LFB61:
ARM GAS  /tmp/ccF71V7c.s 			page 243


7207:Middlewares/FreeRTOS/tasks.c **** 
7208:Middlewares/FreeRTOS/tasks.c **** #endif /* ( configUSE_STATS_FORMATTING_FUNCTIONS > 0 ) */
7209:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
7210:Middlewares/FreeRTOS/tasks.c **** 
7211:Middlewares/FreeRTOS/tasks.c **** #if ( ( configUSE_TRACE_FACILITY == 1 ) && ( configUSE_STATS_FORMATTING_FUNCTIONS > 0 ) )
7212:Middlewares/FreeRTOS/tasks.c **** 
7213:Middlewares/FreeRTOS/tasks.c ****     void vTaskListTasks( char * pcWriteBuffer,
7214:Middlewares/FreeRTOS/tasks.c ****                          size_t uxBufferLength )
7215:Middlewares/FreeRTOS/tasks.c ****     {
 6404              		.loc 1 7215 5
 6405              		.cfi_startproc
 6406              		@ args = 0, pretend = 0, frame = 40
 6407              		@ frame_needed = 1, uses_anonymous_args = 0
 6408 0000 B0B5     		push	{r4, r5, r7, lr}
 6409              		.cfi_def_cfa_offset 16
 6410              		.cfi_offset 4, -16
 6411              		.cfi_offset 5, -12
 6412              		.cfi_offset 7, -8
 6413              		.cfi_offset 14, -4
 6414 0002 8EB0     		sub	sp, sp, #56
 6415              		.cfi_def_cfa_offset 72
 6416 0004 04AF     		add	r7, sp, #16
 6417              		.cfi_def_cfa 7, 56
 6418 0006 7860     		str	r0, [r7, #4]
 6419 0008 3960     		str	r1, [r7]
7216:Middlewares/FreeRTOS/tasks.c ****         TaskStatus_t * pxTaskStatusArray;
7217:Middlewares/FreeRTOS/tasks.c ****         size_t uxConsumedBufferLength = 0;
 6420              		.loc 1 7217 16
 6421 000a 0023     		movs	r3, #0
 6422 000c 7B62     		str	r3, [r7, #36]
7218:Middlewares/FreeRTOS/tasks.c ****         size_t uxCharsWrittenBySnprintf;
7219:Middlewares/FreeRTOS/tasks.c ****         int iSnprintfReturnValue;
7220:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xOutputBufferFull = pdFALSE;
 6423              		.loc 1 7220 20
 6424 000e 0023     		movs	r3, #0
 6425 0010 3B62     		str	r3, [r7, #32]
7221:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxArraySize, x;
7222:Middlewares/FreeRTOS/tasks.c ****         char cStatus;
7223:Middlewares/FreeRTOS/tasks.c **** 
7224:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskListTasks( pcWriteBuffer, uxBufferLength );
7225:Middlewares/FreeRTOS/tasks.c **** 
7226:Middlewares/FreeRTOS/tasks.c ****         /*
7227:Middlewares/FreeRTOS/tasks.c ****          * PLEASE NOTE:
7228:Middlewares/FreeRTOS/tasks.c ****          *
7229:Middlewares/FreeRTOS/tasks.c ****          * This function is provided for convenience only, and is used by many
7230:Middlewares/FreeRTOS/tasks.c ****          * of the demo applications.  Do not consider it to be part of the
7231:Middlewares/FreeRTOS/tasks.c ****          * scheduler.
7232:Middlewares/FreeRTOS/tasks.c ****          *
7233:Middlewares/FreeRTOS/tasks.c ****          * vTaskListTasks() calls uxTaskGetSystemState(), then formats part of the
7234:Middlewares/FreeRTOS/tasks.c ****          * uxTaskGetSystemState() output into a human readable table that
7235:Middlewares/FreeRTOS/tasks.c ****          * displays task: names, states, priority, stack usage and task number.
7236:Middlewares/FreeRTOS/tasks.c ****          * Stack usage specified as the number of unused StackType_t words stack can hold
7237:Middlewares/FreeRTOS/tasks.c ****          * on top of stack - not the number of bytes.
7238:Middlewares/FreeRTOS/tasks.c ****          *
7239:Middlewares/FreeRTOS/tasks.c ****          * vTaskListTasks() has a dependency on the snprintf() C library function that
7240:Middlewares/FreeRTOS/tasks.c ****          * might bloat the code size, use a lot of stack, and provide different
7241:Middlewares/FreeRTOS/tasks.c ****          * results on different platforms.  An alternative, tiny, third party,
ARM GAS  /tmp/ccF71V7c.s 			page 244


7242:Middlewares/FreeRTOS/tasks.c ****          * and limited functionality implementation of snprintf() is provided in
7243:Middlewares/FreeRTOS/tasks.c ****          * many of the FreeRTOS/Demo sub-directories in a file called
7244:Middlewares/FreeRTOS/tasks.c ****          * printf-stdarg.c (note printf-stdarg.c does not provide a full
7245:Middlewares/FreeRTOS/tasks.c ****          * snprintf() implementation!).
7246:Middlewares/FreeRTOS/tasks.c ****          *
7247:Middlewares/FreeRTOS/tasks.c ****          * It is recommended that production systems call uxTaskGetSystemState()
7248:Middlewares/FreeRTOS/tasks.c ****          * directly to get access to raw stats data, rather than indirectly
7249:Middlewares/FreeRTOS/tasks.c ****          * through a call to vTaskListTasks().
7250:Middlewares/FreeRTOS/tasks.c ****          */
7251:Middlewares/FreeRTOS/tasks.c **** 
7252:Middlewares/FreeRTOS/tasks.c **** 
7253:Middlewares/FreeRTOS/tasks.c ****         /* Make sure the write buffer does not contain a string. */
7254:Middlewares/FreeRTOS/tasks.c ****         *pcWriteBuffer = ( char ) 0x00;
 6426              		.loc 1 7254 24
 6427 0012 7B68     		ldr	r3, [r7, #4]
 6428 0014 0022     		movs	r2, #0
 6429 0016 1A70     		strb	r2, [r3]
7255:Middlewares/FreeRTOS/tasks.c **** 
7256:Middlewares/FreeRTOS/tasks.c ****         /* Take a snapshot of the number of tasks in case it changes while this
7257:Middlewares/FreeRTOS/tasks.c ****          * function is executing. */
7258:Middlewares/FreeRTOS/tasks.c ****         uxArraySize = uxCurrentNumberOfTasks;
 6430              		.loc 1 7258 21
 6431 0018 584B     		ldr	r3, .L399
 6432 001a 1B68     		ldr	r3, [r3]
 6433 001c 7B61     		str	r3, [r7, #20]
7259:Middlewares/FreeRTOS/tasks.c **** 
7260:Middlewares/FreeRTOS/tasks.c ****         /* Allocate an array index for each task.  NOTE!  if
7261:Middlewares/FreeRTOS/tasks.c ****          * configSUPPORT_DYNAMIC_ALLOCATION is set to 0 then pvPortMalloc() will
7262:Middlewares/FreeRTOS/tasks.c ****          * equate to NULL. */
7263:Middlewares/FreeRTOS/tasks.c ****         /* MISRA Ref 11.5.1 [Malloc memory assignment] */
7264:Middlewares/FreeRTOS/tasks.c ****         /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#rule-115
7265:Middlewares/FreeRTOS/tasks.c ****         /* coverity[misra_c_2012_rule_11_5_violation] */
7266:Middlewares/FreeRTOS/tasks.c ****         pxTaskStatusArray = pvPortMalloc( uxCurrentNumberOfTasks * sizeof( TaskStatus_t ) );
 6434              		.loc 1 7266 29
 6435 001e 574B     		ldr	r3, .L399
 6436 0020 1A68     		ldr	r2, [r3]
 6437              		.loc 1 7266 66
 6438 0022 1346     		mov	r3, r2
 6439 0024 DB00     		lsls	r3, r3, #3
 6440 0026 1344     		add	r3, r3, r2
 6441 0028 9B00     		lsls	r3, r3, #2
 6442              		.loc 1 7266 29
 6443 002a 1846     		mov	r0, r3
 6444 002c FFF7FEFF 		bl	pvPortMalloc
 6445 0030 3861     		str	r0, [r7, #16]
7267:Middlewares/FreeRTOS/tasks.c **** 
7268:Middlewares/FreeRTOS/tasks.c ****         if( pxTaskStatusArray != NULL )
 6446              		.loc 1 7268 11
 6447 0032 3B69     		ldr	r3, [r7, #16]
 6448 0034 002B     		cmp	r3, #0
 6449 0036 00F09D80 		beq	.L397
7269:Middlewares/FreeRTOS/tasks.c ****         {
7270:Middlewares/FreeRTOS/tasks.c ****             /* Generate the (binary) data. */
7271:Middlewares/FreeRTOS/tasks.c ****             uxArraySize = uxTaskGetSystemState( pxTaskStatusArray, uxArraySize, NULL );
 6450              		.loc 1 7271 27
 6451 003a 0022     		movs	r2, #0
 6452 003c 7969     		ldr	r1, [r7, #20]
ARM GAS  /tmp/ccF71V7c.s 			page 245


 6453 003e 3869     		ldr	r0, [r7, #16]
 6454 0040 FFF7FEFF 		bl	uxTaskGetSystemState
 6455 0044 7861     		str	r0, [r7, #20]
7272:Middlewares/FreeRTOS/tasks.c **** 
7273:Middlewares/FreeRTOS/tasks.c ****             /* Create a human readable table from the binary data. */
7274:Middlewares/FreeRTOS/tasks.c ****             for( x = 0; x < uxArraySize; x++ )
 6456              		.loc 1 7274 20
 6457 0046 0023     		movs	r3, #0
 6458 0048 FB61     		str	r3, [r7, #28]
 6459              		.loc 1 7274 13
 6460 004a 89E0     		b	.L382
 6461              	.L396:
7275:Middlewares/FreeRTOS/tasks.c ****             {
7276:Middlewares/FreeRTOS/tasks.c ****                 switch( pxTaskStatusArray[ x ].eCurrentState )
 6462              		.loc 1 7276 42
 6463 004c FA69     		ldr	r2, [r7, #28]
 6464 004e 1346     		mov	r3, r2
 6465 0050 DB00     		lsls	r3, r3, #3
 6466 0052 1344     		add	r3, r3, r2
 6467 0054 9B00     		lsls	r3, r3, #2
 6468 0056 1A46     		mov	r2, r3
 6469 0058 3B69     		ldr	r3, [r7, #16]
 6470 005a 1344     		add	r3, r3, r2
 6471              		.loc 1 7276 47
 6472 005c 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 6473              		.loc 1 7276 17
 6474 005e 042B     		cmp	r3, #4
 6475 0060 1BD8     		bhi	.L383
 6476 0062 01A2     		adr	r2, .L385
 6477 0064 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 6478              		.p2align 2
 6479              	.L385:
 6480 0068 7D000000 		.word	.L389+1
 6481 006c 83000000 		.word	.L388+1
 6482 0070 89000000 		.word	.L387+1
 6483 0074 8F000000 		.word	.L386+1
 6484 0078 95000000 		.word	.L384+1
 6485              		.p2align 1
 6486              	.L389:
7277:Middlewares/FreeRTOS/tasks.c ****                 {
7278:Middlewares/FreeRTOS/tasks.c ****                     case eRunning:
7279:Middlewares/FreeRTOS/tasks.c ****                         cStatus = tskRUNNING_CHAR;
 6487              		.loc 1 7279 33
 6488 007c 5823     		movs	r3, #88
 6489 007e FB76     		strb	r3, [r7, #27]
7280:Middlewares/FreeRTOS/tasks.c ****                         break;
 6490              		.loc 1 7280 25
 6491 0080 0EE0     		b	.L390
 6492              	.L388:
7281:Middlewares/FreeRTOS/tasks.c **** 
7282:Middlewares/FreeRTOS/tasks.c ****                     case eReady:
7283:Middlewares/FreeRTOS/tasks.c ****                         cStatus = tskREADY_CHAR;
 6493              		.loc 1 7283 33
 6494 0082 5223     		movs	r3, #82
 6495 0084 FB76     		strb	r3, [r7, #27]
7284:Middlewares/FreeRTOS/tasks.c ****                         break;
 6496              		.loc 1 7284 25
ARM GAS  /tmp/ccF71V7c.s 			page 246


 6497 0086 0BE0     		b	.L390
 6498              	.L387:
7285:Middlewares/FreeRTOS/tasks.c **** 
7286:Middlewares/FreeRTOS/tasks.c ****                     case eBlocked:
7287:Middlewares/FreeRTOS/tasks.c ****                         cStatus = tskBLOCKED_CHAR;
 6499              		.loc 1 7287 33
 6500 0088 4223     		movs	r3, #66
 6501 008a FB76     		strb	r3, [r7, #27]
7288:Middlewares/FreeRTOS/tasks.c ****                         break;
 6502              		.loc 1 7288 25
 6503 008c 08E0     		b	.L390
 6504              	.L386:
7289:Middlewares/FreeRTOS/tasks.c **** 
7290:Middlewares/FreeRTOS/tasks.c ****                     case eSuspended:
7291:Middlewares/FreeRTOS/tasks.c ****                         cStatus = tskSUSPENDED_CHAR;
 6505              		.loc 1 7291 33
 6506 008e 5323     		movs	r3, #83
 6507 0090 FB76     		strb	r3, [r7, #27]
7292:Middlewares/FreeRTOS/tasks.c ****                         break;
 6508              		.loc 1 7292 25
 6509 0092 05E0     		b	.L390
 6510              	.L384:
7293:Middlewares/FreeRTOS/tasks.c **** 
7294:Middlewares/FreeRTOS/tasks.c ****                     case eDeleted:
7295:Middlewares/FreeRTOS/tasks.c ****                         cStatus = tskDELETED_CHAR;
 6511              		.loc 1 7295 33
 6512 0094 4423     		movs	r3, #68
 6513 0096 FB76     		strb	r3, [r7, #27]
7296:Middlewares/FreeRTOS/tasks.c ****                         break;
 6514              		.loc 1 7296 25
 6515 0098 02E0     		b	.L390
 6516              	.L383:
7297:Middlewares/FreeRTOS/tasks.c **** 
7298:Middlewares/FreeRTOS/tasks.c ****                     case eInvalid: /* Fall through. */
7299:Middlewares/FreeRTOS/tasks.c ****                     default:       /* Should not get here, but it is included
7300:Middlewares/FreeRTOS/tasks.c ****                                     * to prevent static checking errors. */
7301:Middlewares/FreeRTOS/tasks.c ****                         cStatus = ( char ) 0x00;
 6517              		.loc 1 7301 33
 6518 009a 0023     		movs	r3, #0
 6519 009c FB76     		strb	r3, [r7, #27]
7302:Middlewares/FreeRTOS/tasks.c ****                         break;
 6520              		.loc 1 7302 25
 6521 009e 00BF     		nop
 6522              	.L390:
7303:Middlewares/FreeRTOS/tasks.c ****                 }
7304:Middlewares/FreeRTOS/tasks.c **** 
7305:Middlewares/FreeRTOS/tasks.c ****                 /* Is there enough space in the buffer to hold task name? */
7306:Middlewares/FreeRTOS/tasks.c ****                 if( ( uxConsumedBufferLength + configMAX_TASK_NAME_LEN ) <= uxBufferLength )
 6523              		.loc 1 7306 46
 6524 00a0 7B6A     		ldr	r3, [r7, #36]
 6525 00a2 1033     		adds	r3, r3, #16
 6526              		.loc 1 7306 19
 6527 00a4 3A68     		ldr	r2, [r7]
 6528 00a6 9A42     		cmp	r2, r3
 6529 00a8 52D3     		bcc	.L391
7307:Middlewares/FreeRTOS/tasks.c ****                 {
7308:Middlewares/FreeRTOS/tasks.c ****                     /* Write the task name to the string, padding with spaces so it
ARM GAS  /tmp/ccF71V7c.s 			page 247


7309:Middlewares/FreeRTOS/tasks.c ****                      * can be printed in tabular form more easily. */
7310:Middlewares/FreeRTOS/tasks.c ****                     pcWriteBuffer = prvWriteNameToBuffer( pcWriteBuffer, pxTaskStatusArray[ x ].pcT
 6530              		.loc 1 7310 91
 6531 00aa FA69     		ldr	r2, [r7, #28]
 6532 00ac 1346     		mov	r3, r2
 6533 00ae DB00     		lsls	r3, r3, #3
 6534 00b0 1344     		add	r3, r3, r2
 6535 00b2 9B00     		lsls	r3, r3, #2
 6536 00b4 1A46     		mov	r2, r3
 6537 00b6 3B69     		ldr	r3, [r7, #16]
 6538 00b8 1344     		add	r3, r3, r2
 6539              		.loc 1 7310 37
 6540 00ba 5B68     		ldr	r3, [r3, #4]
 6541 00bc 1946     		mov	r1, r3
 6542 00be 7868     		ldr	r0, [r7, #4]
 6543 00c0 FFF7FEFF 		bl	prvWriteNameToBuffer
 6544 00c4 7860     		str	r0, [r7, #4]
7311:Middlewares/FreeRTOS/tasks.c ****                     /* Do not count the terminating null character. */
7312:Middlewares/FreeRTOS/tasks.c ****                     uxConsumedBufferLength = uxConsumedBufferLength + ( configMAX_TASK_NAME_LEN - 1
 6545              		.loc 1 7312 44
 6546 00c6 7B6A     		ldr	r3, [r7, #36]
 6547 00c8 0F33     		adds	r3, r3, #15
 6548 00ca 7B62     		str	r3, [r7, #36]
7313:Middlewares/FreeRTOS/tasks.c **** 
7314:Middlewares/FreeRTOS/tasks.c ****                     /* Is there space left in the buffer? -1 is done because snprintf
7315:Middlewares/FreeRTOS/tasks.c ****                      * writes a terminating null character. So we are essentially
7316:Middlewares/FreeRTOS/tasks.c ****                      * checking if the buffer has space to write at least one non-null
7317:Middlewares/FreeRTOS/tasks.c ****                      * character. */
7318:Middlewares/FreeRTOS/tasks.c ****                     if( uxConsumedBufferLength < ( uxBufferLength - 1U ) )
 6549              		.loc 1 7318 67
 6550 00cc 3B68     		ldr	r3, [r7]
 6551 00ce 013B     		subs	r3, r3, #1
 6552              		.loc 1 7318 23
 6553 00d0 7A6A     		ldr	r2, [r7, #36]
 6554 00d2 9A42     		cmp	r2, r3
 6555 00d4 39D2     		bcs	.L392
7319:Middlewares/FreeRTOS/tasks.c ****                     {
7320:Middlewares/FreeRTOS/tasks.c ****                         /* Write the rest of the string. */
7321:Middlewares/FreeRTOS/tasks.c ****                         #if ( ( configUSE_CORE_AFFINITY == 1 ) && ( configNUMBER_OF_CORES > 1 ) )
7322:Middlewares/FreeRTOS/tasks.c ****                             /* MISRA Ref 21.6.1 [snprintf for utility] */
7323:Middlewares/FreeRTOS/tasks.c ****                             /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/ma
7324:Middlewares/FreeRTOS/tasks.c ****                             /* coverity[misra_c_2012_rule_21_6_violation] */
7325:Middlewares/FreeRTOS/tasks.c ****                             iSnprintfReturnValue = snprintf( pcWriteBuffer,
7326:Middlewares/FreeRTOS/tasks.c ****                                                              uxBufferLength - uxConsumedBufferLengt
7327:Middlewares/FreeRTOS/tasks.c ****                                                              "\t%c\t%u\t%u\t%u\t0x%x\r\n",
7328:Middlewares/FreeRTOS/tasks.c ****                                                              cStatus,
7329:Middlewares/FreeRTOS/tasks.c ****                                                              ( unsigned int ) pxTaskStatusArray[ x 
7330:Middlewares/FreeRTOS/tasks.c ****                                                              ( unsigned int ) pxTaskStatusArray[ x 
7331:Middlewares/FreeRTOS/tasks.c ****                                                              ( unsigned int ) pxTaskStatusArray[ x 
7332:Middlewares/FreeRTOS/tasks.c ****                                                              ( unsigned int ) pxTaskStatusArray[ x 
7333:Middlewares/FreeRTOS/tasks.c ****                         #else /* ( ( configUSE_CORE_AFFINITY == 1 ) && ( configNUMBER_OF_CORES > 1 
7334:Middlewares/FreeRTOS/tasks.c ****                             /* MISRA Ref 21.6.1 [snprintf for utility] */
7335:Middlewares/FreeRTOS/tasks.c ****                             /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/ma
7336:Middlewares/FreeRTOS/tasks.c ****                             /* coverity[misra_c_2012_rule_21_6_violation] */
7337:Middlewares/FreeRTOS/tasks.c ****                             iSnprintfReturnValue = snprintf( pcWriteBuffer,
 6556              		.loc 1 7337 52
 6557 00d6 3A68     		ldr	r2, [r7]
ARM GAS  /tmp/ccF71V7c.s 			page 248


 6558 00d8 7B6A     		ldr	r3, [r7, #36]
 6559 00da D41A     		subs	r4, r2, r3
 6560 00dc FD7E     		ldrb	r5, [r7, #27]	@ zero_extendqisi2
7338:Middlewares/FreeRTOS/tasks.c ****                                                              uxBufferLength - uxConsumedBufferLengt
7339:Middlewares/FreeRTOS/tasks.c ****                                                              "\t%c\t%u\t%u\t%u\r\n",
7340:Middlewares/FreeRTOS/tasks.c ****                                                              cStatus,
7341:Middlewares/FreeRTOS/tasks.c ****                                                              ( unsigned int ) pxTaskStatusArray[ x 
 6561              		.loc 1 7341 96
 6562 00de FA69     		ldr	r2, [r7, #28]
 6563 00e0 1346     		mov	r3, r2
 6564 00e2 DB00     		lsls	r3, r3, #3
 6565 00e4 1344     		add	r3, r3, r2
 6566 00e6 9B00     		lsls	r3, r3, #2
 6567 00e8 1A46     		mov	r2, r3
 6568 00ea 3B69     		ldr	r3, [r7, #16]
 6569 00ec 1344     		add	r3, r3, r2
 6570              		.loc 1 7341 101
 6571 00ee 1969     		ldr	r1, [r3, #16]
7342:Middlewares/FreeRTOS/tasks.c ****                                                              ( unsigned int ) pxTaskStatusArray[ x 
 6572              		.loc 1 7342 96
 6573 00f0 FA69     		ldr	r2, [r7, #28]
 6574 00f2 1346     		mov	r3, r2
 6575 00f4 DB00     		lsls	r3, r3, #3
 6576 00f6 1344     		add	r3, r3, r2
 6577 00f8 9B00     		lsls	r3, r3, #2
 6578 00fa 1A46     		mov	r2, r3
 6579 00fc 3B69     		ldr	r3, [r7, #16]
 6580 00fe 1344     		add	r3, r3, r2
 6581              		.loc 1 7342 101
 6582 0100 186A     		ldr	r0, [r3, #32]
7343:Middlewares/FreeRTOS/tasks.c ****                                                              ( unsigned int ) pxTaskStatusArray[ x 
 6583              		.loc 1 7343 96
 6584 0102 FA69     		ldr	r2, [r7, #28]
 6585 0104 1346     		mov	r3, r2
 6586 0106 DB00     		lsls	r3, r3, #3
 6587 0108 1344     		add	r3, r3, r2
 6588 010a 9B00     		lsls	r3, r3, #2
 6589 010c 1A46     		mov	r2, r3
 6590 010e 3B69     		ldr	r3, [r7, #16]
 6591 0110 1344     		add	r3, r3, r2
 6592              		.loc 1 7343 101
 6593 0112 9B68     		ldr	r3, [r3, #8]
7337:Middlewares/FreeRTOS/tasks.c ****                                                              uxBufferLength - uxConsumedBufferLengt
 6594              		.loc 1 7337 52
 6595 0114 0293     		str	r3, [sp, #8]
 6596 0116 0190     		str	r0, [sp, #4]
 6597 0118 0091     		str	r1, [sp]
 6598 011a 2B46     		mov	r3, r5
 6599 011c 184A     		ldr	r2, .L399+4
 6600 011e 2146     		mov	r1, r4
 6601 0120 7868     		ldr	r0, [r7, #4]
 6602 0122 FFF7FEFF 		bl	snprintf
 6603 0126 F860     		str	r0, [r7, #12]
7344:Middlewares/FreeRTOS/tasks.c ****                         #endif /* ( ( configUSE_CORE_AFFINITY == 1 ) && ( configNUMBER_OF_CORES > 1
7345:Middlewares/FreeRTOS/tasks.c ****                         uxCharsWrittenBySnprintf = prvSnprintfReturnValueToCharsWritten( iSnprintfR
 6604              		.loc 1 7345 52
 6605 0128 3A68     		ldr	r2, [r7]
ARM GAS  /tmp/ccF71V7c.s 			page 249


 6606 012a 7B6A     		ldr	r3, [r7, #36]
 6607 012c D31A     		subs	r3, r2, r3
 6608 012e 1946     		mov	r1, r3
 6609 0130 F868     		ldr	r0, [r7, #12]
 6610 0132 FFF7FEFF 		bl	prvSnprintfReturnValueToCharsWritten
 6611 0136 B860     		str	r0, [r7, #8]
7346:Middlewares/FreeRTOS/tasks.c **** 
7347:Middlewares/FreeRTOS/tasks.c ****                         uxConsumedBufferLength += uxCharsWrittenBySnprintf;
 6612              		.loc 1 7347 48
 6613 0138 7A6A     		ldr	r2, [r7, #36]
 6614 013a BB68     		ldr	r3, [r7, #8]
 6615 013c 1344     		add	r3, r3, r2
 6616 013e 7B62     		str	r3, [r7, #36]
7348:Middlewares/FreeRTOS/tasks.c ****                         pcWriteBuffer += uxCharsWrittenBySnprintf;
 6617              		.loc 1 7348 39
 6618 0140 7A68     		ldr	r2, [r7, #4]
 6619 0142 BB68     		ldr	r3, [r7, #8]
 6620 0144 1344     		add	r3, r3, r2
 6621 0146 7B60     		str	r3, [r7, #4]
 6622 0148 04E0     		b	.L393
 6623              	.L392:
7349:Middlewares/FreeRTOS/tasks.c ****                     }
7350:Middlewares/FreeRTOS/tasks.c ****                     else
7351:Middlewares/FreeRTOS/tasks.c ****                     {
7352:Middlewares/FreeRTOS/tasks.c ****                         xOutputBufferFull = pdTRUE;
 6624              		.loc 1 7352 43
 6625 014a 0123     		movs	r3, #1
 6626 014c 3B62     		str	r3, [r7, #32]
 6627 014e 01E0     		b	.L393
 6628              	.L391:
7353:Middlewares/FreeRTOS/tasks.c ****                     }
7354:Middlewares/FreeRTOS/tasks.c ****                 }
7355:Middlewares/FreeRTOS/tasks.c ****                 else
7356:Middlewares/FreeRTOS/tasks.c ****                 {
7357:Middlewares/FreeRTOS/tasks.c ****                     xOutputBufferFull = pdTRUE;
 6629              		.loc 1 7357 39
 6630 0150 0123     		movs	r3, #1
 6631 0152 3B62     		str	r3, [r7, #32]
 6632              	.L393:
7358:Middlewares/FreeRTOS/tasks.c ****                 }
7359:Middlewares/FreeRTOS/tasks.c **** 
7360:Middlewares/FreeRTOS/tasks.c ****                 if( xOutputBufferFull == pdTRUE )
 6633              		.loc 1 7360 19
 6634 0154 3B6A     		ldr	r3, [r7, #32]
 6635 0156 012B     		cmp	r3, #1
 6636 0158 08D0     		beq	.L398
7274:Middlewares/FreeRTOS/tasks.c ****             {
 6637              		.loc 1 7274 43 discriminator 2
 6638 015a FB69     		ldr	r3, [r7, #28]
 6639 015c 0133     		adds	r3, r3, #1
 6640 015e FB61     		str	r3, [r7, #28]
 6641              	.L382:
7274:Middlewares/FreeRTOS/tasks.c ****             {
 6642              		.loc 1 7274 27 discriminator 1
 6643 0160 FA69     		ldr	r2, [r7, #28]
 6644 0162 7B69     		ldr	r3, [r7, #20]
 6645 0164 9A42     		cmp	r2, r3
ARM GAS  /tmp/ccF71V7c.s 			page 250


 6646 0166 FFF471AF 		bcc	.L396
 6647 016a 00E0     		b	.L395
 6648              	.L398:
7361:Middlewares/FreeRTOS/tasks.c ****                 {
7362:Middlewares/FreeRTOS/tasks.c ****                     break;
 6649              		.loc 1 7362 21
 6650 016c 00BF     		nop
 6651              	.L395:
7363:Middlewares/FreeRTOS/tasks.c ****                 }
7364:Middlewares/FreeRTOS/tasks.c ****             }
7365:Middlewares/FreeRTOS/tasks.c **** 
7366:Middlewares/FreeRTOS/tasks.c ****             /* Free the array again.  NOTE!  If configSUPPORT_DYNAMIC_ALLOCATION
7367:Middlewares/FreeRTOS/tasks.c ****              * is 0 then vPortFree() will be #defined to nothing. */
7368:Middlewares/FreeRTOS/tasks.c ****             vPortFree( pxTaskStatusArray );
 6652              		.loc 1 7368 13
 6653 016e 3869     		ldr	r0, [r7, #16]
 6654 0170 FFF7FEFF 		bl	vPortFree
 6655              	.L397:
7369:Middlewares/FreeRTOS/tasks.c ****         }
7370:Middlewares/FreeRTOS/tasks.c ****         else
7371:Middlewares/FreeRTOS/tasks.c ****         {
7372:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
7373:Middlewares/FreeRTOS/tasks.c ****         }
7374:Middlewares/FreeRTOS/tasks.c **** 
7375:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskListTasks();
7376:Middlewares/FreeRTOS/tasks.c ****     }
 6656              		.loc 1 7376 5
 6657 0174 00BF     		nop
 6658 0176 2837     		adds	r7, r7, #40
 6659              		.cfi_def_cfa_offset 16
 6660 0178 BD46     		mov	sp, r7
 6661              		.cfi_def_cfa_register 13
 6662              		@ sp needed
 6663 017a B0BD     		pop	{r4, r5, r7, pc}
 6664              	.L400:
 6665              		.align	2
 6666              	.L399:
 6667 017c 00000000 		.word	uxCurrentNumberOfTasks
 6668 0180 08000000 		.word	.LC1
 6669              		.cfi_endproc
 6670              	.LFE61:
 6672              		.section	.text.uxTaskResetEventItemValue,"ax",%progbits
 6673              		.align	1
 6674              		.global	uxTaskResetEventItemValue
 6675              		.syntax unified
 6676              		.thumb
 6677              		.thumb_func
 6679              	uxTaskResetEventItemValue:
 6680              	.LFB62:
7377:Middlewares/FreeRTOS/tasks.c **** 
7378:Middlewares/FreeRTOS/tasks.c **** #endif /* ( ( configUSE_TRACE_FACILITY == 1 ) && ( configUSE_STATS_FORMATTING_FUNCTIONS > 0 ) ) */
7379:Middlewares/FreeRTOS/tasks.c **** /*----------------------------------------------------------*/
7380:Middlewares/FreeRTOS/tasks.c **** 
7381:Middlewares/FreeRTOS/tasks.c **** #if ( ( configGENERATE_RUN_TIME_STATS == 1 ) && ( configUSE_STATS_FORMATTING_FUNCTIONS > 0 ) && ( c
7382:Middlewares/FreeRTOS/tasks.c **** 
7383:Middlewares/FreeRTOS/tasks.c ****     void vTaskGetRunTimeStatistics( char * pcWriteBuffer,
7384:Middlewares/FreeRTOS/tasks.c ****                                     size_t uxBufferLength )
ARM GAS  /tmp/ccF71V7c.s 			page 251


7385:Middlewares/FreeRTOS/tasks.c ****     {
7386:Middlewares/FreeRTOS/tasks.c ****         TaskStatus_t * pxTaskStatusArray;
7387:Middlewares/FreeRTOS/tasks.c ****         size_t uxConsumedBufferLength = 0;
7388:Middlewares/FreeRTOS/tasks.c ****         size_t uxCharsWrittenBySnprintf;
7389:Middlewares/FreeRTOS/tasks.c ****         int iSnprintfReturnValue;
7390:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xOutputBufferFull = pdFALSE;
7391:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxArraySize, x;
7392:Middlewares/FreeRTOS/tasks.c ****         configRUN_TIME_COUNTER_TYPE ulTotalTime = 0;
7393:Middlewares/FreeRTOS/tasks.c ****         configRUN_TIME_COUNTER_TYPE ulStatsAsPercentage;
7394:Middlewares/FreeRTOS/tasks.c **** 
7395:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskGetRunTimeStatistics( pcWriteBuffer, uxBufferLength );
7396:Middlewares/FreeRTOS/tasks.c **** 
7397:Middlewares/FreeRTOS/tasks.c ****         /*
7398:Middlewares/FreeRTOS/tasks.c ****          * PLEASE NOTE:
7399:Middlewares/FreeRTOS/tasks.c ****          *
7400:Middlewares/FreeRTOS/tasks.c ****          * This function is provided for convenience only, and is used by many
7401:Middlewares/FreeRTOS/tasks.c ****          * of the demo applications.  Do not consider it to be part of the
7402:Middlewares/FreeRTOS/tasks.c ****          * scheduler.
7403:Middlewares/FreeRTOS/tasks.c ****          *
7404:Middlewares/FreeRTOS/tasks.c ****          * vTaskGetRunTimeStatistics() calls uxTaskGetSystemState(), then formats part
7405:Middlewares/FreeRTOS/tasks.c ****          * of the uxTaskGetSystemState() output into a human readable table that
7406:Middlewares/FreeRTOS/tasks.c ****          * displays the amount of time each task has spent in the Running state
7407:Middlewares/FreeRTOS/tasks.c ****          * in both absolute and percentage terms.
7408:Middlewares/FreeRTOS/tasks.c ****          *
7409:Middlewares/FreeRTOS/tasks.c ****          * vTaskGetRunTimeStatistics() has a dependency on the snprintf() C library
7410:Middlewares/FreeRTOS/tasks.c ****          * function that might bloat the code size, use a lot of stack, and
7411:Middlewares/FreeRTOS/tasks.c ****          * provide different results on different platforms.  An alternative,
7412:Middlewares/FreeRTOS/tasks.c ****          * tiny, third party, and limited functionality implementation of
7413:Middlewares/FreeRTOS/tasks.c ****          * snprintf() is provided in many of the FreeRTOS/Demo sub-directories in
7414:Middlewares/FreeRTOS/tasks.c ****          * a file called printf-stdarg.c (note printf-stdarg.c does not provide
7415:Middlewares/FreeRTOS/tasks.c ****          * a full snprintf() implementation!).
7416:Middlewares/FreeRTOS/tasks.c ****          *
7417:Middlewares/FreeRTOS/tasks.c ****          * It is recommended that production systems call uxTaskGetSystemState()
7418:Middlewares/FreeRTOS/tasks.c ****          * directly to get access to raw stats data, rather than indirectly
7419:Middlewares/FreeRTOS/tasks.c ****          * through a call to vTaskGetRunTimeStatistics().
7420:Middlewares/FreeRTOS/tasks.c ****          */
7421:Middlewares/FreeRTOS/tasks.c **** 
7422:Middlewares/FreeRTOS/tasks.c ****         /* Make sure the write buffer does not contain a string. */
7423:Middlewares/FreeRTOS/tasks.c ****         *pcWriteBuffer = ( char ) 0x00;
7424:Middlewares/FreeRTOS/tasks.c **** 
7425:Middlewares/FreeRTOS/tasks.c ****         /* Take a snapshot of the number of tasks in case it changes while this
7426:Middlewares/FreeRTOS/tasks.c ****          * function is executing. */
7427:Middlewares/FreeRTOS/tasks.c ****         uxArraySize = uxCurrentNumberOfTasks;
7428:Middlewares/FreeRTOS/tasks.c **** 
7429:Middlewares/FreeRTOS/tasks.c ****         /* Allocate an array index for each task.  NOTE!  If
7430:Middlewares/FreeRTOS/tasks.c ****          * configSUPPORT_DYNAMIC_ALLOCATION is set to 0 then pvPortMalloc() will
7431:Middlewares/FreeRTOS/tasks.c ****          * equate to NULL. */
7432:Middlewares/FreeRTOS/tasks.c ****         /* MISRA Ref 11.5.1 [Malloc memory assignment] */
7433:Middlewares/FreeRTOS/tasks.c ****         /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#rule-115
7434:Middlewares/FreeRTOS/tasks.c ****         /* coverity[misra_c_2012_rule_11_5_violation] */
7435:Middlewares/FreeRTOS/tasks.c ****         pxTaskStatusArray = pvPortMalloc( uxCurrentNumberOfTasks * sizeof( TaskStatus_t ) );
7436:Middlewares/FreeRTOS/tasks.c **** 
7437:Middlewares/FreeRTOS/tasks.c ****         if( pxTaskStatusArray != NULL )
7438:Middlewares/FreeRTOS/tasks.c ****         {
7439:Middlewares/FreeRTOS/tasks.c ****             /* Generate the (binary) data. */
7440:Middlewares/FreeRTOS/tasks.c ****             uxArraySize = uxTaskGetSystemState( pxTaskStatusArray, uxArraySize, &ulTotalTime );
7441:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 252


7442:Middlewares/FreeRTOS/tasks.c ****             /* For percentage calculations. */
7443:Middlewares/FreeRTOS/tasks.c ****             ulTotalTime /= ( ( configRUN_TIME_COUNTER_TYPE ) 100U );
7444:Middlewares/FreeRTOS/tasks.c **** 
7445:Middlewares/FreeRTOS/tasks.c ****             /* Avoid divide by zero errors. */
7446:Middlewares/FreeRTOS/tasks.c ****             if( ulTotalTime > 0U )
7447:Middlewares/FreeRTOS/tasks.c ****             {
7448:Middlewares/FreeRTOS/tasks.c ****                 /* Create a human readable table from the binary data. */
7449:Middlewares/FreeRTOS/tasks.c ****                 for( x = 0; x < uxArraySize; x++ )
7450:Middlewares/FreeRTOS/tasks.c ****                 {
7451:Middlewares/FreeRTOS/tasks.c ****                     /* What percentage of the total run time has the task used?
7452:Middlewares/FreeRTOS/tasks.c ****                      * This will always be rounded down to the nearest integer.
7453:Middlewares/FreeRTOS/tasks.c ****                      * ulTotalRunTime has already been divided by 100. */
7454:Middlewares/FreeRTOS/tasks.c ****                     ulStatsAsPercentage = pxTaskStatusArray[ x ].ulRunTimeCounter / ulTotalTime;
7455:Middlewares/FreeRTOS/tasks.c **** 
7456:Middlewares/FreeRTOS/tasks.c ****                     /* Is there enough space in the buffer to hold task name? */
7457:Middlewares/FreeRTOS/tasks.c ****                     if( ( uxConsumedBufferLength + configMAX_TASK_NAME_LEN ) <= uxBufferLength )
7458:Middlewares/FreeRTOS/tasks.c ****                     {
7459:Middlewares/FreeRTOS/tasks.c ****                         /* Write the task name to the string, padding with
7460:Middlewares/FreeRTOS/tasks.c ****                          * spaces so it can be printed in tabular form more
7461:Middlewares/FreeRTOS/tasks.c ****                          * easily. */
7462:Middlewares/FreeRTOS/tasks.c ****                         pcWriteBuffer = prvWriteNameToBuffer( pcWriteBuffer, pxTaskStatusArray[ x ]
7463:Middlewares/FreeRTOS/tasks.c ****                         /* Do not count the terminating null character. */
7464:Middlewares/FreeRTOS/tasks.c ****                         uxConsumedBufferLength = uxConsumedBufferLength + ( configMAX_TASK_NAME_LEN
7465:Middlewares/FreeRTOS/tasks.c **** 
7466:Middlewares/FreeRTOS/tasks.c ****                         /* Is there space left in the buffer? -1 is done because snprintf
7467:Middlewares/FreeRTOS/tasks.c ****                          * writes a terminating null character. So we are essentially
7468:Middlewares/FreeRTOS/tasks.c ****                          * checking if the buffer has space to write at least one non-null
7469:Middlewares/FreeRTOS/tasks.c ****                          * character. */
7470:Middlewares/FreeRTOS/tasks.c ****                         if( uxConsumedBufferLength < ( uxBufferLength - 1U ) )
7471:Middlewares/FreeRTOS/tasks.c ****                         {
7472:Middlewares/FreeRTOS/tasks.c ****                             if( ulStatsAsPercentage > 0U )
7473:Middlewares/FreeRTOS/tasks.c ****                             {
7474:Middlewares/FreeRTOS/tasks.c ****                                 #ifdef portLU_PRINTF_SPECIFIER_REQUIRED
7475:Middlewares/FreeRTOS/tasks.c ****                                 {
7476:Middlewares/FreeRTOS/tasks.c ****                                     /* MISRA Ref 21.6.1 [snprintf for utility] */
7477:Middlewares/FreeRTOS/tasks.c ****                                     /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel
7478:Middlewares/FreeRTOS/tasks.c ****                                     /* coverity[misra_c_2012_rule_21_6_violation] */
7479:Middlewares/FreeRTOS/tasks.c ****                                     iSnprintfReturnValue = snprintf( pcWriteBuffer,
7480:Middlewares/FreeRTOS/tasks.c ****                                                                      uxBufferLength - uxConsumedBuf
7481:Middlewares/FreeRTOS/tasks.c ****                                                                      "\t%lu\t\t%lu%%\r\n",
7482:Middlewares/FreeRTOS/tasks.c ****                                                                      pxTaskStatusArray[ x ].ulRunTi
7483:Middlewares/FreeRTOS/tasks.c ****                                                                      ulStatsAsPercentage );
7484:Middlewares/FreeRTOS/tasks.c ****                                 }
7485:Middlewares/FreeRTOS/tasks.c ****                                 #else /* ifdef portLU_PRINTF_SPECIFIER_REQUIRED */
7486:Middlewares/FreeRTOS/tasks.c ****                                 {
7487:Middlewares/FreeRTOS/tasks.c ****                                     /* sizeof( int ) == sizeof( long ) so a smaller
7488:Middlewares/FreeRTOS/tasks.c ****                                      * printf() library can be used. */
7489:Middlewares/FreeRTOS/tasks.c ****                                     /* MISRA Ref 21.6.1 [snprintf for utility] */
7490:Middlewares/FreeRTOS/tasks.c ****                                     /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel
7491:Middlewares/FreeRTOS/tasks.c ****                                     /* coverity[misra_c_2012_rule_21_6_violation] */
7492:Middlewares/FreeRTOS/tasks.c ****                                     iSnprintfReturnValue = snprintf( pcWriteBuffer,
7493:Middlewares/FreeRTOS/tasks.c ****                                                                      uxBufferLength - uxConsumedBuf
7494:Middlewares/FreeRTOS/tasks.c ****                                                                      "\t%u\t\t%u%%\r\n",
7495:Middlewares/FreeRTOS/tasks.c ****                                                                      ( unsigned int ) pxTaskStatusA
7496:Middlewares/FreeRTOS/tasks.c ****                                                                      ( unsigned int ) ulStatsAsPerc
7497:Middlewares/FreeRTOS/tasks.c ****                                 }
7498:Middlewares/FreeRTOS/tasks.c ****                                 #endif /* ifdef portLU_PRINTF_SPECIFIER_REQUIRED */
ARM GAS  /tmp/ccF71V7c.s 			page 253


7499:Middlewares/FreeRTOS/tasks.c ****                             }
7500:Middlewares/FreeRTOS/tasks.c ****                             else
7501:Middlewares/FreeRTOS/tasks.c ****                             {
7502:Middlewares/FreeRTOS/tasks.c ****                                 /* If the percentage is zero here then the task has
7503:Middlewares/FreeRTOS/tasks.c ****                                  * consumed less than 1% of the total run time. */
7504:Middlewares/FreeRTOS/tasks.c ****                                 #ifdef portLU_PRINTF_SPECIFIER_REQUIRED
7505:Middlewares/FreeRTOS/tasks.c ****                                 {
7506:Middlewares/FreeRTOS/tasks.c ****                                     /* MISRA Ref 21.6.1 [snprintf for utility] */
7507:Middlewares/FreeRTOS/tasks.c ****                                     /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel
7508:Middlewares/FreeRTOS/tasks.c ****                                     /* coverity[misra_c_2012_rule_21_6_violation] */
7509:Middlewares/FreeRTOS/tasks.c ****                                     iSnprintfReturnValue = snprintf( pcWriteBuffer,
7510:Middlewares/FreeRTOS/tasks.c ****                                                                      uxBufferLength - uxConsumedBuf
7511:Middlewares/FreeRTOS/tasks.c ****                                                                      "\t%lu\t\t<1%%\r\n",
7512:Middlewares/FreeRTOS/tasks.c ****                                                                      pxTaskStatusArray[ x ].ulRunTi
7513:Middlewares/FreeRTOS/tasks.c ****                                 }
7514:Middlewares/FreeRTOS/tasks.c ****                                 #else
7515:Middlewares/FreeRTOS/tasks.c ****                                 {
7516:Middlewares/FreeRTOS/tasks.c ****                                     /* sizeof( int ) == sizeof( long ) so a smaller
7517:Middlewares/FreeRTOS/tasks.c ****                                      * printf() library can be used. */
7518:Middlewares/FreeRTOS/tasks.c ****                                     /* MISRA Ref 21.6.1 [snprintf for utility] */
7519:Middlewares/FreeRTOS/tasks.c ****                                     /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel
7520:Middlewares/FreeRTOS/tasks.c ****                                     /* coverity[misra_c_2012_rule_21_6_violation] */
7521:Middlewares/FreeRTOS/tasks.c ****                                     iSnprintfReturnValue = snprintf( pcWriteBuffer,
7522:Middlewares/FreeRTOS/tasks.c ****                                                                      uxBufferLength - uxConsumedBuf
7523:Middlewares/FreeRTOS/tasks.c ****                                                                      "\t%u\t\t<1%%\r\n",
7524:Middlewares/FreeRTOS/tasks.c ****                                                                      ( unsigned int ) pxTaskStatusA
7525:Middlewares/FreeRTOS/tasks.c ****                                 }
7526:Middlewares/FreeRTOS/tasks.c ****                                 #endif /* ifdef portLU_PRINTF_SPECIFIER_REQUIRED */
7527:Middlewares/FreeRTOS/tasks.c ****                             }
7528:Middlewares/FreeRTOS/tasks.c **** 
7529:Middlewares/FreeRTOS/tasks.c ****                             uxCharsWrittenBySnprintf = prvSnprintfReturnValueToCharsWritten( iSnpri
7530:Middlewares/FreeRTOS/tasks.c ****                             uxConsumedBufferLength += uxCharsWrittenBySnprintf;
7531:Middlewares/FreeRTOS/tasks.c ****                             pcWriteBuffer += uxCharsWrittenBySnprintf;
7532:Middlewares/FreeRTOS/tasks.c ****                         }
7533:Middlewares/FreeRTOS/tasks.c ****                         else
7534:Middlewares/FreeRTOS/tasks.c ****                         {
7535:Middlewares/FreeRTOS/tasks.c ****                             xOutputBufferFull = pdTRUE;
7536:Middlewares/FreeRTOS/tasks.c ****                         }
7537:Middlewares/FreeRTOS/tasks.c ****                     }
7538:Middlewares/FreeRTOS/tasks.c ****                     else
7539:Middlewares/FreeRTOS/tasks.c ****                     {
7540:Middlewares/FreeRTOS/tasks.c ****                         xOutputBufferFull = pdTRUE;
7541:Middlewares/FreeRTOS/tasks.c ****                     }
7542:Middlewares/FreeRTOS/tasks.c **** 
7543:Middlewares/FreeRTOS/tasks.c ****                     if( xOutputBufferFull == pdTRUE )
7544:Middlewares/FreeRTOS/tasks.c ****                     {
7545:Middlewares/FreeRTOS/tasks.c ****                         break;
7546:Middlewares/FreeRTOS/tasks.c ****                     }
7547:Middlewares/FreeRTOS/tasks.c ****                 }
7548:Middlewares/FreeRTOS/tasks.c ****             }
7549:Middlewares/FreeRTOS/tasks.c ****             else
7550:Middlewares/FreeRTOS/tasks.c ****             {
7551:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
7552:Middlewares/FreeRTOS/tasks.c ****             }
7553:Middlewares/FreeRTOS/tasks.c **** 
7554:Middlewares/FreeRTOS/tasks.c ****             /* Free the array again.  NOTE!  If configSUPPORT_DYNAMIC_ALLOCATION
7555:Middlewares/FreeRTOS/tasks.c ****              * is 0 then vPortFree() will be #defined to nothing. */
ARM GAS  /tmp/ccF71V7c.s 			page 254


7556:Middlewares/FreeRTOS/tasks.c ****             vPortFree( pxTaskStatusArray );
7557:Middlewares/FreeRTOS/tasks.c ****         }
7558:Middlewares/FreeRTOS/tasks.c ****         else
7559:Middlewares/FreeRTOS/tasks.c ****         {
7560:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
7561:Middlewares/FreeRTOS/tasks.c ****         }
7562:Middlewares/FreeRTOS/tasks.c **** 
7563:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskGetRunTimeStatistics();
7564:Middlewares/FreeRTOS/tasks.c ****     }
7565:Middlewares/FreeRTOS/tasks.c **** 
7566:Middlewares/FreeRTOS/tasks.c **** #endif /* ( ( configGENERATE_RUN_TIME_STATS == 1 ) && ( configUSE_STATS_FORMATTING_FUNCTIONS > 0 ) 
7567:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
7568:Middlewares/FreeRTOS/tasks.c **** 
7569:Middlewares/FreeRTOS/tasks.c **** TickType_t uxTaskResetEventItemValue( void )
7570:Middlewares/FreeRTOS/tasks.c **** {
 6681              		.loc 1 7570 1
 6682              		.cfi_startproc
 6683              		@ args = 0, pretend = 0, frame = 8
 6684              		@ frame_needed = 1, uses_anonymous_args = 0
 6685              		@ link register save eliminated.
 6686 0000 80B4     		push	{r7}
 6687              		.cfi_def_cfa_offset 4
 6688              		.cfi_offset 7, -4
 6689 0002 83B0     		sub	sp, sp, #12
 6690              		.cfi_def_cfa_offset 16
 6691 0004 00AF     		add	r7, sp, #0
 6692              		.cfi_def_cfa_register 7
7571:Middlewares/FreeRTOS/tasks.c ****     TickType_t uxReturn;
7572:Middlewares/FreeRTOS/tasks.c **** 
7573:Middlewares/FreeRTOS/tasks.c ****     traceENTER_uxTaskResetEventItemValue();
7574:Middlewares/FreeRTOS/tasks.c **** 
7575:Middlewares/FreeRTOS/tasks.c ****     uxReturn = listGET_LIST_ITEM_VALUE( &( pxCurrentTCB->xEventListItem ) );
 6693              		.loc 1 7575 16
 6694 0006 094B     		ldr	r3, .L403
 6695 0008 1B68     		ldr	r3, [r3]
 6696              		.loc 1 7575 14
 6697 000a 9B69     		ldr	r3, [r3, #24]
 6698 000c 7B60     		str	r3, [r7, #4]
7576:Middlewares/FreeRTOS/tasks.c **** 
7577:Middlewares/FreeRTOS/tasks.c ****     /* Reset the event list item to its normal value - so it can be used with
7578:Middlewares/FreeRTOS/tasks.c ****      * queues and semaphores. */
7579:Middlewares/FreeRTOS/tasks.c ****     listSET_LIST_ITEM_VALUE( &( pxCurrentTCB->xEventListItem ), ( ( TickType_t ) configMAX_PRIORITI
 6699              		.loc 1 7579 5
 6700 000e 074B     		ldr	r3, .L403
 6701 0010 1B68     		ldr	r3, [r3]
 6702 0012 DA6A     		ldr	r2, [r3, #44]
 6703 0014 054B     		ldr	r3, .L403
 6704 0016 1B68     		ldr	r3, [r3]
 6705 0018 C2F10502 		rsb	r2, r2, #5
 6706 001c 9A61     		str	r2, [r3, #24]
7580:Middlewares/FreeRTOS/tasks.c **** 
7581:Middlewares/FreeRTOS/tasks.c ****     traceRETURN_uxTaskResetEventItemValue( uxReturn );
7582:Middlewares/FreeRTOS/tasks.c **** 
7583:Middlewares/FreeRTOS/tasks.c ****     return uxReturn;
 6707              		.loc 1 7583 12
 6708 001e 7B68     		ldr	r3, [r7, #4]
7584:Middlewares/FreeRTOS/tasks.c **** }
ARM GAS  /tmp/ccF71V7c.s 			page 255


 6709              		.loc 1 7584 1
 6710 0020 1846     		mov	r0, r3
 6711 0022 0C37     		adds	r7, r7, #12
 6712              		.cfi_def_cfa_offset 4
 6713 0024 BD46     		mov	sp, r7
 6714              		.cfi_def_cfa_register 13
 6715              		@ sp needed
 6716 0026 5DF8047B 		ldr	r7, [sp], #4
 6717              		.cfi_restore 7
 6718              		.cfi_def_cfa_offset 0
 6719 002a 7047     		bx	lr
 6720              	.L404:
 6721              		.align	2
 6722              	.L403:
 6723 002c 00000000 		.word	pxCurrentTCB
 6724              		.cfi_endproc
 6725              	.LFE62:
 6727              		.section	.text.pvTaskIncrementMutexHeldCount,"ax",%progbits
 6728              		.align	1
 6729              		.global	pvTaskIncrementMutexHeldCount
 6730              		.syntax unified
 6731              		.thumb
 6732              		.thumb_func
 6734              	pvTaskIncrementMutexHeldCount:
 6735              	.LFB63:
7585:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
7586:Middlewares/FreeRTOS/tasks.c **** 
7587:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_MUTEXES == 1 )
7588:Middlewares/FreeRTOS/tasks.c **** 
7589:Middlewares/FreeRTOS/tasks.c ****     TaskHandle_t pvTaskIncrementMutexHeldCount( void )
7590:Middlewares/FreeRTOS/tasks.c ****     {
 6736              		.loc 1 7590 5
 6737              		.cfi_startproc
 6738              		@ args = 0, pretend = 0, frame = 8
 6739              		@ frame_needed = 1, uses_anonymous_args = 0
 6740              		@ link register save eliminated.
 6741 0000 80B4     		push	{r7}
 6742              		.cfi_def_cfa_offset 4
 6743              		.cfi_offset 7, -4
 6744 0002 83B0     		sub	sp, sp, #12
 6745              		.cfi_def_cfa_offset 16
 6746 0004 00AF     		add	r7, sp, #0
 6747              		.cfi_def_cfa_register 7
7591:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
7592:Middlewares/FreeRTOS/tasks.c **** 
7593:Middlewares/FreeRTOS/tasks.c ****         traceENTER_pvTaskIncrementMutexHeldCount();
7594:Middlewares/FreeRTOS/tasks.c **** 
7595:Middlewares/FreeRTOS/tasks.c ****         pxTCB = pxCurrentTCB;
 6748              		.loc 1 7595 15
 6749 0006 094B     		ldr	r3, .L408
 6750 0008 1B68     		ldr	r3, [r3]
 6751 000a 7B60     		str	r3, [r7, #4]
7596:Middlewares/FreeRTOS/tasks.c **** 
7597:Middlewares/FreeRTOS/tasks.c ****         /* If xSemaphoreCreateMutex() is called before any tasks have been created
7598:Middlewares/FreeRTOS/tasks.c ****          * then pxCurrentTCB will be NULL. */
7599:Middlewares/FreeRTOS/tasks.c ****         if( pxTCB != NULL )
 6752              		.loc 1 7599 11
ARM GAS  /tmp/ccF71V7c.s 			page 256


 6753 000c 7B68     		ldr	r3, [r7, #4]
 6754 000e 002B     		cmp	r3, #0
 6755 0010 04D0     		beq	.L406
7600:Middlewares/FreeRTOS/tasks.c ****         {
7601:Middlewares/FreeRTOS/tasks.c ****             ( pxTCB->uxMutexesHeld )++;
 6756              		.loc 1 7601 20
 6757 0012 7B68     		ldr	r3, [r7, #4]
 6758 0014 1B6D     		ldr	r3, [r3, #80]
 6759              		.loc 1 7601 37
 6760 0016 5A1C     		adds	r2, r3, #1
 6761 0018 7B68     		ldr	r3, [r7, #4]
 6762 001a 1A65     		str	r2, [r3, #80]
 6763              	.L406:
7602:Middlewares/FreeRTOS/tasks.c ****         }
7603:Middlewares/FreeRTOS/tasks.c **** 
7604:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_pvTaskIncrementMutexHeldCount( pxTCB );
7605:Middlewares/FreeRTOS/tasks.c **** 
7606:Middlewares/FreeRTOS/tasks.c ****         return pxTCB;
 6764              		.loc 1 7606 16
 6765 001c 7B68     		ldr	r3, [r7, #4]
7607:Middlewares/FreeRTOS/tasks.c ****     }
 6766              		.loc 1 7607 5
 6767 001e 1846     		mov	r0, r3
 6768 0020 0C37     		adds	r7, r7, #12
 6769              		.cfi_def_cfa_offset 4
 6770 0022 BD46     		mov	sp, r7
 6771              		.cfi_def_cfa_register 13
 6772              		@ sp needed
 6773 0024 5DF8047B 		ldr	r7, [sp], #4
 6774              		.cfi_restore 7
 6775              		.cfi_def_cfa_offset 0
 6776 0028 7047     		bx	lr
 6777              	.L409:
 6778 002a 00BF     		.align	2
 6779              	.L408:
 6780 002c 00000000 		.word	pxCurrentTCB
 6781              		.cfi_endproc
 6782              	.LFE63:
 6784              		.section	.text.ulTaskGenericNotifyTake,"ax",%progbits
 6785              		.align	1
 6786              		.global	ulTaskGenericNotifyTake
 6787              		.syntax unified
 6788              		.thumb
 6789              		.thumb_func
 6791              	ulTaskGenericNotifyTake:
 6792              	.LFB64:
7608:Middlewares/FreeRTOS/tasks.c **** 
7609:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_MUTEXES */
7610:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
7611:Middlewares/FreeRTOS/tasks.c **** 
7612:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_TASK_NOTIFICATIONS == 1 )
7613:Middlewares/FreeRTOS/tasks.c **** 
7614:Middlewares/FreeRTOS/tasks.c ****     uint32_t ulTaskGenericNotifyTake( UBaseType_t uxIndexToWaitOn,
7615:Middlewares/FreeRTOS/tasks.c ****                                       BaseType_t xClearCountOnExit,
7616:Middlewares/FreeRTOS/tasks.c ****                                       TickType_t xTicksToWait )
7617:Middlewares/FreeRTOS/tasks.c ****     {
 6793              		.loc 1 7617 5
ARM GAS  /tmp/ccF71V7c.s 			page 257


 6794              		.cfi_startproc
 6795              		@ args = 0, pretend = 0, frame = 32
 6796              		@ frame_needed = 1, uses_anonymous_args = 0
 6797 0000 80B5     		push	{r7, lr}
 6798              		.cfi_def_cfa_offset 8
 6799              		.cfi_offset 7, -8
 6800              		.cfi_offset 14, -4
 6801 0002 88B0     		sub	sp, sp, #32
 6802              		.cfi_def_cfa_offset 40
 6803 0004 00AF     		add	r7, sp, #0
 6804              		.cfi_def_cfa_register 7
 6805 0006 F860     		str	r0, [r7, #12]
 6806 0008 B960     		str	r1, [r7, #8]
 6807 000a 7A60     		str	r2, [r7, #4]
7618:Middlewares/FreeRTOS/tasks.c ****         uint32_t ulReturn;
7619:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xAlreadyYielded, xShouldBlock = pdFALSE;
 6808              		.loc 1 7619 37
 6809 000c 0023     		movs	r3, #0
 6810 000e FB61     		str	r3, [r7, #28]
7620:Middlewares/FreeRTOS/tasks.c **** 
7621:Middlewares/FreeRTOS/tasks.c ****         traceENTER_ulTaskGenericNotifyTake( uxIndexToWaitOn, xClearCountOnExit, xTicksToWait );
7622:Middlewares/FreeRTOS/tasks.c **** 
7623:Middlewares/FreeRTOS/tasks.c ****         configASSERT( uxIndexToWaitOn < configTASK_NOTIFICATION_ARRAY_ENTRIES );
7624:Middlewares/FreeRTOS/tasks.c **** 
7625:Middlewares/FreeRTOS/tasks.c ****         /* We suspend the scheduler here as prvAddCurrentTaskToDelayedList is a
7626:Middlewares/FreeRTOS/tasks.c ****          * non-deterministic operation. */
7627:Middlewares/FreeRTOS/tasks.c ****         vTaskSuspendAll();
 6811              		.loc 1 7627 9
 6812 0010 FFF7FEFF 		bl	vTaskSuspendAll
7628:Middlewares/FreeRTOS/tasks.c ****         {
7629:Middlewares/FreeRTOS/tasks.c ****             /* We MUST enter a critical section to atomically check if a notification
7630:Middlewares/FreeRTOS/tasks.c ****              * has occurred and set the flag to indicate that we are waiting for
7631:Middlewares/FreeRTOS/tasks.c ****              * a notification. If we do not do so, a notification sent from an ISR
7632:Middlewares/FreeRTOS/tasks.c ****              * will get lost. */
7633:Middlewares/FreeRTOS/tasks.c ****             taskENTER_CRITICAL();
 6813              		.loc 1 7633 13
 6814 0014 FFF7FEFF 		bl	vPortEnterCritical
7634:Middlewares/FreeRTOS/tasks.c ****             {
7635:Middlewares/FreeRTOS/tasks.c ****                 /* Only block if the notification count is not already non-zero. */
7636:Middlewares/FreeRTOS/tasks.c ****                 if( pxCurrentTCB->ulNotifiedValue[ uxIndexToWaitOn ] == 0U )
 6815              		.loc 1 7636 33
 6816 0018 2F4B     		ldr	r3, .L417
 6817 001a 1A68     		ldr	r2, [r3]
 6818              		.loc 1 7636 50
 6819 001c FB68     		ldr	r3, [r7, #12]
 6820 001e 1433     		adds	r3, r3, #20
 6821 0020 9B00     		lsls	r3, r3, #2
 6822 0022 1344     		add	r3, r3, r2
 6823 0024 5B68     		ldr	r3, [r3, #4]
 6824              		.loc 1 7636 19
 6825 0026 002B     		cmp	r3, #0
 6826 0028 0BD1     		bne	.L411
7637:Middlewares/FreeRTOS/tasks.c ****                 {
7638:Middlewares/FreeRTOS/tasks.c ****                     /* Mark this task as waiting for a notification. */
7639:Middlewares/FreeRTOS/tasks.c ****                     pxCurrentTCB->ucNotifyState[ uxIndexToWaitOn ] = taskWAITING_NOTIFICATION;
 6827              		.loc 1 7639 33
 6828 002a 2B4B     		ldr	r3, .L417
ARM GAS  /tmp/ccF71V7c.s 			page 258


 6829 002c 1A68     		ldr	r2, [r3]
 6830              		.loc 1 7639 68
 6831 002e FB68     		ldr	r3, [r7, #12]
 6832 0030 1344     		add	r3, r3, r2
 6833 0032 5833     		adds	r3, r3, #88
 6834 0034 0122     		movs	r2, #1
 6835 0036 1A70     		strb	r2, [r3]
7640:Middlewares/FreeRTOS/tasks.c **** 
7641:Middlewares/FreeRTOS/tasks.c ****                     if( xTicksToWait > ( TickType_t ) 0 )
 6836              		.loc 1 7641 23
 6837 0038 7B68     		ldr	r3, [r7, #4]
 6838 003a 002B     		cmp	r3, #0
 6839 003c 01D0     		beq	.L411
7642:Middlewares/FreeRTOS/tasks.c ****                     {
7643:Middlewares/FreeRTOS/tasks.c ****                         xShouldBlock = pdTRUE;
 6840              		.loc 1 7643 38
 6841 003e 0123     		movs	r3, #1
 6842 0040 FB61     		str	r3, [r7, #28]
 6843              	.L411:
7644:Middlewares/FreeRTOS/tasks.c ****                     }
7645:Middlewares/FreeRTOS/tasks.c ****                     else
7646:Middlewares/FreeRTOS/tasks.c ****                     {
7647:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
7648:Middlewares/FreeRTOS/tasks.c ****                     }
7649:Middlewares/FreeRTOS/tasks.c ****                 }
7650:Middlewares/FreeRTOS/tasks.c ****                 else
7651:Middlewares/FreeRTOS/tasks.c ****                 {
7652:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
7653:Middlewares/FreeRTOS/tasks.c ****                 }
7654:Middlewares/FreeRTOS/tasks.c ****             }
7655:Middlewares/FreeRTOS/tasks.c ****             taskEXIT_CRITICAL();
 6844              		.loc 1 7655 13
 6845 0042 FFF7FEFF 		bl	vPortExitCritical
7656:Middlewares/FreeRTOS/tasks.c **** 
7657:Middlewares/FreeRTOS/tasks.c ****             /* We are now out of the critical section but the scheduler is still
7658:Middlewares/FreeRTOS/tasks.c ****              * suspended, so we are safe to do non-deterministic operations such
7659:Middlewares/FreeRTOS/tasks.c ****              * as prvAddCurrentTaskToDelayedList. */
7660:Middlewares/FreeRTOS/tasks.c ****             if( xShouldBlock == pdTRUE )
 6846              		.loc 1 7660 15
 6847 0046 FB69     		ldr	r3, [r7, #28]
 6848 0048 012B     		cmp	r3, #1
 6849 004a 03D1     		bne	.L412
7661:Middlewares/FreeRTOS/tasks.c ****             {
7662:Middlewares/FreeRTOS/tasks.c ****                 traceTASK_NOTIFY_TAKE_BLOCK( uxIndexToWaitOn );
7663:Middlewares/FreeRTOS/tasks.c ****                 prvAddCurrentTaskToDelayedList( xTicksToWait, pdTRUE );
 6850              		.loc 1 7663 17
 6851 004c 0121     		movs	r1, #1
 6852 004e 7868     		ldr	r0, [r7, #4]
 6853 0050 FFF7FEFF 		bl	prvAddCurrentTaskToDelayedList
 6854              	.L412:
7664:Middlewares/FreeRTOS/tasks.c ****             }
7665:Middlewares/FreeRTOS/tasks.c ****             else
7666:Middlewares/FreeRTOS/tasks.c ****             {
7667:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
7668:Middlewares/FreeRTOS/tasks.c ****             }
7669:Middlewares/FreeRTOS/tasks.c ****         }
7670:Middlewares/FreeRTOS/tasks.c ****         xAlreadyYielded = xTaskResumeAll();
ARM GAS  /tmp/ccF71V7c.s 			page 259


 6855              		.loc 1 7670 27
 6856 0054 FFF7FEFF 		bl	xTaskResumeAll
 6857 0058 B861     		str	r0, [r7, #24]
7671:Middlewares/FreeRTOS/tasks.c **** 
7672:Middlewares/FreeRTOS/tasks.c ****         /* Force a reschedule if xTaskResumeAll has not already done so. */
7673:Middlewares/FreeRTOS/tasks.c ****         if( ( xShouldBlock == pdTRUE ) && ( xAlreadyYielded == pdFALSE ) )
 6858              		.loc 1 7673 11
 6859 005a FB69     		ldr	r3, [r7, #28]
 6860 005c 012B     		cmp	r3, #1
 6861 005e 0AD1     		bne	.L413
 6862              		.loc 1 7673 40 discriminator 1
 6863 0060 BB69     		ldr	r3, [r7, #24]
 6864 0062 002B     		cmp	r3, #0
 6865 0064 07D1     		bne	.L413
7674:Middlewares/FreeRTOS/tasks.c ****         {
7675:Middlewares/FreeRTOS/tasks.c ****             taskYIELD_WITHIN_API();
 6866              		.loc 1 7675 13
 6867 0066 1D4B     		ldr	r3, .L417+4
 6868 0068 4FF08052 		mov	r2, #268435456
 6869 006c 1A60     		str	r2, [r3]
 6870              		.syntax unified
 6871              	@ 7675 "Middlewares/FreeRTOS/tasks.c" 1
 6872 006e BFF34F8F 		dsb
 6873              	@ 0 "" 2
 6874              	@ 7675 "Middlewares/FreeRTOS/tasks.c" 1
 6875 0072 BFF36F8F 		isb
 6876              	@ 0 "" 2
 6877              		.thumb
 6878              		.syntax unified
 6879              	.L413:
7676:Middlewares/FreeRTOS/tasks.c ****         }
7677:Middlewares/FreeRTOS/tasks.c ****         else
7678:Middlewares/FreeRTOS/tasks.c ****         {
7679:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
7680:Middlewares/FreeRTOS/tasks.c ****         }
7681:Middlewares/FreeRTOS/tasks.c **** 
7682:Middlewares/FreeRTOS/tasks.c ****         taskENTER_CRITICAL();
 6880              		.loc 1 7682 9
 6881 0076 FFF7FEFF 		bl	vPortEnterCritical
7683:Middlewares/FreeRTOS/tasks.c ****         {
7684:Middlewares/FreeRTOS/tasks.c ****             traceTASK_NOTIFY_TAKE( uxIndexToWaitOn );
7685:Middlewares/FreeRTOS/tasks.c ****             ulReturn = pxCurrentTCB->ulNotifiedValue[ uxIndexToWaitOn ];
 6882              		.loc 1 7685 36
 6883 007a 174B     		ldr	r3, .L417
 6884 007c 1A68     		ldr	r2, [r3]
 6885              		.loc 1 7685 22
 6886 007e FB68     		ldr	r3, [r7, #12]
 6887 0080 1433     		adds	r3, r3, #20
 6888 0082 9B00     		lsls	r3, r3, #2
 6889 0084 1344     		add	r3, r3, r2
 6890 0086 5B68     		ldr	r3, [r3, #4]
 6891 0088 7B61     		str	r3, [r7, #20]
7686:Middlewares/FreeRTOS/tasks.c **** 
7687:Middlewares/FreeRTOS/tasks.c ****             if( ulReturn != 0U )
 6892              		.loc 1 7687 15
 6893 008a 7B69     		ldr	r3, [r7, #20]
 6894 008c 002B     		cmp	r3, #0
ARM GAS  /tmp/ccF71V7c.s 			page 260


 6895 008e 14D0     		beq	.L414
7688:Middlewares/FreeRTOS/tasks.c ****             {
7689:Middlewares/FreeRTOS/tasks.c ****                 if( xClearCountOnExit != pdFALSE )
 6896              		.loc 1 7689 19
 6897 0090 BB68     		ldr	r3, [r7, #8]
 6898 0092 002B     		cmp	r3, #0
 6899 0094 08D0     		beq	.L415
7690:Middlewares/FreeRTOS/tasks.c ****                 {
7691:Middlewares/FreeRTOS/tasks.c ****                     pxCurrentTCB->ulNotifiedValue[ uxIndexToWaitOn ] = ( uint32_t ) 0U;
 6900              		.loc 1 7691 33
 6901 0096 104B     		ldr	r3, .L417
 6902 0098 1A68     		ldr	r2, [r3]
 6903              		.loc 1 7691 70
 6904 009a FB68     		ldr	r3, [r7, #12]
 6905 009c 1433     		adds	r3, r3, #20
 6906 009e 9B00     		lsls	r3, r3, #2
 6907 00a0 1344     		add	r3, r3, r2
 6908 00a2 0022     		movs	r2, #0
 6909 00a4 5A60     		str	r2, [r3, #4]
 6910 00a6 08E0     		b	.L414
 6911              	.L415:
7692:Middlewares/FreeRTOS/tasks.c ****                 }
7693:Middlewares/FreeRTOS/tasks.c ****                 else
7694:Middlewares/FreeRTOS/tasks.c ****                 {
7695:Middlewares/FreeRTOS/tasks.c ****                     pxCurrentTCB->ulNotifiedValue[ uxIndexToWaitOn ] = ulReturn - ( uint32_t ) 1;
 6912              		.loc 1 7695 33
 6913 00a8 0B4B     		ldr	r3, .L417
 6914 00aa 1968     		ldr	r1, [r3]
 6915              		.loc 1 7695 81
 6916 00ac 7B69     		ldr	r3, [r7, #20]
 6917 00ae 5A1E     		subs	r2, r3, #1
 6918              		.loc 1 7695 70
 6919 00b0 FB68     		ldr	r3, [r7, #12]
 6920 00b2 1433     		adds	r3, r3, #20
 6921 00b4 9B00     		lsls	r3, r3, #2
 6922 00b6 0B44     		add	r3, r3, r1
 6923 00b8 5A60     		str	r2, [r3, #4]
 6924              	.L414:
7696:Middlewares/FreeRTOS/tasks.c ****                 }
7697:Middlewares/FreeRTOS/tasks.c ****             }
7698:Middlewares/FreeRTOS/tasks.c ****             else
7699:Middlewares/FreeRTOS/tasks.c ****             {
7700:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
7701:Middlewares/FreeRTOS/tasks.c ****             }
7702:Middlewares/FreeRTOS/tasks.c **** 
7703:Middlewares/FreeRTOS/tasks.c ****             pxCurrentTCB->ucNotifyState[ uxIndexToWaitOn ] = taskNOT_WAITING_NOTIFICATION;
 6925              		.loc 1 7703 25
 6926 00ba 074B     		ldr	r3, .L417
 6927 00bc 1A68     		ldr	r2, [r3]
 6928              		.loc 1 7703 60
 6929 00be FB68     		ldr	r3, [r7, #12]
 6930 00c0 1344     		add	r3, r3, r2
 6931 00c2 5833     		adds	r3, r3, #88
 6932 00c4 0022     		movs	r2, #0
 6933 00c6 1A70     		strb	r2, [r3]
7704:Middlewares/FreeRTOS/tasks.c ****         }
7705:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL();
ARM GAS  /tmp/ccF71V7c.s 			page 261


 6934              		.loc 1 7705 9
 6935 00c8 FFF7FEFF 		bl	vPortExitCritical
7706:Middlewares/FreeRTOS/tasks.c **** 
7707:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_ulTaskGenericNotifyTake( ulReturn );
7708:Middlewares/FreeRTOS/tasks.c **** 
7709:Middlewares/FreeRTOS/tasks.c ****         return ulReturn;
 6936              		.loc 1 7709 16
 6937 00cc 7B69     		ldr	r3, [r7, #20]
7710:Middlewares/FreeRTOS/tasks.c ****     }
 6938              		.loc 1 7710 5
 6939 00ce 1846     		mov	r0, r3
 6940 00d0 2037     		adds	r7, r7, #32
 6941              		.cfi_def_cfa_offset 8
 6942 00d2 BD46     		mov	sp, r7
 6943              		.cfi_def_cfa_register 13
 6944              		@ sp needed
 6945 00d4 80BD     		pop	{r7, pc}
 6946              	.L418:
 6947 00d6 00BF     		.align	2
 6948              	.L417:
 6949 00d8 00000000 		.word	pxCurrentTCB
 6950 00dc 04ED00E0 		.word	-536810236
 6951              		.cfi_endproc
 6952              	.LFE64:
 6954              		.section	.text.xTaskGenericNotifyWait,"ax",%progbits
 6955              		.align	1
 6956              		.global	xTaskGenericNotifyWait
 6957              		.syntax unified
 6958              		.thumb
 6959              		.thumb_func
 6961              	xTaskGenericNotifyWait:
 6962              	.LFB65:
7711:Middlewares/FreeRTOS/tasks.c **** 
7712:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_TASK_NOTIFICATIONS */
7713:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
7714:Middlewares/FreeRTOS/tasks.c **** 
7715:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_TASK_NOTIFICATIONS == 1 )
7716:Middlewares/FreeRTOS/tasks.c **** 
7717:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xTaskGenericNotifyWait( UBaseType_t uxIndexToWaitOn,
7718:Middlewares/FreeRTOS/tasks.c ****                                        uint32_t ulBitsToClearOnEntry,
7719:Middlewares/FreeRTOS/tasks.c ****                                        uint32_t ulBitsToClearOnExit,
7720:Middlewares/FreeRTOS/tasks.c ****                                        uint32_t * pulNotificationValue,
7721:Middlewares/FreeRTOS/tasks.c ****                                        TickType_t xTicksToWait )
7722:Middlewares/FreeRTOS/tasks.c ****     {
 6963              		.loc 1 7722 5
 6964              		.cfi_startproc
 6965              		@ args = 4, pretend = 0, frame = 32
 6966              		@ frame_needed = 1, uses_anonymous_args = 0
 6967 0000 80B5     		push	{r7, lr}
 6968              		.cfi_def_cfa_offset 8
 6969              		.cfi_offset 7, -8
 6970              		.cfi_offset 14, -4
 6971 0002 88B0     		sub	sp, sp, #32
 6972              		.cfi_def_cfa_offset 40
 6973 0004 00AF     		add	r7, sp, #0
 6974              		.cfi_def_cfa_register 7
 6975 0006 F860     		str	r0, [r7, #12]
ARM GAS  /tmp/ccF71V7c.s 			page 262


 6976 0008 B960     		str	r1, [r7, #8]
 6977 000a 7A60     		str	r2, [r7, #4]
 6978 000c 3B60     		str	r3, [r7]
7723:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xReturn, xAlreadyYielded, xShouldBlock = pdFALSE;
 6979              		.loc 1 7723 46
 6980 000e 0023     		movs	r3, #0
 6981 0010 BB61     		str	r3, [r7, #24]
7724:Middlewares/FreeRTOS/tasks.c **** 
7725:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskGenericNotifyWait( uxIndexToWaitOn, ulBitsToClearOnEntry, ulBitsToClearOnEx
7726:Middlewares/FreeRTOS/tasks.c **** 
7727:Middlewares/FreeRTOS/tasks.c ****         configASSERT( uxIndexToWaitOn < configTASK_NOTIFICATION_ARRAY_ENTRIES );
7728:Middlewares/FreeRTOS/tasks.c **** 
7729:Middlewares/FreeRTOS/tasks.c ****         /* We suspend the scheduler here as prvAddCurrentTaskToDelayedList is a
7730:Middlewares/FreeRTOS/tasks.c ****          * non-deterministic operation. */
7731:Middlewares/FreeRTOS/tasks.c ****         vTaskSuspendAll();
 6982              		.loc 1 7731 9
 6983 0012 FFF7FEFF 		bl	vTaskSuspendAll
7732:Middlewares/FreeRTOS/tasks.c ****         {
7733:Middlewares/FreeRTOS/tasks.c ****             /* We MUST enter a critical section to atomically check and update the
7734:Middlewares/FreeRTOS/tasks.c ****              * task notification value. If we do not do so, a notification from
7735:Middlewares/FreeRTOS/tasks.c ****              * an ISR will get lost. */
7736:Middlewares/FreeRTOS/tasks.c ****             taskENTER_CRITICAL();
 6984              		.loc 1 7736 13
 6985 0016 FFF7FEFF 		bl	vPortEnterCritical
7737:Middlewares/FreeRTOS/tasks.c ****             {
7738:Middlewares/FreeRTOS/tasks.c ****                 /* Only block if a notification is not already pending. */
7739:Middlewares/FreeRTOS/tasks.c ****                 if( pxCurrentTCB->ucNotifyState[ uxIndexToWaitOn ] != taskNOTIFICATION_RECEIVED )
 6986              		.loc 1 7739 33
 6987 001a 3B4B     		ldr	r3, .L427
 6988 001c 1A68     		ldr	r2, [r3]
 6989              		.loc 1 7739 48
 6990 001e FB68     		ldr	r3, [r7, #12]
 6991 0020 1344     		add	r3, r3, r2
 6992 0022 5833     		adds	r3, r3, #88
 6993 0024 1B78     		ldrb	r3, [r3]
 6994 0026 DBB2     		uxtb	r3, r3
 6995              		.loc 1 7739 19
 6996 0028 022B     		cmp	r3, #2
 6997 002a 1AD0     		beq	.L420
7740:Middlewares/FreeRTOS/tasks.c ****                 {
7741:Middlewares/FreeRTOS/tasks.c ****                     /* Clear bits in the task's notification value as bits may get
7742:Middlewares/FreeRTOS/tasks.c ****                      * set by the notifying task or interrupt. This can be used
7743:Middlewares/FreeRTOS/tasks.c ****                      * to clear the value to zero. */
7744:Middlewares/FreeRTOS/tasks.c ****                     pxCurrentTCB->ulNotifiedValue[ uxIndexToWaitOn ] &= ~ulBitsToClearOnEntry;
 6998              		.loc 1 7744 33
 6999 002c 364B     		ldr	r3, .L427
 7000 002e 1A68     		ldr	r2, [r3]
 7001              		.loc 1 7744 50
 7002 0030 FB68     		ldr	r3, [r7, #12]
 7003 0032 1433     		adds	r3, r3, #20
 7004 0034 9B00     		lsls	r3, r3, #2
 7005 0036 1344     		add	r3, r3, r2
 7006 0038 5968     		ldr	r1, [r3, #4]
 7007              		.loc 1 7744 73
 7008 003a BB68     		ldr	r3, [r7, #8]
 7009 003c DB43     		mvns	r3, r3
 7010              		.loc 1 7744 70
ARM GAS  /tmp/ccF71V7c.s 			page 263


 7011 003e 1940     		ands	r1, r1, r3
 7012 0040 FB68     		ldr	r3, [r7, #12]
 7013 0042 1433     		adds	r3, r3, #20
 7014 0044 9B00     		lsls	r3, r3, #2
 7015 0046 1344     		add	r3, r3, r2
 7016 0048 5960     		str	r1, [r3, #4]
7745:Middlewares/FreeRTOS/tasks.c **** 
7746:Middlewares/FreeRTOS/tasks.c ****                     /* Mark this task as waiting for a notification. */
7747:Middlewares/FreeRTOS/tasks.c ****                     pxCurrentTCB->ucNotifyState[ uxIndexToWaitOn ] = taskWAITING_NOTIFICATION;
 7017              		.loc 1 7747 33
 7018 004a 2F4B     		ldr	r3, .L427
 7019 004c 1A68     		ldr	r2, [r3]
 7020              		.loc 1 7747 68
 7021 004e FB68     		ldr	r3, [r7, #12]
 7022 0050 1344     		add	r3, r3, r2
 7023 0052 5833     		adds	r3, r3, #88
 7024 0054 0122     		movs	r2, #1
 7025 0056 1A70     		strb	r2, [r3]
7748:Middlewares/FreeRTOS/tasks.c **** 
7749:Middlewares/FreeRTOS/tasks.c ****                     if( xTicksToWait > ( TickType_t ) 0 )
 7026              		.loc 1 7749 23
 7027 0058 BB6A     		ldr	r3, [r7, #40]
 7028 005a 002B     		cmp	r3, #0
 7029 005c 01D0     		beq	.L420
7750:Middlewares/FreeRTOS/tasks.c ****                     {
7751:Middlewares/FreeRTOS/tasks.c ****                         xShouldBlock = pdTRUE;
 7030              		.loc 1 7751 38
 7031 005e 0123     		movs	r3, #1
 7032 0060 BB61     		str	r3, [r7, #24]
 7033              	.L420:
7752:Middlewares/FreeRTOS/tasks.c ****                     }
7753:Middlewares/FreeRTOS/tasks.c ****                     else
7754:Middlewares/FreeRTOS/tasks.c ****                     {
7755:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
7756:Middlewares/FreeRTOS/tasks.c ****                     }
7757:Middlewares/FreeRTOS/tasks.c ****                 }
7758:Middlewares/FreeRTOS/tasks.c ****                 else
7759:Middlewares/FreeRTOS/tasks.c ****                 {
7760:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
7761:Middlewares/FreeRTOS/tasks.c ****                 }
7762:Middlewares/FreeRTOS/tasks.c ****             }
7763:Middlewares/FreeRTOS/tasks.c ****             taskEXIT_CRITICAL();
 7034              		.loc 1 7763 13
 7035 0062 FFF7FEFF 		bl	vPortExitCritical
7764:Middlewares/FreeRTOS/tasks.c **** 
7765:Middlewares/FreeRTOS/tasks.c ****             /* We are now out of the critical section but the scheduler is still
7766:Middlewares/FreeRTOS/tasks.c ****              * suspended, so we are safe to do non-deterministic operations such
7767:Middlewares/FreeRTOS/tasks.c ****              * as prvAddCurrentTaskToDelayedList. */
7768:Middlewares/FreeRTOS/tasks.c ****             if( xShouldBlock == pdTRUE )
 7036              		.loc 1 7768 15
 7037 0066 BB69     		ldr	r3, [r7, #24]
 7038 0068 012B     		cmp	r3, #1
 7039 006a 03D1     		bne	.L421
7769:Middlewares/FreeRTOS/tasks.c ****             {
7770:Middlewares/FreeRTOS/tasks.c ****                 traceTASK_NOTIFY_WAIT_BLOCK( uxIndexToWaitOn );
7771:Middlewares/FreeRTOS/tasks.c ****                 prvAddCurrentTaskToDelayedList( xTicksToWait, pdTRUE );
 7040              		.loc 1 7771 17
ARM GAS  /tmp/ccF71V7c.s 			page 264


 7041 006c 0121     		movs	r1, #1
 7042 006e B86A     		ldr	r0, [r7, #40]
 7043 0070 FFF7FEFF 		bl	prvAddCurrentTaskToDelayedList
 7044              	.L421:
7772:Middlewares/FreeRTOS/tasks.c ****             }
7773:Middlewares/FreeRTOS/tasks.c ****             else
7774:Middlewares/FreeRTOS/tasks.c ****             {
7775:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
7776:Middlewares/FreeRTOS/tasks.c ****             }
7777:Middlewares/FreeRTOS/tasks.c ****         }
7778:Middlewares/FreeRTOS/tasks.c ****         xAlreadyYielded = xTaskResumeAll();
 7045              		.loc 1 7778 27
 7046 0074 FFF7FEFF 		bl	xTaskResumeAll
 7047 0078 7861     		str	r0, [r7, #20]
7779:Middlewares/FreeRTOS/tasks.c **** 
7780:Middlewares/FreeRTOS/tasks.c ****         /* Force a reschedule if xTaskResumeAll has not already done so. */
7781:Middlewares/FreeRTOS/tasks.c ****         if( ( xShouldBlock == pdTRUE ) && ( xAlreadyYielded == pdFALSE ) )
 7048              		.loc 1 7781 11
 7049 007a BB69     		ldr	r3, [r7, #24]
 7050 007c 012B     		cmp	r3, #1
 7051 007e 0AD1     		bne	.L422
 7052              		.loc 1 7781 40 discriminator 1
 7053 0080 7B69     		ldr	r3, [r7, #20]
 7054 0082 002B     		cmp	r3, #0
 7055 0084 07D1     		bne	.L422
7782:Middlewares/FreeRTOS/tasks.c ****         {
7783:Middlewares/FreeRTOS/tasks.c ****             taskYIELD_WITHIN_API();
 7056              		.loc 1 7783 13
 7057 0086 214B     		ldr	r3, .L427+4
 7058 0088 4FF08052 		mov	r2, #268435456
 7059 008c 1A60     		str	r2, [r3]
 7060              		.syntax unified
 7061              	@ 7783 "Middlewares/FreeRTOS/tasks.c" 1
 7062 008e BFF34F8F 		dsb
 7063              	@ 0 "" 2
 7064              	@ 7783 "Middlewares/FreeRTOS/tasks.c" 1
 7065 0092 BFF36F8F 		isb
 7066              	@ 0 "" 2
 7067              		.thumb
 7068              		.syntax unified
 7069              	.L422:
7784:Middlewares/FreeRTOS/tasks.c ****         }
7785:Middlewares/FreeRTOS/tasks.c ****         else
7786:Middlewares/FreeRTOS/tasks.c ****         {
7787:Middlewares/FreeRTOS/tasks.c ****             mtCOVERAGE_TEST_MARKER();
7788:Middlewares/FreeRTOS/tasks.c ****         }
7789:Middlewares/FreeRTOS/tasks.c **** 
7790:Middlewares/FreeRTOS/tasks.c ****         taskENTER_CRITICAL();
 7070              		.loc 1 7790 9
 7071 0096 FFF7FEFF 		bl	vPortEnterCritical
7791:Middlewares/FreeRTOS/tasks.c ****         {
7792:Middlewares/FreeRTOS/tasks.c ****             traceTASK_NOTIFY_WAIT( uxIndexToWaitOn );
7793:Middlewares/FreeRTOS/tasks.c **** 
7794:Middlewares/FreeRTOS/tasks.c ****             if( pulNotificationValue != NULL )
 7072              		.loc 1 7794 15
 7073 009a 3B68     		ldr	r3, [r7]
 7074 009c 002B     		cmp	r3, #0
ARM GAS  /tmp/ccF71V7c.s 			page 265


 7075 009e 08D0     		beq	.L423
7795:Middlewares/FreeRTOS/tasks.c ****             {
7796:Middlewares/FreeRTOS/tasks.c ****                 /* Output the current notification value, which may or may not
7797:Middlewares/FreeRTOS/tasks.c ****                  * have changed. */
7798:Middlewares/FreeRTOS/tasks.c ****                 *pulNotificationValue = pxCurrentTCB->ulNotifiedValue[ uxIndexToWaitOn ];
 7076              		.loc 1 7798 53
 7077 00a0 194B     		ldr	r3, .L427
 7078 00a2 1A68     		ldr	r2, [r3]
 7079              		.loc 1 7798 70
 7080 00a4 FB68     		ldr	r3, [r7, #12]
 7081 00a6 1433     		adds	r3, r3, #20
 7082 00a8 9B00     		lsls	r3, r3, #2
 7083 00aa 1344     		add	r3, r3, r2
 7084 00ac 5A68     		ldr	r2, [r3, #4]
 7085              		.loc 1 7798 39
 7086 00ae 3B68     		ldr	r3, [r7]
 7087 00b0 1A60     		str	r2, [r3]
 7088              	.L423:
7799:Middlewares/FreeRTOS/tasks.c ****             }
7800:Middlewares/FreeRTOS/tasks.c **** 
7801:Middlewares/FreeRTOS/tasks.c ****             /* If ucNotifyValue is set then either the task never entered the
7802:Middlewares/FreeRTOS/tasks.c ****              * blocked state (because a notification was already pending) or the
7803:Middlewares/FreeRTOS/tasks.c ****              * task unblocked because of a notification.  Otherwise the task
7804:Middlewares/FreeRTOS/tasks.c ****              * unblocked because of a timeout. */
7805:Middlewares/FreeRTOS/tasks.c ****             if( pxCurrentTCB->ucNotifyState[ uxIndexToWaitOn ] != taskNOTIFICATION_RECEIVED )
 7089              		.loc 1 7805 29
 7090 00b2 154B     		ldr	r3, .L427
 7091 00b4 1A68     		ldr	r2, [r3]
 7092              		.loc 1 7805 44
 7093 00b6 FB68     		ldr	r3, [r7, #12]
 7094 00b8 1344     		add	r3, r3, r2
 7095 00ba 5833     		adds	r3, r3, #88
 7096 00bc 1B78     		ldrb	r3, [r3]
 7097 00be DBB2     		uxtb	r3, r3
 7098              		.loc 1 7805 15
 7099 00c0 022B     		cmp	r3, #2
 7100 00c2 02D0     		beq	.L424
7806:Middlewares/FreeRTOS/tasks.c ****             {
7807:Middlewares/FreeRTOS/tasks.c ****                 /* A notification was not received. */
7808:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pdFALSE;
 7101              		.loc 1 7808 25
 7102 00c4 0023     		movs	r3, #0
 7103 00c6 FB61     		str	r3, [r7, #28]
 7104 00c8 10E0     		b	.L425
 7105              	.L424:
7809:Middlewares/FreeRTOS/tasks.c ****             }
7810:Middlewares/FreeRTOS/tasks.c ****             else
7811:Middlewares/FreeRTOS/tasks.c ****             {
7812:Middlewares/FreeRTOS/tasks.c ****                 /* A notification was already pending or a notification was
7813:Middlewares/FreeRTOS/tasks.c ****                  * received while the task was waiting. */
7814:Middlewares/FreeRTOS/tasks.c ****                 pxCurrentTCB->ulNotifiedValue[ uxIndexToWaitOn ] &= ~ulBitsToClearOnExit;
 7106              		.loc 1 7814 29
 7107 00ca 0F4B     		ldr	r3, .L427
 7108 00cc 1A68     		ldr	r2, [r3]
 7109              		.loc 1 7814 46
 7110 00ce FB68     		ldr	r3, [r7, #12]
 7111 00d0 1433     		adds	r3, r3, #20
ARM GAS  /tmp/ccF71V7c.s 			page 266


 7112 00d2 9B00     		lsls	r3, r3, #2
 7113 00d4 1344     		add	r3, r3, r2
 7114 00d6 5968     		ldr	r1, [r3, #4]
 7115              		.loc 1 7814 69
 7116 00d8 7B68     		ldr	r3, [r7, #4]
 7117 00da DB43     		mvns	r3, r3
 7118              		.loc 1 7814 66
 7119 00dc 1940     		ands	r1, r1, r3
 7120 00de FB68     		ldr	r3, [r7, #12]
 7121 00e0 1433     		adds	r3, r3, #20
 7122 00e2 9B00     		lsls	r3, r3, #2
 7123 00e4 1344     		add	r3, r3, r2
 7124 00e6 5960     		str	r1, [r3, #4]
7815:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pdTRUE;
 7125              		.loc 1 7815 25
 7126 00e8 0123     		movs	r3, #1
 7127 00ea FB61     		str	r3, [r7, #28]
 7128              	.L425:
7816:Middlewares/FreeRTOS/tasks.c ****             }
7817:Middlewares/FreeRTOS/tasks.c **** 
7818:Middlewares/FreeRTOS/tasks.c ****             pxCurrentTCB->ucNotifyState[ uxIndexToWaitOn ] = taskNOT_WAITING_NOTIFICATION;
 7129              		.loc 1 7818 25
 7130 00ec 064B     		ldr	r3, .L427
 7131 00ee 1A68     		ldr	r2, [r3]
 7132              		.loc 1 7818 60
 7133 00f0 FB68     		ldr	r3, [r7, #12]
 7134 00f2 1344     		add	r3, r3, r2
 7135 00f4 5833     		adds	r3, r3, #88
 7136 00f6 0022     		movs	r2, #0
 7137 00f8 1A70     		strb	r2, [r3]
7819:Middlewares/FreeRTOS/tasks.c ****         }
7820:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL();
 7138              		.loc 1 7820 9
 7139 00fa FFF7FEFF 		bl	vPortExitCritical
7821:Middlewares/FreeRTOS/tasks.c **** 
7822:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskGenericNotifyWait( xReturn );
7823:Middlewares/FreeRTOS/tasks.c **** 
7824:Middlewares/FreeRTOS/tasks.c ****         return xReturn;
 7140              		.loc 1 7824 16
 7141 00fe FB69     		ldr	r3, [r7, #28]
7825:Middlewares/FreeRTOS/tasks.c ****     }
 7142              		.loc 1 7825 5
 7143 0100 1846     		mov	r0, r3
 7144 0102 2037     		adds	r7, r7, #32
 7145              		.cfi_def_cfa_offset 8
 7146 0104 BD46     		mov	sp, r7
 7147              		.cfi_def_cfa_register 13
 7148              		@ sp needed
 7149 0106 80BD     		pop	{r7, pc}
 7150              	.L428:
 7151              		.align	2
 7152              	.L427:
 7153 0108 00000000 		.word	pxCurrentTCB
 7154 010c 04ED00E0 		.word	-536810236
 7155              		.cfi_endproc
 7156              	.LFE65:
 7158              		.section	.text.xTaskGenericNotify,"ax",%progbits
ARM GAS  /tmp/ccF71V7c.s 			page 267


 7159              		.align	1
 7160              		.global	xTaskGenericNotify
 7161              		.syntax unified
 7162              		.thumb
 7163              		.thumb_func
 7165              	xTaskGenericNotify:
 7166              	.LFB66:
7826:Middlewares/FreeRTOS/tasks.c **** 
7827:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_TASK_NOTIFICATIONS */
7828:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
7829:Middlewares/FreeRTOS/tasks.c **** 
7830:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_TASK_NOTIFICATIONS == 1 )
7831:Middlewares/FreeRTOS/tasks.c **** 
7832:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xTaskGenericNotify( TaskHandle_t xTaskToNotify,
7833:Middlewares/FreeRTOS/tasks.c ****                                    UBaseType_t uxIndexToNotify,
7834:Middlewares/FreeRTOS/tasks.c ****                                    uint32_t ulValue,
7835:Middlewares/FreeRTOS/tasks.c ****                                    eNotifyAction eAction,
7836:Middlewares/FreeRTOS/tasks.c ****                                    uint32_t * pulPreviousNotificationValue )
7837:Middlewares/FreeRTOS/tasks.c ****     {
 7167              		.loc 1 7837 5
 7168              		.cfi_startproc
 7169              		@ args = 4, pretend = 0, frame = 40
 7170              		@ frame_needed = 1, uses_anonymous_args = 0
 7171 0000 80B5     		push	{r7, lr}
 7172              		.cfi_def_cfa_offset 8
 7173              		.cfi_offset 7, -8
 7174              		.cfi_offset 14, -4
 7175 0002 8AB0     		sub	sp, sp, #40
 7176              		.cfi_def_cfa_offset 48
 7177 0004 00AF     		add	r7, sp, #0
 7178              		.cfi_def_cfa_register 7
 7179 0006 F860     		str	r0, [r7, #12]
 7180 0008 B960     		str	r1, [r7, #8]
 7181 000a 7A60     		str	r2, [r7, #4]
 7182 000c FB70     		strb	r3, [r7, #3]
7838:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
7839:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xReturn = pdPASS;
 7183              		.loc 1 7839 20
 7184 000e 0123     		movs	r3, #1
 7185 0010 7B62     		str	r3, [r7, #36]
7840:Middlewares/FreeRTOS/tasks.c ****         uint8_t ucOriginalNotifyState;
7841:Middlewares/FreeRTOS/tasks.c **** 
7842:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskGenericNotify( xTaskToNotify, uxIndexToNotify, ulValue, eAction, pulPreviou
7843:Middlewares/FreeRTOS/tasks.c **** 
7844:Middlewares/FreeRTOS/tasks.c ****         configASSERT( uxIndexToNotify < configTASK_NOTIFICATION_ARRAY_ENTRIES );
7845:Middlewares/FreeRTOS/tasks.c ****         configASSERT( xTaskToNotify );
7846:Middlewares/FreeRTOS/tasks.c ****         pxTCB = xTaskToNotify;
 7186              		.loc 1 7846 15
 7187 0012 FB68     		ldr	r3, [r7, #12]
 7188 0014 3B62     		str	r3, [r7, #32]
7847:Middlewares/FreeRTOS/tasks.c **** 
7848:Middlewares/FreeRTOS/tasks.c ****         taskENTER_CRITICAL();
 7189              		.loc 1 7848 9
 7190 0016 FFF7FEFF 		bl	vPortEnterCritical
7849:Middlewares/FreeRTOS/tasks.c ****         {
7850:Middlewares/FreeRTOS/tasks.c ****             if( pulPreviousNotificationValue != NULL )
 7191              		.loc 1 7850 15
ARM GAS  /tmp/ccF71V7c.s 			page 268


 7192 001a 3B6B     		ldr	r3, [r7, #48]
 7193 001c 002B     		cmp	r3, #0
 7194 001e 07D0     		beq	.L430
7851:Middlewares/FreeRTOS/tasks.c ****             {
7852:Middlewares/FreeRTOS/tasks.c ****                 *pulPreviousNotificationValue = pxTCB->ulNotifiedValue[ uxIndexToNotify ];
 7195              		.loc 1 7852 71
 7196 0020 3A6A     		ldr	r2, [r7, #32]
 7197 0022 BB68     		ldr	r3, [r7, #8]
 7198 0024 1433     		adds	r3, r3, #20
 7199 0026 9B00     		lsls	r3, r3, #2
 7200 0028 1344     		add	r3, r3, r2
 7201 002a 5A68     		ldr	r2, [r3, #4]
 7202              		.loc 1 7852 47
 7203 002c 3B6B     		ldr	r3, [r7, #48]
 7204 002e 1A60     		str	r2, [r3]
 7205              	.L430:
7853:Middlewares/FreeRTOS/tasks.c ****             }
7854:Middlewares/FreeRTOS/tasks.c **** 
7855:Middlewares/FreeRTOS/tasks.c ****             ucOriginalNotifyState = pxTCB->ucNotifyState[ uxIndexToNotify ];
 7206              		.loc 1 7855 35
 7207 0030 3A6A     		ldr	r2, [r7, #32]
 7208 0032 BB68     		ldr	r3, [r7, #8]
 7209 0034 1344     		add	r3, r3, r2
 7210 0036 5833     		adds	r3, r3, #88
 7211 0038 1B78     		ldrb	r3, [r3]
 7212 003a FB77     		strb	r3, [r7, #31]
7856:Middlewares/FreeRTOS/tasks.c **** 
7857:Middlewares/FreeRTOS/tasks.c ****             pxTCB->ucNotifyState[ uxIndexToNotify ] = taskNOTIFICATION_RECEIVED;
 7213              		.loc 1 7857 53
 7214 003c 3A6A     		ldr	r2, [r7, #32]
 7215 003e BB68     		ldr	r3, [r7, #8]
 7216 0040 1344     		add	r3, r3, r2
 7217 0042 5833     		adds	r3, r3, #88
 7218 0044 0222     		movs	r2, #2
 7219 0046 1A70     		strb	r2, [r3]
7858:Middlewares/FreeRTOS/tasks.c **** 
7859:Middlewares/FreeRTOS/tasks.c ****             switch( eAction )
 7220              		.loc 1 7859 13
 7221 0048 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 7222 004a 042B     		cmp	r3, #4
 7223 004c 3FD8     		bhi	.L445
 7224 004e 01A2     		adr	r2, .L433
 7225 0050 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 7226              		.p2align 2
 7227              	.L433:
 7228 0054 CF000000 		.word	.L445+1
 7229 0058 69000000 		.word	.L436+1
 7230 005c 87000000 		.word	.L435+1
 7231 0060 A3000000 		.word	.L434+1
 7232 0064 B3000000 		.word	.L432+1
 7233              		.p2align 1
 7234              	.L436:
7860:Middlewares/FreeRTOS/tasks.c ****             {
7861:Middlewares/FreeRTOS/tasks.c ****                 case eSetBits:
7862:Middlewares/FreeRTOS/tasks.c ****                     pxTCB->ulNotifiedValue[ uxIndexToNotify ] |= ulValue;
 7235              		.loc 1 7862 43
 7236 0068 3A6A     		ldr	r2, [r7, #32]
ARM GAS  /tmp/ccF71V7c.s 			page 269


 7237 006a BB68     		ldr	r3, [r7, #8]
 7238 006c 1433     		adds	r3, r3, #20
 7239 006e 9B00     		lsls	r3, r3, #2
 7240 0070 1344     		add	r3, r3, r2
 7241 0072 5A68     		ldr	r2, [r3, #4]
 7242              		.loc 1 7862 63
 7243 0074 7B68     		ldr	r3, [r7, #4]
 7244 0076 1A43     		orrs	r2, r2, r3
 7245 0078 396A     		ldr	r1, [r7, #32]
 7246 007a BB68     		ldr	r3, [r7, #8]
 7247 007c 1433     		adds	r3, r3, #20
 7248 007e 9B00     		lsls	r3, r3, #2
 7249 0080 0B44     		add	r3, r3, r1
 7250 0082 5A60     		str	r2, [r3, #4]
7863:Middlewares/FreeRTOS/tasks.c ****                     break;
 7251              		.loc 1 7863 21
 7252 0084 24E0     		b	.L438
 7253              	.L435:
7864:Middlewares/FreeRTOS/tasks.c **** 
7865:Middlewares/FreeRTOS/tasks.c ****                 case eIncrement:
7866:Middlewares/FreeRTOS/tasks.c ****                     ( pxTCB->ulNotifiedValue[ uxIndexToNotify ] )++;
 7254              		.loc 1 7866 45
 7255 0086 3A6A     		ldr	r2, [r7, #32]
 7256 0088 BB68     		ldr	r3, [r7, #8]
 7257 008a 1433     		adds	r3, r3, #20
 7258 008c 9B00     		lsls	r3, r3, #2
 7259 008e 1344     		add	r3, r3, r2
 7260 0090 5B68     		ldr	r3, [r3, #4]
 7261              		.loc 1 7866 66
 7262 0092 5A1C     		adds	r2, r3, #1
 7263 0094 396A     		ldr	r1, [r7, #32]
 7264 0096 BB68     		ldr	r3, [r7, #8]
 7265 0098 1433     		adds	r3, r3, #20
 7266 009a 9B00     		lsls	r3, r3, #2
 7267 009c 0B44     		add	r3, r3, r1
 7268 009e 5A60     		str	r2, [r3, #4]
7867:Middlewares/FreeRTOS/tasks.c ****                     break;
 7269              		.loc 1 7867 21
 7270 00a0 16E0     		b	.L438
 7271              	.L434:
7868:Middlewares/FreeRTOS/tasks.c **** 
7869:Middlewares/FreeRTOS/tasks.c ****                 case eSetValueWithOverwrite:
7870:Middlewares/FreeRTOS/tasks.c ****                     pxTCB->ulNotifiedValue[ uxIndexToNotify ] = ulValue;
 7272              		.loc 1 7870 63
 7273 00a2 3A6A     		ldr	r2, [r7, #32]
 7274 00a4 BB68     		ldr	r3, [r7, #8]
 7275 00a6 1433     		adds	r3, r3, #20
 7276 00a8 9B00     		lsls	r3, r3, #2
 7277 00aa 1344     		add	r3, r3, r2
 7278 00ac 7A68     		ldr	r2, [r7, #4]
 7279 00ae 5A60     		str	r2, [r3, #4]
7871:Middlewares/FreeRTOS/tasks.c ****                     break;
 7280              		.loc 1 7871 21
 7281 00b0 0EE0     		b	.L438
 7282              	.L432:
7872:Middlewares/FreeRTOS/tasks.c **** 
7873:Middlewares/FreeRTOS/tasks.c ****                 case eSetValueWithoutOverwrite:
ARM GAS  /tmp/ccF71V7c.s 			page 270


7874:Middlewares/FreeRTOS/tasks.c **** 
7875:Middlewares/FreeRTOS/tasks.c ****                     if( ucOriginalNotifyState != taskNOTIFICATION_RECEIVED )
 7283              		.loc 1 7875 23
 7284 00b2 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 7285 00b4 022B     		cmp	r3, #2
 7286 00b6 07D0     		beq	.L439
7876:Middlewares/FreeRTOS/tasks.c ****                     {
7877:Middlewares/FreeRTOS/tasks.c ****                         pxTCB->ulNotifiedValue[ uxIndexToNotify ] = ulValue;
 7287              		.loc 1 7877 67
 7288 00b8 3A6A     		ldr	r2, [r7, #32]
 7289 00ba BB68     		ldr	r3, [r7, #8]
 7290 00bc 1433     		adds	r3, r3, #20
 7291 00be 9B00     		lsls	r3, r3, #2
 7292 00c0 1344     		add	r3, r3, r2
 7293 00c2 7A68     		ldr	r2, [r7, #4]
 7294 00c4 5A60     		str	r2, [r3, #4]
7878:Middlewares/FreeRTOS/tasks.c ****                     }
7879:Middlewares/FreeRTOS/tasks.c ****                     else
7880:Middlewares/FreeRTOS/tasks.c ****                     {
7881:Middlewares/FreeRTOS/tasks.c ****                         /* The value could not be written to the task. */
7882:Middlewares/FreeRTOS/tasks.c ****                         xReturn = pdFAIL;
7883:Middlewares/FreeRTOS/tasks.c ****                     }
7884:Middlewares/FreeRTOS/tasks.c **** 
7885:Middlewares/FreeRTOS/tasks.c ****                     break;
 7295              		.loc 1 7885 21
 7296 00c6 03E0     		b	.L438
 7297              	.L439:
7882:Middlewares/FreeRTOS/tasks.c ****                     }
 7298              		.loc 1 7882 33
 7299 00c8 0023     		movs	r3, #0
 7300 00ca 7B62     		str	r3, [r7, #36]
 7301              		.loc 1 7885 21
 7302 00cc 00E0     		b	.L438
 7303              	.L445:
7886:Middlewares/FreeRTOS/tasks.c **** 
7887:Middlewares/FreeRTOS/tasks.c ****                 case eNoAction:
7888:Middlewares/FreeRTOS/tasks.c **** 
7889:Middlewares/FreeRTOS/tasks.c ****                     /* The task is being notified without its notify value being
7890:Middlewares/FreeRTOS/tasks.c ****                      * updated. */
7891:Middlewares/FreeRTOS/tasks.c ****                     break;
7892:Middlewares/FreeRTOS/tasks.c **** 
7893:Middlewares/FreeRTOS/tasks.c ****                 default:
7894:Middlewares/FreeRTOS/tasks.c **** 
7895:Middlewares/FreeRTOS/tasks.c ****                     /* Should not get here if all enums are handled.
7896:Middlewares/FreeRTOS/tasks.c ****                      * Artificially force an assert by testing a value the
7897:Middlewares/FreeRTOS/tasks.c ****                      * compiler can't assume is const. */
7898:Middlewares/FreeRTOS/tasks.c ****                     configASSERT( xTickCount == ( TickType_t ) 0 );
7899:Middlewares/FreeRTOS/tasks.c **** 
7900:Middlewares/FreeRTOS/tasks.c ****                     break;
 7304              		.loc 1 7900 21
 7305 00ce 00BF     		nop
 7306              	.L438:
7901:Middlewares/FreeRTOS/tasks.c ****             }
7902:Middlewares/FreeRTOS/tasks.c **** 
7903:Middlewares/FreeRTOS/tasks.c ****             traceTASK_NOTIFY( uxIndexToNotify );
7904:Middlewares/FreeRTOS/tasks.c **** 
7905:Middlewares/FreeRTOS/tasks.c ****             /* If the task is in the blocked state specifically to wait for a
ARM GAS  /tmp/ccF71V7c.s 			page 271


7906:Middlewares/FreeRTOS/tasks.c ****              * notification then unblock it now. */
7907:Middlewares/FreeRTOS/tasks.c ****             if( ucOriginalNotifyState == taskWAITING_NOTIFICATION )
 7307              		.loc 1 7907 15
 7308 00d0 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 7309 00d2 012B     		cmp	r3, #1
 7310 00d4 6FD1     		bne	.L441
 7311              	.LBB88:
7908:Middlewares/FreeRTOS/tasks.c ****             {
7909:Middlewares/FreeRTOS/tasks.c ****                 listREMOVE_ITEM( &( pxTCB->xStateListItem ) );
 7312              		.loc 1 7909 17
 7313 00d6 3B6A     		ldr	r3, [r7, #32]
 7314 00d8 5B69     		ldr	r3, [r3, #20]
 7315 00da BB61     		str	r3, [r7, #24]
 7316 00dc 3B6A     		ldr	r3, [r7, #32]
 7317 00de 9B68     		ldr	r3, [r3, #8]
 7318 00e0 3A6A     		ldr	r2, [r7, #32]
 7319 00e2 D268     		ldr	r2, [r2, #12]
 7320 00e4 9A60     		str	r2, [r3, #8]
 7321 00e6 3B6A     		ldr	r3, [r7, #32]
 7322 00e8 DB68     		ldr	r3, [r3, #12]
 7323 00ea 3A6A     		ldr	r2, [r7, #32]
 7324 00ec 9268     		ldr	r2, [r2, #8]
 7325 00ee 5A60     		str	r2, [r3, #4]
 7326 00f0 BB69     		ldr	r3, [r7, #24]
 7327 00f2 5A68     		ldr	r2, [r3, #4]
 7328 00f4 3B6A     		ldr	r3, [r7, #32]
 7329 00f6 0433     		adds	r3, r3, #4
 7330 00f8 9A42     		cmp	r2, r3
 7331 00fa 03D1     		bne	.L442
 7332              		.loc 1 7909 17 is_stmt 0 discriminator 1
 7333 00fc 3B6A     		ldr	r3, [r7, #32]
 7334 00fe DA68     		ldr	r2, [r3, #12]
 7335 0100 BB69     		ldr	r3, [r7, #24]
 7336 0102 5A60     		str	r2, [r3, #4]
 7337              	.L442:
 7338              		.loc 1 7909 17 discriminator 3
 7339 0104 3B6A     		ldr	r3, [r7, #32]
 7340 0106 0022     		movs	r2, #0
 7341 0108 5A61     		str	r2, [r3, #20]
 7342 010a BB69     		ldr	r3, [r7, #24]
 7343 010c 1B68     		ldr	r3, [r3]
 7344 010e 5A1E     		subs	r2, r3, #1
 7345 0110 BB69     		ldr	r3, [r7, #24]
 7346 0112 1A60     		str	r2, [r3]
 7347              	.LBE88:
7910:Middlewares/FreeRTOS/tasks.c ****                 prvAddTaskToReadyList( pxTCB );
 7348              		.loc 1 7910 17 is_stmt 1
 7349 0114 3B6A     		ldr	r3, [r7, #32]
 7350 0116 DA6A     		ldr	r2, [r3, #44]
 7351 0118 2A4B     		ldr	r3, .L446
 7352 011a 1B68     		ldr	r3, [r3]
 7353 011c 9A42     		cmp	r2, r3
 7354 011e 03D9     		bls	.L443
 7355              		.loc 1 7910 17 is_stmt 0 discriminator 1
 7356 0120 3B6A     		ldr	r3, [r7, #32]
 7357 0122 DB6A     		ldr	r3, [r3, #44]
 7358 0124 274A     		ldr	r2, .L446
ARM GAS  /tmp/ccF71V7c.s 			page 272


 7359 0126 1360     		str	r3, [r2]
 7360              	.L443:
 7361              	.LBB89:
 7362              		.loc 1 7910 17 discriminator 3
 7363 0128 3B6A     		ldr	r3, [r7, #32]
 7364 012a DA6A     		ldr	r2, [r3, #44]
 7365 012c 2649     		ldr	r1, .L446+4
 7366 012e 1346     		mov	r3, r2
 7367 0130 9B00     		lsls	r3, r3, #2
 7368 0132 1344     		add	r3, r3, r2
 7369 0134 9B00     		lsls	r3, r3, #2
 7370 0136 0B44     		add	r3, r3, r1
 7371 0138 0433     		adds	r3, r3, #4
 7372 013a 1B68     		ldr	r3, [r3]
 7373 013c 7B61     		str	r3, [r7, #20]
 7374 013e 3B6A     		ldr	r3, [r7, #32]
 7375 0140 7A69     		ldr	r2, [r7, #20]
 7376 0142 9A60     		str	r2, [r3, #8]
 7377 0144 7B69     		ldr	r3, [r7, #20]
 7378 0146 9A68     		ldr	r2, [r3, #8]
 7379 0148 3B6A     		ldr	r3, [r7, #32]
 7380 014a DA60     		str	r2, [r3, #12]
 7381 014c 7B69     		ldr	r3, [r7, #20]
 7382 014e 9B68     		ldr	r3, [r3, #8]
 7383 0150 3A6A     		ldr	r2, [r7, #32]
 7384 0152 0432     		adds	r2, r2, #4
 7385 0154 5A60     		str	r2, [r3, #4]
 7386 0156 3B6A     		ldr	r3, [r7, #32]
 7387 0158 1A1D     		adds	r2, r3, #4
 7388 015a 7B69     		ldr	r3, [r7, #20]
 7389 015c 9A60     		str	r2, [r3, #8]
 7390 015e 3B6A     		ldr	r3, [r7, #32]
 7391 0160 DA6A     		ldr	r2, [r3, #44]
 7392 0162 1346     		mov	r3, r2
 7393 0164 9B00     		lsls	r3, r3, #2
 7394 0166 1344     		add	r3, r3, r2
 7395 0168 9B00     		lsls	r3, r3, #2
 7396 016a 174A     		ldr	r2, .L446+4
 7397 016c 1A44     		add	r2, r2, r3
 7398 016e 3B6A     		ldr	r3, [r7, #32]
 7399 0170 5A61     		str	r2, [r3, #20]
 7400 0172 3B6A     		ldr	r3, [r7, #32]
 7401 0174 DA6A     		ldr	r2, [r3, #44]
 7402 0176 1449     		ldr	r1, .L446+4
 7403 0178 1346     		mov	r3, r2
 7404 017a 9B00     		lsls	r3, r3, #2
 7405 017c 1344     		add	r3, r3, r2
 7406 017e 9B00     		lsls	r3, r3, #2
 7407 0180 0B44     		add	r3, r3, r1
 7408 0182 1B68     		ldr	r3, [r3]
 7409 0184 3A6A     		ldr	r2, [r7, #32]
 7410 0186 D26A     		ldr	r2, [r2, #44]
 7411 0188 591C     		adds	r1, r3, #1
 7412 018a 0F48     		ldr	r0, .L446+4
 7413 018c 1346     		mov	r3, r2
 7414 018e 9B00     		lsls	r3, r3, #2
 7415 0190 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccF71V7c.s 			page 273


 7416 0192 9B00     		lsls	r3, r3, #2
 7417 0194 0344     		add	r3, r3, r0
 7418 0196 1960     		str	r1, [r3]
 7419              	.LBE89:
7911:Middlewares/FreeRTOS/tasks.c **** 
7912:Middlewares/FreeRTOS/tasks.c ****                 /* The task should not have been on an event list. */
7913:Middlewares/FreeRTOS/tasks.c ****                 configASSERT( listLIST_ITEM_CONTAINER( &( pxTCB->xEventListItem ) ) == NULL );
7914:Middlewares/FreeRTOS/tasks.c **** 
7915:Middlewares/FreeRTOS/tasks.c ****                 #if ( configUSE_TICKLESS_IDLE != 0 )
7916:Middlewares/FreeRTOS/tasks.c ****                 {
7917:Middlewares/FreeRTOS/tasks.c ****                     /* If a task is blocked waiting for a notification then
7918:Middlewares/FreeRTOS/tasks.c ****                      * xNextTaskUnblockTime might be set to the blocked task's time
7919:Middlewares/FreeRTOS/tasks.c ****                      * out time.  If the task is unblocked for a reason other than
7920:Middlewares/FreeRTOS/tasks.c ****                      * a timeout xNextTaskUnblockTime is normally left unchanged,
7921:Middlewares/FreeRTOS/tasks.c ****                      * because it will automatically get reset to a new value when
7922:Middlewares/FreeRTOS/tasks.c ****                      * the tick count equals xNextTaskUnblockTime.  However if
7923:Middlewares/FreeRTOS/tasks.c ****                      * tickless idling is used it might be more important to enter
7924:Middlewares/FreeRTOS/tasks.c ****                      * sleep mode at the earliest possible time - so reset
7925:Middlewares/FreeRTOS/tasks.c ****                      * xNextTaskUnblockTime here to ensure it is updated at the
7926:Middlewares/FreeRTOS/tasks.c ****                      * earliest possible time. */
7927:Middlewares/FreeRTOS/tasks.c ****                     prvResetNextTaskUnblockTime();
7928:Middlewares/FreeRTOS/tasks.c ****                 }
7929:Middlewares/FreeRTOS/tasks.c ****                 #endif
7930:Middlewares/FreeRTOS/tasks.c **** 
7931:Middlewares/FreeRTOS/tasks.c ****                 /* Check if the notified task has a priority above the currently
7932:Middlewares/FreeRTOS/tasks.c ****                  * executing task. */
7933:Middlewares/FreeRTOS/tasks.c ****                 taskYIELD_ANY_CORE_IF_USING_PREEMPTION( pxTCB );
 7420              		.loc 1 7933 17 is_stmt 1
 7421 0198 0C4B     		ldr	r3, .L446+8
 7422 019a 1B68     		ldr	r3, [r3]
 7423 019c DA6A     		ldr	r2, [r3, #44]
 7424 019e 3B6A     		ldr	r3, [r7, #32]
 7425 01a0 DB6A     		ldr	r3, [r3, #44]
 7426 01a2 9A42     		cmp	r2, r3
 7427 01a4 07D2     		bcs	.L441
 7428              		.loc 1 7933 17 is_stmt 0 discriminator 1
 7429 01a6 0A4B     		ldr	r3, .L446+12
 7430 01a8 4FF08052 		mov	r2, #268435456
 7431 01ac 1A60     		str	r2, [r3]
 7432              		.syntax unified
 7433              	@ 7933 "Middlewares/FreeRTOS/tasks.c" 1
 7434 01ae BFF34F8F 		dsb
 7435              	@ 0 "" 2
 7436              	@ 7933 "Middlewares/FreeRTOS/tasks.c" 1
 7437 01b2 BFF36F8F 		isb
 7438              	@ 0 "" 2
 7439              		.thumb
 7440              		.syntax unified
 7441              	.L441:
7934:Middlewares/FreeRTOS/tasks.c ****             }
7935:Middlewares/FreeRTOS/tasks.c ****             else
7936:Middlewares/FreeRTOS/tasks.c ****             {
7937:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
7938:Middlewares/FreeRTOS/tasks.c ****             }
7939:Middlewares/FreeRTOS/tasks.c ****         }
7940:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL();
 7442              		.loc 1 7940 9 is_stmt 1
ARM GAS  /tmp/ccF71V7c.s 			page 274


 7443 01b6 FFF7FEFF 		bl	vPortExitCritical
7941:Middlewares/FreeRTOS/tasks.c **** 
7942:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskGenericNotify( xReturn );
7943:Middlewares/FreeRTOS/tasks.c **** 
7944:Middlewares/FreeRTOS/tasks.c ****         return xReturn;
 7444              		.loc 1 7944 16
 7445 01ba 7B6A     		ldr	r3, [r7, #36]
7945:Middlewares/FreeRTOS/tasks.c ****     }
 7446              		.loc 1 7945 5
 7447 01bc 1846     		mov	r0, r3
 7448 01be 2837     		adds	r7, r7, #40
 7449              		.cfi_def_cfa_offset 8
 7450 01c0 BD46     		mov	sp, r7
 7451              		.cfi_def_cfa_register 13
 7452              		@ sp needed
 7453 01c2 80BD     		pop	{r7, pc}
 7454              	.L447:
 7455              		.align	2
 7456              	.L446:
 7457 01c4 00000000 		.word	uxTopReadyPriority
 7458 01c8 00000000 		.word	pxReadyTasksLists
 7459 01cc 00000000 		.word	pxCurrentTCB
 7460 01d0 04ED00E0 		.word	-536810236
 7461              		.cfi_endproc
 7462              	.LFE66:
 7464              		.section	.text.xTaskGenericNotifyFromISR,"ax",%progbits
 7465              		.align	1
 7466              		.global	xTaskGenericNotifyFromISR
 7467              		.syntax unified
 7468              		.thumb
 7469              		.thumb_func
 7471              	xTaskGenericNotifyFromISR:
 7472              	.LFB67:
7946:Middlewares/FreeRTOS/tasks.c **** 
7947:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_TASK_NOTIFICATIONS */
7948:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
7949:Middlewares/FreeRTOS/tasks.c **** 
7950:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_TASK_NOTIFICATIONS == 1 )
7951:Middlewares/FreeRTOS/tasks.c **** 
7952:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xTaskGenericNotifyFromISR( TaskHandle_t xTaskToNotify,
7953:Middlewares/FreeRTOS/tasks.c ****                                           UBaseType_t uxIndexToNotify,
7954:Middlewares/FreeRTOS/tasks.c ****                                           uint32_t ulValue,
7955:Middlewares/FreeRTOS/tasks.c ****                                           eNotifyAction eAction,
7956:Middlewares/FreeRTOS/tasks.c ****                                           uint32_t * pulPreviousNotificationValue,
7957:Middlewares/FreeRTOS/tasks.c ****                                           BaseType_t * pxHigherPriorityTaskWoken )
7958:Middlewares/FreeRTOS/tasks.c ****     {
 7473              		.loc 1 7958 5
 7474              		.cfi_startproc
 7475              		@ args = 8, pretend = 0, frame = 56
 7476              		@ frame_needed = 1, uses_anonymous_args = 0
 7477              		@ link register save eliminated.
 7478 0000 80B4     		push	{r7}
 7479              		.cfi_def_cfa_offset 4
 7480              		.cfi_offset 7, -4
 7481 0002 8FB0     		sub	sp, sp, #60
 7482              		.cfi_def_cfa_offset 64
 7483 0004 00AF     		add	r7, sp, #0
ARM GAS  /tmp/ccF71V7c.s 			page 275


 7484              		.cfi_def_cfa_register 7
 7485 0006 F860     		str	r0, [r7, #12]
 7486 0008 B960     		str	r1, [r7, #8]
 7487 000a 7A60     		str	r2, [r7, #4]
 7488 000c FB70     		strb	r3, [r7, #3]
7959:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
7960:Middlewares/FreeRTOS/tasks.c ****         uint8_t ucOriginalNotifyState;
7961:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xReturn = pdPASS;
 7489              		.loc 1 7961 20
 7490 000e 0123     		movs	r3, #1
 7491 0010 7B63     		str	r3, [r7, #52]
7962:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxSavedInterruptStatus;
7963:Middlewares/FreeRTOS/tasks.c **** 
7964:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskGenericNotifyFromISR( xTaskToNotify, uxIndexToNotify, ulValue, eAction, pul
7965:Middlewares/FreeRTOS/tasks.c **** 
7966:Middlewares/FreeRTOS/tasks.c ****         configASSERT( xTaskToNotify );
7967:Middlewares/FreeRTOS/tasks.c ****         configASSERT( uxIndexToNotify < configTASK_NOTIFICATION_ARRAY_ENTRIES );
7968:Middlewares/FreeRTOS/tasks.c **** 
7969:Middlewares/FreeRTOS/tasks.c ****         /* RTOS ports that support interrupt nesting have the concept of a
7970:Middlewares/FreeRTOS/tasks.c ****          * maximum  system call (or maximum API call) interrupt priority.
7971:Middlewares/FreeRTOS/tasks.c ****          * Interrupts that are  above the maximum system call priority are keep
7972:Middlewares/FreeRTOS/tasks.c ****          * permanently enabled, even when the RTOS kernel is in a critical section,
7973:Middlewares/FreeRTOS/tasks.c ****          * but cannot make any calls to FreeRTOS API functions.  If configASSERT()
7974:Middlewares/FreeRTOS/tasks.c ****          * is defined in FreeRTOSConfig.h then
7975:Middlewares/FreeRTOS/tasks.c ****          * portASSERT_IF_INTERRUPT_PRIORITY_INVALID() will result in an assertion
7976:Middlewares/FreeRTOS/tasks.c ****          * failure if a FreeRTOS API function is called from an interrupt that has
7977:Middlewares/FreeRTOS/tasks.c ****          * been assigned a priority above the configured maximum system call
7978:Middlewares/FreeRTOS/tasks.c ****          * priority.  Only FreeRTOS functions that end in FromISR can be called
7979:Middlewares/FreeRTOS/tasks.c ****          * from interrupts  that have been assigned a priority at or (logically)
7980:Middlewares/FreeRTOS/tasks.c ****          * below the maximum system call interrupt priority.  FreeRTOS maintains a
7981:Middlewares/FreeRTOS/tasks.c ****          * separate interrupt safe API to ensure interrupt entry is as fast and as
7982:Middlewares/FreeRTOS/tasks.c ****          * simple as possible.  More information (albeit Cortex-M specific) is
7983:Middlewares/FreeRTOS/tasks.c ****          * provided on the following link:
7984:Middlewares/FreeRTOS/tasks.c ****          * https://www.FreeRTOS.org/RTOS-Cortex-M3-M4.html */
7985:Middlewares/FreeRTOS/tasks.c ****         portASSERT_IF_INTERRUPT_PRIORITY_INVALID();
7986:Middlewares/FreeRTOS/tasks.c **** 
7987:Middlewares/FreeRTOS/tasks.c ****         pxTCB = xTaskToNotify;
 7492              		.loc 1 7987 15
 7493 0012 FB68     		ldr	r3, [r7, #12]
 7494 0014 3B63     		str	r3, [r7, #48]
 7495              	.LBB90:
 7496              	.LBB91:
 233:Middlewares/FreeRTOS/portable/portmacro.h ****     (
 7497              		.loc 2 233 5
 7498              		.syntax unified
 7499              	@ 233 "Middlewares/FreeRTOS/portable/portmacro.h" 1
 7500 0016 EFF31182 		   mrs r2, basepri                                         
 7501 001a 4FF05003 	   mov r3, #80                                              
 7502 001e 83F31188 	   msr basepri, r3                                         
 7503 0022 BFF36F8F 	   isb                                                     
 7504 0026 BFF34F8F 	   dsb                                                     
 7505              	
 7506              	@ 0 "" 2
 7507              		.thumb
 7508              		.syntax unified
 7509 002a BA61     		str	r2, [r7, #24]
 7510 002c 7B61     		str	r3, [r7, #20]
ARM GAS  /tmp/ccF71V7c.s 			page 276


 245:Middlewares/FreeRTOS/portable/portmacro.h **** }
 7511              		.loc 2 245 12
 7512 002e BB69     		ldr	r3, [r7, #24]
 7513              	.LBE91:
 7514              	.LBE90:
7988:Middlewares/FreeRTOS/tasks.c **** 
7989:Middlewares/FreeRTOS/tasks.c ****         /* MISRA Ref 4.7.1 [Return value shall be checked] */
7990:Middlewares/FreeRTOS/tasks.c ****         /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#dir-47 *
7991:Middlewares/FreeRTOS/tasks.c ****         /* coverity[misra_c_2012_directive_4_7_violation] */
7992:Middlewares/FreeRTOS/tasks.c ****         uxSavedInterruptStatus = ( UBaseType_t ) taskENTER_CRITICAL_FROM_ISR();
 7515              		.loc 1 7992 50
 7516 0030 FB62     		str	r3, [r7, #44]
7993:Middlewares/FreeRTOS/tasks.c ****         {
7994:Middlewares/FreeRTOS/tasks.c ****             if( pulPreviousNotificationValue != NULL )
 7517              		.loc 1 7994 15
 7518 0032 3B6C     		ldr	r3, [r7, #64]
 7519 0034 002B     		cmp	r3, #0
 7520 0036 07D0     		beq	.L450
7995:Middlewares/FreeRTOS/tasks.c ****             {
7996:Middlewares/FreeRTOS/tasks.c ****                 *pulPreviousNotificationValue = pxTCB->ulNotifiedValue[ uxIndexToNotify ];
 7521              		.loc 1 7996 71
 7522 0038 3A6B     		ldr	r2, [r7, #48]
 7523 003a BB68     		ldr	r3, [r7, #8]
 7524 003c 1433     		adds	r3, r3, #20
 7525 003e 9B00     		lsls	r3, r3, #2
 7526 0040 1344     		add	r3, r3, r2
 7527 0042 5A68     		ldr	r2, [r3, #4]
 7528              		.loc 1 7996 47
 7529 0044 3B6C     		ldr	r3, [r7, #64]
 7530 0046 1A60     		str	r2, [r3]
 7531              	.L450:
7997:Middlewares/FreeRTOS/tasks.c ****             }
7998:Middlewares/FreeRTOS/tasks.c **** 
7999:Middlewares/FreeRTOS/tasks.c ****             ucOriginalNotifyState = pxTCB->ucNotifyState[ uxIndexToNotify ];
 7532              		.loc 1 7999 35
 7533 0048 3A6B     		ldr	r2, [r7, #48]
 7534 004a BB68     		ldr	r3, [r7, #8]
 7535 004c 1344     		add	r3, r3, r2
 7536 004e 5833     		adds	r3, r3, #88
 7537 0050 1B78     		ldrb	r3, [r3]
 7538 0052 87F82B30 		strb	r3, [r7, #43]
8000:Middlewares/FreeRTOS/tasks.c ****             pxTCB->ucNotifyState[ uxIndexToNotify ] = taskNOTIFICATION_RECEIVED;
 7539              		.loc 1 8000 53
 7540 0056 3A6B     		ldr	r2, [r7, #48]
 7541 0058 BB68     		ldr	r3, [r7, #8]
 7542 005a 1344     		add	r3, r3, r2
 7543 005c 5833     		adds	r3, r3, #88
 7544 005e 0222     		movs	r2, #2
 7545 0060 1A70     		strb	r2, [r3]
8001:Middlewares/FreeRTOS/tasks.c **** 
8002:Middlewares/FreeRTOS/tasks.c ****             switch( eAction )
 7546              		.loc 1 8002 13
 7547 0062 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 7548 0064 042B     		cmp	r3, #4
 7549 0066 41D8     		bhi	.L468
 7550 0068 01A2     		adr	r2, .L453
 7551 006a 52F823F0 		ldr	pc, [r2, r3, lsl #2]
ARM GAS  /tmp/ccF71V7c.s 			page 277


 7552 006e 00BF     		.p2align 2
 7553              	.L453:
 7554 0070 ED000000 		.word	.L468+1
 7555 0074 85000000 		.word	.L456+1
 7556 0078 A3000000 		.word	.L455+1
 7557 007c BF000000 		.word	.L454+1
 7558 0080 CF000000 		.word	.L452+1
 7559              		.p2align 1
 7560              	.L456:
8003:Middlewares/FreeRTOS/tasks.c ****             {
8004:Middlewares/FreeRTOS/tasks.c ****                 case eSetBits:
8005:Middlewares/FreeRTOS/tasks.c ****                     pxTCB->ulNotifiedValue[ uxIndexToNotify ] |= ulValue;
 7561              		.loc 1 8005 43
 7562 0084 3A6B     		ldr	r2, [r7, #48]
 7563 0086 BB68     		ldr	r3, [r7, #8]
 7564 0088 1433     		adds	r3, r3, #20
 7565 008a 9B00     		lsls	r3, r3, #2
 7566 008c 1344     		add	r3, r3, r2
 7567 008e 5A68     		ldr	r2, [r3, #4]
 7568              		.loc 1 8005 63
 7569 0090 7B68     		ldr	r3, [r7, #4]
 7570 0092 1A43     		orrs	r2, r2, r3
 7571 0094 396B     		ldr	r1, [r7, #48]
 7572 0096 BB68     		ldr	r3, [r7, #8]
 7573 0098 1433     		adds	r3, r3, #20
 7574 009a 9B00     		lsls	r3, r3, #2
 7575 009c 0B44     		add	r3, r3, r1
 7576 009e 5A60     		str	r2, [r3, #4]
8006:Middlewares/FreeRTOS/tasks.c ****                     break;
 7577              		.loc 1 8006 21
 7578 00a0 25E0     		b	.L458
 7579              	.L455:
8007:Middlewares/FreeRTOS/tasks.c **** 
8008:Middlewares/FreeRTOS/tasks.c ****                 case eIncrement:
8009:Middlewares/FreeRTOS/tasks.c ****                     ( pxTCB->ulNotifiedValue[ uxIndexToNotify ] )++;
 7580              		.loc 1 8009 45
 7581 00a2 3A6B     		ldr	r2, [r7, #48]
 7582 00a4 BB68     		ldr	r3, [r7, #8]
 7583 00a6 1433     		adds	r3, r3, #20
 7584 00a8 9B00     		lsls	r3, r3, #2
 7585 00aa 1344     		add	r3, r3, r2
 7586 00ac 5B68     		ldr	r3, [r3, #4]
 7587              		.loc 1 8009 66
 7588 00ae 5A1C     		adds	r2, r3, #1
 7589 00b0 396B     		ldr	r1, [r7, #48]
 7590 00b2 BB68     		ldr	r3, [r7, #8]
 7591 00b4 1433     		adds	r3, r3, #20
 7592 00b6 9B00     		lsls	r3, r3, #2
 7593 00b8 0B44     		add	r3, r3, r1
 7594 00ba 5A60     		str	r2, [r3, #4]
8010:Middlewares/FreeRTOS/tasks.c ****                     break;
 7595              		.loc 1 8010 21
 7596 00bc 17E0     		b	.L458
 7597              	.L454:
8011:Middlewares/FreeRTOS/tasks.c **** 
8012:Middlewares/FreeRTOS/tasks.c ****                 case eSetValueWithOverwrite:
8013:Middlewares/FreeRTOS/tasks.c ****                     pxTCB->ulNotifiedValue[ uxIndexToNotify ] = ulValue;
ARM GAS  /tmp/ccF71V7c.s 			page 278


 7598              		.loc 1 8013 63
 7599 00be 3A6B     		ldr	r2, [r7, #48]
 7600 00c0 BB68     		ldr	r3, [r7, #8]
 7601 00c2 1433     		adds	r3, r3, #20
 7602 00c4 9B00     		lsls	r3, r3, #2
 7603 00c6 1344     		add	r3, r3, r2
 7604 00c8 7A68     		ldr	r2, [r7, #4]
 7605 00ca 5A60     		str	r2, [r3, #4]
8014:Middlewares/FreeRTOS/tasks.c ****                     break;
 7606              		.loc 1 8014 21
 7607 00cc 0FE0     		b	.L458
 7608              	.L452:
8015:Middlewares/FreeRTOS/tasks.c **** 
8016:Middlewares/FreeRTOS/tasks.c ****                 case eSetValueWithoutOverwrite:
8017:Middlewares/FreeRTOS/tasks.c **** 
8018:Middlewares/FreeRTOS/tasks.c ****                     if( ucOriginalNotifyState != taskNOTIFICATION_RECEIVED )
 7609              		.loc 1 8018 23
 7610 00ce 97F82B30 		ldrb	r3, [r7, #43]	@ zero_extendqisi2
 7611 00d2 022B     		cmp	r3, #2
 7612 00d4 07D0     		beq	.L459
8019:Middlewares/FreeRTOS/tasks.c ****                     {
8020:Middlewares/FreeRTOS/tasks.c ****                         pxTCB->ulNotifiedValue[ uxIndexToNotify ] = ulValue;
 7613              		.loc 1 8020 67
 7614 00d6 3A6B     		ldr	r2, [r7, #48]
 7615 00d8 BB68     		ldr	r3, [r7, #8]
 7616 00da 1433     		adds	r3, r3, #20
 7617 00dc 9B00     		lsls	r3, r3, #2
 7618 00de 1344     		add	r3, r3, r2
 7619 00e0 7A68     		ldr	r2, [r7, #4]
 7620 00e2 5A60     		str	r2, [r3, #4]
8021:Middlewares/FreeRTOS/tasks.c ****                     }
8022:Middlewares/FreeRTOS/tasks.c ****                     else
8023:Middlewares/FreeRTOS/tasks.c ****                     {
8024:Middlewares/FreeRTOS/tasks.c ****                         /* The value could not be written to the task. */
8025:Middlewares/FreeRTOS/tasks.c ****                         xReturn = pdFAIL;
8026:Middlewares/FreeRTOS/tasks.c ****                     }
8027:Middlewares/FreeRTOS/tasks.c **** 
8028:Middlewares/FreeRTOS/tasks.c ****                     break;
 7621              		.loc 1 8028 21
 7622 00e4 03E0     		b	.L458
 7623              	.L459:
8025:Middlewares/FreeRTOS/tasks.c ****                     }
 7624              		.loc 1 8025 33
 7625 00e6 0023     		movs	r3, #0
 7626 00e8 7B63     		str	r3, [r7, #52]
 7627              		.loc 1 8028 21
 7628 00ea 00E0     		b	.L458
 7629              	.L468:
8029:Middlewares/FreeRTOS/tasks.c **** 
8030:Middlewares/FreeRTOS/tasks.c ****                 case eNoAction:
8031:Middlewares/FreeRTOS/tasks.c **** 
8032:Middlewares/FreeRTOS/tasks.c ****                     /* The task is being notified without its notify value being
8033:Middlewares/FreeRTOS/tasks.c ****                      * updated. */
8034:Middlewares/FreeRTOS/tasks.c ****                     break;
8035:Middlewares/FreeRTOS/tasks.c **** 
8036:Middlewares/FreeRTOS/tasks.c ****                 default:
8037:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 279


8038:Middlewares/FreeRTOS/tasks.c ****                     /* Should not get here if all enums are handled.
8039:Middlewares/FreeRTOS/tasks.c ****                      * Artificially force an assert by testing a value the
8040:Middlewares/FreeRTOS/tasks.c ****                      * compiler can't assume is const. */
8041:Middlewares/FreeRTOS/tasks.c ****                     configASSERT( xTickCount == ( TickType_t ) 0 );
8042:Middlewares/FreeRTOS/tasks.c ****                     break;
 7630              		.loc 1 8042 21
 7631 00ec 00BF     		nop
 7632              	.L458:
8043:Middlewares/FreeRTOS/tasks.c ****             }
8044:Middlewares/FreeRTOS/tasks.c **** 
8045:Middlewares/FreeRTOS/tasks.c ****             traceTASK_NOTIFY_FROM_ISR( uxIndexToNotify );
8046:Middlewares/FreeRTOS/tasks.c **** 
8047:Middlewares/FreeRTOS/tasks.c ****             /* If the task is in the blocked state specifically to wait for a
8048:Middlewares/FreeRTOS/tasks.c ****              * notification then unblock it now. */
8049:Middlewares/FreeRTOS/tasks.c ****             if( ucOriginalNotifyState == taskWAITING_NOTIFICATION )
 7633              		.loc 1 8049 15
 7634 00ee 97F82B30 		ldrb	r3, [r7, #43]	@ zero_extendqisi2
 7635 00f2 012B     		cmp	r3, #1
 7636 00f4 40F09280 		bne	.L461
8050:Middlewares/FreeRTOS/tasks.c ****             {
8051:Middlewares/FreeRTOS/tasks.c ****                 /* The task should not have been on an event list. */
8052:Middlewares/FreeRTOS/tasks.c ****                 configASSERT( listLIST_ITEM_CONTAINER( &( pxTCB->xEventListItem ) ) == NULL );
8053:Middlewares/FreeRTOS/tasks.c **** 
8054:Middlewares/FreeRTOS/tasks.c ****                 if( uxSchedulerSuspended == ( UBaseType_t ) 0U )
 7637              		.loc 1 8054 42
 7638 00f8 4F4B     		ldr	r3, .L469
 7639 00fa 1B68     		ldr	r3, [r3]
 7640              		.loc 1 8054 19
 7641 00fc 002B     		cmp	r3, #0
 7642 00fe 61D1     		bne	.L462
 7643              	.LBB92:
8055:Middlewares/FreeRTOS/tasks.c ****                 {
8056:Middlewares/FreeRTOS/tasks.c ****                     listREMOVE_ITEM( &( pxTCB->xStateListItem ) );
 7644              		.loc 1 8056 21
 7645 0100 3B6B     		ldr	r3, [r7, #48]
 7646 0102 5B69     		ldr	r3, [r3, #20]
 7647 0104 3B62     		str	r3, [r7, #32]
 7648 0106 3B6B     		ldr	r3, [r7, #48]
 7649 0108 9B68     		ldr	r3, [r3, #8]
 7650 010a 3A6B     		ldr	r2, [r7, #48]
 7651 010c D268     		ldr	r2, [r2, #12]
 7652 010e 9A60     		str	r2, [r3, #8]
 7653 0110 3B6B     		ldr	r3, [r7, #48]
 7654 0112 DB68     		ldr	r3, [r3, #12]
 7655 0114 3A6B     		ldr	r2, [r7, #48]
 7656 0116 9268     		ldr	r2, [r2, #8]
 7657 0118 5A60     		str	r2, [r3, #4]
 7658 011a 3B6A     		ldr	r3, [r7, #32]
 7659 011c 5A68     		ldr	r2, [r3, #4]
 7660 011e 3B6B     		ldr	r3, [r7, #48]
 7661 0120 0433     		adds	r3, r3, #4
 7662 0122 9A42     		cmp	r2, r3
 7663 0124 03D1     		bne	.L463
 7664              		.loc 1 8056 21 is_stmt 0 discriminator 1
 7665 0126 3B6B     		ldr	r3, [r7, #48]
 7666 0128 DA68     		ldr	r2, [r3, #12]
 7667 012a 3B6A     		ldr	r3, [r7, #32]
ARM GAS  /tmp/ccF71V7c.s 			page 280


 7668 012c 5A60     		str	r2, [r3, #4]
 7669              	.L463:
 7670              		.loc 1 8056 21 discriminator 3
 7671 012e 3B6B     		ldr	r3, [r7, #48]
 7672 0130 0022     		movs	r2, #0
 7673 0132 5A61     		str	r2, [r3, #20]
 7674 0134 3B6A     		ldr	r3, [r7, #32]
 7675 0136 1B68     		ldr	r3, [r3]
 7676 0138 5A1E     		subs	r2, r3, #1
 7677 013a 3B6A     		ldr	r3, [r7, #32]
 7678 013c 1A60     		str	r2, [r3]
 7679              	.LBE92:
8057:Middlewares/FreeRTOS/tasks.c ****                     prvAddTaskToReadyList( pxTCB );
 7680              		.loc 1 8057 21 is_stmt 1
 7681 013e 3B6B     		ldr	r3, [r7, #48]
 7682 0140 DA6A     		ldr	r2, [r3, #44]
 7683 0142 3E4B     		ldr	r3, .L469+4
 7684 0144 1B68     		ldr	r3, [r3]
 7685 0146 9A42     		cmp	r2, r3
 7686 0148 03D9     		bls	.L464
 7687              		.loc 1 8057 21 is_stmt 0 discriminator 1
 7688 014a 3B6B     		ldr	r3, [r7, #48]
 7689 014c DB6A     		ldr	r3, [r3, #44]
 7690 014e 3B4A     		ldr	r2, .L469+4
 7691 0150 1360     		str	r3, [r2]
 7692              	.L464:
 7693              	.LBB93:
 7694              		.loc 1 8057 21 discriminator 3
 7695 0152 3B6B     		ldr	r3, [r7, #48]
 7696 0154 DA6A     		ldr	r2, [r3, #44]
 7697 0156 3A49     		ldr	r1, .L469+8
 7698 0158 1346     		mov	r3, r2
 7699 015a 9B00     		lsls	r3, r3, #2
 7700 015c 1344     		add	r3, r3, r2
 7701 015e 9B00     		lsls	r3, r3, #2
 7702 0160 0B44     		add	r3, r3, r1
 7703 0162 0433     		adds	r3, r3, #4
 7704 0164 1B68     		ldr	r3, [r3]
 7705 0166 FB61     		str	r3, [r7, #28]
 7706 0168 3B6B     		ldr	r3, [r7, #48]
 7707 016a FA69     		ldr	r2, [r7, #28]
 7708 016c 9A60     		str	r2, [r3, #8]
 7709 016e FB69     		ldr	r3, [r7, #28]
 7710 0170 9A68     		ldr	r2, [r3, #8]
 7711 0172 3B6B     		ldr	r3, [r7, #48]
 7712 0174 DA60     		str	r2, [r3, #12]
 7713 0176 FB69     		ldr	r3, [r7, #28]
 7714 0178 9B68     		ldr	r3, [r3, #8]
 7715 017a 3A6B     		ldr	r2, [r7, #48]
 7716 017c 0432     		adds	r2, r2, #4
 7717 017e 5A60     		str	r2, [r3, #4]
 7718 0180 3B6B     		ldr	r3, [r7, #48]
 7719 0182 1A1D     		adds	r2, r3, #4
 7720 0184 FB69     		ldr	r3, [r7, #28]
 7721 0186 9A60     		str	r2, [r3, #8]
 7722 0188 3B6B     		ldr	r3, [r7, #48]
 7723 018a DA6A     		ldr	r2, [r3, #44]
ARM GAS  /tmp/ccF71V7c.s 			page 281


 7724 018c 1346     		mov	r3, r2
 7725 018e 9B00     		lsls	r3, r3, #2
 7726 0190 1344     		add	r3, r3, r2
 7727 0192 9B00     		lsls	r3, r3, #2
 7728 0194 2A4A     		ldr	r2, .L469+8
 7729 0196 1A44     		add	r2, r2, r3
 7730 0198 3B6B     		ldr	r3, [r7, #48]
 7731 019a 5A61     		str	r2, [r3, #20]
 7732 019c 3B6B     		ldr	r3, [r7, #48]
 7733 019e DA6A     		ldr	r2, [r3, #44]
 7734 01a0 2749     		ldr	r1, .L469+8
 7735 01a2 1346     		mov	r3, r2
 7736 01a4 9B00     		lsls	r3, r3, #2
 7737 01a6 1344     		add	r3, r3, r2
 7738 01a8 9B00     		lsls	r3, r3, #2
 7739 01aa 0B44     		add	r3, r3, r1
 7740 01ac 1B68     		ldr	r3, [r3]
 7741 01ae 3A6B     		ldr	r2, [r7, #48]
 7742 01b0 D26A     		ldr	r2, [r2, #44]
 7743 01b2 591C     		adds	r1, r3, #1
 7744 01b4 2248     		ldr	r0, .L469+8
 7745 01b6 1346     		mov	r3, r2
 7746 01b8 9B00     		lsls	r3, r3, #2
 7747 01ba 1344     		add	r3, r3, r2
 7748 01bc 9B00     		lsls	r3, r3, #2
 7749 01be 0344     		add	r3, r3, r0
 7750 01c0 1960     		str	r1, [r3]
 7751              	.LBE93:
 7752 01c2 1BE0     		b	.L465
 7753              	.L462:
 7754              	.LBB94:
8058:Middlewares/FreeRTOS/tasks.c ****                 }
8059:Middlewares/FreeRTOS/tasks.c ****                 else
8060:Middlewares/FreeRTOS/tasks.c ****                 {
8061:Middlewares/FreeRTOS/tasks.c ****                     /* The delayed and ready lists cannot be accessed, so hold
8062:Middlewares/FreeRTOS/tasks.c ****                      * this task pending until the scheduler is resumed. */
8063:Middlewares/FreeRTOS/tasks.c ****                     listINSERT_END( &( xPendingReadyList ), &( pxTCB->xEventListItem ) );
 7755              		.loc 1 8063 21 is_stmt 1
 7756 01c4 1F4B     		ldr	r3, .L469+12
 7757 01c6 5B68     		ldr	r3, [r3, #4]
 7758 01c8 7B62     		str	r3, [r7, #36]
 7759 01ca 3B6B     		ldr	r3, [r7, #48]
 7760 01cc 7A6A     		ldr	r2, [r7, #36]
 7761 01ce DA61     		str	r2, [r3, #28]
 7762 01d0 7B6A     		ldr	r3, [r7, #36]
 7763 01d2 9A68     		ldr	r2, [r3, #8]
 7764 01d4 3B6B     		ldr	r3, [r7, #48]
 7765 01d6 1A62     		str	r2, [r3, #32]
 7766 01d8 7B6A     		ldr	r3, [r7, #36]
 7767 01da 9B68     		ldr	r3, [r3, #8]
 7768 01dc 3A6B     		ldr	r2, [r7, #48]
 7769 01de 1832     		adds	r2, r2, #24
 7770 01e0 5A60     		str	r2, [r3, #4]
 7771 01e2 3B6B     		ldr	r3, [r7, #48]
 7772 01e4 03F11802 		add	r2, r3, #24
 7773 01e8 7B6A     		ldr	r3, [r7, #36]
 7774 01ea 9A60     		str	r2, [r3, #8]
ARM GAS  /tmp/ccF71V7c.s 			page 282


 7775 01ec 3B6B     		ldr	r3, [r7, #48]
 7776 01ee 154A     		ldr	r2, .L469+12
 7777 01f0 9A62     		str	r2, [r3, #40]
 7778 01f2 144B     		ldr	r3, .L469+12
 7779 01f4 1B68     		ldr	r3, [r3]
 7780 01f6 0133     		adds	r3, r3, #1
 7781 01f8 124A     		ldr	r2, .L469+12
 7782 01fa 1360     		str	r3, [r2]
 7783              	.L465:
 7784              	.LBE94:
8064:Middlewares/FreeRTOS/tasks.c ****                 }
8065:Middlewares/FreeRTOS/tasks.c **** 
8066:Middlewares/FreeRTOS/tasks.c ****                 #if ( configNUMBER_OF_CORES == 1 )
8067:Middlewares/FreeRTOS/tasks.c ****                 {
8068:Middlewares/FreeRTOS/tasks.c ****                     if( pxTCB->uxPriority > pxCurrentTCB->uxPriority )
 7785              		.loc 1 8068 30
 7786 01fc 3B6B     		ldr	r3, [r7, #48]
 7787 01fe DA6A     		ldr	r2, [r3, #44]
 7788              		.loc 1 8068 57
 7789 0200 114B     		ldr	r3, .L469+16
 7790 0202 1B68     		ldr	r3, [r3]
 7791 0204 DB6A     		ldr	r3, [r3, #44]
 7792              		.loc 1 8068 23
 7793 0206 9A42     		cmp	r2, r3
 7794 0208 08D9     		bls	.L461
8069:Middlewares/FreeRTOS/tasks.c ****                     {
8070:Middlewares/FreeRTOS/tasks.c ****                         /* The notified task has a priority above the currently
8071:Middlewares/FreeRTOS/tasks.c ****                          * executing task so a yield is required. */
8072:Middlewares/FreeRTOS/tasks.c ****                         if( pxHigherPriorityTaskWoken != NULL )
 7795              		.loc 1 8072 27
 7796 020a 7B6C     		ldr	r3, [r7, #68]
 7797 020c 002B     		cmp	r3, #0
 7798 020e 02D0     		beq	.L466
8073:Middlewares/FreeRTOS/tasks.c ****                         {
8074:Middlewares/FreeRTOS/tasks.c ****                             *pxHigherPriorityTaskWoken = pdTRUE;
 7799              		.loc 1 8074 56
 7800 0210 7B6C     		ldr	r3, [r7, #68]
 7801 0212 0122     		movs	r2, #1
 7802 0214 1A60     		str	r2, [r3]
 7803              	.L466:
8075:Middlewares/FreeRTOS/tasks.c ****                         }
8076:Middlewares/FreeRTOS/tasks.c **** 
8077:Middlewares/FreeRTOS/tasks.c ****                         /* Mark that a yield is pending in case the user is not
8078:Middlewares/FreeRTOS/tasks.c ****                          * using the "xHigherPriorityTaskWoken" parameter to an ISR
8079:Middlewares/FreeRTOS/tasks.c ****                          * safe FreeRTOS function. */
8080:Middlewares/FreeRTOS/tasks.c ****                         xYieldPendings[ 0 ] = pdTRUE;
 7804              		.loc 1 8080 45
 7805 0216 0D4B     		ldr	r3, .L469+20
 7806 0218 0122     		movs	r2, #1
 7807 021a 1A60     		str	r2, [r3]
 7808              	.L461:
 7809 021c FB6A     		ldr	r3, [r7, #44]
 7810 021e 3B61     		str	r3, [r7, #16]
 7811              	.LBB95:
 7812              	.LBB96:
 251:Middlewares/FreeRTOS/portable/portmacro.h ****     (
 7813              		.loc 2 251 5
ARM GAS  /tmp/ccF71V7c.s 			page 283


 7814 0220 3B69     		ldr	r3, [r7, #16]
 7815              		.syntax unified
 7816              	@ 251 "Middlewares/FreeRTOS/portable/portmacro.h" 1
 7817 0222 83F31188 		   msr basepri, r3 
 7818              	@ 0 "" 2
 7819              		.loc 2 255 1
 7820              		.thumb
 7821              		.syntax unified
 7822 0226 00BF     		nop
 7823              	.LBE96:
 7824              	.LBE95:
8081:Middlewares/FreeRTOS/tasks.c ****                     }
8082:Middlewares/FreeRTOS/tasks.c ****                     else
8083:Middlewares/FreeRTOS/tasks.c ****                     {
8084:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
8085:Middlewares/FreeRTOS/tasks.c ****                     }
8086:Middlewares/FreeRTOS/tasks.c ****                 }
8087:Middlewares/FreeRTOS/tasks.c ****                 #else /* #if ( configNUMBER_OF_CORES == 1 ) */
8088:Middlewares/FreeRTOS/tasks.c ****                 {
8089:Middlewares/FreeRTOS/tasks.c ****                     #if ( configUSE_PREEMPTION == 1 )
8090:Middlewares/FreeRTOS/tasks.c ****                     {
8091:Middlewares/FreeRTOS/tasks.c ****                         prvYieldForTask( pxTCB );
8092:Middlewares/FreeRTOS/tasks.c **** 
8093:Middlewares/FreeRTOS/tasks.c ****                         if( xYieldPendings[ portGET_CORE_ID() ] == pdTRUE )
8094:Middlewares/FreeRTOS/tasks.c ****                         {
8095:Middlewares/FreeRTOS/tasks.c ****                             if( pxHigherPriorityTaskWoken != NULL )
8096:Middlewares/FreeRTOS/tasks.c ****                             {
8097:Middlewares/FreeRTOS/tasks.c ****                                 *pxHigherPriorityTaskWoken = pdTRUE;
8098:Middlewares/FreeRTOS/tasks.c ****                             }
8099:Middlewares/FreeRTOS/tasks.c ****                         }
8100:Middlewares/FreeRTOS/tasks.c ****                     }
8101:Middlewares/FreeRTOS/tasks.c ****                     #endif /* if ( configUSE_PREEMPTION == 1 ) */
8102:Middlewares/FreeRTOS/tasks.c ****                 }
8103:Middlewares/FreeRTOS/tasks.c ****                 #endif /* #if ( configNUMBER_OF_CORES == 1 ) */
8104:Middlewares/FreeRTOS/tasks.c ****             }
8105:Middlewares/FreeRTOS/tasks.c ****         }
8106:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL_FROM_ISR( uxSavedInterruptStatus );
8107:Middlewares/FreeRTOS/tasks.c **** 
8108:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskGenericNotifyFromISR( xReturn );
8109:Middlewares/FreeRTOS/tasks.c **** 
8110:Middlewares/FreeRTOS/tasks.c ****         return xReturn;
 7825              		.loc 1 8110 16
 7826 0228 7B6B     		ldr	r3, [r7, #52]
8111:Middlewares/FreeRTOS/tasks.c ****     }
 7827              		.loc 1 8111 5
 7828 022a 1846     		mov	r0, r3
 7829 022c 3C37     		adds	r7, r7, #60
 7830              		.cfi_def_cfa_offset 4
 7831 022e BD46     		mov	sp, r7
 7832              		.cfi_def_cfa_register 13
 7833              		@ sp needed
 7834 0230 5DF8047B 		ldr	r7, [sp], #4
 7835              		.cfi_restore 7
 7836              		.cfi_def_cfa_offset 0
 7837 0234 7047     		bx	lr
 7838              	.L470:
 7839 0236 00BF     		.align	2
ARM GAS  /tmp/ccF71V7c.s 			page 284


 7840              	.L469:
 7841 0238 00000000 		.word	uxSchedulerSuspended
 7842 023c 00000000 		.word	uxTopReadyPriority
 7843 0240 00000000 		.word	pxReadyTasksLists
 7844 0244 00000000 		.word	xPendingReadyList
 7845 0248 00000000 		.word	pxCurrentTCB
 7846 024c 00000000 		.word	xYieldPendings
 7847              		.cfi_endproc
 7848              	.LFE67:
 7850              		.section	.text.vTaskGenericNotifyGiveFromISR,"ax",%progbits
 7851              		.align	1
 7852              		.global	vTaskGenericNotifyGiveFromISR
 7853              		.syntax unified
 7854              		.thumb
 7855              		.thumb_func
 7857              	vTaskGenericNotifyGiveFromISR:
 7858              	.LFB68:
8112:Middlewares/FreeRTOS/tasks.c **** 
8113:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_TASK_NOTIFICATIONS */
8114:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
8115:Middlewares/FreeRTOS/tasks.c **** 
8116:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_TASK_NOTIFICATIONS == 1 )
8117:Middlewares/FreeRTOS/tasks.c **** 
8118:Middlewares/FreeRTOS/tasks.c ****     void vTaskGenericNotifyGiveFromISR( TaskHandle_t xTaskToNotify,
8119:Middlewares/FreeRTOS/tasks.c ****                                         UBaseType_t uxIndexToNotify,
8120:Middlewares/FreeRTOS/tasks.c ****                                         BaseType_t * pxHigherPriorityTaskWoken )
8121:Middlewares/FreeRTOS/tasks.c ****     {
 7859              		.loc 1 8121 5
 7860              		.cfi_startproc
 7861              		@ args = 0, pretend = 0, frame = 56
 7862              		@ frame_needed = 1, uses_anonymous_args = 0
 7863              		@ link register save eliminated.
 7864 0000 80B4     		push	{r7}
 7865              		.cfi_def_cfa_offset 4
 7866              		.cfi_offset 7, -4
 7867 0002 8FB0     		sub	sp, sp, #60
 7868              		.cfi_def_cfa_offset 64
 7869 0004 00AF     		add	r7, sp, #0
 7870              		.cfi_def_cfa_register 7
 7871 0006 F860     		str	r0, [r7, #12]
 7872 0008 B960     		str	r1, [r7, #8]
 7873 000a 7A60     		str	r2, [r7, #4]
8122:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
8123:Middlewares/FreeRTOS/tasks.c ****         uint8_t ucOriginalNotifyState;
8124:Middlewares/FreeRTOS/tasks.c ****         UBaseType_t uxSavedInterruptStatus;
8125:Middlewares/FreeRTOS/tasks.c **** 
8126:Middlewares/FreeRTOS/tasks.c ****         traceENTER_vTaskGenericNotifyGiveFromISR( xTaskToNotify, uxIndexToNotify, pxHigherPriorityT
8127:Middlewares/FreeRTOS/tasks.c **** 
8128:Middlewares/FreeRTOS/tasks.c ****         configASSERT( xTaskToNotify );
8129:Middlewares/FreeRTOS/tasks.c ****         configASSERT( uxIndexToNotify < configTASK_NOTIFICATION_ARRAY_ENTRIES );
8130:Middlewares/FreeRTOS/tasks.c **** 
8131:Middlewares/FreeRTOS/tasks.c ****         /* RTOS ports that support interrupt nesting have the concept of a
8132:Middlewares/FreeRTOS/tasks.c ****          * maximum  system call (or maximum API call) interrupt priority.
8133:Middlewares/FreeRTOS/tasks.c ****          * Interrupts that are  above the maximum system call priority are keep
8134:Middlewares/FreeRTOS/tasks.c ****          * permanently enabled, even when the RTOS kernel is in a critical section,
8135:Middlewares/FreeRTOS/tasks.c ****          * but cannot make any calls to FreeRTOS API functions.  If configASSERT()
8136:Middlewares/FreeRTOS/tasks.c ****          * is defined in FreeRTOSConfig.h then
ARM GAS  /tmp/ccF71V7c.s 			page 285


8137:Middlewares/FreeRTOS/tasks.c ****          * portASSERT_IF_INTERRUPT_PRIORITY_INVALID() will result in an assertion
8138:Middlewares/FreeRTOS/tasks.c ****          * failure if a FreeRTOS API function is called from an interrupt that has
8139:Middlewares/FreeRTOS/tasks.c ****          * been assigned a priority above the configured maximum system call
8140:Middlewares/FreeRTOS/tasks.c ****          * priority.  Only FreeRTOS functions that end in FromISR can be called
8141:Middlewares/FreeRTOS/tasks.c ****          * from interrupts  that have been assigned a priority at or (logically)
8142:Middlewares/FreeRTOS/tasks.c ****          * below the maximum system call interrupt priority.  FreeRTOS maintains a
8143:Middlewares/FreeRTOS/tasks.c ****          * separate interrupt safe API to ensure interrupt entry is as fast and as
8144:Middlewares/FreeRTOS/tasks.c ****          * simple as possible.  More information (albeit Cortex-M specific) is
8145:Middlewares/FreeRTOS/tasks.c ****          * provided on the following link:
8146:Middlewares/FreeRTOS/tasks.c ****          * https://www.FreeRTOS.org/RTOS-Cortex-M3-M4.html */
8147:Middlewares/FreeRTOS/tasks.c ****         portASSERT_IF_INTERRUPT_PRIORITY_INVALID();
8148:Middlewares/FreeRTOS/tasks.c **** 
8149:Middlewares/FreeRTOS/tasks.c ****         pxTCB = xTaskToNotify;
 7874              		.loc 1 8149 15
 7875 000c FB68     		ldr	r3, [r7, #12]
 7876 000e 7B63     		str	r3, [r7, #52]
 7877              	.LBB97:
 7878              	.LBB98:
 233:Middlewares/FreeRTOS/portable/portmacro.h ****     (
 7879              		.loc 2 233 5
 7880              		.syntax unified
 7881              	@ 233 "Middlewares/FreeRTOS/portable/portmacro.h" 1
 7882 0010 EFF31182 		   mrs r2, basepri                                         
 7883 0014 4FF05003 	   mov r3, #80                                              
 7884 0018 83F31188 	   msr basepri, r3                                         
 7885 001c BFF36F8F 	   isb                                                     
 7886 0020 BFF34F8F 	   dsb                                                     
 7887              	
 7888              	@ 0 "" 2
 7889              		.thumb
 7890              		.syntax unified
 7891 0024 FA61     		str	r2, [r7, #28]
 7892 0026 BB61     		str	r3, [r7, #24]
 245:Middlewares/FreeRTOS/portable/portmacro.h **** }
 7893              		.loc 2 245 12
 7894 0028 FB69     		ldr	r3, [r7, #28]
 7895              	.LBE98:
 7896              	.LBE97:
8150:Middlewares/FreeRTOS/tasks.c **** 
8151:Middlewares/FreeRTOS/tasks.c ****         /* MISRA Ref 4.7.1 [Return value shall be checked] */
8152:Middlewares/FreeRTOS/tasks.c ****         /* More details at: https://github.com/FreeRTOS/FreeRTOS-Kernel/blob/main/MISRA.md#dir-47 *
8153:Middlewares/FreeRTOS/tasks.c ****         /* coverity[misra_c_2012_directive_4_7_violation] */
8154:Middlewares/FreeRTOS/tasks.c ****         uxSavedInterruptStatus = ( UBaseType_t ) taskENTER_CRITICAL_FROM_ISR();
 7897              		.loc 1 8154 50
 7898 002a 3B63     		str	r3, [r7, #48]
8155:Middlewares/FreeRTOS/tasks.c ****         {
8156:Middlewares/FreeRTOS/tasks.c ****             ucOriginalNotifyState = pxTCB->ucNotifyState[ uxIndexToNotify ];
 7899              		.loc 1 8156 35
 7900 002c 7A6B     		ldr	r2, [r7, #52]
 7901 002e BB68     		ldr	r3, [r7, #8]
 7902 0030 1344     		add	r3, r3, r2
 7903 0032 5833     		adds	r3, r3, #88
 7904 0034 1B78     		ldrb	r3, [r3]
 7905 0036 87F82F30 		strb	r3, [r7, #47]
8157:Middlewares/FreeRTOS/tasks.c ****             pxTCB->ucNotifyState[ uxIndexToNotify ] = taskNOTIFICATION_RECEIVED;
 7906              		.loc 1 8157 53
 7907 003a 7A6B     		ldr	r2, [r7, #52]
ARM GAS  /tmp/ccF71V7c.s 			page 286


 7908 003c BB68     		ldr	r3, [r7, #8]
 7909 003e 1344     		add	r3, r3, r2
 7910 0040 5833     		adds	r3, r3, #88
 7911 0042 0222     		movs	r2, #2
 7912 0044 1A70     		strb	r2, [r3]
8158:Middlewares/FreeRTOS/tasks.c **** 
8159:Middlewares/FreeRTOS/tasks.c ****             /* 'Giving' is equivalent to incrementing a count in a counting
8160:Middlewares/FreeRTOS/tasks.c ****              * semaphore. */
8161:Middlewares/FreeRTOS/tasks.c ****             ( pxTCB->ulNotifiedValue[ uxIndexToNotify ] )++;
 7913              		.loc 1 8161 37
 7914 0046 7A6B     		ldr	r2, [r7, #52]
 7915 0048 BB68     		ldr	r3, [r7, #8]
 7916 004a 1433     		adds	r3, r3, #20
 7917 004c 9B00     		lsls	r3, r3, #2
 7918 004e 1344     		add	r3, r3, r2
 7919 0050 5B68     		ldr	r3, [r3, #4]
 7920              		.loc 1 8161 58
 7921 0052 5A1C     		adds	r2, r3, #1
 7922 0054 796B     		ldr	r1, [r7, #52]
 7923 0056 BB68     		ldr	r3, [r7, #8]
 7924 0058 1433     		adds	r3, r3, #20
 7925 005a 9B00     		lsls	r3, r3, #2
 7926 005c 0B44     		add	r3, r3, r1
 7927 005e 5A60     		str	r2, [r3, #4]
8162:Middlewares/FreeRTOS/tasks.c **** 
8163:Middlewares/FreeRTOS/tasks.c ****             traceTASK_NOTIFY_GIVE_FROM_ISR( uxIndexToNotify );
8164:Middlewares/FreeRTOS/tasks.c **** 
8165:Middlewares/FreeRTOS/tasks.c ****             /* If the task is in the blocked state specifically to wait for a
8166:Middlewares/FreeRTOS/tasks.c ****              * notification then unblock it now. */
8167:Middlewares/FreeRTOS/tasks.c ****             if( ucOriginalNotifyState == taskWAITING_NOTIFICATION )
 7928              		.loc 1 8167 15
 7929 0060 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 7930 0064 012B     		cmp	r3, #1
 7931 0066 40F09280 		bne	.L473
8168:Middlewares/FreeRTOS/tasks.c ****             {
8169:Middlewares/FreeRTOS/tasks.c ****                 /* The task should not have been on an event list. */
8170:Middlewares/FreeRTOS/tasks.c ****                 configASSERT( listLIST_ITEM_CONTAINER( &( pxTCB->xEventListItem ) ) == NULL );
8171:Middlewares/FreeRTOS/tasks.c **** 
8172:Middlewares/FreeRTOS/tasks.c ****                 if( uxSchedulerSuspended == ( UBaseType_t ) 0U )
 7932              		.loc 1 8172 42
 7933 006a 4F4B     		ldr	r3, .L479
 7934 006c 1B68     		ldr	r3, [r3]
 7935              		.loc 1 8172 19
 7936 006e 002B     		cmp	r3, #0
 7937 0070 61D1     		bne	.L474
 7938              	.LBB99:
8173:Middlewares/FreeRTOS/tasks.c ****                 {
8174:Middlewares/FreeRTOS/tasks.c ****                     listREMOVE_ITEM( &( pxTCB->xStateListItem ) );
 7939              		.loc 1 8174 21
 7940 0072 7B6B     		ldr	r3, [r7, #52]
 7941 0074 5B69     		ldr	r3, [r3, #20]
 7942 0076 7B62     		str	r3, [r7, #36]
 7943 0078 7B6B     		ldr	r3, [r7, #52]
 7944 007a 9B68     		ldr	r3, [r3, #8]
 7945 007c 7A6B     		ldr	r2, [r7, #52]
 7946 007e D268     		ldr	r2, [r2, #12]
 7947 0080 9A60     		str	r2, [r3, #8]
ARM GAS  /tmp/ccF71V7c.s 			page 287


 7948 0082 7B6B     		ldr	r3, [r7, #52]
 7949 0084 DB68     		ldr	r3, [r3, #12]
 7950 0086 7A6B     		ldr	r2, [r7, #52]
 7951 0088 9268     		ldr	r2, [r2, #8]
 7952 008a 5A60     		str	r2, [r3, #4]
 7953 008c 7B6A     		ldr	r3, [r7, #36]
 7954 008e 5A68     		ldr	r2, [r3, #4]
 7955 0090 7B6B     		ldr	r3, [r7, #52]
 7956 0092 0433     		adds	r3, r3, #4
 7957 0094 9A42     		cmp	r2, r3
 7958 0096 03D1     		bne	.L475
 7959              		.loc 1 8174 21 is_stmt 0 discriminator 1
 7960 0098 7B6B     		ldr	r3, [r7, #52]
 7961 009a DA68     		ldr	r2, [r3, #12]
 7962 009c 7B6A     		ldr	r3, [r7, #36]
 7963 009e 5A60     		str	r2, [r3, #4]
 7964              	.L475:
 7965              		.loc 1 8174 21 discriminator 3
 7966 00a0 7B6B     		ldr	r3, [r7, #52]
 7967 00a2 0022     		movs	r2, #0
 7968 00a4 5A61     		str	r2, [r3, #20]
 7969 00a6 7B6A     		ldr	r3, [r7, #36]
 7970 00a8 1B68     		ldr	r3, [r3]
 7971 00aa 5A1E     		subs	r2, r3, #1
 7972 00ac 7B6A     		ldr	r3, [r7, #36]
 7973 00ae 1A60     		str	r2, [r3]
 7974              	.LBE99:
8175:Middlewares/FreeRTOS/tasks.c ****                     prvAddTaskToReadyList( pxTCB );
 7975              		.loc 1 8175 21 is_stmt 1
 7976 00b0 7B6B     		ldr	r3, [r7, #52]
 7977 00b2 DA6A     		ldr	r2, [r3, #44]
 7978 00b4 3D4B     		ldr	r3, .L479+4
 7979 00b6 1B68     		ldr	r3, [r3]
 7980 00b8 9A42     		cmp	r2, r3
 7981 00ba 03D9     		bls	.L476
 7982              		.loc 1 8175 21 is_stmt 0 discriminator 1
 7983 00bc 7B6B     		ldr	r3, [r7, #52]
 7984 00be DB6A     		ldr	r3, [r3, #44]
 7985 00c0 3A4A     		ldr	r2, .L479+4
 7986 00c2 1360     		str	r3, [r2]
 7987              	.L476:
 7988              	.LBB100:
 7989              		.loc 1 8175 21 discriminator 3
 7990 00c4 7B6B     		ldr	r3, [r7, #52]
 7991 00c6 DA6A     		ldr	r2, [r3, #44]
 7992 00c8 3949     		ldr	r1, .L479+8
 7993 00ca 1346     		mov	r3, r2
 7994 00cc 9B00     		lsls	r3, r3, #2
 7995 00ce 1344     		add	r3, r3, r2
 7996 00d0 9B00     		lsls	r3, r3, #2
 7997 00d2 0B44     		add	r3, r3, r1
 7998 00d4 0433     		adds	r3, r3, #4
 7999 00d6 1B68     		ldr	r3, [r3]
 8000 00d8 3B62     		str	r3, [r7, #32]
 8001 00da 7B6B     		ldr	r3, [r7, #52]
 8002 00dc 3A6A     		ldr	r2, [r7, #32]
 8003 00de 9A60     		str	r2, [r3, #8]
ARM GAS  /tmp/ccF71V7c.s 			page 288


 8004 00e0 3B6A     		ldr	r3, [r7, #32]
 8005 00e2 9A68     		ldr	r2, [r3, #8]
 8006 00e4 7B6B     		ldr	r3, [r7, #52]
 8007 00e6 DA60     		str	r2, [r3, #12]
 8008 00e8 3B6A     		ldr	r3, [r7, #32]
 8009 00ea 9B68     		ldr	r3, [r3, #8]
 8010 00ec 7A6B     		ldr	r2, [r7, #52]
 8011 00ee 0432     		adds	r2, r2, #4
 8012 00f0 5A60     		str	r2, [r3, #4]
 8013 00f2 7B6B     		ldr	r3, [r7, #52]
 8014 00f4 1A1D     		adds	r2, r3, #4
 8015 00f6 3B6A     		ldr	r3, [r7, #32]
 8016 00f8 9A60     		str	r2, [r3, #8]
 8017 00fa 7B6B     		ldr	r3, [r7, #52]
 8018 00fc DA6A     		ldr	r2, [r3, #44]
 8019 00fe 1346     		mov	r3, r2
 8020 0100 9B00     		lsls	r3, r3, #2
 8021 0102 1344     		add	r3, r3, r2
 8022 0104 9B00     		lsls	r3, r3, #2
 8023 0106 2A4A     		ldr	r2, .L479+8
 8024 0108 1A44     		add	r2, r2, r3
 8025 010a 7B6B     		ldr	r3, [r7, #52]
 8026 010c 5A61     		str	r2, [r3, #20]
 8027 010e 7B6B     		ldr	r3, [r7, #52]
 8028 0110 DA6A     		ldr	r2, [r3, #44]
 8029 0112 2749     		ldr	r1, .L479+8
 8030 0114 1346     		mov	r3, r2
 8031 0116 9B00     		lsls	r3, r3, #2
 8032 0118 1344     		add	r3, r3, r2
 8033 011a 9B00     		lsls	r3, r3, #2
 8034 011c 0B44     		add	r3, r3, r1
 8035 011e 1B68     		ldr	r3, [r3]
 8036 0120 7A6B     		ldr	r2, [r7, #52]
 8037 0122 D26A     		ldr	r2, [r2, #44]
 8038 0124 591C     		adds	r1, r3, #1
 8039 0126 2248     		ldr	r0, .L479+8
 8040 0128 1346     		mov	r3, r2
 8041 012a 9B00     		lsls	r3, r3, #2
 8042 012c 1344     		add	r3, r3, r2
 8043 012e 9B00     		lsls	r3, r3, #2
 8044 0130 0344     		add	r3, r3, r0
 8045 0132 1960     		str	r1, [r3]
 8046              	.LBE100:
 8047 0134 1BE0     		b	.L477
 8048              	.L474:
 8049              	.LBB101:
8176:Middlewares/FreeRTOS/tasks.c ****                 }
8177:Middlewares/FreeRTOS/tasks.c ****                 else
8178:Middlewares/FreeRTOS/tasks.c ****                 {
8179:Middlewares/FreeRTOS/tasks.c ****                     /* The delayed and ready lists cannot be accessed, so hold
8180:Middlewares/FreeRTOS/tasks.c ****                      * this task pending until the scheduler is resumed. */
8181:Middlewares/FreeRTOS/tasks.c ****                     listINSERT_END( &( xPendingReadyList ), &( pxTCB->xEventListItem ) );
 8050              		.loc 1 8181 21 is_stmt 1
 8051 0136 1F4B     		ldr	r3, .L479+12
 8052 0138 5B68     		ldr	r3, [r3, #4]
 8053 013a BB62     		str	r3, [r7, #40]
 8054 013c 7B6B     		ldr	r3, [r7, #52]
ARM GAS  /tmp/ccF71V7c.s 			page 289


 8055 013e BA6A     		ldr	r2, [r7, #40]
 8056 0140 DA61     		str	r2, [r3, #28]
 8057 0142 BB6A     		ldr	r3, [r7, #40]
 8058 0144 9A68     		ldr	r2, [r3, #8]
 8059 0146 7B6B     		ldr	r3, [r7, #52]
 8060 0148 1A62     		str	r2, [r3, #32]
 8061 014a BB6A     		ldr	r3, [r7, #40]
 8062 014c 9B68     		ldr	r3, [r3, #8]
 8063 014e 7A6B     		ldr	r2, [r7, #52]
 8064 0150 1832     		adds	r2, r2, #24
 8065 0152 5A60     		str	r2, [r3, #4]
 8066 0154 7B6B     		ldr	r3, [r7, #52]
 8067 0156 03F11802 		add	r2, r3, #24
 8068 015a BB6A     		ldr	r3, [r7, #40]
 8069 015c 9A60     		str	r2, [r3, #8]
 8070 015e 7B6B     		ldr	r3, [r7, #52]
 8071 0160 144A     		ldr	r2, .L479+12
 8072 0162 9A62     		str	r2, [r3, #40]
 8073 0164 134B     		ldr	r3, .L479+12
 8074 0166 1B68     		ldr	r3, [r3]
 8075 0168 0133     		adds	r3, r3, #1
 8076 016a 124A     		ldr	r2, .L479+12
 8077 016c 1360     		str	r3, [r2]
 8078              	.L477:
 8079              	.LBE101:
8182:Middlewares/FreeRTOS/tasks.c ****                 }
8183:Middlewares/FreeRTOS/tasks.c **** 
8184:Middlewares/FreeRTOS/tasks.c ****                 #if ( configNUMBER_OF_CORES == 1 )
8185:Middlewares/FreeRTOS/tasks.c ****                 {
8186:Middlewares/FreeRTOS/tasks.c ****                     if( pxTCB->uxPriority > pxCurrentTCB->uxPriority )
 8080              		.loc 1 8186 30
 8081 016e 7B6B     		ldr	r3, [r7, #52]
 8082 0170 DA6A     		ldr	r2, [r3, #44]
 8083              		.loc 1 8186 57
 8084 0172 114B     		ldr	r3, .L479+16
 8085 0174 1B68     		ldr	r3, [r3]
 8086 0176 DB6A     		ldr	r3, [r3, #44]
 8087              		.loc 1 8186 23
 8088 0178 9A42     		cmp	r2, r3
 8089 017a 08D9     		bls	.L473
8187:Middlewares/FreeRTOS/tasks.c ****                     {
8188:Middlewares/FreeRTOS/tasks.c ****                         /* The notified task has a priority above the currently
8189:Middlewares/FreeRTOS/tasks.c ****                          * executing task so a yield is required. */
8190:Middlewares/FreeRTOS/tasks.c ****                         if( pxHigherPriorityTaskWoken != NULL )
 8090              		.loc 1 8190 27
 8091 017c 7B68     		ldr	r3, [r7, #4]
 8092 017e 002B     		cmp	r3, #0
 8093 0180 02D0     		beq	.L478
8191:Middlewares/FreeRTOS/tasks.c ****                         {
8192:Middlewares/FreeRTOS/tasks.c ****                             *pxHigherPriorityTaskWoken = pdTRUE;
 8094              		.loc 1 8192 56
 8095 0182 7B68     		ldr	r3, [r7, #4]
 8096 0184 0122     		movs	r2, #1
 8097 0186 1A60     		str	r2, [r3]
 8098              	.L478:
8193:Middlewares/FreeRTOS/tasks.c ****                         }
8194:Middlewares/FreeRTOS/tasks.c **** 
ARM GAS  /tmp/ccF71V7c.s 			page 290


8195:Middlewares/FreeRTOS/tasks.c ****                         /* Mark that a yield is pending in case the user is not
8196:Middlewares/FreeRTOS/tasks.c ****                          * using the "xHigherPriorityTaskWoken" parameter in an ISR
8197:Middlewares/FreeRTOS/tasks.c ****                          * safe FreeRTOS function. */
8198:Middlewares/FreeRTOS/tasks.c ****                         xYieldPendings[ 0 ] = pdTRUE;
 8099              		.loc 1 8198 45
 8100 0188 0C4B     		ldr	r3, .L479+20
 8101 018a 0122     		movs	r2, #1
 8102 018c 1A60     		str	r2, [r3]
 8103              	.L473:
 8104 018e 3B6B     		ldr	r3, [r7, #48]
 8105 0190 7B61     		str	r3, [r7, #20]
 8106              	.LBB102:
 8107              	.LBB103:
 251:Middlewares/FreeRTOS/portable/portmacro.h ****     (
 8108              		.loc 2 251 5
 8109 0192 7B69     		ldr	r3, [r7, #20]
 8110              		.syntax unified
 8111              	@ 251 "Middlewares/FreeRTOS/portable/portmacro.h" 1
 8112 0194 83F31188 		   msr basepri, r3 
 8113              	@ 0 "" 2
 8114              		.loc 2 255 1
 8115              		.thumb
 8116              		.syntax unified
 8117 0198 00BF     		nop
 8118              	.LBE103:
 8119              	.LBE102:
8199:Middlewares/FreeRTOS/tasks.c ****                     }
8200:Middlewares/FreeRTOS/tasks.c ****                     else
8201:Middlewares/FreeRTOS/tasks.c ****                     {
8202:Middlewares/FreeRTOS/tasks.c ****                         mtCOVERAGE_TEST_MARKER();
8203:Middlewares/FreeRTOS/tasks.c ****                     }
8204:Middlewares/FreeRTOS/tasks.c ****                 }
8205:Middlewares/FreeRTOS/tasks.c ****                 #else /* #if ( configNUMBER_OF_CORES == 1 ) */
8206:Middlewares/FreeRTOS/tasks.c ****                 {
8207:Middlewares/FreeRTOS/tasks.c ****                     #if ( configUSE_PREEMPTION == 1 )
8208:Middlewares/FreeRTOS/tasks.c ****                     {
8209:Middlewares/FreeRTOS/tasks.c ****                         prvYieldForTask( pxTCB );
8210:Middlewares/FreeRTOS/tasks.c **** 
8211:Middlewares/FreeRTOS/tasks.c ****                         if( xYieldPendings[ portGET_CORE_ID() ] == pdTRUE )
8212:Middlewares/FreeRTOS/tasks.c ****                         {
8213:Middlewares/FreeRTOS/tasks.c ****                             if( pxHigherPriorityTaskWoken != NULL )
8214:Middlewares/FreeRTOS/tasks.c ****                             {
8215:Middlewares/FreeRTOS/tasks.c ****                                 *pxHigherPriorityTaskWoken = pdTRUE;
8216:Middlewares/FreeRTOS/tasks.c ****                             }
8217:Middlewares/FreeRTOS/tasks.c ****                         }
8218:Middlewares/FreeRTOS/tasks.c ****                     }
8219:Middlewares/FreeRTOS/tasks.c ****                     #endif /* #if ( configUSE_PREEMPTION == 1 ) */
8220:Middlewares/FreeRTOS/tasks.c ****                 }
8221:Middlewares/FreeRTOS/tasks.c ****                 #endif /* #if ( configNUMBER_OF_CORES == 1 ) */
8222:Middlewares/FreeRTOS/tasks.c ****             }
8223:Middlewares/FreeRTOS/tasks.c ****         }
8224:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL_FROM_ISR( uxSavedInterruptStatus );
8225:Middlewares/FreeRTOS/tasks.c **** 
8226:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_vTaskGenericNotifyGiveFromISR();
8227:Middlewares/FreeRTOS/tasks.c ****     }
 8120              		.loc 1 8227 5
 8121 019a 00BF     		nop
ARM GAS  /tmp/ccF71V7c.s 			page 291


 8122 019c 3C37     		adds	r7, r7, #60
 8123              		.cfi_def_cfa_offset 4
 8124 019e BD46     		mov	sp, r7
 8125              		.cfi_def_cfa_register 13
 8126              		@ sp needed
 8127 01a0 5DF8047B 		ldr	r7, [sp], #4
 8128              		.cfi_restore 7
 8129              		.cfi_def_cfa_offset 0
 8130 01a4 7047     		bx	lr
 8131              	.L480:
 8132 01a6 00BF     		.align	2
 8133              	.L479:
 8134 01a8 00000000 		.word	uxSchedulerSuspended
 8135 01ac 00000000 		.word	uxTopReadyPriority
 8136 01b0 00000000 		.word	pxReadyTasksLists
 8137 01b4 00000000 		.word	xPendingReadyList
 8138 01b8 00000000 		.word	pxCurrentTCB
 8139 01bc 00000000 		.word	xYieldPendings
 8140              		.cfi_endproc
 8141              	.LFE68:
 8143              		.section	.text.xTaskGenericNotifyStateClear,"ax",%progbits
 8144              		.align	1
 8145              		.global	xTaskGenericNotifyStateClear
 8146              		.syntax unified
 8147              		.thumb
 8148              		.thumb_func
 8150              	xTaskGenericNotifyStateClear:
 8151              	.LFB69:
8228:Middlewares/FreeRTOS/tasks.c **** 
8229:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_TASK_NOTIFICATIONS */
8230:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
8231:Middlewares/FreeRTOS/tasks.c **** 
8232:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_TASK_NOTIFICATIONS == 1 )
8233:Middlewares/FreeRTOS/tasks.c **** 
8234:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xTaskGenericNotifyStateClear( TaskHandle_t xTask,
8235:Middlewares/FreeRTOS/tasks.c ****                                              UBaseType_t uxIndexToClear )
8236:Middlewares/FreeRTOS/tasks.c ****     {
 8152              		.loc 1 8236 5
 8153              		.cfi_startproc
 8154              		@ args = 0, pretend = 0, frame = 16
 8155              		@ frame_needed = 1, uses_anonymous_args = 0
 8156 0000 80B5     		push	{r7, lr}
 8157              		.cfi_def_cfa_offset 8
 8158              		.cfi_offset 7, -8
 8159              		.cfi_offset 14, -4
 8160 0002 84B0     		sub	sp, sp, #16
 8161              		.cfi_def_cfa_offset 24
 8162 0004 00AF     		add	r7, sp, #0
 8163              		.cfi_def_cfa_register 7
 8164 0006 7860     		str	r0, [r7, #4]
 8165 0008 3960     		str	r1, [r7]
8237:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
8238:Middlewares/FreeRTOS/tasks.c ****         BaseType_t xReturn;
8239:Middlewares/FreeRTOS/tasks.c **** 
8240:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskGenericNotifyStateClear( xTask, uxIndexToClear );
8241:Middlewares/FreeRTOS/tasks.c **** 
8242:Middlewares/FreeRTOS/tasks.c ****         configASSERT( uxIndexToClear < configTASK_NOTIFICATION_ARRAY_ENTRIES );
ARM GAS  /tmp/ccF71V7c.s 			page 292


8243:Middlewares/FreeRTOS/tasks.c **** 
8244:Middlewares/FreeRTOS/tasks.c ****         /* If null is passed in here then it is the calling task that is having
8245:Middlewares/FreeRTOS/tasks.c ****          * its notification state cleared. */
8246:Middlewares/FreeRTOS/tasks.c ****         pxTCB = prvGetTCBFromHandle( xTask );
 8166              		.loc 1 8246 17
 8167 000a 7B68     		ldr	r3, [r7, #4]
 8168 000c 002B     		cmp	r3, #0
 8169 000e 02D1     		bne	.L482
 8170              		.loc 1 8246 17 is_stmt 0 discriminator 1
 8171 0010 104B     		ldr	r3, .L487
 8172 0012 1B68     		ldr	r3, [r3]
 8173 0014 00E0     		b	.L483
 8174              	.L482:
 8175              		.loc 1 8246 17 discriminator 2
 8176 0016 7B68     		ldr	r3, [r7, #4]
 8177              	.L483:
 8178              		.loc 1 8246 15 is_stmt 1 discriminator 4
 8179 0018 BB60     		str	r3, [r7, #8]
8247:Middlewares/FreeRTOS/tasks.c **** 
8248:Middlewares/FreeRTOS/tasks.c ****         taskENTER_CRITICAL();
 8180              		.loc 1 8248 9
 8181 001a FFF7FEFF 		bl	vPortEnterCritical
8249:Middlewares/FreeRTOS/tasks.c ****         {
8250:Middlewares/FreeRTOS/tasks.c ****             if( pxTCB->ucNotifyState[ uxIndexToClear ] == taskNOTIFICATION_RECEIVED )
 8182              		.loc 1 8250 37
 8183 001e BA68     		ldr	r2, [r7, #8]
 8184 0020 3B68     		ldr	r3, [r7]
 8185 0022 1344     		add	r3, r3, r2
 8186 0024 5833     		adds	r3, r3, #88
 8187 0026 1B78     		ldrb	r3, [r3]
 8188 0028 DBB2     		uxtb	r3, r3
 8189              		.loc 1 8250 15
 8190 002a 022B     		cmp	r3, #2
 8191 002c 08D1     		bne	.L484
8251:Middlewares/FreeRTOS/tasks.c ****             {
8252:Middlewares/FreeRTOS/tasks.c ****                 pxTCB->ucNotifyState[ uxIndexToClear ] = taskNOT_WAITING_NOTIFICATION;
 8192              		.loc 1 8252 56
 8193 002e BA68     		ldr	r2, [r7, #8]
 8194 0030 3B68     		ldr	r3, [r7]
 8195 0032 1344     		add	r3, r3, r2
 8196 0034 5833     		adds	r3, r3, #88
 8197 0036 0022     		movs	r2, #0
 8198 0038 1A70     		strb	r2, [r3]
8253:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pdPASS;
 8199              		.loc 1 8253 25
 8200 003a 0123     		movs	r3, #1
 8201 003c FB60     		str	r3, [r7, #12]
 8202 003e 01E0     		b	.L485
 8203              	.L484:
8254:Middlewares/FreeRTOS/tasks.c ****             }
8255:Middlewares/FreeRTOS/tasks.c ****             else
8256:Middlewares/FreeRTOS/tasks.c ****             {
8257:Middlewares/FreeRTOS/tasks.c ****                 xReturn = pdFAIL;
 8204              		.loc 1 8257 25
 8205 0040 0023     		movs	r3, #0
 8206 0042 FB60     		str	r3, [r7, #12]
 8207              	.L485:
ARM GAS  /tmp/ccF71V7c.s 			page 293


8258:Middlewares/FreeRTOS/tasks.c ****             }
8259:Middlewares/FreeRTOS/tasks.c ****         }
8260:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL();
 8208              		.loc 1 8260 9
 8209 0044 FFF7FEFF 		bl	vPortExitCritical
8261:Middlewares/FreeRTOS/tasks.c **** 
8262:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskGenericNotifyStateClear( xReturn );
8263:Middlewares/FreeRTOS/tasks.c **** 
8264:Middlewares/FreeRTOS/tasks.c ****         return xReturn;
 8210              		.loc 1 8264 16
 8211 0048 FB68     		ldr	r3, [r7, #12]
8265:Middlewares/FreeRTOS/tasks.c ****     }
 8212              		.loc 1 8265 5
 8213 004a 1846     		mov	r0, r3
 8214 004c 1037     		adds	r7, r7, #16
 8215              		.cfi_def_cfa_offset 8
 8216 004e BD46     		mov	sp, r7
 8217              		.cfi_def_cfa_register 13
 8218              		@ sp needed
 8219 0050 80BD     		pop	{r7, pc}
 8220              	.L488:
 8221 0052 00BF     		.align	2
 8222              	.L487:
 8223 0054 00000000 		.word	pxCurrentTCB
 8224              		.cfi_endproc
 8225              	.LFE69:
 8227              		.section	.text.ulTaskGenericNotifyValueClear,"ax",%progbits
 8228              		.align	1
 8229              		.global	ulTaskGenericNotifyValueClear
 8230              		.syntax unified
 8231              		.thumb
 8232              		.thumb_func
 8234              	ulTaskGenericNotifyValueClear:
 8235              	.LFB70:
8266:Middlewares/FreeRTOS/tasks.c **** 
8267:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_TASK_NOTIFICATIONS */
8268:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
8269:Middlewares/FreeRTOS/tasks.c **** 
8270:Middlewares/FreeRTOS/tasks.c **** #if ( configUSE_TASK_NOTIFICATIONS == 1 )
8271:Middlewares/FreeRTOS/tasks.c **** 
8272:Middlewares/FreeRTOS/tasks.c ****     uint32_t ulTaskGenericNotifyValueClear( TaskHandle_t xTask,
8273:Middlewares/FreeRTOS/tasks.c ****                                             UBaseType_t uxIndexToClear,
8274:Middlewares/FreeRTOS/tasks.c ****                                             uint32_t ulBitsToClear )
8275:Middlewares/FreeRTOS/tasks.c ****     {
 8236              		.loc 1 8275 5
 8237              		.cfi_startproc
 8238              		@ args = 0, pretend = 0, frame = 24
 8239              		@ frame_needed = 1, uses_anonymous_args = 0
 8240 0000 80B5     		push	{r7, lr}
 8241              		.cfi_def_cfa_offset 8
 8242              		.cfi_offset 7, -8
 8243              		.cfi_offset 14, -4
 8244 0002 86B0     		sub	sp, sp, #24
 8245              		.cfi_def_cfa_offset 32
 8246 0004 00AF     		add	r7, sp, #0
 8247              		.cfi_def_cfa_register 7
 8248 0006 F860     		str	r0, [r7, #12]
ARM GAS  /tmp/ccF71V7c.s 			page 294


 8249 0008 B960     		str	r1, [r7, #8]
 8250 000a 7A60     		str	r2, [r7, #4]
8276:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
8277:Middlewares/FreeRTOS/tasks.c ****         uint32_t ulReturn;
8278:Middlewares/FreeRTOS/tasks.c **** 
8279:Middlewares/FreeRTOS/tasks.c ****         traceENTER_ulTaskGenericNotifyValueClear( xTask, uxIndexToClear, ulBitsToClear );
8280:Middlewares/FreeRTOS/tasks.c **** 
8281:Middlewares/FreeRTOS/tasks.c ****         configASSERT( uxIndexToClear < configTASK_NOTIFICATION_ARRAY_ENTRIES );
8282:Middlewares/FreeRTOS/tasks.c **** 
8283:Middlewares/FreeRTOS/tasks.c ****         /* If null is passed in here then it is the calling task that is having
8284:Middlewares/FreeRTOS/tasks.c ****          * its notification state cleared. */
8285:Middlewares/FreeRTOS/tasks.c ****         pxTCB = prvGetTCBFromHandle( xTask );
 8251              		.loc 1 8285 17
 8252 000c FB68     		ldr	r3, [r7, #12]
 8253 000e 002B     		cmp	r3, #0
 8254 0010 02D1     		bne	.L490
 8255              		.loc 1 8285 17 is_stmt 0 discriminator 1
 8256 0012 124B     		ldr	r3, .L493
 8257 0014 1B68     		ldr	r3, [r3]
 8258 0016 00E0     		b	.L491
 8259              	.L490:
 8260              		.loc 1 8285 17 discriminator 2
 8261 0018 FB68     		ldr	r3, [r7, #12]
 8262              	.L491:
 8263              		.loc 1 8285 15 is_stmt 1 discriminator 4
 8264 001a 7B61     		str	r3, [r7, #20]
8286:Middlewares/FreeRTOS/tasks.c **** 
8287:Middlewares/FreeRTOS/tasks.c ****         taskENTER_CRITICAL();
 8265              		.loc 1 8287 9
 8266 001c FFF7FEFF 		bl	vPortEnterCritical
8288:Middlewares/FreeRTOS/tasks.c ****         {
8289:Middlewares/FreeRTOS/tasks.c ****             /* Return the notification as it was before the bits were cleared,
8290:Middlewares/FreeRTOS/tasks.c ****              * then clear the bit mask. */
8291:Middlewares/FreeRTOS/tasks.c ****             ulReturn = pxTCB->ulNotifiedValue[ uxIndexToClear ];
 8267              		.loc 1 8291 22
 8268 0020 7A69     		ldr	r2, [r7, #20]
 8269 0022 BB68     		ldr	r3, [r7, #8]
 8270 0024 1433     		adds	r3, r3, #20
 8271 0026 9B00     		lsls	r3, r3, #2
 8272 0028 1344     		add	r3, r3, r2
 8273 002a 5B68     		ldr	r3, [r3, #4]
 8274 002c 3B61     		str	r3, [r7, #16]
8292:Middlewares/FreeRTOS/tasks.c ****             pxTCB->ulNotifiedValue[ uxIndexToClear ] &= ~ulBitsToClear;
 8275              		.loc 1 8292 35
 8276 002e 7A69     		ldr	r2, [r7, #20]
 8277 0030 BB68     		ldr	r3, [r7, #8]
 8278 0032 1433     		adds	r3, r3, #20
 8279 0034 9B00     		lsls	r3, r3, #2
 8280 0036 1344     		add	r3, r3, r2
 8281 0038 5A68     		ldr	r2, [r3, #4]
 8282              		.loc 1 8292 57
 8283 003a 7B68     		ldr	r3, [r7, #4]
 8284 003c DB43     		mvns	r3, r3
 8285              		.loc 1 8292 54
 8286 003e 1A40     		ands	r2, r2, r3
 8287 0040 7969     		ldr	r1, [r7, #20]
 8288 0042 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccF71V7c.s 			page 295


 8289 0044 1433     		adds	r3, r3, #20
 8290 0046 9B00     		lsls	r3, r3, #2
 8291 0048 0B44     		add	r3, r3, r1
 8292 004a 5A60     		str	r2, [r3, #4]
8293:Middlewares/FreeRTOS/tasks.c ****         }
8294:Middlewares/FreeRTOS/tasks.c ****         taskEXIT_CRITICAL();
 8293              		.loc 1 8294 9
 8294 004c FFF7FEFF 		bl	vPortExitCritical
8295:Middlewares/FreeRTOS/tasks.c **** 
8296:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_ulTaskGenericNotifyValueClear( ulReturn );
8297:Middlewares/FreeRTOS/tasks.c **** 
8298:Middlewares/FreeRTOS/tasks.c ****         return ulReturn;
 8295              		.loc 1 8298 16
 8296 0050 3B69     		ldr	r3, [r7, #16]
8299:Middlewares/FreeRTOS/tasks.c ****     }
 8297              		.loc 1 8299 5
 8298 0052 1846     		mov	r0, r3
 8299 0054 1837     		adds	r7, r7, #24
 8300              		.cfi_def_cfa_offset 8
 8301 0056 BD46     		mov	sp, r7
 8302              		.cfi_def_cfa_register 13
 8303              		@ sp needed
 8304 0058 80BD     		pop	{r7, pc}
 8305              	.L494:
 8306 005a 00BF     		.align	2
 8307              	.L493:
 8308 005c 00000000 		.word	pxCurrentTCB
 8309              		.cfi_endproc
 8310              	.LFE70:
 8312              		.section	.text.prvAddCurrentTaskToDelayedList,"ax",%progbits
 8313              		.align	1
 8314              		.syntax unified
 8315              		.thumb
 8316              		.thumb_func
 8318              	prvAddCurrentTaskToDelayedList:
 8319              	.LFB71:
8300:Middlewares/FreeRTOS/tasks.c **** 
8301:Middlewares/FreeRTOS/tasks.c **** #endif /* configUSE_TASK_NOTIFICATIONS */
8302:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
8303:Middlewares/FreeRTOS/tasks.c **** 
8304:Middlewares/FreeRTOS/tasks.c **** #if ( configGENERATE_RUN_TIME_STATS == 1 )
8305:Middlewares/FreeRTOS/tasks.c **** 
8306:Middlewares/FreeRTOS/tasks.c ****     configRUN_TIME_COUNTER_TYPE ulTaskGetRunTimeCounter( const TaskHandle_t xTask )
8307:Middlewares/FreeRTOS/tasks.c ****     {
8308:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
8309:Middlewares/FreeRTOS/tasks.c **** 
8310:Middlewares/FreeRTOS/tasks.c ****         traceENTER_ulTaskGetRunTimeCounter( xTask );
8311:Middlewares/FreeRTOS/tasks.c **** 
8312:Middlewares/FreeRTOS/tasks.c ****         pxTCB = prvGetTCBFromHandle( xTask );
8313:Middlewares/FreeRTOS/tasks.c **** 
8314:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_ulTaskGetRunTimeCounter( pxTCB->ulRunTimeCounter );
8315:Middlewares/FreeRTOS/tasks.c **** 
8316:Middlewares/FreeRTOS/tasks.c ****         return pxTCB->ulRunTimeCounter;
8317:Middlewares/FreeRTOS/tasks.c ****     }
8318:Middlewares/FreeRTOS/tasks.c **** 
8319:Middlewares/FreeRTOS/tasks.c **** #endif /* if ( configGENERATE_RUN_TIME_STATS == 1 ) */
8320:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
ARM GAS  /tmp/ccF71V7c.s 			page 296


8321:Middlewares/FreeRTOS/tasks.c **** 
8322:Middlewares/FreeRTOS/tasks.c **** #if ( configGENERATE_RUN_TIME_STATS == 1 )
8323:Middlewares/FreeRTOS/tasks.c **** 
8324:Middlewares/FreeRTOS/tasks.c ****     configRUN_TIME_COUNTER_TYPE ulTaskGetRunTimePercent( const TaskHandle_t xTask )
8325:Middlewares/FreeRTOS/tasks.c ****     {
8326:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
8327:Middlewares/FreeRTOS/tasks.c ****         configRUN_TIME_COUNTER_TYPE ulTotalTime, ulReturn;
8328:Middlewares/FreeRTOS/tasks.c **** 
8329:Middlewares/FreeRTOS/tasks.c ****         traceENTER_ulTaskGetRunTimePercent( xTask );
8330:Middlewares/FreeRTOS/tasks.c **** 
8331:Middlewares/FreeRTOS/tasks.c ****         ulTotalTime = ( configRUN_TIME_COUNTER_TYPE ) portGET_RUN_TIME_COUNTER_VALUE();
8332:Middlewares/FreeRTOS/tasks.c **** 
8333:Middlewares/FreeRTOS/tasks.c ****         /* For percentage calculations. */
8334:Middlewares/FreeRTOS/tasks.c ****         ulTotalTime /= ( configRUN_TIME_COUNTER_TYPE ) 100;
8335:Middlewares/FreeRTOS/tasks.c **** 
8336:Middlewares/FreeRTOS/tasks.c ****         /* Avoid divide by zero errors. */
8337:Middlewares/FreeRTOS/tasks.c ****         if( ulTotalTime > ( configRUN_TIME_COUNTER_TYPE ) 0 )
8338:Middlewares/FreeRTOS/tasks.c ****         {
8339:Middlewares/FreeRTOS/tasks.c ****             pxTCB = prvGetTCBFromHandle( xTask );
8340:Middlewares/FreeRTOS/tasks.c ****             ulReturn = pxTCB->ulRunTimeCounter / ulTotalTime;
8341:Middlewares/FreeRTOS/tasks.c ****         }
8342:Middlewares/FreeRTOS/tasks.c ****         else
8343:Middlewares/FreeRTOS/tasks.c ****         {
8344:Middlewares/FreeRTOS/tasks.c ****             ulReturn = 0;
8345:Middlewares/FreeRTOS/tasks.c ****         }
8346:Middlewares/FreeRTOS/tasks.c **** 
8347:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_ulTaskGetRunTimePercent( ulReturn );
8348:Middlewares/FreeRTOS/tasks.c **** 
8349:Middlewares/FreeRTOS/tasks.c ****         return ulReturn;
8350:Middlewares/FreeRTOS/tasks.c ****     }
8351:Middlewares/FreeRTOS/tasks.c **** 
8352:Middlewares/FreeRTOS/tasks.c **** #endif /* if ( configGENERATE_RUN_TIME_STATS == 1 ) */
8353:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
8354:Middlewares/FreeRTOS/tasks.c **** 
8355:Middlewares/FreeRTOS/tasks.c **** #if ( ( configGENERATE_RUN_TIME_STATS == 1 ) && ( INCLUDE_xTaskGetIdleTaskHandle == 1 ) )
8356:Middlewares/FreeRTOS/tasks.c **** 
8357:Middlewares/FreeRTOS/tasks.c ****     configRUN_TIME_COUNTER_TYPE ulTaskGetIdleRunTimeCounter( void )
8358:Middlewares/FreeRTOS/tasks.c ****     {
8359:Middlewares/FreeRTOS/tasks.c ****         configRUN_TIME_COUNTER_TYPE ulReturn = 0;
8360:Middlewares/FreeRTOS/tasks.c ****         BaseType_t i;
8361:Middlewares/FreeRTOS/tasks.c **** 
8362:Middlewares/FreeRTOS/tasks.c ****         traceENTER_ulTaskGetIdleRunTimeCounter();
8363:Middlewares/FreeRTOS/tasks.c **** 
8364:Middlewares/FreeRTOS/tasks.c ****         for( i = 0; i < ( BaseType_t ) configNUMBER_OF_CORES; i++ )
8365:Middlewares/FreeRTOS/tasks.c ****         {
8366:Middlewares/FreeRTOS/tasks.c ****             ulReturn += xIdleTaskHandles[ i ]->ulRunTimeCounter;
8367:Middlewares/FreeRTOS/tasks.c ****         }
8368:Middlewares/FreeRTOS/tasks.c **** 
8369:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_ulTaskGetIdleRunTimeCounter( ulReturn );
8370:Middlewares/FreeRTOS/tasks.c **** 
8371:Middlewares/FreeRTOS/tasks.c ****         return ulReturn;
8372:Middlewares/FreeRTOS/tasks.c ****     }
8373:Middlewares/FreeRTOS/tasks.c **** 
8374:Middlewares/FreeRTOS/tasks.c **** #endif /* if ( ( configGENERATE_RUN_TIME_STATS == 1 ) && ( INCLUDE_xTaskGetIdleTaskHandle == 1 ) ) 
8375:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
8376:Middlewares/FreeRTOS/tasks.c **** 
8377:Middlewares/FreeRTOS/tasks.c **** #if ( ( configGENERATE_RUN_TIME_STATS == 1 ) && ( INCLUDE_xTaskGetIdleTaskHandle == 1 ) )
ARM GAS  /tmp/ccF71V7c.s 			page 297


8378:Middlewares/FreeRTOS/tasks.c **** 
8379:Middlewares/FreeRTOS/tasks.c ****     configRUN_TIME_COUNTER_TYPE ulTaskGetIdleRunTimePercent( void )
8380:Middlewares/FreeRTOS/tasks.c ****     {
8381:Middlewares/FreeRTOS/tasks.c ****         configRUN_TIME_COUNTER_TYPE ulTotalTime, ulReturn;
8382:Middlewares/FreeRTOS/tasks.c ****         configRUN_TIME_COUNTER_TYPE ulRunTimeCounter = 0;
8383:Middlewares/FreeRTOS/tasks.c ****         BaseType_t i;
8384:Middlewares/FreeRTOS/tasks.c **** 
8385:Middlewares/FreeRTOS/tasks.c ****         traceENTER_ulTaskGetIdleRunTimePercent();
8386:Middlewares/FreeRTOS/tasks.c **** 
8387:Middlewares/FreeRTOS/tasks.c ****         ulTotalTime = portGET_RUN_TIME_COUNTER_VALUE() * configNUMBER_OF_CORES;
8388:Middlewares/FreeRTOS/tasks.c **** 
8389:Middlewares/FreeRTOS/tasks.c ****         /* For percentage calculations. */
8390:Middlewares/FreeRTOS/tasks.c ****         ulTotalTime /= ( configRUN_TIME_COUNTER_TYPE ) 100;
8391:Middlewares/FreeRTOS/tasks.c **** 
8392:Middlewares/FreeRTOS/tasks.c ****         /* Avoid divide by zero errors. */
8393:Middlewares/FreeRTOS/tasks.c ****         if( ulTotalTime > ( configRUN_TIME_COUNTER_TYPE ) 0 )
8394:Middlewares/FreeRTOS/tasks.c ****         {
8395:Middlewares/FreeRTOS/tasks.c ****             for( i = 0; i < ( BaseType_t ) configNUMBER_OF_CORES; i++ )
8396:Middlewares/FreeRTOS/tasks.c ****             {
8397:Middlewares/FreeRTOS/tasks.c ****                 ulRunTimeCounter += xIdleTaskHandles[ i ]->ulRunTimeCounter;
8398:Middlewares/FreeRTOS/tasks.c ****             }
8399:Middlewares/FreeRTOS/tasks.c **** 
8400:Middlewares/FreeRTOS/tasks.c ****             ulReturn = ulRunTimeCounter / ulTotalTime;
8401:Middlewares/FreeRTOS/tasks.c ****         }
8402:Middlewares/FreeRTOS/tasks.c ****         else
8403:Middlewares/FreeRTOS/tasks.c ****         {
8404:Middlewares/FreeRTOS/tasks.c ****             ulReturn = 0;
8405:Middlewares/FreeRTOS/tasks.c ****         }
8406:Middlewares/FreeRTOS/tasks.c **** 
8407:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_ulTaskGetIdleRunTimePercent( ulReturn );
8408:Middlewares/FreeRTOS/tasks.c **** 
8409:Middlewares/FreeRTOS/tasks.c ****         return ulReturn;
8410:Middlewares/FreeRTOS/tasks.c ****     }
8411:Middlewares/FreeRTOS/tasks.c **** 
8412:Middlewares/FreeRTOS/tasks.c **** #endif /* if ( ( configGENERATE_RUN_TIME_STATS == 1 ) && ( INCLUDE_xTaskGetIdleTaskHandle == 1 ) ) 
8413:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
8414:Middlewares/FreeRTOS/tasks.c **** 
8415:Middlewares/FreeRTOS/tasks.c **** static void prvAddCurrentTaskToDelayedList( TickType_t xTicksToWait,
8416:Middlewares/FreeRTOS/tasks.c ****                                             const BaseType_t xCanBlockIndefinitely )
8417:Middlewares/FreeRTOS/tasks.c **** {
 8320              		.loc 1 8417 1
 8321              		.cfi_startproc
 8322              		@ args = 0, pretend = 0, frame = 32
 8323              		@ frame_needed = 1, uses_anonymous_args = 0
 8324 0000 80B5     		push	{r7, lr}
 8325              		.cfi_def_cfa_offset 8
 8326              		.cfi_offset 7, -8
 8327              		.cfi_offset 14, -4
 8328 0002 88B0     		sub	sp, sp, #32
 8329              		.cfi_def_cfa_offset 40
 8330 0004 00AF     		add	r7, sp, #0
 8331              		.cfi_def_cfa_register 7
 8332 0006 7860     		str	r0, [r7, #4]
 8333 0008 3960     		str	r1, [r7]
8418:Middlewares/FreeRTOS/tasks.c ****     TickType_t xTimeToWake;
8419:Middlewares/FreeRTOS/tasks.c ****     const TickType_t xConstTickCount = xTickCount;
 8334              		.loc 1 8419 22
ARM GAS  /tmp/ccF71V7c.s 			page 298


 8335 000a 2F4B     		ldr	r3, .L500
 8336 000c 1B68     		ldr	r3, [r3]
 8337 000e FB61     		str	r3, [r7, #28]
8420:Middlewares/FreeRTOS/tasks.c ****     List_t * const pxDelayedList = pxDelayedTaskList;
 8338              		.loc 1 8420 20
 8339 0010 2E4B     		ldr	r3, .L500+4
 8340 0012 1B68     		ldr	r3, [r3]
 8341 0014 BB61     		str	r3, [r7, #24]
8421:Middlewares/FreeRTOS/tasks.c ****     List_t * const pxOverflowDelayedList = pxOverflowDelayedTaskList;
 8342              		.loc 1 8421 20
 8343 0016 2E4B     		ldr	r3, .L500+8
 8344 0018 1B68     		ldr	r3, [r3]
 8345 001a 7B61     		str	r3, [r7, #20]
8422:Middlewares/FreeRTOS/tasks.c **** 
8423:Middlewares/FreeRTOS/tasks.c ****     #if ( INCLUDE_xTaskAbortDelay == 1 )
8424:Middlewares/FreeRTOS/tasks.c ****     {
8425:Middlewares/FreeRTOS/tasks.c ****         /* About to enter a delayed list, so ensure the ucDelayAborted flag is
8426:Middlewares/FreeRTOS/tasks.c ****          * reset to pdFALSE so it can be detected as having been set to pdTRUE
8427:Middlewares/FreeRTOS/tasks.c ****          * when the task leaves the Blocked state. */
8428:Middlewares/FreeRTOS/tasks.c ****         pxCurrentTCB->ucDelayAborted = ( uint8_t ) pdFALSE;
8429:Middlewares/FreeRTOS/tasks.c ****     }
8430:Middlewares/FreeRTOS/tasks.c ****     #endif
8431:Middlewares/FreeRTOS/tasks.c **** 
8432:Middlewares/FreeRTOS/tasks.c ****     /* Remove the task from the ready list before adding it to the blocked list
8433:Middlewares/FreeRTOS/tasks.c ****      * as the same list item is used for both lists. */
8434:Middlewares/FreeRTOS/tasks.c ****     if( uxListRemove( &( pxCurrentTCB->xStateListItem ) ) == ( UBaseType_t ) 0 )
 8346              		.loc 1 8434 38
 8347 001c 2D4B     		ldr	r3, .L500+12
 8348 001e 1B68     		ldr	r3, [r3]
 8349              		.loc 1 8434 9
 8350 0020 0433     		adds	r3, r3, #4
 8351 0022 1846     		mov	r0, r3
 8352 0024 FFF7FEFF 		bl	uxListRemove
8435:Middlewares/FreeRTOS/tasks.c ****     {
8436:Middlewares/FreeRTOS/tasks.c ****         /* The current task must be in a ready list, so there is no need to
8437:Middlewares/FreeRTOS/tasks.c ****          * check, and the port reset macro can be called directly. */
8438:Middlewares/FreeRTOS/tasks.c ****         portRESET_READY_PRIORITY( pxCurrentTCB->uxPriority, uxTopReadyPriority );
8439:Middlewares/FreeRTOS/tasks.c ****     }
8440:Middlewares/FreeRTOS/tasks.c ****     else
8441:Middlewares/FreeRTOS/tasks.c ****     {
8442:Middlewares/FreeRTOS/tasks.c ****         mtCOVERAGE_TEST_MARKER();
8443:Middlewares/FreeRTOS/tasks.c ****     }
8444:Middlewares/FreeRTOS/tasks.c **** 
8445:Middlewares/FreeRTOS/tasks.c ****     #if ( INCLUDE_vTaskSuspend == 1 )
8446:Middlewares/FreeRTOS/tasks.c ****     {
8447:Middlewares/FreeRTOS/tasks.c ****         if( ( xTicksToWait == portMAX_DELAY ) && ( xCanBlockIndefinitely != pdFALSE ) )
 8353              		.loc 1 8447 11
 8354 0028 7B68     		ldr	r3, [r7, #4]
 8355 002a B3F1FF3F 		cmp	r3, #-1
 8356 002e 24D1     		bne	.L496
 8357              		.loc 1 8447 47 discriminator 1
 8358 0030 3B68     		ldr	r3, [r7]
 8359 0032 002B     		cmp	r3, #0
 8360 0034 21D0     		beq	.L496
 8361              	.LBB104:
8448:Middlewares/FreeRTOS/tasks.c ****         {
8449:Middlewares/FreeRTOS/tasks.c ****             /* Add the task to the suspended task list instead of a delayed task
ARM GAS  /tmp/ccF71V7c.s 			page 299


8450:Middlewares/FreeRTOS/tasks.c ****              * list to ensure it is not woken by a timing event.  It will block
8451:Middlewares/FreeRTOS/tasks.c ****              * indefinitely. */
8452:Middlewares/FreeRTOS/tasks.c ****             listINSERT_END( &xSuspendedTaskList, &( pxCurrentTCB->xStateListItem ) );
 8362              		.loc 1 8452 13
 8363 0036 284B     		ldr	r3, .L500+16
 8364 0038 5B68     		ldr	r3, [r3, #4]
 8365 003a 3B61     		str	r3, [r7, #16]
 8366 003c 254B     		ldr	r3, .L500+12
 8367 003e 1B68     		ldr	r3, [r3]
 8368 0040 3A69     		ldr	r2, [r7, #16]
 8369 0042 9A60     		str	r2, [r3, #8]
 8370 0044 234B     		ldr	r3, .L500+12
 8371 0046 1B68     		ldr	r3, [r3]
 8372 0048 3A69     		ldr	r2, [r7, #16]
 8373 004a 9268     		ldr	r2, [r2, #8]
 8374 004c DA60     		str	r2, [r3, #12]
 8375 004e 214B     		ldr	r3, .L500+12
 8376 0050 1A68     		ldr	r2, [r3]
 8377 0052 3B69     		ldr	r3, [r7, #16]
 8378 0054 9B68     		ldr	r3, [r3, #8]
 8379 0056 0432     		adds	r2, r2, #4
 8380 0058 5A60     		str	r2, [r3, #4]
 8381 005a 1E4B     		ldr	r3, .L500+12
 8382 005c 1B68     		ldr	r3, [r3]
 8383 005e 1A1D     		adds	r2, r3, #4
 8384 0060 3B69     		ldr	r3, [r7, #16]
 8385 0062 9A60     		str	r2, [r3, #8]
 8386 0064 1B4B     		ldr	r3, .L500+12
 8387 0066 1B68     		ldr	r3, [r3]
 8388 0068 1B4A     		ldr	r2, .L500+16
 8389 006a 5A61     		str	r2, [r3, #20]
 8390 006c 1A4B     		ldr	r3, .L500+16
 8391 006e 1B68     		ldr	r3, [r3]
 8392 0070 0133     		adds	r3, r3, #1
 8393 0072 194A     		ldr	r2, .L500+16
 8394 0074 1360     		str	r3, [r2]
 8395              	.LBE104:
 8396 0076 00BF     		nop
8453:Middlewares/FreeRTOS/tasks.c ****         }
8454:Middlewares/FreeRTOS/tasks.c ****         else
8455:Middlewares/FreeRTOS/tasks.c ****         {
8456:Middlewares/FreeRTOS/tasks.c ****             /* Calculate the time at which the task should be woken if the event
8457:Middlewares/FreeRTOS/tasks.c ****              * does not occur.  This may overflow but this doesn't matter, the
8458:Middlewares/FreeRTOS/tasks.c ****              * kernel will manage it correctly. */
8459:Middlewares/FreeRTOS/tasks.c ****             xTimeToWake = xConstTickCount + xTicksToWait;
8460:Middlewares/FreeRTOS/tasks.c **** 
8461:Middlewares/FreeRTOS/tasks.c ****             /* The list item will be inserted in wake time order. */
8462:Middlewares/FreeRTOS/tasks.c ****             listSET_LIST_ITEM_VALUE( &( pxCurrentTCB->xStateListItem ), xTimeToWake );
8463:Middlewares/FreeRTOS/tasks.c **** 
8464:Middlewares/FreeRTOS/tasks.c ****             if( xTimeToWake < xConstTickCount )
8465:Middlewares/FreeRTOS/tasks.c ****             {
8466:Middlewares/FreeRTOS/tasks.c ****                 /* Wake time has overflowed.  Place this item in the overflow
8467:Middlewares/FreeRTOS/tasks.c ****                  * list. */
8468:Middlewares/FreeRTOS/tasks.c ****                 traceMOVED_TASK_TO_OVERFLOW_DELAYED_LIST();
8469:Middlewares/FreeRTOS/tasks.c ****                 vListInsert( pxOverflowDelayedList, &( pxCurrentTCB->xStateListItem ) );
8470:Middlewares/FreeRTOS/tasks.c ****             }
8471:Middlewares/FreeRTOS/tasks.c ****             else
ARM GAS  /tmp/ccF71V7c.s 			page 300


8472:Middlewares/FreeRTOS/tasks.c ****             {
8473:Middlewares/FreeRTOS/tasks.c ****                 /* The wake time has not overflowed, so the current block list
8474:Middlewares/FreeRTOS/tasks.c ****                  * is used. */
8475:Middlewares/FreeRTOS/tasks.c ****                 traceMOVED_TASK_TO_DELAYED_LIST();
8476:Middlewares/FreeRTOS/tasks.c ****                 vListInsert( pxDelayedList, &( pxCurrentTCB->xStateListItem ) );
8477:Middlewares/FreeRTOS/tasks.c **** 
8478:Middlewares/FreeRTOS/tasks.c ****                 /* If the task entering the blocked state was placed at the
8479:Middlewares/FreeRTOS/tasks.c ****                  * head of the list of blocked tasks then xNextTaskUnblockTime
8480:Middlewares/FreeRTOS/tasks.c ****                  * needs to be updated too. */
8481:Middlewares/FreeRTOS/tasks.c ****                 if( xTimeToWake < xNextTaskUnblockTime )
8482:Middlewares/FreeRTOS/tasks.c ****                 {
8483:Middlewares/FreeRTOS/tasks.c ****                     xNextTaskUnblockTime = xTimeToWake;
8484:Middlewares/FreeRTOS/tasks.c ****                 }
8485:Middlewares/FreeRTOS/tasks.c ****                 else
8486:Middlewares/FreeRTOS/tasks.c ****                 {
8487:Middlewares/FreeRTOS/tasks.c ****                     mtCOVERAGE_TEST_MARKER();
8488:Middlewares/FreeRTOS/tasks.c ****                 }
8489:Middlewares/FreeRTOS/tasks.c ****             }
8490:Middlewares/FreeRTOS/tasks.c ****         }
8491:Middlewares/FreeRTOS/tasks.c ****     }
8492:Middlewares/FreeRTOS/tasks.c ****     #else /* INCLUDE_vTaskSuspend */
8493:Middlewares/FreeRTOS/tasks.c ****     {
8494:Middlewares/FreeRTOS/tasks.c ****         /* Calculate the time at which the task should be woken if the event
8495:Middlewares/FreeRTOS/tasks.c ****          * does not occur.  This may overflow but this doesn't matter, the kernel
8496:Middlewares/FreeRTOS/tasks.c ****          * will manage it correctly. */
8497:Middlewares/FreeRTOS/tasks.c ****         xTimeToWake = xConstTickCount + xTicksToWait;
8498:Middlewares/FreeRTOS/tasks.c **** 
8499:Middlewares/FreeRTOS/tasks.c ****         /* The list item will be inserted in wake time order. */
8500:Middlewares/FreeRTOS/tasks.c ****         listSET_LIST_ITEM_VALUE( &( pxCurrentTCB->xStateListItem ), xTimeToWake );
8501:Middlewares/FreeRTOS/tasks.c **** 
8502:Middlewares/FreeRTOS/tasks.c ****         if( xTimeToWake < xConstTickCount )
8503:Middlewares/FreeRTOS/tasks.c ****         {
8504:Middlewares/FreeRTOS/tasks.c ****             traceMOVED_TASK_TO_OVERFLOW_DELAYED_LIST();
8505:Middlewares/FreeRTOS/tasks.c ****             /* Wake time has overflowed.  Place this item in the overflow list. */
8506:Middlewares/FreeRTOS/tasks.c ****             vListInsert( pxOverflowDelayedList, &( pxCurrentTCB->xStateListItem ) );
8507:Middlewares/FreeRTOS/tasks.c ****         }
8508:Middlewares/FreeRTOS/tasks.c ****         else
8509:Middlewares/FreeRTOS/tasks.c ****         {
8510:Middlewares/FreeRTOS/tasks.c ****             traceMOVED_TASK_TO_DELAYED_LIST();
8511:Middlewares/FreeRTOS/tasks.c ****             /* The wake time has not overflowed, so the current block list is used. */
8512:Middlewares/FreeRTOS/tasks.c ****             vListInsert( pxDelayedList, &( pxCurrentTCB->xStateListItem ) );
8513:Middlewares/FreeRTOS/tasks.c **** 
8514:Middlewares/FreeRTOS/tasks.c ****             /* If the task entering the blocked state was placed at the head of the
8515:Middlewares/FreeRTOS/tasks.c ****              * list of blocked tasks then xNextTaskUnblockTime needs to be updated
8516:Middlewares/FreeRTOS/tasks.c ****              * too. */
8517:Middlewares/FreeRTOS/tasks.c ****             if( xTimeToWake < xNextTaskUnblockTime )
8518:Middlewares/FreeRTOS/tasks.c ****             {
8519:Middlewares/FreeRTOS/tasks.c ****                 xNextTaskUnblockTime = xTimeToWake;
8520:Middlewares/FreeRTOS/tasks.c ****             }
8521:Middlewares/FreeRTOS/tasks.c ****             else
8522:Middlewares/FreeRTOS/tasks.c ****             {
8523:Middlewares/FreeRTOS/tasks.c ****                 mtCOVERAGE_TEST_MARKER();
8524:Middlewares/FreeRTOS/tasks.c ****             }
8525:Middlewares/FreeRTOS/tasks.c ****         }
8526:Middlewares/FreeRTOS/tasks.c **** 
8527:Middlewares/FreeRTOS/tasks.c ****         /* Avoid compiler warning when INCLUDE_vTaskSuspend is not 1. */
8528:Middlewares/FreeRTOS/tasks.c ****         ( void ) xCanBlockIndefinitely;
ARM GAS  /tmp/ccF71V7c.s 			page 301


8529:Middlewares/FreeRTOS/tasks.c ****     }
8530:Middlewares/FreeRTOS/tasks.c ****     #endif /* INCLUDE_vTaskSuspend */
8531:Middlewares/FreeRTOS/tasks.c **** }
 8397              		.loc 1 8531 1
 8398 0078 22E0     		b	.L499
 8399              	.L496:
8459:Middlewares/FreeRTOS/tasks.c **** 
 8400              		.loc 1 8459 25
 8401 007a FA69     		ldr	r2, [r7, #28]
 8402 007c 7B68     		ldr	r3, [r7, #4]
 8403 007e 1344     		add	r3, r3, r2
 8404 0080 FB60     		str	r3, [r7, #12]
8462:Middlewares/FreeRTOS/tasks.c **** 
 8405              		.loc 1 8462 13
 8406 0082 144B     		ldr	r3, .L500+12
 8407 0084 1B68     		ldr	r3, [r3]
 8408 0086 FA68     		ldr	r2, [r7, #12]
 8409 0088 5A60     		str	r2, [r3, #4]
8464:Middlewares/FreeRTOS/tasks.c ****             {
 8410              		.loc 1 8464 15
 8411 008a FA68     		ldr	r2, [r7, #12]
 8412 008c FB69     		ldr	r3, [r7, #28]
 8413 008e 9A42     		cmp	r2, r3
 8414 0090 07D2     		bcs	.L498
8469:Middlewares/FreeRTOS/tasks.c ****             }
 8415              		.loc 1 8469 68
 8416 0092 104B     		ldr	r3, .L500+12
 8417 0094 1B68     		ldr	r3, [r3]
8469:Middlewares/FreeRTOS/tasks.c ****             }
 8418              		.loc 1 8469 17
 8419 0096 0433     		adds	r3, r3, #4
 8420 0098 1946     		mov	r1, r3
 8421 009a 7869     		ldr	r0, [r7, #20]
 8422 009c FFF7FEFF 		bl	vListInsert
 8423              		.loc 1 8531 1
 8424 00a0 0EE0     		b	.L499
 8425              	.L498:
8476:Middlewares/FreeRTOS/tasks.c **** 
 8426              		.loc 1 8476 60
 8427 00a2 0C4B     		ldr	r3, .L500+12
 8428 00a4 1B68     		ldr	r3, [r3]
8476:Middlewares/FreeRTOS/tasks.c **** 
 8429              		.loc 1 8476 17
 8430 00a6 0433     		adds	r3, r3, #4
 8431 00a8 1946     		mov	r1, r3
 8432 00aa B869     		ldr	r0, [r7, #24]
 8433 00ac FFF7FEFF 		bl	vListInsert
8481:Middlewares/FreeRTOS/tasks.c ****                 {
 8434              		.loc 1 8481 33
 8435 00b0 0A4B     		ldr	r3, .L500+20
 8436 00b2 1B68     		ldr	r3, [r3]
8481:Middlewares/FreeRTOS/tasks.c ****                 {
 8437              		.loc 1 8481 19
 8438 00b4 FA68     		ldr	r2, [r7, #12]
 8439 00b6 9A42     		cmp	r2, r3
 8440 00b8 02D2     		bcs	.L499
8483:Middlewares/FreeRTOS/tasks.c ****                 }
ARM GAS  /tmp/ccF71V7c.s 			page 302


 8441              		.loc 1 8483 42
 8442 00ba 084A     		ldr	r2, .L500+20
 8443 00bc FB68     		ldr	r3, [r7, #12]
 8444 00be 1360     		str	r3, [r2]
 8445              	.L499:
 8446              		.loc 1 8531 1
 8447 00c0 00BF     		nop
 8448 00c2 2037     		adds	r7, r7, #32
 8449              		.cfi_def_cfa_offset 8
 8450 00c4 BD46     		mov	sp, r7
 8451              		.cfi_def_cfa_register 13
 8452              		@ sp needed
 8453 00c6 80BD     		pop	{r7, pc}
 8454              	.L501:
 8455              		.align	2
 8456              	.L500:
 8457 00c8 00000000 		.word	xTickCount
 8458 00cc 00000000 		.word	pxDelayedTaskList
 8459 00d0 00000000 		.word	pxOverflowDelayedTaskList
 8460 00d4 00000000 		.word	pxCurrentTCB
 8461 00d8 00000000 		.word	xSuspendedTaskList
 8462 00dc 00000000 		.word	xNextTaskUnblockTime
 8463              		.cfi_endproc
 8464              	.LFE71:
 8466              		.section	.text.vTaskResetState,"ax",%progbits
 8467              		.align	1
 8468              		.global	vTaskResetState
 8469              		.syntax unified
 8470              		.thumb
 8471              		.thumb_func
 8473              	vTaskResetState:
 8474              	.LFB72:
8532:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
8533:Middlewares/FreeRTOS/tasks.c **** 
8534:Middlewares/FreeRTOS/tasks.c **** #if ( portUSING_MPU_WRAPPERS == 1 )
8535:Middlewares/FreeRTOS/tasks.c **** 
8536:Middlewares/FreeRTOS/tasks.c ****     xMPU_SETTINGS * xTaskGetMPUSettings( TaskHandle_t xTask )
8537:Middlewares/FreeRTOS/tasks.c ****     {
8538:Middlewares/FreeRTOS/tasks.c ****         TCB_t * pxTCB;
8539:Middlewares/FreeRTOS/tasks.c **** 
8540:Middlewares/FreeRTOS/tasks.c ****         traceENTER_xTaskGetMPUSettings( xTask );
8541:Middlewares/FreeRTOS/tasks.c **** 
8542:Middlewares/FreeRTOS/tasks.c ****         pxTCB = prvGetTCBFromHandle( xTask );
8543:Middlewares/FreeRTOS/tasks.c **** 
8544:Middlewares/FreeRTOS/tasks.c ****         traceRETURN_xTaskGetMPUSettings( &( pxTCB->xMPUSettings ) );
8545:Middlewares/FreeRTOS/tasks.c **** 
8546:Middlewares/FreeRTOS/tasks.c ****         return &( pxTCB->xMPUSettings );
8547:Middlewares/FreeRTOS/tasks.c ****     }
8548:Middlewares/FreeRTOS/tasks.c **** 
8549:Middlewares/FreeRTOS/tasks.c **** #endif /* portUSING_MPU_WRAPPERS */
8550:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
8551:Middlewares/FreeRTOS/tasks.c **** 
8552:Middlewares/FreeRTOS/tasks.c **** /* Code below here allows additional code to be inserted into this source file,
8553:Middlewares/FreeRTOS/tasks.c ****  * especially where access to file scope functions and data is needed (for example
8554:Middlewares/FreeRTOS/tasks.c ****  * when performing module tests). */
8555:Middlewares/FreeRTOS/tasks.c **** 
8556:Middlewares/FreeRTOS/tasks.c **** #ifdef FREERTOS_MODULE_TEST
ARM GAS  /tmp/ccF71V7c.s 			page 303


8557:Middlewares/FreeRTOS/tasks.c ****     #include "tasks_test_access_functions.h"
8558:Middlewares/FreeRTOS/tasks.c **** #endif
8559:Middlewares/FreeRTOS/tasks.c **** 
8560:Middlewares/FreeRTOS/tasks.c **** 
8561:Middlewares/FreeRTOS/tasks.c **** #if ( configINCLUDE_FREERTOS_TASK_C_ADDITIONS_H == 1 )
8562:Middlewares/FreeRTOS/tasks.c **** 
8563:Middlewares/FreeRTOS/tasks.c ****     #include "freertos_tasks_c_additions.h"
8564:Middlewares/FreeRTOS/tasks.c **** 
8565:Middlewares/FreeRTOS/tasks.c ****     #ifdef FREERTOS_TASKS_C_ADDITIONS_INIT
8566:Middlewares/FreeRTOS/tasks.c ****         static void freertos_tasks_c_additions_init( void )
8567:Middlewares/FreeRTOS/tasks.c ****         {
8568:Middlewares/FreeRTOS/tasks.c ****             FREERTOS_TASKS_C_ADDITIONS_INIT();
8569:Middlewares/FreeRTOS/tasks.c ****         }
8570:Middlewares/FreeRTOS/tasks.c ****     #endif
8571:Middlewares/FreeRTOS/tasks.c **** 
8572:Middlewares/FreeRTOS/tasks.c **** #endif /* if ( configINCLUDE_FREERTOS_TASK_C_ADDITIONS_H == 1 ) */
8573:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
8574:Middlewares/FreeRTOS/tasks.c **** 
8575:Middlewares/FreeRTOS/tasks.c **** #if ( ( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configKERNEL_PROVIDED_STATIC_MEMORY == 1 ) && (
8576:Middlewares/FreeRTOS/tasks.c **** 
8577:Middlewares/FreeRTOS/tasks.c **** /*
8578:Middlewares/FreeRTOS/tasks.c ****  * This is the kernel provided implementation of vApplicationGetIdleTaskMemory()
8579:Middlewares/FreeRTOS/tasks.c ****  * to provide the memory that is used by the Idle task. It is used when
8580:Middlewares/FreeRTOS/tasks.c ****  * configKERNEL_PROVIDED_STATIC_MEMORY is set to 1. The application can provide
8581:Middlewares/FreeRTOS/tasks.c ****  * it's own implementation of vApplicationGetIdleTaskMemory by setting
8582:Middlewares/FreeRTOS/tasks.c ****  * configKERNEL_PROVIDED_STATIC_MEMORY to 0 or leaving it undefined.
8583:Middlewares/FreeRTOS/tasks.c ****  */
8584:Middlewares/FreeRTOS/tasks.c ****     void vApplicationGetIdleTaskMemory( StaticTask_t ** ppxIdleTaskTCBBuffer,
8585:Middlewares/FreeRTOS/tasks.c ****                                         StackType_t ** ppxIdleTaskStackBuffer,
8586:Middlewares/FreeRTOS/tasks.c ****                                         configSTACK_DEPTH_TYPE * puxIdleTaskStackSize )
8587:Middlewares/FreeRTOS/tasks.c ****     {
8588:Middlewares/FreeRTOS/tasks.c ****         static StaticTask_t xIdleTaskTCB;
8589:Middlewares/FreeRTOS/tasks.c ****         static StackType_t uxIdleTaskStack[ configMINIMAL_STACK_SIZE ];
8590:Middlewares/FreeRTOS/tasks.c **** 
8591:Middlewares/FreeRTOS/tasks.c ****         *ppxIdleTaskTCBBuffer = &( xIdleTaskTCB );
8592:Middlewares/FreeRTOS/tasks.c ****         *ppxIdleTaskStackBuffer = &( uxIdleTaskStack[ 0 ] );
8593:Middlewares/FreeRTOS/tasks.c ****         *puxIdleTaskStackSize = configMINIMAL_STACK_SIZE;
8594:Middlewares/FreeRTOS/tasks.c ****     }
8595:Middlewares/FreeRTOS/tasks.c **** 
8596:Middlewares/FreeRTOS/tasks.c ****     #if ( configNUMBER_OF_CORES > 1 )
8597:Middlewares/FreeRTOS/tasks.c **** 
8598:Middlewares/FreeRTOS/tasks.c ****         void vApplicationGetPassiveIdleTaskMemory( StaticTask_t ** ppxIdleTaskTCBBuffer,
8599:Middlewares/FreeRTOS/tasks.c ****                                                    StackType_t ** ppxIdleTaskStackBuffer,
8600:Middlewares/FreeRTOS/tasks.c ****                                                    configSTACK_DEPTH_TYPE * puxIdleTaskStackSize,
8601:Middlewares/FreeRTOS/tasks.c ****                                                    BaseType_t xPassiveIdleTaskIndex )
8602:Middlewares/FreeRTOS/tasks.c ****         {
8603:Middlewares/FreeRTOS/tasks.c ****             static StaticTask_t xIdleTaskTCBs[ configNUMBER_OF_CORES - 1 ];
8604:Middlewares/FreeRTOS/tasks.c ****             static StackType_t uxIdleTaskStacks[ configNUMBER_OF_CORES - 1 ][ configMINIMAL_STACK_S
8605:Middlewares/FreeRTOS/tasks.c **** 
8606:Middlewares/FreeRTOS/tasks.c ****             *ppxIdleTaskTCBBuffer = &( xIdleTaskTCBs[ xPassiveIdleTaskIndex ] );
8607:Middlewares/FreeRTOS/tasks.c ****             *ppxIdleTaskStackBuffer = &( uxIdleTaskStacks[ xPassiveIdleTaskIndex ][ 0 ] );
8608:Middlewares/FreeRTOS/tasks.c ****             *puxIdleTaskStackSize = configMINIMAL_STACK_SIZE;
8609:Middlewares/FreeRTOS/tasks.c ****         }
8610:Middlewares/FreeRTOS/tasks.c **** 
8611:Middlewares/FreeRTOS/tasks.c ****     #endif /* #if ( configNUMBER_OF_CORES > 1 ) */
8612:Middlewares/FreeRTOS/tasks.c **** 
8613:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( ( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configKERNEL_PROVIDED_STATIC_MEMORY =
ARM GAS  /tmp/ccF71V7c.s 			page 304


8614:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
8615:Middlewares/FreeRTOS/tasks.c **** 
8616:Middlewares/FreeRTOS/tasks.c **** #if ( ( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configKERNEL_PROVIDED_STATIC_MEMORY == 1 ) && (
8617:Middlewares/FreeRTOS/tasks.c **** 
8618:Middlewares/FreeRTOS/tasks.c **** /*
8619:Middlewares/FreeRTOS/tasks.c ****  * This is the kernel provided implementation of vApplicationGetTimerTaskMemory()
8620:Middlewares/FreeRTOS/tasks.c ****  * to provide the memory that is used by the Timer service task. It is used when
8621:Middlewares/FreeRTOS/tasks.c ****  * configKERNEL_PROVIDED_STATIC_MEMORY is set to 1. The application can provide
8622:Middlewares/FreeRTOS/tasks.c ****  * it's own implementation of vApplicationGetTimerTaskMemory by setting
8623:Middlewares/FreeRTOS/tasks.c ****  * configKERNEL_PROVIDED_STATIC_MEMORY to 0 or leaving it undefined.
8624:Middlewares/FreeRTOS/tasks.c ****  */
8625:Middlewares/FreeRTOS/tasks.c ****     void vApplicationGetTimerTaskMemory( StaticTask_t ** ppxTimerTaskTCBBuffer,
8626:Middlewares/FreeRTOS/tasks.c ****                                          StackType_t ** ppxTimerTaskStackBuffer,
8627:Middlewares/FreeRTOS/tasks.c ****                                          configSTACK_DEPTH_TYPE * puxTimerTaskStackSize )
8628:Middlewares/FreeRTOS/tasks.c ****     {
8629:Middlewares/FreeRTOS/tasks.c ****         static StaticTask_t xTimerTaskTCB;
8630:Middlewares/FreeRTOS/tasks.c ****         static StackType_t uxTimerTaskStack[ configTIMER_TASK_STACK_DEPTH ];
8631:Middlewares/FreeRTOS/tasks.c **** 
8632:Middlewares/FreeRTOS/tasks.c ****         *ppxTimerTaskTCBBuffer = &( xTimerTaskTCB );
8633:Middlewares/FreeRTOS/tasks.c ****         *ppxTimerTaskStackBuffer = &( uxTimerTaskStack[ 0 ] );
8634:Middlewares/FreeRTOS/tasks.c ****         *puxTimerTaskStackSize = configTIMER_TASK_STACK_DEPTH;
8635:Middlewares/FreeRTOS/tasks.c ****     }
8636:Middlewares/FreeRTOS/tasks.c **** 
8637:Middlewares/FreeRTOS/tasks.c **** #endif /* #if ( ( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configKERNEL_PROVIDED_STATIC_MEMORY =
8638:Middlewares/FreeRTOS/tasks.c **** /*-----------------------------------------------------------*/
8639:Middlewares/FreeRTOS/tasks.c **** 
8640:Middlewares/FreeRTOS/tasks.c **** /*
8641:Middlewares/FreeRTOS/tasks.c ****  * Reset the state in this file. This state is normally initialized at start up.
8642:Middlewares/FreeRTOS/tasks.c ****  * This function must be called by the application before restarting the
8643:Middlewares/FreeRTOS/tasks.c ****  * scheduler.
8644:Middlewares/FreeRTOS/tasks.c ****  */
8645:Middlewares/FreeRTOS/tasks.c **** void vTaskResetState( void )
8646:Middlewares/FreeRTOS/tasks.c **** {
 8475              		.loc 1 8646 1
 8476              		.cfi_startproc
 8477              		@ args = 0, pretend = 0, frame = 8
 8478              		@ frame_needed = 1, uses_anonymous_args = 0
 8479              		@ link register save eliminated.
 8480 0000 80B4     		push	{r7}
 8481              		.cfi_def_cfa_offset 4
 8482              		.cfi_offset 7, -4
 8483 0002 83B0     		sub	sp, sp, #12
 8484              		.cfi_def_cfa_offset 16
 8485 0004 00AF     		add	r7, sp, #0
 8486              		.cfi_def_cfa_register 7
8647:Middlewares/FreeRTOS/tasks.c ****     BaseType_t xCoreID;
8648:Middlewares/FreeRTOS/tasks.c **** 
8649:Middlewares/FreeRTOS/tasks.c ****     /* Task control block. */
8650:Middlewares/FreeRTOS/tasks.c ****     #if ( configNUMBER_OF_CORES == 1 )
8651:Middlewares/FreeRTOS/tasks.c ****     {
8652:Middlewares/FreeRTOS/tasks.c ****         pxCurrentTCB = NULL;
 8487              		.loc 1 8652 22
 8488 0006 1A4B     		ldr	r3, .L505
 8489 0008 0022     		movs	r2, #0
 8490 000a 1A60     		str	r2, [r3]
8653:Middlewares/FreeRTOS/tasks.c ****     }
8654:Middlewares/FreeRTOS/tasks.c ****     #endif /* #if ( configNUMBER_OF_CORES == 1 ) */
ARM GAS  /tmp/ccF71V7c.s 			page 305


8655:Middlewares/FreeRTOS/tasks.c **** 
8656:Middlewares/FreeRTOS/tasks.c ****     #if ( INCLUDE_vTaskDelete == 1 )
8657:Middlewares/FreeRTOS/tasks.c ****     {
8658:Middlewares/FreeRTOS/tasks.c ****         uxDeletedTasksWaitingCleanUp = ( UBaseType_t ) 0U;
 8491              		.loc 1 8658 38
 8492 000c 194B     		ldr	r3, .L505+4
 8493 000e 0022     		movs	r2, #0
 8494 0010 1A60     		str	r2, [r3]
8659:Middlewares/FreeRTOS/tasks.c ****     }
8660:Middlewares/FreeRTOS/tasks.c ****     #endif /* #if ( INCLUDE_vTaskDelete == 1 ) */
8661:Middlewares/FreeRTOS/tasks.c **** 
8662:Middlewares/FreeRTOS/tasks.c ****     #if ( configUSE_POSIX_ERRNO == 1 )
8663:Middlewares/FreeRTOS/tasks.c ****     {
8664:Middlewares/FreeRTOS/tasks.c ****         FreeRTOS_errno = 0;
8665:Middlewares/FreeRTOS/tasks.c ****     }
8666:Middlewares/FreeRTOS/tasks.c ****     #endif /* #if ( configUSE_POSIX_ERRNO == 1 ) */
8667:Middlewares/FreeRTOS/tasks.c **** 
8668:Middlewares/FreeRTOS/tasks.c ****     /* Other file private variables. */
8669:Middlewares/FreeRTOS/tasks.c ****     uxCurrentNumberOfTasks = ( UBaseType_t ) 0U;
 8495              		.loc 1 8669 28
 8496 0012 194B     		ldr	r3, .L505+8
 8497 0014 0022     		movs	r2, #0
 8498 0016 1A60     		str	r2, [r3]
8670:Middlewares/FreeRTOS/tasks.c ****     xTickCount = ( TickType_t ) configINITIAL_TICK_COUNT;
 8499              		.loc 1 8670 16
 8500 0018 184B     		ldr	r3, .L505+12
 8501 001a 0022     		movs	r2, #0
 8502 001c 1A60     		str	r2, [r3]
8671:Middlewares/FreeRTOS/tasks.c ****     uxTopReadyPriority = tskIDLE_PRIORITY;
 8503              		.loc 1 8671 24
 8504 001e 184B     		ldr	r3, .L505+16
 8505 0020 0022     		movs	r2, #0
 8506 0022 1A60     		str	r2, [r3]
8672:Middlewares/FreeRTOS/tasks.c ****     xSchedulerRunning = pdFALSE;
 8507              		.loc 1 8672 23
 8508 0024 174B     		ldr	r3, .L505+20
 8509 0026 0022     		movs	r2, #0
 8510 0028 1A60     		str	r2, [r3]
8673:Middlewares/FreeRTOS/tasks.c ****     xPendedTicks = ( TickType_t ) 0U;
 8511              		.loc 1 8673 18
 8512 002a 174B     		ldr	r3, .L505+24
 8513 002c 0022     		movs	r2, #0
 8514 002e 1A60     		str	r2, [r3]
8674:Middlewares/FreeRTOS/tasks.c **** 
8675:Middlewares/FreeRTOS/tasks.c ****     for( xCoreID = 0; xCoreID < configNUMBER_OF_CORES; xCoreID++ )
 8515              		.loc 1 8675 18
 8516 0030 0023     		movs	r3, #0
 8517 0032 7B60     		str	r3, [r7, #4]
 8518              		.loc 1 8675 5
 8519 0034 07E0     		b	.L503
 8520              	.L504:
8676:Middlewares/FreeRTOS/tasks.c ****     {
8677:Middlewares/FreeRTOS/tasks.c ****         xYieldPendings[ xCoreID ] = pdFALSE;
 8521              		.loc 1 8677 35
 8522 0036 154A     		ldr	r2, .L505+28
 8523 0038 7B68     		ldr	r3, [r7, #4]
 8524 003a 0021     		movs	r1, #0
ARM GAS  /tmp/ccF71V7c.s 			page 306


 8525 003c 42F82310 		str	r1, [r2, r3, lsl #2]
8675:Middlewares/FreeRTOS/tasks.c ****     {
 8526              		.loc 1 8675 63 discriminator 3
 8527 0040 7B68     		ldr	r3, [r7, #4]
 8528 0042 0133     		adds	r3, r3, #1
 8529 0044 7B60     		str	r3, [r7, #4]
 8530              	.L503:
8675:Middlewares/FreeRTOS/tasks.c ****     {
 8531              		.loc 1 8675 31 discriminator 1
 8532 0046 7B68     		ldr	r3, [r7, #4]
 8533 0048 002B     		cmp	r3, #0
 8534 004a F4DD     		ble	.L504
8678:Middlewares/FreeRTOS/tasks.c ****     }
8679:Middlewares/FreeRTOS/tasks.c **** 
8680:Middlewares/FreeRTOS/tasks.c ****     xNumOfOverflows = ( BaseType_t ) 0;
 8535              		.loc 1 8680 21
 8536 004c 104B     		ldr	r3, .L505+32
 8537 004e 0022     		movs	r2, #0
 8538 0050 1A60     		str	r2, [r3]
8681:Middlewares/FreeRTOS/tasks.c ****     uxTaskNumber = ( UBaseType_t ) 0U;
 8539              		.loc 1 8681 18
 8540 0052 104B     		ldr	r3, .L505+36
 8541 0054 0022     		movs	r2, #0
 8542 0056 1A60     		str	r2, [r3]
8682:Middlewares/FreeRTOS/tasks.c ****     xNextTaskUnblockTime = ( TickType_t ) 0U;
 8543              		.loc 1 8682 26
 8544 0058 0F4B     		ldr	r3, .L505+40
 8545 005a 0022     		movs	r2, #0
 8546 005c 1A60     		str	r2, [r3]
8683:Middlewares/FreeRTOS/tasks.c **** 
8684:Middlewares/FreeRTOS/tasks.c ****     uxSchedulerSuspended = ( UBaseType_t ) 0U;
 8547              		.loc 1 8684 26
 8548 005e 0F4B     		ldr	r3, .L505+44
 8549 0060 0022     		movs	r2, #0
 8550 0062 1A60     		str	r2, [r3]
8685:Middlewares/FreeRTOS/tasks.c **** 
8686:Middlewares/FreeRTOS/tasks.c ****     #if ( configGENERATE_RUN_TIME_STATS == 1 )
8687:Middlewares/FreeRTOS/tasks.c ****     {
8688:Middlewares/FreeRTOS/tasks.c ****         for( xCoreID = 0; xCoreID < configNUMBER_OF_CORES; xCoreID++ )
8689:Middlewares/FreeRTOS/tasks.c ****         {
8690:Middlewares/FreeRTOS/tasks.c ****             ulTaskSwitchedInTime[ xCoreID ] = 0U;
8691:Middlewares/FreeRTOS/tasks.c ****             ulTotalRunTime[ xCoreID ] = 0U;
8692:Middlewares/FreeRTOS/tasks.c ****         }
8693:Middlewares/FreeRTOS/tasks.c ****     }
8694:Middlewares/FreeRTOS/tasks.c ****     #endif /* #if ( configGENERATE_RUN_TIME_STATS == 1 ) */
8695:Middlewares/FreeRTOS/tasks.c **** }
 8551              		.loc 1 8695 1
 8552 0064 00BF     		nop
 8553 0066 0C37     		adds	r7, r7, #12
 8554              		.cfi_def_cfa_offset 4
 8555 0068 BD46     		mov	sp, r7
 8556              		.cfi_def_cfa_register 13
 8557              		@ sp needed
 8558 006a 5DF8047B 		ldr	r7, [sp], #4
 8559              		.cfi_restore 7
 8560              		.cfi_def_cfa_offset 0
 8561 006e 7047     		bx	lr
ARM GAS  /tmp/ccF71V7c.s 			page 307


 8562              	.L506:
 8563              		.align	2
 8564              	.L505:
 8565 0070 00000000 		.word	pxCurrentTCB
 8566 0074 00000000 		.word	uxDeletedTasksWaitingCleanUp
 8567 0078 00000000 		.word	uxCurrentNumberOfTasks
 8568 007c 00000000 		.word	xTickCount
 8569 0080 00000000 		.word	uxTopReadyPriority
 8570 0084 00000000 		.word	xSchedulerRunning
 8571 0088 00000000 		.word	xPendedTicks
 8572 008c 00000000 		.word	xYieldPendings
 8573 0090 00000000 		.word	xNumOfOverflows
 8574 0094 00000000 		.word	uxTaskNumber
 8575 0098 00000000 		.word	xNextTaskUnblockTime
 8576 009c 00000000 		.word	uxSchedulerSuspended
 8577              		.cfi_endproc
 8578              	.LFE72:
 8580              		.text
 8581              	.Letext0:
 8582              		.file 3 "/usr/lib/gcc/arm-none-eabi/13.2.1/include/stddef.h"
 8583              		.file 4 "/usr/lib/gcc/arm-none-eabi/13.2.1/include/stdint.h"
 8584              		.file 5 "Middlewares/FreeRTOS/include/projdefs.h"
 8585              		.file 6 "Middlewares/FreeRTOS/include/list.h"
 8586              		.file 7 "Middlewares/FreeRTOS/include/task.h"
 8587              		.file 8 "/usr/include/newlib/stdio.h"
 8588              		.file 9 "/usr/include/newlib/string.h"
 8589              		.file 10 "Middlewares/FreeRTOS/include/portable.h"
ARM GAS  /tmp/ccF71V7c.s 			page 308


DEFINED SYMBOLS
                            *ABS*:00000000 tasks.c
     /tmp/ccF71V7c.s:25     .bss.pxCurrentTCB:00000000 pxCurrentTCB
     /tmp/ccF71V7c.s:22     .bss.pxCurrentTCB:00000000 $d
     /tmp/ccF71V7c.s:28     .bss.pxReadyTasksLists:00000000 $d
     /tmp/ccF71V7c.s:31     .bss.pxReadyTasksLists:00000000 pxReadyTasksLists
     /tmp/ccF71V7c.s:34     .bss.xDelayedTaskList1:00000000 $d
     /tmp/ccF71V7c.s:37     .bss.xDelayedTaskList1:00000000 xDelayedTaskList1
     /tmp/ccF71V7c.s:40     .bss.xDelayedTaskList2:00000000 $d
     /tmp/ccF71V7c.s:43     .bss.xDelayedTaskList2:00000000 xDelayedTaskList2
     /tmp/ccF71V7c.s:46     .bss.pxDelayedTaskList:00000000 $d
     /tmp/ccF71V7c.s:49     .bss.pxDelayedTaskList:00000000 pxDelayedTaskList
     /tmp/ccF71V7c.s:52     .bss.pxOverflowDelayedTaskList:00000000 $d
     /tmp/ccF71V7c.s:55     .bss.pxOverflowDelayedTaskList:00000000 pxOverflowDelayedTaskList
     /tmp/ccF71V7c.s:58     .bss.xPendingReadyList:00000000 $d
     /tmp/ccF71V7c.s:61     .bss.xPendingReadyList:00000000 xPendingReadyList
     /tmp/ccF71V7c.s:64     .bss.xTasksWaitingTermination:00000000 $d
     /tmp/ccF71V7c.s:67     .bss.xTasksWaitingTermination:00000000 xTasksWaitingTermination
     /tmp/ccF71V7c.s:70     .bss.uxDeletedTasksWaitingCleanUp:00000000 $d
     /tmp/ccF71V7c.s:73     .bss.uxDeletedTasksWaitingCleanUp:00000000 uxDeletedTasksWaitingCleanUp
     /tmp/ccF71V7c.s:76     .bss.xSuspendedTaskList:00000000 $d
     /tmp/ccF71V7c.s:79     .bss.xSuspendedTaskList:00000000 xSuspendedTaskList
     /tmp/ccF71V7c.s:82     .bss.uxCurrentNumberOfTasks:00000000 $d
     /tmp/ccF71V7c.s:85     .bss.uxCurrentNumberOfTasks:00000000 uxCurrentNumberOfTasks
     /tmp/ccF71V7c.s:88     .bss.xTickCount:00000000 $d
     /tmp/ccF71V7c.s:91     .bss.xTickCount:00000000 xTickCount
     /tmp/ccF71V7c.s:94     .bss.uxTopReadyPriority:00000000 $d
     /tmp/ccF71V7c.s:97     .bss.uxTopReadyPriority:00000000 uxTopReadyPriority
     /tmp/ccF71V7c.s:100    .bss.xSchedulerRunning:00000000 $d
     /tmp/ccF71V7c.s:103    .bss.xSchedulerRunning:00000000 xSchedulerRunning
     /tmp/ccF71V7c.s:106    .bss.xPendedTicks:00000000 $d
     /tmp/ccF71V7c.s:109    .bss.xPendedTicks:00000000 xPendedTicks
     /tmp/ccF71V7c.s:112    .bss.xYieldPendings:00000000 $d
     /tmp/ccF71V7c.s:115    .bss.xYieldPendings:00000000 xYieldPendings
     /tmp/ccF71V7c.s:118    .bss.xNumOfOverflows:00000000 $d
     /tmp/ccF71V7c.s:121    .bss.xNumOfOverflows:00000000 xNumOfOverflows
     /tmp/ccF71V7c.s:124    .bss.uxTaskNumber:00000000 $d
     /tmp/ccF71V7c.s:127    .bss.uxTaskNumber:00000000 uxTaskNumber
     /tmp/ccF71V7c.s:130    .bss.xNextTaskUnblockTime:00000000 $d
     /tmp/ccF71V7c.s:133    .bss.xNextTaskUnblockTime:00000000 xNextTaskUnblockTime
     /tmp/ccF71V7c.s:136    .bss.xIdleTaskHandles:00000000 $d
     /tmp/ccF71V7c.s:139    .bss.xIdleTaskHandles:00000000 xIdleTaskHandles
     /tmp/ccF71V7c.s:142    .rodata.uxTopUsedPriority:00000000 $d
     /tmp/ccF71V7c.s:145    .rodata.uxTopUsedPriority:00000000 uxTopUsedPriority
     /tmp/ccF71V7c.s:148    .bss.uxSchedulerSuspended:00000000 $d
     /tmp/ccF71V7c.s:151    .bss.uxSchedulerSuspended:00000000 uxSchedulerSuspended
     /tmp/ccF71V7c.s:154    .text.prvCreateTask:00000000 $t
     /tmp/ccF71V7c.s:159    .text.prvCreateTask:00000000 prvCreateTask
     /tmp/ccF71V7c.s:320    .text.prvInitialiseNewTask:00000000 prvInitialiseNewTask
     /tmp/ccF71V7c.s:250    .text.xTaskCreate:00000000 $t
     /tmp/ccF71V7c.s:256    .text.xTaskCreate:00000000 xTaskCreate
     /tmp/ccF71V7c.s:487    .text.prvAddNewTaskToReadyList:00000000 prvAddNewTaskToReadyList
     /tmp/ccF71V7c.s:315    .text.prvInitialiseNewTask:00000000 $t
     /tmp/ccF71V7c.s:482    .text.prvAddNewTaskToReadyList:00000000 $t
     /tmp/ccF71V7c.s:5023   .text.prvInitialiseTaskLists:00000000 prvInitialiseTaskLists
     /tmp/ccF71V7c.s:676    .text.prvAddNewTaskToReadyList:00000118 $d
     /tmp/ccF71V7c.s:687    .text.prvSnprintfReturnValueToCharsWritten:00000000 $t
ARM GAS  /tmp/ccF71V7c.s 			page 309


     /tmp/ccF71V7c.s:692    .text.prvSnprintfReturnValueToCharsWritten:00000000 prvSnprintfReturnValueToCharsWritten
     /tmp/ccF71V7c.s:750    .text.vTaskDelete:00000000 $t
     /tmp/ccF71V7c.s:756    .text.vTaskDelete:00000000 vTaskDelete
     /tmp/ccF71V7c.s:5607   .text.prvResetNextTaskUnblockTime:00000000 prvResetNextTaskUnblockTime
     /tmp/ccF71V7c.s:5566   .text.prvDeleteTCB:00000000 prvDeleteTCB
     /tmp/ccF71V7c.s:912    .text.vTaskDelete:000000cc $d
     /tmp/ccF71V7c.s:923    .text.vTaskDelay:00000000 $t
     /tmp/ccF71V7c.s:929    .text.vTaskDelay:00000000 vTaskDelay
     /tmp/ccF71V7c.s:2722   .text.vTaskSuspendAll:00000000 vTaskSuspendAll
     /tmp/ccF71V7c.s:8318   .text.prvAddCurrentTaskToDelayedList:00000000 prvAddCurrentTaskToDelayedList
     /tmp/ccF71V7c.s:2765   .text.xTaskResumeAll:00000000 xTaskResumeAll
     /tmp/ccF71V7c.s:990    .text.vTaskDelay:00000044 $d
     /tmp/ccF71V7c.s:995    .text.eTaskGetState:00000000 $t
     /tmp/ccF71V7c.s:1001   .text.eTaskGetState:00000000 eTaskGetState
     /tmp/ccF71V7c.s:1163   .text.eTaskGetState:000000d8 $d
     /tmp/ccF71V7c.s:1173   .text.uxTaskPriorityGet:00000000 $t
     /tmp/ccF71V7c.s:1179   .text.uxTaskPriorityGet:00000000 uxTaskPriorityGet
     /tmp/ccF71V7c.s:1229   .text.uxTaskPriorityGet:00000030 $d
     /tmp/ccF71V7c.s:1234   .text.uxTaskPriorityGetFromISR:00000000 $t
     /tmp/ccF71V7c.s:1240   .text.uxTaskPriorityGetFromISR:00000000 uxTaskPriorityGetFromISR
     /tmp/ccF71V7c.s:1328   .text.uxTaskPriorityGetFromISR:00000054 $d
     /tmp/ccF71V7c.s:1333   .text.uxTaskBasePriorityGet:00000000 $t
     /tmp/ccF71V7c.s:1339   .text.uxTaskBasePriorityGet:00000000 uxTaskBasePriorityGet
     /tmp/ccF71V7c.s:1389   .text.uxTaskBasePriorityGet:00000030 $d
     /tmp/ccF71V7c.s:1394   .text.uxTaskBasePriorityGetFromISR:00000000 $t
     /tmp/ccF71V7c.s:1400   .text.uxTaskBasePriorityGetFromISR:00000000 uxTaskBasePriorityGetFromISR
     /tmp/ccF71V7c.s:1487   .text.uxTaskBasePriorityGetFromISR:00000054 $d
     /tmp/ccF71V7c.s:1492   .text.vTaskPrioritySet:00000000 $t
     /tmp/ccF71V7c.s:1498   .text.vTaskPrioritySet:00000000 vTaskPrioritySet
     /tmp/ccF71V7c.s:1750   .text.vTaskPrioritySet:00000170 $d
     /tmp/ccF71V7c.s:1758   .text.vTaskSuspend:00000000 $t
     /tmp/ccF71V7c.s:1764   .text.vTaskSuspend:00000000 vTaskSuspend
     /tmp/ccF71V7c.s:3867   .text.vTaskSwitchContext:00000000 vTaskSwitchContext
     /tmp/ccF71V7c.s:1935   .text.vTaskSuspend:000000d4 $d
     /tmp/ccF71V7c.s:1944   .text.prvTaskIsTaskSuspended:00000000 $t
     /tmp/ccF71V7c.s:1949   .text.prvTaskIsTaskSuspended:00000000 prvTaskIsTaskSuspended
     /tmp/ccF71V7c.s:2043   .text.prvTaskIsTaskSuspended:00000068 $d
     /tmp/ccF71V7c.s:2049   .text.vTaskResume:00000000 $t
     /tmp/ccF71V7c.s:2055   .text.vTaskResume:00000000 vTaskResume
     /tmp/ccF71V7c.s:2206   .text.vTaskResume:000000e4 $d
     /tmp/ccF71V7c.s:2214   .text.xTaskResumeFromISR:00000000 $t
     /tmp/ccF71V7c.s:2220   .text.xTaskResumeFromISR:00000000 xTaskResumeFromISR
     /tmp/ccF71V7c.s:2409   .text.xTaskResumeFromISR:0000010c $d
     /tmp/ccF71V7c.s:2419   .rodata:00000000 $d
     /tmp/ccF71V7c.s:2423   .text.prvCreateIdleTasks:00000000 $t
     /tmp/ccF71V7c.s:2428   .text.prvCreateIdleTasks:00000000 prvCreateIdleTasks
     /tmp/ccF71V7c.s:2541   .text.prvCreateIdleTasks:00000088 $d
     /tmp/ccF71V7c.s:4970   .text.prvIdleTask:00000000 prvIdleTask
     /tmp/ccF71V7c.s:2548   .text.vTaskStartScheduler:00000000 $t
     /tmp/ccF71V7c.s:2554   .text.vTaskStartScheduler:00000000 vTaskStartScheduler
     /tmp/ccF71V7c.s:2622   .text.vTaskStartScheduler:0000004c $d
     /tmp/ccF71V7c.s:2630   .text.vTaskEndScheduler:00000000 $t
     /tmp/ccF71V7c.s:2636   .text.vTaskEndScheduler:00000000 vTaskEndScheduler
     /tmp/ccF71V7c.s:5113   .text.prvCheckTasksWaitingTermination:00000000 prvCheckTasksWaitingTermination
     /tmp/ccF71V7c.s:2710   .text.vTaskEndScheduler:00000050 $d
     /tmp/ccF71V7c.s:2716   .text.vTaskSuspendAll:00000000 $t
     /tmp/ccF71V7c.s:2754   .text.vTaskSuspendAll:00000018 $d
ARM GAS  /tmp/ccF71V7c.s 			page 310


     /tmp/ccF71V7c.s:2759   .text.xTaskResumeAll:00000000 $t
     /tmp/ccF71V7c.s:3524   .text.xTaskIncrementTick:00000000 xTaskIncrementTick
     /tmp/ccF71V7c.s:3073   .text.xTaskResumeAll:000001d0 $d
     /tmp/ccF71V7c.s:3086   .text.xTaskGetTickCount:00000000 $t
     /tmp/ccF71V7c.s:3092   .text.xTaskGetTickCount:00000000 xTaskGetTickCount
     /tmp/ccF71V7c.s:3126   .text.xTaskGetTickCount:0000001c $d
     /tmp/ccF71V7c.s:3131   .text.xTaskGetTickCountFromISR:00000000 $t
     /tmp/ccF71V7c.s:3137   .text.xTaskGetTickCountFromISR:00000000 xTaskGetTickCountFromISR
     /tmp/ccF71V7c.s:3174   .text.xTaskGetTickCountFromISR:00000020 $d
     /tmp/ccF71V7c.s:3179   .text.uxTaskGetNumberOfTasks:00000000 $t
     /tmp/ccF71V7c.s:3185   .text.uxTaskGetNumberOfTasks:00000000 uxTaskGetNumberOfTasks
     /tmp/ccF71V7c.s:3212   .text.uxTaskGetNumberOfTasks:00000014 $d
     /tmp/ccF71V7c.s:3217   .text.pcTaskGetName:00000000 $t
     /tmp/ccF71V7c.s:3223   .text.pcTaskGetName:00000000 pcTaskGetName
     /tmp/ccF71V7c.s:3269   .text.pcTaskGetName:00000028 $d
     /tmp/ccF71V7c.s:3274   .text.uxTaskGetSystemState:00000000 $t
     /tmp/ccF71V7c.s:3280   .text.uxTaskGetSystemState:00000000 uxTaskGetSystemState
     /tmp/ccF71V7c.s:5411   .text.prvListTasksWithinSingleList:00000000 prvListTasksWithinSingleList
     /tmp/ccF71V7c.s:3453   .text.uxTaskGetSystemState:00000104 $d
     /tmp/ccF71V7c.s:3463   .text.xTaskCatchUpTicks:00000000 $t
     /tmp/ccF71V7c.s:3469   .text.xTaskCatchUpTicks:00000000 xTaskCatchUpTicks
     /tmp/ccF71V7c.s:3513   .text.xTaskCatchUpTicks:00000030 $d
     /tmp/ccF71V7c.s:3518   .text.xTaskIncrementTick:00000000 $t
     /tmp/ccF71V7c.s:3846   .text.xTaskIncrementTick:000001e8 $d
     /tmp/ccF71V7c.s:3861   .text.vTaskSwitchContext:00000000 $t
     /tmp/ccF71V7c.s:3977   .text.vTaskSwitchContext:0000008c $d
     /tmp/ccF71V7c.s:3986   .text.vTaskPlaceOnEventList:00000000 $t
     /tmp/ccF71V7c.s:3992   .text.vTaskPlaceOnEventList:00000000 vTaskPlaceOnEventList
     /tmp/ccF71V7c.s:4031   .text.vTaskPlaceOnEventList:00000028 $d
     /tmp/ccF71V7c.s:4036   .text.vTaskPlaceOnUnorderedEventList:00000000 $t
     /tmp/ccF71V7c.s:4042   .text.vTaskPlaceOnUnorderedEventList:00000000 vTaskPlaceOnUnorderedEventList
     /tmp/ccF71V7c.s:4115   .text.vTaskPlaceOnUnorderedEventList:0000006c $d
     /tmp/ccF71V7c.s:4120   .text.xTaskRemoveFromEventList:00000000 $t
     /tmp/ccF71V7c.s:4126   .text.xTaskRemoveFromEventList:00000000 xTaskRemoveFromEventList
     /tmp/ccF71V7c.s:4371   .text.xTaskRemoveFromEventList:00000180 $d
     /tmp/ccF71V7c.s:4381   .text.vTaskRemoveFromUnorderedEventList:00000000 $t
     /tmp/ccF71V7c.s:4387   .text.vTaskRemoveFromUnorderedEventList:00000000 vTaskRemoveFromUnorderedEventList
     /tmp/ccF71V7c.s:4586   .text.vTaskRemoveFromUnorderedEventList:00000138 $d
     /tmp/ccF71V7c.s:4594   .text.vTaskSetTimeOutState:00000000 $t
     /tmp/ccF71V7c.s:4600   .text.vTaskSetTimeOutState:00000000 vTaskSetTimeOutState
     /tmp/ccF71V7c.s:4640   .text.vTaskSetTimeOutState:00000028 $d
     /tmp/ccF71V7c.s:4646   .text.vTaskInternalSetTimeOutState:00000000 $t
     /tmp/ccF71V7c.s:4652   .text.vTaskInternalSetTimeOutState:00000000 vTaskInternalSetTimeOutState
     /tmp/ccF71V7c.s:4691   .text.vTaskInternalSetTimeOutState:00000024 $d
     /tmp/ccF71V7c.s:4697   .text.xTaskCheckForTimeOut:00000000 $t
     /tmp/ccF71V7c.s:4703   .text.xTaskCheckForTimeOut:00000000 xTaskCheckForTimeOut
     /tmp/ccF71V7c.s:4816   .text.xTaskCheckForTimeOut:0000008c $d
     /tmp/ccF71V7c.s:4822   .text.vTaskMissedYield:00000000 $t
     /tmp/ccF71V7c.s:4828   .text.vTaskMissedYield:00000000 vTaskMissedYield
     /tmp/ccF71V7c.s:4856   .text.vTaskMissedYield:00000014 $d
     /tmp/ccF71V7c.s:4861   .text.uxTaskGetTaskNumber:00000000 $t
     /tmp/ccF71V7c.s:4867   .text.uxTaskGetTaskNumber:00000000 uxTaskGetTaskNumber
     /tmp/ccF71V7c.s:4916   .text.vTaskSetTaskNumber:00000000 $t
     /tmp/ccF71V7c.s:4922   .text.vTaskSetTaskNumber:00000000 vTaskSetTaskNumber
     /tmp/ccF71V7c.s:4965   .text.prvIdleTask:00000000 $t
     /tmp/ccF71V7c.s:5012   .text.prvIdleTask:00000028 $d
     /tmp/ccF71V7c.s:5018   .text.prvInitialiseTaskLists:00000000 $t
ARM GAS  /tmp/ccF71V7c.s 			page 311


     /tmp/ccF71V7c.s:5096   .text.prvInitialiseTaskLists:00000060 $d
     /tmp/ccF71V7c.s:5108   .text.prvCheckTasksWaitingTermination:00000000 $t
     /tmp/ccF71V7c.s:5180   .text.prvCheckTasksWaitingTermination:00000050 $d
     /tmp/ccF71V7c.s:5187   .text.vTaskGetInfo:00000000 $t
     /tmp/ccF71V7c.s:5193   .text.vTaskGetInfo:00000000 vTaskGetInfo
     /tmp/ccF71V7c.s:5504   .text.prvTaskCheckFreeStackSpace:00000000 prvTaskCheckFreeStackSpace
     /tmp/ccF71V7c.s:5400   .text.vTaskGetInfo:00000108 $d
     /tmp/ccF71V7c.s:5406   .text.prvListTasksWithinSingleList:00000000 $t
     /tmp/ccF71V7c.s:5499   .text.prvTaskCheckFreeStackSpace:00000000 $t
     /tmp/ccF71V7c.s:5561   .text.prvDeleteTCB:00000000 $t
     /tmp/ccF71V7c.s:5602   .text.prvResetNextTaskUnblockTime:00000000 $t
     /tmp/ccF71V7c.s:5654   .text.prvResetNextTaskUnblockTime:00000030 $d
     /tmp/ccF71V7c.s:5660   .text.xTaskGetCurrentTaskHandle:00000000 $t
     /tmp/ccF71V7c.s:5666   .text.xTaskGetCurrentTaskHandle:00000000 xTaskGetCurrentTaskHandle
     /tmp/ccF71V7c.s:5700   .text.xTaskGetCurrentTaskHandle:0000001c $d
     /tmp/ccF71V7c.s:5705   .text.xTaskGetCurrentTaskHandleForCore:00000000 $t
     /tmp/ccF71V7c.s:5711   .text.xTaskGetCurrentTaskHandleForCore:00000000 xTaskGetCurrentTaskHandleForCore
     /tmp/ccF71V7c.s:5758   .text.xTaskGetCurrentTaskHandleForCore:0000002c $d
     /tmp/ccF71V7c.s:5763   .text.xTaskPriorityInherit:00000000 $t
     /tmp/ccF71V7c.s:5769   .text.xTaskPriorityInherit:00000000 xTaskPriorityInherit
     /tmp/ccF71V7c.s:5958   .text.xTaskPriorityInherit:00000118 $d
     /tmp/ccF71V7c.s:5965   .text.xTaskPriorityDisinherit:00000000 $t
     /tmp/ccF71V7c.s:5971   .text.xTaskPriorityDisinherit:00000000 xTaskPriorityDisinherit
     /tmp/ccF71V7c.s:6124   .text.xTaskPriorityDisinherit:000000e4 $d
     /tmp/ccF71V7c.s:6130   .text.vTaskPriorityDisinheritAfterTimeout:00000000 $t
     /tmp/ccF71V7c.s:6136   .text.vTaskPriorityDisinheritAfterTimeout:00000000 vTaskPriorityDisinheritAfterTimeout
     /tmp/ccF71V7c.s:6315   .text.vTaskPriorityDisinheritAfterTimeout:0000010c $d
     /tmp/ccF71V7c.s:6321   .text.prvWriteNameToBuffer:00000000 $t
     /tmp/ccF71V7c.s:6326   .text.prvWriteNameToBuffer:00000000 prvWriteNameToBuffer
     /tmp/ccF71V7c.s:6396   .text.vTaskListTasks:00000000 $t
     /tmp/ccF71V7c.s:6402   .text.vTaskListTasks:00000000 vTaskListTasks
     /tmp/ccF71V7c.s:6480   .text.vTaskListTasks:00000068 $d
     /tmp/ccF71V7c.s:6485   .text.vTaskListTasks:0000007c $t
     /tmp/ccF71V7c.s:6667   .text.vTaskListTasks:0000017c $d
     /tmp/ccF71V7c.s:6673   .text.uxTaskResetEventItemValue:00000000 $t
     /tmp/ccF71V7c.s:6679   .text.uxTaskResetEventItemValue:00000000 uxTaskResetEventItemValue
     /tmp/ccF71V7c.s:6723   .text.uxTaskResetEventItemValue:0000002c $d
     /tmp/ccF71V7c.s:6728   .text.pvTaskIncrementMutexHeldCount:00000000 $t
     /tmp/ccF71V7c.s:6734   .text.pvTaskIncrementMutexHeldCount:00000000 pvTaskIncrementMutexHeldCount
     /tmp/ccF71V7c.s:6780   .text.pvTaskIncrementMutexHeldCount:0000002c $d
     /tmp/ccF71V7c.s:6785   .text.ulTaskGenericNotifyTake:00000000 $t
     /tmp/ccF71V7c.s:6791   .text.ulTaskGenericNotifyTake:00000000 ulTaskGenericNotifyTake
     /tmp/ccF71V7c.s:6949   .text.ulTaskGenericNotifyTake:000000d8 $d
     /tmp/ccF71V7c.s:6955   .text.xTaskGenericNotifyWait:00000000 $t
     /tmp/ccF71V7c.s:6961   .text.xTaskGenericNotifyWait:00000000 xTaskGenericNotifyWait
     /tmp/ccF71V7c.s:7153   .text.xTaskGenericNotifyWait:00000108 $d
     /tmp/ccF71V7c.s:7159   .text.xTaskGenericNotify:00000000 $t
     /tmp/ccF71V7c.s:7165   .text.xTaskGenericNotify:00000000 xTaskGenericNotify
     /tmp/ccF71V7c.s:7228   .text.xTaskGenericNotify:00000054 $d
     /tmp/ccF71V7c.s:7233   .text.xTaskGenericNotify:00000068 $t
     /tmp/ccF71V7c.s:7457   .text.xTaskGenericNotify:000001c4 $d
     /tmp/ccF71V7c.s:7465   .text.xTaskGenericNotifyFromISR:00000000 $t
     /tmp/ccF71V7c.s:7471   .text.xTaskGenericNotifyFromISR:00000000 xTaskGenericNotifyFromISR
     /tmp/ccF71V7c.s:7554   .text.xTaskGenericNotifyFromISR:00000070 $d
     /tmp/ccF71V7c.s:7559   .text.xTaskGenericNotifyFromISR:00000084 $t
     /tmp/ccF71V7c.s:7841   .text.xTaskGenericNotifyFromISR:00000238 $d
     /tmp/ccF71V7c.s:7851   .text.vTaskGenericNotifyGiveFromISR:00000000 $t
ARM GAS  /tmp/ccF71V7c.s 			page 312


     /tmp/ccF71V7c.s:7857   .text.vTaskGenericNotifyGiveFromISR:00000000 vTaskGenericNotifyGiveFromISR
     /tmp/ccF71V7c.s:8134   .text.vTaskGenericNotifyGiveFromISR:000001a8 $d
     /tmp/ccF71V7c.s:8144   .text.xTaskGenericNotifyStateClear:00000000 $t
     /tmp/ccF71V7c.s:8150   .text.xTaskGenericNotifyStateClear:00000000 xTaskGenericNotifyStateClear
     /tmp/ccF71V7c.s:8223   .text.xTaskGenericNotifyStateClear:00000054 $d
     /tmp/ccF71V7c.s:8228   .text.ulTaskGenericNotifyValueClear:00000000 $t
     /tmp/ccF71V7c.s:8234   .text.ulTaskGenericNotifyValueClear:00000000 ulTaskGenericNotifyValueClear
     /tmp/ccF71V7c.s:8308   .text.ulTaskGenericNotifyValueClear:0000005c $d
     /tmp/ccF71V7c.s:8313   .text.prvAddCurrentTaskToDelayedList:00000000 $t
     /tmp/ccF71V7c.s:8457   .text.prvAddCurrentTaskToDelayedList:000000c8 $d
     /tmp/ccF71V7c.s:8467   .text.vTaskResetState:00000000 $t
     /tmp/ccF71V7c.s:8473   .text.vTaskResetState:00000000 vTaskResetState
     /tmp/ccF71V7c.s:8565   .text.vTaskResetState:00000070 $d
                           .group:00000000 wm4.0.e7b64c2c371cf922f2c8028878d5c18e
                           .group:00000000 wm4.ieeefp.h.77.5ad60f72ea25fc152400b550ac118212
                           .group:00000000 wm4._newlib_version.h.4.411db44ea2338a62eca2f0777f81481b
                           .group:00000000 wm4.newlib.h.27.07bf1b8b16da454ae07478107717878b
                           .group:00000000 wm4.features.h.22.4e5514d51694f64cae235f84d9e565a5
                           .group:00000000 wm4.config.h.224.10ee1ad185d877c6e334e6581faab44d
                           .group:00000000 wm4._ansi.h.31.de524f58584151836e90d8620a16f8e8
                           .group:00000000 wm4.stdlib.h.13.4ed386f5c1a80d71e72172885d946ef2
                           .group:00000000 wm4.stddef.h.185.882514a1a6169ceba9142f401cbe27c6
                           .group:00000000 wm4.stddef.h.39.794fa375de48dda278c4aebb5c74aa5b
                           .group:00000000 wm4._default_types.h.6.959254cf5f09734ea7516c89e8bb21bd
                           .group:00000000 wm4.cdefs.h.49.70fc7af612f78ddcace70fdd90b5623b
                           .group:00000000 wm4._types.h.20.dd0d04dca3800a0d2a6129b87f3adbb2
                           .group:00000000 wm4.stddef.h.158.6f8e08a347b1cff664332fa350bfceb3
                           .group:00000000 wm4._types.h.127.3bdfe3ff8ea2d0985b03d9cbe93480e3
                           .group:00000000 wm4.reent.h.18.25503cdc8b7e55dd0d6ea7b3e5af7a03
                           .group:00000000 wm4.lock.h.2.c0958401bd0ce484d507ee19aacab817
                           .group:00000000 wm4.reent.h.78.7f0775353a33c852a1479c008f68cd03
                           .group:00000000 wm4.alloca.h.8.dfc0c703c47ec3e69746825b17d9e66d
                           .group:00000000 wm4.stdlib.h.56.f4862cfbf4363a1db01842d5bdf72c18
                           .group:00000000 wm4.string.h.8.c4b8571ce60dff2817f43fec8b86aecd
                           .group:00000000 wm4.stddef.h.158.eec8bf00b5213f43d095cb984c5f22e3
                           .group:00000000 wm4.stdint.h.29.6d480f4ba0f60596e88234283d42444f
                           .group:00000000 wm4.FreeRTOS.h.59.647b1b0da38e4e98108aae13c8abe9ee
                           .group:00000000 wm4.FreeRTOSConfig.h.3.1bc113985a1c518a5550f81e20536102
                           .group:00000000 wm4.FreeRTOS.h.80.9a03152afd9cd416d9ab2abfdad37c9b
                           .group:00000000 wm4.projdefs.h.30.aa35d7b594916c060d2a891e32dea137
                           .group:00000000 wm4.portmacro.h.31.e33b7e559875bcc469c70605da17b58f
                           .group:00000000 wm4.portable.h.61.05b23d6f46f623c8ade29ce5eacb329c
                           .group:00000000 wm4.mpu_wrappers.h.30.5ad41bb447b8a1fc377f3ff5365e3b43
                           .group:00000000 wm4.portable.h.193.36e79dfed0030429d07d873c91c7277e
                           .group:00000000 wm4.FreeRTOS.h.111.6daad733ba046b297d537354d32aec60
                           .group:00000000 wm4.list.h.59.51b351582e53f1c2c45529a43c6ffaaf
                           .group:00000000 wm4.task.h.56.6d40654270ebd8aede87d7ae52c162f1
                           .group:00000000 wm4.timers.h.55.d74a754dc24bc750d4e931b79e9275a7
                           .group:00000000 wm4.stack_macros.h.30.e92139e20cd707f6d69c7bc0972aad38
                           .group:00000000 wm4.stdio.h.27.3fc80220048df77954e38daec3bb9670
                           .group:00000000 wm4.stdarg.h.34.3a23a216c0c293b3d2ea2e89281481e6
                           .group:00000000 wm4.stdio.h.47.dc31ec4674d7bcb103c9f08809549f45
                           .group:00000000 wm4.stdio.h.2.4aa87247282eca6c8f36f9de33d8df1a
                           .group:00000000 wm4.stdio.h.87.a1e20d2651f9bfb66e51bfbe849db00a

UNDEFINED SYMBOLS
pvPortMalloc
ARM GAS  /tmp/ccF71V7c.s 			page 313


memset
vPortFree
vListInitialiseItem
pxPortInitialiseStack
vPortEnterCritical
vPortExitCritical
uxListRemove
vListInsertEnd
xPortStartScheduler
vPortEndScheduler
vListInsert
vListInitialise
strcpy
strlen
snprintf
