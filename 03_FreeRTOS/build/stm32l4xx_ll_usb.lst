ARM GAS  /tmp/cc3N4Hnz.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"stm32l4xx_ll_usb.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c"
  20              		.section	.rodata.CHANNEL_OFFSET_TAB,"a"
  21              		.align	2
  24              	CHANNEL_OFFSET_TAB:
  25 0000 081C3044 		.ascii	"\010\0340DXl\200"
  25      586C80
  26              		.section	.text.USB_CoreInit,"ax",%progbits
  27              		.align	1
  28              		.global	USB_CoreInit
  29              		.syntax unified
  30              		.thumb
  31              		.thumb_func
  33              	USB_CoreInit:
  34              	.LFB445:
   1:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
   2:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ******************************************************************************
   3:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @file    stm32l4xx_ll_usb.c
   4:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @author  MCD Application Team
   5:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief   USB Low Layer HAL module driver.
   6:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *
   7:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This file provides firmware functions to manage the following
   8:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          functionalities of the USB Peripheral Controller:
   9:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           + Initialization/de-initialization functions
  10:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           + I/O operation functions
  11:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           + Peripheral Control functions
  12:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           + Peripheral State functions
  13:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *
  14:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ******************************************************************************
  15:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @attention
  16:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *
  17:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * Copyright (c) 2017 STMicroelectronics.
  18:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * All rights reserved.
  19:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *
  20:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * This software is licensed under terms that can be found in the LICENSE file
  21:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * in the root directory of this software component.
  22:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  23:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *
  24:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ******************************************************************************
  25:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   @verbatim
ARM GAS  /tmp/cc3N4Hnz.s 			page 2


  26:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ==============================================================================
  27:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                     ##### How to use this driver #####
  28:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ==============================================================================
  29:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     [..]
  30:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       (#) Fill parameters of Init structure in USB_CfgTypeDef structure.
  31:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  32:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       (#) Call USB_CoreInit() API to initialize the USB Core peripheral.
  33:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  34:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       (#) The upper HAL HCD/PCD driver will call the right routines for its internal processes.
  35:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  36:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       (#)NOTE: For applications not using double buffer mode, define the symbol
  37:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                 'USE_USB_DOUBLE_BUFFER' as 0 to reduce the driver's memory footprint.
  38:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  39:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   @endverbatim
  40:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  41:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ******************************************************************************
  42:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
  43:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  44:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Includes ------------------------------------------------------------------*/
  45:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #include "stm32l4xx_hal.h"
  46:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  47:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /** @addtogroup STM32L4xx_LL_USB_DRIVER
  48:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @{
  49:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
  50:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  51:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #if defined (HAL_PCD_MODULE_ENABLED) || defined (HAL_HCD_MODULE_ENABLED)
  52:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #if defined (USB) || defined (USB_OTG_FS)
  53:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Private typedef -----------------------------------------------------------*/
  54:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Private define ------------------------------------------------------------*/
  55:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Private macro -------------------------------------------------------------*/
  56:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Private variables ---------------------------------------------------------*/
  57:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Private function prototypes -----------------------------------------------*/
  58:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Private functions ---------------------------------------------------------*/
  59:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #if defined (USB_OTG_FS)
  60:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx);
  61:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  62:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /* Exported functions --------------------------------------------------------*/
  63:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions USB Low Layer Exported Functions
  64:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @{
  65:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
  66:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  67:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions_Group1 Initialization/de-initialization functions
  68:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *  @brief    Initialization and Configuration functions
  69:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *
  70:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** @verbatim
  71:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****  ===============================================================================
  72:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                       ##### Initialization/de-initialization functions #####
  73:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****  ===============================================================================
  74:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  75:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** @endverbatim
  76:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @{
  77:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
  78:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  79:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
  80:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Initializes the USB Core
  81:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx USB Instance
  82:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  cfg pointer to a USB_OTG_CfgTypeDef structure that contains
ARM GAS  /tmp/cc3N4Hnz.s 			page 3


  83:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
  84:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
  85:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
  86:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_CoreInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
  87:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
  35              		.loc 1 87 1
  36              		.cfi_startproc
  37              		@ args = 20, pretend = 16, frame = 16
  38              		@ frame_needed = 1, uses_anonymous_args = 0
  39 0000 84B0     		sub	sp, sp, #16
  40              		.cfi_def_cfa_offset 16
  41 0002 80B5     		push	{r7, lr}
  42              		.cfi_def_cfa_offset 24
  43              		.cfi_offset 7, -24
  44              		.cfi_offset 14, -20
  45 0004 84B0     		sub	sp, sp, #16
  46              		.cfi_def_cfa_offset 40
  47 0006 00AF     		add	r7, sp, #0
  48              		.cfi_def_cfa_register 7
  49 0008 7860     		str	r0, [r7, #4]
  50 000a 07F11C00 		add	r0, r7, #28
  51 000e 80E80E00 		stm	r0, {r1, r2, r3}
  88:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret;
  89:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  90:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Select FS Embedded PHY */
  91:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GUSBCFG |= USB_OTG_GUSBCFG_PHYSEL;
  52              		.loc 1 91 7
  53 0012 7B68     		ldr	r3, [r7, #4]
  54 0014 DB68     		ldr	r3, [r3, #12]
  55              		.loc 1 91 17
  56 0016 43F04002 		orr	r2, r3, #64
  57 001a 7B68     		ldr	r3, [r7, #4]
  58 001c DA60     		str	r2, [r3, #12]
  92:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  93:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Reset after a PHY select */
  94:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ret = USB_CoreReset(USBx);
  59              		.loc 1 94 9
  60 001e 7868     		ldr	r0, [r7, #4]
  61 0020 FFF7FEFF 		bl	USB_CoreReset
  62 0024 0346     		mov	r3, r0
  63 0026 FB73     		strb	r3, [r7, #15]
  95:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
  96:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (cfg.battery_charging_enable == 0U)
  64              		.loc 1 96 10
  65 0028 97F82530 		ldrb	r3, [r7, #37]	@ zero_extendqisi2
  66              		.loc 1 96 6
  67 002c 002B     		cmp	r3, #0
  68 002e 06D1     		bne	.L2
  97:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
  98:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Activate the USB Transceiver */
  99:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_PWRDWN;
  69              		.loc 1 99 9
  70 0030 7B68     		ldr	r3, [r7, #4]
  71 0032 9B6B     		ldr	r3, [r3, #56]
  72              		.loc 1 99 17
  73 0034 43F48032 		orr	r2, r3, #65536
  74 0038 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/cc3N4Hnz.s 			page 4


  75 003a 9A63     		str	r2, [r3, #56]
  76 003c 05E0     		b	.L3
  77              	.L2:
 100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Deactivate the USB Transceiver */
 104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GCCFG &= ~(USB_OTG_GCCFG_PWRDWN);
  78              		.loc 1 104 9
  79 003e 7B68     		ldr	r3, [r7, #4]
  80 0040 9B6B     		ldr	r3, [r3, #56]
  81              		.loc 1 104 17
  82 0042 23F48032 		bic	r2, r3, #65536
  83 0046 7B68     		ldr	r3, [r7, #4]
  84 0048 9A63     		str	r2, [r3, #56]
  85              	.L3:
 105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
  86              		.loc 1 107 10
  87 004a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
  88              		.loc 1 108 1
  89 004c 1846     		mov	r0, r3
  90 004e 1037     		adds	r7, r7, #16
  91              		.cfi_def_cfa_offset 24
  92 0050 BD46     		mov	sp, r7
  93              		.cfi_def_cfa_register 13
  94              		@ sp needed
  95 0052 BDE88040 		pop	{r7, lr}
  96              		.cfi_restore 14
  97              		.cfi_restore 7
  98              		.cfi_def_cfa_offset 16
  99 0056 04B0     		add	sp, sp, #16
 100              		.cfi_def_cfa_offset 0
 101 0058 7047     		bx	lr
 102              		.cfi_endproc
 103              	.LFE445:
 105              		.section	.text.USB_SetTurnaroundTime,"ax",%progbits
 106              		.align	1
 107              		.global	USB_SetTurnaroundTime
 108              		.syntax unified
 109              		.thumb
 110              		.thumb_func
 112              	USB_SetTurnaroundTime:
 113              	.LFB446:
 109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Set the USB turnaround time
 113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx USB Instance
 114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  hclk: AHB clock frequency
 115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval USB turnaround time In PHY Clocks number
 116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetTurnaroundTime(USB_OTG_GlobalTypeDef *USBx,
 118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                         uint32_t hclk, uint8_t speed)
 119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
ARM GAS  /tmp/cc3N4Hnz.s 			page 5


 114              		.loc 1 119 1
 115              		.cfi_startproc
 116              		@ args = 0, pretend = 0, frame = 24
 117              		@ frame_needed = 1, uses_anonymous_args = 0
 118              		@ link register save eliminated.
 119 0000 80B4     		push	{r7}
 120              		.cfi_def_cfa_offset 4
 121              		.cfi_offset 7, -4
 122 0002 87B0     		sub	sp, sp, #28
 123              		.cfi_def_cfa_offset 32
 124 0004 00AF     		add	r7, sp, #0
 125              		.cfi_def_cfa_register 7
 126 0006 F860     		str	r0, [r7, #12]
 127 0008 B960     		str	r1, [r7, #8]
 128 000a 1346     		mov	r3, r2
 129 000c FB71     		strb	r3, [r7, #7]
 120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t UsbTrd;
 121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* The USBTRD is configured according to the tables below, depending on AHB frequency
 123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   used by application. In the low AHB frequency range it is used to stretch enough the USB response
 124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   time to IN tokens, the USB turnaround time, so to compensate for the longer AHB read access
 125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   latency to the Data FIFO */
 126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (speed == USBD_FS_SPEED)
 130              		.loc 1 126 6
 131 000e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 132 0010 022B     		cmp	r3, #2
 133 0012 65D1     		bne	.L6
 127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((hclk >= 14200000U) && (hclk < 15000000U))
 134              		.loc 1 128 8
 135 0014 BB68     		ldr	r3, [r7, #8]
 136 0016 3E4A     		ldr	r2, .L19
 137 0018 9342     		cmp	r3, r2
 138 001a 06D9     		bls	.L7
 139              		.loc 1 128 29 discriminator 1
 140 001c BB68     		ldr	r3, [r7, #8]
 141 001e 3D4A     		ldr	r2, .L19+4
 142 0020 9342     		cmp	r3, r2
 143 0022 02D2     		bcs	.L7
 129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 14.2-15 MHz */
 131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0xFU;
 144              		.loc 1 131 14
 145 0024 0F23     		movs	r3, #15
 146 0026 7B61     		str	r3, [r7, #20]
 147 0028 5CE0     		b	.L17
 148              	.L7:
 132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 15000000U) && (hclk < 16000000U))
 149              		.loc 1 133 13
 150 002a BB68     		ldr	r3, [r7, #8]
 151 002c 394A     		ldr	r2, .L19+4
 152 002e 9342     		cmp	r3, r2
 153 0030 06D3     		bcc	.L9
 154              		.loc 1 133 34 discriminator 1
 155 0032 BB68     		ldr	r3, [r7, #8]
 156 0034 384A     		ldr	r2, .L19+8
ARM GAS  /tmp/cc3N4Hnz.s 			page 6


 157 0036 9342     		cmp	r3, r2
 158 0038 02D2     		bcs	.L9
 134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 15-16 MHz */
 136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0xEU;
 159              		.loc 1 136 14
 160 003a 0E23     		movs	r3, #14
 161 003c 7B61     		str	r3, [r7, #20]
 162 003e 51E0     		b	.L17
 163              	.L9:
 137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 16000000U) && (hclk < 17200000U))
 164              		.loc 1 138 13
 165 0040 BB68     		ldr	r3, [r7, #8]
 166 0042 354A     		ldr	r2, .L19+8
 167 0044 9342     		cmp	r3, r2
 168 0046 06D3     		bcc	.L10
 169              		.loc 1 138 34 discriminator 1
 170 0048 BB68     		ldr	r3, [r7, #8]
 171 004a 344A     		ldr	r2, .L19+12
 172 004c 9342     		cmp	r3, r2
 173 004e 02D2     		bcs	.L10
 139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 16-17.2 MHz */
 141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0xDU;
 174              		.loc 1 141 14
 175 0050 0D23     		movs	r3, #13
 176 0052 7B61     		str	r3, [r7, #20]
 177 0054 46E0     		b	.L17
 178              	.L10:
 142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 17200000U) && (hclk < 18500000U))
 179              		.loc 1 143 13
 180 0056 BB68     		ldr	r3, [r7, #8]
 181 0058 304A     		ldr	r2, .L19+12
 182 005a 9342     		cmp	r3, r2
 183 005c 06D3     		bcc	.L11
 184              		.loc 1 143 34 discriminator 1
 185 005e BB68     		ldr	r3, [r7, #8]
 186 0060 2F4A     		ldr	r2, .L19+16
 187 0062 9342     		cmp	r3, r2
 188 0064 02D8     		bhi	.L11
 144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 17.2-18.5 MHz */
 146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0xCU;
 189              		.loc 1 146 14
 190 0066 0C23     		movs	r3, #12
 191 0068 7B61     		str	r3, [r7, #20]
 192 006a 3BE0     		b	.L17
 193              	.L11:
 147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 18500000U) && (hclk < 20000000U))
 194              		.loc 1 148 13
 195 006c BB68     		ldr	r3, [r7, #8]
 196 006e 2C4A     		ldr	r2, .L19+16
 197 0070 9342     		cmp	r3, r2
 198 0072 06D9     		bls	.L12
ARM GAS  /tmp/cc3N4Hnz.s 			page 7


 199              		.loc 1 148 34 discriminator 1
 200 0074 BB68     		ldr	r3, [r7, #8]
 201 0076 2B4A     		ldr	r2, .L19+20
 202 0078 9342     		cmp	r3, r2
 203 007a 02D8     		bhi	.L12
 149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 18.5-20 MHz */
 151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0xBU;
 204              		.loc 1 151 14
 205 007c 0B23     		movs	r3, #11
 206 007e 7B61     		str	r3, [r7, #20]
 207 0080 30E0     		b	.L17
 208              	.L12:
 152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 20000000U) && (hclk < 21800000U))
 209              		.loc 1 153 13
 210 0082 BB68     		ldr	r3, [r7, #8]
 211 0084 274A     		ldr	r2, .L19+20
 212 0086 9342     		cmp	r3, r2
 213 0088 06D9     		bls	.L13
 214              		.loc 1 153 34 discriminator 1
 215 008a BB68     		ldr	r3, [r7, #8]
 216 008c 264A     		ldr	r2, .L19+24
 217 008e 9342     		cmp	r3, r2
 218 0090 02D8     		bhi	.L13
 154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 20-21.8 MHz */
 156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0xAU;
 219              		.loc 1 156 14
 220 0092 0A23     		movs	r3, #10
 221 0094 7B61     		str	r3, [r7, #20]
 222 0096 25E0     		b	.L17
 223              	.L13:
 157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 21800000U) && (hclk < 24000000U))
 224              		.loc 1 158 13
 225 0098 BB68     		ldr	r3, [r7, #8]
 226 009a 234A     		ldr	r2, .L19+24
 227 009c 9342     		cmp	r3, r2
 228 009e 06D9     		bls	.L14
 229              		.loc 1 158 34 discriminator 1
 230 00a0 BB68     		ldr	r3, [r7, #8]
 231 00a2 224A     		ldr	r2, .L19+28
 232 00a4 9342     		cmp	r3, r2
 233 00a6 02D2     		bcs	.L14
 159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 21.8-24 MHz */
 161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0x9U;
 234              		.loc 1 161 14
 235 00a8 0923     		movs	r3, #9
 236 00aa 7B61     		str	r3, [r7, #20]
 237 00ac 1AE0     		b	.L17
 238              	.L14:
 162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 24000000U) && (hclk < 27700000U))
 239              		.loc 1 163 13
 240 00ae BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/cc3N4Hnz.s 			page 8


 241 00b0 1E4A     		ldr	r2, .L19+28
 242 00b2 9342     		cmp	r3, r2
 243 00b4 06D3     		bcc	.L15
 244              		.loc 1 163 34 discriminator 1
 245 00b6 BB68     		ldr	r3, [r7, #8]
 246 00b8 1D4A     		ldr	r2, .L19+32
 247 00ba 9342     		cmp	r3, r2
 248 00bc 02D8     		bhi	.L15
 164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 24-27.7 MHz */
 166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0x8U;
 249              		.loc 1 166 14
 250 00be 0823     		movs	r3, #8
 251 00c0 7B61     		str	r3, [r7, #20]
 252 00c2 0FE0     		b	.L17
 253              	.L15:
 167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else if ((hclk >= 27700000U) && (hclk < 32000000U))
 254              		.loc 1 168 13
 255 00c4 BB68     		ldr	r3, [r7, #8]
 256 00c6 1A4A     		ldr	r2, .L19+32
 257 00c8 9342     		cmp	r3, r2
 258 00ca 06D9     		bls	.L16
 259              		.loc 1 168 34 discriminator 1
 260 00cc BB68     		ldr	r3, [r7, #8]
 261 00ce 194A     		ldr	r2, .L19+36
 262 00d0 9342     		cmp	r3, r2
 263 00d2 02D2     		bcs	.L16
 169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 27.7-32 MHz */
 171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0x7U;
 264              		.loc 1 171 14
 265 00d4 0723     		movs	r3, #7
 266 00d6 7B61     		str	r3, [r7, #20]
 267 00d8 04E0     		b	.L17
 268              	.L16:
 172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else /* if(hclk >= 32000000) */
 174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* hclk Clock Range between 32-200 MHz */
 176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UsbTrd = 0x6U;
 269              		.loc 1 176 14
 270 00da 0623     		movs	r3, #6
 271 00dc 7B61     		str	r3, [r7, #20]
 272 00de 01E0     		b	.L17
 273              	.L6:
 177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     UsbTrd = USBD_DEFAULT_TRDT_VALUE;
 274              		.loc 1 181 12
 275 00e0 0923     		movs	r3, #9
 276 00e2 7B61     		str	r3, [r7, #20]
 277              	.L17:
 182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  /tmp/cc3N4Hnz.s 			page 9


 184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GUSBCFG &= ~USB_OTG_GUSBCFG_TRDT;
 278              		.loc 1 184 7
 279 00e4 FB68     		ldr	r3, [r7, #12]
 280 00e6 DB68     		ldr	r3, [r3, #12]
 281              		.loc 1 184 17
 282 00e8 23F47052 		bic	r2, r3, #15360
 283 00ec FB68     		ldr	r3, [r7, #12]
 284 00ee DA60     		str	r2, [r3, #12]
 185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GUSBCFG |= (uint32_t)((UsbTrd << 10) & USB_OTG_GUSBCFG_TRDT);
 285              		.loc 1 185 7
 286 00f0 FB68     		ldr	r3, [r7, #12]
 287 00f2 DA68     		ldr	r2, [r3, #12]
 288              		.loc 1 185 39
 289 00f4 7B69     		ldr	r3, [r7, #20]
 290 00f6 9B02     		lsls	r3, r3, #10
 291              		.loc 1 185 20
 292 00f8 03F47053 		and	r3, r3, #15360
 293              		.loc 1 185 17
 294 00fc 1A43     		orrs	r2, r2, r3
 295 00fe FB68     		ldr	r3, [r7, #12]
 296 0100 DA60     		str	r2, [r3, #12]
 186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 297              		.loc 1 187 10
 298 0102 0023     		movs	r3, #0
 188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 299              		.loc 1 188 1
 300 0104 1846     		mov	r0, r3
 301 0106 1C37     		adds	r7, r7, #28
 302              		.cfi_def_cfa_offset 4
 303 0108 BD46     		mov	sp, r7
 304              		.cfi_def_cfa_register 13
 305              		@ sp needed
 306 010a 5DF8047B 		ldr	r7, [sp], #4
 307              		.cfi_restore 7
 308              		.cfi_def_cfa_offset 0
 309 010e 7047     		bx	lr
 310              	.L20:
 311              		.align	2
 312              	.L19:
 313 0110 BFACD800 		.word	14199999
 314 0114 C0E1E400 		.word	15000000
 315 0118 0024F400 		.word	16000000
 316 011c 80730601 		.word	17200000
 317 0120 9F491A01 		.word	18499999
 318 0124 FF2C3101 		.word	19999999
 319 0128 3FA44C01 		.word	21799999
 320 012c 00366E01 		.word	24000000
 321 0130 1FABA601 		.word	27699999
 322 0134 0048E801 		.word	32000000
 323              		.cfi_endproc
 324              	.LFE446:
 326              		.section	.text.USB_EnableGlobalInt,"ax",%progbits
 327              		.align	1
 328              		.global	USB_EnableGlobalInt
 329              		.syntax unified
 330              		.thumb
ARM GAS  /tmp/cc3N4Hnz.s 			page 10


 331              		.thumb_func
 333              	USB_EnableGlobalInt:
 334              	.LFB447:
 189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_EnableGlobalInt
 192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         Enables the controller's Global Int in the AHB Config reg
 193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EnableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 335              		.loc 1 197 1
 336              		.cfi_startproc
 337              		@ args = 0, pretend = 0, frame = 8
 338              		@ frame_needed = 1, uses_anonymous_args = 0
 339              		@ link register save eliminated.
 340 0000 80B4     		push	{r7}
 341              		.cfi_def_cfa_offset 4
 342              		.cfi_offset 7, -4
 343 0002 83B0     		sub	sp, sp, #12
 344              		.cfi_def_cfa_offset 16
 345 0004 00AF     		add	r7, sp, #0
 346              		.cfi_def_cfa_register 7
 347 0006 7860     		str	r0, [r7, #4]
 198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GAHBCFG |= USB_OTG_GAHBCFG_GINT;
 348              		.loc 1 198 7
 349 0008 7B68     		ldr	r3, [r7, #4]
 350 000a 9B68     		ldr	r3, [r3, #8]
 351              		.loc 1 198 17
 352 000c 43F00102 		orr	r2, r3, #1
 353 0010 7B68     		ldr	r3, [r7, #4]
 354 0012 9A60     		str	r2, [r3, #8]
 199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 355              		.loc 1 199 10
 356 0014 0023     		movs	r3, #0
 200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 357              		.loc 1 200 1
 358 0016 1846     		mov	r0, r3
 359 0018 0C37     		adds	r7, r7, #12
 360              		.cfi_def_cfa_offset 4
 361 001a BD46     		mov	sp, r7
 362              		.cfi_def_cfa_register 13
 363              		@ sp needed
 364 001c 5DF8047B 		ldr	r7, [sp], #4
 365              		.cfi_restore 7
 366              		.cfi_def_cfa_offset 0
 367 0020 7047     		bx	lr
 368              		.cfi_endproc
 369              	.LFE447:
 371              		.section	.text.USB_DisableGlobalInt,"ax",%progbits
 372              		.align	1
 373              		.global	USB_DisableGlobalInt
 374              		.syntax unified
 375              		.thumb
 376              		.thumb_func
 378              	USB_DisableGlobalInt:
ARM GAS  /tmp/cc3N4Hnz.s 			page 11


 379              	.LFB448:
 201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DisableGlobalInt
 204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         Disable the controller's Global Int in the AHB Config reg
 205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DisableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 380              		.loc 1 209 1
 381              		.cfi_startproc
 382              		@ args = 0, pretend = 0, frame = 8
 383              		@ frame_needed = 1, uses_anonymous_args = 0
 384              		@ link register save eliminated.
 385 0000 80B4     		push	{r7}
 386              		.cfi_def_cfa_offset 4
 387              		.cfi_offset 7, -4
 388 0002 83B0     		sub	sp, sp, #12
 389              		.cfi_def_cfa_offset 16
 390 0004 00AF     		add	r7, sp, #0
 391              		.cfi_def_cfa_register 7
 392 0006 7860     		str	r0, [r7, #4]
 210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GAHBCFG &= ~USB_OTG_GAHBCFG_GINT;
 393              		.loc 1 210 7
 394 0008 7B68     		ldr	r3, [r7, #4]
 395 000a 9B68     		ldr	r3, [r3, #8]
 396              		.loc 1 210 17
 397 000c 23F00102 		bic	r2, r3, #1
 398 0010 7B68     		ldr	r3, [r7, #4]
 399 0012 9A60     		str	r2, [r3, #8]
 211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 400              		.loc 1 211 10
 401 0014 0023     		movs	r3, #0
 212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 402              		.loc 1 212 1
 403 0016 1846     		mov	r0, r3
 404 0018 0C37     		adds	r7, r7, #12
 405              		.cfi_def_cfa_offset 4
 406 001a BD46     		mov	sp, r7
 407              		.cfi_def_cfa_register 13
 408              		@ sp needed
 409 001c 5DF8047B 		ldr	r7, [sp], #4
 410              		.cfi_restore 7
 411              		.cfi_def_cfa_offset 0
 412 0020 7047     		bx	lr
 413              		.cfi_endproc
 414              	.LFE448:
 416              		.section	.text.USB_SetCurrentMode,"ax",%progbits
 417              		.align	1
 418              		.global	USB_SetCurrentMode
 419              		.syntax unified
 420              		.thumb
 421              		.thumb_func
 423              	USB_SetCurrentMode:
 424              	.LFB449:
 213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  /tmp/cc3N4Hnz.s 			page 12


 214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_SetCurrentMode Set functional mode
 216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  mode  current core mode
 218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
 219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg USB_DEVICE_MODE Peripheral mode
 220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg USB_HOST_MODE Host mode
 221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetCurrentMode(USB_OTG_GlobalTypeDef *USBx, USB_ModeTypeDef mode)
 224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 425              		.loc 1 224 1
 426              		.cfi_startproc
 427              		@ args = 0, pretend = 0, frame = 16
 428              		@ frame_needed = 1, uses_anonymous_args = 0
 429 0000 80B5     		push	{r7, lr}
 430              		.cfi_def_cfa_offset 8
 431              		.cfi_offset 7, -8
 432              		.cfi_offset 14, -4
 433 0002 84B0     		sub	sp, sp, #16
 434              		.cfi_def_cfa_offset 24
 435 0004 00AF     		add	r7, sp, #0
 436              		.cfi_def_cfa_register 7
 437 0006 7860     		str	r0, [r7, #4]
 438 0008 0B46     		mov	r3, r1
 439 000a FB70     		strb	r3, [r7, #3]
 225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t ms = 0U;
 440              		.loc 1 225 12
 441 000c 0023     		movs	r3, #0
 442 000e FB60     		str	r3, [r7, #12]
 226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_FHMOD | USB_OTG_GUSBCFG_FDMOD);
 443              		.loc 1 227 7
 444 0010 7B68     		ldr	r3, [r7, #4]
 445 0012 DB68     		ldr	r3, [r3, #12]
 446              		.loc 1 227 17
 447 0014 23F0C042 		bic	r2, r3, #1610612736
 448 0018 7B68     		ldr	r3, [r7, #4]
 449 001a DA60     		str	r2, [r3, #12]
 228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (mode == USB_HOST_MODE)
 450              		.loc 1 229 6
 451 001c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 452 001e 012B     		cmp	r3, #1
 453 0020 15D1     		bne	.L26
 230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FHMOD;
 454              		.loc 1 231 9
 455 0022 7B68     		ldr	r3, [r7, #4]
 456 0024 DB68     		ldr	r3, [r3, #12]
 457              		.loc 1 231 19
 458 0026 43F00052 		orr	r2, r3, #536870912
 459 002a 7B68     		ldr	r3, [r7, #4]
 460 002c DA60     		str	r2, [r3, #12]
 461              	.L28:
 232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     do
ARM GAS  /tmp/cc3N4Hnz.s 			page 13


 234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       HAL_Delay(10U);
 462              		.loc 1 235 7
 463 002e 0A20     		movs	r0, #10
 464 0030 FFF7FEFF 		bl	HAL_Delay
 236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       ms += 10U;
 465              		.loc 1 236 10
 466 0034 FB68     		ldr	r3, [r7, #12]
 467 0036 0A33     		adds	r3, r3, #10
 468 0038 FB60     		str	r3, [r7, #12]
 237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     } while ((USB_GetMode(USBx) != (uint32_t)USB_HOST_MODE) && (ms < HAL_USB_CURRENT_MODE_MAX_DELAY
 469              		.loc 1 237 15 discriminator 2
 470 003a 7868     		ldr	r0, [r7, #4]
 471 003c FFF7FEFF 		bl	USB_GetMode
 472 0040 0346     		mov	r3, r0
 473              		.loc 1 237 61 discriminator 2
 474 0042 012B     		cmp	r3, #1
 475 0044 1ED0     		beq	.L27
 476              		.loc 1 237 61 is_stmt 0 discriminator 1
 477 0046 FB68     		ldr	r3, [r7, #12]
 478 0048 C72B     		cmp	r3, #199
 479 004a F0D9     		bls	.L28
 480 004c 1AE0     		b	.L27
 481              	.L26:
 238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else if (mode == USB_DEVICE_MODE)
 482              		.loc 1 239 11 is_stmt 1
 483 004e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 484 0050 002B     		cmp	r3, #0
 485 0052 15D1     		bne	.L29
 240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FDMOD;
 486              		.loc 1 241 9
 487 0054 7B68     		ldr	r3, [r7, #4]
 488 0056 DB68     		ldr	r3, [r3, #12]
 489              		.loc 1 241 19
 490 0058 43F08042 		orr	r2, r3, #1073741824
 491 005c 7B68     		ldr	r3, [r7, #4]
 492 005e DA60     		str	r2, [r3, #12]
 493              	.L30:
 242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     do
 244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       HAL_Delay(10U);
 494              		.loc 1 245 7
 495 0060 0A20     		movs	r0, #10
 496 0062 FFF7FEFF 		bl	HAL_Delay
 246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       ms += 10U;
 497              		.loc 1 246 10
 498 0066 FB68     		ldr	r3, [r7, #12]
 499 0068 0A33     		adds	r3, r3, #10
 500 006a FB60     		str	r3, [r7, #12]
 247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     } while ((USB_GetMode(USBx) != (uint32_t)USB_DEVICE_MODE) && (ms < HAL_USB_CURRENT_MODE_MAX_DEL
 501              		.loc 1 247 15 discriminator 2
 502 006c 7868     		ldr	r0, [r7, #4]
 503 006e FFF7FEFF 		bl	USB_GetMode
 504 0072 0346     		mov	r3, r0
ARM GAS  /tmp/cc3N4Hnz.s 			page 14


 505              		.loc 1 247 63 discriminator 2
 506 0074 002B     		cmp	r3, #0
 507 0076 05D0     		beq	.L27
 508              		.loc 1 247 63 is_stmt 0 discriminator 1
 509 0078 FB68     		ldr	r3, [r7, #12]
 510 007a C72B     		cmp	r3, #199
 511 007c F0D9     		bls	.L30
 512 007e 01E0     		b	.L27
 513              	.L29:
 248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     return HAL_ERROR;
 514              		.loc 1 251 12 is_stmt 1
 515 0080 0123     		movs	r3, #1
 516 0082 05E0     		b	.L31
 517              	.L27:
 252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ms == HAL_USB_CURRENT_MODE_MAX_DELAY_MS)
 518              		.loc 1 254 6
 519 0084 FB68     		ldr	r3, [r7, #12]
 520 0086 C82B     		cmp	r3, #200
 521 0088 01D1     		bne	.L32
 255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     return HAL_ERROR;
 522              		.loc 1 256 12
 523 008a 0123     		movs	r3, #1
 524 008c 00E0     		b	.L31
 525              	.L32:
 257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 526              		.loc 1 259 10
 527 008e 0023     		movs	r3, #0
 528              	.L31:
 260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 529              		.loc 1 260 1
 530 0090 1846     		mov	r0, r3
 531 0092 1037     		adds	r7, r7, #16
 532              		.cfi_def_cfa_offset 8
 533 0094 BD46     		mov	sp, r7
 534              		.cfi_def_cfa_register 13
 535              		@ sp needed
 536 0096 80BD     		pop	{r7, pc}
 537              		.cfi_endproc
 538              	.LFE449:
 540              		.section	.text.USB_DevInit,"ax",%progbits
 541              		.align	1
 542              		.global	USB_DevInit
 543              		.syntax unified
 544              		.thumb
 545              		.thumb_func
 547              	USB_DevInit:
 548              	.LFB450:
 261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
ARM GAS  /tmp/cc3N4Hnz.s 			page 15


 263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DevInit Initializes the USB_OTG controller registers
 264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         for device mode
 265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
 267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
 268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DevInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
 271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 549              		.loc 1 271 1
 550              		.cfi_startproc
 551              		@ args = 20, pretend = 16, frame = 24
 552              		@ frame_needed = 1, uses_anonymous_args = 0
 553 0000 84B0     		sub	sp, sp, #16
 554              		.cfi_def_cfa_offset 16
 555 0002 80B5     		push	{r7, lr}
 556              		.cfi_def_cfa_offset 24
 557              		.cfi_offset 7, -24
 558              		.cfi_offset 14, -20
 559 0004 86B0     		sub	sp, sp, #24
 560              		.cfi_def_cfa_offset 48
 561 0006 00AF     		add	r7, sp, #0
 562              		.cfi_def_cfa_register 7
 563 0008 7860     		str	r0, [r7, #4]
 564 000a 07F12400 		add	r0, r7, #36
 565 000e 80E80E00 		stm	r0, {r1, r2, r3}
 272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 566              		.loc 1 272 21
 567 0012 0023     		movs	r3, #0
 568 0014 FB75     		strb	r3, [r7, #23]
 273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 569              		.loc 1 273 12
 570 0016 7B68     		ldr	r3, [r7, #4]
 571 0018 FB60     		str	r3, [r7, #12]
 274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t i;
 275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < 15U; i++)
 572              		.loc 1 276 10
 573 001a 0023     		movs	r3, #0
 574 001c 3B61     		str	r3, [r7, #16]
 575              		.loc 1 276 3
 576 001e 09E0     		b	.L34
 577              	.L35:
 277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->DIEPTXF[i] = 0U;
 578              		.loc 1 278 22
 579 0020 7A68     		ldr	r2, [r7, #4]
 580 0022 3B69     		ldr	r3, [r7, #16]
 581 0024 4033     		adds	r3, r3, #64
 582 0026 9B00     		lsls	r3, r3, #2
 583 0028 1344     		add	r3, r3, r2
 584 002a 0022     		movs	r2, #0
 585 002c 5A60     		str	r2, [r3, #4]
 276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 586              		.loc 1 276 26 discriminator 3
 587 002e 3B69     		ldr	r3, [r7, #16]
 588 0030 0133     		adds	r3, r3, #1
ARM GAS  /tmp/cc3N4Hnz.s 			page 16


 589 0032 3B61     		str	r3, [r7, #16]
 590              	.L34:
 276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 591              		.loc 1 276 18 discriminator 1
 592 0034 3B69     		ldr	r3, [r7, #16]
 593 0036 0E2B     		cmp	r3, #14
 594 0038 F2D9     		bls	.L35
 279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* VBUS Sensing setup */
 282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 595              		.loc 1 282 10
 596 003a 97F82E30 		ldrb	r3, [r7, #46]	@ zero_extendqisi2
 597              		.loc 1 282 6
 598 003e 002B     		cmp	r3, #0
 599 0040 1CD1     		bne	.L36
 283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 600              		.loc 1 284 16
 601 0042 FB68     		ldr	r3, [r7, #12]
 602 0044 03F50063 		add	r3, r3, #2048
 603 0048 5B68     		ldr	r3, [r3, #4]
 604 004a FA68     		ldr	r2, [r7, #12]
 605 004c 02F50062 		add	r2, r2, #2048
 606              		.loc 1 284 23
 607 0050 43F00203 		orr	r3, r3, #2
 608 0054 5360     		str	r3, [r2, #4]
 285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Deactivate VBUS Sensing B */
 287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBDEN;
 609              		.loc 1 287 9
 610 0056 7B68     		ldr	r3, [r7, #4]
 611 0058 9B6B     		ldr	r3, [r3, #56]
 612              		.loc 1 287 17
 613 005a 23F40012 		bic	r2, r3, #2097152
 614 005e 7B68     		ldr	r3, [r7, #4]
 615 0060 9A63     		str	r2, [r3, #56]
 288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* B-peripheral session valid override enable */
 290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOEN;
 616              		.loc 1 290 9
 617 0062 7B68     		ldr	r3, [r7, #4]
 618 0064 1B68     		ldr	r3, [r3]
 619              		.loc 1 290 19
 620 0066 43F04002 		orr	r2, r3, #64
 621 006a 7B68     		ldr	r3, [r7, #4]
 622 006c 1A60     		str	r2, [r3]
 291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOVAL;
 623              		.loc 1 291 9
 624 006e 7B68     		ldr	r3, [r7, #4]
 625 0070 1B68     		ldr	r3, [r3]
 626              		.loc 1 291 19
 627 0072 43F08002 		orr	r2, r3, #128
 628 0076 7B68     		ldr	r3, [r7, #4]
 629 0078 1A60     		str	r2, [r3]
 630 007a 05E0     		b	.L37
 631              	.L36:
ARM GAS  /tmp/cc3N4Hnz.s 			page 17


 292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Enable HW VBUS sensing */
 296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_VBDEN;
 632              		.loc 1 296 9
 633 007c 7B68     		ldr	r3, [r7, #4]
 634 007e 9B6B     		ldr	r3, [r3, #56]
 635              		.loc 1 296 17
 636 0080 43F40012 		orr	r2, r3, #2097152
 637 0084 7B68     		ldr	r3, [r7, #4]
 638 0086 9A63     		str	r2, [r3, #56]
 639              	.L37:
 297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Restart the Phy Clock */
 300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 640              		.loc 1 300 3
 641 0088 FB68     		ldr	r3, [r7, #12]
 642 008a 03F56063 		add	r3, r3, #3584
 643 008e 1A46     		mov	r2, r3
 644              		.loc 1 300 16
 645 0090 0023     		movs	r3, #0
 646 0092 1360     		str	r3, [r2]
 301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Set Core speed to Full speed mode */
 303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_FULL);
 647              		.loc 1 303 9
 648 0094 0321     		movs	r1, #3
 649 0096 7868     		ldr	r0, [r7, #4]
 650 0098 FFF7FEFF 		bl	USB_SetDevSpeed
 304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Flush the FIFOs */
 306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 651              		.loc 1 306 7
 652 009c 1021     		movs	r1, #16
 653 009e 7868     		ldr	r0, [r7, #4]
 654 00a0 FFF7FEFF 		bl	USB_FlushTxFifo
 655 00a4 0346     		mov	r3, r0
 656              		.loc 1 306 6 discriminator 1
 657 00a6 002B     		cmp	r3, #0
 658 00a8 01D0     		beq	.L38
 307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     ret = HAL_ERROR;
 659              		.loc 1 308 9
 660 00aa 0123     		movs	r3, #1
 661 00ac FB75     		strb	r3, [r7, #23]
 662              	.L38:
 309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 663              		.loc 1 311 7
 664 00ae 7868     		ldr	r0, [r7, #4]
 665 00b0 FFF7FEFF 		bl	USB_FlushRxFifo
 666 00b4 0346     		mov	r3, r0
 667              		.loc 1 311 6 discriminator 1
 668 00b6 002B     		cmp	r3, #0
ARM GAS  /tmp/cc3N4Hnz.s 			page 18


 669 00b8 01D0     		beq	.L39
 312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     ret = HAL_ERROR;
 670              		.loc 1 313 9
 671 00ba 0123     		movs	r3, #1
 672 00bc FB75     		strb	r3, [r7, #23]
 673              	.L39:
 314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear all pending Device Interrupts */
 317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK = 0U;
 674              		.loc 1 317 3
 675 00be FB68     		ldr	r3, [r7, #12]
 676 00c0 03F50063 		add	r3, r3, #2048
 677 00c4 1A46     		mov	r2, r3
 678              		.loc 1 317 24
 679 00c6 0023     		movs	r3, #0
 680 00c8 1361     		str	r3, [r2, #16]
 318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK = 0U;
 681              		.loc 1 318 3
 682 00ca FB68     		ldr	r3, [r7, #12]
 683 00cc 03F50063 		add	r3, r3, #2048
 684 00d0 1A46     		mov	r2, r3
 685              		.loc 1 318 24
 686 00d2 0023     		movs	r3, #0
 687 00d4 5361     		str	r3, [r2, #20]
 319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 688              		.loc 1 319 3
 689 00d6 FB68     		ldr	r3, [r7, #12]
 690 00d8 03F50063 		add	r3, r3, #2048
 691 00dc 1A46     		mov	r2, r3
 692              		.loc 1 319 25
 693 00de 0023     		movs	r3, #0
 694 00e0 D361     		str	r3, [r2, #28]
 320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 695              		.loc 1 321 10
 696 00e2 0023     		movs	r3, #0
 697 00e4 3B61     		str	r3, [r7, #16]
 698              		.loc 1 321 3
 699 00e6 43E0     		b	.L40
 700              	.L44:
 322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_INEP(i)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 701              		.loc 1 323 10
 702 00e8 3B69     		ldr	r3, [r7, #16]
 703 00ea 5A01     		lsls	r2, r3, #5
 704 00ec FB68     		ldr	r3, [r7, #12]
 705 00ee 1344     		add	r3, r3, r2
 706 00f0 03F51063 		add	r3, r3, #2304
 707              		.loc 1 323 22
 708 00f4 1B68     		ldr	r3, [r3]
 709              		.loc 1 323 32
 710 00f6 03F00043 		and	r3, r3, #-2147483648
 711              		.loc 1 323 8
 712 00fa B3F1004F 		cmp	r3, #-2147483648
 713 00fe 18D1     		bne	.L41
ARM GAS  /tmp/cc3N4Hnz.s 			page 19


 324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (i == 0U)
 714              		.loc 1 325 10
 715 0100 3B69     		ldr	r3, [r7, #16]
 716 0102 002B     		cmp	r3, #0
 717 0104 0AD1     		bne	.L42
 326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_INEP(i)->DIEPCTL = USB_OTG_DIEPCTL_SNAK;
 718              		.loc 1 327 9
 719 0106 3B69     		ldr	r3, [r7, #16]
 720 0108 5A01     		lsls	r2, r3, #5
 721 010a FB68     		ldr	r3, [r7, #12]
 722 010c 1344     		add	r3, r3, r2
 723 010e 03F51063 		add	r3, r3, #2304
 724 0112 1A46     		mov	r2, r3
 725              		.loc 1 327 31
 726 0114 4FF00063 		mov	r3, #134217728
 727 0118 1360     		str	r3, [r2]
 728 011a 13E0     		b	.L43
 729              	.L42:
 328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_INEP(i)->DIEPCTL = USB_OTG_DIEPCTL_EPDIS | USB_OTG_DIEPCTL_SNAK;
 730              		.loc 1 331 9
 731 011c 3B69     		ldr	r3, [r7, #16]
 732 011e 5A01     		lsls	r2, r3, #5
 733 0120 FB68     		ldr	r3, [r7, #12]
 734 0122 1344     		add	r3, r3, r2
 735 0124 03F51063 		add	r3, r3, #2304
 736 0128 1A46     		mov	r2, r3
 737              		.loc 1 331 31
 738 012a 4FF09043 		mov	r3, #1207959552
 739 012e 1360     		str	r3, [r2]
 740 0130 08E0     		b	.L43
 741              	.L41:
 332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
 335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(i)->DIEPCTL = 0U;
 742              		.loc 1 336 7
 743 0132 3B69     		ldr	r3, [r7, #16]
 744 0134 5A01     		lsls	r2, r3, #5
 745 0136 FB68     		ldr	r3, [r7, #12]
 746 0138 1344     		add	r3, r3, r2
 747 013a 03F51063 		add	r3, r3, #2304
 748 013e 1A46     		mov	r2, r3
 749              		.loc 1 336 29
 750 0140 0023     		movs	r3, #0
 751 0142 1360     		str	r3, [r2]
 752              	.L43:
 337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(i)->DIEPTSIZ = 0U;
 753              		.loc 1 339 5
 754 0144 3B69     		ldr	r3, [r7, #16]
ARM GAS  /tmp/cc3N4Hnz.s 			page 20


 755 0146 5A01     		lsls	r2, r3, #5
 756 0148 FB68     		ldr	r3, [r7, #12]
 757 014a 1344     		add	r3, r3, r2
 758 014c 03F51063 		add	r3, r3, #2304
 759 0150 1A46     		mov	r2, r3
 760              		.loc 1 339 28
 761 0152 0023     		movs	r3, #0
 762 0154 1361     		str	r3, [r2, #16]
 340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT  = 0xFB7FU;
 763              		.loc 1 340 5
 764 0156 3B69     		ldr	r3, [r7, #16]
 765 0158 5A01     		lsls	r2, r3, #5
 766 015a FB68     		ldr	r3, [r7, #12]
 767 015c 1344     		add	r3, r3, r2
 768 015e 03F51063 		add	r3, r3, #2304
 769 0162 1A46     		mov	r2, r3
 770              		.loc 1 340 28
 771 0164 4FF67F33 		movw	r3, #64383
 772 0168 9360     		str	r3, [r2, #8]
 321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 773              		.loc 1 321 40 discriminator 2
 774 016a 3B69     		ldr	r3, [r7, #16]
 775 016c 0133     		adds	r3, r3, #1
 776 016e 3B61     		str	r3, [r7, #16]
 777              	.L40:
 321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 778              		.loc 1 321 23 discriminator 1
 779 0170 97F82430 		ldrb	r3, [r7, #36]	@ zero_extendqisi2
 780 0174 1A46     		mov	r2, r3
 321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 781              		.loc 1 321 18 discriminator 1
 782 0176 3B69     		ldr	r3, [r7, #16]
 783 0178 9342     		cmp	r3, r2
 784 017a B5D3     		bcc	.L44
 341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 785              		.loc 1 343 10
 786 017c 0023     		movs	r3, #0
 787 017e 3B61     		str	r3, [r7, #16]
 788              		.loc 1 343 3
 789 0180 43E0     		b	.L45
 790              	.L49:
 344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_OUTEP(i)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 791              		.loc 1 345 10
 792 0182 3B69     		ldr	r3, [r7, #16]
 793 0184 5A01     		lsls	r2, r3, #5
 794 0186 FB68     		ldr	r3, [r7, #12]
 795 0188 1344     		add	r3, r3, r2
 796 018a 03F53063 		add	r3, r3, #2816
 797              		.loc 1 345 23
 798 018e 1B68     		ldr	r3, [r3]
 799              		.loc 1 345 33
 800 0190 03F00043 		and	r3, r3, #-2147483648
 801              		.loc 1 345 8
 802 0194 B3F1004F 		cmp	r3, #-2147483648
ARM GAS  /tmp/cc3N4Hnz.s 			page 21


 803 0198 18D1     		bne	.L46
 346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (i == 0U)
 804              		.loc 1 347 10
 805 019a 3B69     		ldr	r3, [r7, #16]
 806 019c 002B     		cmp	r3, #0
 807 019e 0AD1     		bne	.L47
 348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_OUTEP(i)->DOEPCTL = USB_OTG_DOEPCTL_SNAK;
 808              		.loc 1 349 9
 809 01a0 3B69     		ldr	r3, [r7, #16]
 810 01a2 5A01     		lsls	r2, r3, #5
 811 01a4 FB68     		ldr	r3, [r7, #12]
 812 01a6 1344     		add	r3, r3, r2
 813 01a8 03F53063 		add	r3, r3, #2816
 814 01ac 1A46     		mov	r2, r3
 815              		.loc 1 349 32
 816 01ae 4FF00063 		mov	r3, #134217728
 817 01b2 1360     		str	r3, [r2]
 818 01b4 13E0     		b	.L48
 819              	.L47:
 350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
 352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_OUTEP(i)->DOEPCTL = USB_OTG_DOEPCTL_EPDIS | USB_OTG_DOEPCTL_SNAK;
 820              		.loc 1 353 9
 821 01b6 3B69     		ldr	r3, [r7, #16]
 822 01b8 5A01     		lsls	r2, r3, #5
 823 01ba FB68     		ldr	r3, [r7, #12]
 824 01bc 1344     		add	r3, r3, r2
 825 01be 03F53063 		add	r3, r3, #2816
 826 01c2 1A46     		mov	r2, r3
 827              		.loc 1 353 32
 828 01c4 4FF09043 		mov	r3, #1207959552
 829 01c8 1360     		str	r3, [r2]
 830 01ca 08E0     		b	.L48
 831              	.L46:
 354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
 357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(i)->DOEPCTL = 0U;
 832              		.loc 1 358 7
 833 01cc 3B69     		ldr	r3, [r7, #16]
 834 01ce 5A01     		lsls	r2, r3, #5
 835 01d0 FB68     		ldr	r3, [r7, #12]
 836 01d2 1344     		add	r3, r3, r2
 837 01d4 03F53063 		add	r3, r3, #2816
 838 01d8 1A46     		mov	r2, r3
 839              		.loc 1 358 30
 840 01da 0023     		movs	r3, #0
 841 01dc 1360     		str	r3, [r2]
 842              	.L48:
 359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPTSIZ = 0U;
 843              		.loc 1 361 5
ARM GAS  /tmp/cc3N4Hnz.s 			page 22


 844 01de 3B69     		ldr	r3, [r7, #16]
 845 01e0 5A01     		lsls	r2, r3, #5
 846 01e2 FB68     		ldr	r3, [r7, #12]
 847 01e4 1344     		add	r3, r3, r2
 848 01e6 03F53063 		add	r3, r3, #2816
 849 01ea 1A46     		mov	r2, r3
 850              		.loc 1 361 29
 851 01ec 0023     		movs	r3, #0
 852 01ee 1361     		str	r3, [r2, #16]
 362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT  = 0xFB7FU;
 853              		.loc 1 362 5
 854 01f0 3B69     		ldr	r3, [r7, #16]
 855 01f2 5A01     		lsls	r2, r3, #5
 856 01f4 FB68     		ldr	r3, [r7, #12]
 857 01f6 1344     		add	r3, r3, r2
 858 01f8 03F53063 		add	r3, r3, #2816
 859 01fc 1A46     		mov	r2, r3
 860              		.loc 1 362 29
 861 01fe 4FF67F33 		movw	r3, #64383
 862 0202 9360     		str	r3, [r2, #8]
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 863              		.loc 1 343 40 discriminator 2
 864 0204 3B69     		ldr	r3, [r7, #16]
 865 0206 0133     		adds	r3, r3, #1
 866 0208 3B61     		str	r3, [r7, #16]
 867              	.L45:
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 868              		.loc 1 343 23 discriminator 1
 869 020a 97F82430 		ldrb	r3, [r7, #36]	@ zero_extendqisi2
 870 020e 1A46     		mov	r2, r3
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 871              		.loc 1 343 18 discriminator 1
 872 0210 3B69     		ldr	r3, [r7, #16]
 873 0212 9342     		cmp	r3, r2
 874 0214 B5D3     		bcc	.L49
 363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK &= ~(USB_OTG_DIEPMSK_TXFURM);
 875              		.loc 1 365 14
 876 0216 FB68     		ldr	r3, [r7, #12]
 877 0218 03F50063 		add	r3, r3, #2048
 878 021c 1B69     		ldr	r3, [r3, #16]
 879 021e FA68     		ldr	r2, [r7, #12]
 880 0220 02F50062 		add	r2, r2, #2048
 881              		.loc 1 365 24
 882 0224 23F48073 		bic	r3, r3, #256
 883 0228 1361     		str	r3, [r2, #16]
 366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Disable all interrupts. */
 368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 884              		.loc 1 368 17
 885 022a 7B68     		ldr	r3, [r7, #4]
 886 022c 0022     		movs	r2, #0
 887 022e 9A61     		str	r2, [r3, #24]
 369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear any pending interrupts */
 371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTSTS = 0xBFFFFFFFU;
ARM GAS  /tmp/cc3N4Hnz.s 			page 23


 888              		.loc 1 371 17
 889 0230 7B68     		ldr	r3, [r7, #4]
 890 0232 6FF08042 		mvn	r2, #1073741824
 891 0236 5A61     		str	r2, [r3, #20]
 372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable the common interrupts */
 374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 892              		.loc 1 374 7
 893 0238 7B68     		ldr	r3, [r7, #4]
 894 023a 9B69     		ldr	r3, [r3, #24]
 895              		.loc 1 374 17
 896 023c 43F01002 		orr	r2, r3, #16
 897 0240 7B68     		ldr	r3, [r7, #4]
 898 0242 9A61     		str	r2, [r3, #24]
 375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable interrupts matching to the Device mode ONLY */
 377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_USBSUSPM | USB_OTG_GINTMSK_USBRST |
 899              		.loc 1 377 7
 900 0244 7B68     		ldr	r3, [r7, #4]
 901 0246 9A69     		ldr	r2, [r3, #24]
 902              		.loc 1 377 17
 903 0248 104B     		ldr	r3, .L53
 904 024a 1343     		orrs	r3, r3, r2
 905 024c 7A68     		ldr	r2, [r7, #4]
 906 024e 9361     		str	r3, [r2, #24]
 378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                    USB_OTG_GINTMSK_ENUMDNEM | USB_OTG_GINTMSK_IEPINT |
 379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                    USB_OTG_GINTMSK_OEPINT   | USB_OTG_GINTMSK_IISOIXFRM |
 380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                    USB_OTG_GINTMSK_PXFRM_IISOOXFRM | USB_OTG_GINTMSK_WUIM;
 381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (cfg.Sof_enable != 0U)
 907              		.loc 1 382 10
 908 0250 97F82A30 		ldrb	r3, [r7, #42]	@ zero_extendqisi2
 909              		.loc 1 382 6
 910 0254 002B     		cmp	r3, #0
 911 0256 05D0     		beq	.L50
 383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_SOFM;
 912              		.loc 1 384 9
 913 0258 7B68     		ldr	r3, [r7, #4]
 914 025a 9B69     		ldr	r3, [r3, #24]
 915              		.loc 1 384 19
 916 025c 43F00802 		orr	r2, r3, #8
 917 0260 7B68     		ldr	r3, [r7, #4]
 918 0262 9A61     		str	r2, [r3, #24]
 919              	.L50:
 385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 1U)
 920              		.loc 1 387 10
 921 0264 97F82E30 		ldrb	r3, [r7, #46]	@ zero_extendqisi2
 922              		.loc 1 387 6
 923 0268 012B     		cmp	r3, #1
 924 026a 07D1     		bne	.L51
 388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GINTMSK |= (USB_OTG_GINTMSK_SRQIM | USB_OTG_GINTMSK_OTGINT);
 925              		.loc 1 389 9
 926 026c 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/cc3N4Hnz.s 			page 24


 927 026e 9B69     		ldr	r3, [r3, #24]
 928              		.loc 1 389 19
 929 0270 43F08043 		orr	r3, r3, #1073741824
 930 0274 43F00403 		orr	r3, r3, #4
 931 0278 7A68     		ldr	r2, [r7, #4]
 932 027a 9361     		str	r3, [r2, #24]
 933              	.L51:
 390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
 934              		.loc 1 392 10
 935 027c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 936              		.loc 1 393 1
 937 027e 1846     		mov	r0, r3
 938 0280 1837     		adds	r7, r7, #24
 939              		.cfi_def_cfa_offset 24
 940 0282 BD46     		mov	sp, r7
 941              		.cfi_def_cfa_register 13
 942              		@ sp needed
 943 0284 BDE88040 		pop	{r7, lr}
 944              		.cfi_restore 14
 945              		.cfi_restore 7
 946              		.cfi_def_cfa_offset 16
 947 0288 04B0     		add	sp, sp, #16
 948              		.cfi_def_cfa_offset 0
 949 028a 7047     		bx	lr
 950              	.L54:
 951              		.align	2
 952              	.L53:
 953 028c 00383C80 		.word	-2143537152
 954              		.cfi_endproc
 955              	.LFE450:
 957              		.section	.text.USB_FlushTxFifo,"ax",%progbits
 958              		.align	1
 959              		.global	USB_FlushTxFifo
 960              		.syntax unified
 961              		.thumb
 962              		.thumb_func
 964              	USB_FlushTxFifo:
 965              	.LFB451:
 394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_FlushTxFifo Flush a Tx FIFO
 397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  num  FIFO number
 399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
 400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             15 means Flush all Tx FIFOs
 401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushTxFifo(USB_OTG_GlobalTypeDef *USBx, uint32_t num)
 404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 966              		.loc 1 404 1
 967              		.cfi_startproc
 968              		@ args = 0, pretend = 0, frame = 16
 969              		@ frame_needed = 1, uses_anonymous_args = 0
 970              		@ link register save eliminated.
ARM GAS  /tmp/cc3N4Hnz.s 			page 25


 971 0000 80B4     		push	{r7}
 972              		.cfi_def_cfa_offset 4
 973              		.cfi_offset 7, -4
 974 0002 85B0     		sub	sp, sp, #20
 975              		.cfi_def_cfa_offset 24
 976 0004 00AF     		add	r7, sp, #0
 977              		.cfi_def_cfa_register 7
 978 0006 7860     		str	r0, [r7, #4]
 979 0008 3960     		str	r1, [r7]
 405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 980              		.loc 1 405 17
 981 000a 0023     		movs	r3, #0
 982 000c FB60     		str	r3, [r7, #12]
 983              	.L58:
 406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
 408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   do
 409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count++;
 984              		.loc 1 410 10
 985 000e FB68     		ldr	r3, [r7, #12]
 986 0010 0133     		adds	r3, r3, #1
 987 0012 FB60     		str	r3, [r7, #12]
 411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (count > HAL_USB_TIMEOUT)
 988              		.loc 1 412 15
 989 0014 FB68     		ldr	r3, [r7, #12]
 990              		.loc 1 412 8
 991 0016 B3F1706F 		cmp	r3, #251658240
 992 001a 01D9     		bls	.L56
 413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_TIMEOUT;
 993              		.loc 1 414 14
 994 001c 0323     		movs	r3, #3
 995 001e 1BE0     		b	.L57
 996              	.L56:
 415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 997              		.loc 1 416 17
 998 0020 7B68     		ldr	r3, [r7, #4]
 999 0022 1B69     		ldr	r3, [r3, #16]
 1000              		.loc 1 416 53
 1001 0024 002B     		cmp	r3, #0
 1002 0026 F2DA     		bge	.L58
 417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Flush TX Fifo */
 419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   count = 0U;
 1003              		.loc 1 419 9
 1004 0028 0023     		movs	r3, #0
 1005 002a FB60     		str	r3, [r7, #12]
 420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GRSTCTL = (USB_OTG_GRSTCTL_TXFFLSH | (num << 6));
 1006              		.loc 1 420 51
 1007 002c 3B68     		ldr	r3, [r7]
 1008 002e 9B01     		lsls	r3, r3, #6
 1009              		.loc 1 420 44
 1010 0030 43F02002 		orr	r2, r3, #32
 1011              		.loc 1 420 17
ARM GAS  /tmp/cc3N4Hnz.s 			page 26


 1012 0034 7B68     		ldr	r3, [r7, #4]
 1013 0036 1A61     		str	r2, [r3, #16]
 1014              	.L60:
 421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   do
 423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count++;
 1015              		.loc 1 424 10
 1016 0038 FB68     		ldr	r3, [r7, #12]
 1017 003a 0133     		adds	r3, r3, #1
 1018 003c FB60     		str	r3, [r7, #12]
 425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (count > HAL_USB_TIMEOUT)
 1019              		.loc 1 426 15
 1020 003e FB68     		ldr	r3, [r7, #12]
 1021              		.loc 1 426 8
 1022 0040 B3F1706F 		cmp	r3, #251658240
 1023 0044 01D9     		bls	.L59
 427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1024              		.loc 1 428 14
 1025 0046 0323     		movs	r3, #3
 1026 0048 06E0     		b	.L57
 1027              	.L59:
 429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_TXFFLSH) == USB_OTG_GRSTCTL_TXFFLSH);
 1028              		.loc 1 430 17
 1029 004a 7B68     		ldr	r3, [r7, #4]
 1030 004c 1B69     		ldr	r3, [r3, #16]
 1031              		.loc 1 430 27
 1032 004e 03F02003 		and	r3, r3, #32
 1033              		.loc 1 430 54
 1034 0052 202B     		cmp	r3, #32
 1035 0054 F0D0     		beq	.L60
 431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 1036              		.loc 1 432 10
 1037 0056 0023     		movs	r3, #0
 1038              	.L57:
 433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 1039              		.loc 1 433 1
 1040 0058 1846     		mov	r0, r3
 1041 005a 1437     		adds	r7, r7, #20
 1042              		.cfi_def_cfa_offset 4
 1043 005c BD46     		mov	sp, r7
 1044              		.cfi_def_cfa_register 13
 1045              		@ sp needed
 1046 005e 5DF8047B 		ldr	r7, [sp], #4
 1047              		.cfi_restore 7
 1048              		.cfi_def_cfa_offset 0
 1049 0062 7047     		bx	lr
 1050              		.cfi_endproc
 1051              	.LFE451:
 1053              		.section	.text.USB_FlushRxFifo,"ax",%progbits
 1054              		.align	1
 1055              		.global	USB_FlushRxFifo
 1056              		.syntax unified
ARM GAS  /tmp/cc3N4Hnz.s 			page 27


 1057              		.thumb
 1058              		.thumb_func
 1060              	USB_FlushRxFifo:
 1061              	.LFB452:
 434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_FlushRxFifo  Flush Rx FIFO
 437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushRxFifo(USB_OTG_GlobalTypeDef *USBx)
 441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 1062              		.loc 1 441 1
 1063              		.cfi_startproc
 1064              		@ args = 0, pretend = 0, frame = 16
 1065              		@ frame_needed = 1, uses_anonymous_args = 0
 1066              		@ link register save eliminated.
 1067 0000 80B4     		push	{r7}
 1068              		.cfi_def_cfa_offset 4
 1069              		.cfi_offset 7, -4
 1070 0002 85B0     		sub	sp, sp, #20
 1071              		.cfi_def_cfa_offset 24
 1072 0004 00AF     		add	r7, sp, #0
 1073              		.cfi_def_cfa_register 7
 1074 0006 7860     		str	r0, [r7, #4]
 442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 1075              		.loc 1 442 17
 1076 0008 0023     		movs	r3, #0
 1077 000a FB60     		str	r3, [r7, #12]
 1078              	.L64:
 443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
 445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   do
 446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count++;
 1079              		.loc 1 447 10
 1080 000c FB68     		ldr	r3, [r7, #12]
 1081 000e 0133     		adds	r3, r3, #1
 1082 0010 FB60     		str	r3, [r7, #12]
 448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (count > HAL_USB_TIMEOUT)
 1083              		.loc 1 449 15
 1084 0012 FB68     		ldr	r3, [r7, #12]
 1085              		.loc 1 449 8
 1086 0014 B3F1706F 		cmp	r3, #251658240
 1087 0018 01D9     		bls	.L62
 450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1088              		.loc 1 451 14
 1089 001a 0323     		movs	r3, #3
 1090 001c 18E0     		b	.L63
 1091              	.L62:
 452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 1092              		.loc 1 453 17
 1093 001e 7B68     		ldr	r3, [r7, #4]
 1094 0020 1B69     		ldr	r3, [r3, #16]
ARM GAS  /tmp/cc3N4Hnz.s 			page 28


 1095              		.loc 1 453 53
 1096 0022 002B     		cmp	r3, #0
 1097 0024 F2DA     		bge	.L64
 454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Flush RX Fifo */
 456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   count = 0U;
 1098              		.loc 1 456 9
 1099 0026 0023     		movs	r3, #0
 1100 0028 FB60     		str	r3, [r7, #12]
 457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GRSTCTL = USB_OTG_GRSTCTL_RXFFLSH;
 1101              		.loc 1 457 17
 1102 002a 7B68     		ldr	r3, [r7, #4]
 1103 002c 1022     		movs	r2, #16
 1104 002e 1A61     		str	r2, [r3, #16]
 1105              	.L66:
 458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   do
 460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count++;
 1106              		.loc 1 461 10
 1107 0030 FB68     		ldr	r3, [r7, #12]
 1108 0032 0133     		adds	r3, r3, #1
 1109 0034 FB60     		str	r3, [r7, #12]
 462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (count > HAL_USB_TIMEOUT)
 1110              		.loc 1 463 15
 1111 0036 FB68     		ldr	r3, [r7, #12]
 1112              		.loc 1 463 8
 1113 0038 B3F1706F 		cmp	r3, #251658240
 1114 003c 01D9     		bls	.L65
 464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1115              		.loc 1 465 14
 1116 003e 0323     		movs	r3, #3
 1117 0040 06E0     		b	.L63
 1118              	.L65:
 466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_RXFFLSH) == USB_OTG_GRSTCTL_RXFFLSH);
 1119              		.loc 1 467 17
 1120 0042 7B68     		ldr	r3, [r7, #4]
 1121 0044 1B69     		ldr	r3, [r3, #16]
 1122              		.loc 1 467 27
 1123 0046 03F01003 		and	r3, r3, #16
 1124              		.loc 1 467 54
 1125 004a 102B     		cmp	r3, #16
 1126 004c F0D0     		beq	.L66
 468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 1127              		.loc 1 469 10
 1128 004e 0023     		movs	r3, #0
 1129              	.L63:
 470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 1130              		.loc 1 470 1
 1131 0050 1846     		mov	r0, r3
 1132 0052 1437     		adds	r7, r7, #20
 1133              		.cfi_def_cfa_offset 4
 1134 0054 BD46     		mov	sp, r7
ARM GAS  /tmp/cc3N4Hnz.s 			page 29


 1135              		.cfi_def_cfa_register 13
 1136              		@ sp needed
 1137 0056 5DF8047B 		ldr	r7, [sp], #4
 1138              		.cfi_restore 7
 1139              		.cfi_def_cfa_offset 0
 1140 005a 7047     		bx	lr
 1141              		.cfi_endproc
 1142              	.LFE452:
 1144              		.section	.text.USB_SetDevSpeed,"ax",%progbits
 1145              		.align	1
 1146              		.global	USB_SetDevSpeed
 1147              		.syntax unified
 1148              		.thumb
 1149              		.thumb_func
 1151              	USB_SetDevSpeed:
 1152              	.LFB453:
 471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_SetDevSpeed  Initializes the DevSpd field of DCFG register
 474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         depending the PHY type and the enumeration speed of the device.
 475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  speed  device speed
 477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
 478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
 479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval  Hal status
 480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetDevSpeed(const USB_OTG_GlobalTypeDef *USBx, uint8_t speed)
 482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 1153              		.loc 1 482 1
 1154              		.cfi_startproc
 1155              		@ args = 0, pretend = 0, frame = 16
 1156              		@ frame_needed = 1, uses_anonymous_args = 0
 1157              		@ link register save eliminated.
 1158 0000 80B4     		push	{r7}
 1159              		.cfi_def_cfa_offset 4
 1160              		.cfi_offset 7, -4
 1161 0002 85B0     		sub	sp, sp, #20
 1162              		.cfi_def_cfa_offset 24
 1163 0004 00AF     		add	r7, sp, #0
 1164              		.cfi_def_cfa_register 7
 1165 0006 7860     		str	r0, [r7, #4]
 1166 0008 0B46     		mov	r3, r1
 1167 000a FB70     		strb	r3, [r7, #3]
 483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1168              		.loc 1 483 12
 1169 000c 7B68     		ldr	r3, [r7, #4]
 1170 000e FB60     		str	r3, [r7, #12]
 484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= speed;
 1171              		.loc 1 485 14
 1172 0010 FB68     		ldr	r3, [r7, #12]
 1173 0012 03F50063 		add	r3, r3, #2048
 1174 0016 1A68     		ldr	r2, [r3]
 1175              		.loc 1 485 21
 1176 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1177              		.loc 1 485 14
 1178 001a F968     		ldr	r1, [r7, #12]
ARM GAS  /tmp/cc3N4Hnz.s 			page 30


 1179 001c 01F50061 		add	r1, r1, #2048
 1180              		.loc 1 485 21
 1181 0020 1343     		orrs	r3, r3, r2
 1182 0022 0B60     		str	r3, [r1]
 486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 1183              		.loc 1 486 10
 1184 0024 0023     		movs	r3, #0
 487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 1185              		.loc 1 487 1
 1186 0026 1846     		mov	r0, r3
 1187 0028 1437     		adds	r7, r7, #20
 1188              		.cfi_def_cfa_offset 4
 1189 002a BD46     		mov	sp, r7
 1190              		.cfi_def_cfa_register 13
 1191              		@ sp needed
 1192 002c 5DF8047B 		ldr	r7, [sp], #4
 1193              		.cfi_restore 7
 1194              		.cfi_def_cfa_offset 0
 1195 0030 7047     		bx	lr
 1196              		.cfi_endproc
 1197              	.LFE453:
 1199              		.section	.text.USB_GetDevSpeed,"ax",%progbits
 1200              		.align	1
 1201              		.global	USB_GetDevSpeed
 1202              		.syntax unified
 1203              		.thumb
 1204              		.thumb_func
 1206              	USB_GetDevSpeed:
 1207              	.LFB454:
 488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_GetDevSpeed  Return the Dev Speed
 491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval speed  device speed
 493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
 494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg USBD_FS_SPEED: Full speed mode
 495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint8_t USB_GetDevSpeed(const USB_OTG_GlobalTypeDef *USBx)
 497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 1208              		.loc 1 497 1
 1209              		.cfi_startproc
 1210              		@ args = 0, pretend = 0, frame = 24
 1211              		@ frame_needed = 1, uses_anonymous_args = 0
 1212              		@ link register save eliminated.
 1213 0000 80B4     		push	{r7}
 1214              		.cfi_def_cfa_offset 4
 1215              		.cfi_offset 7, -4
 1216 0002 87B0     		sub	sp, sp, #28
 1217              		.cfi_def_cfa_offset 32
 1218 0004 00AF     		add	r7, sp, #0
 1219              		.cfi_def_cfa_register 7
 1220 0006 7860     		str	r0, [r7, #4]
 498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1221              		.loc 1 498 12
 1222 0008 7B68     		ldr	r3, [r7, #4]
 1223 000a 3B61     		str	r3, [r7, #16]
 499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint8_t speed;
ARM GAS  /tmp/cc3N4Hnz.s 			page 31


 500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t DevEnumSpeed = USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD;
 1224              		.loc 1 500 27
 1225 000c 3B69     		ldr	r3, [r7, #16]
 1226 000e 03F50063 		add	r3, r3, #2048
 1227              		.loc 1 500 38
 1228 0012 9B68     		ldr	r3, [r3, #8]
 1229              		.loc 1 500 12
 1230 0014 03F00603 		and	r3, r3, #6
 1231 0018 FB60     		str	r3, [r7, #12]
 501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((DevEnumSpeed == DSTS_ENUMSPD_FS_PHY_30MHZ_OR_60MHZ) ||
 1232              		.loc 1 502 6
 1233 001a FB68     		ldr	r3, [r7, #12]
 1234 001c 022B     		cmp	r3, #2
 1235 001e 02D0     		beq	.L70
 1236              		.loc 1 502 60 discriminator 1
 1237 0020 FB68     		ldr	r3, [r7, #12]
 1238 0022 062B     		cmp	r3, #6
 1239 0024 02D1     		bne	.L71
 1240              	.L70:
 503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       (DevEnumSpeed == DSTS_ENUMSPD_FS_PHY_48MHZ))
 504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     speed = USBD_FS_SPEED;
 1241              		.loc 1 505 11
 1242 0026 0223     		movs	r3, #2
 1243 0028 FB75     		strb	r3, [r7, #23]
 1244 002a 01E0     		b	.L72
 1245              	.L71:
 506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     speed = 0xFU;
 1246              		.loc 1 509 11
 1247 002c 0F23     		movs	r3, #15
 1248 002e FB75     		strb	r3, [r7, #23]
 1249              	.L72:
 510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return speed;
 1250              		.loc 1 512 10
 1251 0030 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 1252              		.loc 1 513 1
 1253 0032 1846     		mov	r0, r3
 1254 0034 1C37     		adds	r7, r7, #28
 1255              		.cfi_def_cfa_offset 4
 1256 0036 BD46     		mov	sp, r7
 1257              		.cfi_def_cfa_register 13
 1258              		@ sp needed
 1259 0038 5DF8047B 		ldr	r7, [sp], #4
 1260              		.cfi_restore 7
 1261              		.cfi_def_cfa_offset 0
 1262 003c 7047     		bx	lr
 1263              		.cfi_endproc
 1264              	.LFE454:
 1266              		.section	.text.USB_ActivateEndpoint,"ax",%progbits
 1267              		.align	1
ARM GAS  /tmp/cc3N4Hnz.s 			page 32


 1268              		.global	USB_ActivateEndpoint
 1269              		.syntax unified
 1270              		.thumb
 1271              		.thumb_func
 1273              	USB_ActivateEndpoint:
 1274              	.LFB455:
 514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #if defined (HAL_PCD_MODULE_ENABLED)
 516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Activate and configure an endpoint
 518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateEndpoint(const USB_OTG_GlobalTypeDef *USBx, const USB_OTG_EPTypeDef *
 523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 1275              		.loc 1 523 1
 1276              		.cfi_startproc
 1277              		@ args = 0, pretend = 0, frame = 16
 1278              		@ frame_needed = 1, uses_anonymous_args = 0
 1279              		@ link register save eliminated.
 1280 0000 80B4     		push	{r7}
 1281              		.cfi_def_cfa_offset 4
 1282              		.cfi_offset 7, -4
 1283 0002 85B0     		sub	sp, sp, #20
 1284              		.cfi_def_cfa_offset 24
 1285 0004 00AF     		add	r7, sp, #0
 1286              		.cfi_def_cfa_register 7
 1287 0006 7860     		str	r0, [r7, #4]
 1288 0008 3960     		str	r1, [r7]
 524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1289              		.loc 1 524 12
 1290 000a 7B68     		ldr	r3, [r7, #4]
 1291 000c FB60     		str	r3, [r7, #12]
 525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1292              		.loc 1 525 32
 1293 000e 3B68     		ldr	r3, [r7]
 1294 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1295              		.loc 1 525 12
 1296 0012 BB60     		str	r3, [r7, #8]
 526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1297              		.loc 1 527 9
 1298 0014 3B68     		ldr	r3, [r7]
 1299 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1300              		.loc 1 527 6
 1301 0018 012B     		cmp	r3, #1
 1302 001a 3AD1     		bne	.L75
 528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK));
 1303              		.loc 1 529 16
 1304 001c FB68     		ldr	r3, [r7, #12]
 1305 001e 03F50063 		add	r3, r3, #2048
 1306 0022 DA69     		ldr	r2, [r3, #28]
 1307              		.loc 1 529 75
 1308 0024 3B68     		ldr	r3, [r7]
 1309 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/cc3N4Hnz.s 			page 33


 1310              		.loc 1 529 81
 1311 0028 03F00F03 		and	r3, r3, #15
 1312              		.loc 1 529 54
 1313 002c 0121     		movs	r1, #1
 1314 002e 01FA03F3 		lsl	r3, r1, r3
 1315              		.loc 1 529 52
 1316 0032 9BB2     		uxth	r3, r3
 1317              		.loc 1 529 16
 1318 0034 F968     		ldr	r1, [r7, #12]
 1319 0036 01F50061 		add	r1, r1, #2048
 1320              		.loc 1 529 27
 1321 003a 1343     		orrs	r3, r3, r2
 1322 003c CB61     		str	r3, [r1, #28]
 530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1323              		.loc 1 531 10
 1324 003e BB68     		ldr	r3, [r7, #8]
 1325 0040 5A01     		lsls	r2, r3, #5
 1326 0042 FB68     		ldr	r3, [r7, #12]
 1327 0044 1344     		add	r3, r3, r2
 1328 0046 03F51063 		add	r3, r3, #2304
 1329              		.loc 1 531 26
 1330 004a 1B68     		ldr	r3, [r3]
 1331              		.loc 1 531 36
 1332 004c 03F40043 		and	r3, r3, #32768
 1333              		.loc 1 531 8
 1334 0050 002B     		cmp	r3, #0
 1335 0052 55D1     		bne	.L76
 532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ) |
 1336              		.loc 1 533 23
 1337 0054 BB68     		ldr	r3, [r7, #8]
 1338 0056 5A01     		lsls	r2, r3, #5
 1339 0058 FB68     		ldr	r3, [r7, #12]
 1340 005a 1344     		add	r3, r3, r2
 1341 005c 03F51063 		add	r3, r3, #2304
 1342 0060 1A68     		ldr	r2, [r3]
 1343              		.loc 1 533 39
 1344 0062 3B68     		ldr	r3, [r7]
 1345 0064 9B68     		ldr	r3, [r3, #8]
 1346              		.loc 1 533 51
 1347 0066 C3F30A01 		ubfx	r1, r3, #0, #11
 534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1348              		.loc 1 534 49
 1349 006a 3B68     		ldr	r3, [r7]
 1350 006c 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1351              		.loc 1 534 56
 1352 006e 9B04     		lsls	r3, r3, #18
 533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1353              		.loc 1 533 76
 1354 0070 1943     		orrs	r1, r1, r3
 1355              		.loc 1 534 72
 1356 0072 BB68     		ldr	r3, [r7, #8]
 1357 0074 9B05     		lsls	r3, r3, #22
 1358              		.loc 1 534 63
 1359 0076 0B43     		orrs	r3, r3, r1
 533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
ARM GAS  /tmp/cc3N4Hnz.s 			page 34


 1360              		.loc 1 533 33
 1361 0078 1343     		orrs	r3, r3, r2
 533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1362              		.loc 1 533 23
 1363 007a BA68     		ldr	r2, [r7, #8]
 1364 007c 5101     		lsls	r1, r2, #5
 1365 007e FA68     		ldr	r2, [r7, #12]
 1366 0080 0A44     		add	r2, r2, r1
 1367 0082 02F51062 		add	r2, r2, #2304
 533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1368              		.loc 1 533 33
 1369 0086 43F08053 		orr	r3, r3, #268435456
 1370 008a 43F40043 		orr	r3, r3, #32768
 1371 008e 1360     		str	r3, [r2]
 1372 0090 36E0     		b	.L76
 1373              	.L75:
 535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_USBAEP;
 537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) <<
 1374              		.loc 1 541 16
 1375 0092 FB68     		ldr	r3, [r7, #12]
 1376 0094 03F50063 		add	r3, r3, #2048
 1377 0098 DA69     		ldr	r2, [r3, #28]
 1378              		.loc 1 541 76
 1379 009a 3B68     		ldr	r3, [r7]
 1380 009c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1381              		.loc 1 541 82
 1382 009e 03F00F03 		and	r3, r3, #15
 1383              		.loc 1 541 55
 1384 00a2 0121     		movs	r1, #1
 1385 00a4 01FA03F3 		lsl	r3, r1, r3
 1386              		.loc 1 541 52
 1387 00a8 1B04     		lsls	r3, r3, #16
 1388              		.loc 1 541 16
 1389 00aa F968     		ldr	r1, [r7, #12]
 1390 00ac 01F50061 		add	r1, r1, #2048
 1391              		.loc 1 541 27
 1392 00b0 1343     		orrs	r3, r3, r2
 1393 00b2 CB61     		str	r3, [r1, #28]
 542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1394              		.loc 1 543 11
 1395 00b4 BB68     		ldr	r3, [r7, #8]
 1396 00b6 5A01     		lsls	r2, r3, #5
 1397 00b8 FB68     		ldr	r3, [r7, #12]
 1398 00ba 1344     		add	r3, r3, r2
 1399 00bc 03F53063 		add	r3, r3, #2816
 1400              		.loc 1 543 28
 1401 00c0 1B68     		ldr	r3, [r3]
 1402              		.loc 1 543 39
 1403 00c2 03F40043 		and	r3, r3, #32768
 1404              		.loc 1 543 8
 1405 00c6 002B     		cmp	r3, #0
ARM GAS  /tmp/cc3N4Hnz.s 			page 35


 1406 00c8 1AD1     		bne	.L76
 544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= (ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ) |
 1407              		.loc 1 545 24
 1408 00ca BB68     		ldr	r3, [r7, #8]
 1409 00cc 5A01     		lsls	r2, r3, #5
 1410 00ce FB68     		ldr	r3, [r7, #12]
 1411 00d0 1344     		add	r3, r3, r2
 1412 00d2 03F53063 		add	r3, r3, #2816
 1413 00d6 1A68     		ldr	r2, [r3]
 1414              		.loc 1 545 40
 1415 00d8 3B68     		ldr	r3, [r7]
 1416 00da 9B68     		ldr	r3, [r3, #8]
 1417              		.loc 1 545 52
 1418 00dc C3F30A01 		ubfx	r1, r3, #0, #11
 546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1419              		.loc 1 546 50
 1420 00e0 3B68     		ldr	r3, [r7]
 1421 00e2 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1422              		.loc 1 546 57
 1423 00e4 9B04     		lsls	r3, r3, #18
 545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1424              		.loc 1 545 77
 1425 00e6 0B43     		orrs	r3, r3, r1
 545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1426              		.loc 1 545 34
 1427 00e8 1343     		orrs	r3, r3, r2
 545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1428              		.loc 1 545 24
 1429 00ea BA68     		ldr	r2, [r7, #8]
 1430 00ec 5101     		lsls	r1, r2, #5
 1431 00ee FA68     		ldr	r2, [r7, #12]
 1432 00f0 0A44     		add	r2, r2, r1
 1433 00f2 02F53062 		add	r2, r2, #2816
 545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1434              		.loc 1 545 34
 1435 00f6 43F08053 		orr	r3, r3, #268435456
 1436 00fa 43F40043 		orr	r3, r3, #32768
 1437 00fe 1360     		str	r3, [r2]
 1438              	.L76:
 547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_USBAEP;
 549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 1439              		.loc 1 551 10
 1440 0100 0023     		movs	r3, #0
 552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 1441              		.loc 1 552 1
 1442 0102 1846     		mov	r0, r3
 1443 0104 1437     		adds	r7, r7, #20
 1444              		.cfi_def_cfa_offset 4
 1445 0106 BD46     		mov	sp, r7
 1446              		.cfi_def_cfa_register 13
 1447              		@ sp needed
 1448 0108 5DF8047B 		ldr	r7, [sp], #4
 1449              		.cfi_restore 7
ARM GAS  /tmp/cc3N4Hnz.s 			page 36


 1450              		.cfi_def_cfa_offset 0
 1451 010c 7047     		bx	lr
 1452              		.cfi_endproc
 1453              	.LFE455:
 1455              		.section	.text.USB_ActivateDedicatedEndpoint,"ax",%progbits
 1456              		.align	1
 1457              		.global	USB_ActivateDedicatedEndpoint
 1458              		.syntax unified
 1459              		.thumb
 1460              		.thumb_func
 1462              	USB_ActivateDedicatedEndpoint:
 1463              	.LFB456:
 553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Activate and configure a dedicated endpoint
 556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateDedicatedEndpoint(const USB_OTG_GlobalTypeDef *USBx, const USB_OTG_EP
 561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 1464              		.loc 1 561 1
 1465              		.cfi_startproc
 1466              		@ args = 0, pretend = 0, frame = 16
 1467              		@ frame_needed = 1, uses_anonymous_args = 0
 1468              		@ link register save eliminated.
 1469 0000 80B4     		push	{r7}
 1470              		.cfi_def_cfa_offset 4
 1471              		.cfi_offset 7, -4
 1472 0002 85B0     		sub	sp, sp, #20
 1473              		.cfi_def_cfa_offset 24
 1474 0004 00AF     		add	r7, sp, #0
 1475              		.cfi_def_cfa_register 7
 1476 0006 7860     		str	r0, [r7, #4]
 1477 0008 3960     		str	r1, [r7]
 562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1478              		.loc 1 562 12
 1479 000a 7B68     		ldr	r3, [r7, #4]
 1480 000c FB60     		str	r3, [r7, #12]
 563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1481              		.loc 1 563 32
 1482 000e 3B68     		ldr	r3, [r7]
 1483 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1484              		.loc 1 563 12
 1485 0012 BB60     		str	r3, [r7, #8]
 564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Read DEPCTLn register */
 566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1486              		.loc 1 566 9
 1487 0014 3B68     		ldr	r3, [r7]
 1488 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1489              		.loc 1 566 6
 1490 0018 012B     		cmp	r3, #1
 1491 001a 3AD1     		bne	.L79
 567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (((USBx_INEP(epnum)->DIEPCTL) & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1492              		.loc 1 568 11
ARM GAS  /tmp/cc3N4Hnz.s 			page 37


 1493 001c BB68     		ldr	r3, [r7, #8]
 1494 001e 5A01     		lsls	r2, r3, #5
 1495 0020 FB68     		ldr	r3, [r7, #12]
 1496 0022 1344     		add	r3, r3, r2
 1497 0024 03F51063 		add	r3, r3, #2304
 1498              		.loc 1 568 27
 1499 0028 1B68     		ldr	r3, [r3]
 1500              		.loc 1 568 38
 1501 002a 03F40043 		and	r3, r3, #32768
 1502              		.loc 1 568 8
 1503 002e 002B     		cmp	r3, #0
 1504 0030 1DD1     		bne	.L80
 569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ) |
 1505              		.loc 1 570 23
 1506 0032 BB68     		ldr	r3, [r7, #8]
 1507 0034 5A01     		lsls	r2, r3, #5
 1508 0036 FB68     		ldr	r3, [r7, #12]
 1509 0038 1344     		add	r3, r3, r2
 1510 003a 03F51063 		add	r3, r3, #2304
 1511 003e 1A68     		ldr	r2, [r3]
 1512              		.loc 1 570 39
 1513 0040 3B68     		ldr	r3, [r7]
 1514 0042 9B68     		ldr	r3, [r3, #8]
 1515              		.loc 1 570 51
 1516 0044 C3F30A01 		ubfx	r1, r3, #0, #11
 571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1517              		.loc 1 571 49
 1518 0048 3B68     		ldr	r3, [r7]
 1519 004a 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1520              		.loc 1 571 56
 1521 004c 9B04     		lsls	r3, r3, #18
 570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1522              		.loc 1 570 76
 1523 004e 1943     		orrs	r1, r1, r3
 1524              		.loc 1 571 72
 1525 0050 BB68     		ldr	r3, [r7, #8]
 1526 0052 9B05     		lsls	r3, r3, #22
 1527              		.loc 1 571 63
 1528 0054 0B43     		orrs	r3, r3, r1
 570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1529              		.loc 1 570 33
 1530 0056 1343     		orrs	r3, r3, r2
 570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1531              		.loc 1 570 23
 1532 0058 BA68     		ldr	r2, [r7, #8]
 1533 005a 5101     		lsls	r1, r2, #5
 1534 005c FA68     		ldr	r2, [r7, #12]
 1535 005e 0A44     		add	r2, r2, r1
 1536 0060 02F51062 		add	r2, r2, #2304
 570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1537              		.loc 1 570 33
 1538 0064 43F08053 		orr	r3, r3, #268435456
 1539 0068 43F40043 		orr	r3, r3, #32768
 1540 006c 1360     		str	r3, [r2]
 1541              	.L80:
 572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
ARM GAS  /tmp/cc3N4Hnz.s 			page 38


 573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_USBAEP;
 574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK));
 1542              		.loc 1 576 16
 1543 006e FB68     		ldr	r3, [r7, #12]
 1544 0070 03F50063 		add	r3, r3, #2048
 1545 0074 DA6B     		ldr	r2, [r3, #60]
 1546              		.loc 1 576 75
 1547 0076 3B68     		ldr	r3, [r7]
 1548 0078 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1549              		.loc 1 576 81
 1550 007a 03F00F03 		and	r3, r3, #15
 1551              		.loc 1 576 54
 1552 007e 0121     		movs	r1, #1
 1553 0080 01FA03F3 		lsl	r3, r1, r3
 1554              		.loc 1 576 52
 1555 0084 9BB2     		uxth	r3, r3
 1556              		.loc 1 576 16
 1557 0086 F968     		ldr	r1, [r7, #12]
 1558 0088 01F50061 		add	r1, r1, #2048
 1559              		.loc 1 576 27
 1560 008c 1343     		orrs	r3, r3, r2
 1561 008e CB63     		str	r3, [r1, #60]
 1562 0090 37E0     		b	.L81
 1563              	.L79:
 577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1564              		.loc 1 580 11
 1565 0092 BB68     		ldr	r3, [r7, #8]
 1566 0094 5A01     		lsls	r2, r3, #5
 1567 0096 FB68     		ldr	r3, [r7, #12]
 1568 0098 1344     		add	r3, r3, r2
 1569 009a 03F53063 		add	r3, r3, #2816
 1570              		.loc 1 580 28
 1571 009e 1B68     		ldr	r3, [r3]
 1572              		.loc 1 580 39
 1573 00a0 03F40043 		and	r3, r3, #32768
 1574              		.loc 1 580 8
 1575 00a4 002B     		cmp	r3, #0
 1576 00a6 1BD1     		bne	.L82
 581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= (ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ) |
 1577              		.loc 1 582 24
 1578 00a8 BB68     		ldr	r3, [r7, #8]
 1579 00aa 5A01     		lsls	r2, r3, #5
 1580 00ac FB68     		ldr	r3, [r7, #12]
 1581 00ae 1344     		add	r3, r3, r2
 1582 00b0 03F53063 		add	r3, r3, #2816
 1583 00b4 1A68     		ldr	r2, [r3]
 1584              		.loc 1 582 40
 1585 00b6 3B68     		ldr	r3, [r7]
 1586 00b8 9B68     		ldr	r3, [r3, #8]
 1587              		.loc 1 582 52
 1588 00ba C3F30A01 		ubfx	r1, r3, #0, #11
ARM GAS  /tmp/cc3N4Hnz.s 			page 39


 583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1589              		.loc 1 583 50
 1590 00be 3B68     		ldr	r3, [r7]
 1591 00c0 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1592              		.loc 1 583 57
 1593 00c2 9B04     		lsls	r3, r3, #18
 582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1594              		.loc 1 582 77
 1595 00c4 1943     		orrs	r1, r1, r3
 1596              		.loc 1 583 73
 1597 00c6 BB68     		ldr	r3, [r7, #8]
 1598 00c8 9B05     		lsls	r3, r3, #22
 1599              		.loc 1 583 64
 1600 00ca 0B43     		orrs	r3, r3, r1
 582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1601              		.loc 1 582 34
 1602 00cc 1343     		orrs	r3, r3, r2
 582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1603              		.loc 1 582 24
 1604 00ce BA68     		ldr	r2, [r7, #8]
 1605 00d0 5101     		lsls	r1, r2, #5
 1606 00d2 FA68     		ldr	r2, [r7, #12]
 1607 00d4 0A44     		add	r2, r2, r1
 1608 00d6 02F53062 		add	r2, r2, #2816
 582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1609              		.loc 1 582 34
 1610 00da 43F40043 		orr	r3, r3, #32768
 1611 00de 1360     		str	r3, [r2]
 1612              	.L82:
 584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_USBAEP;
 585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) <<
 1613              		.loc 1 587 16
 1614 00e0 FB68     		ldr	r3, [r7, #12]
 1615 00e2 03F50063 		add	r3, r3, #2048
 1616 00e6 DA6B     		ldr	r2, [r3, #60]
 1617              		.loc 1 587 76
 1618 00e8 3B68     		ldr	r3, [r7]
 1619 00ea 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1620              		.loc 1 587 82
 1621 00ec 03F00F03 		and	r3, r3, #15
 1622              		.loc 1 587 55
 1623 00f0 0121     		movs	r1, #1
 1624 00f2 01FA03F3 		lsl	r3, r1, r3
 1625              		.loc 1 587 52
 1626 00f6 1B04     		lsls	r3, r3, #16
 1627              		.loc 1 587 16
 1628 00f8 F968     		ldr	r1, [r7, #12]
 1629 00fa 01F50061 		add	r1, r1, #2048
 1630              		.loc 1 587 27
 1631 00fe 1343     		orrs	r3, r3, r2
 1632 0100 CB63     		str	r3, [r1, #60]
 1633              	.L81:
 588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
ARM GAS  /tmp/cc3N4Hnz.s 			page 40


 1634              		.loc 1 590 10
 1635 0102 0023     		movs	r3, #0
 591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 1636              		.loc 1 591 1
 1637 0104 1846     		mov	r0, r3
 1638 0106 1437     		adds	r7, r7, #20
 1639              		.cfi_def_cfa_offset 4
 1640 0108 BD46     		mov	sp, r7
 1641              		.cfi_def_cfa_register 13
 1642              		@ sp needed
 1643 010a 5DF8047B 		ldr	r7, [sp], #4
 1644              		.cfi_restore 7
 1645              		.cfi_def_cfa_offset 0
 1646 010e 7047     		bx	lr
 1647              		.cfi_endproc
 1648              	.LFE456:
 1650              		.section	.text.USB_DeactivateEndpoint,"ax",%progbits
 1651              		.align	1
 1652              		.global	USB_DeactivateEndpoint
 1653              		.syntax unified
 1654              		.thumb
 1655              		.thumb_func
 1657              	USB_DeactivateEndpoint:
 1658              	.LFB457:
 592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  De-activate and de-initialize an endpoint
 595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateEndpoint(const USB_OTG_GlobalTypeDef *USBx, const USB_OTG_EPTypeDef
 600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 1659              		.loc 1 600 1
 1660              		.cfi_startproc
 1661              		@ args = 0, pretend = 0, frame = 16
 1662              		@ frame_needed = 1, uses_anonymous_args = 0
 1663              		@ link register save eliminated.
 1664 0000 80B4     		push	{r7}
 1665              		.cfi_def_cfa_offset 4
 1666              		.cfi_offset 7, -4
 1667 0002 85B0     		sub	sp, sp, #20
 1668              		.cfi_def_cfa_offset 24
 1669 0004 00AF     		add	r7, sp, #0
 1670              		.cfi_def_cfa_register 7
 1671 0006 7860     		str	r0, [r7, #4]
 1672 0008 3960     		str	r1, [r7]
 601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1673              		.loc 1 601 12
 1674 000a 7B68     		ldr	r3, [r7, #4]
 1675 000c FB60     		str	r3, [r7, #12]
 602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1676              		.loc 1 602 32
 1677 000e 3B68     		ldr	r3, [r7]
 1678 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1679              		.loc 1 602 12
 1680 0012 BB60     		str	r3, [r7, #8]
ARM GAS  /tmp/cc3N4Hnz.s 			page 41


 603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Read DEPCTLn register */
 605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1681              		.loc 1 605 9
 1682 0014 3B68     		ldr	r3, [r7]
 1683 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1684              		.loc 1 605 6
 1685 0018 012B     		cmp	r3, #1
 1686 001a 61D1     		bne	.L85
 606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 1687              		.loc 1 607 10
 1688 001c BB68     		ldr	r3, [r7, #8]
 1689 001e 5A01     		lsls	r2, r3, #5
 1690 0020 FB68     		ldr	r3, [r7, #12]
 1691 0022 1344     		add	r3, r3, r2
 1692 0024 03F51063 		add	r3, r3, #2304
 1693              		.loc 1 607 26
 1694 0028 1B68     		ldr	r3, [r3]
 1695              		.loc 1 607 36
 1696 002a 03F00043 		and	r3, r3, #-2147483648
 1697              		.loc 1 607 8
 1698 002e B3F1004F 		cmp	r3, #-2147483648
 1699 0032 1FD1     		bne	.L86
 608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SNAK;
 1700              		.loc 1 609 23
 1701 0034 BB68     		ldr	r3, [r7, #8]
 1702 0036 5A01     		lsls	r2, r3, #5
 1703 0038 FB68     		ldr	r3, [r7, #12]
 1704 003a 1344     		add	r3, r3, r2
 1705 003c 03F51063 		add	r3, r3, #2304
 1706 0040 1B68     		ldr	r3, [r3]
 1707 0042 BA68     		ldr	r2, [r7, #8]
 1708 0044 5101     		lsls	r1, r2, #5
 1709 0046 FA68     		ldr	r2, [r7, #12]
 1710 0048 0A44     		add	r2, r2, r1
 1711 004a 02F51062 		add	r2, r2, #2304
 1712              		.loc 1 609 33
 1713 004e 43F00063 		orr	r3, r3, #134217728
 1714 0052 1360     		str	r3, [r2]
 610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_EPDIS;
 1715              		.loc 1 610 23
 1716 0054 BB68     		ldr	r3, [r7, #8]
 1717 0056 5A01     		lsls	r2, r3, #5
 1718 0058 FB68     		ldr	r3, [r7, #12]
 1719 005a 1344     		add	r3, r3, r2
 1720 005c 03F51063 		add	r3, r3, #2304
 1721 0060 1B68     		ldr	r3, [r3]
 1722 0062 BA68     		ldr	r2, [r7, #8]
 1723 0064 5101     		lsls	r1, r2, #5
 1724 0066 FA68     		ldr	r2, [r7, #12]
 1725 0068 0A44     		add	r2, r2, r1
 1726 006a 02F51062 		add	r2, r2, #2304
 1727              		.loc 1 610 33
 1728 006e 43F08043 		orr	r3, r3, #1073741824
 1729 0072 1360     		str	r3, [r2]
ARM GAS  /tmp/cc3N4Hnz.s 			page 42


 1730              	.L86:
 611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1731              		.loc 1 613 16
 1732 0074 FB68     		ldr	r3, [r7, #12]
 1733 0076 03F50063 		add	r3, r3, #2048
 1734 007a DA6B     		ldr	r2, [r3, #60]
 1735              		.loc 1 613 77
 1736 007c 3B68     		ldr	r3, [r7]
 1737 007e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1738              		.loc 1 613 83
 1739 0080 03F00F03 		and	r3, r3, #15
 1740              		.loc 1 613 56
 1741 0084 0121     		movs	r1, #1
 1742 0086 01FA03F3 		lsl	r3, r1, r3
 1743              		.loc 1 613 54
 1744 008a 9BB2     		uxth	r3, r3
 1745              		.loc 1 613 30
 1746 008c DB43     		mvns	r3, r3
 1747              		.loc 1 613 16
 1748 008e F968     		ldr	r1, [r7, #12]
 1749 0090 01F50061 		add	r1, r1, #2048
 1750              		.loc 1 613 27
 1751 0094 1340     		ands	r3, r3, r2
 1752 0096 CB63     		str	r3, [r1, #60]
 614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1753              		.loc 1 614 16
 1754 0098 FB68     		ldr	r3, [r7, #12]
 1755 009a 03F50063 		add	r3, r3, #2048
 1756 009e DA69     		ldr	r2, [r3, #28]
 1757              		.loc 1 614 77
 1758 00a0 3B68     		ldr	r3, [r7]
 1759 00a2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1760              		.loc 1 614 83
 1761 00a4 03F00F03 		and	r3, r3, #15
 1762              		.loc 1 614 56
 1763 00a8 0121     		movs	r1, #1
 1764 00aa 01FA03F3 		lsl	r3, r1, r3
 1765              		.loc 1 614 54
 1766 00ae 9BB2     		uxth	r3, r3
 1767              		.loc 1 614 30
 1768 00b0 DB43     		mvns	r3, r3
 1769              		.loc 1 614 16
 1770 00b2 F968     		ldr	r1, [r7, #12]
 1771 00b4 01F50061 		add	r1, r1, #2048
 1772              		.loc 1 614 27
 1773 00b8 1340     		ands	r3, r3, r2
 1774 00ba CB61     		str	r3, [r1, #28]
 615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~(USB_OTG_DIEPCTL_USBAEP |
 1775              		.loc 1 615 21
 1776 00bc BB68     		ldr	r3, [r7, #8]
 1777 00be 5A01     		lsls	r2, r3, #5
 1778 00c0 FB68     		ldr	r3, [r7, #12]
 1779 00c2 1344     		add	r3, r3, r2
 1780 00c4 03F51063 		add	r3, r3, #2304
 1781 00c8 1A68     		ldr	r2, [r3]
ARM GAS  /tmp/cc3N4Hnz.s 			page 43


 1782 00ca BB68     		ldr	r3, [r7, #8]
 1783 00cc 5901     		lsls	r1, r3, #5
 1784 00ce FB68     		ldr	r3, [r7, #12]
 1785 00d0 0B44     		add	r3, r3, r1
 1786 00d2 03F51063 		add	r3, r3, #2304
 1787 00d6 1946     		mov	r1, r3
 1788              		.loc 1 615 31
 1789 00d8 354B     		ldr	r3, .L90
 1790 00da 1340     		ands	r3, r3, r2
 1791 00dc 0B60     		str	r3, [r1]
 1792 00de 60E0     		b	.L87
 1793              	.L85:
 616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_MPSIZ |
 617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_TXFNUM |
 618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_EPTYP);
 620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 1794              		.loc 1 623 10
 1795 00e0 BB68     		ldr	r3, [r7, #8]
 1796 00e2 5A01     		lsls	r2, r3, #5
 1797 00e4 FB68     		ldr	r3, [r7, #12]
 1798 00e6 1344     		add	r3, r3, r2
 1799 00e8 03F53063 		add	r3, r3, #2816
 1800              		.loc 1 623 27
 1801 00ec 1B68     		ldr	r3, [r3]
 1802              		.loc 1 623 37
 1803 00ee 03F00043 		and	r3, r3, #-2147483648
 1804              		.loc 1 623 8
 1805 00f2 B3F1004F 		cmp	r3, #-2147483648
 1806 00f6 1FD1     		bne	.L88
 624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SNAK;
 1807              		.loc 1 625 24
 1808 00f8 BB68     		ldr	r3, [r7, #8]
 1809 00fa 5A01     		lsls	r2, r3, #5
 1810 00fc FB68     		ldr	r3, [r7, #12]
 1811 00fe 1344     		add	r3, r3, r2
 1812 0100 03F53063 		add	r3, r3, #2816
 1813 0104 1B68     		ldr	r3, [r3]
 1814 0106 BA68     		ldr	r2, [r7, #8]
 1815 0108 5101     		lsls	r1, r2, #5
 1816 010a FA68     		ldr	r2, [r7, #12]
 1817 010c 0A44     		add	r2, r2, r1
 1818 010e 02F53062 		add	r2, r2, #2816
 1819              		.loc 1 625 34
 1820 0112 43F00063 		orr	r3, r3, #134217728
 1821 0116 1360     		str	r3, [r2]
 626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_EPDIS;
 1822              		.loc 1 626 24
 1823 0118 BB68     		ldr	r3, [r7, #8]
 1824 011a 5A01     		lsls	r2, r3, #5
 1825 011c FB68     		ldr	r3, [r7, #12]
 1826 011e 1344     		add	r3, r3, r2
 1827 0120 03F53063 		add	r3, r3, #2816
ARM GAS  /tmp/cc3N4Hnz.s 			page 44


 1828 0124 1B68     		ldr	r3, [r3]
 1829 0126 BA68     		ldr	r2, [r7, #8]
 1830 0128 5101     		lsls	r1, r2, #5
 1831 012a FA68     		ldr	r2, [r7, #12]
 1832 012c 0A44     		add	r2, r2, r1
 1833 012e 02F53062 		add	r2, r2, #2816
 1834              		.loc 1 626 34
 1835 0132 43F08043 		orr	r3, r3, #1073741824
 1836 0136 1360     		str	r3, [r2]
 1837              	.L88:
 627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 1838              		.loc 1 629 16
 1839 0138 FB68     		ldr	r3, [r7, #12]
 1840 013a 03F50063 		add	r3, r3, #2048
 1841 013e DA6B     		ldr	r2, [r3, #60]
 1842              		.loc 1 629 78
 1843 0140 3B68     		ldr	r3, [r7]
 1844 0142 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1845              		.loc 1 629 84
 1846 0144 03F00F03 		and	r3, r3, #15
 1847              		.loc 1 629 57
 1848 0148 0121     		movs	r1, #1
 1849 014a 01FA03F3 		lsl	r3, r1, r3
 1850              		.loc 1 629 54
 1851 014e 1B04     		lsls	r3, r3, #16
 1852              		.loc 1 629 30
 1853 0150 DB43     		mvns	r3, r3
 1854              		.loc 1 629 16
 1855 0152 F968     		ldr	r1, [r7, #12]
 1856 0154 01F50061 		add	r1, r1, #2048
 1857              		.loc 1 629 27
 1858 0158 1340     		ands	r3, r3, r2
 1859 015a CB63     		str	r3, [r1, #60]
 630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 1860              		.loc 1 630 16
 1861 015c FB68     		ldr	r3, [r7, #12]
 1862 015e 03F50063 		add	r3, r3, #2048
 1863 0162 DA69     		ldr	r2, [r3, #28]
 1864              		.loc 1 630 78
 1865 0164 3B68     		ldr	r3, [r7]
 1866 0166 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1867              		.loc 1 630 84
 1868 0168 03F00F03 		and	r3, r3, #15
 1869              		.loc 1 630 57
 1870 016c 0121     		movs	r1, #1
 1871 016e 01FA03F3 		lsl	r3, r1, r3
 1872              		.loc 1 630 54
 1873 0172 1B04     		lsls	r3, r3, #16
 1874              		.loc 1 630 30
 1875 0174 DB43     		mvns	r3, r3
 1876              		.loc 1 630 16
 1877 0176 F968     		ldr	r1, [r7, #12]
 1878 0178 01F50061 		add	r1, r1, #2048
 1879              		.loc 1 630 27
 1880 017c 1340     		ands	r3, r3, r2
ARM GAS  /tmp/cc3N4Hnz.s 			page 45


 1881 017e CB61     		str	r3, [r1, #28]
 631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~(USB_OTG_DOEPCTL_USBAEP |
 1882              		.loc 1 631 22
 1883 0180 BB68     		ldr	r3, [r7, #8]
 1884 0182 5A01     		lsls	r2, r3, #5
 1885 0184 FB68     		ldr	r3, [r7, #12]
 1886 0186 1344     		add	r3, r3, r2
 1887 0188 03F53063 		add	r3, r3, #2816
 1888 018c 1A68     		ldr	r2, [r3]
 1889 018e BB68     		ldr	r3, [r7, #8]
 1890 0190 5901     		lsls	r1, r3, #5
 1891 0192 FB68     		ldr	r3, [r7, #12]
 1892 0194 0B44     		add	r3, r3, r1
 1893 0196 03F53063 		add	r3, r3, #2816
 1894 019a 1946     		mov	r1, r3
 1895              		.loc 1 631 32
 1896 019c 054B     		ldr	r3, .L90+4
 1897 019e 1340     		ands	r3, r3, r2
 1898 01a0 0B60     		str	r3, [r1]
 1899              	.L87:
 632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_MPSIZ |
 633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_SD0PID_SEVNFRM |
 634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_EPTYP);
 635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 1900              		.loc 1 637 10
 1901 01a2 0023     		movs	r3, #0
 638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 1902              		.loc 1 638 1
 1903 01a4 1846     		mov	r0, r3
 1904 01a6 1437     		adds	r7, r7, #20
 1905              		.cfi_def_cfa_offset 4
 1906 01a8 BD46     		mov	sp, r7
 1907              		.cfi_def_cfa_register 13
 1908              		@ sp needed
 1909 01aa 5DF8047B 		ldr	r7, [sp], #4
 1910              		.cfi_restore 7
 1911              		.cfi_def_cfa_offset 0
 1912 01ae 7047     		bx	lr
 1913              	.L91:
 1914              		.align	2
 1915              	.L90:
 1916 01b0 007833EC 		.word	-332171264
 1917 01b4 0078F3EF 		.word	-269256704
 1918              		.cfi_endproc
 1919              	.LFE457:
 1921              		.section	.text.USB_DeactivateDedicatedEndpoint,"ax",%progbits
 1922              		.align	1
 1923              		.global	USB_DeactivateDedicatedEndpoint
 1924              		.syntax unified
 1925              		.thumb
 1926              		.thumb_func
 1928              	USB_DeactivateDedicatedEndpoint:
 1929              	.LFB458:
 639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
ARM GAS  /tmp/cc3N4Hnz.s 			page 46


 641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  De-activate and de-initialize a dedicated endpoint
 642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateDedicatedEndpoint(const USB_OTG_GlobalTypeDef *USBx, const USB_OTG_
 647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 1930              		.loc 1 647 1
 1931              		.cfi_startproc
 1932              		@ args = 0, pretend = 0, frame = 16
 1933              		@ frame_needed = 1, uses_anonymous_args = 0
 1934              		@ link register save eliminated.
 1935 0000 80B4     		push	{r7}
 1936              		.cfi_def_cfa_offset 4
 1937              		.cfi_offset 7, -4
 1938 0002 85B0     		sub	sp, sp, #20
 1939              		.cfi_def_cfa_offset 24
 1940 0004 00AF     		add	r7, sp, #0
 1941              		.cfi_def_cfa_register 7
 1942 0006 7860     		str	r0, [r7, #4]
 1943 0008 3960     		str	r1, [r7]
 648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1944              		.loc 1 648 12
 1945 000a 7B68     		ldr	r3, [r7, #4]
 1946 000c FB60     		str	r3, [r7, #12]
 649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1947              		.loc 1 649 32
 1948 000e 3B68     		ldr	r3, [r7]
 1949 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1950              		.loc 1 649 12
 1951 0012 BB60     		str	r3, [r7, #8]
 650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Read DEPCTLn register */
 652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1952              		.loc 1 652 9
 1953 0014 3B68     		ldr	r3, [r7]
 1954 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1955              		.loc 1 652 6
 1956 0018 012B     		cmp	r3, #1
 1957 001a 4ED1     		bne	.L93
 653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 1958              		.loc 1 654 10
 1959 001c BB68     		ldr	r3, [r7, #8]
 1960 001e 5A01     		lsls	r2, r3, #5
 1961 0020 FB68     		ldr	r3, [r7, #12]
 1962 0022 1344     		add	r3, r3, r2
 1963 0024 03F51063 		add	r3, r3, #2304
 1964              		.loc 1 654 26
 1965 0028 1B68     		ldr	r3, [r3]
 1966              		.loc 1 654 36
 1967 002a 03F00043 		and	r3, r3, #-2147483648
 1968              		.loc 1 654 8
 1969 002e B3F1004F 		cmp	r3, #-2147483648
 1970 0032 1FD1     		bne	.L94
 655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL  |= USB_OTG_DIEPCTL_SNAK;
ARM GAS  /tmp/cc3N4Hnz.s 			page 47


 1971              		.loc 1 656 23
 1972 0034 BB68     		ldr	r3, [r7, #8]
 1973 0036 5A01     		lsls	r2, r3, #5
 1974 0038 FB68     		ldr	r3, [r7, #12]
 1975 003a 1344     		add	r3, r3, r2
 1976 003c 03F51063 		add	r3, r3, #2304
 1977 0040 1B68     		ldr	r3, [r3]
 1978 0042 BA68     		ldr	r2, [r7, #8]
 1979 0044 5101     		lsls	r1, r2, #5
 1980 0046 FA68     		ldr	r2, [r7, #12]
 1981 0048 0A44     		add	r2, r2, r1
 1982 004a 02F51062 		add	r2, r2, #2304
 1983              		.loc 1 656 34
 1984 004e 43F00063 		orr	r3, r3, #134217728
 1985 0052 1360     		str	r3, [r2]
 657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL  |= USB_OTG_DIEPCTL_EPDIS;
 1986              		.loc 1 657 23
 1987 0054 BB68     		ldr	r3, [r7, #8]
 1988 0056 5A01     		lsls	r2, r3, #5
 1989 0058 FB68     		ldr	r3, [r7, #12]
 1990 005a 1344     		add	r3, r3, r2
 1991 005c 03F51063 		add	r3, r3, #2304
 1992 0060 1B68     		ldr	r3, [r3]
 1993 0062 BA68     		ldr	r2, [r7, #8]
 1994 0064 5101     		lsls	r1, r2, #5
 1995 0066 FA68     		ldr	r2, [r7, #12]
 1996 0068 0A44     		add	r2, r2, r1
 1997 006a 02F51062 		add	r2, r2, #2304
 1998              		.loc 1 657 34
 1999 006e 43F08043 		orr	r3, r3, #1073741824
 2000 0072 1360     		str	r3, [r2]
 2001              	.L94:
 658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~ USB_OTG_DIEPCTL_USBAEP;
 2002              		.loc 1 660 21
 2003 0074 BB68     		ldr	r3, [r7, #8]
 2004 0076 5A01     		lsls	r2, r3, #5
 2005 0078 FB68     		ldr	r3, [r7, #12]
 2006 007a 1344     		add	r3, r3, r2
 2007 007c 03F51063 		add	r3, r3, #2304
 2008 0080 1B68     		ldr	r3, [r3]
 2009 0082 BA68     		ldr	r2, [r7, #8]
 2010 0084 5101     		lsls	r1, r2, #5
 2011 0086 FA68     		ldr	r2, [r7, #12]
 2012 0088 0A44     		add	r2, r2, r1
 2013 008a 02F51062 		add	r2, r2, #2304
 2014              		.loc 1 660 31
 2015 008e 23F40043 		bic	r3, r3, #32768
 2016 0092 1360     		str	r3, [r2]
 661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 2017              		.loc 1 661 16
 2018 0094 FB68     		ldr	r3, [r7, #12]
 2019 0096 03F50063 		add	r3, r3, #2048
 2020 009a DA69     		ldr	r2, [r3, #28]
 2021              		.loc 1 661 77
 2022 009c 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/cc3N4Hnz.s 			page 48


 2023 009e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2024              		.loc 1 661 83
 2025 00a0 03F00F03 		and	r3, r3, #15
 2026              		.loc 1 661 56
 2027 00a4 0121     		movs	r1, #1
 2028 00a6 01FA03F3 		lsl	r3, r1, r3
 2029              		.loc 1 661 54
 2030 00aa 9BB2     		uxth	r3, r3
 2031              		.loc 1 661 30
 2032 00ac DB43     		mvns	r3, r3
 2033              		.loc 1 661 16
 2034 00ae F968     		ldr	r1, [r7, #12]
 2035 00b0 01F50061 		add	r1, r1, #2048
 2036              		.loc 1 661 27
 2037 00b4 1340     		ands	r3, r3, r2
 2038 00b6 CB61     		str	r3, [r1, #28]
 2039 00b8 4DE0     		b	.L95
 2040              	.L93:
 662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 2041              		.loc 1 665 10
 2042 00ba BB68     		ldr	r3, [r7, #8]
 2043 00bc 5A01     		lsls	r2, r3, #5
 2044 00be FB68     		ldr	r3, [r7, #12]
 2045 00c0 1344     		add	r3, r3, r2
 2046 00c2 03F53063 		add	r3, r3, #2816
 2047              		.loc 1 665 27
 2048 00c6 1B68     		ldr	r3, [r3]
 2049              		.loc 1 665 37
 2050 00c8 03F00043 		and	r3, r3, #-2147483648
 2051              		.loc 1 665 8
 2052 00cc B3F1004F 		cmp	r3, #-2147483648
 2053 00d0 1FD1     		bne	.L96
 666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL  |= USB_OTG_DOEPCTL_SNAK;
 2054              		.loc 1 667 24
 2055 00d2 BB68     		ldr	r3, [r7, #8]
 2056 00d4 5A01     		lsls	r2, r3, #5
 2057 00d6 FB68     		ldr	r3, [r7, #12]
 2058 00d8 1344     		add	r3, r3, r2
 2059 00da 03F53063 		add	r3, r3, #2816
 2060 00de 1B68     		ldr	r3, [r3]
 2061 00e0 BA68     		ldr	r2, [r7, #8]
 2062 00e2 5101     		lsls	r1, r2, #5
 2063 00e4 FA68     		ldr	r2, [r7, #12]
 2064 00e6 0A44     		add	r2, r2, r1
 2065 00e8 02F53062 		add	r2, r2, #2816
 2066              		.loc 1 667 35
 2067 00ec 43F00063 		orr	r3, r3, #134217728
 2068 00f0 1360     		str	r3, [r2]
 668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL  |= USB_OTG_DOEPCTL_EPDIS;
 2069              		.loc 1 668 24
 2070 00f2 BB68     		ldr	r3, [r7, #8]
 2071 00f4 5A01     		lsls	r2, r3, #5
 2072 00f6 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/cc3N4Hnz.s 			page 49


 2073 00f8 1344     		add	r3, r3, r2
 2074 00fa 03F53063 		add	r3, r3, #2816
 2075 00fe 1B68     		ldr	r3, [r3]
 2076 0100 BA68     		ldr	r2, [r7, #8]
 2077 0102 5101     		lsls	r1, r2, #5
 2078 0104 FA68     		ldr	r2, [r7, #12]
 2079 0106 0A44     		add	r2, r2, r1
 2080 0108 02F53062 		add	r2, r2, #2816
 2081              		.loc 1 668 35
 2082 010c 43F08043 		orr	r3, r3, #1073741824
 2083 0110 1360     		str	r3, [r2]
 2084              	.L96:
 669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~USB_OTG_DOEPCTL_USBAEP;
 2085              		.loc 1 671 22
 2086 0112 BB68     		ldr	r3, [r7, #8]
 2087 0114 5A01     		lsls	r2, r3, #5
 2088 0116 FB68     		ldr	r3, [r7, #12]
 2089 0118 1344     		add	r3, r3, r2
 2090 011a 03F53063 		add	r3, r3, #2816
 2091 011e 1B68     		ldr	r3, [r3]
 2092 0120 BA68     		ldr	r2, [r7, #8]
 2093 0122 5101     		lsls	r1, r2, #5
 2094 0124 FA68     		ldr	r2, [r7, #12]
 2095 0126 0A44     		add	r2, r2, r1
 2096 0128 02F53062 		add	r2, r2, #2816
 2097              		.loc 1 671 32
 2098 012c 23F40043 		bic	r3, r3, #32768
 2099 0130 1360     		str	r3, [r2]
 672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 2100              		.loc 1 672 16
 2101 0132 FB68     		ldr	r3, [r7, #12]
 2102 0134 03F50063 		add	r3, r3, #2048
 2103 0138 DA69     		ldr	r2, [r3, #28]
 2104              		.loc 1 672 78
 2105 013a 3B68     		ldr	r3, [r7]
 2106 013c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2107              		.loc 1 672 84
 2108 013e 03F00F03 		and	r3, r3, #15
 2109              		.loc 1 672 57
 2110 0142 0121     		movs	r1, #1
 2111 0144 01FA03F3 		lsl	r3, r1, r3
 2112              		.loc 1 672 54
 2113 0148 1B04     		lsls	r3, r3, #16
 2114              		.loc 1 672 30
 2115 014a DB43     		mvns	r3, r3
 2116              		.loc 1 672 16
 2117 014c F968     		ldr	r1, [r7, #12]
 2118 014e 01F50061 		add	r1, r1, #2048
 2119              		.loc 1 672 27
 2120 0152 1340     		ands	r3, r3, r2
 2121 0154 CB61     		str	r3, [r1, #28]
 2122              	.L95:
 673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
ARM GAS  /tmp/cc3N4Hnz.s 			page 50


 2123              		.loc 1 675 10
 2124 0156 0023     		movs	r3, #0
 676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 2125              		.loc 1 676 1
 2126 0158 1846     		mov	r0, r3
 2127 015a 1437     		adds	r7, r7, #20
 2128              		.cfi_def_cfa_offset 4
 2129 015c BD46     		mov	sp, r7
 2130              		.cfi_def_cfa_register 13
 2131              		@ sp needed
 2132 015e 5DF8047B 		ldr	r7, [sp], #4
 2133              		.cfi_restore 7
 2134              		.cfi_def_cfa_offset 0
 2135 0162 7047     		bx	lr
 2136              		.cfi_endproc
 2137              	.LFE458:
 2139              		.section	.text.USB_EPStartXfer,"ax",%progbits
 2140              		.align	1
 2141              		.global	USB_EPStartXfer
 2142              		.syntax unified
 2143              		.thumb
 2144              		.thumb_func
 2146              	USB_EPStartXfer:
 2147              	.LFB459:
 677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_EPStartXfer : setup and starts a transfer over an EP
 680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 2148              		.loc 1 685 1
 2149              		.cfi_startproc
 2150              		@ args = 0, pretend = 0, frame = 24
 2151              		@ frame_needed = 1, uses_anonymous_args = 0
 2152 0000 80B5     		push	{r7, lr}
 2153              		.cfi_def_cfa_offset 8
 2154              		.cfi_offset 7, -8
 2155              		.cfi_offset 14, -4
 2156 0002 86B0     		sub	sp, sp, #24
 2157              		.cfi_def_cfa_offset 32
 2158 0004 00AF     		add	r7, sp, #0
 2159              		.cfi_def_cfa_register 7
 2160 0006 7860     		str	r0, [r7, #4]
 2161 0008 3960     		str	r1, [r7]
 686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2162              		.loc 1 686 12
 2163 000a 7B68     		ldr	r3, [r7, #4]
 2164 000c 7B61     		str	r3, [r7, #20]
 687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 2165              		.loc 1 687 32
 2166 000e 3B68     		ldr	r3, [r7]
 2167 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2168              		.loc 1 687 12
 2169 0012 3B61     		str	r3, [r7, #16]
ARM GAS  /tmp/cc3N4Hnz.s 			page 51


 688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint16_t pktcnt;
 689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* IN endpoint */
 691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2170              		.loc 1 691 9
 2171 0014 3B68     		ldr	r3, [r7]
 2172 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2173              		.loc 1 691 6
 2174 0018 012B     		cmp	r3, #1
 2175 001a 40F02D81 		bne	.L99
 692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Zero Length Packet? */
 694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2176              		.loc 1 694 11
 2177 001e 3B68     		ldr	r3, [r7]
 2178 0020 1B69     		ldr	r3, [r3, #16]
 2179              		.loc 1 694 8
 2180 0022 002B     		cmp	r3, #0
 2181 0024 32D1     		bne	.L100
 695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2182              		.loc 1 696 23
 2183 0026 3B69     		ldr	r3, [r7, #16]
 2184 0028 5A01     		lsls	r2, r3, #5
 2185 002a 7B69     		ldr	r3, [r7, #20]
 2186 002c 1344     		add	r3, r3, r2
 2187 002e 03F51063 		add	r3, r3, #2304
 2188 0032 1B69     		ldr	r3, [r3, #16]
 2189 0034 3A69     		ldr	r2, [r7, #16]
 2190 0036 5101     		lsls	r1, r2, #5
 2191 0038 7A69     		ldr	r2, [r7, #20]
 2192 003a 0A44     		add	r2, r2, r1
 2193 003c 02F51062 		add	r2, r2, #2304
 2194              		.loc 1 696 34
 2195 0040 23F0FF53 		bic	r3, r3, #534773760
 2196 0044 23F4C013 		bic	r3, r3, #1572864
 2197 0048 1361     		str	r3, [r2, #16]
 697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1UL << 19));
 2198              		.loc 1 697 23
 2199 004a 3B69     		ldr	r3, [r7, #16]
 2200 004c 5A01     		lsls	r2, r3, #5
 2201 004e 7B69     		ldr	r3, [r7, #20]
 2202 0050 1344     		add	r3, r3, r2
 2203 0052 03F51063 		add	r3, r3, #2304
 2204 0056 1B69     		ldr	r3, [r3, #16]
 2205 0058 3A69     		ldr	r2, [r7, #16]
 2206 005a 5101     		lsls	r1, r2, #5
 2207 005c 7A69     		ldr	r2, [r7, #20]
 2208 005e 0A44     		add	r2, r2, r1
 2209 0060 02F51062 		add	r2, r2, #2304
 2210              		.loc 1 697 34
 2211 0064 43F40023 		orr	r3, r3, #524288
 2212 0068 1361     		str	r3, [r2, #16]
 698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2213              		.loc 1 698 23
 2214 006a 3B69     		ldr	r3, [r7, #16]
 2215 006c 5A01     		lsls	r2, r3, #5
ARM GAS  /tmp/cc3N4Hnz.s 			page 52


 2216 006e 7B69     		ldr	r3, [r7, #20]
 2217 0070 1344     		add	r3, r3, r2
 2218 0072 03F51063 		add	r3, r3, #2304
 2219 0076 1B69     		ldr	r3, [r3, #16]
 2220 0078 3A69     		ldr	r2, [r7, #16]
 2221 007a 5101     		lsls	r1, r2, #5
 2222 007c 7A69     		ldr	r2, [r7, #20]
 2223 007e 0A44     		add	r2, r2, r1
 2224 0080 02F51062 		add	r2, r2, #2304
 2225              		.loc 1 698 34
 2226 0084 DB0C     		lsrs	r3, r3, #19
 2227 0086 DB04     		lsls	r3, r3, #19
 2228 0088 1361     		str	r3, [r2, #16]
 2229 008a 97E0     		b	.L101
 2230              	.L100:
 699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
 701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Program the transfer size and packet count
 703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       * exist ? 1 : 0)
 706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       */
 707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2231              		.loc 1 707 23
 2232 008c 3B69     		ldr	r3, [r7, #16]
 2233 008e 5A01     		lsls	r2, r3, #5
 2234 0090 7B69     		ldr	r3, [r7, #20]
 2235 0092 1344     		add	r3, r3, r2
 2236 0094 03F51063 		add	r3, r3, #2304
 2237 0098 1B69     		ldr	r3, [r3, #16]
 2238 009a 3A69     		ldr	r2, [r7, #16]
 2239 009c 5101     		lsls	r1, r2, #5
 2240 009e 7A69     		ldr	r2, [r7, #20]
 2241 00a0 0A44     		add	r2, r2, r1
 2242 00a2 02F51062 		add	r2, r2, #2304
 2243              		.loc 1 707 34
 2244 00a6 DB0C     		lsrs	r3, r3, #19
 2245 00a8 DB04     		lsls	r3, r3, #19
 2246 00aa 1361     		str	r3, [r2, #16]
 708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2247              		.loc 1 708 23
 2248 00ac 3B69     		ldr	r3, [r7, #16]
 2249 00ae 5A01     		lsls	r2, r3, #5
 2250 00b0 7B69     		ldr	r3, [r7, #20]
 2251 00b2 1344     		add	r3, r3, r2
 2252 00b4 03F51063 		add	r3, r3, #2304
 2253 00b8 1B69     		ldr	r3, [r3, #16]
 2254 00ba 3A69     		ldr	r2, [r7, #16]
 2255 00bc 5101     		lsls	r1, r2, #5
 2256 00be 7A69     		ldr	r2, [r7, #20]
 2257 00c0 0A44     		add	r2, r2, r1
 2258 00c2 02F51062 		add	r2, r2, #2304
 2259              		.loc 1 708 34
 2260 00c6 23F0FF53 		bic	r3, r3, #534773760
 2261 00ca 23F4C013 		bic	r3, r3, #1572864
 2262 00ce 1361     		str	r3, [r2, #16]
ARM GAS  /tmp/cc3N4Hnz.s 			page 53


 709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (epnum == 0U)
 2263              		.loc 1 710 10
 2264 00d0 3B69     		ldr	r3, [r7, #16]
 2265 00d2 002B     		cmp	r3, #0
 2266 00d4 1AD1     		bne	.L102
 711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if (ep->xfer_len > ep->maxpacket)
 2267              		.loc 1 712 15
 2268 00d6 3B68     		ldr	r3, [r7]
 2269 00d8 1A69     		ldr	r2, [r3, #16]
 2270              		.loc 1 712 30
 2271 00da 3B68     		ldr	r3, [r7]
 2272 00dc 9B68     		ldr	r3, [r3, #8]
 2273              		.loc 1 712 12
 2274 00de 9A42     		cmp	r2, r3
 2275 00e0 03D9     		bls	.L103
 713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
 714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           ep->xfer_len = ep->maxpacket;
 2276              		.loc 1 714 28
 2277 00e2 3B68     		ldr	r3, [r7]
 2278 00e4 9A68     		ldr	r2, [r3, #8]
 2279              		.loc 1 714 24
 2280 00e6 3B68     		ldr	r3, [r7]
 2281 00e8 1A61     		str	r2, [r3, #16]
 2282              	.L103:
 715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
 716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1UL << 19));
 2283              		.loc 1 717 25
 2284 00ea 3B69     		ldr	r3, [r7, #16]
 2285 00ec 5A01     		lsls	r2, r3, #5
 2286 00ee 7B69     		ldr	r3, [r7, #20]
 2287 00f0 1344     		add	r3, r3, r2
 2288 00f2 03F51063 		add	r3, r3, #2304
 2289 00f6 1B69     		ldr	r3, [r3, #16]
 2290 00f8 3A69     		ldr	r2, [r7, #16]
 2291 00fa 5101     		lsls	r1, r2, #5
 2292 00fc 7A69     		ldr	r2, [r7, #20]
 2293 00fe 0A44     		add	r2, r2, r1
 2294 0100 02F51062 		add	r2, r2, #2304
 2295              		.loc 1 717 36
 2296 0104 43F40023 		orr	r3, r3, #524288
 2297 0108 1361     		str	r3, [r2, #16]
 2298 010a 44E0     		b	.L104
 2299              	.L102:
 718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
 720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         pktcnt = (uint16_t)((ep->xfer_len + ep->maxpacket - 1U) / ep->maxpacket);
 2300              		.loc 1 721 32
 2301 010c 3B68     		ldr	r3, [r7]
 2302 010e 1A69     		ldr	r2, [r3, #16]
 2303              		.loc 1 721 47
 2304 0110 3B68     		ldr	r3, [r7]
 2305 0112 9B68     		ldr	r3, [r3, #8]
 2306              		.loc 1 721 43
ARM GAS  /tmp/cc3N4Hnz.s 			page 54


 2307 0114 1344     		add	r3, r3, r2
 2308              		.loc 1 721 59
 2309 0116 5A1E     		subs	r2, r3, #1
 2310              		.loc 1 721 69
 2311 0118 3B68     		ldr	r3, [r7]
 2312 011a 9B68     		ldr	r3, [r3, #8]
 2313              		.loc 1 721 65
 2314 011c B2FBF3F3 		udiv	r3, r2, r3
 2315              		.loc 1 721 16
 2316 0120 FB81     		strh	r3, [r7, #14]	@ movhi
 722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & ((uint32_t)pktcnt << 19));
 2317              		.loc 1 722 25
 2318 0122 3B69     		ldr	r3, [r7, #16]
 2319 0124 5A01     		lsls	r2, r3, #5
 2320 0126 7B69     		ldr	r3, [r7, #20]
 2321 0128 1344     		add	r3, r3, r2
 2322 012a 03F51063 		add	r3, r3, #2304
 2323 012e 1A69     		ldr	r2, [r3, #16]
 2324              		.loc 1 722 67
 2325 0130 FB89     		ldrh	r3, [r7, #14]
 2326              		.loc 1 722 84
 2327 0132 D904     		lsls	r1, r3, #19
 2328              		.loc 1 722 64
 2329 0134 8F4B     		ldr	r3, .L116
 2330 0136 0B40     		ands	r3, r3, r1
 2331              		.loc 1 722 25
 2332 0138 3969     		ldr	r1, [r7, #16]
 2333 013a 4801     		lsls	r0, r1, #5
 2334 013c 7969     		ldr	r1, [r7, #20]
 2335 013e 0144     		add	r1, r1, r0
 2336 0140 01F51061 		add	r1, r1, #2304
 2337              		.loc 1 722 36
 2338 0144 1343     		orrs	r3, r3, r2
 2339 0146 0B61     		str	r3, [r1, #16]
 723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if (ep->type == EP_TYPE_ISOC)
 2340              		.loc 1 724 15
 2341 0148 3B68     		ldr	r3, [r7]
 2342 014a 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2343              		.loc 1 724 12
 2344 014c 012B     		cmp	r3, #1
 2345 014e 22D1     		bne	.L104
 725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
 726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_MULCNT);
 2346              		.loc 1 726 27
 2347 0150 3B69     		ldr	r3, [r7, #16]
 2348 0152 5A01     		lsls	r2, r3, #5
 2349 0154 7B69     		ldr	r3, [r7, #20]
 2350 0156 1344     		add	r3, r3, r2
 2351 0158 03F51063 		add	r3, r3, #2304
 2352 015c 1B69     		ldr	r3, [r3, #16]
 2353 015e 3A69     		ldr	r2, [r7, #16]
 2354 0160 5101     		lsls	r1, r2, #5
 2355 0162 7A69     		ldr	r2, [r7, #20]
 2356 0164 0A44     		add	r2, r2, r1
 2357 0166 02F51062 		add	r2, r2, #2304
 2358              		.loc 1 726 38
ARM GAS  /tmp/cc3N4Hnz.s 			page 55


 2359 016a 23F0C043 		bic	r3, r3, #1610612736
 2360 016e 1361     		str	r3, [r2, #16]
 727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_MULCNT & ((uint32_t)pktcnt << 29));
 2361              		.loc 1 727 27
 2362 0170 3B69     		ldr	r3, [r7, #16]
 2363 0172 5A01     		lsls	r2, r3, #5
 2364 0174 7B69     		ldr	r3, [r7, #20]
 2365 0176 1344     		add	r3, r3, r2
 2366 0178 03F51063 		add	r3, r3, #2304
 2367 017c 1A69     		ldr	r2, [r3, #16]
 2368              		.loc 1 727 69
 2369 017e FB89     		ldrh	r3, [r7, #14]
 2370              		.loc 1 727 86
 2371 0180 5B07     		lsls	r3, r3, #29
 2372              		.loc 1 727 66
 2373 0182 03F0C043 		and	r3, r3, #1610612736
 2374              		.loc 1 727 27
 2375 0186 3969     		ldr	r1, [r7, #16]
 2376 0188 4801     		lsls	r0, r1, #5
 2377 018a 7969     		ldr	r1, [r7, #20]
 2378 018c 0144     		add	r1, r1, r0
 2379 018e 01F51061 		add	r1, r1, #2304
 2380              		.loc 1 727 38
 2381 0192 1343     		orrs	r3, r3, r2
 2382 0194 0B61     		str	r3, [r1, #16]
 2383              	.L104:
 728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
 729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len);
 2384              		.loc 1 731 23
 2385 0196 3B69     		ldr	r3, [r7, #16]
 2386 0198 5A01     		lsls	r2, r3, #5
 2387 019a 7B69     		ldr	r3, [r7, #20]
 2388 019c 1344     		add	r3, r3, r2
 2389 019e 03F51063 		add	r3, r3, #2304
 2390 01a2 1A69     		ldr	r2, [r3, #16]
 2391              		.loc 1 731 66
 2392 01a4 3B68     		ldr	r3, [r7]
 2393 01a6 1B69     		ldr	r3, [r3, #16]
 2394              		.loc 1 731 62
 2395 01a8 C3F31203 		ubfx	r3, r3, #0, #19
 2396              		.loc 1 731 23
 2397 01ac 3969     		ldr	r1, [r7, #16]
 2398 01ae 4801     		lsls	r0, r1, #5
 2399 01b0 7969     		ldr	r1, [r7, #20]
 2400 01b2 0144     		add	r1, r1, r0
 2401 01b4 01F51061 		add	r1, r1, #2304
 2402              		.loc 1 731 34
 2403 01b8 1343     		orrs	r3, r3, r2
 2404 01ba 0B61     		str	r3, [r1, #16]
 2405              	.L101:
 732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* EP enable, IN data in FIFO */
 734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2406              		.loc 1 734 21
 2407 01bc 3B69     		ldr	r3, [r7, #16]
ARM GAS  /tmp/cc3N4Hnz.s 			page 56


 2408 01be 5A01     		lsls	r2, r3, #5
 2409 01c0 7B69     		ldr	r3, [r7, #20]
 2410 01c2 1344     		add	r3, r3, r2
 2411 01c4 03F51063 		add	r3, r3, #2304
 2412 01c8 1B68     		ldr	r3, [r3]
 2413 01ca 3A69     		ldr	r2, [r7, #16]
 2414 01cc 5101     		lsls	r1, r2, #5
 2415 01ce 7A69     		ldr	r2, [r7, #20]
 2416 01d0 0A44     		add	r2, r2, r1
 2417 01d2 02F51062 		add	r2, r2, #2304
 2418              		.loc 1 734 31
 2419 01d6 43F00443 		orr	r3, r3, #-2080374784
 2420 01da 1360     		str	r3, [r2]
 735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->type != EP_TYPE_ISOC)
 2421              		.loc 1 736 11
 2422 01dc 3B68     		ldr	r3, [r7]
 2423 01de 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2424              		.loc 1 736 8
 2425 01e0 012B     		cmp	r3, #1
 2426 01e2 15D0     		beq	.L105
 737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Enable the Tx FIFO Empty Interrupt for this EP */
 739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (ep->xfer_len > 0U)
 2427              		.loc 1 739 13
 2428 01e4 3B68     		ldr	r3, [r7]
 2429 01e6 1B69     		ldr	r3, [r3, #16]
 2430              		.loc 1 739 10
 2431 01e8 002B     		cmp	r3, #0
 2432 01ea 00F03A81 		beq	.L106
 740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_DEVICE->DIEPEMPMSK |= 1UL << (ep->num & EP_ADDR_MSK);
 2433              		.loc 1 741 20
 2434 01ee 7B69     		ldr	r3, [r7, #20]
 2435 01f0 03F50063 		add	r3, r3, #2048
 2436 01f4 5A6B     		ldr	r2, [r3, #52]
 2437              		.loc 1 741 46
 2438 01f6 3B68     		ldr	r3, [r7]
 2439 01f8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2440              		.loc 1 741 52
 2441 01fa 03F00F03 		and	r3, r3, #15
 2442              		.loc 1 741 40
 2443 01fe 0121     		movs	r1, #1
 2444 0200 01FA03F3 		lsl	r3, r1, r3
 2445              		.loc 1 741 20
 2446 0204 7969     		ldr	r1, [r7, #20]
 2447 0206 01F50061 		add	r1, r1, #2048
 2448              		.loc 1 741 33
 2449 020a 1343     		orrs	r3, r3, r2
 2450 020c 4B63     		str	r3, [r1, #52]
 2451 020e 28E1     		b	.L106
 2452              	.L105:
 742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
 745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & (1UL << 8)) == 0U)
ARM GAS  /tmp/cc3N4Hnz.s 			page 57


 2453              		.loc 1 746 12
 2454 0210 7B69     		ldr	r3, [r7, #20]
 2455 0212 03F50063 		add	r3, r3, #2048
 2456              		.loc 1 746 23
 2457 0216 9B68     		ldr	r3, [r3, #8]
 2458              		.loc 1 746 30
 2459 0218 03F48073 		and	r3, r3, #256
 2460              		.loc 1 746 10
 2461 021c 002B     		cmp	r3, #0
 2462 021e 10D1     		bne	.L107
 747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
 2463              		.loc 1 748 25
 2464 0220 3B69     		ldr	r3, [r7, #16]
 2465 0222 5A01     		lsls	r2, r3, #5
 2466 0224 7B69     		ldr	r3, [r7, #20]
 2467 0226 1344     		add	r3, r3, r2
 2468 0228 03F51063 		add	r3, r3, #2304
 2469 022c 1B68     		ldr	r3, [r3]
 2470 022e 3A69     		ldr	r2, [r7, #16]
 2471 0230 5101     		lsls	r1, r2, #5
 2472 0232 7A69     		ldr	r2, [r7, #20]
 2473 0234 0A44     		add	r2, r2, r1
 2474 0236 02F51062 		add	r2, r2, #2304
 2475              		.loc 1 748 35
 2476 023a 43F00053 		orr	r3, r3, #536870912
 2477 023e 1360     		str	r3, [r2]
 2478 0240 0FE0     		b	.L108
 2479              	.L107:
 749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
 751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 2480              		.loc 1 752 25
 2481 0242 3B69     		ldr	r3, [r7, #16]
 2482 0244 5A01     		lsls	r2, r3, #5
 2483 0246 7B69     		ldr	r3, [r7, #20]
 2484 0248 1344     		add	r3, r3, r2
 2485 024a 03F51063 		add	r3, r3, #2304
 2486 024e 1B68     		ldr	r3, [r3]
 2487 0250 3A69     		ldr	r2, [r7, #16]
 2488 0252 5101     		lsls	r1, r2, #5
 2489 0254 7A69     		ldr	r2, [r7, #20]
 2490 0256 0A44     		add	r2, r2, r1
 2491 0258 02F51062 		add	r2, r2, #2304
 2492              		.loc 1 752 35
 2493 025c 43F08053 		orr	r3, r3, #268435456
 2494 0260 1360     		str	r3, [r2]
 2495              	.L108:
 753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       (void)USB_WritePacket(USBx, ep->xfer_buff, ep->num, (uint16_t)ep->xfer_len);
 2496              		.loc 1 755 13
 2497 0262 3B68     		ldr	r3, [r7]
 2498 0264 D968     		ldr	r1, [r3, #12]
 2499 0266 3B68     		ldr	r3, [r7]
 2500 0268 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/cc3N4Hnz.s 			page 58


 2501              		.loc 1 755 71
 2502 026a 3B68     		ldr	r3, [r7]
 2503 026c 1B69     		ldr	r3, [r3, #16]
 2504              		.loc 1 755 13
 2505 026e 9BB2     		uxth	r3, r3
 2506 0270 7868     		ldr	r0, [r7, #4]
 2507 0272 FFF7FEFF 		bl	USB_WritePacket
 2508 0276 F4E0     		b	.L106
 2509              	.L99:
 756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else /* OUT endpoint */
 759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     * pktcnt = N
 762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     * xfersize = N * maxpacket
 763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     */
 764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ);
 2510              		.loc 1 764 22
 2511 0278 3B69     		ldr	r3, [r7, #16]
 2512 027a 5A01     		lsls	r2, r3, #5
 2513 027c 7B69     		ldr	r3, [r7, #20]
 2514 027e 1344     		add	r3, r3, r2
 2515 0280 03F53063 		add	r3, r3, #2816
 2516 0284 1B69     		ldr	r3, [r3, #16]
 2517 0286 3A69     		ldr	r2, [r7, #16]
 2518 0288 5101     		lsls	r1, r2, #5
 2519 028a 7A69     		ldr	r2, [r7, #20]
 2520 028c 0A44     		add	r2, r2, r1
 2521 028e 02F53062 		add	r2, r2, #2816
 2522              		.loc 1 764 33
 2523 0292 DB0C     		lsrs	r3, r3, #19
 2524 0294 DB04     		lsls	r3, r3, #19
 2525 0296 1361     		str	r3, [r2, #16]
 765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT);
 2526              		.loc 1 765 22
 2527 0298 3B69     		ldr	r3, [r7, #16]
 2528 029a 5A01     		lsls	r2, r3, #5
 2529 029c 7B69     		ldr	r3, [r7, #20]
 2530 029e 1344     		add	r3, r3, r2
 2531 02a0 03F53063 		add	r3, r3, #2816
 2532 02a4 1B69     		ldr	r3, [r3, #16]
 2533 02a6 3A69     		ldr	r2, [r7, #16]
 2534 02a8 5101     		lsls	r1, r2, #5
 2535 02aa 7A69     		ldr	r2, [r7, #20]
 2536 02ac 0A44     		add	r2, r2, r1
 2537 02ae 02F53062 		add	r2, r2, #2816
 2538              		.loc 1 765 33
 2539 02b2 23F0FF53 		bic	r3, r3, #534773760
 2540 02b6 23F4C013 		bic	r3, r3, #1572864
 2541 02ba 1361     		str	r3, [r2, #16]
 766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (epnum == 0U)
 2542              		.loc 1 767 8
 2543 02bc 3B69     		ldr	r3, [r7, #16]
 2544 02be 002B     		cmp	r3, #0
 2545 02c0 2FD1     		bne	.L109
ARM GAS  /tmp/cc3N4Hnz.s 			page 59


 768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (ep->xfer_len > 0U)
 2546              		.loc 1 769 13
 2547 02c2 3B68     		ldr	r3, [r7]
 2548 02c4 1B69     		ldr	r3, [r3, #16]
 2549              		.loc 1 769 10
 2550 02c6 002B     		cmp	r3, #0
 2551 02c8 03D0     		beq	.L110
 770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         ep->xfer_len = ep->maxpacket;
 2552              		.loc 1 771 26
 2553 02ca 3B68     		ldr	r3, [r7]
 2554 02cc 9A68     		ldr	r2, [r3, #8]
 2555              		.loc 1 771 22
 2556 02ce 3B68     		ldr	r3, [r7]
 2557 02d0 1A61     		str	r2, [r3, #16]
 2558              	.L110:
 772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Store transfer size, for EP0 this is equal to endpoint max packet size */
 775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       ep->xfer_size = ep->maxpacket;
 2559              		.loc 1 775 25
 2560 02d2 3B68     		ldr	r3, [r7]
 2561 02d4 9A68     		ldr	r2, [r3, #8]
 2562              		.loc 1 775 21
 2563 02d6 3B68     		ldr	r3, [r7]
 2564 02d8 1A62     		str	r2, [r3, #32]
 776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->xfer_size);
 2565              		.loc 1 777 24
 2566 02da 3B69     		ldr	r3, [r7, #16]
 2567 02dc 5A01     		lsls	r2, r3, #5
 2568 02de 7B69     		ldr	r3, [r7, #20]
 2569 02e0 1344     		add	r3, r3, r2
 2570 02e2 03F53063 		add	r3, r3, #2816
 2571 02e6 1A69     		ldr	r2, [r3, #16]
 2572              		.loc 1 777 67
 2573 02e8 3B68     		ldr	r3, [r7]
 2574 02ea 1B6A     		ldr	r3, [r3, #32]
 2575              		.loc 1 777 63
 2576 02ec C3F31203 		ubfx	r3, r3, #0, #19
 2577              		.loc 1 777 24
 2578 02f0 3969     		ldr	r1, [r7, #16]
 2579 02f2 4801     		lsls	r0, r1, #5
 2580 02f4 7969     		ldr	r1, [r7, #20]
 2581 02f6 0144     		add	r1, r1, r0
 2582 02f8 01F53061 		add	r1, r1, #2816
 2583              		.loc 1 777 35
 2584 02fc 1343     		orrs	r3, r3, r2
 2585 02fe 0B61     		str	r3, [r1, #16]
 778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1UL << 19));
 2586              		.loc 1 778 24
 2587 0300 3B69     		ldr	r3, [r7, #16]
 2588 0302 5A01     		lsls	r2, r3, #5
 2589 0304 7B69     		ldr	r3, [r7, #20]
 2590 0306 1344     		add	r3, r3, r2
 2591 0308 03F53063 		add	r3, r3, #2816
ARM GAS  /tmp/cc3N4Hnz.s 			page 60


 2592 030c 1B69     		ldr	r3, [r3, #16]
 2593 030e 3A69     		ldr	r2, [r7, #16]
 2594 0310 5101     		lsls	r1, r2, #5
 2595 0312 7A69     		ldr	r2, [r7, #20]
 2596 0314 0A44     		add	r2, r2, r1
 2597 0316 02F53062 		add	r2, r2, #2816
 2598              		.loc 1 778 35
 2599 031a 43F40023 		orr	r3, r3, #524288
 2600 031e 1361     		str	r3, [r2, #16]
 2601 0320 62E0     		b	.L111
 2602              	.L109:
 779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
 781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (ep->xfer_len == 0U)
 2603              		.loc 1 782 13
 2604 0322 3B68     		ldr	r3, [r7]
 2605 0324 1B69     		ldr	r3, [r3, #16]
 2606              		.loc 1 782 10
 2607 0326 002B     		cmp	r3, #0
 2608 0328 26D1     		bne	.L112
 783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->maxpacket);
 2609              		.loc 1 784 26
 2610 032a 3B69     		ldr	r3, [r7, #16]
 2611 032c 5A01     		lsls	r2, r3, #5
 2612 032e 7B69     		ldr	r3, [r7, #20]
 2613 0330 1344     		add	r3, r3, r2
 2614 0332 03F53063 		add	r3, r3, #2816
 2615 0336 1A69     		ldr	r2, [r3, #16]
 2616              		.loc 1 784 69
 2617 0338 3B68     		ldr	r3, [r7]
 2618 033a 9B68     		ldr	r3, [r3, #8]
 2619              		.loc 1 784 65
 2620 033c C3F31203 		ubfx	r3, r3, #0, #19
 2621              		.loc 1 784 26
 2622 0340 3969     		ldr	r1, [r7, #16]
 2623 0342 4801     		lsls	r0, r1, #5
 2624 0344 7969     		ldr	r1, [r7, #20]
 2625 0346 0144     		add	r1, r1, r0
 2626 0348 01F53061 		add	r1, r1, #2816
 2627              		.loc 1 784 37
 2628 034c 1343     		orrs	r3, r3, r2
 2629 034e 0B61     		str	r3, [r1, #16]
 785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1UL << 19));
 2630              		.loc 1 785 26
 2631 0350 3B69     		ldr	r3, [r7, #16]
 2632 0352 5A01     		lsls	r2, r3, #5
 2633 0354 7B69     		ldr	r3, [r7, #20]
 2634 0356 1344     		add	r3, r3, r2
 2635 0358 03F53063 		add	r3, r3, #2816
 2636 035c 1B69     		ldr	r3, [r3, #16]
 2637 035e 3A69     		ldr	r2, [r7, #16]
 2638 0360 5101     		lsls	r1, r2, #5
 2639 0362 7A69     		ldr	r2, [r7, #20]
 2640 0364 0A44     		add	r2, r2, r1
 2641 0366 02F53062 		add	r2, r2, #2816
ARM GAS  /tmp/cc3N4Hnz.s 			page 61


 2642              		.loc 1 785 37
 2643 036a 43F40023 		orr	r3, r3, #524288
 2644 036e 1361     		str	r3, [r2, #16]
 2645 0370 3AE0     		b	.L111
 2646              	.L117:
 2647 0372 00BF     		.align	2
 2648              	.L116:
 2649 0374 0000F81F 		.word	536346624
 2650              	.L112:
 786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
 788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         pktcnt = (uint16_t)((ep->xfer_len + ep->maxpacket - 1U) / ep->maxpacket);
 2651              		.loc 1 789 32
 2652 0378 3B68     		ldr	r3, [r7]
 2653 037a 1A69     		ldr	r2, [r3, #16]
 2654              		.loc 1 789 47
 2655 037c 3B68     		ldr	r3, [r7]
 2656 037e 9B68     		ldr	r3, [r3, #8]
 2657              		.loc 1 789 43
 2658 0380 1344     		add	r3, r3, r2
 2659              		.loc 1 789 59
 2660 0382 5A1E     		subs	r2, r3, #1
 2661              		.loc 1 789 69
 2662 0384 3B68     		ldr	r3, [r7]
 2663 0386 9B68     		ldr	r3, [r3, #8]
 2664              		.loc 1 789 65
 2665 0388 B2FBF3F3 		udiv	r3, r2, r3
 2666              		.loc 1 789 16
 2667 038c FB81     		strh	r3, [r7, #14]	@ movhi
 790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         ep->xfer_size = ep->maxpacket * pktcnt;
 2668              		.loc 1 790 27
 2669 038e 3B68     		ldr	r3, [r7]
 2670 0390 9B68     		ldr	r3, [r3, #8]
 2671              		.loc 1 790 39
 2672 0392 FA89     		ldrh	r2, [r7, #14]
 2673 0394 03FB02F2 		mul	r2, r3, r2
 2674              		.loc 1 790 23
 2675 0398 3B68     		ldr	r3, [r7]
 2676 039a 1A62     		str	r2, [r3, #32]
 791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPTSIZ |= USB_OTG_DOEPTSIZ_PKTCNT & ((uint32_t)pktcnt << 19);
 2677              		.loc 1 792 26
 2678 039c 3B69     		ldr	r3, [r7, #16]
 2679 039e 5A01     		lsls	r2, r3, #5
 2680 03a0 7B69     		ldr	r3, [r7, #20]
 2681 03a2 1344     		add	r3, r3, r2
 2682 03a4 03F53063 		add	r3, r3, #2816
 2683 03a8 1A69     		ldr	r2, [r3, #16]
 2684              		.loc 1 792 67
 2685 03aa FB89     		ldrh	r3, [r7, #14]
 2686              		.loc 1 792 84
 2687 03ac D904     		lsls	r1, r3, #19
 2688              		.loc 1 792 64
 2689 03ae 2F4B     		ldr	r3, .L118
 2690 03b0 0B40     		ands	r3, r3, r1
 2691              		.loc 1 792 26
ARM GAS  /tmp/cc3N4Hnz.s 			page 62


 2692 03b2 3969     		ldr	r1, [r7, #16]
 2693 03b4 4801     		lsls	r0, r1, #5
 2694 03b6 7969     		ldr	r1, [r7, #20]
 2695 03b8 0144     		add	r1, r1, r0
 2696 03ba 01F53061 		add	r1, r1, #2816
 2697              		.loc 1 792 37
 2698 03be 1343     		orrs	r3, r3, r2
 2699 03c0 0B61     		str	r3, [r1, #16]
 793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPTSIZ |= USB_OTG_DOEPTSIZ_XFRSIZ & ep->xfer_size;
 2700              		.loc 1 793 26
 2701 03c2 3B69     		ldr	r3, [r7, #16]
 2702 03c4 5A01     		lsls	r2, r3, #5
 2703 03c6 7B69     		ldr	r3, [r7, #20]
 2704 03c8 1344     		add	r3, r3, r2
 2705 03ca 03F53063 		add	r3, r3, #2816
 2706 03ce 1A69     		ldr	r2, [r3, #16]
 2707              		.loc 1 793 68
 2708 03d0 3B68     		ldr	r3, [r7]
 2709 03d2 1B6A     		ldr	r3, [r3, #32]
 2710              		.loc 1 793 64
 2711 03d4 C3F31203 		ubfx	r3, r3, #0, #19
 2712              		.loc 1 793 26
 2713 03d8 3969     		ldr	r1, [r7, #16]
 2714 03da 4801     		lsls	r0, r1, #5
 2715 03dc 7969     		ldr	r1, [r7, #20]
 2716 03de 0144     		add	r1, r1, r0
 2717 03e0 01F53061 		add	r1, r1, #2816
 2718              		.loc 1 793 37
 2719 03e4 1343     		orrs	r3, r3, r2
 2720 03e6 0B61     		str	r3, [r1, #16]
 2721              	.L111:
 794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 2722              		.loc 1 797 11
 2723 03e8 3B68     		ldr	r3, [r7]
 2724 03ea 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2725              		.loc 1 797 8
 2726 03ec 012B     		cmp	r3, #1
 2727 03ee 28D1     		bne	.L113
 798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & (1UL << 8)) == 0U)
 2728              		.loc 1 799 12
 2729 03f0 7B69     		ldr	r3, [r7, #20]
 2730 03f2 03F50063 		add	r3, r3, #2048
 2731              		.loc 1 799 23
 2732 03f6 9B68     		ldr	r3, [r3, #8]
 2733              		.loc 1 799 30
 2734 03f8 03F48073 		and	r3, r3, #256
 2735              		.loc 1 799 10
 2736 03fc 002B     		cmp	r3, #0
 2737 03fe 10D1     		bne	.L114
 800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SODDFRM;
 2738              		.loc 1 801 26
 2739 0400 3B69     		ldr	r3, [r7, #16]
ARM GAS  /tmp/cc3N4Hnz.s 			page 63


 2740 0402 5A01     		lsls	r2, r3, #5
 2741 0404 7B69     		ldr	r3, [r7, #20]
 2742 0406 1344     		add	r3, r3, r2
 2743 0408 03F53063 		add	r3, r3, #2816
 2744 040c 1B68     		ldr	r3, [r3]
 2745 040e 3A69     		ldr	r2, [r7, #16]
 2746 0410 5101     		lsls	r1, r2, #5
 2747 0412 7A69     		ldr	r2, [r7, #20]
 2748 0414 0A44     		add	r2, r2, r1
 2749 0416 02F53062 		add	r2, r2, #2816
 2750              		.loc 1 801 36
 2751 041a 43F00053 		orr	r3, r3, #536870912
 2752 041e 1360     		str	r3, [r2]
 2753 0420 0FE0     		b	.L113
 2754              	.L114:
 802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
 804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM;
 2755              		.loc 1 805 26
 2756 0422 3B69     		ldr	r3, [r7, #16]
 2757 0424 5A01     		lsls	r2, r3, #5
 2758 0426 7B69     		ldr	r3, [r7, #20]
 2759 0428 1344     		add	r3, r3, r2
 2760 042a 03F53063 		add	r3, r3, #2816
 2761 042e 1B68     		ldr	r3, [r3]
 2762 0430 3A69     		ldr	r2, [r7, #16]
 2763 0432 5101     		lsls	r1, r2, #5
 2764 0434 7A69     		ldr	r2, [r7, #20]
 2765 0436 0A44     		add	r2, r2, r1
 2766 0438 02F53062 		add	r2, r2, #2816
 2767              		.loc 1 805 36
 2768 043c 43F08053 		orr	r3, r3, #268435456
 2769 0440 1360     		str	r3, [r2]
 2770              	.L113:
 806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* EP enable */
 809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 2771              		.loc 1 809 22
 2772 0442 3B69     		ldr	r3, [r7, #16]
 2773 0444 5A01     		lsls	r2, r3, #5
 2774 0446 7B69     		ldr	r3, [r7, #20]
 2775 0448 1344     		add	r3, r3, r2
 2776 044a 03F53063 		add	r3, r3, #2816
 2777 044e 1B68     		ldr	r3, [r3]
 2778 0450 3A69     		ldr	r2, [r7, #16]
 2779 0452 5101     		lsls	r1, r2, #5
 2780 0454 7A69     		ldr	r2, [r7, #20]
 2781 0456 0A44     		add	r2, r2, r1
 2782 0458 02F53062 		add	r2, r2, #2816
 2783              		.loc 1 809 32
 2784 045c 43F00443 		orr	r3, r3, #-2080374784
 2785 0460 1360     		str	r3, [r2]
 2786              	.L106:
 810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  /tmp/cc3N4Hnz.s 			page 64


 812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 2787              		.loc 1 812 10
 2788 0462 0023     		movs	r3, #0
 813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 2789              		.loc 1 813 1
 2790 0464 1846     		mov	r0, r3
 2791 0466 1837     		adds	r7, r7, #24
 2792              		.cfi_def_cfa_offset 8
 2793 0468 BD46     		mov	sp, r7
 2794              		.cfi_def_cfa_register 13
 2795              		@ sp needed
 2796 046a 80BD     		pop	{r7, pc}
 2797              	.L119:
 2798              		.align	2
 2799              	.L118:
 2800 046c 0000F81F 		.word	536346624
 2801              		.cfi_endproc
 2802              	.LFE459:
 2804              		.section	.text.USB_EPStopXfer,"ax",%progbits
 2805              		.align	1
 2806              		.global	USB_EPStopXfer
 2807              		.syntax unified
 2808              		.thumb
 2809              		.thumb_func
 2811              	USB_EPStopXfer:
 2812              	.LFB460:
 814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * @brief  USB_EPStoptXfer  Stop transfer on an EP
 818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * @param  USBx  usb device instance
 819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * @param  ep pointer to endpoint structure
 820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * @retval HAL status
 821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    */
 822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStopXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 2813              		.loc 1 823 1
 2814              		.cfi_startproc
 2815              		@ args = 0, pretend = 0, frame = 32
 2816              		@ frame_needed = 1, uses_anonymous_args = 0
 2817              		@ link register save eliminated.
 2818 0000 80B4     		push	{r7}
 2819              		.cfi_def_cfa_offset 4
 2820              		.cfi_offset 7, -4
 2821 0002 89B0     		sub	sp, sp, #36
 2822              		.cfi_def_cfa_offset 40
 2823 0004 00AF     		add	r7, sp, #0
 2824              		.cfi_def_cfa_register 7
 2825 0006 7860     		str	r0, [r7, #4]
 2826 0008 3960     		str	r1, [r7]
 824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 2827              		.loc 1 824 17
 2828 000a 0023     		movs	r3, #0
 2829 000c 3B61     		str	r3, [r7, #16]
 825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t RegVal;
 826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 2830              		.loc 1 826 21
ARM GAS  /tmp/cc3N4Hnz.s 			page 65


 2831 000e 0023     		movs	r3, #0
 2832 0010 FB77     		strb	r3, [r7, #31]
 827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2833              		.loc 1 827 12
 2834 0012 7B68     		ldr	r3, [r7, #4]
 2835 0014 BB61     		str	r3, [r7, #24]
 828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t dma_enable = (USBx->GAHBCFG & USB_OTG_GAHBCFG_DMAEN) >> 0x5U;
 2836              		.loc 1 828 30
 2837 0016 7B68     		ldr	r3, [r7, #4]
 2838 0018 9B68     		ldr	r3, [r3, #8]
 2839              		.loc 1 828 65
 2840 001a 5B09     		lsrs	r3, r3, #5
 2841              		.loc 1 828 12
 2842 001c 03F00103 		and	r3, r3, #1
 2843 0020 7B61     		str	r3, [r7, #20]
 829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* IN endpoint */
 831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2844              		.loc 1 831 9
 2845 0022 3B68     		ldr	r3, [r7]
 2846 0024 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2847              		.loc 1 831 6
 2848 0026 012B     		cmp	r3, #1
 2849 0028 49D1     		bne	.L121
 832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* EP enable, IN data in FIFO */
 834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 2850              		.loc 1 834 11
 2851 002a 3B68     		ldr	r3, [r7]
 2852 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2853 002e 5A01     		lsls	r2, r3, #5
 2854 0030 BB69     		ldr	r3, [r7, #24]
 2855 0032 1344     		add	r3, r3, r2
 2856 0034 03F51063 		add	r3, r3, #2304
 2857              		.loc 1 834 29
 2858 0038 1B68     		ldr	r3, [r3]
 2859              		.loc 1 834 40
 2860 003a 03F00043 		and	r3, r3, #-2147483648
 2861              		.loc 1 834 8
 2862 003e B3F1004F 		cmp	r3, #-2147483648
 2863 0042 40F0D380 		bne	.L125
 835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_SNAK);
 2864              		.loc 1 836 7
 2865 0046 3B68     		ldr	r3, [r7]
 2866 0048 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2867              		.loc 1 836 25
 2868 004a 5A01     		lsls	r2, r3, #5
 2869 004c BB69     		ldr	r3, [r7, #24]
 2870 004e 1344     		add	r3, r3, r2
 2871 0050 03F51063 		add	r3, r3, #2304
 2872 0054 1B68     		ldr	r3, [r3]
 2873              		.loc 1 836 7
 2874 0056 3A68     		ldr	r2, [r7]
 2875 0058 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 2876              		.loc 1 836 25
 2877 005a 5101     		lsls	r1, r2, #5
ARM GAS  /tmp/cc3N4Hnz.s 			page 66


 2878 005c BA69     		ldr	r2, [r7, #24]
 2879 005e 0A44     		add	r2, r2, r1
 2880 0060 02F51062 		add	r2, r2, #2304
 2881              		.loc 1 836 35
 2882 0064 43F00063 		orr	r3, r3, #134217728
 2883 0068 1360     		str	r3, [r2]
 837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_EPDIS);
 2884              		.loc 1 837 7
 2885 006a 3B68     		ldr	r3, [r7]
 2886 006c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2887              		.loc 1 837 25
 2888 006e 5A01     		lsls	r2, r3, #5
 2889 0070 BB69     		ldr	r3, [r7, #24]
 2890 0072 1344     		add	r3, r3, r2
 2891 0074 03F51063 		add	r3, r3, #2304
 2892 0078 1B68     		ldr	r3, [r3]
 2893              		.loc 1 837 7
 2894 007a 3A68     		ldr	r2, [r7]
 2895 007c 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 2896              		.loc 1 837 25
 2897 007e 5101     		lsls	r1, r2, #5
 2898 0080 BA69     		ldr	r2, [r7, #24]
 2899 0082 0A44     		add	r2, r2, r1
 2900 0084 02F51062 		add	r2, r2, #2304
 2901              		.loc 1 837 35
 2902 0088 43F08043 		orr	r3, r3, #1073741824
 2903 008c 1360     		str	r3, [r2]
 2904              	.L124:
 838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       do
 840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         count++;
 2905              		.loc 1 841 14
 2906 008e 3B69     		ldr	r3, [r7, #16]
 2907 0090 0133     		adds	r3, r3, #1
 2908 0092 3B61     		str	r3, [r7, #16]
 842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if (count > 0xF0000U)
 2909              		.loc 1 843 19
 2910 0094 3B69     		ldr	r3, [r7, #16]
 2911              		.loc 1 843 12
 2912 0096 B3F5702F 		cmp	r3, #983040
 2913 009a 02D9     		bls	.L123
 844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
 845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           ret = HAL_ERROR;
 2914              		.loc 1 845 15
 2915 009c 0123     		movs	r3, #1
 2916 009e FB77     		strb	r3, [r7, #31]
 846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           break;
 2917              		.loc 1 846 11
 2918 00a0 A4E0     		b	.L125
 2919              	.L123:
 847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
 848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       } while (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA);
 2920              		.loc 1 848 18
 2921 00a2 3B68     		ldr	r3, [r7]
 2922 00a4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/cc3N4Hnz.s 			page 67


 2923 00a6 5A01     		lsls	r2, r3, #5
 2924 00a8 BB69     		ldr	r3, [r7, #24]
 2925 00aa 1344     		add	r3, r3, r2
 2926 00ac 03F51063 		add	r3, r3, #2304
 2927              		.loc 1 848 36
 2928 00b0 1B68     		ldr	r3, [r3]
 2929              		.loc 1 848 47
 2930 00b2 03F00043 		and	r3, r3, #-2147483648
 2931              		.loc 1 848 72
 2932 00b6 B3F1004F 		cmp	r3, #-2147483648
 2933 00ba E8D0     		beq	.L124
 2934 00bc 96E0     		b	.L125
 2935              	.L121:
 849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else /* OUT endpoint */
 852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx->GINTMSK &= ~USB_OTG_GINTMSK_GONAKEFFM;
 2936              		.loc 1 853 9
 2937 00be 7B68     		ldr	r3, [r7, #4]
 2938 00c0 9B69     		ldr	r3, [r3, #24]
 2939              		.loc 1 853 19
 2940 00c2 23F08002 		bic	r2, r3, #128
 2941 00c6 7B68     		ldr	r3, [r7, #4]
 2942 00c8 9A61     		str	r2, [r3, #24]
 854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx->GINTSTS & USB_OTG_GINTSTS_BOUTNAKEFF) == 0U)
 2943              		.loc 1 855 14
 2944 00ca 7B68     		ldr	r3, [r7, #4]
 2945 00cc 5B69     		ldr	r3, [r3, #20]
 2946              		.loc 1 855 24
 2947 00ce 03F08003 		and	r3, r3, #128
 2948              		.loc 1 855 8
 2949 00d2 002B     		cmp	r3, #0
 2950 00d4 09D1     		bne	.L126
 856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_DEVICE->DCTL |= USB_OTG_DCTL_SGONAK;
 2951              		.loc 1 857 18
 2952 00d6 BB69     		ldr	r3, [r7, #24]
 2953 00d8 03F50063 		add	r3, r3, #2048
 2954 00dc 5B68     		ldr	r3, [r3, #4]
 2955 00de BA69     		ldr	r2, [r7, #24]
 2956 00e0 02F50062 		add	r2, r2, #2048
 2957              		.loc 1 857 25
 2958 00e4 43F40073 		orr	r3, r3, #512
 2959 00e8 5360     		str	r3, [r2, #4]
 2960              	.L126:
 858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (dma_enable == 0U)
 2961              		.loc 1 860 8
 2962 00ea 7B69     		ldr	r3, [r7, #20]
 2963 00ec 002B     		cmp	r3, #0
 2964 00ee 13D1     		bne	.L127
 2965              	.L130:
 861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       do
ARM GAS  /tmp/cc3N4Hnz.s 			page 68


 863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         count++;
 2966              		.loc 1 864 14
 2967 00f0 3B69     		ldr	r3, [r7, #16]
 2968 00f2 0133     		adds	r3, r3, #1
 2969 00f4 3B61     		str	r3, [r7, #16]
 865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if (count > 0xF0000U)
 2970              		.loc 1 866 19
 2971 00f6 3B69     		ldr	r3, [r7, #16]
 2972              		.loc 1 866 12
 2973 00f8 B3F5702F 		cmp	r3, #983040
 2974 00fc 02D9     		bls	.L128
 867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
 868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           ret = HAL_ERROR;
 2975              		.loc 1 868 15
 2976 00fe 0123     		movs	r3, #1
 2977 0100 FB77     		strb	r3, [r7, #31]
 869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           break;
 2978              		.loc 1 869 11
 2979 0102 05E0     		b	.L129
 2980              	.L128:
 870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
 871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       } while (((USBx->GINTSTS & USB_OTG_GINTSTS_RXFLVL) & USB_OTG_GINTSTS_RXFLVL) != USB_OTG_GINTS
 2981              		.loc 1 871 22
 2982 0104 7B68     		ldr	r3, [r7, #4]
 2983 0106 5B69     		ldr	r3, [r3, #20]
 2984              		.loc 1 871 58
 2985 0108 03F01003 		and	r3, r3, #16
 2986              		.loc 1 871 84
 2987 010c 102B     		cmp	r3, #16
 2988 010e EFD1     		bne	.L130
 2989              	.L129:
 872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* POP the RX status register to generate the NAK Effective interrupt */
 874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       RegVal = USBx->GRXSTSP;
 2990              		.loc 1 874 20
 2991 0110 7B68     		ldr	r3, [r7, #4]
 2992 0112 1B6A     		ldr	r3, [r3, #32]
 2993              		.loc 1 874 14
 2994 0114 FB60     		str	r3, [r7, #12]
 875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       UNUSED(RegVal);
 2995              		.loc 1 875 7
 2996 0116 FB68     		ldr	r3, [r7, #12]
 2997              	.L127:
 876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Wait for Global NAK effective to be set */
 879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count = 0U;
 2998              		.loc 1 879 11
 2999 0118 0023     		movs	r3, #0
 3000 011a 3B61     		str	r3, [r7, #16]
 3001              	.L133:
 880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     do
 882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       count++;
ARM GAS  /tmp/cc3N4Hnz.s 			page 69


 3002              		.loc 1 883 12
 3003 011c 3B69     		ldr	r3, [r7, #16]
 3004 011e 0133     		adds	r3, r3, #1
 3005 0120 3B61     		str	r3, [r7, #16]
 884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (count > 0xF0000U)
 3006              		.loc 1 885 17
 3007 0122 3B69     		ldr	r3, [r7, #16]
 3008              		.loc 1 885 10
 3009 0124 B3F5702F 		cmp	r3, #983040
 3010 0128 02D9     		bls	.L131
 886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         ret = HAL_ERROR;
 3011              		.loc 1 887 13
 3012 012a 0123     		movs	r3, #1
 3013 012c FB77     		strb	r3, [r7, #31]
 888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         break;
 3014              		.loc 1 888 9
 3015 012e 05E0     		b	.L132
 3016              	.L131:
 889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     } while (((USBx->GINTSTS & USB_OTG_GINTSTS_BOUTNAKEFF)
 3017              		.loc 1 890 20
 3018 0130 7B68     		ldr	r3, [r7, #4]
 3019 0132 5B69     		ldr	r3, [r3, #20]
 891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****               & USB_OTG_GINTSTS_BOUTNAKEFF) != USB_OTG_GINTSTS_BOUTNAKEFF);
 3020              		.loc 1 891 15
 3021 0134 03F08003 		and	r3, r3, #128
 3022              		.loc 1 891 45
 3023 0138 802B     		cmp	r3, #128
 3024 013a EFD1     		bne	.L133
 3025              	.L132:
 892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_SNAK);
 3026              		.loc 1 893 5
 3027 013c 3B68     		ldr	r3, [r7]
 3028 013e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3029              		.loc 1 893 24
 3030 0140 5A01     		lsls	r2, r3, #5
 3031 0142 BB69     		ldr	r3, [r7, #24]
 3032 0144 1344     		add	r3, r3, r2
 3033 0146 03F53063 		add	r3, r3, #2816
 3034 014a 1B68     		ldr	r3, [r3]
 3035              		.loc 1 893 5
 3036 014c 3A68     		ldr	r2, [r7]
 3037 014e 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3038              		.loc 1 893 24
 3039 0150 5101     		lsls	r1, r2, #5
 3040 0152 BA69     		ldr	r2, [r7, #24]
 3041 0154 0A44     		add	r2, r2, r1
 3042 0156 02F53062 		add	r2, r2, #2816
 3043              		.loc 1 893 34
 3044 015a 43F00063 		orr	r3, r3, #134217728
 3045 015e 1360     		str	r3, [r2]
 894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_EPDIS);
 3046              		.loc 1 894 5
 3047 0160 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/cc3N4Hnz.s 			page 70


 3048 0162 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3049              		.loc 1 894 24
 3050 0164 5A01     		lsls	r2, r3, #5
 3051 0166 BB69     		ldr	r3, [r7, #24]
 3052 0168 1344     		add	r3, r3, r2
 3053 016a 03F53063 		add	r3, r3, #2816
 3054 016e 1B68     		ldr	r3, [r3]
 3055              		.loc 1 894 5
 3056 0170 3A68     		ldr	r2, [r7]
 3057 0172 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3058              		.loc 1 894 24
 3059 0174 5101     		lsls	r1, r2, #5
 3060 0176 BA69     		ldr	r2, [r7, #24]
 3061 0178 0A44     		add	r2, r2, r1
 3062 017a 02F53062 		add	r2, r2, #2816
 3063              		.loc 1 894 34
 3064 017e 43F08043 		orr	r3, r3, #1073741824
 3065 0182 1360     		str	r3, [r2]
 895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Wait for EP disable to take effect */
 897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count = 0U;
 3066              		.loc 1 897 11
 3067 0184 0023     		movs	r3, #0
 3068 0186 3B61     		str	r3, [r7, #16]
 3069              	.L136:
 898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     do
 900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       count++;
 3070              		.loc 1 901 12
 3071 0188 3B69     		ldr	r3, [r7, #16]
 3072 018a 0133     		adds	r3, r3, #1
 3073 018c 3B61     		str	r3, [r7, #16]
 902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (count > 0xF0000U)
 3074              		.loc 1 903 17
 3075 018e 3B69     		ldr	r3, [r7, #16]
 3076              		.loc 1 903 10
 3077 0190 B3F5702F 		cmp	r3, #983040
 3078 0194 02D9     		bls	.L134
 904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
 905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         ret = HAL_ERROR;
 3079              		.loc 1 905 13
 3080 0196 0123     		movs	r3, #1
 3081 0198 FB77     		strb	r3, [r7, #31]
 906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         break;
 3082              		.loc 1 906 9
 3083 019a 0BE0     		b	.L135
 3084              	.L134:
 907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     } while (((USBx_OUTEP(ep->num)->DOEPINT & USB_OTG_DOEPINT_EPDISD)
 3085              		.loc 1 908 16
 3086 019c 3B68     		ldr	r3, [r7]
 3087 019e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3088 01a0 5A01     		lsls	r2, r3, #5
 3089 01a2 BB69     		ldr	r3, [r7, #24]
 3090 01a4 1344     		add	r3, r3, r2
ARM GAS  /tmp/cc3N4Hnz.s 			page 71


 3091 01a6 03F53063 		add	r3, r3, #2816
 3092              		.loc 1 908 35
 3093 01aa 9B68     		ldr	r3, [r3, #8]
 909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****               & USB_OTG_DOEPINT_EPDISD) != USB_OTG_DOEPINT_EPDISD);
 3094              		.loc 1 909 15
 3095 01ac 03F00203 		and	r3, r3, #2
 3096              		.loc 1 909 41
 3097 01b0 022B     		cmp	r3, #2
 3098 01b2 E9D1     		bne	.L136
 3099              	.L135:
 910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Clear OUT EP disable interrupt */
 912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPINT |= USB_OTG_DOEPINT_EPDISD;
 3100              		.loc 1 912 5
 3101 01b4 3B68     		ldr	r3, [r7]
 3102 01b6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3103              		.loc 1 912 24
 3104 01b8 5A01     		lsls	r2, r3, #5
 3105 01ba BB69     		ldr	r3, [r7, #24]
 3106 01bc 1344     		add	r3, r3, r2
 3107 01be 03F53063 		add	r3, r3, #2816
 3108 01c2 9B68     		ldr	r3, [r3, #8]
 3109              		.loc 1 912 5
 3110 01c4 3A68     		ldr	r2, [r7]
 3111 01c6 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3112              		.loc 1 912 24
 3113 01c8 5101     		lsls	r1, r2, #5
 3114 01ca BA69     		ldr	r2, [r7, #24]
 3115 01cc 0A44     		add	r2, r2, r1
 3116 01ce 02F53062 		add	r2, r2, #2816
 3117              		.loc 1 912 34
 3118 01d2 43F00203 		orr	r3, r3, #2
 3119 01d6 9360     		str	r3, [r2, #8]
 913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Clear Global OUT NAK */
 915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_CGONAK;
 3120              		.loc 1 915 16
 3121 01d8 BB69     		ldr	r3, [r7, #24]
 3122 01da 03F50063 		add	r3, r3, #2048
 3123 01de 5B68     		ldr	r3, [r3, #4]
 3124 01e0 BA69     		ldr	r2, [r7, #24]
 3125 01e2 02F50062 		add	r2, r2, #2048
 3126              		.loc 1 915 23
 3127 01e6 43F48063 		orr	r3, r3, #1024
 3128 01ea 5360     		str	r3, [r2, #4]
 3129              	.L125:
 916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
 3130              		.loc 1 918 10
 3131 01ec FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 3132              		.loc 1 919 1
 3133 01ee 1846     		mov	r0, r3
 3134 01f0 2437     		adds	r7, r7, #36
 3135              		.cfi_def_cfa_offset 4
 3136 01f2 BD46     		mov	sp, r7
ARM GAS  /tmp/cc3N4Hnz.s 			page 72


 3137              		.cfi_def_cfa_register 13
 3138              		@ sp needed
 3139 01f4 5DF8047B 		ldr	r7, [sp], #4
 3140              		.cfi_restore 7
 3141              		.cfi_def_cfa_offset 0
 3142 01f8 7047     		bx	lr
 3143              		.cfi_endproc
 3144              	.LFE460:
 3146              		.section	.text.USB_EPSetStall,"ax",%progbits
 3147              		.align	1
 3148              		.global	USB_EPSetStall
 3149              		.syntax unified
 3150              		.thumb
 3151              		.thumb_func
 3153              	USB_EPSetStall:
 3154              	.LFB461:
 920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_EPSetStall : set a stall condition over an EP
 923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPSetStall(const USB_OTG_GlobalTypeDef *USBx, const USB_OTG_EPTypeDef *ep)
 928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 3155              		.loc 1 928 1
 3156              		.cfi_startproc
 3157              		@ args = 0, pretend = 0, frame = 16
 3158              		@ frame_needed = 1, uses_anonymous_args = 0
 3159              		@ link register save eliminated.
 3160 0000 80B4     		push	{r7}
 3161              		.cfi_def_cfa_offset 4
 3162              		.cfi_offset 7, -4
 3163 0002 85B0     		sub	sp, sp, #20
 3164              		.cfi_def_cfa_offset 24
 3165 0004 00AF     		add	r7, sp, #0
 3166              		.cfi_def_cfa_register 7
 3167 0006 7860     		str	r0, [r7, #4]
 3168 0008 3960     		str	r1, [r7]
 929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3169              		.loc 1 929 12
 3170 000a 7B68     		ldr	r3, [r7, #4]
 3171 000c FB60     		str	r3, [r7, #12]
 930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 3172              		.loc 1 930 32
 3173 000e 3B68     		ldr	r3, [r7]
 3174 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3175              		.loc 1 930 12
 3176 0012 BB60     		str	r3, [r7, #8]
 931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
 3177              		.loc 1 932 9
 3178 0014 3B68     		ldr	r3, [r7]
 3179 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3180              		.loc 1 932 6
 3181 0018 012B     		cmp	r3, #1
 3182 001a 2CD1     		bne	.L139
ARM GAS  /tmp/cc3N4Hnz.s 			page 73


 933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == 0U) && (epnum != 0U))
 3183              		.loc 1 934 11
 3184 001c BB68     		ldr	r3, [r7, #8]
 3185 001e 5A01     		lsls	r2, r3, #5
 3186 0020 FB68     		ldr	r3, [r7, #12]
 3187 0022 1344     		add	r3, r3, r2
 3188 0024 03F51063 		add	r3, r3, #2304
 3189              		.loc 1 934 27
 3190 0028 1B68     		ldr	r3, [r3]
 3191              		.loc 1 934 8
 3192 002a 002B     		cmp	r3, #0
 3193 002c 12DB     		blt	.L140
 3194              		.loc 1 934 69 discriminator 1
 3195 002e BB68     		ldr	r3, [r7, #8]
 3196 0030 002B     		cmp	r3, #0
 3197 0032 0FD0     		beq	.L140
 935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL &= ~(USB_OTG_DIEPCTL_EPDIS);
 3198              		.loc 1 936 23
 3199 0034 BB68     		ldr	r3, [r7, #8]
 3200 0036 5A01     		lsls	r2, r3, #5
 3201 0038 FB68     		ldr	r3, [r7, #12]
 3202 003a 1344     		add	r3, r3, r2
 3203 003c 03F51063 		add	r3, r3, #2304
 3204 0040 1B68     		ldr	r3, [r3]
 3205 0042 BA68     		ldr	r2, [r7, #8]
 3206 0044 5101     		lsls	r1, r2, #5
 3207 0046 FA68     		ldr	r2, [r7, #12]
 3208 0048 0A44     		add	r2, r2, r1
 3209 004a 02F51062 		add	r2, r2, #2304
 3210              		.loc 1 936 33
 3211 004e 23F08043 		bic	r3, r3, #1073741824
 3212 0052 1360     		str	r3, [r2]
 3213              	.L140:
 937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_STALL;
 3214              		.loc 1 938 21
 3215 0054 BB68     		ldr	r3, [r7, #8]
 3216 0056 5A01     		lsls	r2, r3, #5
 3217 0058 FB68     		ldr	r3, [r7, #12]
 3218 005a 1344     		add	r3, r3, r2
 3219 005c 03F51063 		add	r3, r3, #2304
 3220 0060 1B68     		ldr	r3, [r3]
 3221 0062 BA68     		ldr	r2, [r7, #8]
 3222 0064 5101     		lsls	r1, r2, #5
 3223 0066 FA68     		ldr	r2, [r7, #12]
 3224 0068 0A44     		add	r2, r2, r1
 3225 006a 02F51062 		add	r2, r2, #2304
 3226              		.loc 1 938 31
 3227 006e 43F40013 		orr	r3, r3, #2097152
 3228 0072 1360     		str	r3, [r2]
 3229 0074 2BE0     		b	.L141
 3230              	.L139:
 939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
ARM GAS  /tmp/cc3N4Hnz.s 			page 74


 942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == 0U) && (epnum != 0U))
 3231              		.loc 1 942 11
 3232 0076 BB68     		ldr	r3, [r7, #8]
 3233 0078 5A01     		lsls	r2, r3, #5
 3234 007a FB68     		ldr	r3, [r7, #12]
 3235 007c 1344     		add	r3, r3, r2
 3236 007e 03F53063 		add	r3, r3, #2816
 3237              		.loc 1 942 28
 3238 0082 1B68     		ldr	r3, [r3]
 3239              		.loc 1 942 8
 3240 0084 002B     		cmp	r3, #0
 3241 0086 12DB     		blt	.L142
 3242              		.loc 1 942 70 discriminator 1
 3243 0088 BB68     		ldr	r3, [r7, #8]
 3244 008a 002B     		cmp	r3, #0
 3245 008c 0FD0     		beq	.L142
 943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL &= ~(USB_OTG_DOEPCTL_EPDIS);
 3246              		.loc 1 944 24
 3247 008e BB68     		ldr	r3, [r7, #8]
 3248 0090 5A01     		lsls	r2, r3, #5
 3249 0092 FB68     		ldr	r3, [r7, #12]
 3250 0094 1344     		add	r3, r3, r2
 3251 0096 03F53063 		add	r3, r3, #2816
 3252 009a 1B68     		ldr	r3, [r3]
 3253 009c BA68     		ldr	r2, [r7, #8]
 3254 009e 5101     		lsls	r1, r2, #5
 3255 00a0 FA68     		ldr	r2, [r7, #12]
 3256 00a2 0A44     		add	r2, r2, r1
 3257 00a4 02F53062 		add	r2, r2, #2816
 3258              		.loc 1 944 34
 3259 00a8 23F08043 		bic	r3, r3, #1073741824
 3260 00ac 1360     		str	r3, [r2]
 3261              	.L142:
 945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_STALL;
 3262              		.loc 1 946 22
 3263 00ae BB68     		ldr	r3, [r7, #8]
 3264 00b0 5A01     		lsls	r2, r3, #5
 3265 00b2 FB68     		ldr	r3, [r7, #12]
 3266 00b4 1344     		add	r3, r3, r2
 3267 00b6 03F53063 		add	r3, r3, #2816
 3268 00ba 1B68     		ldr	r3, [r3]
 3269 00bc BA68     		ldr	r2, [r7, #8]
 3270 00be 5101     		lsls	r1, r2, #5
 3271 00c0 FA68     		ldr	r2, [r7, #12]
 3272 00c2 0A44     		add	r2, r2, r1
 3273 00c4 02F53062 		add	r2, r2, #2816
 3274              		.loc 1 946 32
 3275 00c8 43F40013 		orr	r3, r3, #2097152
 3276 00cc 1360     		str	r3, [r2]
 3277              	.L141:
 947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 3278              		.loc 1 949 10
 3279 00ce 0023     		movs	r3, #0
ARM GAS  /tmp/cc3N4Hnz.s 			page 75


 950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 3280              		.loc 1 950 1
 3281 00d0 1846     		mov	r0, r3
 3282 00d2 1437     		adds	r7, r7, #20
 3283              		.cfi_def_cfa_offset 4
 3284 00d4 BD46     		mov	sp, r7
 3285              		.cfi_def_cfa_register 13
 3286              		@ sp needed
 3287 00d6 5DF8047B 		ldr	r7, [sp], #4
 3288              		.cfi_restore 7
 3289              		.cfi_def_cfa_offset 0
 3290 00da 7047     		bx	lr
 3291              		.cfi_endproc
 3292              	.LFE461:
 3294              		.section	.text.USB_EPClearStall,"ax",%progbits
 3295              		.align	1
 3296              		.global	USB_EPClearStall
 3297              		.syntax unified
 3298              		.thumb
 3299              		.thumb_func
 3301              	USB_EPClearStall:
 3302              	.LFB462:
 951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_EPClearStall : Clear a stall condition over an EP
 954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPClearStall(const USB_OTG_GlobalTypeDef *USBx, const USB_OTG_EPTypeDef *ep)
 959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 3303              		.loc 1 959 1
 3304              		.cfi_startproc
 3305              		@ args = 0, pretend = 0, frame = 16
 3306              		@ frame_needed = 1, uses_anonymous_args = 0
 3307              		@ link register save eliminated.
 3308 0000 80B4     		push	{r7}
 3309              		.cfi_def_cfa_offset 4
 3310              		.cfi_offset 7, -4
 3311 0002 85B0     		sub	sp, sp, #20
 3312              		.cfi_def_cfa_offset 24
 3313 0004 00AF     		add	r7, sp, #0
 3314              		.cfi_def_cfa_register 7
 3315 0006 7860     		str	r0, [r7, #4]
 3316 0008 3960     		str	r1, [r7]
 960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3317              		.loc 1 960 12
 3318 000a 7B68     		ldr	r3, [r7, #4]
 3319 000c FB60     		str	r3, [r7, #12]
 961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 3320              		.loc 1 961 32
 3321 000e 3B68     		ldr	r3, [r7]
 3322 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3323              		.loc 1 961 12
 3324 0012 BB60     		str	r3, [r7, #8]
 962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ep->is_in == 1U)
ARM GAS  /tmp/cc3N4Hnz.s 			page 76


 3325              		.loc 1 963 9
 3326 0014 3B68     		ldr	r3, [r7]
 3327 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3328              		.loc 1 963 6
 3329 0018 012B     		cmp	r3, #1
 3330 001a 28D1     		bne	.L145
 964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~USB_OTG_DIEPCTL_STALL;
 3331              		.loc 1 965 21
 3332 001c BB68     		ldr	r3, [r7, #8]
 3333 001e 5A01     		lsls	r2, r3, #5
 3334 0020 FB68     		ldr	r3, [r7, #12]
 3335 0022 1344     		add	r3, r3, r2
 3336 0024 03F51063 		add	r3, r3, #2304
 3337 0028 1B68     		ldr	r3, [r3]
 3338 002a BA68     		ldr	r2, [r7, #8]
 3339 002c 5101     		lsls	r1, r2, #5
 3340 002e FA68     		ldr	r2, [r7, #12]
 3341 0030 0A44     		add	r2, r2, r1
 3342 0032 02F51062 		add	r2, r2, #2304
 3343              		.loc 1 965 31
 3344 0036 23F40013 		bic	r3, r3, #2097152
 3345 003a 1360     		str	r3, [r2]
 966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((ep->type == EP_TYPE_INTR) || (ep->type == EP_TYPE_BULK))
 3346              		.loc 1 966 12
 3347 003c 3B68     		ldr	r3, [r7]
 3348 003e 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 3349              		.loc 1 966 8
 3350 0040 032B     		cmp	r3, #3
 3351 0042 03D0     		beq	.L146
 3352              		.loc 1 966 42 discriminator 1
 3353 0044 3B68     		ldr	r3, [r7]
 3354 0046 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 3355              		.loc 1 966 36 discriminator 1
 3356 0048 022B     		cmp	r3, #2
 3357 004a 38D1     		bne	.L147
 3358              	.L146:
 967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 3359              		.loc 1 968 23
 3360 004c BB68     		ldr	r3, [r7, #8]
 3361 004e 5A01     		lsls	r2, r3, #5
 3362 0050 FB68     		ldr	r3, [r7, #12]
 3363 0052 1344     		add	r3, r3, r2
 3364 0054 03F51063 		add	r3, r3, #2304
 3365 0058 1B68     		ldr	r3, [r3]
 3366 005a BA68     		ldr	r2, [r7, #8]
 3367 005c 5101     		lsls	r1, r2, #5
 3368 005e FA68     		ldr	r2, [r7, #12]
 3369 0060 0A44     		add	r2, r2, r1
 3370 0062 02F51062 		add	r2, r2, #2304
 3371              		.loc 1 968 33
 3372 0066 43F08053 		orr	r3, r3, #268435456
 3373 006a 1360     		str	r3, [r2]
 3374 006c 27E0     		b	.L147
 3375              	.L145:
 969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
ARM GAS  /tmp/cc3N4Hnz.s 			page 77


 970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
 972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~USB_OTG_DOEPCTL_STALL;
 3376              		.loc 1 973 22
 3377 006e BB68     		ldr	r3, [r7, #8]
 3378 0070 5A01     		lsls	r2, r3, #5
 3379 0072 FB68     		ldr	r3, [r7, #12]
 3380 0074 1344     		add	r3, r3, r2
 3381 0076 03F53063 		add	r3, r3, #2816
 3382 007a 1B68     		ldr	r3, [r3]
 3383 007c BA68     		ldr	r2, [r7, #8]
 3384 007e 5101     		lsls	r1, r2, #5
 3385 0080 FA68     		ldr	r2, [r7, #12]
 3386 0082 0A44     		add	r2, r2, r1
 3387 0084 02F53062 		add	r2, r2, #2816
 3388              		.loc 1 973 32
 3389 0088 23F40013 		bic	r3, r3, #2097152
 3390 008c 1360     		str	r3, [r2]
 974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((ep->type == EP_TYPE_INTR) || (ep->type == EP_TYPE_BULK))
 3391              		.loc 1 974 12
 3392 008e 3B68     		ldr	r3, [r7]
 3393 0090 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 3394              		.loc 1 974 8
 3395 0092 032B     		cmp	r3, #3
 3396 0094 03D0     		beq	.L148
 3397              		.loc 1 974 42 discriminator 1
 3398 0096 3B68     		ldr	r3, [r7]
 3399 0098 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 3400              		.loc 1 974 36 discriminator 1
 3401 009a 022B     		cmp	r3, #2
 3402 009c 0FD1     		bne	.L147
 3403              	.L148:
 975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 3404              		.loc 1 976 24
 3405 009e BB68     		ldr	r3, [r7, #8]
 3406 00a0 5A01     		lsls	r2, r3, #5
 3407 00a2 FB68     		ldr	r3, [r7, #12]
 3408 00a4 1344     		add	r3, r3, r2
 3409 00a6 03F53063 		add	r3, r3, #2816
 3410 00aa 1B68     		ldr	r3, [r3]
 3411 00ac BA68     		ldr	r2, [r7, #8]
 3412 00ae 5101     		lsls	r1, r2, #5
 3413 00b0 FA68     		ldr	r2, [r7, #12]
 3414 00b2 0A44     		add	r2, r2, r1
 3415 00b4 02F53062 		add	r2, r2, #2816
 3416              		.loc 1 976 34
 3417 00b8 43F08053 		orr	r3, r3, #268435456
 3418 00bc 1360     		str	r3, [r2]
 3419              	.L147:
 977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
 978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
 979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 3420              		.loc 1 979 10
 3421 00be 0023     		movs	r3, #0
 980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
ARM GAS  /tmp/cc3N4Hnz.s 			page 78


 3422              		.loc 1 980 1
 3423 00c0 1846     		mov	r0, r3
 3424 00c2 1437     		adds	r7, r7, #20
 3425              		.cfi_def_cfa_offset 4
 3426 00c4 BD46     		mov	sp, r7
 3427              		.cfi_def_cfa_register 13
 3428              		@ sp needed
 3429 00c6 5DF8047B 		ldr	r7, [sp], #4
 3430              		.cfi_restore 7
 3431              		.cfi_def_cfa_offset 0
 3432 00ca 7047     		bx	lr
 3433              		.cfi_endproc
 3434              	.LFE462:
 3436              		.section	.text.USB_WritePacket,"ax",%progbits
 3437              		.align	1
 3438              		.global	USB_WritePacket
 3439              		.syntax unified
 3440              		.thumb
 3441              		.thumb_func
 3443              	USB_WritePacket:
 3444              	.LFB463:
 981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #endif /* defined (HAL_PCD_MODULE_ENABLED) */
 982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
 984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_WritePacket : Writes a packet into the Tx FIFO associated
 985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         with the EP/channel
 986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
 987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  src   pointer to source buffer
 988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ch_ep_num  endpoint or host channel number
 989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  len  Number of bytes to write
 990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
 991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
 992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_WritePacket(const USB_OTG_GlobalTypeDef *USBx, uint8_t *src,
 993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                   uint8_t ch_ep_num, uint16_t len)
 994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 3445              		.loc 1 994 1
 3446              		.cfi_startproc
 3447              		@ args = 0, pretend = 0, frame = 32
 3448              		@ frame_needed = 1, uses_anonymous_args = 0
 3449              		@ link register save eliminated.
 3450 0000 80B4     		push	{r7}
 3451              		.cfi_def_cfa_offset 4
 3452              		.cfi_offset 7, -4
 3453 0002 89B0     		sub	sp, sp, #36
 3454              		.cfi_def_cfa_offset 40
 3455 0004 00AF     		add	r7, sp, #0
 3456              		.cfi_def_cfa_register 7
 3457 0006 F860     		str	r0, [r7, #12]
 3458 0008 B960     		str	r1, [r7, #8]
 3459 000a 1146     		mov	r1, r2
 3460 000c 1A46     		mov	r2, r3
 3461 000e 0B46     		mov	r3, r1
 3462 0010 FB71     		strb	r3, [r7, #7]
 3463 0012 1346     		mov	r3, r2	@ movhi
 3464 0014 BB80     		strh	r3, [r7, #4]	@ movhi
 995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3465              		.loc 1 995 12
ARM GAS  /tmp/cc3N4Hnz.s 			page 79


 3466 0016 FB68     		ldr	r3, [r7, #12]
 3467 0018 7B61     		str	r3, [r7, #20]
 996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint8_t *pSrc = src;
 3468              		.loc 1 996 12
 3469 001a BB68     		ldr	r3, [r7, #8]
 3470 001c FB61     		str	r3, [r7, #28]
 997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t count32b;
 998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t i;
 999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   count32b = ((uint32_t)len + 3U) / 4U;
 3471              		.loc 1 1000 15
 3472 001e BB88     		ldrh	r3, [r7, #4]
 3473              		.loc 1 1000 29
 3474 0020 0333     		adds	r3, r3, #3
 3475              		.loc 1 1000 12
 3476 0022 9B08     		lsrs	r3, r3, #2
 3477 0024 3B61     		str	r3, [r7, #16]
1001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < count32b; i++)
 3478              		.loc 1 1001 10
 3479 0026 0023     		movs	r3, #0
 3480 0028 BB61     		str	r3, [r7, #24]
 3481              		.loc 1 1001 3
 3482 002a 18E0     		b	.L151
 3483              	.L152:
1002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DFIFO((uint32_t)ch_ep_num) = __UNALIGNED_UINT32_READ(pSrc);
 3484              		.loc 1 1003 5
 3485 002c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3486 002e 1A03     		lsls	r2, r3, #12
 3487 0030 7B69     		ldr	r3, [r7, #20]
 3488 0032 1344     		add	r3, r3, r2
 3489 0034 03F58053 		add	r3, r3, #4096
 3490 0038 1A46     		mov	r2, r3
 3491              		.loc 1 1003 39
 3492 003a FB69     		ldr	r3, [r7, #28]
 3493 003c 1B68     		ldr	r3, [r3]	@ unaligned
 3494              		.loc 1 1003 37
 3495 003e 1360     		str	r3, [r2]
1004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pSrc++;
 3496              		.loc 1 1004 9
 3497 0040 FB69     		ldr	r3, [r7, #28]
 3498 0042 0133     		adds	r3, r3, #1
 3499 0044 FB61     		str	r3, [r7, #28]
1005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pSrc++;
 3500              		.loc 1 1005 9
 3501 0046 FB69     		ldr	r3, [r7, #28]
 3502 0048 0133     		adds	r3, r3, #1
 3503 004a FB61     		str	r3, [r7, #28]
1006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pSrc++;
 3504              		.loc 1 1006 9
 3505 004c FB69     		ldr	r3, [r7, #28]
 3506 004e 0133     		adds	r3, r3, #1
 3507 0050 FB61     		str	r3, [r7, #28]
1007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pSrc++;
 3508              		.loc 1 1007 9
 3509 0052 FB69     		ldr	r3, [r7, #28]
 3510 0054 0133     		adds	r3, r3, #1
ARM GAS  /tmp/cc3N4Hnz.s 			page 80


 3511 0056 FB61     		str	r3, [r7, #28]
1001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 3512              		.loc 1 1001 31 discriminator 3
 3513 0058 BB69     		ldr	r3, [r7, #24]
 3514 005a 0133     		adds	r3, r3, #1
 3515 005c BB61     		str	r3, [r7, #24]
 3516              	.L151:
1001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 3517              		.loc 1 1001 18 discriminator 1
 3518 005e BA69     		ldr	r2, [r7, #24]
 3519 0060 3B69     		ldr	r3, [r7, #16]
 3520 0062 9A42     		cmp	r2, r3
 3521 0064 E2D3     		bcc	.L152
1008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 3522              		.loc 1 1010 10
 3523 0066 0023     		movs	r3, #0
1011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 3524              		.loc 1 1011 1
 3525 0068 1846     		mov	r0, r3
 3526 006a 2437     		adds	r7, r7, #36
 3527              		.cfi_def_cfa_offset 4
 3528 006c BD46     		mov	sp, r7
 3529              		.cfi_def_cfa_register 13
 3530              		@ sp needed
 3531 006e 5DF8047B 		ldr	r7, [sp], #4
 3532              		.cfi_restore 7
 3533              		.cfi_def_cfa_offset 0
 3534 0072 7047     		bx	lr
 3535              		.cfi_endproc
 3536              	.LFE463:
 3538              		.section	.text.USB_ReadPacket,"ax",%progbits
 3539              		.align	1
 3540              		.global	USB_ReadPacket
 3541              		.syntax unified
 3542              		.thumb
 3543              		.thumb_func
 3545              	USB_ReadPacket:
 3546              	.LFB464:
1012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ReadPacket : read a packet from the RX FIFO
1015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  dest  source pointer
1017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  len  Number of bytes to read
1018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval pointer to destination buffer
1019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** void *USB_ReadPacket(const USB_OTG_GlobalTypeDef *USBx, uint8_t *dest, uint16_t len)
1021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 3547              		.loc 1 1021 1
 3548              		.cfi_startproc
 3549              		@ args = 0, pretend = 0, frame = 40
 3550              		@ frame_needed = 1, uses_anonymous_args = 0
 3551              		@ link register save eliminated.
 3552 0000 80B4     		push	{r7}
 3553              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/cc3N4Hnz.s 			page 81


 3554              		.cfi_offset 7, -4
 3555 0002 8BB0     		sub	sp, sp, #44
 3556              		.cfi_def_cfa_offset 48
 3557 0004 00AF     		add	r7, sp, #0
 3558              		.cfi_def_cfa_register 7
 3559 0006 F860     		str	r0, [r7, #12]
 3560 0008 B960     		str	r1, [r7, #8]
 3561 000a 1346     		mov	r3, r2
 3562 000c FB80     		strh	r3, [r7, #6]	@ movhi
1022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3563              		.loc 1 1022 12
 3564 000e FB68     		ldr	r3, [r7, #12]
 3565 0010 BB61     		str	r3, [r7, #24]
1023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint8_t *pDest = dest;
 3566              		.loc 1 1023 12
 3567 0012 BB68     		ldr	r3, [r7, #8]
 3568 0014 7B62     		str	r3, [r7, #36]
1024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t pData;
1025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t i;
1026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t count32b = (uint32_t)len >> 2U;
 3569              		.loc 1 1026 37
 3570 0016 FB88     		ldrh	r3, [r7, #6]
 3571 0018 9B08     		lsrs	r3, r3, #2
 3572 001a 9BB2     		uxth	r3, r3
 3573              		.loc 1 1026 12
 3574 001c 7B61     		str	r3, [r7, #20]
1027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint16_t remaining_bytes = len % 4U;
 3575              		.loc 1 1027 12
 3576 001e FB88     		ldrh	r3, [r7, #6]	@ movhi
 3577 0020 03F00303 		and	r3, r3, #3
 3578 0024 FB83     		strh	r3, [r7, #30]	@ movhi
1028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < count32b; i++)
 3579              		.loc 1 1029 10
 3580 0026 0023     		movs	r3, #0
 3581 0028 3B62     		str	r3, [r7, #32]
 3582              		.loc 1 1029 3
 3583 002a 14E0     		b	.L155
 3584              	.L156:
1030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     __UNALIGNED_UINT32_WRITE(pDest, USBx_DFIFO(0U));
 3585              		.loc 1 1031 5
 3586 002c BB69     		ldr	r3, [r7, #24]
 3587 002e 03F58053 		add	r3, r3, #4096
 3588 0032 1A68     		ldr	r2, [r3]
 3589 0034 7B6A     		ldr	r3, [r7, #36]
 3590 0036 1A60     		str	r2, [r3]	@ unaligned
1032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pDest++;
 3591              		.loc 1 1032 10
 3592 0038 7B6A     		ldr	r3, [r7, #36]
 3593 003a 0133     		adds	r3, r3, #1
 3594 003c 7B62     		str	r3, [r7, #36]
1033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pDest++;
 3595              		.loc 1 1033 10
 3596 003e 7B6A     		ldr	r3, [r7, #36]
 3597 0040 0133     		adds	r3, r3, #1
 3598 0042 7B62     		str	r3, [r7, #36]
ARM GAS  /tmp/cc3N4Hnz.s 			page 82


1034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pDest++;
 3599              		.loc 1 1034 10
 3600 0044 7B6A     		ldr	r3, [r7, #36]
 3601 0046 0133     		adds	r3, r3, #1
 3602 0048 7B62     		str	r3, [r7, #36]
1035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     pDest++;
 3603              		.loc 1 1035 10
 3604 004a 7B6A     		ldr	r3, [r7, #36]
 3605 004c 0133     		adds	r3, r3, #1
 3606 004e 7B62     		str	r3, [r7, #36]
1029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 3607              		.loc 1 1029 31 discriminator 3
 3608 0050 3B6A     		ldr	r3, [r7, #32]
 3609 0052 0133     		adds	r3, r3, #1
 3610 0054 3B62     		str	r3, [r7, #32]
 3611              	.L155:
1029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 3612              		.loc 1 1029 18 discriminator 1
 3613 0056 3A6A     		ldr	r2, [r7, #32]
 3614 0058 7B69     		ldr	r3, [r7, #20]
 3615 005a 9A42     		cmp	r2, r3
 3616 005c E6D3     		bcc	.L156
1036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* When Number of data is not word aligned, read the remaining byte */
1039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (remaining_bytes != 0U)
 3617              		.loc 1 1039 6
 3618 005e FB8B     		ldrh	r3, [r7, #30]
 3619 0060 002B     		cmp	r3, #0
 3620 0062 1ED0     		beq	.L157
1040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     i = 0U;
 3621              		.loc 1 1041 7
 3622 0064 0023     		movs	r3, #0
 3623 0066 3B62     		str	r3, [r7, #32]
1042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     __UNALIGNED_UINT32_WRITE(&pData, USBx_DFIFO(0U));
 3624              		.loc 1 1042 5
 3625 0068 BB69     		ldr	r3, [r7, #24]
 3626 006a 03F58053 		add	r3, r3, #4096
 3627 006e 1A46     		mov	r2, r3
 3628 0070 07F11003 		add	r3, r7, #16
 3629 0074 1268     		ldr	r2, [r2]
 3630 0076 1A60     		str	r2, [r3]	@ unaligned
 3631              	.L158:
1043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     do
1045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       *(uint8_t *)pDest = (uint8_t)(pData >> (8U * (uint8_t)(i)));
 3632              		.loc 1 1046 43
 3633 0078 3A69     		ldr	r2, [r7, #16]
 3634              		.loc 1 1046 52
 3635 007a 3B6A     		ldr	r3, [r7, #32]
 3636 007c DBB2     		uxtb	r3, r3
 3637              		.loc 1 1046 50
 3638 007e DB00     		lsls	r3, r3, #3
 3639              		.loc 1 1046 43
 3640 0080 22FA03F3 		lsr	r3, r2, r3
ARM GAS  /tmp/cc3N4Hnz.s 			page 83


 3641              		.loc 1 1046 27
 3642 0084 DAB2     		uxtb	r2, r3
 3643              		.loc 1 1046 25
 3644 0086 7B6A     		ldr	r3, [r7, #36]
 3645 0088 1A70     		strb	r2, [r3]
1047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       i++;
 3646              		.loc 1 1047 8
 3647 008a 3B6A     		ldr	r3, [r7, #32]
 3648 008c 0133     		adds	r3, r3, #1
 3649 008e 3B62     		str	r3, [r7, #32]
1048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       pDest++;
 3650              		.loc 1 1048 12
 3651 0090 7B6A     		ldr	r3, [r7, #36]
 3652 0092 0133     		adds	r3, r3, #1
 3653 0094 7B62     		str	r3, [r7, #36]
1049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       remaining_bytes--;
 3654              		.loc 1 1049 22
 3655 0096 FB8B     		ldrh	r3, [r7, #30]
 3656 0098 013B     		subs	r3, r3, #1
 3657 009a FB83     		strh	r3, [r7, #30]	@ movhi
1050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     } while (remaining_bytes != 0U);
 3658              		.loc 1 1050 30 discriminator 1
 3659 009c FB8B     		ldrh	r3, [r7, #30]
 3660 009e 002B     		cmp	r3, #0
 3661 00a0 EAD1     		bne	.L158
 3662              	.L157:
1051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ((void *)pDest);
 3663              		.loc 1 1053 11
 3664 00a2 7B6A     		ldr	r3, [r7, #36]
1054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 3665              		.loc 1 1054 1
 3666 00a4 1846     		mov	r0, r3
 3667 00a6 2C37     		adds	r7, r7, #44
 3668              		.cfi_def_cfa_offset 4
 3669 00a8 BD46     		mov	sp, r7
 3670              		.cfi_def_cfa_register 13
 3671              		@ sp needed
 3672 00aa 5DF8047B 		ldr	r7, [sp], #4
 3673              		.cfi_restore 7
 3674              		.cfi_def_cfa_offset 0
 3675 00ae 7047     		bx	lr
 3676              		.cfi_endproc
 3677              	.LFE464:
 3679              		.section	.text.USB_StopDevice,"ax",%progbits
 3680              		.align	1
 3681              		.global	USB_StopDevice
 3682              		.syntax unified
 3683              		.thumb
 3684              		.thumb_func
 3686              	USB_StopDevice:
 3687              	.LFB465:
1055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_StopDevice : Stop the usb device mode
1058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
ARM GAS  /tmp/cc3N4Hnz.s 			page 84


1059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopDevice(USB_OTG_GlobalTypeDef *USBx)
1062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 3688              		.loc 1 1062 1
 3689              		.cfi_startproc
 3690              		@ args = 0, pretend = 0, frame = 24
 3691              		@ frame_needed = 1, uses_anonymous_args = 0
 3692 0000 80B5     		push	{r7, lr}
 3693              		.cfi_def_cfa_offset 8
 3694              		.cfi_offset 7, -8
 3695              		.cfi_offset 14, -4
 3696 0002 86B0     		sub	sp, sp, #24
 3697              		.cfi_def_cfa_offset 32
 3698 0004 00AF     		add	r7, sp, #0
 3699              		.cfi_def_cfa_register 7
 3700 0006 7860     		str	r0, [r7, #4]
1063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret;
1064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3701              		.loc 1 1064 12
 3702 0008 7B68     		ldr	r3, [r7, #4]
 3703 000a 3B61     		str	r3, [r7, #16]
1065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t i;
1066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear Pending interrupt */
1068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < 15U; i++)
 3704              		.loc 1 1068 10
 3705 000c 0023     		movs	r3, #0
 3706 000e 7B61     		str	r3, [r7, #20]
 3707              		.loc 1 1068 3
 3708 0010 16E0     		b	.L161
 3709              	.L162:
1069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT = 0xFB7FU;
 3710              		.loc 1 1070 5
 3711 0012 7B69     		ldr	r3, [r7, #20]
 3712 0014 5A01     		lsls	r2, r3, #5
 3713 0016 3B69     		ldr	r3, [r7, #16]
 3714 0018 1344     		add	r3, r3, r2
 3715 001a 03F51063 		add	r3, r3, #2304
 3716 001e 1A46     		mov	r2, r3
 3717              		.loc 1 1070 27
 3718 0020 4FF67F33 		movw	r3, #64383
 3719 0024 9360     		str	r3, [r2, #8]
1071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT = 0xFB7FU;
 3720              		.loc 1 1071 5
 3721 0026 7B69     		ldr	r3, [r7, #20]
 3722 0028 5A01     		lsls	r2, r3, #5
 3723 002a 3B69     		ldr	r3, [r7, #16]
 3724 002c 1344     		add	r3, r3, r2
 3725 002e 03F53063 		add	r3, r3, #2816
 3726 0032 1A46     		mov	r2, r3
 3727              		.loc 1 1071 28
 3728 0034 4FF67F33 		movw	r3, #64383
 3729 0038 9360     		str	r3, [r2, #8]
1068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 3730              		.loc 1 1068 26 discriminator 3
ARM GAS  /tmp/cc3N4Hnz.s 			page 85


 3731 003a 7B69     		ldr	r3, [r7, #20]
 3732 003c 0133     		adds	r3, r3, #1
 3733 003e 7B61     		str	r3, [r7, #20]
 3734              	.L161:
1068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 3735              		.loc 1 1068 18 discriminator 1
 3736 0040 7B69     		ldr	r3, [r7, #20]
 3737 0042 0E2B     		cmp	r3, #14
 3738 0044 E5D9     		bls	.L162
1072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear interrupt masks */
1075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK  = 0U;
 3739              		.loc 1 1075 3
 3740 0046 3B69     		ldr	r3, [r7, #16]
 3741 0048 03F50063 		add	r3, r3, #2048
 3742 004c 1A46     		mov	r2, r3
 3743              		.loc 1 1075 25
 3744 004e 0023     		movs	r3, #0
 3745 0050 1361     		str	r3, [r2, #16]
1076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK  = 0U;
 3746              		.loc 1 1076 3
 3747 0052 3B69     		ldr	r3, [r7, #16]
 3748 0054 03F50063 		add	r3, r3, #2048
 3749 0058 1A46     		mov	r2, r3
 3750              		.loc 1 1076 25
 3751 005a 0023     		movs	r3, #0
 3752 005c 5361     		str	r3, [r2, #20]
1077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 3753              		.loc 1 1077 3
 3754 005e 3B69     		ldr	r3, [r7, #16]
 3755 0060 03F50063 		add	r3, r3, #2048
 3756 0064 1A46     		mov	r2, r3
 3757              		.loc 1 1077 25
 3758 0066 0023     		movs	r3, #0
 3759 0068 D361     		str	r3, [r2, #28]
1078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Flush the FIFO */
1080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ret = USB_FlushRxFifo(USBx);
 3760              		.loc 1 1080 9
 3761 006a 7868     		ldr	r0, [r7, #4]
 3762 006c FFF7FEFF 		bl	USB_FlushRxFifo
 3763 0070 0346     		mov	r3, r0
 3764 0072 FB73     		strb	r3, [r7, #15]
1081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ret != HAL_OK)
 3765              		.loc 1 1081 6
 3766 0074 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3767 0076 002B     		cmp	r3, #0
 3768 0078 01D0     		beq	.L163
1082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     return ret;
 3769              		.loc 1 1083 12
 3770 007a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3771 007c 0BE0     		b	.L164
 3772              	.L163:
1084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  /tmp/cc3N4Hnz.s 			page 86


1086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   ret = USB_FlushTxFifo(USBx,  0x10U);
 3773              		.loc 1 1086 9
 3774 007e 1021     		movs	r1, #16
 3775 0080 7868     		ldr	r0, [r7, #4]
 3776 0082 FFF7FEFF 		bl	USB_FlushTxFifo
 3777 0086 0346     		mov	r3, r0
 3778 0088 FB73     		strb	r3, [r7, #15]
1087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (ret != HAL_OK)
 3779              		.loc 1 1087 6
 3780 008a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3781 008c 002B     		cmp	r3, #0
 3782 008e 01D0     		beq	.L165
1088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     return ret;
 3783              		.loc 1 1089 12
 3784 0090 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3785 0092 00E0     		b	.L164
 3786              	.L165:
1090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
 3787              		.loc 1 1092 10
 3788 0094 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3789              	.L164:
1093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 3790              		.loc 1 1093 1
 3791 0096 1846     		mov	r0, r3
 3792 0098 1837     		adds	r7, r7, #24
 3793              		.cfi_def_cfa_offset 8
 3794 009a BD46     		mov	sp, r7
 3795              		.cfi_def_cfa_register 13
 3796              		@ sp needed
 3797 009c 80BD     		pop	{r7, pc}
 3798              		.cfi_endproc
 3799              	.LFE465:
 3801              		.section	.text.USB_SetDevAddress,"ax",%progbits
 3802              		.align	1
 3803              		.global	USB_SetDevAddress
 3804              		.syntax unified
 3805              		.thumb
 3806              		.thumb_func
 3808              	USB_SetDevAddress:
 3809              	.LFB466:
1094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_SetDevAddress : Stop the usb device mode
1097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  address  new device address to be assigned
1099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetDevAddress(const USB_OTG_GlobalTypeDef *USBx, uint8_t address)
1103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 3810              		.loc 1 1103 1
 3811              		.cfi_startproc
 3812              		@ args = 0, pretend = 0, frame = 16
 3813              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /tmp/cc3N4Hnz.s 			page 87


 3814              		@ link register save eliminated.
 3815 0000 80B4     		push	{r7}
 3816              		.cfi_def_cfa_offset 4
 3817              		.cfi_offset 7, -4
 3818 0002 85B0     		sub	sp, sp, #20
 3819              		.cfi_def_cfa_offset 24
 3820 0004 00AF     		add	r7, sp, #0
 3821              		.cfi_def_cfa_register 7
 3822 0006 7860     		str	r0, [r7, #4]
 3823 0008 0B46     		mov	r3, r1
 3824 000a FB70     		strb	r3, [r7, #3]
1104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3825              		.loc 1 1104 12
 3826 000c 7B68     		ldr	r3, [r7, #4]
 3827 000e FB60     		str	r3, [r7, #12]
1105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCFG &= ~(USB_OTG_DCFG_DAD);
 3828              		.loc 1 1106 14
 3829 0010 FB68     		ldr	r3, [r7, #12]
 3830 0012 03F50063 		add	r3, r3, #2048
 3831 0016 1B68     		ldr	r3, [r3]
 3832 0018 FA68     		ldr	r2, [r7, #12]
 3833 001a 02F50062 		add	r2, r2, #2048
 3834              		.loc 1 1106 21
 3835 001e 23F4FE63 		bic	r3, r3, #2032
 3836 0022 1360     		str	r3, [r2]
1107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= ((uint32_t)address << 4) & USB_OTG_DCFG_DAD;
 3837              		.loc 1 1107 14
 3838 0024 FB68     		ldr	r3, [r7, #12]
 3839 0026 03F50063 		add	r3, r3, #2048
 3840 002a 1A68     		ldr	r2, [r3]
 3841              		.loc 1 1107 25
 3842 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3843              		.loc 1 1107 43
 3844 002e 1B01     		lsls	r3, r3, #4
 3845              		.loc 1 1107 49
 3846 0030 03F4FE63 		and	r3, r3, #2032
 3847              		.loc 1 1107 14
 3848 0034 F968     		ldr	r1, [r7, #12]
 3849 0036 01F50061 		add	r1, r1, #2048
 3850              		.loc 1 1107 21
 3851 003a 1343     		orrs	r3, r3, r2
 3852 003c 0B60     		str	r3, [r1]
1108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 3853              		.loc 1 1109 10
 3854 003e 0023     		movs	r3, #0
1110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 3855              		.loc 1 1110 1
 3856 0040 1846     		mov	r0, r3
 3857 0042 1437     		adds	r7, r7, #20
 3858              		.cfi_def_cfa_offset 4
 3859 0044 BD46     		mov	sp, r7
 3860              		.cfi_def_cfa_register 13
 3861              		@ sp needed
 3862 0046 5DF8047B 		ldr	r7, [sp], #4
 3863              		.cfi_restore 7
ARM GAS  /tmp/cc3N4Hnz.s 			page 88


 3864              		.cfi_def_cfa_offset 0
 3865 004a 7047     		bx	lr
 3866              		.cfi_endproc
 3867              	.LFE466:
 3869              		.section	.text.USB_DevConnect,"ax",%progbits
 3870              		.align	1
 3871              		.global	USB_DevConnect
 3872              		.syntax unified
 3873              		.thumb
 3874              		.thumb_func
 3876              	USB_DevConnect:
 3877              	.LFB467:
1111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DevConnect : Connect the USB device by enabling Rpu
1114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DevConnect(const USB_OTG_GlobalTypeDef *USBx)
1118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 3878              		.loc 1 1118 1
 3879              		.cfi_startproc
 3880              		@ args = 0, pretend = 0, frame = 16
 3881              		@ frame_needed = 1, uses_anonymous_args = 0
 3882              		@ link register save eliminated.
 3883 0000 80B4     		push	{r7}
 3884              		.cfi_def_cfa_offset 4
 3885              		.cfi_offset 7, -4
 3886 0002 85B0     		sub	sp, sp, #20
 3887              		.cfi_def_cfa_offset 24
 3888 0004 00AF     		add	r7, sp, #0
 3889              		.cfi_def_cfa_register 7
 3890 0006 7860     		str	r0, [r7, #4]
1119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3891              		.loc 1 1119 12
 3892 0008 7B68     		ldr	r3, [r7, #4]
 3893 000a FB60     		str	r3, [r7, #12]
1120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* In case phy is stopped, ensure to ungate and restore the phy CLK */
1122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_PCGCCTL &= ~(USB_OTG_PCGCCTL_STOPCLK | USB_OTG_PCGCCTL_GATECLK);
 3894              		.loc 1 1122 3
 3895 000c FB68     		ldr	r3, [r7, #12]
 3896 000e 03F56063 		add	r3, r3, #3584
 3897 0012 1B68     		ldr	r3, [r3]
 3898 0014 FA68     		ldr	r2, [r7, #12]
 3899 0016 02F56062 		add	r2, r2, #3584
 3900              		.loc 1 1122 16
 3901 001a 23F00303 		bic	r3, r3, #3
 3902 001e 1360     		str	r3, [r2]
1123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~USB_OTG_DCTL_SDIS;
 3903              		.loc 1 1124 14
 3904 0020 FB68     		ldr	r3, [r7, #12]
 3905 0022 03F50063 		add	r3, r3, #2048
 3906 0026 5B68     		ldr	r3, [r3, #4]
 3907 0028 FA68     		ldr	r2, [r7, #12]
 3908 002a 02F50062 		add	r2, r2, #2048
ARM GAS  /tmp/cc3N4Hnz.s 			page 89


 3909              		.loc 1 1124 21
 3910 002e 23F00203 		bic	r3, r3, #2
 3911 0032 5360     		str	r3, [r2, #4]
1125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 3912              		.loc 1 1126 10
 3913 0034 0023     		movs	r3, #0
1127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 3914              		.loc 1 1127 1
 3915 0036 1846     		mov	r0, r3
 3916 0038 1437     		adds	r7, r7, #20
 3917              		.cfi_def_cfa_offset 4
 3918 003a BD46     		mov	sp, r7
 3919              		.cfi_def_cfa_register 13
 3920              		@ sp needed
 3921 003c 5DF8047B 		ldr	r7, [sp], #4
 3922              		.cfi_restore 7
 3923              		.cfi_def_cfa_offset 0
 3924 0040 7047     		bx	lr
 3925              		.cfi_endproc
 3926              	.LFE467:
 3928              		.section	.text.USB_DevDisconnect,"ax",%progbits
 3929              		.align	1
 3930              		.global	USB_DevDisconnect
 3931              		.syntax unified
 3932              		.thumb
 3933              		.thumb_func
 3935              	USB_DevDisconnect:
 3936              	.LFB468:
1128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DevDisconnect : Disconnect the USB device by disabling Rpu
1131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DevDisconnect(const USB_OTG_GlobalTypeDef *USBx)
1135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 3937              		.loc 1 1135 1
 3938              		.cfi_startproc
 3939              		@ args = 0, pretend = 0, frame = 16
 3940              		@ frame_needed = 1, uses_anonymous_args = 0
 3941              		@ link register save eliminated.
 3942 0000 80B4     		push	{r7}
 3943              		.cfi_def_cfa_offset 4
 3944              		.cfi_offset 7, -4
 3945 0002 85B0     		sub	sp, sp, #20
 3946              		.cfi_def_cfa_offset 24
 3947 0004 00AF     		add	r7, sp, #0
 3948              		.cfi_def_cfa_register 7
 3949 0006 7860     		str	r0, [r7, #4]
1136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3950              		.loc 1 1136 12
 3951 0008 7B68     		ldr	r3, [r7, #4]
 3952 000a FB60     		str	r3, [r7, #12]
1137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* In case phy is stopped, ensure to ungate and restore the phy CLK */
1139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_PCGCCTL &= ~(USB_OTG_PCGCCTL_STOPCLK | USB_OTG_PCGCCTL_GATECLK);
ARM GAS  /tmp/cc3N4Hnz.s 			page 90


 3953              		.loc 1 1139 3
 3954 000c FB68     		ldr	r3, [r7, #12]
 3955 000e 03F56063 		add	r3, r3, #3584
 3956 0012 1B68     		ldr	r3, [r3]
 3957 0014 FA68     		ldr	r2, [r7, #12]
 3958 0016 02F56062 		add	r2, r2, #3584
 3959              		.loc 1 1139 16
 3960 001a 23F00303 		bic	r3, r3, #3
 3961 001e 1360     		str	r3, [r2]
1140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 3962              		.loc 1 1141 14
 3963 0020 FB68     		ldr	r3, [r7, #12]
 3964 0022 03F50063 		add	r3, r3, #2048
 3965 0026 5B68     		ldr	r3, [r3, #4]
 3966 0028 FA68     		ldr	r2, [r7, #12]
 3967 002a 02F50062 		add	r2, r2, #2048
 3968              		.loc 1 1141 21
 3969 002e 43F00203 		orr	r3, r3, #2
 3970 0032 5360     		str	r3, [r2, #4]
1142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 3971              		.loc 1 1143 10
 3972 0034 0023     		movs	r3, #0
1144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 3973              		.loc 1 1144 1
 3974 0036 1846     		mov	r0, r3
 3975 0038 1437     		adds	r7, r7, #20
 3976              		.cfi_def_cfa_offset 4
 3977 003a BD46     		mov	sp, r7
 3978              		.cfi_def_cfa_register 13
 3979              		@ sp needed
 3980 003c 5DF8047B 		ldr	r7, [sp], #4
 3981              		.cfi_restore 7
 3982              		.cfi_def_cfa_offset 0
 3983 0040 7047     		bx	lr
 3984              		.cfi_endproc
 3985              	.LFE468:
 3987              		.section	.text.USB_ReadInterrupts,"ax",%progbits
 3988              		.align	1
 3989              		.global	USB_ReadInterrupts
 3990              		.syntax unified
 3991              		.thumb
 3992              		.thumb_func
 3994              	USB_ReadInterrupts:
 3995              	.LFB469:
1145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ReadInterrupts: return the global USB interrupt status
1148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval USB Global Interrupt status
1150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_ReadInterrupts(USB_OTG_GlobalTypeDef const *USBx)
1152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 3996              		.loc 1 1152 1
 3997              		.cfi_startproc
 3998              		@ args = 0, pretend = 0, frame = 16
ARM GAS  /tmp/cc3N4Hnz.s 			page 91


 3999              		@ frame_needed = 1, uses_anonymous_args = 0
 4000              		@ link register save eliminated.
 4001 0000 80B4     		push	{r7}
 4002              		.cfi_def_cfa_offset 4
 4003              		.cfi_offset 7, -4
 4004 0002 85B0     		sub	sp, sp, #20
 4005              		.cfi_def_cfa_offset 24
 4006 0004 00AF     		add	r7, sp, #0
 4007              		.cfi_def_cfa_register 7
 4008 0006 7860     		str	r0, [r7, #4]
1153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t tmpreg;
1154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg = USBx->GINTSTS;
 4009              		.loc 1 1155 10
 4010 0008 7B68     		ldr	r3, [r7, #4]
 4011 000a 5B69     		ldr	r3, [r3, #20]
 4012 000c FB60     		str	r3, [r7, #12]
1156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg &= USBx->GINTMSK;
 4013              		.loc 1 1156 17
 4014 000e 7B68     		ldr	r3, [r7, #4]
 4015 0010 9B69     		ldr	r3, [r3, #24]
 4016              		.loc 1 1156 10
 4017 0012 FA68     		ldr	r2, [r7, #12]
 4018 0014 1340     		ands	r3, r3, r2
 4019 0016 FB60     		str	r3, [r7, #12]
1157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return tmpreg;
 4020              		.loc 1 1158 10
 4021 0018 FB68     		ldr	r3, [r7, #12]
1159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4022              		.loc 1 1159 1
 4023 001a 1846     		mov	r0, r3
 4024 001c 1437     		adds	r7, r7, #20
 4025              		.cfi_def_cfa_offset 4
 4026 001e BD46     		mov	sp, r7
 4027              		.cfi_def_cfa_register 13
 4028              		@ sp needed
 4029 0020 5DF8047B 		ldr	r7, [sp], #4
 4030              		.cfi_restore 7
 4031              		.cfi_def_cfa_offset 0
 4032 0024 7047     		bx	lr
 4033              		.cfi_endproc
 4034              	.LFE469:
 4036              		.section	.text.USB_ReadChInterrupts,"ax",%progbits
 4037              		.align	1
 4038              		.global	USB_ReadChInterrupts
 4039              		.syntax unified
 4040              		.thumb
 4041              		.thumb_func
 4043              	USB_ReadChInterrupts:
 4044              	.LFB470:
1160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ReadChInterrupts: return USB channel interrupt status
1163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  chnum Channel number
1165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval USB Channel Interrupt status
ARM GAS  /tmp/cc3N4Hnz.s 			page 92


1166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_ReadChInterrupts(const USB_OTG_GlobalTypeDef *USBx, uint8_t chnum)
1168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4045              		.loc 1 1168 1
 4046              		.cfi_startproc
 4047              		@ args = 0, pretend = 0, frame = 16
 4048              		@ frame_needed = 1, uses_anonymous_args = 0
 4049              		@ link register save eliminated.
 4050 0000 80B4     		push	{r7}
 4051              		.cfi_def_cfa_offset 4
 4052              		.cfi_offset 7, -4
 4053 0002 85B0     		sub	sp, sp, #20
 4054              		.cfi_def_cfa_offset 24
 4055 0004 00AF     		add	r7, sp, #0
 4056              		.cfi_def_cfa_register 7
 4057 0006 7860     		str	r0, [r7, #4]
 4058 0008 0B46     		mov	r3, r1
 4059 000a FB70     		strb	r3, [r7, #3]
1169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4060              		.loc 1 1169 12
 4061 000c 7B68     		ldr	r3, [r7, #4]
 4062 000e FB60     		str	r3, [r7, #12]
1170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t tmpreg;
1171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg = USBx_HC(chnum)->HCINT;
 4063              		.loc 1 1172 12
 4064 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4065 0012 5A01     		lsls	r2, r3, #5
 4066 0014 FB68     		ldr	r3, [r7, #12]
 4067 0016 1344     		add	r3, r3, r2
 4068 0018 03F5A063 		add	r3, r3, #1280
 4069              		.loc 1 1172 10
 4070 001c 9B68     		ldr	r3, [r3, #8]
 4071 001e BB60     		str	r3, [r7, #8]
1173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg &= USBx_HC(chnum)->HCINTMSK;
 4072              		.loc 1 1173 13
 4073 0020 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4074 0022 5A01     		lsls	r2, r3, #5
 4075 0024 FB68     		ldr	r3, [r7, #12]
 4076 0026 1344     		add	r3, r3, r2
 4077 0028 03F5A063 		add	r3, r3, #1280
 4078              		.loc 1 1173 27
 4079 002c DB68     		ldr	r3, [r3, #12]
 4080              		.loc 1 1173 10
 4081 002e BA68     		ldr	r2, [r7, #8]
 4082 0030 1340     		ands	r3, r3, r2
 4083 0032 BB60     		str	r3, [r7, #8]
1174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return tmpreg;
 4084              		.loc 1 1175 10
 4085 0034 BB68     		ldr	r3, [r7, #8]
1176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4086              		.loc 1 1176 1
 4087 0036 1846     		mov	r0, r3
 4088 0038 1437     		adds	r7, r7, #20
 4089              		.cfi_def_cfa_offset 4
 4090 003a BD46     		mov	sp, r7
ARM GAS  /tmp/cc3N4Hnz.s 			page 93


 4091              		.cfi_def_cfa_register 13
 4092              		@ sp needed
 4093 003c 5DF8047B 		ldr	r7, [sp], #4
 4094              		.cfi_restore 7
 4095              		.cfi_def_cfa_offset 0
 4096 0040 7047     		bx	lr
 4097              		.cfi_endproc
 4098              	.LFE470:
 4100              		.section	.text.USB_ReadDevAllOutEpInterrupt,"ax",%progbits
 4101              		.align	1
 4102              		.global	USB_ReadDevAllOutEpInterrupt
 4103              		.syntax unified
 4104              		.thumb
 4105              		.thumb_func
 4107              	USB_ReadDevAllOutEpInterrupt:
 4108              	.LFB471:
1177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ReadDevAllOutEpInterrupt: return the USB device OUT endpoints interrupt status
1180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval USB Device OUT EP interrupt status
1182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_ReadDevAllOutEpInterrupt(const USB_OTG_GlobalTypeDef *USBx)
1184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4109              		.loc 1 1184 1
 4110              		.cfi_startproc
 4111              		@ args = 0, pretend = 0, frame = 16
 4112              		@ frame_needed = 1, uses_anonymous_args = 0
 4113              		@ link register save eliminated.
 4114 0000 80B4     		push	{r7}
 4115              		.cfi_def_cfa_offset 4
 4116              		.cfi_offset 7, -4
 4117 0002 85B0     		sub	sp, sp, #20
 4118              		.cfi_def_cfa_offset 24
 4119 0004 00AF     		add	r7, sp, #0
 4120              		.cfi_def_cfa_register 7
 4121 0006 7860     		str	r0, [r7, #4]
1185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4122              		.loc 1 1185 12
 4123 0008 7B68     		ldr	r3, [r7, #4]
 4124 000a FB60     		str	r3, [r7, #12]
1186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t tmpreg;
1187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
 4125              		.loc 1 1188 13
 4126 000c FB68     		ldr	r3, [r7, #12]
 4127 000e 03F50063 		add	r3, r3, #2048
 4128              		.loc 1 1188 11
 4129 0012 9B69     		ldr	r3, [r3, #24]
 4130 0014 BB60     		str	r3, [r7, #8]
1189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
 4131              		.loc 1 1189 13
 4132 0016 FB68     		ldr	r3, [r7, #12]
 4133 0018 03F50063 		add	r3, r3, #2048
 4134              		.loc 1 1189 24
 4135 001c DB69     		ldr	r3, [r3, #28]
 4136              		.loc 1 1189 10
ARM GAS  /tmp/cc3N4Hnz.s 			page 94


 4137 001e BA68     		ldr	r2, [r7, #8]
 4138 0020 1340     		ands	r3, r3, r2
 4139 0022 BB60     		str	r3, [r7, #8]
1190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ((tmpreg & 0xffff0000U) >> 16);
 4140              		.loc 1 1191 34
 4141 0024 BB68     		ldr	r3, [r7, #8]
 4142 0026 1B0C     		lsrs	r3, r3, #16
1192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4143              		.loc 1 1192 1
 4144 0028 1846     		mov	r0, r3
 4145 002a 1437     		adds	r7, r7, #20
 4146              		.cfi_def_cfa_offset 4
 4147 002c BD46     		mov	sp, r7
 4148              		.cfi_def_cfa_register 13
 4149              		@ sp needed
 4150 002e 5DF8047B 		ldr	r7, [sp], #4
 4151              		.cfi_restore 7
 4152              		.cfi_def_cfa_offset 0
 4153 0032 7047     		bx	lr
 4154              		.cfi_endproc
 4155              	.LFE471:
 4157              		.section	.text.USB_ReadDevAllInEpInterrupt,"ax",%progbits
 4158              		.align	1
 4159              		.global	USB_ReadDevAllInEpInterrupt
 4160              		.syntax unified
 4161              		.thumb
 4162              		.thumb_func
 4164              	USB_ReadDevAllInEpInterrupt:
 4165              	.LFB472:
1193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ReadDevAllInEpInterrupt: return the USB device IN endpoints interrupt status
1196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval USB Device IN EP interrupt status
1198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_ReadDevAllInEpInterrupt(const USB_OTG_GlobalTypeDef *USBx)
1200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4166              		.loc 1 1200 1
 4167              		.cfi_startproc
 4168              		@ args = 0, pretend = 0, frame = 16
 4169              		@ frame_needed = 1, uses_anonymous_args = 0
 4170              		@ link register save eliminated.
 4171 0000 80B4     		push	{r7}
 4172              		.cfi_def_cfa_offset 4
 4173              		.cfi_offset 7, -4
 4174 0002 85B0     		sub	sp, sp, #20
 4175              		.cfi_def_cfa_offset 24
 4176 0004 00AF     		add	r7, sp, #0
 4177              		.cfi_def_cfa_register 7
 4178 0006 7860     		str	r0, [r7, #4]
1201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4179              		.loc 1 1201 12
 4180 0008 7B68     		ldr	r3, [r7, #4]
 4181 000a FB60     		str	r3, [r7, #12]
1202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t tmpreg;
1203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  /tmp/cc3N4Hnz.s 			page 95


1204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
 4182              		.loc 1 1204 13
 4183 000c FB68     		ldr	r3, [r7, #12]
 4184 000e 03F50063 		add	r3, r3, #2048
 4185              		.loc 1 1204 11
 4186 0012 9B69     		ldr	r3, [r3, #24]
 4187 0014 BB60     		str	r3, [r7, #8]
1205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
 4188              		.loc 1 1205 13
 4189 0016 FB68     		ldr	r3, [r7, #12]
 4190 0018 03F50063 		add	r3, r3, #2048
 4191              		.loc 1 1205 24
 4192 001c DB69     		ldr	r3, [r3, #28]
 4193              		.loc 1 1205 10
 4194 001e BA68     		ldr	r2, [r7, #8]
 4195 0020 1340     		ands	r3, r3, r2
 4196 0022 BB60     		str	r3, [r7, #8]
1206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ((tmpreg & 0xFFFFU));
 4197              		.loc 1 1207 19
 4198 0024 BB68     		ldr	r3, [r7, #8]
 4199 0026 9BB2     		uxth	r3, r3
1208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4200              		.loc 1 1208 1
 4201 0028 1846     		mov	r0, r3
 4202 002a 1437     		adds	r7, r7, #20
 4203              		.cfi_def_cfa_offset 4
 4204 002c BD46     		mov	sp, r7
 4205              		.cfi_def_cfa_register 13
 4206              		@ sp needed
 4207 002e 5DF8047B 		ldr	r7, [sp], #4
 4208              		.cfi_restore 7
 4209              		.cfi_def_cfa_offset 0
 4210 0032 7047     		bx	lr
 4211              		.cfi_endproc
 4212              	.LFE472:
 4214              		.section	.text.USB_ReadDevOutEPInterrupt,"ax",%progbits
 4215              		.align	1
 4216              		.global	USB_ReadDevOutEPInterrupt
 4217              		.syntax unified
 4218              		.thumb
 4219              		.thumb_func
 4221              	USB_ReadDevOutEPInterrupt:
 4222              	.LFB473:
1209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Returns Device OUT EP Interrupt register
1212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  epnum  endpoint number
1214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval Device OUT EP Interrupt register
1216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_ReadDevOutEPInterrupt(const USB_OTG_GlobalTypeDef *USBx, uint8_t epnum)
1218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4223              		.loc 1 1218 1
 4224              		.cfi_startproc
 4225              		@ args = 0, pretend = 0, frame = 16
ARM GAS  /tmp/cc3N4Hnz.s 			page 96


 4226              		@ frame_needed = 1, uses_anonymous_args = 0
 4227              		@ link register save eliminated.
 4228 0000 80B4     		push	{r7}
 4229              		.cfi_def_cfa_offset 4
 4230              		.cfi_offset 7, -4
 4231 0002 85B0     		sub	sp, sp, #20
 4232              		.cfi_def_cfa_offset 24
 4233 0004 00AF     		add	r7, sp, #0
 4234              		.cfi_def_cfa_register 7
 4235 0006 7860     		str	r0, [r7, #4]
 4236 0008 0B46     		mov	r3, r1
 4237 000a FB70     		strb	r3, [r7, #3]
1219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4238              		.loc 1 1219 12
 4239 000c 7B68     		ldr	r3, [r7, #4]
 4240 000e FB60     		str	r3, [r7, #12]
1220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t tmpreg;
1221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg  = USBx_OUTEP((uint32_t)epnum)->DOEPINT;
 4241              		.loc 1 1222 13
 4242 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4243 0012 5A01     		lsls	r2, r3, #5
 4244 0014 FB68     		ldr	r3, [r7, #12]
 4245 0016 1344     		add	r3, r3, r2
 4246 0018 03F53063 		add	r3, r3, #2816
 4247              		.loc 1 1222 11
 4248 001c 9B68     		ldr	r3, [r3, #8]
 4249 001e BB60     		str	r3, [r7, #8]
1223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DOEPMSK;
 4250              		.loc 1 1223 13
 4251 0020 FB68     		ldr	r3, [r7, #12]
 4252 0022 03F50063 		add	r3, r3, #2048
 4253              		.loc 1 1223 24
 4254 0026 5B69     		ldr	r3, [r3, #20]
 4255              		.loc 1 1223 10
 4256 0028 BA68     		ldr	r2, [r7, #8]
 4257 002a 1340     		ands	r3, r3, r2
 4258 002c BB60     		str	r3, [r7, #8]
1224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return tmpreg;
 4259              		.loc 1 1225 10
 4260 002e BB68     		ldr	r3, [r7, #8]
1226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4261              		.loc 1 1226 1
 4262 0030 1846     		mov	r0, r3
 4263 0032 1437     		adds	r7, r7, #20
 4264              		.cfi_def_cfa_offset 4
 4265 0034 BD46     		mov	sp, r7
 4266              		.cfi_def_cfa_register 13
 4267              		@ sp needed
 4268 0036 5DF8047B 		ldr	r7, [sp], #4
 4269              		.cfi_restore 7
 4270              		.cfi_def_cfa_offset 0
 4271 003a 7047     		bx	lr
 4272              		.cfi_endproc
 4273              	.LFE473:
 4275              		.section	.text.USB_ReadDevInEPInterrupt,"ax",%progbits
ARM GAS  /tmp/cc3N4Hnz.s 			page 97


 4276              		.align	1
 4277              		.global	USB_ReadDevInEPInterrupt
 4278              		.syntax unified
 4279              		.thumb
 4280              		.thumb_func
 4282              	USB_ReadDevInEPInterrupt:
 4283              	.LFB474:
1227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Returns Device IN EP Interrupt register
1230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  epnum  endpoint number
1232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval Device IN EP Interrupt register
1234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_ReadDevInEPInterrupt(const USB_OTG_GlobalTypeDef *USBx, uint8_t epnum)
1236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4284              		.loc 1 1236 1
 4285              		.cfi_startproc
 4286              		@ args = 0, pretend = 0, frame = 24
 4287              		@ frame_needed = 1, uses_anonymous_args = 0
 4288              		@ link register save eliminated.
 4289 0000 80B4     		push	{r7}
 4290              		.cfi_def_cfa_offset 4
 4291              		.cfi_offset 7, -4
 4292 0002 87B0     		sub	sp, sp, #28
 4293              		.cfi_def_cfa_offset 32
 4294 0004 00AF     		add	r7, sp, #0
 4295              		.cfi_def_cfa_register 7
 4296 0006 7860     		str	r0, [r7, #4]
 4297 0008 0B46     		mov	r3, r1
 4298 000a FB70     		strb	r3, [r7, #3]
1237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4299              		.loc 1 1237 12
 4300 000c 7B68     		ldr	r3, [r7, #4]
 4301 000e 7B61     		str	r3, [r7, #20]
1238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t tmpreg;
1239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t msk;
1240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t emp;
1241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   msk = USBx_DEVICE->DIEPMSK;
 4302              		.loc 1 1242 9
 4303 0010 7B69     		ldr	r3, [r7, #20]
 4304 0012 03F50063 		add	r3, r3, #2048
 4305              		.loc 1 1242 7
 4306 0016 1B69     		ldr	r3, [r3, #16]
 4307 0018 3B61     		str	r3, [r7, #16]
1243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   emp = USBx_DEVICE->DIEPEMPMSK;
 4308              		.loc 1 1243 9
 4309 001a 7B69     		ldr	r3, [r7, #20]
 4310 001c 03F50063 		add	r3, r3, #2048
 4311              		.loc 1 1243 7
 4312 0020 5B6B     		ldr	r3, [r3, #52]
 4313 0022 FB60     		str	r3, [r7, #12]
1244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   msk |= ((emp >> (epnum & EP_ADDR_MSK)) & 0x1U) << 7;
 4314              		.loc 1 1244 26
 4315 0024 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
ARM GAS  /tmp/cc3N4Hnz.s 			page 98


 4316 0026 03F00F03 		and	r3, r3, #15
 4317              		.loc 1 1244 16
 4318 002a FA68     		ldr	r2, [r7, #12]
 4319 002c 22FA03F3 		lsr	r3, r2, r3
 4320              		.loc 1 1244 50
 4321 0030 DB01     		lsls	r3, r3, #7
 4322 0032 DBB2     		uxtb	r3, r3
 4323              		.loc 1 1244 7
 4324 0034 3A69     		ldr	r2, [r7, #16]
 4325 0036 1343     		orrs	r3, r3, r2
 4326 0038 3B61     		str	r3, [r7, #16]
1245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg = USBx_INEP((uint32_t)epnum)->DIEPINT & msk;
 4327              		.loc 1 1245 12
 4328 003a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4329 003c 5A01     		lsls	r2, r3, #5
 4330 003e 7B69     		ldr	r3, [r7, #20]
 4331 0040 1344     		add	r3, r3, r2
 4332 0042 03F51063 		add	r3, r3, #2304
 4333              		.loc 1 1245 38
 4334 0046 9B68     		ldr	r3, [r3, #8]
 4335              		.loc 1 1245 10
 4336 0048 3A69     		ldr	r2, [r7, #16]
 4337 004a 1340     		ands	r3, r3, r2
 4338 004c BB60     		str	r3, [r7, #8]
1246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return tmpreg;
 4339              		.loc 1 1247 10
 4340 004e BB68     		ldr	r3, [r7, #8]
1248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4341              		.loc 1 1248 1
 4342 0050 1846     		mov	r0, r3
 4343 0052 1C37     		adds	r7, r7, #28
 4344              		.cfi_def_cfa_offset 4
 4345 0054 BD46     		mov	sp, r7
 4346              		.cfi_def_cfa_register 13
 4347              		@ sp needed
 4348 0056 5DF8047B 		ldr	r7, [sp], #4
 4349              		.cfi_restore 7
 4350              		.cfi_def_cfa_offset 0
 4351 005a 7047     		bx	lr
 4352              		.cfi_endproc
 4353              	.LFE474:
 4355              		.section	.text.USB_ClearInterrupts,"ax",%progbits
 4356              		.align	1
 4357              		.global	USB_ClearInterrupts
 4358              		.syntax unified
 4359              		.thumb
 4360              		.thumb_func
 4362              	USB_ClearInterrupts:
 4363              	.LFB475:
1249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ClearInterrupts: clear a USB interrupt
1252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  interrupt  flag
1254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval None
1255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
ARM GAS  /tmp/cc3N4Hnz.s 			page 99


1256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** void  USB_ClearInterrupts(USB_OTG_GlobalTypeDef *USBx, uint32_t interrupt)
1257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4364              		.loc 1 1257 1
 4365              		.cfi_startproc
 4366              		@ args = 0, pretend = 0, frame = 8
 4367              		@ frame_needed = 1, uses_anonymous_args = 0
 4368              		@ link register save eliminated.
 4369 0000 80B4     		push	{r7}
 4370              		.cfi_def_cfa_offset 4
 4371              		.cfi_offset 7, -4
 4372 0002 83B0     		sub	sp, sp, #12
 4373              		.cfi_def_cfa_offset 16
 4374 0004 00AF     		add	r7, sp, #0
 4375              		.cfi_def_cfa_register 7
 4376 0006 7860     		str	r0, [r7, #4]
 4377 0008 3960     		str	r1, [r7]
1258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTSTS &= interrupt;
 4378              		.loc 1 1258 7
 4379 000a 7B68     		ldr	r3, [r7, #4]
 4380 000c 5A69     		ldr	r2, [r3, #20]
 4381              		.loc 1 1258 17
 4382 000e 3B68     		ldr	r3, [r7]
 4383 0010 1A40     		ands	r2, r2, r3
 4384 0012 7B68     		ldr	r3, [r7, #4]
 4385 0014 5A61     		str	r2, [r3, #20]
1259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4386              		.loc 1 1259 1
 4387 0016 00BF     		nop
 4388 0018 0C37     		adds	r7, r7, #12
 4389              		.cfi_def_cfa_offset 4
 4390 001a BD46     		mov	sp, r7
 4391              		.cfi_def_cfa_register 13
 4392              		@ sp needed
 4393 001c 5DF8047B 		ldr	r7, [sp], #4
 4394              		.cfi_restore 7
 4395              		.cfi_def_cfa_offset 0
 4396 0020 7047     		bx	lr
 4397              		.cfi_endproc
 4398              	.LFE475:
 4400              		.section	.text.USB_GetMode,"ax",%progbits
 4401              		.align	1
 4402              		.global	USB_GetMode
 4403              		.syntax unified
 4404              		.thumb
 4405              		.thumb_func
 4407              	USB_GetMode:
 4408              	.LFB476:
1260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Returns USB core mode
1263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval return core mode : Host or Device
1265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
1266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           1 : Host
1267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           0 : Device
1268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_GetMode(const USB_OTG_GlobalTypeDef *USBx)
ARM GAS  /tmp/cc3N4Hnz.s 			page 100


1270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4409              		.loc 1 1270 1
 4410              		.cfi_startproc
 4411              		@ args = 0, pretend = 0, frame = 8
 4412              		@ frame_needed = 1, uses_anonymous_args = 0
 4413              		@ link register save eliminated.
 4414 0000 80B4     		push	{r7}
 4415              		.cfi_def_cfa_offset 4
 4416              		.cfi_offset 7, -4
 4417 0002 83B0     		sub	sp, sp, #12
 4418              		.cfi_def_cfa_offset 16
 4419 0004 00AF     		add	r7, sp, #0
 4420              		.cfi_def_cfa_register 7
 4421 0006 7860     		str	r0, [r7, #4]
1271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ((USBx->GINTSTS) & 0x1U);
 4422              		.loc 1 1271 16
 4423 0008 7B68     		ldr	r3, [r7, #4]
 4424 000a 5B69     		ldr	r3, [r3, #20]
 4425              		.loc 1 1271 27
 4426 000c 03F00103 		and	r3, r3, #1
1272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4427              		.loc 1 1272 1
 4428 0010 1846     		mov	r0, r3
 4429 0012 0C37     		adds	r7, r7, #12
 4430              		.cfi_def_cfa_offset 4
 4431 0014 BD46     		mov	sp, r7
 4432              		.cfi_def_cfa_register 13
 4433              		@ sp needed
 4434 0016 5DF8047B 		ldr	r7, [sp], #4
 4435              		.cfi_restore 7
 4436              		.cfi_def_cfa_offset 0
 4437 001a 7047     		bx	lr
 4438              		.cfi_endproc
 4439              	.LFE476:
 4441              		.section	.text.USB_ActivateSetup,"ax",%progbits
 4442              		.align	1
 4443              		.global	USB_ActivateSetup
 4444              		.syntax unified
 4445              		.thumb
 4446              		.thumb_func
 4448              	USB_ActivateSetup:
 4449              	.LFB477:
1273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Activate EP0 for Setup transactions
1276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateSetup(const USB_OTG_GlobalTypeDef *USBx)
1280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4450              		.loc 1 1280 1
 4451              		.cfi_startproc
 4452              		@ args = 0, pretend = 0, frame = 16
 4453              		@ frame_needed = 1, uses_anonymous_args = 0
 4454              		@ link register save eliminated.
 4455 0000 80B4     		push	{r7}
 4456              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/cc3N4Hnz.s 			page 101


 4457              		.cfi_offset 7, -4
 4458 0002 85B0     		sub	sp, sp, #20
 4459              		.cfi_def_cfa_offset 24
 4460 0004 00AF     		add	r7, sp, #0
 4461              		.cfi_def_cfa_register 7
 4462 0006 7860     		str	r0, [r7, #4]
1281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4463              		.loc 1 1281 12
 4464 0008 7B68     		ldr	r3, [r7, #4]
 4465 000a FB60     		str	r3, [r7, #12]
1282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Set the MPS of the IN EP0 to 64 bytes */
1284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_INEP(0U)->DIEPCTL &= ~USB_OTG_DIEPCTL_MPSIZ;
 4466              		.loc 1 1284 16
 4467 000c FB68     		ldr	r3, [r7, #12]
 4468 000e 03F51063 		add	r3, r3, #2304
 4469 0012 1B68     		ldr	r3, [r3]
 4470 0014 FA68     		ldr	r2, [r7, #12]
 4471 0016 02F51062 		add	r2, r2, #2304
 4472              		.loc 1 1284 26
 4473 001a 23F4FF63 		bic	r3, r3, #2040
 4474 001e 23F00703 		bic	r3, r3, #7
 4475 0022 1360     		str	r3, [r2]
1285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_CGINAK;
 4476              		.loc 1 1286 14
 4477 0024 FB68     		ldr	r3, [r7, #12]
 4478 0026 03F50063 		add	r3, r3, #2048
 4479 002a 5B68     		ldr	r3, [r3, #4]
 4480 002c FA68     		ldr	r2, [r7, #12]
 4481 002e 02F50062 		add	r2, r2, #2048
 4482              		.loc 1 1286 21
 4483 0032 43F48073 		orr	r3, r3, #256
 4484 0036 5360     		str	r3, [r2, #4]
1287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 4485              		.loc 1 1288 10
 4486 0038 0023     		movs	r3, #0
1289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4487              		.loc 1 1289 1
 4488 003a 1846     		mov	r0, r3
 4489 003c 1437     		adds	r7, r7, #20
 4490              		.cfi_def_cfa_offset 4
 4491 003e BD46     		mov	sp, r7
 4492              		.cfi_def_cfa_register 13
 4493              		@ sp needed
 4494 0040 5DF8047B 		ldr	r7, [sp], #4
 4495              		.cfi_restore 7
 4496              		.cfi_def_cfa_offset 0
 4497 0044 7047     		bx	lr
 4498              		.cfi_endproc
 4499              	.LFE477:
 4501              		.section	.text.USB_EP0_OutStart,"ax",%progbits
 4502              		.align	1
 4503              		.global	USB_EP0_OutStart
 4504              		.syntax unified
 4505              		.thumb
ARM GAS  /tmp/cc3N4Hnz.s 			page 102


 4506              		.thumb_func
 4508              	USB_EP0_OutStart:
 4509              	.LFB478:
1290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Prepare the EP0 to start the first control setup
1293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  psetup  pointer to setup packet
1295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0_OutStart(const USB_OTG_GlobalTypeDef *USBx, const uint8_t *psetup)
1298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4510              		.loc 1 1298 1
 4511              		.cfi_startproc
 4512              		@ args = 0, pretend = 0, frame = 16
 4513              		@ frame_needed = 1, uses_anonymous_args = 0
 4514              		@ link register save eliminated.
 4515 0000 80B4     		push	{r7}
 4516              		.cfi_def_cfa_offset 4
 4517              		.cfi_offset 7, -4
 4518 0002 85B0     		sub	sp, sp, #20
 4519              		.cfi_def_cfa_offset 24
 4520 0004 00AF     		add	r7, sp, #0
 4521              		.cfi_def_cfa_register 7
 4522 0006 7860     		str	r0, [r7, #4]
 4523 0008 3960     		str	r1, [r7]
1299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4524              		.loc 1 1299 12
 4525 000a 7B68     		ldr	r3, [r7, #4]
 4526 000c FB60     		str	r3, [r7, #12]
1300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t gSNPSiD = *(__IO const uint32_t *)(&USBx->CID + 0x1U);
 4527              		.loc 1 1300 47
 4528 000e 7B68     		ldr	r3, [r7, #4]
 4529 0010 3C33     		adds	r3, r3, #60
 4530              		.loc 1 1300 23
 4531 0012 0433     		adds	r3, r3, #4
 4532              		.loc 1 1300 12
 4533 0014 1B68     		ldr	r3, [r3]
 4534 0016 BB60     		str	r3, [r7, #8]
1301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(psetup);
1302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (gSNPSiD > USB_OTG_CORE_ID_300A)
 4535              		.loc 1 1303 6
 4536 0018 BB68     		ldr	r3, [r7, #8]
 4537 001a 1C4A     		ldr	r2, .L192
 4538 001c 9342     		cmp	r3, r2
 4539 001e 0AD9     		bls	.L190
1304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_OUTEP(0U)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 4540              		.loc 1 1305 10
 4541 0020 FB68     		ldr	r3, [r7, #12]
 4542 0022 03F53063 		add	r3, r3, #2816
 4543              		.loc 1 1305 24
 4544 0026 1B68     		ldr	r3, [r3]
 4545              		.loc 1 1305 34
 4546 0028 03F00043 		and	r3, r3, #-2147483648
 4547              		.loc 1 1305 8
ARM GAS  /tmp/cc3N4Hnz.s 			page 103


 4548 002c B3F1004F 		cmp	r3, #-2147483648
 4549 0030 01D1     		bne	.L190
1306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_OK;
 4550              		.loc 1 1307 14
 4551 0032 0023     		movs	r3, #0
 4552 0034 24E0     		b	.L191
 4553              	.L190:
1308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ = 0U;
 4554              		.loc 1 1311 3
 4555 0036 FB68     		ldr	r3, [r7, #12]
 4556 0038 03F53063 		add	r3, r3, #2816
 4557 003c 1A46     		mov	r2, r3
 4558              		.loc 1 1311 28
 4559 003e 0023     		movs	r3, #0
 4560 0040 1361     		str	r3, [r2, #16]
1312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1UL << 19));
 4561              		.loc 1 1312 17
 4562 0042 FB68     		ldr	r3, [r7, #12]
 4563 0044 03F53063 		add	r3, r3, #2816
 4564 0048 1B69     		ldr	r3, [r3, #16]
 4565 004a FA68     		ldr	r2, [r7, #12]
 4566 004c 02F53062 		add	r2, r2, #2816
 4567              		.loc 1 1312 28
 4568 0050 43F40023 		orr	r3, r3, #524288
 4569 0054 1361     		str	r3, [r2, #16]
1313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (3U * 8U);
 4570              		.loc 1 1313 17
 4571 0056 FB68     		ldr	r3, [r7, #12]
 4572 0058 03F53063 		add	r3, r3, #2816
 4573 005c 1B69     		ldr	r3, [r3, #16]
 4574 005e FA68     		ldr	r2, [r7, #12]
 4575 0060 02F53062 		add	r2, r2, #2816
 4576              		.loc 1 1313 28
 4577 0064 43F01803 		orr	r3, r3, #24
 4578 0068 1361     		str	r3, [r2, #16]
1314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |=  USB_OTG_DOEPTSIZ_STUPCNT;
 4579              		.loc 1 1314 17
 4580 006a FB68     		ldr	r3, [r7, #12]
 4581 006c 03F53063 		add	r3, r3, #2816
 4582 0070 1B69     		ldr	r3, [r3, #16]
 4583 0072 FA68     		ldr	r2, [r7, #12]
 4584 0074 02F53062 		add	r2, r2, #2816
 4585              		.loc 1 1314 28
 4586 0078 43F0C043 		orr	r3, r3, #1610612736
 4587 007c 1361     		str	r3, [r2, #16]
1315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 4588              		.loc 1 1316 10
 4589 007e 0023     		movs	r3, #0
 4590              	.L191:
1317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4591              		.loc 1 1317 1
 4592 0080 1846     		mov	r0, r3
ARM GAS  /tmp/cc3N4Hnz.s 			page 104


 4593 0082 1437     		adds	r7, r7, #20
 4594              		.cfi_def_cfa_offset 4
 4595 0084 BD46     		mov	sp, r7
 4596              		.cfi_def_cfa_register 13
 4597              		@ sp needed
 4598 0086 5DF8047B 		ldr	r7, [sp], #4
 4599              		.cfi_restore 7
 4600              		.cfi_def_cfa_offset 0
 4601 008a 7047     		bx	lr
 4602              	.L193:
 4603              		.align	2
 4604              	.L192:
 4605 008c 0A30544F 		.word	1330917386
 4606              		.cfi_endproc
 4607              	.LFE478:
 4609              		.section	.text.USB_CoreReset,"ax",%progbits
 4610              		.align	1
 4611              		.syntax unified
 4612              		.thumb
 4613              		.thumb_func
 4615              	USB_CoreReset:
 4616              	.LFB479:
1318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Reset the USB Core (needed after USB clock settings change)
1321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx)
1325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4617              		.loc 1 1325 1
 4618              		.cfi_startproc
 4619              		@ args = 0, pretend = 0, frame = 16
 4620              		@ frame_needed = 1, uses_anonymous_args = 0
 4621              		@ link register save eliminated.
 4622 0000 80B4     		push	{r7}
 4623              		.cfi_def_cfa_offset 4
 4624              		.cfi_offset 7, -4
 4625 0002 85B0     		sub	sp, sp, #20
 4626              		.cfi_def_cfa_offset 24
 4627 0004 00AF     		add	r7, sp, #0
 4628              		.cfi_def_cfa_register 7
 4629 0006 7860     		str	r0, [r7, #4]
1326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 4630              		.loc 1 1326 17
 4631 0008 0023     		movs	r3, #0
 4632 000a FB60     		str	r3, [r7, #12]
 4633              	.L197:
1327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
1329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   do
1330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count++;
 4634              		.loc 1 1331 10
 4635 000c FB68     		ldr	r3, [r7, #12]
 4636 000e 0133     		adds	r3, r3, #1
 4637 0010 FB60     		str	r3, [r7, #12]
ARM GAS  /tmp/cc3N4Hnz.s 			page 105


1332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (count > HAL_USB_TIMEOUT)
 4638              		.loc 1 1333 15
 4639 0012 FB68     		ldr	r3, [r7, #12]
 4640              		.loc 1 1333 8
 4641 0014 B3F1706F 		cmp	r3, #251658240
 4642 0018 01D9     		bls	.L195
1334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_TIMEOUT;
 4643              		.loc 1 1335 14
 4644 001a 0323     		movs	r3, #3
 4645 001c 22E0     		b	.L196
 4646              	.L195:
1336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 4647              		.loc 1 1337 17
 4648 001e 7B68     		ldr	r3, [r7, #4]
 4649 0020 1B69     		ldr	r3, [r3, #16]
 4650              		.loc 1 1337 53
 4651 0022 002B     		cmp	r3, #0
 4652 0024 F2DA     		bge	.L197
1338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   count = 10U;
 4653              		.loc 1 1339 9
 4654 0026 0A23     		movs	r3, #10
 4655 0028 FB60     		str	r3, [r7, #12]
1340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* few cycles before setting core reset */
1342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   while (count > 0U)
 4656              		.loc 1 1342 9
 4657 002a 02E0     		b	.L198
 4658              	.L199:
1343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count--;
 4659              		.loc 1 1344 10
 4660 002c FB68     		ldr	r3, [r7, #12]
 4661 002e 013B     		subs	r3, r3, #1
 4662 0030 FB60     		str	r3, [r7, #12]
 4663              	.L198:
1342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 4664              		.loc 1 1342 16
 4665 0032 FB68     		ldr	r3, [r7, #12]
 4666 0034 002B     		cmp	r3, #0
 4667 0036 F9D1     		bne	.L199
1345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Core Soft Reset */
1348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GRSTCTL |= USB_OTG_GRSTCTL_CSRST;
 4668              		.loc 1 1348 7
 4669 0038 7B68     		ldr	r3, [r7, #4]
 4670 003a 1B69     		ldr	r3, [r3, #16]
 4671              		.loc 1 1348 17
 4672 003c 43F00102 		orr	r2, r3, #1
 4673 0040 7B68     		ldr	r3, [r7, #4]
 4674 0042 1A61     		str	r2, [r3, #16]
 4675              	.L201:
1349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  /tmp/cc3N4Hnz.s 			page 106


1350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   do
1351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     count++;
 4676              		.loc 1 1352 10
 4677 0044 FB68     		ldr	r3, [r7, #12]
 4678 0046 0133     		adds	r3, r3, #1
 4679 0048 FB60     		str	r3, [r7, #12]
1353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (count > HAL_USB_TIMEOUT)
 4680              		.loc 1 1354 15
 4681 004a FB68     		ldr	r3, [r7, #12]
 4682              		.loc 1 1354 8
 4683 004c B3F1706F 		cmp	r3, #251658240
 4684 0050 01D9     		bls	.L200
1355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       return HAL_TIMEOUT;
 4685              		.loc 1 1356 14
 4686 0052 0323     		movs	r3, #3
 4687 0054 06E0     		b	.L196
 4688              	.L200:
1357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   } while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_CSRST) == USB_OTG_GRSTCTL_CSRST);
 4689              		.loc 1 1358 17
 4690 0056 7B68     		ldr	r3, [r7, #4]
 4691 0058 1B69     		ldr	r3, [r3, #16]
 4692              		.loc 1 1358 27
 4693 005a 03F00103 		and	r3, r3, #1
 4694              		.loc 1 1358 52
 4695 005e 012B     		cmp	r3, #1
 4696 0060 F0D0     		beq	.L201
1359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 4697              		.loc 1 1360 10
 4698 0062 0023     		movs	r3, #0
 4699              	.L196:
1361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4700              		.loc 1 1361 1
 4701 0064 1846     		mov	r0, r3
 4702 0066 1437     		adds	r7, r7, #20
 4703              		.cfi_def_cfa_offset 4
 4704 0068 BD46     		mov	sp, r7
 4705              		.cfi_def_cfa_register 13
 4706              		@ sp needed
 4707 006a 5DF8047B 		ldr	r7, [sp], #4
 4708              		.cfi_restore 7
 4709              		.cfi_def_cfa_offset 0
 4710 006e 7047     		bx	lr
 4711              		.cfi_endproc
 4712              	.LFE479:
 4714              		.section	.text.USB_HostInit,"ax",%progbits
 4715              		.align	1
 4716              		.global	USB_HostInit
 4717              		.syntax unified
 4718              		.thumb
 4719              		.thumb_func
 4721              	USB_HostInit:
 4722              	.LFB480:
ARM GAS  /tmp/cc3N4Hnz.s 			page 107


1362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_HostInit : Initializes the USB OTG controller registers
1365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         for Host mode
1366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
1368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
1369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_HostInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
1372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4723              		.loc 1 1372 1
 4724              		.cfi_startproc
 4725              		@ args = 20, pretend = 16, frame = 24
 4726              		@ frame_needed = 1, uses_anonymous_args = 0
 4727 0000 84B0     		sub	sp, sp, #16
 4728              		.cfi_def_cfa_offset 16
 4729 0002 80B5     		push	{r7, lr}
 4730              		.cfi_def_cfa_offset 24
 4731              		.cfi_offset 7, -24
 4732              		.cfi_offset 14, -20
 4733 0004 86B0     		sub	sp, sp, #24
 4734              		.cfi_def_cfa_offset 48
 4735 0006 00AF     		add	r7, sp, #0
 4736              		.cfi_def_cfa_register 7
 4737 0008 7860     		str	r0, [r7, #4]
 4738 000a 07F12400 		add	r0, r7, #36
 4739 000e 80E80E00 		stm	r0, {r1, r2, r3}
1373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 4740              		.loc 1 1373 21
 4741 0012 0023     		movs	r3, #0
 4742 0014 FB75     		strb	r3, [r7, #23]
1374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4743              		.loc 1 1374 12
 4744 0016 7B68     		ldr	r3, [r7, #4]
 4745 0018 FB60     		str	r3, [r7, #12]
1375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t i;
1376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Restart the Phy Clock */
1378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 4746              		.loc 1 1378 3
 4747 001a FB68     		ldr	r3, [r7, #12]
 4748 001c 03F56063 		add	r3, r3, #3584
 4749 0020 1A46     		mov	r2, r3
 4750              		.loc 1 1378 16
 4751 0022 0023     		movs	r3, #0
 4752 0024 1360     		str	r3, [r2]
1379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Disable VBUS sensing */
1381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GCCFG &= ~(USB_OTG_GCCFG_VBDEN);
 4753              		.loc 1 1381 7
 4754 0026 7B68     		ldr	r3, [r7, #4]
 4755 0028 9B6B     		ldr	r3, [r3, #56]
 4756              		.loc 1 1381 15
 4757 002a 23F40012 		bic	r2, r3, #2097152
 4758 002e 7B68     		ldr	r3, [r7, #4]
 4759 0030 9A63     		str	r2, [r3, #56]
ARM GAS  /tmp/cc3N4Hnz.s 			page 108


1382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Disable Battery chargin detector */
1384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GCCFG &= ~(USB_OTG_GCCFG_BCDEN);
 4760              		.loc 1 1384 7
 4761 0032 7B68     		ldr	r3, [r7, #4]
 4762 0034 9B6B     		ldr	r3, [r3, #56]
 4763              		.loc 1 1384 15
 4764 0036 23F40032 		bic	r2, r3, #131072
 4765 003a 7B68     		ldr	r3, [r7, #4]
 4766 003c 9A63     		str	r2, [r3, #56]
1385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Set default Max speed support */
1387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);
 4767              		.loc 1 1387 12
 4768 003e FB68     		ldr	r3, [r7, #12]
 4769 0040 03F58063 		add	r3, r3, #1024
 4770 0044 1B68     		ldr	r3, [r3]
 4771 0046 FA68     		ldr	r2, [r7, #12]
 4772 0048 02F58062 		add	r2, r2, #1024
 4773              		.loc 1 1387 19
 4774 004c 23F00403 		bic	r3, r3, #4
 4775 0050 1360     		str	r3, [r2]
1388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Make sure the FIFOs are flushed. */
1390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 4776              		.loc 1 1390 7
 4777 0052 1021     		movs	r1, #16
 4778 0054 7868     		ldr	r0, [r7, #4]
 4779 0056 FFF7FEFF 		bl	USB_FlushTxFifo
 4780 005a 0346     		mov	r3, r0
 4781              		.loc 1 1390 6 discriminator 1
 4782 005c 002B     		cmp	r3, #0
 4783 005e 01D0     		beq	.L203
1391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     ret = HAL_ERROR;
 4784              		.loc 1 1392 9
 4785 0060 0123     		movs	r3, #1
 4786 0062 FB75     		strb	r3, [r7, #23]
 4787              	.L203:
1393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 4788              		.loc 1 1395 7
 4789 0064 7868     		ldr	r0, [r7, #4]
 4790 0066 FFF7FEFF 		bl	USB_FlushRxFifo
 4791 006a 0346     		mov	r3, r0
 4792              		.loc 1 1395 6 discriminator 1
 4793 006c 002B     		cmp	r3, #0
 4794 006e 01D0     		beq	.L204
1396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     ret = HAL_ERROR;
 4795              		.loc 1 1397 9
 4796 0070 0123     		movs	r3, #1
 4797 0072 FB75     		strb	r3, [r7, #23]
 4798              	.L204:
1398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  /tmp/cc3N4Hnz.s 			page 109


1400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear all pending HC Interrupts */
1401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i < cfg.Host_channels; i++)
 4799              		.loc 1 1401 10
 4800 0074 0023     		movs	r3, #0
 4801 0076 3B61     		str	r3, [r7, #16]
 4802              		.loc 1 1401 3
 4803 0078 15E0     		b	.L205
 4804              	.L206:
1402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC(i)->HCINT = CLEAR_INTERRUPT_MASK;
 4805              		.loc 1 1403 5
 4806 007a 3B69     		ldr	r3, [r7, #16]
 4807 007c 5A01     		lsls	r2, r3, #5
 4808 007e FB68     		ldr	r3, [r7, #12]
 4809 0080 1344     		add	r3, r3, r2
 4810 0082 03F5A063 		add	r3, r3, #1280
 4811 0086 1A46     		mov	r2, r3
 4812              		.loc 1 1403 23
 4813 0088 4FF0FF33 		mov	r3, #-1
 4814 008c 9360     		str	r3, [r2, #8]
1404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC(i)->HCINTMSK = 0U;
 4815              		.loc 1 1404 5
 4816 008e 3B69     		ldr	r3, [r7, #16]
 4817 0090 5A01     		lsls	r2, r3, #5
 4818 0092 FB68     		ldr	r3, [r7, #12]
 4819 0094 1344     		add	r3, r3, r2
 4820 0096 03F5A063 		add	r3, r3, #1280
 4821 009a 1A46     		mov	r2, r3
 4822              		.loc 1 1404 26
 4823 009c 0023     		movs	r3, #0
 4824 009e D360     		str	r3, [r2, #12]
1401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 4825              		.loc 1 1401 40 discriminator 3
 4826 00a0 3B69     		ldr	r3, [r7, #16]
 4827 00a2 0133     		adds	r3, r3, #1
 4828 00a4 3B61     		str	r3, [r7, #16]
 4829              	.L205:
1401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 4830              		.loc 1 1401 23 discriminator 1
 4831 00a6 97F82530 		ldrb	r3, [r7, #37]	@ zero_extendqisi2
 4832 00aa 1A46     		mov	r2, r3
1401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 4833              		.loc 1 1401 18 discriminator 1
 4834 00ac 3B69     		ldr	r3, [r7, #16]
 4835 00ae 9342     		cmp	r3, r2
 4836 00b0 E3D3     		bcc	.L206
1405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Disable all interrupts. */
1408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 4837              		.loc 1 1408 17
 4838 00b2 7B68     		ldr	r3, [r7, #4]
 4839 00b4 0022     		movs	r2, #0
 4840 00b6 9A61     		str	r2, [r3, #24]
1409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear any pending interrupts */
1411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTSTS = CLEAR_INTERRUPT_MASK;
ARM GAS  /tmp/cc3N4Hnz.s 			page 110


 4841              		.loc 1 1411 17
 4842 00b8 7B68     		ldr	r3, [r7, #4]
 4843 00ba 4FF0FF32 		mov	r2, #-1
 4844 00be 5A61     		str	r2, [r3, #20]
1412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* set Rx FIFO size */
1414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GRXFSIZ  = 0x80U;
 4845              		.loc 1 1414 18
 4846 00c0 7B68     		ldr	r3, [r7, #4]
 4847 00c2 8022     		movs	r2, #128
 4848 00c4 5A62     		str	r2, [r3, #36]
1415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t)(((0x60UL << 16) & USB_OTG_NPTXFD) | 0x80U);
 4849              		.loc 1 1415 28
 4850 00c6 7B68     		ldr	r3, [r7, #4]
 4851 00c8 0C4A     		ldr	r2, .L208
 4852 00ca 9A62     		str	r2, [r3, #40]
1416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->HPTXFSIZ = (uint32_t)(((0x40UL << 16)& USB_OTG_HPTXFSIZ_PTXFD) | 0xE0U);
 4853              		.loc 1 1416 18
 4854 00cc 7B68     		ldr	r3, [r7, #4]
 4855 00ce 0C4A     		ldr	r2, .L208+4
 4856 00d0 C3F80021 		str	r2, [r3, #256]
1417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable the common interrupts */
1418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 4857              		.loc 1 1418 7
 4858 00d4 7B68     		ldr	r3, [r7, #4]
 4859 00d6 9B69     		ldr	r3, [r3, #24]
 4860              		.loc 1 1418 17
 4861 00d8 43F01002 		orr	r2, r3, #16
 4862 00dc 7B68     		ldr	r3, [r7, #4]
 4863 00de 9A61     		str	r2, [r3, #24]
1419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable interrupts matching to the Host mode ONLY */
1421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK |= (USB_OTG_GINTMSK_PRTIM            | USB_OTG_GINTMSK_HCIM | \
 4864              		.loc 1 1421 7
 4865 00e0 7B68     		ldr	r3, [r7, #4]
 4866 00e2 9A69     		ldr	r2, [r3, #24]
 4867              		.loc 1 1421 17
 4868 00e4 074B     		ldr	r3, .L208+8
 4869 00e6 1343     		orrs	r3, r3, r2
 4870 00e8 7A68     		ldr	r2, [r7, #4]
 4871 00ea 9361     		str	r3, [r2, #24]
1422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                     USB_OTG_GINTMSK_SOFM             | USB_OTG_GINTSTS_DISCINT | \
1423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                     USB_OTG_GINTMSK_PXFRM_IISOOXFRM  | USB_OTG_GINTMSK_WUIM);
1424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
 4872              		.loc 1 1425 10
 4873 00ec FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4874              		.loc 1 1426 1
 4875 00ee 1846     		mov	r0, r3
 4876 00f0 1837     		adds	r7, r7, #24
 4877              		.cfi_def_cfa_offset 24
 4878 00f2 BD46     		mov	sp, r7
 4879              		.cfi_def_cfa_register 13
 4880              		@ sp needed
 4881 00f4 BDE88040 		pop	{r7, lr}
 4882              		.cfi_restore 14
ARM GAS  /tmp/cc3N4Hnz.s 			page 111


 4883              		.cfi_restore 7
 4884              		.cfi_def_cfa_offset 16
 4885 00f8 04B0     		add	sp, sp, #16
 4886              		.cfi_def_cfa_offset 0
 4887 00fa 7047     		bx	lr
 4888              	.L209:
 4889              		.align	2
 4890              	.L208:
 4891 00fc 80006000 		.word	6291584
 4892 0100 E0004000 		.word	4194528
 4893 0104 080020A3 		.word	-1558183928
 4894              		.cfi_endproc
 4895              	.LFE480:
 4897              		.section	.text.USB_InitFSLSPClkSel,"ax",%progbits
 4898              		.align	1
 4899              		.global	USB_InitFSLSPClkSel
 4900              		.syntax unified
 4901              		.thumb
 4902              		.thumb_func
 4904              	USB_InitFSLSPClkSel:
 4905              	.LFB481:
1427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_InitFSLSPClkSel : Initializes the FSLSPClkSel field of the
1430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         HCFG register on the PHY type and set the right frame interval
1431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  freq  clock frequency
1433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
1434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           HCFG_48_MHZ : Full Speed 48 MHz Clock
1435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           HCFG_6_MHZ : Low Speed 6 MHz Clock
1436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_InitFSLSPClkSel(const USB_OTG_GlobalTypeDef *USBx, uint8_t freq)
1439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 4906              		.loc 1 1439 1
 4907              		.cfi_startproc
 4908              		@ args = 0, pretend = 0, frame = 16
 4909              		@ frame_needed = 1, uses_anonymous_args = 0
 4910              		@ link register save eliminated.
 4911 0000 80B4     		push	{r7}
 4912              		.cfi_def_cfa_offset 4
 4913              		.cfi_offset 7, -4
 4914 0002 85B0     		sub	sp, sp, #20
 4915              		.cfi_def_cfa_offset 24
 4916 0004 00AF     		add	r7, sp, #0
 4917              		.cfi_def_cfa_register 7
 4918 0006 7860     		str	r0, [r7, #4]
 4919 0008 0B46     		mov	r3, r1
 4920 000a FB70     		strb	r3, [r7, #3]
1440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4921              		.loc 1 1440 12
 4922 000c 7B68     		ldr	r3, [r7, #4]
 4923 000e FB60     		str	r3, [r7, #12]
1441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSPCS);
 4924              		.loc 1 1442 12
 4925 0010 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/cc3N4Hnz.s 			page 112


 4926 0012 03F58063 		add	r3, r3, #1024
 4927 0016 1B68     		ldr	r3, [r3]
 4928 0018 FA68     		ldr	r2, [r7, #12]
 4929 001a 02F58062 		add	r2, r2, #1024
 4930              		.loc 1 1442 19
 4931 001e 23F00303 		bic	r3, r3, #3
 4932 0022 1360     		str	r3, [r2]
1443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HOST->HCFG |= (uint32_t)freq & USB_OTG_HCFG_FSLSPCS;
 4933              		.loc 1 1443 12
 4934 0024 FB68     		ldr	r3, [r7, #12]
 4935 0026 03F58063 		add	r3, r3, #1024
 4936 002a 1A68     		ldr	r2, [r3]
 4937              		.loc 1 1443 37
 4938 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4939 002e 03F00303 		and	r3, r3, #3
 4940              		.loc 1 1443 12
 4941 0032 F968     		ldr	r1, [r7, #12]
 4942 0034 01F58061 		add	r1, r1, #1024
 4943              		.loc 1 1443 19
 4944 0038 1343     		orrs	r3, r3, r2
 4945 003a 0B60     		str	r3, [r1]
1444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (freq == HCFG_48_MHZ)
 4946              		.loc 1 1445 6
 4947 003c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4948 003e 012B     		cmp	r3, #1
 4949 0040 07D1     		bne	.L211
1446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HOST->HFIR = HFIR_48_MHZ;
 4950              		.loc 1 1447 5
 4951 0042 FB68     		ldr	r3, [r7, #12]
 4952 0044 03F58063 		add	r3, r3, #1024
 4953 0048 1A46     		mov	r2, r3
 4954              		.loc 1 1447 21
 4955 004a 4BF68033 		movw	r3, #48000
 4956 004e 5360     		str	r3, [r2, #4]
 4957 0050 0CE0     		b	.L212
 4958              	.L211:
1448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else if (freq == HCFG_6_MHZ)
 4959              		.loc 1 1449 11
 4960 0052 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4961 0054 022B     		cmp	r3, #2
 4962 0056 07D1     		bne	.L213
1450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HOST->HFIR = HFIR_6_MHZ;
 4963              		.loc 1 1451 5
 4964 0058 FB68     		ldr	r3, [r7, #12]
 4965 005a 03F58063 		add	r3, r3, #1024
 4966 005e 1A46     		mov	r2, r3
 4967              		.loc 1 1451 21
 4968 0060 41F27073 		movw	r3, #6000
 4969 0064 5360     		str	r3, [r2, #4]
 4970 0066 01E0     		b	.L212
 4971              	.L213:
1452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
ARM GAS  /tmp/cc3N4Hnz.s 			page 113


1454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     return HAL_ERROR;
 4972              		.loc 1 1455 12
 4973 0068 0123     		movs	r3, #1
 4974 006a 00E0     		b	.L214
 4975              	.L212:
1456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 4976              		.loc 1 1458 10
 4977 006c 0023     		movs	r3, #0
 4978              	.L214:
1459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 4979              		.loc 1 1459 1
 4980 006e 1846     		mov	r0, r3
 4981 0070 1437     		adds	r7, r7, #20
 4982              		.cfi_def_cfa_offset 4
 4983 0072 BD46     		mov	sp, r7
 4984              		.cfi_def_cfa_register 13
 4985              		@ sp needed
 4986 0074 5DF8047B 		ldr	r7, [sp], #4
 4987              		.cfi_restore 7
 4988              		.cfi_def_cfa_offset 0
 4989 0078 7047     		bx	lr
 4990              		.cfi_endproc
 4991              	.LFE481:
 4993              		.section	.text.USB_ResetPort,"ax",%progbits
 4994              		.align	1
 4995              		.global	USB_ResetPort
 4996              		.syntax unified
 4997              		.thumb
 4998              		.thumb_func
 5000              	USB_ResetPort:
 5001              	.LFB482:
1460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_OTG_ResetPort : Reset Host Port
1463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @note (1)The application must wait at least 10 ms
1466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *   before clearing the reset bit.
1467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_ResetPort(const USB_OTG_GlobalTypeDef *USBx)
1469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 5002              		.loc 1 1469 1
 5003              		.cfi_startproc
 5004              		@ args = 0, pretend = 0, frame = 16
 5005              		@ frame_needed = 1, uses_anonymous_args = 0
 5006 0000 80B5     		push	{r7, lr}
 5007              		.cfi_def_cfa_offset 8
 5008              		.cfi_offset 7, -8
 5009              		.cfi_offset 14, -4
 5010 0002 84B0     		sub	sp, sp, #16
 5011              		.cfi_def_cfa_offset 24
 5012 0004 00AF     		add	r7, sp, #0
 5013              		.cfi_def_cfa_register 7
 5014 0006 7860     		str	r0, [r7, #4]
ARM GAS  /tmp/cc3N4Hnz.s 			page 114


1470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5015              		.loc 1 1470 12
 5016 0008 7B68     		ldr	r3, [r7, #4]
 5017 000a FB60     		str	r3, [r7, #12]
1471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 5018              		.loc 1 1472 17
 5019 000c 0023     		movs	r3, #0
 5020 000e BB60     		str	r3, [r7, #8]
1473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 5021              		.loc 1 1474 11
 5022 0010 FB68     		ldr	r3, [r7, #12]
 5023 0012 03F58863 		add	r3, r3, #1088
 5024 0016 1B68     		ldr	r3, [r3]
 5025              		.loc 1 1474 9
 5026 0018 BB60     		str	r3, [r7, #8]
1475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA | USB_OTG_HPRT_PCDET |
 5027              		.loc 1 1476 9
 5028 001a BB68     		ldr	r3, [r7, #8]
 5029 001c 23F02E03 		bic	r3, r3, #46
 5030 0020 BB60     		str	r3, [r7, #8]
1477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****              USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG);
1478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HPRT0 = (USB_OTG_HPRT_PRST | hprt0);
 5031              		.loc 1 1479 35
 5032 0022 BB68     		ldr	r3, [r7, #8]
 5033              		.loc 1 1479 3
 5034 0024 FA68     		ldr	r2, [r7, #12]
 5035 0026 02F58862 		add	r2, r2, #1088
 5036              		.loc 1 1479 35
 5037 002a 43F48073 		orr	r3, r3, #256
 5038              		.loc 1 1479 14
 5039 002e 1360     		str	r3, [r2]
1480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_Delay(100U);                                 /* See Note #1 */
 5040              		.loc 1 1480 3
 5041 0030 6420     		movs	r0, #100
 5042 0032 FFF7FEFF 		bl	HAL_Delay
1481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HPRT0 = ((~USB_OTG_HPRT_PRST) & hprt0);
 5043              		.loc 1 1481 38
 5044 0036 BB68     		ldr	r3, [r7, #8]
 5045              		.loc 1 1481 3
 5046 0038 FA68     		ldr	r2, [r7, #12]
 5047 003a 02F58862 		add	r2, r2, #1088
 5048              		.loc 1 1481 38
 5049 003e 23F48073 		bic	r3, r3, #256
 5050              		.loc 1 1481 14
 5051 0042 1360     		str	r3, [r2]
1482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_Delay(10U);
 5052              		.loc 1 1482 3
 5053 0044 0A20     		movs	r0, #10
 5054 0046 FFF7FEFF 		bl	HAL_Delay
1483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 5055              		.loc 1 1484 10
 5056 004a 0023     		movs	r3, #0
ARM GAS  /tmp/cc3N4Hnz.s 			page 115


1485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 5057              		.loc 1 1485 1
 5058 004c 1846     		mov	r0, r3
 5059 004e 1037     		adds	r7, r7, #16
 5060              		.cfi_def_cfa_offset 8
 5061 0050 BD46     		mov	sp, r7
 5062              		.cfi_def_cfa_register 13
 5063              		@ sp needed
 5064 0052 80BD     		pop	{r7, pc}
 5065              		.cfi_endproc
 5066              	.LFE482:
 5068              		.section	.text.USB_DriveVbus,"ax",%progbits
 5069              		.align	1
 5070              		.global	USB_DriveVbus
 5071              		.syntax unified
 5072              		.thumb
 5073              		.thumb_func
 5075              	USB_DriveVbus:
 5076              	.LFB483:
1486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DriveVbus : activate or de-activate vbus
1489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  state  VBUS state
1490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
1491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           0 : Deactivate VBUS
1492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *           1 : Activate VBUS
1493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
1494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DriveVbus(const USB_OTG_GlobalTypeDef *USBx, uint8_t state)
1496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 5077              		.loc 1 1496 1
 5078              		.cfi_startproc
 5079              		@ args = 0, pretend = 0, frame = 16
 5080              		@ frame_needed = 1, uses_anonymous_args = 0
 5081              		@ link register save eliminated.
 5082 0000 80B4     		push	{r7}
 5083              		.cfi_def_cfa_offset 4
 5084              		.cfi_offset 7, -4
 5085 0002 85B0     		sub	sp, sp, #20
 5086              		.cfi_def_cfa_offset 24
 5087 0004 00AF     		add	r7, sp, #0
 5088              		.cfi_def_cfa_register 7
 5089 0006 7860     		str	r0, [r7, #4]
 5090 0008 0B46     		mov	r3, r1
 5091 000a FB70     		strb	r3, [r7, #3]
1497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5092              		.loc 1 1497 12
 5093 000c 7B68     		ldr	r3, [r7, #4]
 5094 000e FB60     		str	r3, [r7, #12]
1498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 5095              		.loc 1 1498 17
 5096 0010 0023     		movs	r3, #0
 5097 0012 BB60     		str	r3, [r7, #8]
1499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 5098              		.loc 1 1500 11
 5099 0014 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/cc3N4Hnz.s 			page 116


 5100 0016 03F58863 		add	r3, r3, #1088
 5101 001a 1B68     		ldr	r3, [r3]
 5102              		.loc 1 1500 9
 5103 001c BB60     		str	r3, [r7, #8]
1501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA | USB_OTG_HPRT_PCDET |
 5104              		.loc 1 1502 9
 5105 001e BB68     		ldr	r3, [r7, #8]
 5106 0020 23F02E03 		bic	r3, r3, #46
 5107 0024 BB60     		str	r3, [r7, #8]
1503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****              USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG);
1504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == 0U) && (state == 1U))
 5108              		.loc 1 1505 15
 5109 0026 BB68     		ldr	r3, [r7, #8]
 5110 0028 03F48053 		and	r3, r3, #4096
 5111              		.loc 1 1505 6
 5112 002c 002B     		cmp	r3, #0
 5113 002e 09D1     		bne	.L218
 5114              		.loc 1 1505 43 discriminator 1
 5115 0030 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5116 0032 012B     		cmp	r3, #1
 5117 0034 06D1     		bne	.L218
1506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HPRT0 = (USB_OTG_HPRT_PPWR | hprt0);
 5118              		.loc 1 1507 37
 5119 0036 BB68     		ldr	r3, [r7, #8]
 5120              		.loc 1 1507 5
 5121 0038 FA68     		ldr	r2, [r7, #12]
 5122 003a 02F58862 		add	r2, r2, #1088
 5123              		.loc 1 1507 37
 5124 003e 43F48053 		orr	r3, r3, #4096
 5125              		.loc 1 1507 16
 5126 0042 1360     		str	r3, [r2]
 5127              	.L218:
1508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == USB_OTG_HPRT_PPWR) && (state == 0U))
 5128              		.loc 1 1509 15
 5129 0044 BB68     		ldr	r3, [r7, #8]
 5130 0046 03F48053 		and	r3, r3, #4096
 5131              		.loc 1 1509 6
 5132 004a B3F5805F 		cmp	r3, #4096
 5133 004e 09D1     		bne	.L219
 5134              		.loc 1 1509 58 discriminator 1
 5135 0050 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5136 0052 002B     		cmp	r3, #0
 5137 0054 06D1     		bne	.L219
1510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HPRT0 = ((~USB_OTG_HPRT_PPWR) & hprt0);
 5138              		.loc 1 1511 40
 5139 0056 BB68     		ldr	r3, [r7, #8]
 5140              		.loc 1 1511 5
 5141 0058 FA68     		ldr	r2, [r7, #12]
 5142 005a 02F58862 		add	r2, r2, #1088
 5143              		.loc 1 1511 40
 5144 005e 23F48053 		bic	r3, r3, #4096
 5145              		.loc 1 1511 16
ARM GAS  /tmp/cc3N4Hnz.s 			page 117


 5146 0062 1360     		str	r3, [r2]
 5147              	.L219:
1512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 5148              		.loc 1 1513 10
 5149 0064 0023     		movs	r3, #0
1514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 5150              		.loc 1 1514 1
 5151 0066 1846     		mov	r0, r3
 5152 0068 1437     		adds	r7, r7, #20
 5153              		.cfi_def_cfa_offset 4
 5154 006a BD46     		mov	sp, r7
 5155              		.cfi_def_cfa_register 13
 5156              		@ sp needed
 5157 006c 5DF8047B 		ldr	r7, [sp], #4
 5158              		.cfi_restore 7
 5159              		.cfi_def_cfa_offset 0
 5160 0070 7047     		bx	lr
 5161              		.cfi_endproc
 5162              	.LFE483:
 5164              		.section	.text.USB_GetHostSpeed,"ax",%progbits
 5165              		.align	1
 5166              		.global	USB_GetHostSpeed
 5167              		.syntax unified
 5168              		.thumb
 5169              		.thumb_func
 5171              	USB_GetHostSpeed:
 5172              	.LFB484:
1515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Return Host Port speed
1518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval speed : Host port device speed
1520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
1521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg HCD_DEVICE_SPEED_FULL: Full speed mode
1522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg HCD_DEVICE_SPEED_LOW: Low speed mode
1523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_GetHostSpeed(USB_OTG_GlobalTypeDef const *USBx)
1525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 5173              		.loc 1 1525 1
 5174              		.cfi_startproc
 5175              		@ args = 0, pretend = 0, frame = 16
 5176              		@ frame_needed = 1, uses_anonymous_args = 0
 5177              		@ link register save eliminated.
 5178 0000 80B4     		push	{r7}
 5179              		.cfi_def_cfa_offset 4
 5180              		.cfi_offset 7, -4
 5181 0002 85B0     		sub	sp, sp, #20
 5182              		.cfi_def_cfa_offset 24
 5183 0004 00AF     		add	r7, sp, #0
 5184              		.cfi_def_cfa_register 7
 5185 0006 7860     		str	r0, [r7, #4]
1526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5186              		.loc 1 1526 12
 5187 0008 7B68     		ldr	r3, [r7, #4]
 5188 000a FB60     		str	r3, [r7, #12]
1527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
ARM GAS  /tmp/cc3N4Hnz.s 			page 118


 5189              		.loc 1 1527 17
 5190 000c 0023     		movs	r3, #0
 5191 000e BB60     		str	r3, [r7, #8]
1528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 5192              		.loc 1 1529 11
 5193 0010 FB68     		ldr	r3, [r7, #12]
 5194 0012 03F58863 		add	r3, r3, #1088
 5195 0016 1B68     		ldr	r3, [r3]
 5196              		.loc 1 1529 9
 5197 0018 BB60     		str	r3, [r7, #8]
1530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ((hprt0 & USB_OTG_HPRT_PSPD) >> 17);
 5198              		.loc 1 1530 39
 5199 001a BB68     		ldr	r3, [r7, #8]
 5200 001c 5B0C     		lsrs	r3, r3, #17
 5201 001e 03F00303 		and	r3, r3, #3
1531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 5202              		.loc 1 1531 1
 5203 0022 1846     		mov	r0, r3
 5204 0024 1437     		adds	r7, r7, #20
 5205              		.cfi_def_cfa_offset 4
 5206 0026 BD46     		mov	sp, r7
 5207              		.cfi_def_cfa_register 13
 5208              		@ sp needed
 5209 0028 5DF8047B 		ldr	r7, [sp], #4
 5210              		.cfi_restore 7
 5211              		.cfi_def_cfa_offset 0
 5212 002c 7047     		bx	lr
 5213              		.cfi_endproc
 5214              	.LFE484:
 5216              		.section	.text.USB_GetCurrentFrame,"ax",%progbits
 5217              		.align	1
 5218              		.global	USB_GetCurrentFrame
 5219              		.syntax unified
 5220              		.thumb
 5221              		.thumb_func
 5223              	USB_GetCurrentFrame:
 5224              	.LFB485:
1532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Return Host Current Frame number
1535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval current frame number
1537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_GetCurrentFrame(USB_OTG_GlobalTypeDef const *USBx)
1539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 5225              		.loc 1 1539 1
 5226              		.cfi_startproc
 5227              		@ args = 0, pretend = 0, frame = 16
 5228              		@ frame_needed = 1, uses_anonymous_args = 0
 5229              		@ link register save eliminated.
 5230 0000 80B4     		push	{r7}
 5231              		.cfi_def_cfa_offset 4
 5232              		.cfi_offset 7, -4
 5233 0002 85B0     		sub	sp, sp, #20
 5234              		.cfi_def_cfa_offset 24
 5235 0004 00AF     		add	r7, sp, #0
ARM GAS  /tmp/cc3N4Hnz.s 			page 119


 5236              		.cfi_def_cfa_register 7
 5237 0006 7860     		str	r0, [r7, #4]
1540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5238              		.loc 1 1540 12
 5239 0008 7B68     		ldr	r3, [r7, #4]
 5240 000a FB60     		str	r3, [r7, #12]
1541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return (USBx_HOST->HFNUM & USB_OTG_HFNUM_FRNUM);
 5241              		.loc 1 1542 11
 5242 000c FB68     		ldr	r3, [r7, #12]
 5243 000e 03F58063 		add	r3, r3, #1024
 5244              		.loc 1 1542 20
 5245 0012 9B68     		ldr	r3, [r3, #8]
 5246              		.loc 1 1542 28
 5247 0014 9BB2     		uxth	r3, r3
1543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 5248              		.loc 1 1543 1
 5249 0016 1846     		mov	r0, r3
 5250 0018 1437     		adds	r7, r7, #20
 5251              		.cfi_def_cfa_offset 4
 5252 001a BD46     		mov	sp, r7
 5253              		.cfi_def_cfa_register 13
 5254              		@ sp needed
 5255 001c 5DF8047B 		ldr	r7, [sp], #4
 5256              		.cfi_restore 7
 5257              		.cfi_def_cfa_offset 0
 5258 0020 7047     		bx	lr
 5259              		.cfi_endproc
 5260              	.LFE485:
 5262              		.section	.text.USB_HC_Init,"ax",%progbits
 5263              		.align	1
 5264              		.global	USB_HC_Init
 5265              		.syntax unified
 5266              		.thumb
 5267              		.thumb_func
 5269              	USB_HC_Init:
 5270              	.LFB486:
1544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #if defined (HAL_HCD_MODULE_ENABLED)
1546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Initialize a host channel
1548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ch_num  Channel number
1550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  epnum  Endpoint number
1552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 1 to 15
1553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  dev_address  Current device address
1554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  speed  Current device speed
1556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
1557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
1558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
1559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ep_type  Endpoint Type
1560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be one of these values:
1561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg EP_TYPE_CTRL: Control type
1562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg EP_TYPE_ISOC: Isochronous type
1563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg EP_TYPE_BULK: Bulk type
ARM GAS  /tmp/cc3N4Hnz.s 			page 120


1564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *            @arg EP_TYPE_INTR: Interrupt type
1565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  mps  Max Packet Size
1566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 32K
1567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL state
1568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Init(USB_OTG_GlobalTypeDef *USBx, uint8_t ch_num,
1570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                               uint8_t epnum, uint8_t dev_address, uint8_t speed,
1571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                               uint8_t ep_type, uint16_t mps)
1572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 5271              		.loc 1 1572 1
 5272              		.cfi_startproc
 5273              		@ args = 12, pretend = 0, frame = 32
 5274              		@ frame_needed = 1, uses_anonymous_args = 0
 5275 0000 80B5     		push	{r7, lr}
 5276              		.cfi_def_cfa_offset 8
 5277              		.cfi_offset 7, -8
 5278              		.cfi_offset 14, -4
 5279 0002 88B0     		sub	sp, sp, #32
 5280              		.cfi_def_cfa_offset 40
 5281 0004 00AF     		add	r7, sp, #0
 5282              		.cfi_def_cfa_register 7
 5283 0006 7860     		str	r0, [r7, #4]
 5284 0008 0846     		mov	r0, r1
 5285 000a 1146     		mov	r1, r2
 5286 000c 1A46     		mov	r2, r3
 5287 000e 0346     		mov	r3, r0
 5288 0010 FB70     		strb	r3, [r7, #3]
 5289 0012 0B46     		mov	r3, r1
 5290 0014 BB70     		strb	r3, [r7, #2]
 5291 0016 1346     		mov	r3, r2
 5292 0018 7B70     		strb	r3, [r7, #1]
1573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 5293              		.loc 1 1573 21
 5294 001a 0023     		movs	r3, #0
 5295 001c FB77     		strb	r3, [r7, #31]
1574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5296              		.loc 1 1574 12
 5297 001e 7B68     		ldr	r3, [r7, #4]
 5298 0020 3B61     		str	r3, [r7, #16]
1575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t HCcharEpDir;
1576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t HCcharLowSpeed;
1577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t HostCoreSpeed;
1578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear old interrupt conditions for this host channel. */
1580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCINT = CLEAR_INTERRUPT_MASK;
 5299              		.loc 1 1580 3
 5300 0022 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5301 0024 5A01     		lsls	r2, r3, #5
 5302 0026 3B69     		ldr	r3, [r7, #16]
 5303 0028 1344     		add	r3, r3, r2
 5304 002a 03F5A063 		add	r3, r3, #1280
 5305 002e 1A46     		mov	r2, r3
 5306              		.loc 1 1580 36
 5307 0030 4FF0FF33 		mov	r3, #-1
 5308 0034 9360     		str	r3, [r2, #8]
1581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable channel interrupts required for this transfer. */
ARM GAS  /tmp/cc3N4Hnz.s 			page 121


1583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   switch (ep_type)
 5309              		.loc 1 1583 3
 5310 0036 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 5311 003a 032B     		cmp	r3, #3
 5312 003c 67D8     		bhi	.L226
 5313 003e 01A2     		adr	r2, .L228
 5314 0040 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 5315              		.p2align 2
 5316              	.L228:
 5317 0044 55000000 		.word	.L229+1
 5318 0048 D1000000 		.word	.L230+1
 5319 004c 55000000 		.word	.L229+1
 5320 0050 93000000 		.word	.L227+1
 5321              		.p2align 1
 5322              	.L229:
1584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     case EP_TYPE_CTRL:
1586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     case EP_TYPE_BULK:
1587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5323              		.loc 1 1587 7
 5324 0054 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5325 0056 5A01     		lsls	r2, r3, #5
 5326 0058 3B69     		ldr	r3, [r7, #16]
 5327 005a 1344     		add	r3, r3, r2
 5328 005c 03F5A063 		add	r3, r3, #1280
 5329 0060 1A46     		mov	r2, r3
 5330              		.loc 1 1587 43
 5331 0062 40F29D43 		movw	r3, #1181
 5332 0066 D360     		str	r3, [r2, #12]
1588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_STALLM |
1589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_TXERRM |
1590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_DTERRM |
1591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_NAKM;
1593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5333              		.loc 1 1594 27
 5334 0068 97F90230 		ldrsb	r3, [r7, #2]
 5335              		.loc 1 1594 10
 5336 006c 002B     		cmp	r3, #0
 5337 006e 51DA     		bge	.L242
1595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 5338              		.loc 1 1596 34
 5339 0070 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5340 0072 5A01     		lsls	r2, r3, #5
 5341 0074 3B69     		ldr	r3, [r7, #16]
 5342 0076 1344     		add	r3, r3, r2
 5343 0078 03F5A063 		add	r3, r3, #1280
 5344 007c DB68     		ldr	r3, [r3, #12]
 5345 007e FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5346 0080 5101     		lsls	r1, r2, #5
 5347 0082 3A69     		ldr	r2, [r7, #16]
 5348 0084 0A44     		add	r2, r2, r1
 5349 0086 02F5A062 		add	r2, r2, #1280
 5350              		.loc 1 1596 45
 5351 008a 43F48073 		orr	r3, r3, #256
ARM GAS  /tmp/cc3N4Hnz.s 			page 122


 5352 008e D360     		str	r3, [r2, #12]
1597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
1598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       break;
 5353              		.loc 1 1598 7
 5354 0090 40E0     		b	.L242
 5355              	.L227:
1599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     case EP_TYPE_INTR:
1601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5356              		.loc 1 1601 7
 5357 0092 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5358 0094 5A01     		lsls	r2, r3, #5
 5359 0096 3B69     		ldr	r3, [r7, #16]
 5360 0098 1344     		add	r3, r3, r2
 5361 009a 03F5A063 		add	r3, r3, #1280
 5362 009e 1A46     		mov	r2, r3
 5363              		.loc 1 1601 43
 5364 00a0 40F29D63 		movw	r3, #1693
 5365 00a4 D360     		str	r3, [r2, #12]
1602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_STALLM |
1603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_TXERRM |
1604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_DTERRM |
1605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_NAKM   |
1606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_FRMORM;
1608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5366              		.loc 1 1609 27
 5367 00a6 97F90230 		ldrsb	r3, [r7, #2]
 5368              		.loc 1 1609 10
 5369 00aa 002B     		cmp	r3, #0
 5370 00ac 34DA     		bge	.L243
1610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 5371              		.loc 1 1611 34
 5372 00ae FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5373 00b0 5A01     		lsls	r2, r3, #5
 5374 00b2 3B69     		ldr	r3, [r7, #16]
 5375 00b4 1344     		add	r3, r3, r2
 5376 00b6 03F5A063 		add	r3, r3, #1280
 5377 00ba DB68     		ldr	r3, [r3, #12]
 5378 00bc FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5379 00be 5101     		lsls	r1, r2, #5
 5380 00c0 3A69     		ldr	r2, [r7, #16]
 5381 00c2 0A44     		add	r2, r2, r1
 5382 00c4 02F5A062 		add	r2, r2, #1280
 5383              		.loc 1 1611 45
 5384 00c8 43F48073 		orr	r3, r3, #256
 5385 00cc D360     		str	r3, [r2, #12]
1612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
1613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       break;
 5386              		.loc 1 1614 7
 5387 00ce 23E0     		b	.L243
 5388              	.L230:
1615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     case EP_TYPE_ISOC:
ARM GAS  /tmp/cc3N4Hnz.s 			page 123


1617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5389              		.loc 1 1617 7
 5390 00d0 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5391 00d2 5A01     		lsls	r2, r3, #5
 5392 00d4 3B69     		ldr	r3, [r7, #16]
 5393 00d6 1344     		add	r3, r3, r2
 5394 00d8 03F5A063 		add	r3, r3, #1280
 5395 00dc 1A46     		mov	r2, r3
 5396              		.loc 1 1617 43
 5397 00de 40F22523 		movw	r3, #549
 5398 00e2 D360     		str	r3, [r2, #12]
1618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_ACKM   |
1619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_FRMORM;
1621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5399              		.loc 1 1622 27
 5400 00e4 97F90230 		ldrsb	r3, [r7, #2]
 5401              		.loc 1 1622 10
 5402 00e8 002B     		cmp	r3, #0
 5403 00ea 17DA     		bge	.L244
1623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= (USB_OTG_HCINTMSK_TXERRM | USB_OTG_HCINTMSK_BBERRM);
 5404              		.loc 1 1624 34
 5405 00ec FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5406 00ee 5A01     		lsls	r2, r3, #5
 5407 00f0 3B69     		ldr	r3, [r7, #16]
 5408 00f2 1344     		add	r3, r3, r2
 5409 00f4 03F5A063 		add	r3, r3, #1280
 5410 00f8 DB68     		ldr	r3, [r3, #12]
 5411 00fa FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5412 00fc 5101     		lsls	r1, r2, #5
 5413 00fe 3A69     		ldr	r2, [r7, #16]
 5414 0100 0A44     		add	r2, r2, r1
 5415 0102 02F5A062 		add	r2, r2, #1280
 5416              		.loc 1 1624 45
 5417 0106 43F4C073 		orr	r3, r3, #384
 5418 010a D360     		str	r3, [r2, #12]
1625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
1626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       break;
 5419              		.loc 1 1626 7
 5420 010c 06E0     		b	.L244
 5421              	.L226:
1627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     default:
1629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       ret = HAL_ERROR;
 5422              		.loc 1 1629 11
 5423 010e 0123     		movs	r3, #1
 5424 0110 FB77     		strb	r3, [r7, #31]
1630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       break;
 5425              		.loc 1 1630 7
 5426 0112 04E0     		b	.L232
 5427              	.L242:
1598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 5428              		.loc 1 1598 7
 5429 0114 00BF     		nop
 5430 0116 02E0     		b	.L232
ARM GAS  /tmp/cc3N4Hnz.s 			page 124


 5431              	.L243:
1614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 5432              		.loc 1 1614 7
 5433 0118 00BF     		nop
 5434 011a 00E0     		b	.L232
 5435              	.L244:
1626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 5436              		.loc 1 1626 7
 5437 011c 00BF     		nop
 5438              	.L232:
1631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable host channel Halt interrupt */
1634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_CHHM;
 5439              		.loc 1 1634 28
 5440 011e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5441 0120 5A01     		lsls	r2, r3, #5
 5442 0122 3B69     		ldr	r3, [r7, #16]
 5443 0124 1344     		add	r3, r3, r2
 5444 0126 03F5A063 		add	r3, r3, #1280
 5445 012a DB68     		ldr	r3, [r3, #12]
 5446 012c FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5447 012e 5101     		lsls	r1, r2, #5
 5448 0130 3A69     		ldr	r2, [r7, #16]
 5449 0132 0A44     		add	r2, r2, r1
 5450 0134 02F5A062 		add	r2, r2, #1280
 5451              		.loc 1 1634 39
 5452 0138 43F00203 		orr	r3, r3, #2
 5453 013c D360     		str	r3, [r2, #12]
1635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Enable the top level host channel interrupt. */
1637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HOST->HAINTMSK |= 1UL << (ch_num & 0xFU);
 5454              		.loc 1 1637 12
 5455 013e 3B69     		ldr	r3, [r7, #16]
 5456 0140 03F58063 		add	r3, r3, #1024
 5457 0144 9A69     		ldr	r2, [r3, #24]
 5458              		.loc 1 1637 41
 5459 0146 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5460 0148 03F00F03 		and	r3, r3, #15
 5461              		.loc 1 1637 30
 5462 014c 0121     		movs	r1, #1
 5463 014e 01FA03F3 		lsl	r3, r1, r3
 5464              		.loc 1 1637 12
 5465 0152 3969     		ldr	r1, [r7, #16]
 5466 0154 01F58061 		add	r1, r1, #1024
 5467              		.loc 1 1637 23
 5468 0158 1343     		orrs	r3, r3, r2
 5469 015a 8B61     		str	r3, [r1, #24]
1638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Make sure host channel interrupts are enabled. */
1640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_HCIM;
 5470              		.loc 1 1640 7
 5471 015c 7B68     		ldr	r3, [r7, #4]
 5472 015e 9B69     		ldr	r3, [r3, #24]
 5473              		.loc 1 1640 17
 5474 0160 43F00072 		orr	r2, r3, #33554432
 5475 0164 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/cc3N4Hnz.s 			page 125


 5476 0166 9A61     		str	r2, [r3, #24]
1641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Program the HCCHAR register */
1643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((epnum & 0x80U) == 0x80U)
 5477              		.loc 1 1643 23
 5478 0168 97F90230 		ldrsb	r3, [r7, #2]
 5479              		.loc 1 1643 6
 5480 016c 002B     		cmp	r3, #0
 5481 016e 03DA     		bge	.L235
1644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     HCcharEpDir = (0x1UL << 15) & USB_OTG_HCCHAR_EPDIR;
 5482              		.loc 1 1645 17
 5483 0170 4FF40043 		mov	r3, #32768
 5484 0174 BB61     		str	r3, [r7, #24]
 5485 0176 01E0     		b	.L236
 5486              	.L235:
1646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     HCcharEpDir = 0U;
 5487              		.loc 1 1649 17
 5488 0178 0023     		movs	r3, #0
 5489 017a BB61     		str	r3, [r7, #24]
 5490              	.L236:
1650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HostCoreSpeed = USB_GetHostSpeed(USBx);
 5491              		.loc 1 1652 19
 5492 017c 7868     		ldr	r0, [r7, #4]
 5493 017e FFF7FEFF 		bl	USB_GetHostSpeed
 5494 0182 F860     		str	r0, [r7, #12]
1653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* LS device plugged to HUB */
1655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((speed == HPRT0_PRTSPD_LOW_SPEED) && (HostCoreSpeed != HPRT0_PRTSPD_LOW_SPEED))
 5495              		.loc 1 1655 6
 5496 0184 97F82830 		ldrb	r3, [r7, #40]	@ zero_extendqisi2
 5497 0188 022B     		cmp	r3, #2
 5498 018a 06D1     		bne	.L237
 5499              		.loc 1 1655 41 discriminator 1
 5500 018c FB68     		ldr	r3, [r7, #12]
 5501 018e 022B     		cmp	r3, #2
 5502 0190 03D0     		beq	.L237
1656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     HCcharLowSpeed = (0x1UL << 17) & USB_OTG_HCCHAR_LSDEV;
 5503              		.loc 1 1657 20
 5504 0192 4FF40033 		mov	r3, #131072
 5505 0196 7B61     		str	r3, [r7, #20]
 5506 0198 01E0     		b	.L238
 5507              	.L237:
1658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     HCcharLowSpeed = 0U;
 5508              		.loc 1 1661 20
 5509 019a 0023     		movs	r3, #0
 5510 019c 7B61     		str	r3, [r7, #20]
 5511              	.L238:
ARM GAS  /tmp/cc3N4Hnz.s 			page 126


1662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCCHAR = (((uint32_t)dev_address << 22) & USB_OTG_HCCHAR_DAD) |
 5512              		.loc 1 1664 41
 5513 019e 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 5514              		.loc 1 1664 63
 5515 01a0 9B05     		lsls	r3, r3, #22
 5516              		.loc 1 1664 70
 5517 01a2 03F0FE52 		and	r2, r3, #532676608
1665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5518              		.loc 1 1665 67
 5519 01a6 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 5520 01a8 DB02     		lsls	r3, r3, #11
 5521              		.loc 1 1665 74
 5522 01aa 03F4F043 		and	r3, r3, #30720
1664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5523              		.loc 1 1664 92
 5524 01ae 1A43     		orrs	r2, r2, r3
1666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                       (((uint32_t)ep_type << 18) & USB_OTG_HCCHAR_EPTYP) |
 5525              		.loc 1 1666 41
 5526 01b0 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 5527              		.loc 1 1666 59
 5528 01b4 9B04     		lsls	r3, r3, #18
 5529              		.loc 1 1666 66
 5530 01b6 03F44023 		and	r3, r3, #786432
1665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5531              		.loc 1 1665 98
 5532 01ba 1A43     		orrs	r2, r2, r3
1667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                       ((uint32_t)mps & USB_OTG_HCCHAR_MPSIZ) |
 5533              		.loc 1 1667 54
 5534 01bc 3B8E     		ldrh	r3, [r7, #48]
 5535 01be C3F30A03 		ubfx	r3, r3, #0, #11
1666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                       (((uint32_t)ep_type << 18) & USB_OTG_HCCHAR_EPTYP) |
 5536              		.loc 1 1666 90
 5537 01c2 1A43     		orrs	r2, r2, r3
1668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                       USB_OTG_HCCHAR_MC_0 | HCcharEpDir | HCcharLowSpeed;
 5538              		.loc 1 1668 59
 5539 01c4 BB69     		ldr	r3, [r7, #24]
 5540 01c6 1A43     		orrs	r2, r2, r3
 5541              		.loc 1 1668 73
 5542 01c8 7B69     		ldr	r3, [r7, #20]
 5543 01ca 1343     		orrs	r3, r3, r2
1664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5544              		.loc 1 1664 3
 5545 01cc FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5546 01ce 5101     		lsls	r1, r2, #5
 5547 01d0 3A69     		ldr	r2, [r7, #16]
 5548 01d2 0A44     		add	r2, r2, r1
 5549 01d4 02F5A062 		add	r2, r2, #1280
 5550              		.loc 1 1668 73
 5551 01d8 43F48013 		orr	r3, r3, #1048576
1664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5552              		.loc 1 1664 37
 5553 01dc 1360     		str	r3, [r2]
1669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((ep_type == EP_TYPE_INTR) || (ep_type == EP_TYPE_ISOC))
 5554              		.loc 1 1670 6
ARM GAS  /tmp/cc3N4Hnz.s 			page 127


 5555 01de 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 5556 01e2 032B     		cmp	r3, #3
 5557 01e4 03D0     		beq	.L239
 5558              		.loc 1 1670 33 discriminator 1
 5559 01e6 97F82C30 		ldrb	r3, [r7, #44]	@ zero_extendqisi2
 5560 01ea 012B     		cmp	r3, #1
 5561 01ec 0FD1     		bne	.L240
 5562              	.L239:
1671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC((uint32_t)ch_num)->HCCHAR |= USB_OTG_HCCHAR_ODDFRM;
 5563              		.loc 1 1672 30
 5564 01ee FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5565 01f0 5A01     		lsls	r2, r3, #5
 5566 01f2 3B69     		ldr	r3, [r7, #16]
 5567 01f4 1344     		add	r3, r3, r2
 5568 01f6 03F5A063 		add	r3, r3, #1280
 5569 01fa 1B68     		ldr	r3, [r3]
 5570 01fc FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5571 01fe 5101     		lsls	r1, r2, #5
 5572 0200 3A69     		ldr	r2, [r7, #16]
 5573 0202 0A44     		add	r2, r2, r1
 5574 0204 02F5A062 		add	r2, r2, #1280
 5575              		.loc 1 1672 39
 5576 0208 43F00053 		orr	r3, r3, #536870912
 5577 020c 1360     		str	r3, [r2]
 5578              	.L240:
1673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
 5579              		.loc 1 1675 10
 5580 020e FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
1676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 5581              		.loc 1 1676 1
 5582 0210 1846     		mov	r0, r3
 5583 0212 2037     		adds	r7, r7, #32
 5584              		.cfi_def_cfa_offset 8
 5585 0214 BD46     		mov	sp, r7
 5586              		.cfi_def_cfa_register 13
 5587              		@ sp needed
 5588 0216 80BD     		pop	{r7, pc}
 5589              		.cfi_endproc
 5590              	.LFE486:
 5592              		.section	.text.USB_HC_StartXfer,"ax",%progbits
 5593              		.align	1
 5594              		.global	USB_HC_StartXfer
 5595              		.syntax unified
 5596              		.thumb
 5597              		.thumb_func
 5599              	USB_HC_StartXfer:
 5600              	.LFB487:
1677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Start a transfer over a host channel
1680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  hc  pointer to host channel structure
1682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL state
1683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
ARM GAS  /tmp/cc3N4Hnz.s 			page 128


1684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_HCTypeDef *hc)
1685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 5601              		.loc 1 1685 1
 5602              		.cfi_startproc
 5603              		@ args = 0, pretend = 0, frame = 32
 5604              		@ frame_needed = 1, uses_anonymous_args = 0
 5605 0000 80B5     		push	{r7, lr}
 5606              		.cfi_def_cfa_offset 8
 5607              		.cfi_offset 7, -8
 5608              		.cfi_offset 14, -4
 5609 0002 88B0     		sub	sp, sp, #32
 5610              		.cfi_def_cfa_offset 40
 5611 0004 00AF     		add	r7, sp, #0
 5612              		.cfi_def_cfa_register 7
 5613 0006 7860     		str	r0, [r7, #4]
 5614 0008 3960     		str	r1, [r7]
1686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5615              		.loc 1 1686 12
 5616 000a 7B68     		ldr	r3, [r7, #4]
 5617 000c BB61     		str	r3, [r7, #24]
1687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t ch_num = (uint32_t)hc->ch_num;
 5618              		.loc 1 1687 33
 5619 000e 3B68     		ldr	r3, [r7]
 5620 0010 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5621              		.loc 1 1687 12
 5622 0012 7B61     		str	r3, [r7, #20]
1688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t tmpreg;
1689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint8_t  is_oddframe;
1690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint16_t len_words;
1691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint16_t num_packets;
1692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint16_t max_hc_pkt_count = HC_MAX_PKT_CNT;
 5623              		.loc 1 1692 12
 5624 0014 4FF48073 		mov	r3, #256
 5625 0018 7B82     		strh	r3, [r7, #18]	@ movhi
1693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Compute the expected number of packets associated to the transfer */
1695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (hc->xfer_len > 0U)
 5626              		.loc 1 1695 9
 5627 001a 3B68     		ldr	r3, [r7]
 5628 001c 9B69     		ldr	r3, [r3, #24]
 5629              		.loc 1 1695 6
 5630 001e 002B     		cmp	r3, #0
 5631 0020 18D0     		beq	.L246
1696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     num_packets = (uint16_t)((hc->xfer_len + hc->max_packet - 1U) / hc->max_packet);
 5632              		.loc 1 1697 33
 5633 0022 3B68     		ldr	r3, [r7]
 5634 0024 9B69     		ldr	r3, [r3, #24]
 5635              		.loc 1 1697 48
 5636 0026 3A68     		ldr	r2, [r7]
 5637 0028 5289     		ldrh	r2, [r2, #10]
 5638              		.loc 1 1697 44
 5639 002a 1344     		add	r3, r3, r2
 5640              		.loc 1 1697 61
 5641 002c 013B     		subs	r3, r3, #1
 5642              		.loc 1 1697 71
 5643 002e 3A68     		ldr	r2, [r7]
ARM GAS  /tmp/cc3N4Hnz.s 			page 129


 5644 0030 5289     		ldrh	r2, [r2, #10]
 5645              		.loc 1 1697 67
 5646 0032 B3FBF2F3 		udiv	r3, r3, r2
 5647              		.loc 1 1697 17
 5648 0036 FB83     		strh	r3, [r7, #30]	@ movhi
1698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if (num_packets > max_hc_pkt_count)
 5649              		.loc 1 1699 8
 5650 0038 FA8B     		ldrh	r2, [r7, #30]
 5651 003a 7B8A     		ldrh	r3, [r7, #18]
 5652 003c 9A42     		cmp	r2, r3
 5653 003e 0BD9     		bls	.L247
1700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       num_packets = max_hc_pkt_count;
 5654              		.loc 1 1701 19
 5655 0040 7B8A     		ldrh	r3, [r7, #18]	@ movhi
 5656 0042 FB83     		strh	r3, [r7, #30]	@ movhi
1702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       hc->XferSize = (uint32_t)num_packets * hc->max_packet;
 5657              		.loc 1 1702 22
 5658 0044 FB8B     		ldrh	r3, [r7, #30]
 5659              		.loc 1 1702 48
 5660 0046 3A68     		ldr	r2, [r7]
 5661 0048 5289     		ldrh	r2, [r2, #10]
 5662              		.loc 1 1702 44
 5663 004a 03FB02F2 		mul	r2, r3, r2
 5664              		.loc 1 1702 20
 5665 004e 3B68     		ldr	r3, [r7]
 5666 0050 5A61     		str	r2, [r3, #20]
 5667 0052 01E0     		b	.L247
 5668              	.L246:
1703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     num_packets = 1U;
 5669              		.loc 1 1707 17
 5670 0054 0123     		movs	r3, #1
 5671 0056 FB83     		strh	r3, [r7, #30]	@ movhi
 5672              	.L247:
1708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /*
1711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * For IN channel HCTSIZ.XferSize is expected to be an integer multiple of
1712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    * max_packet size.
1713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****    */
1714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (hc->ep_is_in != 0U)
 5673              		.loc 1 1714 9
 5674 0058 3B68     		ldr	r3, [r7]
 5675 005a DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 5676              		.loc 1 1714 6
 5677 005c 002B     		cmp	r3, #0
 5678 005e 07D0     		beq	.L248
1715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     hc->XferSize = (uint32_t)num_packets * hc->max_packet;
 5679              		.loc 1 1716 20
 5680 0060 FB8B     		ldrh	r3, [r7, #30]
 5681              		.loc 1 1716 46
ARM GAS  /tmp/cc3N4Hnz.s 			page 130


 5682 0062 3A68     		ldr	r2, [r7]
 5683 0064 5289     		ldrh	r2, [r2, #10]
 5684              		.loc 1 1716 42
 5685 0066 03FB02F2 		mul	r2, r3, r2
 5686              		.loc 1 1716 18
 5687 006a 3B68     		ldr	r3, [r7]
 5688 006c 5A61     		str	r2, [r3, #20]
 5689 006e 03E0     		b	.L249
 5690              	.L248:
1717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     hc->XferSize = hc->xfer_len;
 5691              		.loc 1 1720 22
 5692 0070 3B68     		ldr	r3, [r7]
 5693 0072 9A69     		ldr	r2, [r3, #24]
 5694              		.loc 1 1720 18
 5695 0074 3B68     		ldr	r3, [r7]
 5696 0076 5A61     		str	r2, [r3, #20]
 5697              	.L249:
1721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Initialize the HCTSIZn register */
1724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC(ch_num)->HCTSIZ = (hc->XferSize & USB_OTG_HCTSIZ_XFRSIZ) |
 5698              		.loc 1 1724 32
 5699 0078 3B68     		ldr	r3, [r7]
 5700 007a 5B69     		ldr	r3, [r3, #20]
 5701              		.loc 1 1724 43
 5702 007c C3F31202 		ubfx	r2, r3, #0, #19
1725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5703              		.loc 1 1725 31
 5704 0080 FB8B     		ldrh	r3, [r7, #30]
 5705              		.loc 1 1725 53
 5706 0082 D904     		lsls	r1, r3, #19
 5707              		.loc 1 1725 60
 5708 0084 594B     		ldr	r3, .L264
 5709 0086 0B40     		ands	r3, r3, r1
1724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5710              		.loc 1 1724 68
 5711 0088 1A43     		orrs	r2, r2, r3
1726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                             (((uint32_t)hc->data_pid << 29) & USB_OTG_HCTSIZ_DPID);
 5712              		.loc 1 1726 43
 5713 008a 3B68     		ldr	r3, [r7]
 5714 008c 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 5715              		.loc 1 1726 54
 5716 008e 5B07     		lsls	r3, r3, #29
 5717              		.loc 1 1726 61
 5718 0090 03F0C043 		and	r3, r3, #1610612736
1724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5719              		.loc 1 1724 3
 5720 0094 7969     		ldr	r1, [r7, #20]
 5721 0096 4801     		lsls	r0, r1, #5
 5722 0098 B969     		ldr	r1, [r7, #24]
 5723 009a 0144     		add	r1, r1, r0
 5724 009c 01F5A061 		add	r1, r1, #1280
1725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5725              		.loc 1 1725 85
ARM GAS  /tmp/cc3N4Hnz.s 			page 131


 5726 00a0 1343     		orrs	r3, r3, r2
1724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5727              		.loc 1 1724 27
 5728 00a2 0B61     		str	r3, [r1, #16]
1727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   is_oddframe = (((uint32_t)USBx_HOST->HFNUM & 0x01U) != 0U) ? 0U : 1U;
 5729              		.loc 1 1728 29
 5730 00a4 BB69     		ldr	r3, [r7, #24]
 5731 00a6 03F58063 		add	r3, r3, #1024
 5732              		.loc 1 1728 38
 5733 00aa 9B68     		ldr	r3, [r3, #8]
 5734              		.loc 1 1728 46
 5735 00ac 03F00103 		and	r3, r3, #1
 5736              		.loc 1 1728 67
 5737 00b0 002B     		cmp	r3, #0
 5738 00b2 0CBF     		ite	eq
 5739 00b4 0123     		moveq	r3, #1
 5740 00b6 0023     		movne	r3, #0
 5741 00b8 DBB2     		uxtb	r3, r3
 5742              		.loc 1 1728 15
 5743 00ba 7B74     		strb	r3, [r7, #17]
1729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR &= ~USB_OTG_HCCHAR_ODDFRM;
 5744              		.loc 1 1729 18
 5745 00bc 7B69     		ldr	r3, [r7, #20]
 5746 00be 5A01     		lsls	r2, r3, #5
 5747 00c0 BB69     		ldr	r3, [r7, #24]
 5748 00c2 1344     		add	r3, r3, r2
 5749 00c4 03F5A063 		add	r3, r3, #1280
 5750 00c8 1B68     		ldr	r3, [r3]
 5751 00ca 7A69     		ldr	r2, [r7, #20]
 5752 00cc 5101     		lsls	r1, r2, #5
 5753 00ce BA69     		ldr	r2, [r7, #24]
 5754 00d0 0A44     		add	r2, r2, r1
 5755 00d2 02F5A062 		add	r2, r2, #1280
 5756              		.loc 1 1729 27
 5757 00d6 23F00053 		bic	r3, r3, #536870912
 5758 00da 1360     		str	r3, [r2]
1730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR |= (uint32_t)is_oddframe << 29;
 5759              		.loc 1 1730 18
 5760 00dc 7B69     		ldr	r3, [r7, #20]
 5761 00de 5A01     		lsls	r2, r3, #5
 5762 00e0 BB69     		ldr	r3, [r7, #24]
 5763 00e2 1344     		add	r3, r3, r2
 5764 00e4 03F5A063 		add	r3, r3, #1280
 5765 00e8 1A68     		ldr	r2, [r3]
 5766              		.loc 1 1730 30
 5767 00ea 7B7C     		ldrb	r3, [r7, #17]	@ zero_extendqisi2
 5768              		.loc 1 1730 52
 5769 00ec 5B07     		lsls	r3, r3, #29
 5770              		.loc 1 1730 18
 5771 00ee 7969     		ldr	r1, [r7, #20]
 5772 00f0 4801     		lsls	r0, r1, #5
 5773 00f2 B969     		ldr	r1, [r7, #24]
 5774 00f4 0144     		add	r1, r1, r0
 5775 00f6 01F5A061 		add	r1, r1, #1280
 5776              		.loc 1 1730 27
 5777 00fa 1343     		orrs	r3, r3, r2
ARM GAS  /tmp/cc3N4Hnz.s 			page 132


 5778 00fc 0B60     		str	r3, [r1]
1731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Set host channel enable */
1733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg = USBx_HC(ch_num)->HCCHAR;
 5779              		.loc 1 1733 12
 5780 00fe 7B69     		ldr	r3, [r7, #20]
 5781 0100 5A01     		lsls	r2, r3, #5
 5782 0102 BB69     		ldr	r3, [r7, #24]
 5783 0104 1344     		add	r3, r3, r2
 5784 0106 03F5A063 		add	r3, r3, #1280
 5785              		.loc 1 1733 27
 5786 010a 1B68     		ldr	r3, [r3]
 5787              		.loc 1 1733 10
 5788 010c BB60     		str	r3, [r7, #8]
1734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 5789              		.loc 1 1734 10
 5790 010e BB68     		ldr	r3, [r7, #8]
 5791 0110 23F08043 		bic	r3, r3, #1073741824
 5792 0114 BB60     		str	r3, [r7, #8]
1735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* make sure to set the correct ep direction */
1737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (hc->ep_is_in != 0U)
 5793              		.loc 1 1737 9
 5794 0116 3B68     		ldr	r3, [r7]
 5795 0118 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 5796              		.loc 1 1737 6
 5797 011a 002B     		cmp	r3, #0
 5798 011c 04D0     		beq	.L250
1738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     tmpreg |= USB_OTG_HCCHAR_EPDIR;
 5799              		.loc 1 1739 12
 5800 011e BB68     		ldr	r3, [r7, #8]
 5801 0120 43F40043 		orr	r3, r3, #32768
 5802 0124 BB60     		str	r3, [r7, #8]
 5803 0126 03E0     		b	.L251
 5804              	.L250:
1740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     tmpreg &= ~USB_OTG_HCCHAR_EPDIR;
 5805              		.loc 1 1743 12
 5806 0128 BB68     		ldr	r3, [r7, #8]
 5807 012a 23F40043 		bic	r3, r3, #32768
 5808 012e BB60     		str	r3, [r7, #8]
 5809              	.L251:
1744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 5810              		.loc 1 1745 10
 5811 0130 BB68     		ldr	r3, [r7, #8]
 5812 0132 43F00043 		orr	r3, r3, #-2147483648
 5813 0136 BB60     		str	r3, [r7, #8]
1746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR = tmpreg;
 5814              		.loc 1 1746 3
 5815 0138 7B69     		ldr	r3, [r7, #20]
 5816 013a 5A01     		lsls	r2, r3, #5
 5817 013c BB69     		ldr	r3, [r7, #24]
 5818 013e 1344     		add	r3, r3, r2
ARM GAS  /tmp/cc3N4Hnz.s 			page 133


 5819 0140 03F5A063 		add	r3, r3, #1280
 5820 0144 1A46     		mov	r2, r3
 5821              		.loc 1 1746 27
 5822 0146 BB68     		ldr	r3, [r7, #8]
 5823 0148 1360     		str	r3, [r2]
1747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((hc->ep_is_in == 0U) && (hc->xfer_len > 0U))
 5824              		.loc 1 1748 10
 5825 014a 3B68     		ldr	r3, [r7]
 5826 014c DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 5827              		.loc 1 1748 6
 5828 014e 002B     		cmp	r3, #0
 5829 0150 47D1     		bne	.L252
 5830              		.loc 1 1748 34 discriminator 1
 5831 0152 3B68     		ldr	r3, [r7]
 5832 0154 9B69     		ldr	r3, [r3, #24]
 5833              		.loc 1 1748 28 discriminator 1
 5834 0156 002B     		cmp	r3, #0
 5835 0158 43D0     		beq	.L252
1749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     switch (hc->ep_type)
 5836              		.loc 1 1750 15
 5837 015a 3B68     		ldr	r3, [r7]
 5838 015c 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
 5839              		.loc 1 1750 5
 5840 015e 032B     		cmp	r3, #3
 5841 0160 30D8     		bhi	.L261
 5842 0162 01A2     		adr	r2, .L255
 5843 0164 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 5844              		.p2align 2
 5845              	.L255:
 5846 0168 79010000 		.word	.L256+1
 5847 016c 9D010000 		.word	.L254+1
 5848 0170 79010000 		.word	.L256+1
 5849 0174 9D010000 		.word	.L254+1
 5850              		.p2align 1
 5851              	.L256:
1751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Non periodic transfer */
1753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       case EP_TYPE_CTRL:
1754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       case EP_TYPE_BULK:
1755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         len_words = (uint16_t)((hc->xfer_len + 3U) / 4U);
 5852              		.loc 1 1756 35
 5853 0178 3B68     		ldr	r3, [r7]
 5854 017a 9B69     		ldr	r3, [r3, #24]
 5855              		.loc 1 1756 46
 5856 017c 0333     		adds	r3, r3, #3
 5857              		.loc 1 1756 52
 5858 017e 9B08     		lsrs	r3, r3, #2
 5859              		.loc 1 1756 19
 5860 0180 FB81     		strh	r3, [r7, #14]	@ movhi
1757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
1759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if (len_words > (USBx->HNPTXSTS & 0xFFFFU))
 5861              		.loc 1 1759 23
 5862 0182 FA89     		ldrh	r2, [r7, #14]
ARM GAS  /tmp/cc3N4Hnz.s 			page 134


 5863              		.loc 1 1759 30
 5864 0184 7B68     		ldr	r3, [r7, #4]
 5865 0186 DB6A     		ldr	r3, [r3, #44]
 5866              		.loc 1 1759 41
 5867 0188 9BB2     		uxth	r3, r3
 5868              		.loc 1 1759 12
 5869 018a 9A42     		cmp	r2, r3
 5870 018c 1CD9     		bls	.L262
1760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
1761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           /* need to process data in nptxfempty interrupt */
1762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           USBx->GINTMSK |= USB_OTG_GINTMSK_NPTXFEM;
 5871              		.loc 1 1762 15
 5872 018e 7B68     		ldr	r3, [r7, #4]
 5873 0190 9B69     		ldr	r3, [r3, #24]
 5874              		.loc 1 1762 25
 5875 0192 43F02002 		orr	r2, r3, #32
 5876 0196 7B68     		ldr	r3, [r7, #4]
 5877 0198 9A61     		str	r2, [r3, #24]
1763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
1764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         break;
 5878              		.loc 1 1764 9
 5879 019a 15E0     		b	.L262
 5880              	.L254:
1765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       /* Periodic transfer */
1767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       case EP_TYPE_INTR:
1768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       case EP_TYPE_ISOC:
1769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         len_words = (uint16_t)((hc->xfer_len + 3U) / 4U);
 5881              		.loc 1 1769 35
 5882 019c 3B68     		ldr	r3, [r7]
 5883 019e 9B69     		ldr	r3, [r3, #24]
 5884              		.loc 1 1769 46
 5885 01a0 0333     		adds	r3, r3, #3
 5886              		.loc 1 1769 52
 5887 01a2 9B08     		lsrs	r3, r3, #2
 5888              		.loc 1 1769 19
 5889 01a4 FB81     		strh	r3, [r7, #14]	@ movhi
1770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
1771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if (len_words > (USBx_HOST->HPTXSTS & 0xFFFFU)) /* split the transfer */
 5890              		.loc 1 1771 23
 5891 01a6 FA89     		ldrh	r2, [r7, #14]
 5892              		.loc 1 1771 26
 5893 01a8 BB69     		ldr	r3, [r7, #24]
 5894 01aa 03F58063 		add	r3, r3, #1024
 5895              		.loc 1 1771 35
 5896 01ae 1B69     		ldr	r3, [r3, #16]
 5897              		.loc 1 1771 45
 5898 01b0 9BB2     		uxth	r3, r3
 5899              		.loc 1 1771 12
 5900 01b2 9A42     		cmp	r2, r3
 5901 01b4 0AD9     		bls	.L263
1772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
1773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           /* need to process data in ptxfempty interrupt */
1774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           USBx->GINTMSK |= USB_OTG_GINTMSK_PTXFEM;
 5902              		.loc 1 1774 15
 5903 01b6 7B68     		ldr	r3, [r7, #4]
 5904 01b8 9B69     		ldr	r3, [r3, #24]
ARM GAS  /tmp/cc3N4Hnz.s 			page 135


 5905              		.loc 1 1774 25
 5906 01ba 43F08062 		orr	r2, r3, #67108864
 5907 01be 7B68     		ldr	r3, [r7, #4]
 5908 01c0 9A61     		str	r2, [r3, #24]
1775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
1776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         break;
 5909              		.loc 1 1776 9
 5910 01c2 03E0     		b	.L263
 5911              	.L261:
1777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       default:
1779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         break;
 5912              		.loc 1 1779 9
 5913 01c4 00BF     		nop
 5914 01c6 02E0     		b	.L258
 5915              	.L262:
1764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 5916              		.loc 1 1764 9
 5917 01c8 00BF     		nop
 5918 01ca 00E0     		b	.L258
 5919              	.L263:
1776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
 5920              		.loc 1 1776 9
 5921 01cc 00BF     		nop
 5922              	.L258:
1780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* Write packet into the Tx FIFO. */
1783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     (void)USB_WritePacket(USBx, hc->xfer_buff, hc->ch_num, (uint16_t)hc->xfer_len);
 5923              		.loc 1 1783 11
 5924 01ce 3B68     		ldr	r3, [r7]
 5925 01d0 1969     		ldr	r1, [r3, #16]
 5926 01d2 3B68     		ldr	r3, [r7]
 5927 01d4 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 5928              		.loc 1 1783 72
 5929 01d6 3B68     		ldr	r3, [r7]
 5930 01d8 9B69     		ldr	r3, [r3, #24]
 5931              		.loc 1 1783 11
 5932 01da 9BB2     		uxth	r3, r3
 5933 01dc 7868     		ldr	r0, [r7, #4]
 5934 01de FFF7FEFF 		bl	USB_WritePacket
 5935              	.L252:
1784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 5936              		.loc 1 1786 10
 5937 01e2 0023     		movs	r3, #0
1787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 5938              		.loc 1 1787 1
 5939 01e4 1846     		mov	r0, r3
 5940 01e6 2037     		adds	r7, r7, #32
 5941              		.cfi_def_cfa_offset 8
 5942 01e8 BD46     		mov	sp, r7
 5943              		.cfi_def_cfa_register 13
 5944              		@ sp needed
 5945 01ea 80BD     		pop	{r7, pc}
 5946              	.L265:
ARM GAS  /tmp/cc3N4Hnz.s 			page 136


 5947              		.align	2
 5948              	.L264:
 5949 01ec 0000F81F 		.word	536346624
 5950              		.cfi_endproc
 5951              	.LFE487:
 5953              		.section	.text.USB_HC_ReadInterrupt,"ax",%progbits
 5954              		.align	1
 5955              		.global	USB_HC_ReadInterrupt
 5956              		.syntax unified
 5957              		.thumb
 5958              		.thumb_func
 5960              	USB_HC_ReadInterrupt:
 5961              	.LFB488:
1788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief Read all host channel interrupts status
1791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL state
1793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** uint32_t USB_HC_ReadInterrupt(const USB_OTG_GlobalTypeDef *USBx)
1795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 5962              		.loc 1 1795 1
 5963              		.cfi_startproc
 5964              		@ args = 0, pretend = 0, frame = 16
 5965              		@ frame_needed = 1, uses_anonymous_args = 0
 5966              		@ link register save eliminated.
 5967 0000 80B4     		push	{r7}
 5968              		.cfi_def_cfa_offset 4
 5969              		.cfi_offset 7, -4
 5970 0002 85B0     		sub	sp, sp, #20
 5971              		.cfi_def_cfa_offset 24
 5972 0004 00AF     		add	r7, sp, #0
 5973              		.cfi_def_cfa_register 7
 5974 0006 7860     		str	r0, [r7, #4]
1796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5975              		.loc 1 1796 12
 5976 0008 7B68     		ldr	r3, [r7, #4]
 5977 000a FB60     		str	r3, [r7, #12]
1797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ((USBx_HOST->HAINT) & 0xFFFFU);
 5978              		.loc 1 1798 12
 5979 000c FB68     		ldr	r3, [r7, #12]
 5980 000e 03F58063 		add	r3, r3, #1024
 5981              		.loc 1 1798 21
 5982 0012 5B69     		ldr	r3, [r3, #20]
 5983              		.loc 1 1798 30
 5984 0014 9BB2     		uxth	r3, r3
1799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 5985              		.loc 1 1799 1
 5986 0016 1846     		mov	r0, r3
 5987 0018 1437     		adds	r7, r7, #20
 5988              		.cfi_def_cfa_offset 4
 5989 001a BD46     		mov	sp, r7
 5990              		.cfi_def_cfa_register 13
 5991              		@ sp needed
 5992 001c 5DF8047B 		ldr	r7, [sp], #4
 5993              		.cfi_restore 7
ARM GAS  /tmp/cc3N4Hnz.s 			page 137


 5994              		.cfi_def_cfa_offset 0
 5995 0020 7047     		bx	lr
 5996              		.cfi_endproc
 5997              	.LFE488:
 5999              		.section	.text.USB_HC_Halt,"ax",%progbits
 6000              		.align	1
 6001              		.global	USB_HC_Halt
 6002              		.syntax unified
 6003              		.thumb
 6004              		.thumb_func
 6006              	USB_HC_Halt:
 6007              	.LFB489:
1800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Halt a host channel
1803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
1805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL state
1807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Halt(const USB_OTG_GlobalTypeDef *USBx, uint8_t hc_num)
1809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 6008              		.loc 1 1809 1
 6009              		.cfi_startproc
 6010              		@ args = 0, pretend = 0, frame = 32
 6011              		@ frame_needed = 1, uses_anonymous_args = 0
 6012              		@ link register save eliminated.
 6013 0000 80B4     		push	{r7}
 6014              		.cfi_def_cfa_offset 4
 6015              		.cfi_offset 7, -4
 6016 0002 89B0     		sub	sp, sp, #36
 6017              		.cfi_def_cfa_offset 40
 6018 0004 00AF     		add	r7, sp, #0
 6019              		.cfi_def_cfa_register 7
 6020 0006 7860     		str	r0, [r7, #4]
 6021 0008 0B46     		mov	r3, r1
 6022 000a FB70     		strb	r3, [r7, #3]
1810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6023              		.loc 1 1810 12
 6024 000c 7B68     		ldr	r3, [r7, #4]
 6025 000e FB61     		str	r3, [r7, #28]
1811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t hcnum = (uint32_t)hc_num;
 6026              		.loc 1 1811 12
 6027 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6028 0012 BB61     		str	r3, [r7, #24]
1812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 6029              		.loc 1 1812 17
 6030 0014 0023     		movs	r3, #0
 6031 0016 BB60     		str	r3, [r7, #8]
1813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t HcEpType = (USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_EPTYP) >> 18;
 6032              		.loc 1 1813 24
 6033 0018 BB69     		ldr	r3, [r7, #24]
 6034 001a 5A01     		lsls	r2, r3, #5
 6035 001c FB69     		ldr	r3, [r7, #28]
 6036 001e 1344     		add	r3, r3, r2
 6037 0020 03F5A063 		add	r3, r3, #1280
 6038              		.loc 1 1813 38
ARM GAS  /tmp/cc3N4Hnz.s 			page 138


 6039 0024 1B68     		ldr	r3, [r3]
 6040              		.loc 1 1813 71
 6041 0026 9B0C     		lsrs	r3, r3, #18
 6042              		.loc 1 1813 12
 6043 0028 03F00303 		and	r3, r3, #3
 6044 002c 7B61     		str	r3, [r7, #20]
1814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t ChannelEna = (USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) >> 31;
 6045              		.loc 1 1814 26
 6046 002e BB69     		ldr	r3, [r7, #24]
 6047 0030 5A01     		lsls	r2, r3, #5
 6048 0032 FB69     		ldr	r3, [r7, #28]
 6049 0034 1344     		add	r3, r3, r2
 6050 0036 03F5A063 		add	r3, r3, #1280
 6051              		.loc 1 1814 40
 6052 003a 1B68     		ldr	r3, [r3]
 6053              		.loc 1 1814 73
 6054 003c DB0F     		lsrs	r3, r3, #31
 6055              		.loc 1 1814 12
 6056 003e 03F00103 		and	r3, r3, #1
 6057 0042 3B61     		str	r3, [r7, #16]
1815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t SplitEna = (USBx_HC(hcnum)->HCSPLT & USB_OTG_HCSPLT_SPLITEN) >> 31;
 6058              		.loc 1 1815 24
 6059 0044 BB69     		ldr	r3, [r7, #24]
 6060 0046 5A01     		lsls	r2, r3, #5
 6061 0048 FB69     		ldr	r3, [r7, #28]
 6062 004a 1344     		add	r3, r3, r2
 6063 004c 03F5A063 		add	r3, r3, #1280
 6064              		.loc 1 1815 38
 6065 0050 5B68     		ldr	r3, [r3, #4]
 6066              		.loc 1 1815 73
 6067 0052 DB0F     		lsrs	r3, r3, #31
 6068              		.loc 1 1815 12
 6069 0054 03F00103 		and	r3, r3, #1
 6070 0058 FB60     		str	r3, [r7, #12]
1816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* In buffer DMA, Channel disable must not be programmed for non-split periodic channels.
1818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****      At the end of the next uframe/frame (in the worst case), the core generates a channel halted
1819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****      and disables the channel automatically. */
1820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((((USBx->GAHBCFG & USB_OTG_GAHBCFG_DMAEN) == USB_OTG_GAHBCFG_DMAEN) && (SplitEna == 0U)) &&
 6071              		.loc 1 1821 14
 6072 005a 7B68     		ldr	r3, [r7, #4]
 6073 005c 9B68     		ldr	r3, [r3, #8]
 6074              		.loc 1 1821 24
 6075 005e 03F02003 		and	r3, r3, #32
 6076              		.loc 1 1821 6
 6077 0062 202B     		cmp	r3, #32
 6078 0064 0DD1     		bne	.L269
 6079              		.loc 1 1821 75 discriminator 1
 6080 0066 FB68     		ldr	r3, [r7, #12]
 6081 0068 002B     		cmp	r3, #0
 6082 006a 0AD1     		bne	.L269
 6083              		.loc 1 1821 96 discriminator 2
 6084 006c 3B69     		ldr	r3, [r7, #16]
 6085 006e 002B     		cmp	r3, #0
 6086 0070 05D0     		beq	.L270
1822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       ((ChannelEna == 0U) || (((HcEpType == HCCHAR_ISOC) || (HcEpType == HCCHAR_INTR)))))
ARM GAS  /tmp/cc3N4Hnz.s 			page 139


 6087              		.loc 1 1822 27
 6088 0072 7B69     		ldr	r3, [r7, #20]
 6089 0074 012B     		cmp	r3, #1
 6090 0076 02D0     		beq	.L270
 6091              		.loc 1 1822 58 discriminator 1
 6092 0078 7B69     		ldr	r3, [r7, #20]
 6093 007a 032B     		cmp	r3, #3
 6094 007c 01D1     		bne	.L269
 6095              	.L270:
1823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     return HAL_OK;
 6096              		.loc 1 1824 12
 6097 007e 0023     		movs	r3, #0
 6098 0080 D8E0     		b	.L271
 6099              	.L269:
1825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Check for space in the request queue to issue the halt. */
1828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((HcEpType == HCCHAR_CTRL) || (HcEpType == HCCHAR_BULK))
 6100              		.loc 1 1828 6
 6101 0082 7B69     		ldr	r3, [r7, #20]
 6102 0084 002B     		cmp	r3, #0
 6103 0086 02D0     		beq	.L272
 6104              		.loc 1 1828 33 discriminator 1
 6105 0088 7B69     		ldr	r3, [r7, #20]
 6106 008a 022B     		cmp	r3, #2
 6107 008c 73D1     		bne	.L273
 6108              	.L272:
1829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 6109              		.loc 1 1830 19
 6110 008e BB69     		ldr	r3, [r7, #24]
 6111 0090 5A01     		lsls	r2, r3, #5
 6112 0092 FB69     		ldr	r3, [r7, #28]
 6113 0094 1344     		add	r3, r3, r2
 6114 0096 03F5A063 		add	r3, r3, #1280
 6115 009a 1B68     		ldr	r3, [r3]
 6116 009c BA69     		ldr	r2, [r7, #24]
 6117 009e 5101     		lsls	r1, r2, #5
 6118 00a0 FA69     		ldr	r2, [r7, #28]
 6119 00a2 0A44     		add	r2, r2, r1
 6120 00a4 02F5A062 		add	r2, r2, #1280
 6121              		.loc 1 1830 28
 6122 00a8 43F08043 		orr	r3, r3, #1073741824
 6123 00ac 1360     		str	r3, [r2]
1831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx->GAHBCFG & USB_OTG_GAHBCFG_DMAEN) == 0U)
 6124              		.loc 1 1832 14
 6125 00ae 7B68     		ldr	r3, [r7, #4]
 6126 00b0 9B68     		ldr	r3, [r3, #8]
 6127              		.loc 1 1832 24
 6128 00b2 03F02003 		and	r3, r3, #32
 6129              		.loc 1 1832 8
 6130 00b6 002B     		cmp	r3, #0
 6131 00b8 4AD1     		bne	.L274
1833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if ((USBx->HNPTXSTS & (0xFFUL << 16)) == 0U)
ARM GAS  /tmp/cc3N4Hnz.s 			page 140


 6132              		.loc 1 1834 16
 6133 00ba 7B68     		ldr	r3, [r7, #4]
 6134 00bc DB6A     		ldr	r3, [r3, #44]
 6135              		.loc 1 1834 27
 6136 00be 03F47F03 		and	r3, r3, #16711680
 6137              		.loc 1 1834 10
 6138 00c2 002B     		cmp	r3, #0
 6139 00c4 33D1     		bne	.L275
1835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 6140              		.loc 1 1836 23
 6141 00c6 BB69     		ldr	r3, [r7, #24]
 6142 00c8 5A01     		lsls	r2, r3, #5
 6143 00ca FB69     		ldr	r3, [r7, #28]
 6144 00cc 1344     		add	r3, r3, r2
 6145 00ce 03F5A063 		add	r3, r3, #1280
 6146 00d2 1B68     		ldr	r3, [r3]
 6147 00d4 BA69     		ldr	r2, [r7, #24]
 6148 00d6 5101     		lsls	r1, r2, #5
 6149 00d8 FA69     		ldr	r2, [r7, #28]
 6150 00da 0A44     		add	r2, r2, r1
 6151 00dc 02F5A062 		add	r2, r2, #1280
 6152              		.loc 1 1836 32
 6153 00e0 23F00043 		bic	r3, r3, #-2147483648
 6154 00e4 1360     		str	r3, [r2]
1837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6155              		.loc 1 1837 23
 6156 00e6 BB69     		ldr	r3, [r7, #24]
 6157 00e8 5A01     		lsls	r2, r3, #5
 6158 00ea FB69     		ldr	r3, [r7, #28]
 6159 00ec 1344     		add	r3, r3, r2
 6160 00ee 03F5A063 		add	r3, r3, #1280
 6161 00f2 1B68     		ldr	r3, [r3]
 6162 00f4 BA69     		ldr	r2, [r7, #24]
 6163 00f6 5101     		lsls	r1, r2, #5
 6164 00f8 FA69     		ldr	r2, [r7, #28]
 6165 00fa 0A44     		add	r2, r2, r1
 6166 00fc 02F5A062 		add	r2, r2, #1280
 6167              		.loc 1 1837 32
 6168 0100 43F00043 		orr	r3, r3, #-2147483648
 6169 0104 1360     		str	r3, [r2]
 6170              	.L278:
1838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         do
1839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
1840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           count++;
 6171              		.loc 1 1840 16
 6172 0106 BB68     		ldr	r3, [r7, #8]
 6173 0108 0133     		adds	r3, r3, #1
 6174 010a BB60     		str	r3, [r7, #8]
1841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           if (count > 1000U)
 6175              		.loc 1 1842 21
 6176 010c BB68     		ldr	r3, [r7, #8]
 6177              		.loc 1 1842 14
 6178 010e B3F57A7F 		cmp	r3, #1000
 6179 0112 2ED8     		bhi	.L286
1843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           {
ARM GAS  /tmp/cc3N4Hnz.s 			page 141


1844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****             break;
1845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           }
1846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         } while ((USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 6180              		.loc 1 1846 19
 6181 0114 BB69     		ldr	r3, [r7, #24]
 6182 0116 5A01     		lsls	r2, r3, #5
 6183 0118 FB69     		ldr	r3, [r7, #28]
 6184 011a 1344     		add	r3, r3, r2
 6185 011c 03F5A063 		add	r3, r3, #1280
 6186              		.loc 1 1846 33
 6187 0120 1B68     		ldr	r3, [r3]
 6188              		.loc 1 1846 42
 6189 0122 03F00043 		and	r3, r3, #-2147483648
 6190              		.loc 1 1846 66
 6191 0126 B3F1004F 		cmp	r3, #-2147483648
 6192 012a ECD0     		beq	.L278
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 6193              		.loc 1 1832 8
 6194 012c 81E0     		b	.L280
 6195              	.L275:
1847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
1848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       else
1849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6196              		.loc 1 1850 23
 6197 012e BB69     		ldr	r3, [r7, #24]
 6198 0130 5A01     		lsls	r2, r3, #5
 6199 0132 FB69     		ldr	r3, [r7, #28]
 6200 0134 1344     		add	r3, r3, r2
 6201 0136 03F5A063 		add	r3, r3, #1280
 6202 013a 1B68     		ldr	r3, [r3]
 6203 013c BA69     		ldr	r2, [r7, #24]
 6204 013e 5101     		lsls	r1, r2, #5
 6205 0140 FA69     		ldr	r2, [r7, #28]
 6206 0142 0A44     		add	r2, r2, r1
 6207 0144 02F5A062 		add	r2, r2, #1280
 6208              		.loc 1 1850 32
 6209 0148 43F00043 		orr	r3, r3, #-2147483648
 6210 014c 1360     		str	r3, [r2]
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 6211              		.loc 1 1832 8
 6212 014e 70E0     		b	.L280
 6213              	.L274:
1851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
1852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
1854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6214              		.loc 1 1855 21
 6215 0150 BB69     		ldr	r3, [r7, #24]
 6216 0152 5A01     		lsls	r2, r3, #5
 6217 0154 FB69     		ldr	r3, [r7, #28]
 6218 0156 1344     		add	r3, r3, r2
 6219 0158 03F5A063 		add	r3, r3, #1280
 6220 015c 1B68     		ldr	r3, [r3]
 6221 015e BA69     		ldr	r2, [r7, #24]
 6222 0160 5101     		lsls	r1, r2, #5
ARM GAS  /tmp/cc3N4Hnz.s 			page 142


 6223 0162 FA69     		ldr	r2, [r7, #28]
 6224 0164 0A44     		add	r2, r2, r1
 6225 0166 02F5A062 		add	r2, r2, #1280
 6226              		.loc 1 1855 30
 6227 016a 43F00043 		orr	r3, r3, #-2147483648
 6228 016e 1360     		str	r3, [r2]
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 6229              		.loc 1 1832 8
 6230 0170 5FE0     		b	.L280
 6231              	.L286:
1844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           }
 6232              		.loc 1 1844 13
 6233 0172 00BF     		nop
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
 6234              		.loc 1 1832 8
 6235 0174 5DE0     		b	.L280
 6236              	.L273:
1856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   else
1859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 6237              		.loc 1 1860 19
 6238 0176 BB69     		ldr	r3, [r7, #24]
 6239 0178 5A01     		lsls	r2, r3, #5
 6240 017a FB69     		ldr	r3, [r7, #28]
 6241 017c 1344     		add	r3, r3, r2
 6242 017e 03F5A063 		add	r3, r3, #1280
 6243 0182 1B68     		ldr	r3, [r3]
 6244 0184 BA69     		ldr	r2, [r7, #24]
 6245 0186 5101     		lsls	r1, r2, #5
 6246 0188 FA69     		ldr	r2, [r7, #28]
 6247 018a 0A44     		add	r2, r2, r1
 6248 018c 02F5A062 		add	r2, r2, #1280
 6249              		.loc 1 1860 28
 6250 0190 43F08043 		orr	r3, r3, #1073741824
 6251 0194 1360     		str	r3, [r2]
1861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     if ((USBx_HOST->HPTXSTS & (0xFFUL << 16)) == 0U)
 6252              		.loc 1 1862 10
 6253 0196 FB69     		ldr	r3, [r7, #28]
 6254 0198 03F58063 		add	r3, r3, #1024
 6255              		.loc 1 1862 19
 6256 019c 1B69     		ldr	r3, [r3, #16]
 6257              		.loc 1 1862 29
 6258 019e 03F47F03 		and	r3, r3, #16711680
 6259              		.loc 1 1862 8
 6260 01a2 002B     		cmp	r3, #0
 6261 01a4 33D1     		bne	.L281
1863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 6262              		.loc 1 1864 21
 6263 01a6 BB69     		ldr	r3, [r7, #24]
 6264 01a8 5A01     		lsls	r2, r3, #5
 6265 01aa FB69     		ldr	r3, [r7, #28]
 6266 01ac 1344     		add	r3, r3, r2
 6267 01ae 03F5A063 		add	r3, r3, #1280
ARM GAS  /tmp/cc3N4Hnz.s 			page 143


 6268 01b2 1B68     		ldr	r3, [r3]
 6269 01b4 BA69     		ldr	r2, [r7, #24]
 6270 01b6 5101     		lsls	r1, r2, #5
 6271 01b8 FA69     		ldr	r2, [r7, #28]
 6272 01ba 0A44     		add	r2, r2, r1
 6273 01bc 02F5A062 		add	r2, r2, #1280
 6274              		.loc 1 1864 30
 6275 01c0 23F00043 		bic	r3, r3, #-2147483648
 6276 01c4 1360     		str	r3, [r2]
1865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6277              		.loc 1 1865 21
 6278 01c6 BB69     		ldr	r3, [r7, #24]
 6279 01c8 5A01     		lsls	r2, r3, #5
 6280 01ca FB69     		ldr	r3, [r7, #28]
 6281 01cc 1344     		add	r3, r3, r2
 6282 01ce 03F5A063 		add	r3, r3, #1280
 6283 01d2 1B68     		ldr	r3, [r3]
 6284 01d4 BA69     		ldr	r2, [r7, #24]
 6285 01d6 5101     		lsls	r1, r2, #5
 6286 01d8 FA69     		ldr	r2, [r7, #28]
 6287 01da 0A44     		add	r2, r2, r1
 6288 01dc 02F5A062 		add	r2, r2, #1280
 6289              		.loc 1 1865 30
 6290 01e0 43F00043 		orr	r3, r3, #-2147483648
 6291 01e4 1360     		str	r3, [r2]
 6292              	.L284:
1866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       do
1867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         count++;
 6293              		.loc 1 1868 14
 6294 01e6 BB68     		ldr	r3, [r7, #8]
 6295 01e8 0133     		adds	r3, r3, #1
 6296 01ea BB60     		str	r3, [r7, #8]
1869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         if (count > 1000U)
 6297              		.loc 1 1870 19
 6298 01ec BB68     		ldr	r3, [r7, #8]
 6299              		.loc 1 1870 12
 6300 01ee B3F57A7F 		cmp	r3, #1000
 6301 01f2 1DD8     		bhi	.L287
1871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         {
1872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****           break;
1873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
1874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       } while ((USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 6302              		.loc 1 1874 17
 6303 01f4 BB69     		ldr	r3, [r7, #24]
 6304 01f6 5A01     		lsls	r2, r3, #5
 6305 01f8 FB69     		ldr	r3, [r7, #28]
 6306 01fa 1344     		add	r3, r3, r2
 6307 01fc 03F5A063 		add	r3, r3, #1280
 6308              		.loc 1 1874 31
 6309 0200 1B68     		ldr	r3, [r3]
 6310              		.loc 1 1874 40
 6311 0202 03F00043 		and	r3, r3, #-2147483648
 6312              		.loc 1 1874 64
 6313 0206 B3F1004F 		cmp	r3, #-2147483648
 6314 020a ECD0     		beq	.L284
ARM GAS  /tmp/cc3N4Hnz.s 			page 144


 6315 020c 11E0     		b	.L280
 6316              	.L281:
1875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     else
1877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6317              		.loc 1 1878 21
 6318 020e BB69     		ldr	r3, [r7, #24]
 6319 0210 5A01     		lsls	r2, r3, #5
 6320 0212 FB69     		ldr	r3, [r7, #28]
 6321 0214 1344     		add	r3, r3, r2
 6322 0216 03F5A063 		add	r3, r3, #1280
 6323 021a 1B68     		ldr	r3, [r3]
 6324 021c BA69     		ldr	r2, [r7, #24]
 6325 021e 5101     		lsls	r1, r2, #5
 6326 0220 FA69     		ldr	r2, [r7, #28]
 6327 0222 0A44     		add	r2, r2, r1
 6328 0224 02F5A062 		add	r2, r2, #1280
 6329              		.loc 1 1878 30
 6330 0228 43F00043 		orr	r3, r3, #-2147483648
 6331 022c 1360     		str	r3, [r2]
 6332 022e 00E0     		b	.L280
 6333              	.L287:
1872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         }
 6334              		.loc 1 1872 11
 6335 0230 00BF     		nop
 6336              	.L280:
1879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     }
1880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 6337              		.loc 1 1882 10
 6338 0232 0023     		movs	r3, #0
 6339              	.L271:
1883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 6340              		.loc 1 1883 1
 6341 0234 1846     		mov	r0, r3
 6342 0236 2437     		adds	r7, r7, #36
 6343              		.cfi_def_cfa_offset 4
 6344 0238 BD46     		mov	sp, r7
 6345              		.cfi_def_cfa_register 13
 6346              		@ sp needed
 6347 023a 5DF8047B 		ldr	r7, [sp], #4
 6348              		.cfi_restore 7
 6349              		.cfi_def_cfa_offset 0
 6350 023e 7047     		bx	lr
 6351              		.cfi_endproc
 6352              	.LFE489:
 6354              		.section	.text.USB_HC_Activate,"ax",%progbits
 6355              		.align	1
 6356              		.global	USB_HC_Activate
 6357              		.syntax unified
 6358              		.thumb
 6359              		.thumb_func
 6361              	USB_HC_Activate:
 6362              	.LFB490:
1884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
ARM GAS  /tmp/cc3N4Hnz.s 			page 145


1885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Activate a host channel
1887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ch_num  Host Channel number
1889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  ch_dir Host Channel direction
1891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL state
1892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Activate(const USB_OTG_GlobalTypeDef *USBx, uint8_t ch_num, uint8_t ch_dir
1894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 6363              		.loc 1 1894 1
 6364              		.cfi_startproc
 6365              		@ args = 0, pretend = 0, frame = 16
 6366              		@ frame_needed = 1, uses_anonymous_args = 0
 6367              		@ link register save eliminated.
 6368 0000 80B4     		push	{r7}
 6369              		.cfi_def_cfa_offset 4
 6370              		.cfi_offset 7, -4
 6371 0002 85B0     		sub	sp, sp, #20
 6372              		.cfi_def_cfa_offset 24
 6373 0004 00AF     		add	r7, sp, #0
 6374              		.cfi_def_cfa_register 7
 6375 0006 7860     		str	r0, [r7, #4]
 6376 0008 0B46     		mov	r3, r1
 6377 000a FB70     		strb	r3, [r7, #3]
 6378 000c 1346     		mov	r3, r2
 6379 000e BB70     		strb	r3, [r7, #2]
1895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   UNUSED(ch_dir);
1896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t tmpreg;
1898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6380              		.loc 1 1898 12
 6381 0010 7B68     		ldr	r3, [r7, #4]
 6382 0012 FB60     		str	r3, [r7, #12]
1899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* activate the channel */
1901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg = USBx_HC(ch_num)->HCCHAR;
 6383              		.loc 1 1901 12
 6384 0014 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6385 0016 5A01     		lsls	r2, r3, #5
 6386 0018 FB68     		ldr	r3, [r7, #12]
 6387 001a 1344     		add	r3, r3, r2
 6388 001c 03F5A063 		add	r3, r3, #1280
 6389              		.loc 1 1901 27
 6390 0020 1B68     		ldr	r3, [r3]
 6391              		.loc 1 1901 10
 6392 0022 BB60     		str	r3, [r7, #8]
1902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((tmpreg & USB_OTG_HCCHAR_CHDIS) == 0U)
 6393              		.loc 1 1903 15
 6394 0024 BB68     		ldr	r3, [r7, #8]
 6395 0026 03F08043 		and	r3, r3, #1073741824
 6396              		.loc 1 1903 6
 6397 002a 002B     		cmp	r3, #0
 6398 002c 0CD1     		bne	.L289
1904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     tmpreg |= USB_OTG_HCCHAR_CHENA;
ARM GAS  /tmp/cc3N4Hnz.s 			page 146


 6399              		.loc 1 1905 12
 6400 002e BB68     		ldr	r3, [r7, #8]
 6401 0030 43F00043 		orr	r3, r3, #-2147483648
 6402 0034 BB60     		str	r3, [r7, #8]
1906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC(ch_num)->HCCHAR = tmpreg;
 6403              		.loc 1 1906 5
 6404 0036 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6405 0038 5A01     		lsls	r2, r3, #5
 6406 003a FB68     		ldr	r3, [r7, #12]
 6407 003c 1344     		add	r3, r3, r2
 6408 003e 03F5A063 		add	r3, r3, #1280
 6409 0042 1A46     		mov	r2, r3
 6410              		.loc 1 1906 29
 6411 0044 BB68     		ldr	r3, [r7, #8]
 6412 0046 1360     		str	r3, [r2]
 6413              	.L289:
1907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 6414              		.loc 1 1909 10
 6415 0048 0023     		movs	r3, #0
1910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 6416              		.loc 1 1910 1
 6417 004a 1846     		mov	r0, r3
 6418 004c 1437     		adds	r7, r7, #20
 6419              		.cfi_def_cfa_offset 4
 6420 004e BD46     		mov	sp, r7
 6421              		.cfi_def_cfa_register 13
 6422              		@ sp needed
 6423 0050 5DF8047B 		ldr	r7, [sp], #4
 6424              		.cfi_restore 7
 6425              		.cfi_def_cfa_offset 0
 6426 0054 7047     		bx	lr
 6427              		.cfi_endproc
 6428              	.LFE490:
 6430              		.section	.text.USB_DoPing,"ax",%progbits
 6431              		.align	1
 6432              		.global	USB_DoPing
 6433              		.syntax unified
 6434              		.thumb
 6435              		.thumb_func
 6437              	USB_DoPing:
 6438              	.LFB491:
1911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** #endif /* defined (HAL_HCD_MODULE_ENABLED) */
1912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Initiate Do Ping protocol
1915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
1917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL state
1919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DoPing(const USB_OTG_GlobalTypeDef *USBx, uint8_t ch_num)
1921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 6439              		.loc 1 1921 1
 6440              		.cfi_startproc
 6441              		@ args = 0, pretend = 0, frame = 24
ARM GAS  /tmp/cc3N4Hnz.s 			page 147


 6442              		@ frame_needed = 1, uses_anonymous_args = 0
 6443              		@ link register save eliminated.
 6444 0000 80B4     		push	{r7}
 6445              		.cfi_def_cfa_offset 4
 6446              		.cfi_offset 7, -4
 6447 0002 87B0     		sub	sp, sp, #28
 6448              		.cfi_def_cfa_offset 32
 6449 0004 00AF     		add	r7, sp, #0
 6450              		.cfi_def_cfa_register 7
 6451 0006 7860     		str	r0, [r7, #4]
 6452 0008 0B46     		mov	r3, r1
 6453 000a FB70     		strb	r3, [r7, #3]
1922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6454              		.loc 1 1922 12
 6455 000c 7B68     		ldr	r3, [r7, #4]
 6456 000e 7B61     		str	r3, [r7, #20]
1923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t chnum = (uint32_t)ch_num;
 6457              		.loc 1 1923 12
 6458 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6459 0012 3B61     		str	r3, [r7, #16]
1924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t num_packets = 1U;
 6460              		.loc 1 1924 12
 6461 0014 0123     		movs	r3, #1
 6462 0016 FB60     		str	r3, [r7, #12]
1925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t tmpreg;
1926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC(chnum)->HCTSIZ = ((num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6463              		.loc 1 1927 42
 6464 0018 FB68     		ldr	r3, [r7, #12]
 6465 001a DA04     		lsls	r2, r3, #19
 6466              		.loc 1 1927 49
 6467 001c 154B     		ldr	r3, .L293
 6468 001e 1340     		ands	r3, r3, r2
 6469              		.loc 1 1927 3
 6470 0020 3A69     		ldr	r2, [r7, #16]
 6471 0022 5101     		lsls	r1, r2, #5
 6472 0024 7A69     		ldr	r2, [r7, #20]
 6473 0026 0A44     		add	r2, r2, r1
 6474 0028 02F5A062 		add	r2, r2, #1280
 6475              		.loc 1 1927 74
 6476 002c 43F00043 		orr	r3, r3, #-2147483648
 6477              		.loc 1 1927 26
 6478 0030 1361     		str	r3, [r2, #16]
1928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****                            USB_OTG_HCTSIZ_DOPING;
1929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Set host channel enable */
1931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg = USBx_HC(chnum)->HCCHAR;
 6479              		.loc 1 1931 12
 6480 0032 3B69     		ldr	r3, [r7, #16]
 6481 0034 5A01     		lsls	r2, r3, #5
 6482 0036 7B69     		ldr	r3, [r7, #20]
 6483 0038 1344     		add	r3, r3, r2
 6484 003a 03F5A063 		add	r3, r3, #1280
 6485              		.loc 1 1931 10
 6486 003e 1B68     		ldr	r3, [r3]
 6487 0040 BB60     		str	r3, [r7, #8]
1932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
ARM GAS  /tmp/cc3N4Hnz.s 			page 148


 6488              		.loc 1 1932 10
 6489 0042 BB68     		ldr	r3, [r7, #8]
 6490 0044 23F08043 		bic	r3, r3, #1073741824
 6491 0048 BB60     		str	r3, [r7, #8]
1933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 6492              		.loc 1 1933 10
 6493 004a BB68     		ldr	r3, [r7, #8]
 6494 004c 43F00043 		orr	r3, r3, #-2147483648
 6495 0050 BB60     		str	r3, [r7, #8]
1934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HC(chnum)->HCCHAR = tmpreg;
 6496              		.loc 1 1934 3
 6497 0052 3B69     		ldr	r3, [r7, #16]
 6498 0054 5A01     		lsls	r2, r3, #5
 6499 0056 7B69     		ldr	r3, [r7, #20]
 6500 0058 1344     		add	r3, r3, r2
 6501 005a 03F5A063 		add	r3, r3, #1280
 6502 005e 1A46     		mov	r2, r3
 6503              		.loc 1 1934 26
 6504 0060 BB68     		ldr	r3, [r7, #8]
 6505 0062 1360     		str	r3, [r2]
1935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 6506              		.loc 1 1936 10
 6507 0064 0023     		movs	r3, #0
1937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 6508              		.loc 1 1937 1
 6509 0066 1846     		mov	r0, r3
 6510 0068 1C37     		adds	r7, r7, #28
 6511              		.cfi_def_cfa_offset 4
 6512 006a BD46     		mov	sp, r7
 6513              		.cfi_def_cfa_register 13
 6514              		@ sp needed
 6515 006c 5DF8047B 		ldr	r7, [sp], #4
 6516              		.cfi_restore 7
 6517              		.cfi_def_cfa_offset 0
 6518 0070 7047     		bx	lr
 6519              	.L294:
 6520 0072 00BF     		.align	2
 6521              	.L293:
 6522 0074 0000F81F 		.word	536346624
 6523              		.cfi_endproc
 6524              	.LFE491:
 6526              		.section	.text.USB_StopHost,"ax",%progbits
 6527              		.align	1
 6528              		.global	USB_StopHost
 6529              		.syntax unified
 6530              		.thumb
 6531              		.thumb_func
 6533              	USB_StopHost:
 6534              	.LFB492:
1938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
1940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  Stop Host Core
1941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx  Selected device
1942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL state
1943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
1944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopHost(USB_OTG_GlobalTypeDef *USBx)
ARM GAS  /tmp/cc3N4Hnz.s 			page 149


1945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 6535              		.loc 1 1945 1
 6536              		.cfi_startproc
 6537              		@ args = 0, pretend = 0, frame = 32
 6538              		@ frame_needed = 1, uses_anonymous_args = 0
 6539 0000 80B5     		push	{r7, lr}
 6540              		.cfi_def_cfa_offset 8
 6541              		.cfi_offset 7, -8
 6542              		.cfi_offset 14, -4
 6543 0002 88B0     		sub	sp, sp, #32
 6544              		.cfi_def_cfa_offset 40
 6545 0004 00AF     		add	r7, sp, #0
 6546              		.cfi_def_cfa_register 7
 6547 0006 7860     		str	r0, [r7, #4]
1946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 6548              		.loc 1 1946 21
 6549 0008 0023     		movs	r3, #0
 6550 000a FB77     		strb	r3, [r7, #31]
1947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6551              		.loc 1 1947 12
 6552 000c 7B68     		ldr	r3, [r7, #4]
 6553 000e 7B61     		str	r3, [r7, #20]
1948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   __IO uint32_t count = 0U;
 6554              		.loc 1 1948 17
 6555 0010 0023     		movs	r3, #0
 6556 0012 FB60     		str	r3, [r7, #12]
1949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t value;
1950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t i;
1951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   (void)USB_DisableGlobalInt(USBx);
 6557              		.loc 1 1952 9
 6558 0014 7868     		ldr	r0, [r7, #4]
 6559 0016 FFF7FEFF 		bl	USB_DisableGlobalInt
1953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Flush USB FIFO */
1955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 6560              		.loc 1 1955 7
 6561 001a 1021     		movs	r1, #16
 6562 001c 7868     		ldr	r0, [r7, #4]
 6563 001e FFF7FEFF 		bl	USB_FlushTxFifo
 6564 0022 0346     		mov	r3, r0
 6565              		.loc 1 1955 6 discriminator 1
 6566 0024 002B     		cmp	r3, #0
 6567 0026 01D0     		beq	.L296
1956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     ret = HAL_ERROR;
 6568              		.loc 1 1957 9
 6569 0028 0123     		movs	r3, #1
 6570 002a FB77     		strb	r3, [r7, #31]
 6571              	.L296:
1958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 6572              		.loc 1 1960 7
 6573 002c 7868     		ldr	r0, [r7, #4]
 6574 002e FFF7FEFF 		bl	USB_FlushRxFifo
 6575 0032 0346     		mov	r3, r0
ARM GAS  /tmp/cc3N4Hnz.s 			page 150


 6576              		.loc 1 1960 6 discriminator 1
 6577 0034 002B     		cmp	r3, #0
 6578 0036 01D0     		beq	.L297
1961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     ret = HAL_ERROR;
 6579              		.loc 1 1962 9
 6580 0038 0123     		movs	r3, #1
 6581 003a FB77     		strb	r3, [r7, #31]
 6582              	.L297:
1963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Flush out any leftover queued requests. */
1966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
 6583              		.loc 1 1966 10
 6584 003c 0023     		movs	r3, #0
 6585 003e BB61     		str	r3, [r7, #24]
 6586              		.loc 1 1966 3
 6587 0040 1FE0     		b	.L298
 6588              	.L299:
1967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR;
 6589              		.loc 1 1968 13
 6590 0042 BB69     		ldr	r3, [r7, #24]
 6591 0044 5A01     		lsls	r2, r3, #5
 6592 0046 7B69     		ldr	r3, [r7, #20]
 6593 0048 1344     		add	r3, r3, r2
 6594 004a 03F5A063 		add	r3, r3, #1280
 6595              		.loc 1 1968 11
 6596 004e 1B68     		ldr	r3, [r3]
 6597 0050 3B61     		str	r3, [r7, #16]
1969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value |=  USB_OTG_HCCHAR_CHDIS;
 6598              		.loc 1 1969 11
 6599 0052 3B69     		ldr	r3, [r7, #16]
 6600 0054 43F08043 		orr	r3, r3, #1073741824
 6601 0058 3B61     		str	r3, [r7, #16]
1970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_CHENA;
 6602              		.loc 1 1970 11
 6603 005a 3B69     		ldr	r3, [r7, #16]
 6604 005c 23F00043 		bic	r3, r3, #-2147483648
 6605 0060 3B61     		str	r3, [r7, #16]
1971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 6606              		.loc 1 1971 11
 6607 0062 3B69     		ldr	r3, [r7, #16]
 6608 0064 23F40043 		bic	r3, r3, #32768
 6609 0068 3B61     		str	r3, [r7, #16]
1972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 6610              		.loc 1 1972 5
 6611 006a BB69     		ldr	r3, [r7, #24]
 6612 006c 5A01     		lsls	r2, r3, #5
 6613 006e 7B69     		ldr	r3, [r7, #20]
 6614 0070 1344     		add	r3, r3, r2
 6615 0072 03F5A063 		add	r3, r3, #1280
 6616 0076 1A46     		mov	r2, r3
 6617              		.loc 1 1972 24
 6618 0078 3B69     		ldr	r3, [r7, #16]
 6619 007a 1360     		str	r3, [r2]
1966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
ARM GAS  /tmp/cc3N4Hnz.s 			page 151


 6620              		.loc 1 1966 27 discriminator 3
 6621 007c BB69     		ldr	r3, [r7, #24]
 6622 007e 0133     		adds	r3, r3, #1
 6623 0080 BB61     		str	r3, [r7, #24]
 6624              	.L298:
1966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 6625              		.loc 1 1966 18 discriminator 1
 6626 0082 BB69     		ldr	r3, [r7, #24]
 6627 0084 0F2B     		cmp	r3, #15
 6628 0086 DCD9     		bls	.L299
1973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Halt all channels to put them into a known state. */
1976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
 6629              		.loc 1 1976 10
 6630 0088 0023     		movs	r3, #0
 6631 008a BB61     		str	r3, [r7, #24]
 6632              		.loc 1 1976 3
 6633 008c 34E0     		b	.L300
 6634              	.L304:
1977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
1978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR;
 6635              		.loc 1 1978 13
 6636 008e BB69     		ldr	r3, [r7, #24]
 6637 0090 5A01     		lsls	r2, r3, #5
 6638 0092 7B69     		ldr	r3, [r7, #20]
 6639 0094 1344     		add	r3, r3, r2
 6640 0096 03F5A063 		add	r3, r3, #1280
 6641              		.loc 1 1978 11
 6642 009a 1B68     		ldr	r3, [r3]
 6643 009c 3B61     		str	r3, [r7, #16]
1979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHDIS;
 6644              		.loc 1 1979 11
 6645 009e 3B69     		ldr	r3, [r7, #16]
 6646 00a0 43F08043 		orr	r3, r3, #1073741824
 6647 00a4 3B61     		str	r3, [r7, #16]
1980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHENA;
 6648              		.loc 1 1980 11
 6649 00a6 3B69     		ldr	r3, [r7, #16]
 6650 00a8 43F00043 		orr	r3, r3, #-2147483648
 6651 00ac 3B61     		str	r3, [r7, #16]
1981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 6652              		.loc 1 1981 11
 6653 00ae 3B69     		ldr	r3, [r7, #16]
 6654 00b0 23F40043 		bic	r3, r3, #32768
 6655 00b4 3B61     		str	r3, [r7, #16]
1982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 6656              		.loc 1 1982 5
 6657 00b6 BB69     		ldr	r3, [r7, #24]
 6658 00b8 5A01     		lsls	r2, r3, #5
 6659 00ba 7B69     		ldr	r3, [r7, #20]
 6660 00bc 1344     		add	r3, r3, r2
 6661 00be 03F5A063 		add	r3, r3, #1280
 6662 00c2 1A46     		mov	r2, r3
 6663              		.loc 1 1982 24
 6664 00c4 3B69     		ldr	r3, [r7, #16]
 6665 00c6 1360     		str	r3, [r2]
ARM GAS  /tmp/cc3N4Hnz.s 			page 152


 6666              	.L303:
1983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     do
1985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     {
1986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       count++;
 6667              		.loc 1 1986 12
 6668 00c8 FB68     		ldr	r3, [r7, #12]
 6669 00ca 0133     		adds	r3, r3, #1
 6670 00cc FB60     		str	r3, [r7, #12]
1987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       if (count > 1000U)
 6671              		.loc 1 1988 17
 6672 00ce FB68     		ldr	r3, [r7, #12]
 6673              		.loc 1 1988 10
 6674 00d0 B3F57A7F 		cmp	r3, #1000
 6675 00d4 0CD8     		bhi	.L306
1989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       {
1990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****         break;
1991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
1992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     } while ((USBx_HC(i)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 6676              		.loc 1 1992 15
 6677 00d6 BB69     		ldr	r3, [r7, #24]
 6678 00d8 5A01     		lsls	r2, r3, #5
 6679 00da 7B69     		ldr	r3, [r7, #20]
 6680 00dc 1344     		add	r3, r3, r2
 6681 00de 03F5A063 		add	r3, r3, #1280
 6682              		.loc 1 1992 25
 6683 00e2 1B68     		ldr	r3, [r3]
 6684              		.loc 1 1992 34
 6685 00e4 03F00043 		and	r3, r3, #-2147483648
 6686              		.loc 1 1992 58
 6687 00e8 B3F1004F 		cmp	r3, #-2147483648
 6688 00ec ECD0     		beq	.L303
 6689 00ee 00E0     		b	.L302
 6690              	.L306:
1990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****       }
 6691              		.loc 1 1990 9
 6692 00f0 00BF     		nop
 6693              	.L302:
1976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 6694              		.loc 1 1976 27 discriminator 2
 6695 00f2 BB69     		ldr	r3, [r7, #24]
 6696 00f4 0133     		adds	r3, r3, #1
 6697 00f6 BB61     		str	r3, [r7, #24]
 6698              	.L300:
1976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
 6699              		.loc 1 1976 18 discriminator 1
 6700 00f8 BB69     		ldr	r3, [r7, #24]
 6701 00fa 0F2B     		cmp	r3, #15
 6702 00fc C7D9     		bls	.L304
1993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
1994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* Clear any pending Host interrupts */
1996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_HOST->HAINT = CLEAR_INTERRUPT_MASK;
 6703              		.loc 1 1996 3
 6704 00fe 7B69     		ldr	r3, [r7, #20]
 6705 0100 03F58063 		add	r3, r3, #1024
ARM GAS  /tmp/cc3N4Hnz.s 			page 153


 6706 0104 1A46     		mov	r2, r3
 6707              		.loc 1 1996 20
 6708 0106 4FF0FF33 		mov	r3, #-1
 6709 010a 5361     		str	r3, [r2, #20]
1997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx->GINTSTS = CLEAR_INTERRUPT_MASK;
 6710              		.loc 1 1997 17
 6711 010c 7B68     		ldr	r3, [r7, #4]
 6712 010e 4FF0FF32 		mov	r2, #-1
 6713 0112 5A61     		str	r2, [r3, #20]
1998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
1999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   (void)USB_EnableGlobalInt(USBx);
 6714              		.loc 1 1999 9
 6715 0114 7868     		ldr	r0, [r7, #4]
 6716 0116 FFF7FEFF 		bl	USB_EnableGlobalInt
2000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return ret;
 6717              		.loc 1 2001 10
 6718 011a FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
2002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 6719              		.loc 1 2002 1
 6720 011c 1846     		mov	r0, r3
 6721 011e 2037     		adds	r7, r7, #32
 6722              		.cfi_def_cfa_offset 8
 6723 0120 BD46     		mov	sp, r7
 6724              		.cfi_def_cfa_register 13
 6725              		@ sp needed
 6726 0122 80BD     		pop	{r7, pc}
 6727              		.cfi_endproc
 6728              	.LFE492:
 6730              		.section	.text.USB_ActivateRemoteWakeup,"ax",%progbits
 6731              		.align	1
 6732              		.global	USB_ActivateRemoteWakeup
 6733              		.syntax unified
 6734              		.thumb
 6735              		.thumb_func
 6737              	USB_ActivateRemoteWakeup:
 6738              	.LFB493:
2003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_ActivateRemoteWakeup active remote wakeup signalling
2006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateRemoteWakeup(const USB_OTG_GlobalTypeDef *USBx)
2010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 6739              		.loc 1 2010 1
 6740              		.cfi_startproc
 6741              		@ args = 0, pretend = 0, frame = 16
 6742              		@ frame_needed = 1, uses_anonymous_args = 0
 6743              		@ link register save eliminated.
 6744 0000 80B4     		push	{r7}
 6745              		.cfi_def_cfa_offset 4
 6746              		.cfi_offset 7, -4
 6747 0002 85B0     		sub	sp, sp, #20
 6748              		.cfi_def_cfa_offset 24
 6749 0004 00AF     		add	r7, sp, #0
 6750              		.cfi_def_cfa_register 7
ARM GAS  /tmp/cc3N4Hnz.s 			page 154


 6751 0006 7860     		str	r0, [r7, #4]
2011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6752              		.loc 1 2011 12
 6753 0008 7B68     		ldr	r3, [r7, #4]
 6754 000a FB60     		str	r3, [r7, #12]
2012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   if ((USBx_DEVICE->DSTS & USB_OTG_DSTS_SUSPSTS) == USB_OTG_DSTS_SUSPSTS)
 6755              		.loc 1 2013 8
 6756 000c FB68     		ldr	r3, [r7, #12]
 6757 000e 03F50063 		add	r3, r3, #2048
 6758              		.loc 1 2013 19
 6759 0012 9B68     		ldr	r3, [r3, #8]
 6760              		.loc 1 2013 26
 6761 0014 03F00103 		and	r3, r3, #1
 6762              		.loc 1 2013 6
 6763 0018 012B     		cmp	r3, #1
 6764 001a 09D1     		bne	.L308
2014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   {
2015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     /* active Remote wakeup signalling */
2016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_RWUSIG;
 6765              		.loc 1 2016 16
 6766 001c FB68     		ldr	r3, [r7, #12]
 6767 001e 03F50063 		add	r3, r3, #2048
 6768 0022 5B68     		ldr	r3, [r3, #4]
 6769 0024 FA68     		ldr	r2, [r7, #12]
 6770 0026 02F50062 		add	r2, r2, #2048
 6771              		.loc 1 2016 23
 6772 002a 43F00103 		orr	r3, r3, #1
 6773 002e 5360     		str	r3, [r2, #4]
 6774              	.L308:
2017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   }
2018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 6775              		.loc 1 2019 10
 6776 0030 0023     		movs	r3, #0
2020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 6777              		.loc 1 2020 1
 6778 0032 1846     		mov	r0, r3
 6779 0034 1437     		adds	r7, r7, #20
 6780              		.cfi_def_cfa_offset 4
 6781 0036 BD46     		mov	sp, r7
 6782              		.cfi_def_cfa_register 13
 6783              		@ sp needed
 6784 0038 5DF8047B 		ldr	r7, [sp], #4
 6785              		.cfi_restore 7
 6786              		.cfi_def_cfa_offset 0
 6787 003c 7047     		bx	lr
 6788              		.cfi_endproc
 6789              	.LFE493:
 6791              		.section	.text.USB_DeActivateRemoteWakeup,"ax",%progbits
 6792              		.align	1
 6793              		.global	USB_DeActivateRemoteWakeup
 6794              		.syntax unified
 6795              		.thumb
 6796              		.thumb_func
 6798              	USB_DeActivateRemoteWakeup:
 6799              	.LFB494:
ARM GAS  /tmp/cc3N4Hnz.s 			page 155


2021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** /**
2023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @brief  USB_DeActivateRemoteWakeup de-active remote wakeup signalling
2024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @param  USBx Selected device
2025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   * @retval HAL status
2026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   */
2027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeActivateRemoteWakeup(const USB_OTG_GlobalTypeDef *USBx)
2028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** {
 6800              		.loc 1 2028 1
 6801              		.cfi_startproc
 6802              		@ args = 0, pretend = 0, frame = 16
 6803              		@ frame_needed = 1, uses_anonymous_args = 0
 6804              		@ link register save eliminated.
 6805 0000 80B4     		push	{r7}
 6806              		.cfi_def_cfa_offset 4
 6807              		.cfi_offset 7, -4
 6808 0002 85B0     		sub	sp, sp, #20
 6809              		.cfi_def_cfa_offset 24
 6810 0004 00AF     		add	r7, sp, #0
 6811              		.cfi_def_cfa_register 7
 6812 0006 7860     		str	r0, [r7, #4]
2029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6813              		.loc 1 2029 12
 6814 0008 7B68     		ldr	r3, [r7, #4]
 6815 000a FB60     		str	r3, [r7, #12]
2030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   /* active Remote wakeup signalling */
2032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~(USB_OTG_DCTL_RWUSIG);
 6816              		.loc 1 2032 14
 6817 000c FB68     		ldr	r3, [r7, #12]
 6818 000e 03F50063 		add	r3, r3, #2048
 6819 0012 5B68     		ldr	r3, [r3, #4]
 6820 0014 FA68     		ldr	r2, [r7, #12]
 6821 0016 02F50062 		add	r2, r2, #2048
 6822              		.loc 1 2032 21
 6823 001a 23F00103 		bic	r3, r3, #1
 6824 001e 5360     		str	r3, [r2, #4]
2033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** 
2034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c ****   return HAL_OK;
 6825              		.loc 1 2034 10
 6826 0020 0023     		movs	r3, #0
2035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_ll_usb.c **** }
 6827              		.loc 1 2035 1
 6828 0022 1846     		mov	r0, r3
 6829 0024 1437     		adds	r7, r7, #20
 6830              		.cfi_def_cfa_offset 4
 6831 0026 BD46     		mov	sp, r7
 6832              		.cfi_def_cfa_register 13
 6833              		@ sp needed
 6834 0028 5DF8047B 		ldr	r7, [sp], #4
 6835              		.cfi_restore 7
 6836              		.cfi_def_cfa_offset 0
 6837 002c 7047     		bx	lr
 6838              		.cfi_endproc
 6839              	.LFE494:
 6841              		.text
 6842              	.Letext0:
ARM GAS  /tmp/cc3N4Hnz.s 			page 156


 6843              		.file 2 "/usr/lib/gcc/arm-none-eabi/13.2.1/include/stdint.h"
 6844              		.file 3 "Drivers/CMSIS/Core/Include/cmsis_gcc.h"
 6845              		.file 4 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l475xx.h"
 6846              		.file 5 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 6847              		.file 6 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_usb.h"
 6848              		.file 7 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_dma.h"
 6849              		.file 8 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
ARM GAS  /tmp/cc3N4Hnz.s 			page 157


DEFINED SYMBOLS
                            *ABS*:00000000 stm32l4xx_ll_usb.c
     /tmp/cc3N4Hnz.s:21     .rodata.CHANNEL_OFFSET_TAB:00000000 $d
     /tmp/cc3N4Hnz.s:24     .rodata.CHANNEL_OFFSET_TAB:00000000 CHANNEL_OFFSET_TAB
     /tmp/cc3N4Hnz.s:27     .text.USB_CoreInit:00000000 $t
     /tmp/cc3N4Hnz.s:33     .text.USB_CoreInit:00000000 USB_CoreInit
     /tmp/cc3N4Hnz.s:4615   .text.USB_CoreReset:00000000 USB_CoreReset
     /tmp/cc3N4Hnz.s:106    .text.USB_SetTurnaroundTime:00000000 $t
     /tmp/cc3N4Hnz.s:112    .text.USB_SetTurnaroundTime:00000000 USB_SetTurnaroundTime
     /tmp/cc3N4Hnz.s:313    .text.USB_SetTurnaroundTime:00000110 $d
     /tmp/cc3N4Hnz.s:327    .text.USB_EnableGlobalInt:00000000 $t
     /tmp/cc3N4Hnz.s:333    .text.USB_EnableGlobalInt:00000000 USB_EnableGlobalInt
     /tmp/cc3N4Hnz.s:372    .text.USB_DisableGlobalInt:00000000 $t
     /tmp/cc3N4Hnz.s:378    .text.USB_DisableGlobalInt:00000000 USB_DisableGlobalInt
     /tmp/cc3N4Hnz.s:417    .text.USB_SetCurrentMode:00000000 $t
     /tmp/cc3N4Hnz.s:423    .text.USB_SetCurrentMode:00000000 USB_SetCurrentMode
     /tmp/cc3N4Hnz.s:4407   .text.USB_GetMode:00000000 USB_GetMode
     /tmp/cc3N4Hnz.s:541    .text.USB_DevInit:00000000 $t
     /tmp/cc3N4Hnz.s:547    .text.USB_DevInit:00000000 USB_DevInit
     /tmp/cc3N4Hnz.s:1151   .text.USB_SetDevSpeed:00000000 USB_SetDevSpeed
     /tmp/cc3N4Hnz.s:964    .text.USB_FlushTxFifo:00000000 USB_FlushTxFifo
     /tmp/cc3N4Hnz.s:1060   .text.USB_FlushRxFifo:00000000 USB_FlushRxFifo
     /tmp/cc3N4Hnz.s:953    .text.USB_DevInit:0000028c $d
     /tmp/cc3N4Hnz.s:958    .text.USB_FlushTxFifo:00000000 $t
     /tmp/cc3N4Hnz.s:1054   .text.USB_FlushRxFifo:00000000 $t
     /tmp/cc3N4Hnz.s:1145   .text.USB_SetDevSpeed:00000000 $t
     /tmp/cc3N4Hnz.s:1200   .text.USB_GetDevSpeed:00000000 $t
     /tmp/cc3N4Hnz.s:1206   .text.USB_GetDevSpeed:00000000 USB_GetDevSpeed
     /tmp/cc3N4Hnz.s:1267   .text.USB_ActivateEndpoint:00000000 $t
     /tmp/cc3N4Hnz.s:1273   .text.USB_ActivateEndpoint:00000000 USB_ActivateEndpoint
     /tmp/cc3N4Hnz.s:1456   .text.USB_ActivateDedicatedEndpoint:00000000 $t
     /tmp/cc3N4Hnz.s:1462   .text.USB_ActivateDedicatedEndpoint:00000000 USB_ActivateDedicatedEndpoint
     /tmp/cc3N4Hnz.s:1651   .text.USB_DeactivateEndpoint:00000000 $t
     /tmp/cc3N4Hnz.s:1657   .text.USB_DeactivateEndpoint:00000000 USB_DeactivateEndpoint
     /tmp/cc3N4Hnz.s:1916   .text.USB_DeactivateEndpoint:000001b0 $d
     /tmp/cc3N4Hnz.s:1922   .text.USB_DeactivateDedicatedEndpoint:00000000 $t
     /tmp/cc3N4Hnz.s:1928   .text.USB_DeactivateDedicatedEndpoint:00000000 USB_DeactivateDedicatedEndpoint
     /tmp/cc3N4Hnz.s:2140   .text.USB_EPStartXfer:00000000 $t
     /tmp/cc3N4Hnz.s:2146   .text.USB_EPStartXfer:00000000 USB_EPStartXfer
     /tmp/cc3N4Hnz.s:3443   .text.USB_WritePacket:00000000 USB_WritePacket
     /tmp/cc3N4Hnz.s:2649   .text.USB_EPStartXfer:00000374 $d
     /tmp/cc3N4Hnz.s:2652   .text.USB_EPStartXfer:00000378 $t
     /tmp/cc3N4Hnz.s:2800   .text.USB_EPStartXfer:0000046c $d
     /tmp/cc3N4Hnz.s:2805   .text.USB_EPStopXfer:00000000 $t
     /tmp/cc3N4Hnz.s:2811   .text.USB_EPStopXfer:00000000 USB_EPStopXfer
     /tmp/cc3N4Hnz.s:3147   .text.USB_EPSetStall:00000000 $t
     /tmp/cc3N4Hnz.s:3153   .text.USB_EPSetStall:00000000 USB_EPSetStall
     /tmp/cc3N4Hnz.s:3295   .text.USB_EPClearStall:00000000 $t
     /tmp/cc3N4Hnz.s:3301   .text.USB_EPClearStall:00000000 USB_EPClearStall
     /tmp/cc3N4Hnz.s:3437   .text.USB_WritePacket:00000000 $t
     /tmp/cc3N4Hnz.s:3539   .text.USB_ReadPacket:00000000 $t
     /tmp/cc3N4Hnz.s:3545   .text.USB_ReadPacket:00000000 USB_ReadPacket
     /tmp/cc3N4Hnz.s:3680   .text.USB_StopDevice:00000000 $t
     /tmp/cc3N4Hnz.s:3686   .text.USB_StopDevice:00000000 USB_StopDevice
     /tmp/cc3N4Hnz.s:3802   .text.USB_SetDevAddress:00000000 $t
     /tmp/cc3N4Hnz.s:3808   .text.USB_SetDevAddress:00000000 USB_SetDevAddress
     /tmp/cc3N4Hnz.s:3870   .text.USB_DevConnect:00000000 $t
ARM GAS  /tmp/cc3N4Hnz.s 			page 158


     /tmp/cc3N4Hnz.s:3876   .text.USB_DevConnect:00000000 USB_DevConnect
     /tmp/cc3N4Hnz.s:3929   .text.USB_DevDisconnect:00000000 $t
     /tmp/cc3N4Hnz.s:3935   .text.USB_DevDisconnect:00000000 USB_DevDisconnect
     /tmp/cc3N4Hnz.s:3988   .text.USB_ReadInterrupts:00000000 $t
     /tmp/cc3N4Hnz.s:3994   .text.USB_ReadInterrupts:00000000 USB_ReadInterrupts
     /tmp/cc3N4Hnz.s:4037   .text.USB_ReadChInterrupts:00000000 $t
     /tmp/cc3N4Hnz.s:4043   .text.USB_ReadChInterrupts:00000000 USB_ReadChInterrupts
     /tmp/cc3N4Hnz.s:4101   .text.USB_ReadDevAllOutEpInterrupt:00000000 $t
     /tmp/cc3N4Hnz.s:4107   .text.USB_ReadDevAllOutEpInterrupt:00000000 USB_ReadDevAllOutEpInterrupt
     /tmp/cc3N4Hnz.s:4158   .text.USB_ReadDevAllInEpInterrupt:00000000 $t
     /tmp/cc3N4Hnz.s:4164   .text.USB_ReadDevAllInEpInterrupt:00000000 USB_ReadDevAllInEpInterrupt
     /tmp/cc3N4Hnz.s:4215   .text.USB_ReadDevOutEPInterrupt:00000000 $t
     /tmp/cc3N4Hnz.s:4221   .text.USB_ReadDevOutEPInterrupt:00000000 USB_ReadDevOutEPInterrupt
     /tmp/cc3N4Hnz.s:4276   .text.USB_ReadDevInEPInterrupt:00000000 $t
     /tmp/cc3N4Hnz.s:4282   .text.USB_ReadDevInEPInterrupt:00000000 USB_ReadDevInEPInterrupt
     /tmp/cc3N4Hnz.s:4356   .text.USB_ClearInterrupts:00000000 $t
     /tmp/cc3N4Hnz.s:4362   .text.USB_ClearInterrupts:00000000 USB_ClearInterrupts
     /tmp/cc3N4Hnz.s:4401   .text.USB_GetMode:00000000 $t
     /tmp/cc3N4Hnz.s:4442   .text.USB_ActivateSetup:00000000 $t
     /tmp/cc3N4Hnz.s:4448   .text.USB_ActivateSetup:00000000 USB_ActivateSetup
     /tmp/cc3N4Hnz.s:4502   .text.USB_EP0_OutStart:00000000 $t
     /tmp/cc3N4Hnz.s:4508   .text.USB_EP0_OutStart:00000000 USB_EP0_OutStart
     /tmp/cc3N4Hnz.s:4605   .text.USB_EP0_OutStart:0000008c $d
     /tmp/cc3N4Hnz.s:4610   .text.USB_CoreReset:00000000 $t
     /tmp/cc3N4Hnz.s:4715   .text.USB_HostInit:00000000 $t
     /tmp/cc3N4Hnz.s:4721   .text.USB_HostInit:00000000 USB_HostInit
     /tmp/cc3N4Hnz.s:4891   .text.USB_HostInit:000000fc $d
     /tmp/cc3N4Hnz.s:4898   .text.USB_InitFSLSPClkSel:00000000 $t
     /tmp/cc3N4Hnz.s:4904   .text.USB_InitFSLSPClkSel:00000000 USB_InitFSLSPClkSel
     /tmp/cc3N4Hnz.s:4994   .text.USB_ResetPort:00000000 $t
     /tmp/cc3N4Hnz.s:5000   .text.USB_ResetPort:00000000 USB_ResetPort
     /tmp/cc3N4Hnz.s:5069   .text.USB_DriveVbus:00000000 $t
     /tmp/cc3N4Hnz.s:5075   .text.USB_DriveVbus:00000000 USB_DriveVbus
     /tmp/cc3N4Hnz.s:5165   .text.USB_GetHostSpeed:00000000 $t
     /tmp/cc3N4Hnz.s:5171   .text.USB_GetHostSpeed:00000000 USB_GetHostSpeed
     /tmp/cc3N4Hnz.s:5217   .text.USB_GetCurrentFrame:00000000 $t
     /tmp/cc3N4Hnz.s:5223   .text.USB_GetCurrentFrame:00000000 USB_GetCurrentFrame
     /tmp/cc3N4Hnz.s:5263   .text.USB_HC_Init:00000000 $t
     /tmp/cc3N4Hnz.s:5269   .text.USB_HC_Init:00000000 USB_HC_Init
     /tmp/cc3N4Hnz.s:5317   .text.USB_HC_Init:00000044 $d
     /tmp/cc3N4Hnz.s:5321   .text.USB_HC_Init:00000054 $t
     /tmp/cc3N4Hnz.s:5593   .text.USB_HC_StartXfer:00000000 $t
     /tmp/cc3N4Hnz.s:5599   .text.USB_HC_StartXfer:00000000 USB_HC_StartXfer
     /tmp/cc3N4Hnz.s:5846   .text.USB_HC_StartXfer:00000168 $d
     /tmp/cc3N4Hnz.s:5850   .text.USB_HC_StartXfer:00000178 $t
     /tmp/cc3N4Hnz.s:5949   .text.USB_HC_StartXfer:000001ec $d
     /tmp/cc3N4Hnz.s:5954   .text.USB_HC_ReadInterrupt:00000000 $t
     /tmp/cc3N4Hnz.s:5960   .text.USB_HC_ReadInterrupt:00000000 USB_HC_ReadInterrupt
     /tmp/cc3N4Hnz.s:6000   .text.USB_HC_Halt:00000000 $t
     /tmp/cc3N4Hnz.s:6006   .text.USB_HC_Halt:00000000 USB_HC_Halt
     /tmp/cc3N4Hnz.s:6355   .text.USB_HC_Activate:00000000 $t
     /tmp/cc3N4Hnz.s:6361   .text.USB_HC_Activate:00000000 USB_HC_Activate
     /tmp/cc3N4Hnz.s:6431   .text.USB_DoPing:00000000 $t
     /tmp/cc3N4Hnz.s:6437   .text.USB_DoPing:00000000 USB_DoPing
     /tmp/cc3N4Hnz.s:6522   .text.USB_DoPing:00000074 $d
     /tmp/cc3N4Hnz.s:6527   .text.USB_StopHost:00000000 $t
     /tmp/cc3N4Hnz.s:6533   .text.USB_StopHost:00000000 USB_StopHost
ARM GAS  /tmp/cc3N4Hnz.s 			page 159


     /tmp/cc3N4Hnz.s:6731   .text.USB_ActivateRemoteWakeup:00000000 $t
     /tmp/cc3N4Hnz.s:6737   .text.USB_ActivateRemoteWakeup:00000000 USB_ActivateRemoteWakeup
     /tmp/cc3N4Hnz.s:6792   .text.USB_DeActivateRemoteWakeup:00000000 $t
     /tmp/cc3N4Hnz.s:6798   .text.USB_DeActivateRemoteWakeup:00000000 USB_DeActivateRemoteWakeup
                           .group:00000000 wm4.0.e7b64c2c371cf922f2c8028878d5c18e
                           .group:00000000 wm4.stm32l4xx_hal_conf.h.23.286c2f63aaa73ed97ffb4d26f7caa6e9
                           .group:00000000 wm4.stm32l4xx.h.38.9f5830373ca31b8a3cd182fdc6c7b69a
                           .group:00000000 wm4.stm32l475xx.h.34.2f1a75aed66751e299f09004aef64973
                           .group:00000000 wm4.stdint.h.29.6d480f4ba0f60596e88234283d42444f
                           .group:00000000 wm4.cmsis_version.h.32.46e8eccfa2cfeaae11d008bb2823a3ed
                           .group:00000000 wm4.core_cm4.h.66.e4ff136c4a17abc46741866f64f8e729
                           .group:00000000 wm4.cmsis_gcc.h.26.78077cef1206e937f7b56043ffca496a
                           .group:00000000 wm4.core_cm4.h.174.fcddd62df80231752fa39eb9b61dadfe
                           .group:00000000 wm4.mpu_armv7.h.32.4049752bb5792d4e15357775e9506cfc
                           .group:00000000 wm4.stm32l475xx.h.423.4d783859c9ac66890c9807dd7bd3a4db
                           .group:00000000 wm4.stm32l4xx.h.196.f5ae8047c57b6175c94f246ef967a286
                           .group:00000000 wm4.stm32_hal_legacy.h.22.08b8350ccf512ba8d98002fb33e7cbe5
                           .group:00000000 wm4.stddef.h.39.0dc9006b34572d4d9cae4c8b422c4971
                           .group:00000000 wm4.stm32l4xx_hal_def.h.58.1058a33f7217e935f2a6b51956d66a69
                           .group:00000000 wm4.stm32l4xx_hal_rcc.h.156.ab8eecc4e10f4827a2aa75d3549a356d
                           .group:00000000 wm4.stm32l4xx_hal_rcc_ex.h.20.4a82a27d561b6d42fa16a54f82e29067
                           .group:00000000 wm4.stm32l4xx_hal_gpio.h.21.2d2b1fd6aa6afa7b6dcc89cf752a9a25
                           .group:00000000 wm4.stm32l4xx_hal_gpio_ex.h.21.7ea705f5185dd3c6b8ea336f2858cd46
                           .group:00000000 wm4.stm32l4xx_ll_dma.h.21.b30e7f48d60d1fc53041ec1e3fd6e54a
                           .group:00000000 wm4.stm32l4xx_hal_dma.h.166.54a7f8d65cee6f051d541dc010387b5a
                           .group:00000000 wm4.stm32l4xx_hal_dfsdm.h.21.6785e38d00075079c7f2e5657def82ae
                           .group:00000000 wm4.stm32l4xx_hal_cortex.h.21.cb491126bd2d6f44e90b66f27acb8434
                           .group:00000000 wm4.stm32l4xx_ll_adc.h.21.0c578f71501c74365c67044efed214d6
                           .group:00000000 wm4.stm32l4xx_hal_adc.h.411.68f60682cdb20556089756a482f23764
                           .group:00000000 wm4.stm32l4xx_hal_adc_ex.h.21.7b82cb80166a21dfa8cb3e2fa8f8e654
                           .group:00000000 wm4.stm32l4xx_hal_can.h.21.5019586d8e7137c0cec16eb1f9d6677b
                           .group:00000000 wm4.stm32l4xx_ll_exti.h.21.d866eff070d6f999af2ce4ea60aa40ac
                           .group:00000000 wm4.stm32l4xx_hal_comp.h.87.7f14cb673a463359c83faa552328844d
                           .group:00000000 wm4.stm32l4xx_hal_crc.h.21.4c36a140cca35e6a8e478e76c6ad98e3
                           .group:00000000 wm4.stm32l4xx_hal_crc_ex.h.21.9cc3dead436542d416ee5572c231a242
                           .group:00000000 wm4.stm32l4xx_hal_dac.h.21.69feba704135531cf3d9b92de27b71d5
                           .group:00000000 wm4.stm32l4xx_hal_dac_ex.h.21.c86699169bead5415cc3e94027b67df4
                           .group:00000000 wm4.stm32l4xx_hal_exti.h.21.242e0410874d91d6d7523948fff74125
                           .group:00000000 wm4.stm32l4xx_hal_firewall.h.21.7ed44f4228fcc2ef96d2177dd8632645
                           .group:00000000 wm4.stm32l4xx_hal_flash.h.20.5e337018ccfa211b4afe888a79aae9f5
                           .group:00000000 wm4.stm32l4xx_hal_flash.h.846.0445f6ea07a3f9aac82891c8687d96fb
                           .group:00000000 wm4.stm32l4xx_ll_usb.h.21.5b5e42fb72a33dd326d7b20064953946
                           .group:00000000 wm4.stm32l4xx_hal_hcd.h.107.73f2fd24f57e8822da5cc86bd5ad3dfd
                           .group:00000000 wm4.stm32l4xx_hal_i2c.h.21.e7fc2065051c77019a818818e4a637d8
                           .group:00000000 wm4.stm32l4xx_hal_i2c_ex.h.21.ad4ad4e558d4fec06df87d163a6927d7
                           .group:00000000 wm4.stm32l4xx_hal_i2c.h.737.fa3908c81294cf0f9894ae336466002c
                           .group:00000000 wm4.stm32l4xx_hal_irda.h.21.136c042f9eef333167a549cc099df0c9
                           .group:00000000 wm4.stm32l4xx_hal_irda_ex.h.21.e0ada4e6d2b2cadfb512dd3c8ac0a637
                           .group:00000000 wm4.stm32l4xx_hal_iwdg.h.21.f94ca75f2fe1ebc7a2a8d0f5b58d8430
                           .group:00000000 wm4.stm32l4xx_hal_lptim.h.21.78222ea6639fc8c02789d293a048991e
                           .group:00000000 wm4.stm32l4xx_ll_sdmmc.h.21.65a5a8696b6ca7b87cc93d218084d702
                           .group:00000000 wm4.stm32l4xx_hal_mmc.h.69.8f4159f0a88ef1ebc33c58a8f10362b9
                           .group:00000000 wm4.stm32l4xx_ll_fmc.h.21.156a244c55010643ee92c6119049cb68
                           .group:00000000 wm4.stm32l4xx_hal_nand.h.176.9bfeac6e4e757991088bbd0df44e2be9
                           .group:00000000 wm4.stm32l4xx_hal_nor.h.21.d47e91e825f466bbac02fac0a7845a7a
                           .group:00000000 wm4.stm32l4xx_hal_opamp.h.21.9d841e1eaccee939f247b3f973f8af5f
                           .group:00000000 wm4.stm32l4xx_hal_pcd.h.169.addb1fac652268a18a0707cfcb5e2e47
ARM GAS  /tmp/cc3N4Hnz.s 			page 160


                           .group:00000000 wm4.stm32l4xx_hal_pwr.h.21.7ddab2caa97243c36e496eca17b27618
                           .group:00000000 wm4.stm32l4xx_hal_pwr_ex.h.21.65ad8bbdbcb1950d945c0de10f22dc80
                           .group:00000000 wm4.stm32l4xx_hal_qspi.h.21.0291dad4eaa82101f2f77d76315c9b12
                           .group:00000000 wm4.stm32l4xx_hal_rng.h.21.96593715bdeab0c74ac9dfc538fb2feb
                           .group:00000000 wm4.stm32l4xx_hal_rtc.h.21.9da6b1aeebde99930891f803cb7f9678
                           .group:00000000 wm4.stm32l4xx_hal_rtc_ex.h.21.c692539378320719c7f2a2da1ca64502
                           .group:00000000 wm4.stm32l4xx_hal_rtc.h.999.c8bd9450c783628bd606ecb31bea5cc9
                           .group:00000000 wm4.stm32l4xx_hal_sai.h.21.c1165aaf2bbde65fae28ed4817be5cc5
                           .group:00000000 wm4.stm32l4xx_hal_sd.h.21.b395c90a87e82f7e8d77d4a518036063
                           .group:00000000 wm4.stm32l4xx_hal_smartcard.h.21.423c3ad63e0df35b864303e89e6d253c
                           .group:00000000 wm4.stm32l4xx_hal_smartcard_ex.h.21.801a2ce9252a785aec000b3fc7667a74
                           .group:00000000 wm4.stm32l4xx_hal_smbus.h.21.7480adb16468bfdce819ee591f21299e
                           .group:00000000 wm4.stm32l4xx_hal_smbus_ex.h.21.bdc715f5f6fb6612a871d3c03c3b871f
                           .group:00000000 wm4.stm32l4xx_hal_spi.h.21.3b51f9f7b241962f6b3483c47a43334f
                           .group:00000000 wm4.stm32l4xx_hal_sram.h.21.285210181e158bddc1cdde63dde572fd
                           .group:00000000 wm4.stm32l4xx_hal_swpmi.h.21.787f994f40b117a62aad9a6dd408b8fc
                           .group:00000000 wm4.stm32l4xx_hal_tim.h.21.d190832030e7505384ad081daa7ba8d6
                           .group:00000000 wm4.stm32l4xx_hal_tim_ex.h.21.1d0860218366ee9f64a97fd8af0ddee1
                           .group:00000000 wm4.stm32l4xx_hal_tsc.h.21.e9010049847ea38297d4b95a5ede0d8c
                           .group:00000000 wm4.stm32l4xx_hal_uart.h.21.480c0a64ca01596a921cda9dceb01df4
                           .group:00000000 wm4.stm32l4xx_hal_uart_ex.h.21.d793e64693c93af07c90464aef42bd83
                           .group:00000000 wm4.stm32l4xx_hal_usart.h.21.561c0058e33cb8df6671dcd29d5d25f9
                           .group:00000000 wm4.stm32l4xx_hal_usart_ex.h.21.111da650523691ebc80d64103d7b26e5
                           .group:00000000 wm4.stm32l4xx_hal_wwdg.h.21.073aa79d58120ae4fb8590c46b210051
                           .group:00000000 wm4.stm32l4xx_hal.h.75.d364b3778b3801d2f66bb409c48d396d

UNDEFINED SYMBOLS
HAL_Delay
