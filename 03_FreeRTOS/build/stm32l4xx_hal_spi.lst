ARM GAS  /tmp/ccC16sX6.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"stm32l4xx_hal_spi.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c"
  20              		.section	.rodata.CHANNEL_OFFSET_TAB,"a"
  21              		.align	2
  24              	CHANNEL_OFFSET_TAB:
  25 0000 081C3044 		.ascii	"\010\0340DXl\200"
  25      586C80
  26              		.section	.text.HAL_SPI_Init,"ax",%progbits
  27              		.align	1
  28              		.global	HAL_SPI_Init
  29              		.syntax unified
  30              		.thumb
  31              		.thumb_func
  33              	HAL_SPI_Init:
  34              	.LFB445:
   1:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
   2:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   ******************************************************************************
   3:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @file    stm32l4xx_hal_spi.c
   4:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @author  MCD Application Team
   5:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief   SPI HAL module driver.
   6:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *          This file provides firmware functions to manage the following
   7:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *          functionalities of the Serial Peripheral Interface (SPI) peripheral:
   8:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           + Initialization and de-initialization functions
   9:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           + IO operation functions
  10:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           + Peripheral Control functions
  11:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           + Peripheral State functions
  12:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   ******************************************************************************
  13:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @attention
  14:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *
  15:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * Copyright (c) 2017 STMicroelectronics.
  16:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * All rights reserved.
  17:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *
  18:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * This software is licensed under terms that can be found in the LICENSE file
  19:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * in the root directory of this software component.
  20:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  21:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *
  22:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   ******************************************************************************
  23:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   @verbatim
  24:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   ==============================================================================
  25:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                         ##### How to use this driver #####
ARM GAS  /tmp/ccC16sX6.s 			page 2


  26:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   ==============================================================================
  27:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     [..]
  28:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       The SPI HAL driver can be used as follows:
  29:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
  30:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (#) Declare a SPI_HandleTypeDef handle structure, for example:
  31:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           SPI_HandleTypeDef  hspi;
  32:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
  33:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (#)Initialize the SPI low level resources by implementing the HAL_SPI_MspInit() API:
  34:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           (##) Enable the SPIx interface clock
  35:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           (##) SPI pins configuration
  36:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               (+++) Enable the clock for the SPI GPIOs
  37:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               (+++) Configure these SPI pins as alternate function push-pull
  38:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           (##) NVIC configuration if you need to use interrupt process
  39:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               (+++) Configure the SPIx interrupt priority
  40:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               (+++) Enable the NVIC SPI IRQ handle
  41:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           (##) DMA Configuration if you need to use DMA process
  42:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               (+++) Declare a DMA_HandleTypeDef handle structure for the transmit or receive Stream
  43:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               (+++) Enable the DMAx clock
  44:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               (+++) Configure the DMA handle parameters
  45:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               (+++) Configure the DMA Tx or Rx Stream/Channel
  46:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               (+++) Associate the initialized hdma_tx(or _rx)  handle to the hspi DMA Tx or Rx hand
  47:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               (+++) Configure the priority and enable the NVIC for the transfer complete interrupt 
  48:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                     or Rx Stream/Channel
  49:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
  50:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (#) Program the Mode, BidirectionalMode , Data size, Baudrate Prescaler, NSS
  51:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           management, Clock polarity and phase, FirstBit and CRC configuration in the hspi Init str
  52:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
  53:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (#) Initialize the SPI registers by calling the HAL_SPI_Init() API:
  54:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           (++) This API configures also the low level Hardware GPIO, CLOCK, CORTEX...etc)
  55:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               by calling the customized HAL_SPI_MspInit() API.
  56:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      [..]
  57:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        Circular mode restriction:
  58:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (#) The DMA circular mode cannot be used when the SPI is configured in these modes:
  59:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           (##) Master 2Lines RxOnly
  60:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           (##) Master 1Line Rx
  61:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (#) The CRC feature is not managed when the DMA circular mode is enabled
  62:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (#) When the SPI DMA Pause/Stop features are used, we must use the following APIs
  63:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           the HAL_SPI_DMAPause()/ HAL_SPI_DMAStop() only under the SPI callbacks
  64:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      [..]
  65:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        Master Receive mode restriction:
  66:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (#) In Master unidirectional receive-only mode (MSTR =1, BIDIMODE=0, RXONLY=1) or
  67:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           bidirectional receive mode (MSTR=1, BIDIMODE=1, BIDIOE=0), to ensure that the SPI
  68:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           does not initiate a new transfer the following procedure has to be respected:
  69:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           (##) HAL_SPI_DeInit()
  70:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           (##) HAL_SPI_Init()
  71:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      [..]
  72:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        Callback registration:
  73:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
  74:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (#) The compilation flag USE_HAL_SPI_REGISTER_CALLBACKS when set to 1U
  75:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           allows the user to configure dynamically the driver callbacks.
  76:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           Use Functions HAL_SPI_RegisterCallback() to register an interrupt callback.
  77:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
  78:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           Function HAL_SPI_RegisterCallback() allows to register following callbacks:
  79:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) TxCpltCallback        : SPI Tx Completed callback
  80:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) RxCpltCallback        : SPI Rx Completed callback
  81:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) TxRxCpltCallback      : SPI TxRx Completed callback
  82:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) TxHalfCpltCallback    : SPI Tx Half Completed callback
ARM GAS  /tmp/ccC16sX6.s 			page 3


  83:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) RxHalfCpltCallback    : SPI Rx Half Completed callback
  84:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) TxRxHalfCpltCallback  : SPI TxRx Half Completed callback
  85:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) ErrorCallback         : SPI Error callback
  86:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) AbortCpltCallback     : SPI Abort callback
  87:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) MspInitCallback       : SPI Msp Init callback
  88:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) MspDeInitCallback     : SPI Msp DeInit callback
  89:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           This function takes as parameters the HAL peripheral handle, the Callback ID
  90:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           and a pointer to the user callback function.
  91:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
  92:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
  93:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (#) Use function HAL_SPI_UnRegisterCallback to reset a callback to the default
  94:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           weak function.
  95:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           HAL_SPI_UnRegisterCallback takes as parameters the HAL peripheral handle,
  96:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           and the Callback ID.
  97:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           This function allows to reset following callbacks:
  98:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) TxCpltCallback        : SPI Tx Completed callback
  99:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) RxCpltCallback        : SPI Rx Completed callback
 100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) TxRxCpltCallback      : SPI TxRx Completed callback
 101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) TxHalfCpltCallback    : SPI Tx Half Completed callback
 102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) RxHalfCpltCallback    : SPI Rx Half Completed callback
 103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) TxRxHalfCpltCallback  : SPI TxRx Half Completed callback
 104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) ErrorCallback         : SPI Error callback
 105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) AbortCpltCallback     : SPI Abort callback
 106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) MspInitCallback       : SPI Msp Init callback
 107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (++) MspDeInitCallback     : SPI Msp DeInit callback
 108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        [..]
 110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        By default, after the HAL_SPI_Init() and when the state is HAL_SPI_STATE_RESET
 111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        all callbacks are set to the corresponding weak functions:
 112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        examples HAL_SPI_MasterTxCpltCallback(), HAL_SPI_MasterRxCpltCallback().
 113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        Exception done for MspInit and MspDeInit functions that are
 114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        reset to the legacy weak functions in the HAL_SPI_Init()/ HAL_SPI_DeInit() only when
 115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        these callbacks are null (not registered beforehand).
 116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        If MspInit or MspDeInit are not null, the HAL_SPI_Init()/ HAL_SPI_DeInit()
 117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        keep and use the user MspInit/MspDeInit callbacks (registered beforehand) whatever the state
 118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        [..]
 120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        Callbacks can be registered/unregistered in HAL_SPI_STATE_READY state only.
 121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        Exception done MspInit/MspDeInit functions that can be registered/unregistered
 122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        in HAL_SPI_STATE_READY or HAL_SPI_STATE_RESET state,
 123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        thus registered (user) MspInit/DeInit callbacks can be used during the Init/DeInit.
 124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        Then, the user first registers the MspInit/MspDeInit user callbacks
 125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        using HAL_SPI_RegisterCallback() before calling HAL_SPI_DeInit()
 126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        or HAL_SPI_Init() function.
 127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        [..]
 129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        When the compilation define USE_HAL_PPP_REGISTER_CALLBACKS is set to 0 or
 130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        not defined, the callback registering feature is not available
 131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        and weak (surcharged) callbacks are used.
 132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      [..]
 134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        Using the HAL it is not possible to reach all supported SPI frequency with the different SPI
 135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        the following table resume the max SPI frequency reached with data size 8bits/16bits,
 136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****          according to frequency of the APBx Peripheral Clock (fPCLK) used by the SPI instance.
 137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   @endverbatim
 139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
ARM GAS  /tmp/ccC16sX6.s 			page 4


 140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   Additional table :
 141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        DataSize = SPI_DATASIZE_8BIT:
 143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |                | 2Lines Fullduplex   |     2Lines RxOnly    |         1Line     
 145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        | Process | Transfer mode  |---------------------|----------------------|-------------------
 146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |                |  Master  |  Slave   |  Master   |  Slave   |  Master   |  Slave
 147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |===========================================================================================
 148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    T    |     Polling    | Fpclk/4  | Fpclk/8  |    NA     |    NA    |    NA     |   NA  
 149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    /    |     Interrupt  | Fpclk/4  | Fpclk/16 |    NA     |    NA    |    NA     |   NA  
 151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    R    |----------------|----------|----------|-----------|----------|-----------|-------
 152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    X    |       DMA      | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA  
 153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |     Polling    | Fpclk/4  | Fpclk/8  | Fpclk/16  | Fpclk/8  | Fpclk/8   | Fpclk/
 155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    R    |     Interrupt  | Fpclk/8  | Fpclk/16 | Fpclk/8   | Fpclk/8  | Fpclk/8   | Fpclk/
 157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |       DMA      | Fpclk/4  | Fpclk/2  | Fpclk/2   | Fpclk/16 | Fpclk/2   | Fpclk/
 159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |     Polling    | Fpclk/8  | Fpclk/2  |     NA    |    NA    | Fpclk/8   | Fpclk/
 161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    T    |     Interrupt  | Fpclk/2  | Fpclk/4  |     NA    |    NA    | Fpclk/16  | Fpclk/
 163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |       DMA      | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/8   | Fpclk/
 165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        DataSize = SPI_DATASIZE_16BIT:
 168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |                | 2Lines Fullduplex   |     2Lines RxOnly    |         1Line     
 170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        | Process | Transfer mode  |---------------------|----------------------|-------------------
 171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |                |  Master  |  Slave   |  Master   |  Slave   |  Master   |  Slave
 172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |===========================================================================================
 173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    T    |     Polling    | Fpclk/4  | Fpclk/8  |    NA     |    NA    |    NA     |   NA  
 174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    /    |     Interrupt  | Fpclk/4  | Fpclk/16 |    NA     |    NA    |    NA     |   NA  
 176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    R    |----------------|----------|----------|-----------|----------|-----------|-------
 177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    X    |       DMA      | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA  
 178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |     Polling    | Fpclk/4  | Fpclk/8  | Fpclk/16  | Fpclk/8  | Fpclk/8   | Fpclk/
 180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    R    |     Interrupt  | Fpclk/8  | Fpclk/16 | Fpclk/8   | Fpclk/8  | Fpclk/8   | Fpclk/
 182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |       DMA      | Fpclk/4  | Fpclk/2  | Fpclk/2   | Fpclk/16 | Fpclk/2   | Fpclk/
 184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |     Polling    | Fpclk/8  | Fpclk/2  |     NA    |    NA    | Fpclk/8   | Fpclk/
 186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    T    |     Interrupt  | Fpclk/2  | Fpclk/4  |     NA    |    NA    | Fpclk/16  | Fpclk/
 188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        |         |       DMA      | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/8   | Fpclk/
 190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        @note The max SPI frequency depend on SPI data size (4bits, 5bits,..., 8bits,...15bits, 16bi
 192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****              SPI mode(2 Lines fullduplex, 2 lines RxOnly, 1 line TX/RX) and Process mode (Polling, 
 193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        @note
 194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (#) TX/RX processes are HAL_SPI_TransmitReceive(), HAL_SPI_TransmitReceive_IT() and
 195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                 HAL_SPI_TransmitReceive_DMA()
 196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (#) RX processes are HAL_SPI_Receive(), HAL_SPI_Receive_IT() and HAL_SPI_Receive_DMA()
ARM GAS  /tmp/ccC16sX6.s 			page 5


 197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             (#) TX processes are HAL_SPI_Transmit(), HAL_SPI_Transmit_IT() and HAL_SPI_Transmit_DMA
 198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /* Includes ------------------------------------------------------------------*/
 202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #include "stm32l4xx_hal.h"
 203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /** @addtogroup STM32L4xx_HAL_Driver
 205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @{
 206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /** @defgroup SPI SPI
 209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief SPI HAL module driver
 210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @{
 211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #ifdef HAL_SPI_MODULE_ENABLED
 213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /* Private typedef -----------------------------------------------------------*/
 215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /* Private defines -----------------------------------------------------------*/
 216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /** @defgroup SPI_Private_Constants SPI Private Constants
 217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @{
 218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #define SPI_DEFAULT_TIMEOUT 100U
 220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
 221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @}
 222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /* Private macros ------------------------------------------------------------*/
 225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /* Private variables ---------------------------------------------------------*/
 226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /* Private function prototypes -----------------------------------------------*/
 227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /** @defgroup SPI_Private_Functions SPI Private Functions
 228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @{
 229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMATransmitCplt(DMA_HandleTypeDef *hdma);
 231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAReceiveCplt(DMA_HandleTypeDef *hdma);
 232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMATransmitReceiveCplt(DMA_HandleTypeDef *hdma);
 233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAHalfTransmitCplt(DMA_HandleTypeDef *hdma);
 234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAHalfReceiveCplt(DMA_HandleTypeDef *hdma);
 235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAHalfTransmitReceiveCplt(DMA_HandleTypeDef *hdma);
 236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAError(DMA_HandleTypeDef *hdma);
 237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAAbortOnError(DMA_HandleTypeDef *hdma);
 238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMATxAbortCallback(DMA_HandleTypeDef *hdma);
 239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMARxAbortCallback(DMA_HandleTypeDef *hdma);
 240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFlagStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Flag, Flag
 241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                        uint32_t Timeout, uint32_t Tickstart);
 242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFifoStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Fifo, uint
 243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                        uint32_t Timeout, uint32_t Tickstart);
 244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_TxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_TxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_RxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_RxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesRxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesTxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesTxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesRxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_RxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi);
ARM GAS  /tmp/ccC16sX6.s 			page 6


 254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_RxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi);
 255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesRxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi);
 256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesRxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi);
 257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_AbortRx_ISR(SPI_HandleTypeDef *hspi);
 259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_AbortTx_ISR(SPI_HandleTypeDef *hspi);
 260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_CloseRxTx_ISR(SPI_HandleTypeDef *hspi);
 261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_CloseRx_ISR(SPI_HandleTypeDef *hspi);
 262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_CloseTx_ISR(SPI_HandleTypeDef *hspi);
 263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTransaction(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t T
 264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTxTransaction(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t
 265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
 266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @}
 267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /* Exported functions --------------------------------------------------------*/
 270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions SPI Exported Functions
 271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @{
 272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group1 Initialization and de-initialization functions
 275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *  @brief    Initialization and Configuration functions
 276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *
 277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** @verbatim
 278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****  ===============================================================================
 279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****               ##### Initialization and de-initialization functions #####
 280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****  ===============================================================================
 281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     [..]  This subsection provides a set of functions allowing to initialize and
 282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           de-initialize the SPIx peripheral:
 283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (+) User must implement HAL_SPI_MspInit() function in which he configures
 285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           all related peripherals resources (CLOCK, GPIO, DMA, IT and NVIC ).
 286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (+) Call the function HAL_SPI_Init() to configure the selected device with
 288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           the selected configuration:
 289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) Mode
 290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) Direction
 291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) Data Size
 292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) Clock Polarity and Phase
 293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) NSS Management
 294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) BaudRate Prescaler
 295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) FirstBit
 296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) TIMode
 297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) CRC Calculation
 298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) CRC Polynomial if CRC enabled
 299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) CRC Length, used only with Data8 and Data16
 300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (++) FIFO reception threshold
 301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (+) Call the function HAL_SPI_DeInit() to restore the default configuration
 303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           of the selected SPIx peripheral.
 304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** @endverbatim
 306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @{
 307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
 310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Initialize the SPI according to the specified parameters
ARM GAS  /tmp/ccC16sX6.s 			page 7


 311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         in the SPI_InitTypeDef and initialize the associated handle.
 312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
 314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
 315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Init(SPI_HandleTypeDef *hspi)
 317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
  35              		.loc 1 317 1
  36              		.cfi_startproc
  37              		@ args = 0, pretend = 0, frame = 16
  38              		@ frame_needed = 1, uses_anonymous_args = 0
  39 0000 80B5     		push	{r7, lr}
  40              		.cfi_def_cfa_offset 8
  41              		.cfi_offset 7, -8
  42              		.cfi_offset 14, -4
  43 0002 84B0     		sub	sp, sp, #16
  44              		.cfi_def_cfa_offset 24
  45 0004 00AF     		add	r7, sp, #0
  46              		.cfi_def_cfa_register 7
  47 0006 7860     		str	r0, [r7, #4]
 318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t frxth;
 319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the SPI handle allocation */
 321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi == NULL)
  48              		.loc 1 321 6
  49 0008 7B68     		ldr	r3, [r7, #4]
  50 000a 002B     		cmp	r3, #0
  51 000c 01D1     		bne	.L2
 322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
  52              		.loc 1 323 12
  53 000e 0123     		movs	r3, #1
  54 0010 BEE0     		b	.L3
  55              	.L2:
 324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the parameters */
 327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_ALL_INSTANCE(hspi->Instance));
 328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_MODE(hspi->Init.Mode));
 329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION(hspi->Init.Direction));
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DATASIZE(hspi->Init.DataSize));
 331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_NSSP(hspi->Init.NSSPMode));
 333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_FIRST_BIT(hspi->Init.FirstBit));
 335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_TIMODE(hspi->Init.TIMode));
 336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.TIMode == SPI_TIMODE_DISABLE)
  56              		.loc 1 336 17
  57 0012 7B68     		ldr	r3, [r7, #4]
  58 0014 5B6A     		ldr	r3, [r3, #36]
  59              		.loc 1 336 6
  60 0016 002B     		cmp	r3, #0
  61 0018 08D1     		bne	.L4
 337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     assert_param(IS_SPI_CPOL(hspi->Init.CLKPolarity));
 339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     assert_param(IS_SPI_CPHA(hspi->Init.CLKPhase));
 340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
ARM GAS  /tmp/ccC16sX6.s 			page 8


 341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.Mode == SPI_MODE_MASTER)
  62              		.loc 1 341 19
  63 001a 7B68     		ldr	r3, [r7, #4]
  64 001c 5B68     		ldr	r3, [r3, #4]
  65              		.loc 1 341 8
  66 001e B3F5827F 		cmp	r3, #260
  67 0022 09D0     		beq	.L5
 342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
 346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Baudrate prescaler not use in Motoraola Slave mode. force to default value */
 348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_2;
  68              		.loc 1 348 36
  69 0024 7B68     		ldr	r3, [r7, #4]
  70 0026 0022     		movs	r2, #0
  71 0028 DA61     		str	r2, [r3, #28]
  72 002a 05E0     		b	.L5
  73              	.L4:
 349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
 352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Force polarity and phase to TI protocaol requirements */
 356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->Init.CLKPolarity = SPI_POLARITY_LOW;
  74              		.loc 1 356 28
  75 002c 7B68     		ldr	r3, [r7, #4]
  76 002e 0022     		movs	r2, #0
  77 0030 1A61     		str	r2, [r3, #16]
 357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->Init.CLKPhase    = SPI_PHASE_1EDGE;
  78              		.loc 1 357 28
  79 0032 7B68     		ldr	r3, [r7, #4]
  80 0034 0022     		movs	r2, #0
  81 0036 5A61     		str	r2, [r3, #20]
  82              	.L5:
 358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_CRC_CALCULATION(hspi->Init.CRCCalculation));
 361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     assert_param(IS_SPI_CRC_POLYNOMIAL(hspi->Init.CRCPolynomial));
 364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     assert_param(IS_SPI_CRC_LENGTH(hspi->Init.CRCLength));
 365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
 367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State == HAL_SPI_STATE_RESET)
  83              		.loc 1 370 11
  84 0038 7B68     		ldr	r3, [r7, #4]
  85 003a 93F85D30 		ldrb	r3, [r3, #93]
  86 003e DBB2     		uxtb	r3, r3
  87              		.loc 1 370 6
  88 0040 002B     		cmp	r3, #0
ARM GAS  /tmp/ccC16sX6.s 			page 9


  89 0042 06D1     		bne	.L6
 371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Allocate lock resource and initialize it */
 373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->Lock = HAL_UNLOCKED;
  90              		.loc 1 373 16
  91 0044 7B68     		ldr	r3, [r7, #4]
  92 0046 0022     		movs	r2, #0
  93 0048 83F85C20 		strb	r2, [r3, #92]
 374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
 376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Init the SPI Callback settings */
 377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxCpltCallback       = HAL_SPI_TxCpltCallback;       /* Legacy weak TxCpltCallback       
 378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxCpltCallback       = HAL_SPI_RxCpltCallback;       /* Legacy weak RxCpltCallback       
 379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxRxCpltCallback     = HAL_SPI_TxRxCpltCallback;     /* Legacy weak TxRxCpltCallback     
 380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxHalfCpltCallback   = HAL_SPI_TxHalfCpltCallback;   /* Legacy weak TxHalfCpltCallback   
 381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxHalfCpltCallback   = HAL_SPI_RxHalfCpltCallback;   /* Legacy weak RxHalfCpltCallback   
 382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxRxHalfCpltCallback = HAL_SPI_TxRxHalfCpltCallback; /* Legacy weak TxRxHalfCpltCallback 
 383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCallback        = HAL_SPI_ErrorCallback;        /* Legacy weak ErrorCallback        
 384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->AbortCpltCallback    = HAL_SPI_AbortCpltCallback;    /* Legacy weak AbortCpltCallback    
 385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->MspInitCallback == NULL)
 387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->MspInitCallback = HAL_SPI_MspInit; /* Legacy weak MspInit  */
 389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Init the low level hardware : GPIO, CLOCK, NVIC... */
 392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->MspInitCallback(hspi);
 393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
 394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Init the low level hardware : GPIO, CLOCK, NVIC... */
 395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     HAL_SPI_MspInit(hspi);
  94              		.loc 1 395 5
  95 004c 7868     		ldr	r0, [r7, #4]
  96 004e FFF7FEFF 		bl	HAL_SPI_MspInit
  97              	.L6:
 396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_BUSY;
  98              		.loc 1 399 15
  99 0052 7B68     		ldr	r3, [r7, #4]
 100 0054 0222     		movs	r2, #2
 101 0056 83F85D20 		strb	r2, [r3, #93]
 400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable the selected SPI peripheral */
 402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 102              		.loc 1 402 3
 103 005a 7B68     		ldr	r3, [r7, #4]
 104 005c 1B68     		ldr	r3, [r3]
 105 005e 1A68     		ldr	r2, [r3]
 106 0060 7B68     		ldr	r3, [r7, #4]
 107 0062 1B68     		ldr	r3, [r3]
 108 0064 22F04002 		bic	r2, r2, #64
 109 0068 1A60     		str	r2, [r3]
 403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Align by default the rs fifo threshold on the data size */
 405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 110              		.loc 1 405 17
ARM GAS  /tmp/ccC16sX6.s 			page 10


 111 006a 7B68     		ldr	r3, [r7, #4]
 112 006c DB68     		ldr	r3, [r3, #12]
 113              		.loc 1 405 6
 114 006e B3F5E06F 		cmp	r3, #1792
 115 0072 02D9     		bls	.L7
 406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     frxth = SPI_RXFIFO_THRESHOLD_HF;
 116              		.loc 1 407 11
 117 0074 0023     		movs	r3, #0
 118 0076 FB60     		str	r3, [r7, #12]
 119 0078 02E0     		b	.L8
 120              	.L7:
 408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
 410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     frxth = SPI_RXFIFO_THRESHOLD_QF;
 121              		.loc 1 411 11
 122 007a 4FF48053 		mov	r3, #4096
 123 007e FB60     		str	r3, [r7, #12]
 124              	.L8:
 412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* CRC calculation is valid only for 16Bit and 8 Bit */
 415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Init.DataSize != SPI_DATASIZE_16BIT) && (hspi->Init.DataSize != SPI_DATASIZE_8BIT))
 125              		.loc 1 415 18
 126 0080 7B68     		ldr	r3, [r7, #4]
 127 0082 DB68     		ldr	r3, [r3, #12]
 128              		.loc 1 415 6
 129 0084 B3F5706F 		cmp	r3, #3840
 130 0088 07D0     		beq	.L9
 131              		.loc 1 415 65 discriminator 1
 132 008a 7B68     		ldr	r3, [r7, #4]
 133 008c DB68     		ldr	r3, [r3, #12]
 134              		.loc 1 415 51 discriminator 1
 135 008e B3F5E06F 		cmp	r3, #1792
 136 0092 02D0     		beq	.L9
 416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* CRC must be disabled */
 418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 137              		.loc 1 418 31
 138 0094 7B68     		ldr	r3, [r7, #4]
 139 0096 0022     		movs	r2, #0
 140 0098 9A62     		str	r2, [r3, #40]
 141              	.L9:
 419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /*----------------------- SPIx CR1 & CR2 Configuration ---------------------*/
 422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Configure : SPI Mode, Communication Mode, Clock polarity and phase, NSS management,
 423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   Communication speed, First bit and CRC calculation state */
 424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   WRITE_REG(hspi->Instance->CR1, ((hspi->Init.Mode & (SPI_CR1_MSTR | SPI_CR1_SSI)) |
 142              		.loc 1 424 3
 143 009a 7B68     		ldr	r3, [r7, #4]
 144 009c 5B68     		ldr	r3, [r3, #4]
 145 009e 03F48272 		and	r2, r3, #260
 146 00a2 7B68     		ldr	r3, [r7, #4]
 147 00a4 9B68     		ldr	r3, [r3, #8]
 148 00a6 03F40443 		and	r3, r3, #33792
ARM GAS  /tmp/ccC16sX6.s 			page 11


 149 00aa 1A43     		orrs	r2, r2, r3
 150 00ac 7B68     		ldr	r3, [r7, #4]
 151 00ae 1B69     		ldr	r3, [r3, #16]
 152 00b0 03F00203 		and	r3, r3, #2
 153 00b4 1A43     		orrs	r2, r2, r3
 154 00b6 7B68     		ldr	r3, [r7, #4]
 155 00b8 5B69     		ldr	r3, [r3, #20]
 156 00ba 03F00103 		and	r3, r3, #1
 157 00be 1A43     		orrs	r2, r2, r3
 158 00c0 7B68     		ldr	r3, [r7, #4]
 159 00c2 9B69     		ldr	r3, [r3, #24]
 160 00c4 03F40073 		and	r3, r3, #512
 161 00c8 1A43     		orrs	r2, r2, r3
 162 00ca 7B68     		ldr	r3, [r7, #4]
 163 00cc DB69     		ldr	r3, [r3, #28]
 164 00ce 03F03803 		and	r3, r3, #56
 165 00d2 1A43     		orrs	r2, r2, r3
 166 00d4 7B68     		ldr	r3, [r7, #4]
 167 00d6 1B6A     		ldr	r3, [r3, #32]
 168 00d8 03F08003 		and	r3, r3, #128
 169 00dc 42EA0301 		orr	r1, r2, r3
 170 00e0 7B68     		ldr	r3, [r7, #4]
 171 00e2 9B6A     		ldr	r3, [r3, #40]
 172 00e4 03F40052 		and	r2, r3, #8192
 173 00e8 7B68     		ldr	r3, [r7, #4]
 174 00ea 1B68     		ldr	r3, [r3]
 175 00ec 0A43     		orrs	r2, r2, r1
 176 00ee 1A60     		str	r2, [r3]
 425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.Direction & (SPI_CR1_RXONLY | SPI_CR1_BIDIMODE)) |
 426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.CLKPolarity & SPI_CR1_CPOL) |
 427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.CLKPhase & SPI_CR1_CPHA) |
 428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.NSS & SPI_CR1_SSM) |
 429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.BaudRatePrescaler & SPI_CR1_BR_Msk) |
 430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.FirstBit  & SPI_CR1_LSBFIRST) |
 431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.CRCCalculation & SPI_CR1_CRCEN)));
 432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /*---------------------------- SPIx CRCL Configuration -------------------*/
 434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 177              		.loc 1 434 17
 178 00f0 7B68     		ldr	r3, [r7, #4]
 179 00f2 9B6A     		ldr	r3, [r3, #40]
 180              		.loc 1 434 6
 181 00f4 B3F5005F 		cmp	r3, #8192
 182 00f8 1BD1     		bne	.L10
 435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Align the CRC Length on the data size */
 437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCLength == SPI_CRC_LENGTH_DATASIZE)
 183              		.loc 1 437 19
 184 00fa 7B68     		ldr	r3, [r7, #4]
 185 00fc 1B6B     		ldr	r3, [r3, #48]
 186              		.loc 1 437 8
 187 00fe 002B     		cmp	r3, #0
 188 0100 0BD1     		bne	.L11
 438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* CRC Length aligned on the data size : value set by default */
 440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 189              		.loc 1 440 21
ARM GAS  /tmp/ccC16sX6.s 			page 12


 190 0102 7B68     		ldr	r3, [r7, #4]
 191 0104 DB68     		ldr	r3, [r3, #12]
 192              		.loc 1 440 10
 193 0106 B3F5E06F 		cmp	r3, #1792
 194 010a 03D9     		bls	.L12
 441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->Init.CRCLength = SPI_CRC_LENGTH_16BIT;
 195              		.loc 1 442 30
 196 010c 7B68     		ldr	r3, [r7, #4]
 197 010e 0222     		movs	r2, #2
 198 0110 1A63     		str	r2, [r3, #48]
 199 0112 02E0     		b	.L11
 200              	.L12:
 443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
 445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->Init.CRCLength = SPI_CRC_LENGTH_8BIT;
 201              		.loc 1 446 30
 202 0114 7B68     		ldr	r3, [r7, #4]
 203 0116 0122     		movs	r2, #1
 204 0118 1A63     		str	r2, [r3, #48]
 205              	.L11:
 447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Configure : CRC Length */
 451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCLength == SPI_CRC_LENGTH_16BIT)
 206              		.loc 1 451 19
 207 011a 7B68     		ldr	r3, [r7, #4]
 208 011c 1B6B     		ldr	r3, [r3, #48]
 209              		.loc 1 451 8
 210 011e 022B     		cmp	r3, #2
 211 0120 07D1     		bne	.L10
 452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCL);
 212              		.loc 1 453 7
 213 0122 7B68     		ldr	r3, [r7, #4]
 214 0124 1B68     		ldr	r3, [r3]
 215 0126 1A68     		ldr	r2, [r3]
 216 0128 7B68     		ldr	r3, [r7, #4]
 217 012a 1B68     		ldr	r3, [r3]
 218 012c 42F40062 		orr	r2, r2, #2048
 219 0130 1A60     		str	r2, [r3]
 220              	.L10:
 454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Configure : NSS management, TI Mode, NSS Pulse, Data size and Rx Fifo threshold */
 459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   WRITE_REG(hspi->Instance->CR2, (((hspi->Init.NSS >> 16U) & SPI_CR2_SSOE) |
 221              		.loc 1 459 3
 222 0132 7B68     		ldr	r3, [r7, #4]
 223 0134 9B69     		ldr	r3, [r3, #24]
 224 0136 1B0C     		lsrs	r3, r3, #16
 225 0138 03F00402 		and	r2, r3, #4
 226 013c 7B68     		ldr	r3, [r7, #4]
 227 013e 5B6A     		ldr	r3, [r3, #36]
ARM GAS  /tmp/ccC16sX6.s 			page 13


 228 0140 03F01003 		and	r3, r3, #16
 229 0144 1A43     		orrs	r2, r2, r3
 230 0146 7B68     		ldr	r3, [r7, #4]
 231 0148 5B6B     		ldr	r3, [r3, #52]
 232 014a 03F00803 		and	r3, r3, #8
 233 014e 1A43     		orrs	r2, r2, r3
 234 0150 7B68     		ldr	r3, [r7, #4]
 235 0152 DB68     		ldr	r3, [r3, #12]
 236 0154 03F47063 		and	r3, r3, #3840
 237 0158 42EA0301 		orr	r1, r2, r3
 238 015c FB68     		ldr	r3, [r7, #12]
 239 015e 03F48052 		and	r2, r3, #4096
 240 0162 7B68     		ldr	r3, [r7, #4]
 241 0164 1B68     		ldr	r3, [r3]
 242 0166 0A43     		orrs	r2, r2, r1
 243 0168 5A60     		str	r2, [r3, #4]
 460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.TIMode & SPI_CR2_FRF) |
 461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.NSSPMode & SPI_CR2_NSSP) |
 462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (hspi->Init.DataSize & SPI_CR2_DS_Msk) |
 463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                   (frxth & SPI_CR2_FRXTH)));
 464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /*---------------------------- SPIx CRCPOLY Configuration ------------------*/
 467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Configure : CRC Polynomial */
 468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 244              		.loc 1 468 17
 245 016a 7B68     		ldr	r3, [r7, #4]
 246 016c 9B6A     		ldr	r3, [r3, #40]
 247              		.loc 1 468 6
 248 016e B3F5005F 		cmp	r3, #8192
 249 0172 05D1     		bne	.L13
 469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     WRITE_REG(hspi->Instance->CRCPR, (hspi->Init.CRCPolynomial & SPI_CRCPR_CRCPOLY_Msk));
 250              		.loc 1 470 5
 251 0174 7B68     		ldr	r3, [r7, #4]
 252 0176 DA6A     		ldr	r2, [r3, #44]
 253 0178 7B68     		ldr	r3, [r7, #4]
 254 017a 1B68     		ldr	r3, [r3]
 255 017c 92B2     		uxth	r2, r2
 256 017e 1A61     		str	r2, [r3, #16]
 257              	.L13:
 471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if defined(SPI_I2SCFGR_I2SMOD)
 475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Activate the SPI mode (Make sure that I2SMOD bit in I2SCFGR register is reset) */
 476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->I2SCFGR, SPI_I2SCFGR_I2SMOD);
 477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* SPI_I2SCFGR_I2SMOD */
 478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 258              		.loc 1 479 19
 259 0180 7B68     		ldr	r3, [r7, #4]
 260 0182 0022     		movs	r2, #0
 261 0184 1A66     		str	r2, [r3, #96]
 480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State     = HAL_SPI_STATE_READY;
 262              		.loc 1 480 19
 263 0186 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccC16sX6.s 			page 14


 264 0188 0122     		movs	r2, #1
 265 018a 83F85D20 		strb	r2, [r3, #93]
 481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
 266              		.loc 1 482 10
 267 018e 0023     		movs	r3, #0
 268              	.L3:
 483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 269              		.loc 1 483 1
 270 0190 1846     		mov	r0, r3
 271 0192 1037     		adds	r7, r7, #16
 272              		.cfi_def_cfa_offset 8
 273 0194 BD46     		mov	sp, r7
 274              		.cfi_def_cfa_register 13
 275              		@ sp needed
 276 0196 80BD     		pop	{r7, pc}
 277              		.cfi_endproc
 278              	.LFE445:
 280              		.section	.text.HAL_SPI_DeInit,"ax",%progbits
 281              		.align	1
 282              		.global	HAL_SPI_DeInit
 283              		.syntax unified
 284              		.thumb
 285              		.thumb_func
 287              	HAL_SPI_DeInit:
 288              	.LFB446:
 484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
 486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  De-Initialize the SPI peripheral.
 487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
 489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
 490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DeInit(SPI_HandleTypeDef *hspi)
 492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 289              		.loc 1 492 1
 290              		.cfi_startproc
 291              		@ args = 0, pretend = 0, frame = 8
 292              		@ frame_needed = 1, uses_anonymous_args = 0
 293 0000 80B5     		push	{r7, lr}
 294              		.cfi_def_cfa_offset 8
 295              		.cfi_offset 7, -8
 296              		.cfi_offset 14, -4
 297 0002 82B0     		sub	sp, sp, #8
 298              		.cfi_def_cfa_offset 16
 299 0004 00AF     		add	r7, sp, #0
 300              		.cfi_def_cfa_register 7
 301 0006 7860     		str	r0, [r7, #4]
 493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the SPI handle allocation */
 494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi == NULL)
 302              		.loc 1 494 6
 303 0008 7B68     		ldr	r3, [r7, #4]
 304 000a 002B     		cmp	r3, #0
 305 000c 01D1     		bne	.L15
 495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 306              		.loc 1 496 12
ARM GAS  /tmp/ccC16sX6.s 			page 15


 307 000e 0123     		movs	r3, #1
 308 0010 1AE0     		b	.L16
 309              	.L15:
 497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check SPI Instance parameter */
 500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_ALL_INSTANCE(hspi->Instance));
 501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_BUSY;
 310              		.loc 1 502 15
 311 0012 7B68     		ldr	r3, [r7, #4]
 312 0014 0222     		movs	r2, #2
 313 0016 83F85D20 		strb	r2, [r3, #93]
 503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable the SPI Peripheral Clock */
 505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 314              		.loc 1 505 3
 315 001a 7B68     		ldr	r3, [r7, #4]
 316 001c 1B68     		ldr	r3, [r3]
 317 001e 1A68     		ldr	r2, [r3]
 318 0020 7B68     		ldr	r3, [r7, #4]
 319 0022 1B68     		ldr	r3, [r3]
 320 0024 22F04002 		bic	r2, r2, #64
 321 0028 1A60     		str	r2, [r3]
 506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
 508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->MspDeInitCallback == NULL)
 509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->MspDeInitCallback = HAL_SPI_MspDeInit; /* Legacy weak MspDeInit  */
 511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* DeInit the low level hardware: GPIO, CLOCK, NVIC... */
 514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->MspDeInitCallback(hspi);
 515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
 516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* DeInit the low level hardware: GPIO, CLOCK, NVIC... */
 517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_MspDeInit(hspi);
 322              		.loc 1 517 3
 323 002a 7868     		ldr	r0, [r7, #4]
 324 002c FFF7FEFF 		bl	HAL_SPI_MspDeInit
 518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 325              		.loc 1 520 19
 326 0030 7B68     		ldr	r3, [r7, #4]
 327 0032 0022     		movs	r2, #0
 328 0034 1A66     		str	r2, [r3, #96]
 521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_RESET;
 329              		.loc 1 521 15
 330 0036 7B68     		ldr	r3, [r7, #4]
 331 0038 0022     		movs	r2, #0
 332 003a 83F85D20 		strb	r2, [r3, #93]
 522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Release Lock */
 524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 333              		.loc 1 524 3
 334 003e 7B68     		ldr	r3, [r7, #4]
 335 0040 0022     		movs	r2, #0
ARM GAS  /tmp/ccC16sX6.s 			page 16


 336 0042 83F85C20 		strb	r2, [r3, #92]
 525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
 337              		.loc 1 526 10
 338 0046 0023     		movs	r3, #0
 339              	.L16:
 527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 340              		.loc 1 527 1
 341 0048 1846     		mov	r0, r3
 342 004a 0837     		adds	r7, r7, #8
 343              		.cfi_def_cfa_offset 8
 344 004c BD46     		mov	sp, r7
 345              		.cfi_def_cfa_register 13
 346              		@ sp needed
 347 004e 80BD     		pop	{r7, pc}
 348              		.cfi_endproc
 349              	.LFE446:
 351              		.section	.text.HAL_SPI_MspInit,"ax",%progbits
 352              		.align	1
 353              		.weak	HAL_SPI_MspInit
 354              		.syntax unified
 355              		.thumb
 356              		.thumb_func
 358              	HAL_SPI_MspInit:
 359              	.LFB447:
 528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
 530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Initialize the SPI MSP.
 531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
 533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
 534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** __weak void HAL_SPI_MspInit(SPI_HandleTypeDef *hspi)
 536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 360              		.loc 1 536 1
 361              		.cfi_startproc
 362              		@ args = 0, pretend = 0, frame = 8
 363              		@ frame_needed = 1, uses_anonymous_args = 0
 364              		@ link register save eliminated.
 365 0000 80B4     		push	{r7}
 366              		.cfi_def_cfa_offset 4
 367              		.cfi_offset 7, -4
 368 0002 83B0     		sub	sp, sp, #12
 369              		.cfi_def_cfa_offset 16
 370 0004 00AF     		add	r7, sp, #0
 371              		.cfi_def_cfa_register 7
 372 0006 7860     		str	r0, [r7, #4]
 537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(hspi);
 539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             the HAL_SPI_MspInit should be implemented in the user file
 542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
 543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 373              		.loc 1 543 1
 374 0008 00BF     		nop
 375 000a 0C37     		adds	r7, r7, #12
ARM GAS  /tmp/ccC16sX6.s 			page 17


 376              		.cfi_def_cfa_offset 4
 377 000c BD46     		mov	sp, r7
 378              		.cfi_def_cfa_register 13
 379              		@ sp needed
 380 000e 5DF8047B 		ldr	r7, [sp], #4
 381              		.cfi_restore 7
 382              		.cfi_def_cfa_offset 0
 383 0012 7047     		bx	lr
 384              		.cfi_endproc
 385              	.LFE447:
 387              		.section	.text.HAL_SPI_MspDeInit,"ax",%progbits
 388              		.align	1
 389              		.weak	HAL_SPI_MspDeInit
 390              		.syntax unified
 391              		.thumb
 392              		.thumb_func
 394              	HAL_SPI_MspDeInit:
 395              	.LFB448:
 544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
 546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  De-Initialize the SPI MSP.
 547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
 549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
 550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** __weak void HAL_SPI_MspDeInit(SPI_HandleTypeDef *hspi)
 552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 396              		.loc 1 552 1
 397              		.cfi_startproc
 398              		@ args = 0, pretend = 0, frame = 8
 399              		@ frame_needed = 1, uses_anonymous_args = 0
 400              		@ link register save eliminated.
 401 0000 80B4     		push	{r7}
 402              		.cfi_def_cfa_offset 4
 403              		.cfi_offset 7, -4
 404 0002 83B0     		sub	sp, sp, #12
 405              		.cfi_def_cfa_offset 16
 406 0004 00AF     		add	r7, sp, #0
 407              		.cfi_def_cfa_register 7
 408 0006 7860     		str	r0, [r7, #4]
 553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(hspi);
 555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             the HAL_SPI_MspDeInit should be implemented in the user file
 558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
 559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 409              		.loc 1 559 1
 410 0008 00BF     		nop
 411 000a 0C37     		adds	r7, r7, #12
 412              		.cfi_def_cfa_offset 4
 413 000c BD46     		mov	sp, r7
 414              		.cfi_def_cfa_register 13
 415              		@ sp needed
 416 000e 5DF8047B 		ldr	r7, [sp], #4
 417              		.cfi_restore 7
 418              		.cfi_def_cfa_offset 0
ARM GAS  /tmp/ccC16sX6.s 			page 18


 419 0012 7047     		bx	lr
 420              		.cfi_endproc
 421              	.LFE448:
 423              		.section	.text.HAL_SPI_Transmit,"ax",%progbits
 424              		.align	1
 425              		.global	HAL_SPI_Transmit
 426              		.syntax unified
 427              		.thumb
 428              		.thumb_func
 430              	HAL_SPI_Transmit:
 431              	.LFB449:
 560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
 562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
 563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Register a User SPI Callback
 564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         To be used instead of the weak predefined callback
 565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi Pointer to a SPI_HandleTypeDef structure that contains
 566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *                the configuration information for the specified SPI.
 567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  CallbackID ID of the callback to be registered
 568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pCallback pointer to the Callback function
 569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
 570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_RegisterCallback(SPI_HandleTypeDef *hspi, HAL_SPI_CallbackIDTypeDef Callb
 572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                            pSPI_CallbackTypeDef pCallback)
 573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef status = HAL_OK;
 575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (pCallback == NULL)
 577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Update the error code */
 579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode |= HAL_SPI_ERROR_INVALID_CALLBACK;
 580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process locked */
 584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_SPI_STATE_READY == hspi->State)
 587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     switch (CallbackID)
 589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_TX_COMPLETE_CB_ID :
 591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxCpltCallback = pCallback;
 592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_RX_COMPLETE_CB_ID :
 595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxCpltCallback = pCallback;
 596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_TX_RX_COMPLETE_CB_ID :
 599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxRxCpltCallback = pCallback;
 600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_TX_HALF_COMPLETE_CB_ID :
 603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxHalfCpltCallback = pCallback;
 604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
ARM GAS  /tmp/ccC16sX6.s 			page 19


 606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_RX_HALF_COMPLETE_CB_ID :
 607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxHalfCpltCallback = pCallback;
 608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_TX_RX_HALF_COMPLETE_CB_ID :
 611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxRxHalfCpltCallback = pCallback;
 612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_ERROR_CB_ID :
 615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCallback = pCallback;
 616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_ABORT_CB_ID :
 619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->AbortCpltCallback = pCallback;
 620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->MspInitCallback = pCallback;
 624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->MspDeInitCallback = pCallback;
 628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       default :
 631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Update the error code */
 632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Return error status */
 635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         status =  HAL_ERROR;
 636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else if (HAL_SPI_STATE_RESET == hspi->State)
 640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     switch (CallbackID)
 642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->MspInitCallback = pCallback;
 645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->MspDeInitCallback = pCallback;
 649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       default :
 652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Update the error code */
 653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Return error status */
 656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         status =  HAL_ERROR;
 657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
 661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Update the error code */
ARM GAS  /tmp/ccC16sX6.s 			page 20


 663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Return error status */
 666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     status =  HAL_ERROR;
 667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Release Lock */
 670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return status;
 672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
 675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Unregister an SPI Callback
 676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         SPI callback is redirected to the weak predefined callback
 677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi Pointer to a SPI_HandleTypeDef structure that contains
 678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *                the configuration information for the specified SPI.
 679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  CallbackID ID of the callback to be unregistered
 680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
 681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_UnRegisterCallback(SPI_HandleTypeDef *hspi, HAL_SPI_CallbackIDTypeDef Cal
 683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef status = HAL_OK;
 685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process locked */
 687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_SPI_STATE_READY == hspi->State)
 690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     switch (CallbackID)
 692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_TX_COMPLETE_CB_ID :
 694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxCpltCallback = HAL_SPI_TxCpltCallback;             /* Legacy weak TxCpltCallback   
 695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_RX_COMPLETE_CB_ID :
 698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxCpltCallback = HAL_SPI_RxCpltCallback;             /* Legacy weak RxCpltCallback   
 699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_TX_RX_COMPLETE_CB_ID :
 702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxRxCpltCallback = HAL_SPI_TxRxCpltCallback;         /* Legacy weak TxRxCpltCallback 
 703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_TX_HALF_COMPLETE_CB_ID :
 706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxHalfCpltCallback = HAL_SPI_TxHalfCpltCallback;     /* Legacy weak TxHalfCpltCallbac
 707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_RX_HALF_COMPLETE_CB_ID :
 710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxHalfCpltCallback = HAL_SPI_RxHalfCpltCallback;     /* Legacy weak RxHalfCpltCallbac
 711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_TX_RX_HALF_COMPLETE_CB_ID :
 714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxRxHalfCpltCallback = HAL_SPI_TxRxHalfCpltCallback; /* Legacy weak TxRxHalfCpltCallb
 715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_ERROR_CB_ID :
 718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCallback = HAL_SPI_ErrorCallback;               /* Legacy weak ErrorCallback    
 719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
ARM GAS  /tmp/ccC16sX6.s 			page 21


 720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_ABORT_CB_ID :
 722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->AbortCpltCallback = HAL_SPI_AbortCpltCallback;       /* Legacy weak AbortCpltCallback
 723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->MspInitCallback = HAL_SPI_MspInit;                   /* Legacy weak MspInit          
 727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->MspDeInitCallback = HAL_SPI_MspDeInit;               /* Legacy weak MspDeInit        
 731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       default :
 734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Update the error code */
 735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Return error status */
 738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         status =  HAL_ERROR;
 739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else if (HAL_SPI_STATE_RESET == hspi->State)
 743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     switch (CallbackID)
 745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->MspInitCallback = HAL_SPI_MspInit;                   /* Legacy weak MspInit          
 748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->MspDeInitCallback = HAL_SPI_MspDeInit;               /* Legacy weak MspDeInit        
 752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       default :
 755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Update the error code */
 756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Return error status */
 759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         status =  HAL_ERROR;
 760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
 764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Update the error code */
 766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Return error status */
 769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     status =  HAL_ERROR;
 770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Release Lock */
 773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return status;
 775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
ARM GAS  /tmp/ccC16sX6.s 			page 22


 777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
 778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @}
 779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group2 IO operation functions
 782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *  @brief   Data transfers functions
 783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *
 784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** @verbatim
 785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   ==============================================================================
 786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                       ##### IO operation functions #####
 787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****  ===============================================================================
 788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****  [..]
 789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     This subsection provides a set of functions allowing to manage the SPI
 790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     data transfers.
 791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     [..] The SPI supports master and slave mode :
 793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     (#) There are two modes of transfer:
 795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        (++) Blocking mode: The communication is performed in polling mode.
 796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             The HAL status of all data processing is returned by the same function
 797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             after finishing transfer.
 798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        (++) No-Blocking mode: The communication is performed using Interrupts
 799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             or DMA, These APIs return the HAL status.
 800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             The end of the data processing will be indicated through the
 801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             dedicated SPI IRQ when using Interrupt mode or the DMA IRQ when
 802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             using DMA mode.
 803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             The HAL_SPI_TxCpltCallback(), HAL_SPI_RxCpltCallback() and HAL_SPI_TxRxCpltCallback() u
 804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             will be executed respectively at the end of the transmit or Receive process
 805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             The HAL_SPI_ErrorCallback()user callback will be executed when a communication error is
 806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     (#) APIs provided for these 2 transfer modes (Blocking mode or Non blocking mode using either I
 808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         exist for 1Line (simplex) and 2Lines (full duplex) modes.
 809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** @endverbatim
 811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @{
 812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
 815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Transmit an amount of data in blocking mode.
 816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
 818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pData pointer to data buffer (u8 or u16 data elements)
 819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Size amount of data elements (u8 or u16) to be sent
 820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Timeout Timeout duration in ms
 821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
 822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
 823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit(SPI_HandleTypeDef *hspi, const uint8_t *pData, uint16_t Size, ui
 824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 432              		.loc 1 824 1
 433              		.cfi_startproc
 434              		@ args = 0, pretend = 0, frame = 32
 435              		@ frame_needed = 1, uses_anonymous_args = 0
 436 0000 80B5     		push	{r7, lr}
 437              		.cfi_def_cfa_offset 8
 438              		.cfi_offset 7, -8
 439              		.cfi_offset 14, -4
 440 0002 88B0     		sub	sp, sp, #32
ARM GAS  /tmp/ccC16sX6.s 			page 23


 441              		.cfi_def_cfa_offset 40
 442 0004 00AF     		add	r7, sp, #0
 443              		.cfi_def_cfa_register 7
 444 0006 F860     		str	r0, [r7, #12]
 445 0008 B960     		str	r1, [r7, #8]
 446 000a 3B60     		str	r3, [r7]
 447 000c 1346     		mov	r3, r2	@ movhi
 448 000e FB80     		strh	r3, [r7, #6]	@ movhi
 825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
 826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint16_t initial_TxXferCount;
 827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check Direction parameter */
 829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
 830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
 832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 449              		.loc 1 832 15
 450 0010 FFF7FEFF 		bl	HAL_GetTick
 451 0014 F861     		str	r0, [r7, #28]
 833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   initial_TxXferCount = Size;
 452              		.loc 1 833 23
 453 0016 FB88     		ldrh	r3, [r7, #6]	@ movhi
 454 0018 7B83     		strh	r3, [r7, #26]	@ movhi
 834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
 455              		.loc 1 835 11
 456 001a FB68     		ldr	r3, [r7, #12]
 457 001c 93F85D30 		ldrb	r3, [r3, #93]
 458 0020 DBB2     		uxtb	r3, r3
 459              		.loc 1 835 6
 460 0022 012B     		cmp	r3, #1
 461 0024 01D0     		beq	.L20
 836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_BUSY;
 462              		.loc 1 837 12
 463 0026 0223     		movs	r3, #2
 464 0028 7EE1     		b	.L21
 465              	.L20:
 838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
 466              		.loc 1 840 6
 467 002a BB68     		ldr	r3, [r7, #8]
 468 002c 002B     		cmp	r3, #0
 469 002e 02D0     		beq	.L22
 470              		.loc 1 840 23 discriminator 1
 471 0030 FB88     		ldrh	r3, [r7, #6]
 472 0032 002B     		cmp	r3, #0
 473 0034 01D1     		bne	.L23
 474              	.L22:
 841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 475              		.loc 1 842 12
 476 0036 0123     		movs	r3, #1
 477 0038 76E1     		b	.L21
 478              	.L23:
 843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
ARM GAS  /tmp/ccC16sX6.s 			page 24


 844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Locked */
 846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 479              		.loc 1 846 3
 480 003a FB68     		ldr	r3, [r7, #12]
 481 003c 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 482 0040 012B     		cmp	r3, #1
 483 0042 01D1     		bne	.L24
 484              		.loc 1 846 3 is_stmt 0 discriminator 1
 485 0044 0223     		movs	r3, #2
 486              		.loc 1 846 3
 487 0046 6FE1     		b	.L21
 488              	.L24:
 489              		.loc 1 846 3 discriminator 2
 490 0048 FB68     		ldr	r3, [r7, #12]
 491 004a 0122     		movs	r2, #1
 492 004c 83F85C20 		strb	r2, [r3, #92]
 847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the transaction information */
 849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
 493              		.loc 1 849 21 is_stmt 1
 494 0050 FB68     		ldr	r3, [r7, #12]
 495 0052 0322     		movs	r2, #3
 496 0054 83F85D20 		strb	r2, [r3, #93]
 850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 497              		.loc 1 850 21
 498 0058 FB68     		ldr	r3, [r7, #12]
 499 005a 0022     		movs	r2, #0
 500 005c 1A66     		str	r2, [r3, #96]
 851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
 501              		.loc 1 851 21
 502 005e FB68     		ldr	r3, [r7, #12]
 503 0060 BA68     		ldr	r2, [r7, #8]
 504 0062 9A63     		str	r2, [r3, #56]
 852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 505              		.loc 1 852 21
 506 0064 FB68     		ldr	r3, [r7, #12]
 507 0066 FA88     		ldrh	r2, [r7, #6]	@ movhi
 508 0068 9A87     		strh	r2, [r3, #60]	@ movhi
 853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 509              		.loc 1 853 21
 510 006a FB68     		ldr	r3, [r7, #12]
 511 006c FA88     		ldrh	r2, [r7, #6]	@ movhi
 512 006e DA87     		strh	r2, [r3, #62]	@ movhi
 854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /*Init field not used in handle to zero */
 856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
 513              		.loc 1 856 21
 514 0070 FB68     		ldr	r3, [r7, #12]
 515 0072 0022     		movs	r2, #0
 516 0074 1A64     		str	r2, [r3, #64]
 857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 517              		.loc 1 857 21
 518 0076 FB68     		ldr	r3, [r7, #12]
 519 0078 0022     		movs	r2, #0
 520 007a A3F84420 		strh	r2, [r3, #68]	@ movhi
 858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
ARM GAS  /tmp/ccC16sX6.s 			page 25


 521              		.loc 1 858 21
 522 007e FB68     		ldr	r3, [r7, #12]
 523 0080 0022     		movs	r2, #0
 524 0082 A3F84620 		strh	r2, [r3, #70]	@ movhi
 859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 525              		.loc 1 859 21
 526 0086 FB68     		ldr	r3, [r7, #12]
 527 0088 0022     		movs	r2, #0
 528 008a 1A65     		str	r2, [r3, #80]
 860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 529              		.loc 1 860 21
 530 008c FB68     		ldr	r3, [r7, #12]
 531 008e 0022     		movs	r2, #0
 532 0090 DA64     		str	r2, [r3, #76]
 861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
 863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
 533              		.loc 1 863 17
 534 0092 FB68     		ldr	r3, [r7, #12]
 535 0094 9B68     		ldr	r3, [r3, #8]
 536              		.loc 1 863 6
 537 0096 B3F5004F 		cmp	r3, #32768
 538 009a 0FD1     		bne	.L25
 864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
 866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 539              		.loc 1 866 5
 540 009c FB68     		ldr	r3, [r7, #12]
 541 009e 1B68     		ldr	r3, [r3]
 542 00a0 1A68     		ldr	r2, [r3]
 543 00a2 FB68     		ldr	r3, [r7, #12]
 544 00a4 1B68     		ldr	r3, [r3]
 545 00a6 22F04002 		bic	r2, r2, #64
 546 00aa 1A60     		str	r2, [r3]
 867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 547              		.loc 1 867 5
 548 00ac FB68     		ldr	r3, [r7, #12]
 549 00ae 1B68     		ldr	r3, [r3]
 550 00b0 1A68     		ldr	r2, [r3]
 551 00b2 FB68     		ldr	r3, [r7, #12]
 552 00b4 1B68     		ldr	r3, [r3]
 553 00b6 42F48042 		orr	r2, r2, #16384
 554 00ba 1A60     		str	r2, [r3]
 555              	.L25:
 868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset CRC Calculation */
 872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 556              		.loc 1 872 17
 557 00bc FB68     		ldr	r3, [r7, #12]
 558 00be 9B6A     		ldr	r3, [r3, #40]
 559              		.loc 1 872 6
 560 00c0 B3F5005F 		cmp	r3, #8192
 561 00c4 0FD1     		bne	.L26
 873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
ARM GAS  /tmp/ccC16sX6.s 			page 26


 562              		.loc 1 874 5
 563 00c6 FB68     		ldr	r3, [r7, #12]
 564 00c8 1B68     		ldr	r3, [r3]
 565 00ca 1A68     		ldr	r2, [r3]
 566 00cc FB68     		ldr	r3, [r7, #12]
 567 00ce 1B68     		ldr	r3, [r3]
 568 00d0 22F40052 		bic	r2, r2, #8192
 569 00d4 1A60     		str	r2, [r3]
 570 00d6 FB68     		ldr	r3, [r7, #12]
 571 00d8 1B68     		ldr	r3, [r3]
 572 00da 1A68     		ldr	r2, [r3]
 573 00dc FB68     		ldr	r3, [r7, #12]
 574 00de 1B68     		ldr	r3, [r3]
 575 00e0 42F40052 		orr	r2, r2, #8192
 576 00e4 1A60     		str	r2, [r3]
 577              	.L26:
 875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
 879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 578              		.loc 1 879 12
 579 00e6 FB68     		ldr	r3, [r7, #12]
 580 00e8 1B68     		ldr	r3, [r3]
 581              		.loc 1 879 22
 582 00ea 1B68     		ldr	r3, [r3]
 583              		.loc 1 879 28
 584 00ec 03F04003 		and	r3, r3, #64
 585              		.loc 1 879 6
 586 00f0 402B     		cmp	r3, #64
 587 00f2 07D0     		beq	.L27
 880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Enable SPI peripheral */
 882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 588              		.loc 1 882 5
 589 00f4 FB68     		ldr	r3, [r7, #12]
 590 00f6 1B68     		ldr	r3, [r3]
 591 00f8 1A68     		ldr	r2, [r3]
 592 00fa FB68     		ldr	r3, [r7, #12]
 593 00fc 1B68     		ldr	r3, [r3]
 594 00fe 42F04002 		orr	r2, r2, #64
 595 0102 1A60     		str	r2, [r3]
 596              	.L27:
 883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 597              		.loc 1 886 17
 598 0104 FB68     		ldr	r3, [r7, #12]
 599 0106 DB68     		ldr	r3, [r3, #12]
 600              		.loc 1 886 6
 601 0108 B3F5E06F 		cmp	r3, #1792
 602 010c 52D9     		bls	.L28
 887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
 603              		.loc 1 888 20
 604 010e FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccC16sX6.s 			page 27


 605 0110 5B68     		ldr	r3, [r3, #4]
 606              		.loc 1 888 8
 607 0112 002B     		cmp	r3, #0
 608 0114 02D0     		beq	.L29
 609              		.loc 1 888 45 discriminator 1
 610 0116 7B8B     		ldrh	r3, [r7, #26]
 611 0118 012B     		cmp	r3, #1
 612 011a 45D1     		bne	.L31
 613              	.L29:
 889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
 614              		.loc 1 890 52
 615 011c FB68     		ldr	r3, [r7, #12]
 616 011e 9B6B     		ldr	r3, [r3, #56]
 617              		.loc 1 890 28
 618 0120 1A88     		ldrh	r2, [r3]
 619              		.loc 1 890 11
 620 0122 FB68     		ldr	r3, [r7, #12]
 621 0124 1B68     		ldr	r3, [r3]
 622              		.loc 1 890 26
 623 0126 DA60     		str	r2, [r3, #12]
 891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 624              		.loc 1 891 11
 625 0128 FB68     		ldr	r3, [r7, #12]
 626 012a 9B6B     		ldr	r3, [r3, #56]
 627              		.loc 1 891 24
 628 012c 9A1C     		adds	r2, r3, #2
 629 012e FB68     		ldr	r3, [r7, #12]
 630 0130 9A63     		str	r2, [r3, #56]
 892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->TxXferCount--;
 631              		.loc 1 892 11
 632 0132 FB68     		ldr	r3, [r7, #12]
 633 0134 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 634 0136 9BB2     		uxth	r3, r3
 635              		.loc 1 892 24
 636 0138 013B     		subs	r3, r3, #1
 637 013a 9AB2     		uxth	r2, r3
 638 013c FB68     		ldr	r3, [r7, #12]
 639 013e DA87     		strh	r2, [r3, #62]	@ movhi
 893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Transmit data in 16 Bit mode */
 895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     while (hspi->TxXferCount > 0U)
 640              		.loc 1 895 11
 641 0140 32E0     		b	.L31
 642              	.L36:
 896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Wait until TXE flag is set to send data */
 898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE))
 643              		.loc 1 898 11
 644 0142 FB68     		ldr	r3, [r7, #12]
 645 0144 1B68     		ldr	r3, [r3]
 646 0146 9B68     		ldr	r3, [r3, #8]
 647 0148 03F00203 		and	r3, r3, #2
 648              		.loc 1 898 10
 649 014c 022B     		cmp	r3, #2
 650 014e 12D1     		bne	.L32
 899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
ARM GAS  /tmp/ccC16sX6.s 			page 28


 900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
 651              		.loc 1 900 54
 652 0150 FB68     		ldr	r3, [r7, #12]
 653 0152 9B6B     		ldr	r3, [r3, #56]
 654              		.loc 1 900 30
 655 0154 1A88     		ldrh	r2, [r3]
 656              		.loc 1 900 13
 657 0156 FB68     		ldr	r3, [r7, #12]
 658 0158 1B68     		ldr	r3, [r3]
 659              		.loc 1 900 28
 660 015a DA60     		str	r2, [r3, #12]
 901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 661              		.loc 1 901 13
 662 015c FB68     		ldr	r3, [r7, #12]
 663 015e 9B6B     		ldr	r3, [r3, #56]
 664              		.loc 1 901 26
 665 0160 9A1C     		adds	r2, r3, #2
 666 0162 FB68     		ldr	r3, [r7, #12]
 667 0164 9A63     		str	r2, [r3, #56]
 902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount--;
 668              		.loc 1 902 13
 669 0166 FB68     		ldr	r3, [r7, #12]
 670 0168 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 671 016a 9BB2     		uxth	r3, r3
 672              		.loc 1 902 26
 673 016c 013B     		subs	r3, r3, #1
 674 016e 9AB2     		uxth	r2, r3
 675 0170 FB68     		ldr	r3, [r7, #12]
 676 0172 DA87     		strh	r2, [r3, #62]	@ movhi
 677 0174 18E0     		b	.L31
 678              	.L32:
 903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
 905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Timeout management */
 907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
 679              		.loc 1 907 16
 680 0176 FFF7FEFF 		bl	HAL_GetTick
 681 017a 0246     		mov	r2, r0
 682              		.loc 1 907 30 discriminator 1
 683 017c FB69     		ldr	r3, [r7, #28]
 684 017e D31A     		subs	r3, r2, r3
 685              		.loc 1 907 12 discriminator 1
 686 0180 3A68     		ldr	r2, [r7]
 687 0182 9A42     		cmp	r2, r3
 688 0184 03D8     		bhi	.L34
 689              		.loc 1 907 56 discriminator 1
 690 0186 3B68     		ldr	r3, [r7]
 691 0188 B3F1FF3F 		cmp	r3, #-1
 692 018c 02D1     		bne	.L35
 693              	.L34:
 694              		.loc 1 907 87 discriminator 3
 695 018e 3B68     		ldr	r3, [r7]
 696 0190 002B     		cmp	r3, #0
 697 0192 09D1     		bne	.L31
 698              	.L35:
 908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
ARM GAS  /tmp/ccC16sX6.s 			page 29


 909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->State = HAL_SPI_STATE_READY;
 699              		.loc 1 909 23
 700 0194 FB68     		ldr	r3, [r7, #12]
 701 0196 0122     		movs	r2, #1
 702 0198 83F85D20 		strb	r2, [r3, #93]
 910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 703              		.loc 1 910 11
 704 019c FB68     		ldr	r3, [r7, #12]
 705 019e 0022     		movs	r2, #0
 706 01a0 83F85C20 		strb	r2, [r3, #92]
 911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           return HAL_TIMEOUT;
 707              		.loc 1 911 18
 708 01a4 0323     		movs	r3, #3
 709 01a6 BFE0     		b	.L21
 710              	.L31:
 895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 711              		.loc 1 895 16
 712 01a8 FB68     		ldr	r3, [r7, #12]
 713 01aa DB8F     		ldrh	r3, [r3, #62]	@ movhi
 714 01ac 9BB2     		uxth	r3, r3
 895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 715              		.loc 1 895 30
 716 01ae 002B     		cmp	r3, #0
 717 01b0 C7D1     		bne	.L36
 718 01b2 83E0     		b	.L37
 719              	.L28:
 912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit data in 8 Bit mode */
 917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
 918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
 720              		.loc 1 919 20
 721 01b4 FB68     		ldr	r3, [r7, #12]
 722 01b6 5B68     		ldr	r3, [r3, #4]
 723              		.loc 1 919 8
 724 01b8 002B     		cmp	r3, #0
 725 01ba 02D0     		beq	.L38
 726              		.loc 1 919 45 discriminator 1
 727 01bc 7B8B     		ldrh	r3, [r7, #26]
 728 01be 012B     		cmp	r3, #1
 729 01c0 77D1     		bne	.L41
 730              	.L38:
 920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (hspi->TxXferCount > 1U)
 731              		.loc 1 921 15
 732 01c2 FB68     		ldr	r3, [r7, #12]
 733 01c4 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 734 01c6 9BB2     		uxth	r3, r3
 735              		.loc 1 921 10
 736 01c8 012B     		cmp	r3, #1
 737 01ca 12D9     		bls	.L40
 922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* write on the data register in packing mode */
 924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
ARM GAS  /tmp/ccC16sX6.s 			page 30


 738              		.loc 1 924 54
 739 01cc FB68     		ldr	r3, [r7, #12]
 740 01ce 9B6B     		ldr	r3, [r3, #56]
 741              		.loc 1 924 30
 742 01d0 1A88     		ldrh	r2, [r3]
 743              		.loc 1 924 13
 744 01d2 FB68     		ldr	r3, [r7, #12]
 745 01d4 1B68     		ldr	r3, [r3]
 746              		.loc 1 924 28
 747 01d6 DA60     		str	r2, [r3, #12]
 925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 748              		.loc 1 925 13
 749 01d8 FB68     		ldr	r3, [r7, #12]
 750 01da 9B6B     		ldr	r3, [r3, #56]
 751              		.loc 1 925 26
 752 01dc 9A1C     		adds	r2, r3, #2
 753 01de FB68     		ldr	r3, [r7, #12]
 754 01e0 9A63     		str	r2, [r3, #56]
 926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount -= 2U;
 755              		.loc 1 926 13
 756 01e2 FB68     		ldr	r3, [r7, #12]
 757 01e4 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 758 01e6 9BB2     		uxth	r3, r3
 759              		.loc 1 926 27
 760 01e8 023B     		subs	r3, r3, #2
 761 01ea 9AB2     		uxth	r2, r3
 762 01ec FB68     		ldr	r3, [r7, #12]
 763 01ee DA87     		strh	r2, [r3, #62]	@ movhi
 764 01f0 5FE0     		b	.L41
 765              	.L40:
 927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
 929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         *((__IO uint8_t *)&hspi->Instance->DR) = *((const uint8_t *)hspi->pTxBuffPtr);
 766              		.loc 1 930 73
 767 01f2 FB68     		ldr	r3, [r7, #12]
 768 01f4 9A6B     		ldr	r2, [r3, #56]
 769              		.loc 1 930 32
 770 01f6 FB68     		ldr	r3, [r7, #12]
 771 01f8 1B68     		ldr	r3, [r3]
 772              		.loc 1 930 27
 773 01fa 0C33     		adds	r3, r3, #12
 774              		.loc 1 930 50
 775 01fc 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 776              		.loc 1 930 48
 777 01fe 1A70     		strb	r2, [r3]
 931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr ++;
 778              		.loc 1 931 13
 779 0200 FB68     		ldr	r3, [r7, #12]
 780 0202 9B6B     		ldr	r3, [r3, #56]
 781              		.loc 1 931 26
 782 0204 5A1C     		adds	r2, r3, #1
 783 0206 FB68     		ldr	r3, [r7, #12]
 784 0208 9A63     		str	r2, [r3, #56]
 932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount--;
 785              		.loc 1 932 13
 786 020a FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccC16sX6.s 			page 31


 787 020c DB8F     		ldrh	r3, [r3, #62]	@ movhi
 788 020e 9BB2     		uxth	r3, r3
 789              		.loc 1 932 26
 790 0210 013B     		subs	r3, r3, #1
 791 0212 9AB2     		uxth	r2, r3
 792 0214 FB68     		ldr	r3, [r7, #12]
 793 0216 DA87     		strh	r2, [r3, #62]	@ movhi
 933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     while (hspi->TxXferCount > 0U)
 794              		.loc 1 935 11
 795 0218 4BE0     		b	.L41
 796              	.L47:
 936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Wait until TXE flag is set to send data */
 938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE))
 797              		.loc 1 938 11
 798 021a FB68     		ldr	r3, [r7, #12]
 799 021c 1B68     		ldr	r3, [r3]
 800 021e 9B68     		ldr	r3, [r3, #8]
 801 0220 03F00203 		and	r3, r3, #2
 802              		.loc 1 938 10
 803 0224 022B     		cmp	r3, #2
 804 0226 2BD1     		bne	.L42
 939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (hspi->TxXferCount > 1U)
 805              		.loc 1 940 17
 806 0228 FB68     		ldr	r3, [r7, #12]
 807 022a DB8F     		ldrh	r3, [r3, #62]	@ movhi
 808 022c 9BB2     		uxth	r3, r3
 809              		.loc 1 940 12
 810 022e 012B     		cmp	r3, #1
 811 0230 12D9     		bls	.L43
 941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* write on the data register in packing mode */
 943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
 812              		.loc 1 943 56
 813 0232 FB68     		ldr	r3, [r7, #12]
 814 0234 9B6B     		ldr	r3, [r3, #56]
 815              		.loc 1 943 32
 816 0236 1A88     		ldrh	r2, [r3]
 817              		.loc 1 943 15
 818 0238 FB68     		ldr	r3, [r7, #12]
 819 023a 1B68     		ldr	r3, [r3]
 820              		.loc 1 943 30
 821 023c DA60     		str	r2, [r3, #12]
 944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr += sizeof(uint16_t);
 822              		.loc 1 944 15
 823 023e FB68     		ldr	r3, [r7, #12]
 824 0240 9B6B     		ldr	r3, [r3, #56]
 825              		.loc 1 944 28
 826 0242 9A1C     		adds	r2, r3, #2
 827 0244 FB68     		ldr	r3, [r7, #12]
 828 0246 9A63     		str	r2, [r3, #56]
 945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->TxXferCount -= 2U;
 829              		.loc 1 945 15
 830 0248 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccC16sX6.s 			page 32


 831 024a DB8F     		ldrh	r3, [r3, #62]	@ movhi
 832 024c 9BB2     		uxth	r3, r3
 833              		.loc 1 945 29
 834 024e 023B     		subs	r3, r3, #2
 835 0250 9AB2     		uxth	r2, r3
 836 0252 FB68     		ldr	r3, [r7, #12]
 837 0254 DA87     		strh	r2, [r3, #62]	@ movhi
 838 0256 2CE0     		b	.L41
 839              	.L43:
 946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         else
 948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           *((__IO uint8_t *)&hspi->Instance->DR) = *((const uint8_t *)hspi->pTxBuffPtr);
 840              		.loc 1 949 75
 841 0258 FB68     		ldr	r3, [r7, #12]
 842 025a 9A6B     		ldr	r2, [r3, #56]
 843              		.loc 1 949 34
 844 025c FB68     		ldr	r3, [r7, #12]
 845 025e 1B68     		ldr	r3, [r3]
 846              		.loc 1 949 29
 847 0260 0C33     		adds	r3, r3, #12
 848              		.loc 1 949 52
 849 0262 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 850              		.loc 1 949 50
 851 0264 1A70     		strb	r2, [r3]
 950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr++;
 852              		.loc 1 950 15
 853 0266 FB68     		ldr	r3, [r7, #12]
 854 0268 9B6B     		ldr	r3, [r3, #56]
 855              		.loc 1 950 27
 856 026a 5A1C     		adds	r2, r3, #1
 857 026c FB68     		ldr	r3, [r7, #12]
 858 026e 9A63     		str	r2, [r3, #56]
 951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->TxXferCount--;
 859              		.loc 1 951 15
 860 0270 FB68     		ldr	r3, [r7, #12]
 861 0272 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 862 0274 9BB2     		uxth	r3, r3
 863              		.loc 1 951 28
 864 0276 013B     		subs	r3, r3, #1
 865 0278 9AB2     		uxth	r2, r3
 866 027a FB68     		ldr	r3, [r7, #12]
 867 027c DA87     		strh	r2, [r3, #62]	@ movhi
 868 027e 18E0     		b	.L41
 869              	.L42:
 952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
 955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Timeout management */
 957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
 870              		.loc 1 957 16
 871 0280 FFF7FEFF 		bl	HAL_GetTick
 872 0284 0246     		mov	r2, r0
 873              		.loc 1 957 30 discriminator 1
 874 0286 FB69     		ldr	r3, [r7, #28]
 875 0288 D31A     		subs	r3, r2, r3
ARM GAS  /tmp/ccC16sX6.s 			page 33


 876              		.loc 1 957 12 discriminator 1
 877 028a 3A68     		ldr	r2, [r7]
 878 028c 9A42     		cmp	r2, r3
 879 028e 03D8     		bhi	.L45
 880              		.loc 1 957 56 discriminator 1
 881 0290 3B68     		ldr	r3, [r7]
 882 0292 B3F1FF3F 		cmp	r3, #-1
 883 0296 02D1     		bne	.L46
 884              	.L45:
 885              		.loc 1 957 87 discriminator 3
 886 0298 3B68     		ldr	r3, [r7]
 887 029a 002B     		cmp	r3, #0
 888 029c 09D1     		bne	.L41
 889              	.L46:
 958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->State = HAL_SPI_STATE_READY;
 890              		.loc 1 959 23
 891 029e FB68     		ldr	r3, [r7, #12]
 892 02a0 0122     		movs	r2, #1
 893 02a2 83F85D20 		strb	r2, [r3, #93]
 960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 894              		.loc 1 960 11
 895 02a6 FB68     		ldr	r3, [r7, #12]
 896 02a8 0022     		movs	r2, #0
 897 02aa 83F85C20 		strb	r2, [r3, #92]
 961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           return HAL_TIMEOUT;
 898              		.loc 1 961 18
 899 02ae 0323     		movs	r3, #3
 900 02b0 3AE0     		b	.L21
 901              	.L41:
 935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 902              		.loc 1 935 16
 903 02b2 FB68     		ldr	r3, [r7, #12]
 904 02b4 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 905 02b6 9BB2     		uxth	r3, r3
 935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 906              		.loc 1 935 30
 907 02b8 002B     		cmp	r3, #0
 908 02ba AED1     		bne	.L47
 909              	.L37:
 962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
 963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
 964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable CRC Transmission */
 968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 910              		.loc 1 968 17
 911 02bc FB68     		ldr	r3, [r7, #12]
 912 02be 9B6A     		ldr	r3, [r3, #40]
 913              		.loc 1 968 6
 914 02c0 B3F5005F 		cmp	r3, #8192
 915 02c4 07D1     		bne	.L48
 969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 916              		.loc 1 970 5
 917 02c6 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccC16sX6.s 			page 34


 918 02c8 1B68     		ldr	r3, [r3]
 919 02ca 1A68     		ldr	r2, [r3]
 920 02cc FB68     		ldr	r3, [r7, #12]
 921 02ce 1B68     		ldr	r3, [r3]
 922 02d0 42F48052 		orr	r2, r2, #4096
 923 02d4 1A60     		str	r2, [r3]
 924              	.L48:
 971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the end of the transaction */
 975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, Timeout, tickstart) != HAL_OK)
 925              		.loc 1 975 7
 926 02d6 FA69     		ldr	r2, [r7, #28]
 927 02d8 3968     		ldr	r1, [r7]
 928 02da F868     		ldr	r0, [r7, #12]
 929 02dc FFF7FEFF 		bl	SPI_EndRxTxTransaction
 930 02e0 0346     		mov	r3, r0
 931              		.loc 1 975 6 discriminator 1
 932 02e2 002B     		cmp	r3, #0
 933 02e4 02D0     		beq	.L49
 976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
 934              		.loc 1 977 21
 935 02e6 FB68     		ldr	r3, [r7, #12]
 936 02e8 2022     		movs	r2, #32
 937 02ea 1A66     		str	r2, [r3, #96]
 938              	.L49:
 978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
 981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
 939              		.loc 1 981 17
 940 02ec FB68     		ldr	r3, [r7, #12]
 941 02ee 9B68     		ldr	r3, [r3, #8]
 942              		.loc 1 981 6
 943 02f0 002B     		cmp	r3, #0
 944 02f2 0AD1     		bne	.L50
 945              	.LBB2:
 982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
 946              		.loc 1 983 5
 947 02f4 0023     		movs	r3, #0
 948 02f6 7B61     		str	r3, [r7, #20]
 949 02f8 FB68     		ldr	r3, [r7, #12]
 950 02fa 1B68     		ldr	r3, [r3]
 951 02fc DB68     		ldr	r3, [r3, #12]
 952 02fe 7B61     		str	r3, [r7, #20]
 953 0300 FB68     		ldr	r3, [r7, #12]
 954 0302 1B68     		ldr	r3, [r3]
 955 0304 9B68     		ldr	r3, [r3, #8]
 956 0306 7B61     		str	r3, [r7, #20]
 957 0308 7B69     		ldr	r3, [r7, #20]
 958              	.L50:
 959              	.LBE2:
 984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
ARM GAS  /tmp/ccC16sX6.s 			page 35


 986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 960              		.loc 1 986 15
 961 030a FB68     		ldr	r3, [r7, #12]
 962 030c 0122     		movs	r2, #1
 963 030e 83F85D20 		strb	r2, [r3, #93]
 987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Unlocked */
 988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 964              		.loc 1 988 3
 965 0312 FB68     		ldr	r3, [r7, #12]
 966 0314 0022     		movs	r2, #0
 967 0316 83F85C20 		strb	r2, [r3, #92]
 989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
 990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 968              		.loc 1 990 11
 969 031a FB68     		ldr	r3, [r7, #12]
 970 031c 1B6E     		ldr	r3, [r3, #96]
 971              		.loc 1 990 6
 972 031e 002B     		cmp	r3, #0
 973 0320 01D0     		beq	.L51
 991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 974              		.loc 1 992 12
 975 0322 0123     		movs	r3, #1
 976 0324 00E0     		b	.L21
 977              	.L51:
 993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
 995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_OK;
 978              		.loc 1 996 12
 979 0326 0023     		movs	r3, #0
 980              	.L21:
 997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
 998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 981              		.loc 1 998 1
 982 0328 1846     		mov	r0, r3
 983 032a 2037     		adds	r7, r7, #32
 984              		.cfi_def_cfa_offset 8
 985 032c BD46     		mov	sp, r7
 986              		.cfi_def_cfa_register 13
 987              		@ sp needed
 988 032e 80BD     		pop	{r7, pc}
 989              		.cfi_endproc
 990              	.LFE449:
 992              		.section	.text.HAL_SPI_Receive,"ax",%progbits
 993              		.align	1
 994              		.global	HAL_SPI_Receive
 995              		.syntax unified
 996              		.thumb
 997              		.thumb_func
 999              	HAL_SPI_Receive:
 1000              	.LFB450:
 999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
1001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Receive an amount of data in blocking mode.
1002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
ARM GAS  /tmp/ccC16sX6.s 			page 36


1004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pData pointer to data buffer (u8 or u16 data elements)
1005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Size amount of data elements (u8 or u16) to be received
1006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Timeout Timeout duration in ms
1007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
1008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @note   In master mode, if the direction is set to SPI_DIRECTION_2LINES
1009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         the receive buffer is written to data register (DR) to generate
1010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         clock pulses and receive data
1011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
1012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size, uint32_t 
1013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 1001              		.loc 1 1013 1
 1002              		.cfi_startproc
 1003              		@ args = 0, pretend = 0, frame = 32
 1004              		@ frame_needed = 1, uses_anonymous_args = 0
 1005 0000 80B5     		push	{r7, lr}
 1006              		.cfi_def_cfa_offset 8
 1007              		.cfi_offset 7, -8
 1008              		.cfi_offset 14, -4
 1009 0002 8AB0     		sub	sp, sp, #40
 1010              		.cfi_def_cfa_offset 48
 1011 0004 02AF     		add	r7, sp, #8
 1012              		.cfi_def_cfa 7, 40
 1013 0006 F860     		str	r0, [r7, #12]
 1014 0008 B960     		str	r1, [r7, #8]
 1015 000a 3B60     		str	r3, [r7]
 1016 000c 1346     		mov	r3, r2	@ movhi
 1017 000e FB80     		strh	r3, [r7, #6]	@ movhi
1014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
 1018              		.loc 1 1015 17
 1019 0010 0023     		movs	r3, #0
 1020 0012 7B61     		str	r3, [r7, #20]
1016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint8_t  *ptmpreg8;
1017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint8_t  tmpreg8 = 0;
 1021              		.loc 1 1017 17
 1022 0014 0023     		movs	r3, #0
 1023 0016 FB74     		strb	r3, [r7, #19]
1018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
1020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
 1024              		.loc 1 1021 11
 1025 0018 FB68     		ldr	r3, [r7, #12]
 1026 001a 93F85D30 		ldrb	r3, [r3, #93]
 1027 001e DBB2     		uxtb	r3, r3
 1028              		.loc 1 1021 6
 1029 0020 012B     		cmp	r3, #1
 1030 0022 01D0     		beq	.L53
1022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_BUSY;
 1031              		.loc 1 1023 12
 1032 0024 0223     		movs	r3, #2
 1033 0026 E0E1     		b	.L54
 1034              	.L53:
1024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
ARM GAS  /tmp/ccC16sX6.s 			page 37


 1035              		.loc 1 1026 6
 1036 0028 BB68     		ldr	r3, [r7, #8]
 1037 002a 002B     		cmp	r3, #0
 1038 002c 02D0     		beq	.L55
 1039              		.loc 1 1026 23 discriminator 1
 1040 002e FB88     		ldrh	r3, [r7, #6]
 1041 0030 002B     		cmp	r3, #0
 1042 0032 01D1     		bne	.L56
 1043              	.L55:
1027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 1044              		.loc 1 1028 12
 1045 0034 0123     		movs	r3, #1
 1046 0036 D8E1     		b	.L54
 1047              	.L56:
1029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES))
 1048              		.loc 1 1031 18
 1049 0038 FB68     		ldr	r3, [r7, #12]
 1050 003a 5B68     		ldr	r3, [r3, #4]
 1051              		.loc 1 1031 6
 1052 003c B3F5827F 		cmp	r3, #260
 1053 0040 12D1     		bne	.L57
 1054              		.loc 1 1031 58 discriminator 1
 1055 0042 FB68     		ldr	r3, [r7, #12]
 1056 0044 9B68     		ldr	r3, [r3, #8]
 1057              		.loc 1 1031 44 discriminator 1
 1058 0046 002B     		cmp	r3, #0
 1059 0048 0ED1     		bne	.L57
1032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_RX;
 1060              		.loc 1 1033 17
 1061 004a FB68     		ldr	r3, [r7, #12]
 1062 004c 0422     		movs	r2, #4
 1063 004e 83F85D20 		strb	r2, [r3, #93]
1034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
1035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_SPI_TransmitReceive(hspi, pData, pData, Size, Timeout);
 1064              		.loc 1 1035 12
 1065 0052 FA88     		ldrh	r2, [r7, #6]
 1066 0054 3B68     		ldr	r3, [r7]
 1067 0056 0093     		str	r3, [sp]
 1068 0058 1346     		mov	r3, r2
 1069 005a BA68     		ldr	r2, [r7, #8]
 1070 005c B968     		ldr	r1, [r7, #8]
 1071 005e F868     		ldr	r0, [r7, #12]
 1072 0060 FFF7FEFF 		bl	HAL_SPI_TransmitReceive
 1073 0064 0346     		mov	r3, r0
 1074 0066 C0E1     		b	.L54
 1075              	.L57:
1036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
1039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 1076              		.loc 1 1039 15
 1077 0068 FFF7FEFF 		bl	HAL_GetTick
 1078 006c F861     		str	r0, [r7, #28]
ARM GAS  /tmp/ccC16sX6.s 			page 38


1040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Locked */
1042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 1079              		.loc 1 1042 3
 1080 006e FB68     		ldr	r3, [r7, #12]
 1081 0070 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 1082 0074 012B     		cmp	r3, #1
 1083 0076 01D1     		bne	.L58
 1084              		.loc 1 1042 3 is_stmt 0 discriminator 1
 1085 0078 0223     		movs	r3, #2
 1086              		.loc 1 1042 3
 1087 007a B6E1     		b	.L54
 1088              	.L58:
 1089              		.loc 1 1042 3 discriminator 2
 1090 007c FB68     		ldr	r3, [r7, #12]
 1091 007e 0122     		movs	r2, #1
 1092 0080 83F85C20 		strb	r2, [r3, #92]
1043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the transaction information */
1045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
 1093              		.loc 1 1045 21 is_stmt 1
 1094 0084 FB68     		ldr	r3, [r7, #12]
 1095 0086 0422     		movs	r2, #4
 1096 0088 83F85D20 		strb	r2, [r3, #93]
1046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1097              		.loc 1 1046 21
 1098 008c FB68     		ldr	r3, [r7, #12]
 1099 008e 0022     		movs	r2, #0
 1100 0090 1A66     		str	r2, [r3, #96]
1047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 1101              		.loc 1 1047 21
 1102 0092 FB68     		ldr	r3, [r7, #12]
 1103 0094 BA68     		ldr	r2, [r7, #8]
 1104 0096 1A64     		str	r2, [r3, #64]
1048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 1105              		.loc 1 1048 21
 1106 0098 FB68     		ldr	r3, [r7, #12]
 1107 009a FA88     		ldrh	r2, [r7, #6]	@ movhi
 1108 009c A3F84420 		strh	r2, [r3, #68]	@ movhi
1049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 1109              		.loc 1 1049 21
 1110 00a0 FB68     		ldr	r3, [r7, #12]
 1111 00a2 FA88     		ldrh	r2, [r7, #6]	@ movhi
 1112 00a4 A3F84620 		strh	r2, [r3, #70]	@ movhi
1050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /*Init field not used in handle to zero */
1052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)NULL;
 1113              		.loc 1 1052 21
 1114 00a8 FB68     		ldr	r3, [r7, #12]
 1115 00aa 0022     		movs	r2, #0
 1116 00ac 9A63     		str	r2, [r3, #56]
1053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 1117              		.loc 1 1053 21
 1118 00ae FB68     		ldr	r3, [r7, #12]
 1119 00b0 0022     		movs	r2, #0
 1120 00b2 9A87     		strh	r2, [r3, #60]	@ movhi
1054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
ARM GAS  /tmp/ccC16sX6.s 			page 39


 1121              		.loc 1 1054 21
 1122 00b4 FB68     		ldr	r3, [r7, #12]
 1123 00b6 0022     		movs	r2, #0
 1124 00b8 DA87     		strh	r2, [r3, #62]	@ movhi
1055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 1125              		.loc 1 1055 21
 1126 00ba FB68     		ldr	r3, [r7, #12]
 1127 00bc 0022     		movs	r2, #0
 1128 00be DA64     		str	r2, [r3, #76]
1056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1129              		.loc 1 1056 21
 1130 00c0 FB68     		ldr	r3, [r7, #12]
 1131 00c2 0022     		movs	r2, #0
 1132 00c4 1A65     		str	r2, [r3, #80]
1057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset CRC Calculation */
1060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 1133              		.loc 1 1060 17
 1134 00c6 FB68     		ldr	r3, [r7, #12]
 1135 00c8 9B6A     		ldr	r3, [r3, #40]
 1136              		.loc 1 1060 6
 1137 00ca B3F5005F 		cmp	r3, #8192
 1138 00ce 18D1     		bne	.L59
1061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
 1139              		.loc 1 1062 5
 1140 00d0 FB68     		ldr	r3, [r7, #12]
 1141 00d2 1B68     		ldr	r3, [r3]
 1142 00d4 1A68     		ldr	r2, [r3]
 1143 00d6 FB68     		ldr	r3, [r7, #12]
 1144 00d8 1B68     		ldr	r3, [r3]
 1145 00da 22F40052 		bic	r2, r2, #8192
 1146 00de 1A60     		str	r2, [r3]
 1147 00e0 FB68     		ldr	r3, [r7, #12]
 1148 00e2 1B68     		ldr	r3, [r3]
 1149 00e4 1A68     		ldr	r2, [r3]
 1150 00e6 FB68     		ldr	r3, [r7, #12]
 1151 00e8 1B68     		ldr	r3, [r3]
 1152 00ea 42F40052 		orr	r2, r2, #8192
 1153 00ee 1A60     		str	r2, [r3]
1063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* this is done to handle the CRCNEXT before the latest data */
1064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxXferCount--;
 1154              		.loc 1 1064 9
 1155 00f0 FB68     		ldr	r3, [r7, #12]
 1156 00f2 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 1157 00f6 9BB2     		uxth	r3, r3
 1158              		.loc 1 1064 22
 1159 00f8 013B     		subs	r3, r3, #1
 1160 00fa 9AB2     		uxth	r2, r3
 1161 00fc FB68     		ldr	r3, [r7, #12]
 1162 00fe A3F84620 		strh	r2, [r3, #70]	@ movhi
 1163              	.L59:
1065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the Rx Fifo threshold */
ARM GAS  /tmp/ccC16sX6.s 			page 40


1069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 1164              		.loc 1 1069 17
 1165 0102 FB68     		ldr	r3, [r7, #12]
 1166 0104 DB68     		ldr	r3, [r3, #12]
 1167              		.loc 1 1069 6
 1168 0106 B3F5E06F 		cmp	r3, #1792
 1169 010a 08D9     		bls	.L60
1070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 16bit */
1072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 1170              		.loc 1 1072 5
 1171 010c FB68     		ldr	r3, [r7, #12]
 1172 010e 1B68     		ldr	r3, [r3]
 1173 0110 5A68     		ldr	r2, [r3, #4]
 1174 0112 FB68     		ldr	r3, [r7, #12]
 1175 0114 1B68     		ldr	r3, [r3]
 1176 0116 22F48052 		bic	r2, r2, #4096
 1177 011a 5A60     		str	r2, [r3, #4]
 1178 011c 07E0     		b	.L61
 1179              	.L60:
1073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 8bit */
1077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 1180              		.loc 1 1077 5
 1181 011e FB68     		ldr	r3, [r7, #12]
 1182 0120 1B68     		ldr	r3, [r3]
 1183 0122 5A68     		ldr	r2, [r3, #4]
 1184 0124 FB68     		ldr	r3, [r7, #12]
 1185 0126 1B68     		ldr	r3, [r3]
 1186 0128 42F48052 		orr	r2, r2, #4096
 1187 012c 5A60     		str	r2, [r3, #4]
 1188              	.L61:
1078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Configure communication direction: 1Line */
1081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
 1189              		.loc 1 1081 17
 1190 012e FB68     		ldr	r3, [r7, #12]
 1191 0130 9B68     		ldr	r3, [r3, #8]
 1192              		.loc 1 1081 6
 1193 0132 B3F5004F 		cmp	r3, #32768
 1194 0136 0FD1     		bne	.L62
1082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 1195              		.loc 1 1084 5
 1196 0138 FB68     		ldr	r3, [r7, #12]
 1197 013a 1B68     		ldr	r3, [r3]
 1198 013c 1A68     		ldr	r2, [r3]
 1199 013e FB68     		ldr	r3, [r7, #12]
 1200 0140 1B68     		ldr	r3, [r3]
 1201 0142 22F04002 		bic	r2, r2, #64
 1202 0146 1A60     		str	r2, [r3]
1085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 1203              		.loc 1 1085 5
ARM GAS  /tmp/ccC16sX6.s 			page 41


 1204 0148 FB68     		ldr	r3, [r7, #12]
 1205 014a 1B68     		ldr	r3, [r3]
 1206 014c 1A68     		ldr	r2, [r3]
 1207 014e FB68     		ldr	r3, [r7, #12]
 1208 0150 1B68     		ldr	r3, [r3]
 1209 0152 22F48042 		bic	r2, r2, #16384
 1210 0156 1A60     		str	r2, [r3]
 1211              	.L62:
1086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 1212              		.loc 1 1089 12
 1213 0158 FB68     		ldr	r3, [r7, #12]
 1214 015a 1B68     		ldr	r3, [r3]
 1215              		.loc 1 1089 22
 1216 015c 1B68     		ldr	r3, [r3]
 1217              		.loc 1 1089 28
 1218 015e 03F04003 		and	r3, r3, #64
 1219              		.loc 1 1089 6
 1220 0162 402B     		cmp	r3, #64
 1221 0164 07D0     		beq	.L63
1090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Enable SPI peripheral */
1092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 1222              		.loc 1 1092 5
 1223 0166 FB68     		ldr	r3, [r7, #12]
 1224 0168 1B68     		ldr	r3, [r3]
 1225 016a 1A68     		ldr	r2, [r3]
 1226 016c FB68     		ldr	r3, [r7, #12]
 1227 016e 1B68     		ldr	r3, [r3]
 1228 0170 42F04002 		orr	r2, r2, #64
 1229 0174 1A60     		str	r2, [r3]
 1230              	.L63:
1093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Receive data in 8 Bit mode */
1096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize <= SPI_DATASIZE_8BIT)
 1231              		.loc 1 1096 17
 1232 0176 FB68     		ldr	r3, [r7, #12]
 1233 0178 DB68     		ldr	r3, [r3, #12]
 1234              		.loc 1 1096 6
 1235 017a B3F5E06F 		cmp	r3, #1792
 1236 017e 75D8     		bhi	.L72
1097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Transfer loop */
1099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     while (hspi->RxXferCount > 0U)
 1237              		.loc 1 1099 11
 1238 0180 37E0     		b	.L65
 1239              	.L70:
1100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Check the RXNE flag */
1102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE))
 1240              		.loc 1 1102 11
 1241 0182 FB68     		ldr	r3, [r7, #12]
 1242 0184 1B68     		ldr	r3, [r3]
 1243 0186 9B68     		ldr	r3, [r3, #8]
ARM GAS  /tmp/ccC16sX6.s 			page 42


 1244 0188 03F00103 		and	r3, r3, #1
 1245              		.loc 1 1102 10
 1246 018c 012B     		cmp	r3, #1
 1247 018e 17D1     		bne	.L66
1103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* read the received data */
1105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         (* (uint8_t *)hspi->pRxBuffPtr) = *(__IO uint8_t *)&hspi->Instance->DR;
 1248              		.loc 1 1105 65
 1249 0190 FB68     		ldr	r3, [r7, #12]
 1250 0192 1B68     		ldr	r3, [r3]
 1251              		.loc 1 1105 60
 1252 0194 03F10C02 		add	r2, r3, #12
 1253              		.loc 1 1105 27
 1254 0198 FB68     		ldr	r3, [r7, #12]
 1255 019a 1B6C     		ldr	r3, [r3, #64]
 1256              		.loc 1 1105 43
 1257 019c 1278     		ldrb	r2, [r2]
 1258 019e D2B2     		uxtb	r2, r2
 1259              		.loc 1 1105 41
 1260 01a0 1A70     		strb	r2, [r3]
1106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint8_t);
 1261              		.loc 1 1106 13
 1262 01a2 FB68     		ldr	r3, [r7, #12]
 1263 01a4 1B6C     		ldr	r3, [r3, #64]
 1264              		.loc 1 1106 26
 1265 01a6 5A1C     		adds	r2, r3, #1
 1266 01a8 FB68     		ldr	r3, [r7, #12]
 1267 01aa 1A64     		str	r2, [r3, #64]
1107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount--;
 1268              		.loc 1 1107 13
 1269 01ac FB68     		ldr	r3, [r7, #12]
 1270 01ae B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 1271 01b2 9BB2     		uxth	r3, r3
 1272              		.loc 1 1107 26
 1273 01b4 013B     		subs	r3, r3, #1
 1274 01b6 9AB2     		uxth	r2, r3
 1275 01b8 FB68     		ldr	r3, [r7, #12]
 1276 01ba A3F84620 		strh	r2, [r3, #70]	@ movhi
 1277 01be 18E0     		b	.L65
 1278              	.L66:
1108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
1110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Timeout management */
1112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
 1279              		.loc 1 1112 16
 1280 01c0 FFF7FEFF 		bl	HAL_GetTick
 1281 01c4 0246     		mov	r2, r0
 1282              		.loc 1 1112 30 discriminator 1
 1283 01c6 FB69     		ldr	r3, [r7, #28]
 1284 01c8 D31A     		subs	r3, r2, r3
 1285              		.loc 1 1112 12 discriminator 1
 1286 01ca 3A68     		ldr	r2, [r7]
 1287 01cc 9A42     		cmp	r2, r3
 1288 01ce 03D8     		bhi	.L68
 1289              		.loc 1 1112 56 discriminator 1
 1290 01d0 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccC16sX6.s 			page 43


 1291 01d2 B3F1FF3F 		cmp	r3, #-1
 1292 01d6 02D1     		bne	.L69
 1293              	.L68:
 1294              		.loc 1 1112 87 discriminator 3
 1295 01d8 3B68     		ldr	r3, [r7]
 1296 01da 002B     		cmp	r3, #0
 1297 01dc 09D1     		bne	.L65
 1298              	.L69:
1113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
1114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->State = HAL_SPI_STATE_READY;
 1299              		.loc 1 1114 23
 1300 01de FB68     		ldr	r3, [r7, #12]
 1301 01e0 0122     		movs	r2, #1
 1302 01e2 83F85D20 		strb	r2, [r3, #93]
1115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 1303              		.loc 1 1115 11
 1304 01e6 FB68     		ldr	r3, [r7, #12]
 1305 01e8 0022     		movs	r2, #0
 1306 01ea 83F85C20 		strb	r2, [r3, #92]
1116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           return HAL_TIMEOUT;
 1307              		.loc 1 1116 18
 1308 01ee 0323     		movs	r3, #3
 1309 01f0 FBE0     		b	.L54
 1310              	.L65:
1099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1311              		.loc 1 1099 16
 1312 01f2 FB68     		ldr	r3, [r7, #12]
 1313 01f4 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 1314 01f8 9BB2     		uxth	r3, r3
1099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1315              		.loc 1 1099 30
 1316 01fa 002B     		cmp	r3, #0
 1317 01fc C1D1     		bne	.L70
 1318 01fe 3BE0     		b	.L71
 1319              	.L77:
1117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Transfer loop */
1124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     while (hspi->RxXferCount > 0U)
1125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Check the RXNE flag */
1127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE))
 1320              		.loc 1 1127 11
 1321 0200 FB68     		ldr	r3, [r7, #12]
 1322 0202 1B68     		ldr	r3, [r3]
 1323 0204 9B68     		ldr	r3, [r3, #8]
 1324 0206 03F00103 		and	r3, r3, #1
 1325              		.loc 1 1127 10
 1326 020a 012B     		cmp	r3, #1
 1327 020c 15D1     		bne	.L73
1128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
 1328              		.loc 1 1129 57
ARM GAS  /tmp/ccC16sX6.s 			page 44


 1329 020e FB68     		ldr	r3, [r7, #12]
 1330 0210 1B68     		ldr	r3, [r3]
 1331              		.loc 1 1129 67
 1332 0212 DA68     		ldr	r2, [r3, #12]
 1333              		.loc 1 1129 27
 1334 0214 FB68     		ldr	r3, [r7, #12]
 1335 0216 1B6C     		ldr	r3, [r3, #64]
 1336              		.loc 1 1129 43
 1337 0218 92B2     		uxth	r2, r2
 1338              		.loc 1 1129 41
 1339 021a 1A80     		strh	r2, [r3]	@ movhi
1130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 1340              		.loc 1 1130 13
 1341 021c FB68     		ldr	r3, [r7, #12]
 1342 021e 1B6C     		ldr	r3, [r3, #64]
 1343              		.loc 1 1130 26
 1344 0220 9A1C     		adds	r2, r3, #2
 1345 0222 FB68     		ldr	r3, [r7, #12]
 1346 0224 1A64     		str	r2, [r3, #64]
1131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount--;
 1347              		.loc 1 1131 13
 1348 0226 FB68     		ldr	r3, [r7, #12]
 1349 0228 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 1350 022c 9BB2     		uxth	r3, r3
 1351              		.loc 1 1131 26
 1352 022e 013B     		subs	r3, r3, #1
 1353 0230 9AB2     		uxth	r2, r3
 1354 0232 FB68     		ldr	r3, [r7, #12]
 1355 0234 A3F84620 		strh	r2, [r3, #70]	@ movhi
 1356 0238 18E0     		b	.L72
 1357              	.L73:
1132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
1134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Timeout management */
1136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
 1358              		.loc 1 1136 16
 1359 023a FFF7FEFF 		bl	HAL_GetTick
 1360 023e 0246     		mov	r2, r0
 1361              		.loc 1 1136 30 discriminator 1
 1362 0240 FB69     		ldr	r3, [r7, #28]
 1363 0242 D31A     		subs	r3, r2, r3
 1364              		.loc 1 1136 12 discriminator 1
 1365 0244 3A68     		ldr	r2, [r7]
 1366 0246 9A42     		cmp	r2, r3
 1367 0248 03D8     		bhi	.L75
 1368              		.loc 1 1136 56 discriminator 1
 1369 024a 3B68     		ldr	r3, [r7]
 1370 024c B3F1FF3F 		cmp	r3, #-1
 1371 0250 02D1     		bne	.L76
 1372              	.L75:
 1373              		.loc 1 1136 87 discriminator 3
 1374 0252 3B68     		ldr	r3, [r7]
 1375 0254 002B     		cmp	r3, #0
 1376 0256 09D1     		bne	.L72
 1377              	.L76:
1137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
ARM GAS  /tmp/ccC16sX6.s 			page 45


1138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->State = HAL_SPI_STATE_READY;
 1378              		.loc 1 1138 23
 1379 0258 FB68     		ldr	r3, [r7, #12]
 1380 025a 0122     		movs	r2, #1
 1381 025c 83F85D20 		strb	r2, [r3, #93]
1139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 1382              		.loc 1 1139 11
 1383 0260 FB68     		ldr	r3, [r7, #12]
 1384 0262 0022     		movs	r2, #0
 1385 0264 83F85C20 		strb	r2, [r3, #92]
1140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           return HAL_TIMEOUT;
 1386              		.loc 1 1140 18
 1387 0268 0323     		movs	r3, #3
 1388 026a BEE0     		b	.L54
 1389              	.L72:
1124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1390              		.loc 1 1124 16
 1391 026c FB68     		ldr	r3, [r7, #12]
 1392 026e B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 1393 0272 9BB2     		uxth	r3, r3
1124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 1394              		.loc 1 1124 30
 1395 0274 002B     		cmp	r3, #0
 1396 0276 C3D1     		bne	.L77
 1397              	.L71:
1141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Handle the CRC Transmission */
1148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 1398              		.loc 1 1148 17
 1399 0278 FB68     		ldr	r3, [r7, #12]
 1400 027a 9B6A     		ldr	r3, [r3, #40]
 1401              		.loc 1 1148 6
 1402 027c B3F5005F 		cmp	r3, #8192
 1403 0280 40F08780 		bne	.L78
1149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* freeze the CRC before the latest data */
1151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 1404              		.loc 1 1151 5
 1405 0284 FB68     		ldr	r3, [r7, #12]
 1406 0286 1B68     		ldr	r3, [r3]
 1407 0288 1A68     		ldr	r2, [r3]
 1408 028a FB68     		ldr	r3, [r7, #12]
 1409 028c 1B68     		ldr	r3, [r3]
 1410 028e 42F48052 		orr	r2, r2, #4096
 1411 0292 1A60     		str	r2, [r3]
1152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Read the latest data */
1154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
 1412              		.loc 1 1154 9
 1413 0294 FB69     		ldr	r3, [r7, #28]
 1414 0296 0093     		str	r3, [sp]
 1415 0298 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccC16sX6.s 			page 46


 1416 029a 0122     		movs	r2, #1
 1417 029c 0121     		movs	r1, #1
 1418 029e F868     		ldr	r0, [r7, #12]
 1419 02a0 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 1420 02a4 0346     		mov	r3, r0
 1421              		.loc 1 1154 8 discriminator 1
 1422 02a6 002B     		cmp	r3, #0
 1423 02a8 05D0     		beq	.L79
1155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* the latest data has not been received */
1157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_UNLOCK(hspi);
 1424              		.loc 1 1157 7
 1425 02aa FB68     		ldr	r3, [r7, #12]
 1426 02ac 0022     		movs	r2, #0
 1427 02ae 83F85C20 		strb	r2, [r3, #92]
1158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return HAL_TIMEOUT;
 1428              		.loc 1 1158 14
 1429 02b2 0323     		movs	r3, #3
 1430 02b4 99E0     		b	.L54
 1431              	.L79:
1159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Receive last data in 16 Bit mode */
1162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 1432              		.loc 1 1162 19
 1433 02b6 FB68     		ldr	r3, [r7, #12]
 1434 02b8 DB68     		ldr	r3, [r3, #12]
 1435              		.loc 1 1162 8
 1436 02ba B3F5E06F 		cmp	r3, #1792
 1437 02be 07D9     		bls	.L80
1163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
 1438              		.loc 1 1164 55
 1439 02c0 FB68     		ldr	r3, [r7, #12]
 1440 02c2 1B68     		ldr	r3, [r3]
 1441              		.loc 1 1164 65
 1442 02c4 DA68     		ldr	r2, [r3, #12]
 1443              		.loc 1 1164 25
 1444 02c6 FB68     		ldr	r3, [r7, #12]
 1445 02c8 1B6C     		ldr	r3, [r3, #64]
 1446              		.loc 1 1164 41
 1447 02ca 92B2     		uxth	r2, r2
 1448              		.loc 1 1164 39
 1449 02cc 1A80     		strh	r2, [r3]	@ movhi
 1450 02ce 08E0     		b	.L81
 1451              	.L80:
1165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Receive last data in 8 Bit mode */
1167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
1168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (*(uint8_t *)hspi->pRxBuffPtr) = *(__IO uint8_t *)&hspi->Instance->DR;
 1452              		.loc 1 1169 62
 1453 02d0 FB68     		ldr	r3, [r7, #12]
 1454 02d2 1B68     		ldr	r3, [r3]
 1455              		.loc 1 1169 57
 1456 02d4 03F10C02 		add	r2, r3, #12
 1457              		.loc 1 1169 24
ARM GAS  /tmp/ccC16sX6.s 			page 47


 1458 02d8 FB68     		ldr	r3, [r7, #12]
 1459 02da 1B6C     		ldr	r3, [r3, #64]
 1460              		.loc 1 1169 40
 1461 02dc 1278     		ldrb	r2, [r2]
 1462 02de D2B2     		uxtb	r2, r2
 1463              		.loc 1 1169 38
 1464 02e0 1A70     		strb	r2, [r3]
 1465              	.L81:
1170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Wait the CRC data */
1173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
 1466              		.loc 1 1173 9
 1467 02e2 FB69     		ldr	r3, [r7, #28]
 1468 02e4 0093     		str	r3, [sp]
 1469 02e6 3B68     		ldr	r3, [r7]
 1470 02e8 0122     		movs	r2, #1
 1471 02ea 0121     		movs	r1, #1
 1472 02ec F868     		ldr	r0, [r7, #12]
 1473 02ee FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 1474 02f2 0346     		mov	r3, r0
 1475              		.loc 1 1173 8 discriminator 1
 1476 02f4 002B     		cmp	r3, #0
 1477 02f6 0FD0     		beq	.L82
1174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 1478              		.loc 1 1175 7
 1479 02f8 FB68     		ldr	r3, [r7, #12]
 1480 02fa 1B6E     		ldr	r3, [r3, #96]
 1481 02fc 43F00202 		orr	r2, r3, #2
 1482 0300 FB68     		ldr	r3, [r7, #12]
 1483 0302 1A66     		str	r2, [r3, #96]
1176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
 1484              		.loc 1 1176 19
 1485 0304 FB68     		ldr	r3, [r7, #12]
 1486 0306 0122     		movs	r2, #1
 1487 0308 83F85D20 		strb	r2, [r3, #93]
1177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_UNLOCK(hspi);
 1488              		.loc 1 1177 7
 1489 030c FB68     		ldr	r3, [r7, #12]
 1490 030e 0022     		movs	r2, #0
 1491 0310 83F85C20 		strb	r2, [r3, #92]
1178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return HAL_TIMEOUT;
 1492              		.loc 1 1178 14
 1493 0314 0323     		movs	r3, #3
 1494 0316 68E0     		b	.L54
 1495              	.L82:
1179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Read CRC to Flush DR and RXNE flag */
1182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.DataSize == SPI_DATASIZE_16BIT)
 1496              		.loc 1 1182 19
 1497 0318 FB68     		ldr	r3, [r7, #12]
 1498 031a DB68     		ldr	r3, [r3, #12]
 1499              		.loc 1 1182 8
 1500 031c B3F5706F 		cmp	r3, #3840
 1501 0320 05D1     		bne	.L83
ARM GAS  /tmp/ccC16sX6.s 			page 48


1183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Read 16bit CRC */
1185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       tmpreg = READ_REG(hspi->Instance->DR);
 1502              		.loc 1 1185 16
 1503 0322 FB68     		ldr	r3, [r7, #12]
 1504 0324 1B68     		ldr	r3, [r3]
 1505 0326 DB68     		ldr	r3, [r3, #12]
 1506              		.loc 1 1185 14
 1507 0328 7B61     		str	r3, [r7, #20]
1186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* To avoid GCC warning */
1187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       UNUSED(tmpreg);
 1508              		.loc 1 1187 7
 1509 032a 7B69     		ldr	r3, [r7, #20]
 1510 032c 31E0     		b	.L78
 1511              	.L83:
1188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
1190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Initialize the 8bit temporary pointer */
1192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       ptmpreg8 = (__IO uint8_t *)&hspi->Instance->DR;
 1512              		.loc 1 1192 39
 1513 032e FB68     		ldr	r3, [r7, #12]
 1514 0330 1B68     		ldr	r3, [r3]
 1515              		.loc 1 1192 16
 1516 0332 0C33     		adds	r3, r3, #12
 1517 0334 BB61     		str	r3, [r7, #24]
1193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Read 8bit CRC */
1194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       tmpreg8 = *ptmpreg8;
 1518              		.loc 1 1194 17
 1519 0336 BB69     		ldr	r3, [r7, #24]
 1520 0338 1B78     		ldrb	r3, [r3]
 1521 033a DBB2     		uxtb	r3, r3
 1522              		.loc 1 1194 15
 1523 033c FB74     		strb	r3, [r7, #19]
1195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* To avoid GCC warning */
1196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       UNUSED(tmpreg8);
 1524              		.loc 1 1196 7
 1525 033e FB7C     		ldrb	r3, [r7, #19]
1197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((hspi->Init.DataSize == SPI_DATASIZE_8BIT) && (hspi->Init.CRCLength == SPI_CRC_LENGTH_16B
 1526              		.loc 1 1198 22
 1527 0340 FB68     		ldr	r3, [r7, #12]
 1528 0342 DB68     		ldr	r3, [r3, #12]
 1529              		.loc 1 1198 10
 1530 0344 B3F5E06F 		cmp	r3, #1792
 1531 0348 23D1     		bne	.L78
 1532              		.loc 1 1198 68 discriminator 1
 1533 034a FB68     		ldr	r3, [r7, #12]
 1534 034c 1B6B     		ldr	r3, [r3, #48]
 1535              		.loc 1 1198 54 discriminator 1
 1536 034e 022B     		cmp	r3, #2
 1537 0350 1FD1     		bne	.L78
1199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
 1538              		.loc 1 1200 13
 1539 0352 FB69     		ldr	r3, [r7, #28]
 1540 0354 0093     		str	r3, [sp]
ARM GAS  /tmp/ccC16sX6.s 			page 49


 1541 0356 3B68     		ldr	r3, [r7]
 1542 0358 0122     		movs	r2, #1
 1543 035a 0121     		movs	r1, #1
 1544 035c F868     		ldr	r0, [r7, #12]
 1545 035e FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 1546 0362 0346     		mov	r3, r0
 1547              		.loc 1 1200 12 discriminator 1
 1548 0364 002B     		cmp	r3, #0
 1549 0366 0FD0     		beq	.L84
1201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
1202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Error on the CRC reception */
1203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 1550              		.loc 1 1203 11
 1551 0368 FB68     		ldr	r3, [r7, #12]
 1552 036a 1B6E     		ldr	r3, [r3, #96]
 1553 036c 43F00202 		orr	r2, r3, #2
 1554 0370 FB68     		ldr	r3, [r7, #12]
 1555 0372 1A66     		str	r2, [r3, #96]
1204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->State = HAL_SPI_STATE_READY;
 1556              		.loc 1 1204 23
 1557 0374 FB68     		ldr	r3, [r7, #12]
 1558 0376 0122     		movs	r2, #1
 1559 0378 83F85D20 		strb	r2, [r3, #93]
1205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 1560              		.loc 1 1205 11
 1561 037c FB68     		ldr	r3, [r7, #12]
 1562 037e 0022     		movs	r2, #0
 1563 0380 83F85C20 		strb	r2, [r3, #92]
1206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           return HAL_TIMEOUT;
 1564              		.loc 1 1206 18
 1565 0384 0323     		movs	r3, #3
 1566 0386 30E0     		b	.L54
 1567              	.L84:
1207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Read 8bit CRC again in case of 16bit CRC in 8bit Data mode */
1209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         tmpreg8 = *ptmpreg8;
 1568              		.loc 1 1209 19
 1569 0388 BB69     		ldr	r3, [r7, #24]
 1570 038a 1B78     		ldrb	r3, [r3]
 1571 038c DBB2     		uxtb	r3, r3
 1572              		.loc 1 1209 17
 1573 038e FB74     		strb	r3, [r7, #19]
1210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* To avoid GCC warning */
1211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         UNUSED(tmpreg8);
 1574              		.loc 1 1211 9
 1575 0390 FB7C     		ldrb	r3, [r7, #19]
 1576              	.L78:
1212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the end of the transaction */
1218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_EndRxTransaction(hspi, Timeout, tickstart) != HAL_OK)
 1577              		.loc 1 1218 7
 1578 0392 FA69     		ldr	r2, [r7, #28]
 1579 0394 3968     		ldr	r1, [r7]
ARM GAS  /tmp/ccC16sX6.s 			page 50


 1580 0396 F868     		ldr	r0, [r7, #12]
 1581 0398 FFF7FEFF 		bl	SPI_EndRxTransaction
 1582 039c 0346     		mov	r3, r0
 1583              		.loc 1 1218 6 discriminator 1
 1584 039e 002B     		cmp	r3, #0
 1585 03a0 02D0     		beq	.L85
1219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
 1586              		.loc 1 1220 21
 1587 03a2 FB68     		ldr	r3, [r7, #12]
 1588 03a4 2022     		movs	r2, #32
 1589 03a6 1A66     		str	r2, [r3, #96]
 1590              	.L85:
1221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if CRC error occurred */
1225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR))
 1591              		.loc 1 1225 7
 1592 03a8 FB68     		ldr	r3, [r7, #12]
 1593 03aa 1B68     		ldr	r3, [r3]
 1594 03ac 9B68     		ldr	r3, [r3, #8]
 1595 03ae 03F01003 		and	r3, r3, #16
 1596              		.loc 1 1225 6
 1597 03b2 102B     		cmp	r3, #16
 1598 03b4 0AD1     		bne	.L86
1226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 1599              		.loc 1 1227 5
 1600 03b6 FB68     		ldr	r3, [r7, #12]
 1601 03b8 1B6E     		ldr	r3, [r3, #96]
 1602 03ba 43F00202 		orr	r2, r3, #2
 1603 03be FB68     		ldr	r3, [r7, #12]
 1604 03c0 1A66     		str	r2, [r3, #96]
1228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
 1605              		.loc 1 1228 5
 1606 03c2 FB68     		ldr	r3, [r7, #12]
 1607 03c4 1B68     		ldr	r3, [r3]
 1608 03c6 4FF6EF72 		movw	r2, #65519
 1609 03ca 9A60     		str	r2, [r3, #8]
 1610              	.L86:
1229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 1611              		.loc 1 1232 15
 1612 03cc FB68     		ldr	r3, [r7, #12]
 1613 03ce 0122     		movs	r2, #1
 1614 03d0 83F85D20 		strb	r2, [r3, #93]
1233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Unlock the process */
1234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 1615              		.loc 1 1234 3
 1616 03d4 FB68     		ldr	r3, [r7, #12]
 1617 03d6 0022     		movs	r2, #0
 1618 03d8 83F85C20 		strb	r2, [r3, #92]
1235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 1619              		.loc 1 1235 11
ARM GAS  /tmp/ccC16sX6.s 			page 51


 1620 03dc FB68     		ldr	r3, [r7, #12]
 1621 03de 1B6E     		ldr	r3, [r3, #96]
 1622              		.loc 1 1235 6
 1623 03e0 002B     		cmp	r3, #0
 1624 03e2 01D0     		beq	.L87
1236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 1625              		.loc 1 1237 12
 1626 03e4 0123     		movs	r3, #1
 1627 03e6 00E0     		b	.L54
 1628              	.L87:
1238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_OK;
 1629              		.loc 1 1241 12
 1630 03e8 0023     		movs	r3, #0
 1631              	.L54:
1242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 1632              		.loc 1 1243 1
 1633 03ea 1846     		mov	r0, r3
 1634 03ec 2037     		adds	r7, r7, #32
 1635              		.cfi_def_cfa_offset 8
 1636 03ee BD46     		mov	sp, r7
 1637              		.cfi_def_cfa_register 13
 1638              		@ sp needed
 1639 03f0 80BD     		pop	{r7, pc}
 1640              		.cfi_endproc
 1641              	.LFE450:
 1643              		.section	.text.HAL_SPI_TransmitReceive,"ax",%progbits
 1644              		.align	1
 1645              		.global	HAL_SPI_TransmitReceive
 1646              		.syntax unified
 1647              		.thumb
 1648              		.thumb_func
 1650              	HAL_SPI_TransmitReceive:
 1651              	.LFB451:
1244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
1246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in blocking mode.
1247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
1249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer (u8 or u16 data elements)
1250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer (u8 or u16 data elements)
1251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Size amount of data elements (u8 or u16) to be sent and received
1252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Timeout Timeout duration in ms
1253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
1254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
1255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive(SPI_HandleTypeDef *hspi, const uint8_t *pTxData, uint8_t 
1256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                           uint16_t Size, uint32_t Timeout)
1257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 1652              		.loc 1 1257 1
 1653              		.cfi_startproc
 1654              		@ args = 4, pretend = 0, frame = 56
 1655              		@ frame_needed = 1, uses_anonymous_args = 0
 1656 0000 80B5     		push	{r7, lr}
ARM GAS  /tmp/ccC16sX6.s 			page 52


 1657              		.cfi_def_cfa_offset 8
 1658              		.cfi_offset 7, -8
 1659              		.cfi_offset 14, -4
 1660 0002 90B0     		sub	sp, sp, #64
 1661              		.cfi_def_cfa_offset 72
 1662 0004 02AF     		add	r7, sp, #8
 1663              		.cfi_def_cfa 7, 64
 1664 0006 F860     		str	r0, [r7, #12]
 1665 0008 B960     		str	r1, [r7, #8]
 1666 000a 7A60     		str	r2, [r7, #4]
 1667 000c 7B80     		strh	r3, [r7, #2]	@ movhi
1258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint16_t             initial_TxXferCount;
1259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint16_t             initial_RxXferCount;
1260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t             tmp_mode;
1261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
1262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t             tickstart;
1263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
 1668              		.loc 1 1264 17
 1669 000e 0023     		movs	r3, #0
 1670 0010 7B61     		str	r3, [r7, #20]
1265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t             spi_cr1;
1266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t             spi_cr2;
1267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint8_t  *ptmpreg8;
1268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint8_t  tmpreg8 = 0;
 1671              		.loc 1 1268 17
 1672 0012 0023     		movs	r3, #0
 1673 0014 FB74     		strb	r3, [r7, #19]
1269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Variable used to alternate Rx and Tx during transfer */
1272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t             txallowed = 1U;
 1674              		.loc 1 1272 24
 1675 0016 0123     		movs	r3, #1
 1676 0018 7B63     		str	r3, [r7, #52]
1273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check Direction parameter */
1275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
1278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 1677              		.loc 1 1278 15
 1678 001a FFF7FEFF 		bl	HAL_GetTick
 1679 001e 3863     		str	r0, [r7, #48]
1279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init temporary variables */
1281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_state           = hspi->State;
 1680              		.loc 1 1281 23
 1681 0020 FB68     		ldr	r3, [r7, #12]
 1682 0022 93F85D30 		ldrb	r3, [r3, #93]
 1683 0026 87F82F30 		strb	r3, [r7, #47]
1282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 1684              		.loc 1 1282 23
 1685 002a FB68     		ldr	r3, [r7, #12]
 1686 002c 5B68     		ldr	r3, [r3, #4]
 1687 002e BB62     		str	r3, [r7, #40]
1283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   initial_TxXferCount = Size;
ARM GAS  /tmp/ccC16sX6.s 			page 53


 1688              		.loc 1 1283 23
 1689 0030 7B88     		ldrh	r3, [r7, #2]	@ movhi
 1690 0032 FB84     		strh	r3, [r7, #38]	@ movhi
1284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   initial_RxXferCount = Size;
 1691              		.loc 1 1284 23
 1692 0034 7B88     		ldrh	r3, [r7, #2]	@ movhi
 1693 0036 BB84     		strh	r3, [r7, #36]	@ movhi
1285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   spi_cr1             = READ_REG(hspi->Instance->CR1);
 1694              		.loc 1 1286 25
 1695 0038 FB68     		ldr	r3, [r7, #12]
 1696 003a 1B68     		ldr	r3, [r3]
 1697              		.loc 1 1286 23
 1698 003c 1B68     		ldr	r3, [r3]
 1699 003e 3B62     		str	r3, [r7, #32]
1287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   spi_cr2             = READ_REG(hspi->Instance->CR2);
 1700              		.loc 1 1287 25
 1701 0040 FB68     		ldr	r3, [r7, #12]
 1702 0042 1B68     		ldr	r3, [r3]
 1703              		.loc 1 1287 23
 1704 0044 5B68     		ldr	r3, [r3, #4]
 1705 0046 FB61     		str	r3, [r7, #28]
1288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (!((tmp_state == HAL_SPI_STATE_READY) || \
 1706              		.loc 1 1290 6
 1707 0048 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 1708 004c 012B     		cmp	r3, #1
 1709 004e 0DD0     		beq	.L89
 1710              		.loc 1 1290 7 discriminator 1
 1711 0050 BB6A     		ldr	r3, [r7, #40]
 1712 0052 B3F5827F 		cmp	r3, #260
 1713 0056 07D1     		bne	.L90
1291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 1714              		.loc 1 1291 54
 1715 0058 FB68     		ldr	r3, [r7, #12]
 1716 005a 9B68     		ldr	r3, [r3, #8]
 1717              		.loc 1 1291 40
 1718 005c 002B     		cmp	r3, #0
 1719 005e 03D1     		bne	.L90
 1720              		.loc 1 1291 90 discriminator 1
 1721 0060 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 1722 0064 042B     		cmp	r3, #4
 1723 0066 01D0     		beq	.L89
 1724              	.L90:
1292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
1293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_BUSY;
 1725              		.loc 1 1294 12
 1726 0068 0223     		movs	r3, #2
 1727 006a 0FE3     		b	.L91
 1728              	.L89:
1295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))
 1729              		.loc 1 1297 6
 1730 006c BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccC16sX6.s 			page 54


 1731 006e 002B     		cmp	r3, #0
 1732 0070 05D0     		beq	.L92
 1733              		.loc 1 1297 25 discriminator 1
 1734 0072 7B68     		ldr	r3, [r7, #4]
 1735 0074 002B     		cmp	r3, #0
 1736 0076 02D0     		beq	.L92
 1737              		.loc 1 1297 46 discriminator 2
 1738 0078 7B88     		ldrh	r3, [r7, #2]
 1739 007a 002B     		cmp	r3, #0
 1740 007c 01D1     		bne	.L93
 1741              	.L92:
1298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 1742              		.loc 1 1299 12
 1743 007e 0123     		movs	r3, #1
 1744 0080 04E3     		b	.L91
 1745              	.L93:
1300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Locked */
1303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 1746              		.loc 1 1303 3
 1747 0082 FB68     		ldr	r3, [r7, #12]
 1748 0084 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 1749 0088 012B     		cmp	r3, #1
 1750 008a 01D1     		bne	.L94
 1751              		.loc 1 1303 3 is_stmt 0 discriminator 1
 1752 008c 0223     		movs	r3, #2
 1753              		.loc 1 1303 3
 1754 008e FDE2     		b	.L91
 1755              	.L94:
 1756              		.loc 1 1303 3 discriminator 2
 1757 0090 FB68     		ldr	r3, [r7, #12]
 1758 0092 0122     		movs	r2, #1
 1759 0094 83F85C20 		strb	r2, [r3, #92]
1304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_BUSY_RX)
 1760              		.loc 1 1306 11 is_stmt 1
 1761 0098 FB68     		ldr	r3, [r7, #12]
 1762 009a 93F85D30 		ldrb	r3, [r3, #93]
 1763 009e DBB2     		uxtb	r3, r3
 1764              		.loc 1 1306 6
 1765 00a0 042B     		cmp	r3, #4
 1766 00a2 03D0     		beq	.L95
1307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
 1767              		.loc 1 1308 17
 1768 00a4 FB68     		ldr	r3, [r7, #12]
 1769 00a6 0522     		movs	r2, #5
 1770 00a8 83F85D20 		strb	r2, [r3, #93]
 1771              	.L95:
1309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the transaction information */
1312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1772              		.loc 1 1312 21
ARM GAS  /tmp/ccC16sX6.s 			page 55


 1773 00ac FB68     		ldr	r3, [r7, #12]
 1774 00ae 0022     		movs	r2, #0
 1775 00b0 1A66     		str	r2, [r3, #96]
1313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 1776              		.loc 1 1313 21
 1777 00b2 FB68     		ldr	r3, [r7, #12]
 1778 00b4 7A68     		ldr	r2, [r7, #4]
 1779 00b6 1A64     		str	r2, [r3, #64]
1314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 1780              		.loc 1 1314 21
 1781 00b8 FB68     		ldr	r3, [r7, #12]
 1782 00ba 7A88     		ldrh	r2, [r7, #2]	@ movhi
 1783 00bc A3F84620 		strh	r2, [r3, #70]	@ movhi
1315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 1784              		.loc 1 1315 21
 1785 00c0 FB68     		ldr	r3, [r7, #12]
 1786 00c2 7A88     		ldrh	r2, [r7, #2]	@ movhi
 1787 00c4 A3F84420 		strh	r2, [r3, #68]	@ movhi
1316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
 1788              		.loc 1 1316 21
 1789 00c8 FB68     		ldr	r3, [r7, #12]
 1790 00ca BA68     		ldr	r2, [r7, #8]
 1791 00cc 9A63     		str	r2, [r3, #56]
1317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 1792              		.loc 1 1317 21
 1793 00ce FB68     		ldr	r3, [r7, #12]
 1794 00d0 7A88     		ldrh	r2, [r7, #2]	@ movhi
 1795 00d2 DA87     		strh	r2, [r3, #62]	@ movhi
1318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 1796              		.loc 1 1318 21
 1797 00d4 FB68     		ldr	r3, [r7, #12]
 1798 00d6 7A88     		ldrh	r2, [r7, #2]	@ movhi
 1799 00d8 9A87     		strh	r2, [r3, #60]	@ movhi
1319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /*Init field not used in handle to zero */
1321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 1800              		.loc 1 1321 21
 1801 00da FB68     		ldr	r3, [r7, #12]
 1802 00dc 0022     		movs	r2, #0
 1803 00de DA64     		str	r2, [r3, #76]
1322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1804              		.loc 1 1322 21
 1805 00e0 FB68     		ldr	r3, [r7, #12]
 1806 00e2 0022     		movs	r2, #0
 1807 00e4 1A65     		str	r2, [r3, #80]
1323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset CRC Calculation */
1326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 1808              		.loc 1 1326 17
 1809 00e6 FB68     		ldr	r3, [r7, #12]
 1810 00e8 9B6A     		ldr	r3, [r3, #40]
 1811              		.loc 1 1326 6
 1812 00ea B3F5005F 		cmp	r3, #8192
 1813 00ee 0FD1     		bne	.L96
1327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
ARM GAS  /tmp/ccC16sX6.s 			page 56


 1814              		.loc 1 1328 5
 1815 00f0 FB68     		ldr	r3, [r7, #12]
 1816 00f2 1B68     		ldr	r3, [r3]
 1817 00f4 1A68     		ldr	r2, [r3]
 1818 00f6 FB68     		ldr	r3, [r7, #12]
 1819 00f8 1B68     		ldr	r3, [r3]
 1820 00fa 22F40052 		bic	r2, r2, #8192
 1821 00fe 1A60     		str	r2, [r3]
 1822 0100 FB68     		ldr	r3, [r7, #12]
 1823 0102 1B68     		ldr	r3, [r3]
 1824 0104 1A68     		ldr	r2, [r3]
 1825 0106 FB68     		ldr	r3, [r7, #12]
 1826 0108 1B68     		ldr	r3, [r3]
 1827 010a 42F40052 		orr	r2, r2, #8192
 1828 010e 1A60     		str	r2, [r3]
 1829              	.L96:
1329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the Rx Fifo threshold */
1333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Init.DataSize > SPI_DATASIZE_8BIT) || (initial_RxXferCount > 1U))
 1830              		.loc 1 1333 18
 1831 0110 FB68     		ldr	r3, [r7, #12]
 1832 0112 DB68     		ldr	r3, [r3, #12]
 1833              		.loc 1 1333 6
 1834 0114 B3F5E06F 		cmp	r3, #1792
 1835 0118 02D8     		bhi	.L97
 1836              		.loc 1 1333 49 discriminator 1
 1837 011a BB8C     		ldrh	r3, [r7, #36]
 1838 011c 012B     		cmp	r3, #1
 1839 011e 08D9     		bls	.L98
 1840              	.L97:
1334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set fiforxthreshold according the reception data length: 16bit */
1336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 1841              		.loc 1 1336 5
 1842 0120 FB68     		ldr	r3, [r7, #12]
 1843 0122 1B68     		ldr	r3, [r3]
 1844 0124 5A68     		ldr	r2, [r3, #4]
 1845 0126 FB68     		ldr	r3, [r7, #12]
 1846 0128 1B68     		ldr	r3, [r3]
 1847 012a 22F48052 		bic	r2, r2, #4096
 1848 012e 5A60     		str	r2, [r3, #4]
 1849 0130 07E0     		b	.L99
 1850              	.L98:
1337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set fiforxthreshold according the reception data length: 8bit */
1341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 1851              		.loc 1 1341 5
 1852 0132 FB68     		ldr	r3, [r7, #12]
 1853 0134 1B68     		ldr	r3, [r3]
 1854 0136 5A68     		ldr	r2, [r3, #4]
 1855 0138 FB68     		ldr	r3, [r7, #12]
 1856 013a 1B68     		ldr	r3, [r3]
 1857 013c 42F48052 		orr	r2, r2, #4096
ARM GAS  /tmp/ccC16sX6.s 			page 57


 1858 0140 5A60     		str	r2, [r3, #4]
 1859              	.L99:
1342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 1860              		.loc 1 1345 12
 1861 0142 FB68     		ldr	r3, [r7, #12]
 1862 0144 1B68     		ldr	r3, [r3]
 1863              		.loc 1 1345 22
 1864 0146 1B68     		ldr	r3, [r3]
 1865              		.loc 1 1345 28
 1866 0148 03F04003 		and	r3, r3, #64
 1867              		.loc 1 1345 6
 1868 014c 402B     		cmp	r3, #64
 1869 014e 07D0     		beq	.L100
1346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Enable SPI peripheral */
1348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 1870              		.loc 1 1348 5
 1871 0150 FB68     		ldr	r3, [r7, #12]
 1872 0152 1B68     		ldr	r3, [r3]
 1873 0154 1A68     		ldr	r2, [r3]
 1874 0156 FB68     		ldr	r3, [r7, #12]
 1875 0158 1B68     		ldr	r3, [r3]
 1876 015a 42F04002 		orr	r2, r2, #64
 1877 015e 1A60     		str	r2, [r3]
 1878              	.L100:
1349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit and Receive data in 16 Bit mode */
1352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 1879              		.loc 1 1352 17
 1880 0160 FB68     		ldr	r3, [r7, #12]
 1881 0162 DB68     		ldr	r3, [r3, #12]
 1882              		.loc 1 1352 6
 1883 0164 B3F5E06F 		cmp	r3, #1792
 1884 0168 40F2D080 		bls	.L101
1353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
 1885              		.loc 1 1354 20
 1886 016c FB68     		ldr	r3, [r7, #12]
 1887 016e 5B68     		ldr	r3, [r3, #4]
 1888              		.loc 1 1354 8
 1889 0170 002B     		cmp	r3, #0
 1890 0172 03D0     		beq	.L102
 1891              		.loc 1 1354 45 discriminator 1
 1892 0174 FB8C     		ldrh	r3, [r7, #38]
 1893 0176 012B     		cmp	r3, #1
 1894 0178 40F0BA80 		bne	.L105
 1895              	.L102:
1355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
 1896              		.loc 1 1356 52
 1897 017c FB68     		ldr	r3, [r7, #12]
 1898 017e 9B6B     		ldr	r3, [r3, #56]
 1899              		.loc 1 1356 28
ARM GAS  /tmp/ccC16sX6.s 			page 58


 1900 0180 1A88     		ldrh	r2, [r3]
 1901              		.loc 1 1356 11
 1902 0182 FB68     		ldr	r3, [r7, #12]
 1903 0184 1B68     		ldr	r3, [r3]
 1904              		.loc 1 1356 26
 1905 0186 DA60     		str	r2, [r3, #12]
1357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 1906              		.loc 1 1357 11
 1907 0188 FB68     		ldr	r3, [r7, #12]
 1908 018a 9B6B     		ldr	r3, [r3, #56]
 1909              		.loc 1 1357 24
 1910 018c 9A1C     		adds	r2, r3, #2
 1911 018e FB68     		ldr	r3, [r7, #12]
 1912 0190 9A63     		str	r2, [r3, #56]
1358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->TxXferCount--;
 1913              		.loc 1 1358 11
 1914 0192 FB68     		ldr	r3, [r7, #12]
 1915 0194 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1916 0196 9BB2     		uxth	r3, r3
 1917              		.loc 1 1358 24
 1918 0198 013B     		subs	r3, r3, #1
 1919 019a 9AB2     		uxth	r2, r3
 1920 019c FB68     		ldr	r3, [r7, #12]
 1921 019e DA87     		strh	r2, [r3, #62]	@ movhi
1359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Enable CRC Transmission */
1362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
 1922              		.loc 1 1362 16
 1923 01a0 FB68     		ldr	r3, [r7, #12]
 1924 01a2 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1925 01a4 9BB2     		uxth	r3, r3
 1926              		.loc 1 1362 10
 1927 01a6 002B     		cmp	r3, #0
 1928 01a8 40F0A280 		bne	.L105
 1929              		.loc 1 1362 51 discriminator 1
 1930 01ac FB68     		ldr	r3, [r7, #12]
 1931 01ae 9B6A     		ldr	r3, [r3, #40]
 1932              		.loc 1 1362 37 discriminator 1
 1933 01b0 B3F5005F 		cmp	r3, #8192
 1934 01b4 40F09C80 		bne	.L105
1363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Set NSS Soft to received correctly the CRC on slave mode with NSS pulse activated */
1365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if ((READ_BIT(spi_cr1, SPI_CR1_MSTR) == 0U) && (READ_BIT(spi_cr2, SPI_CR2_NSSP) == SPI_CR2_
 1935              		.loc 1 1365 14
 1936 01b8 3B6A     		ldr	r3, [r7, #32]
 1937 01ba 03F00403 		and	r3, r3, #4
 1938              		.loc 1 1365 12
 1939 01be 002B     		cmp	r3, #0
 1940 01c0 0CD1     		bne	.L104
 1941              		.loc 1 1365 57 discriminator 1
 1942 01c2 FB69     		ldr	r3, [r7, #28]
 1943 01c4 03F00803 		and	r3, r3, #8
 1944              		.loc 1 1365 53 discriminator 1
 1945 01c8 002B     		cmp	r3, #0
 1946 01ca 07D0     		beq	.L104
1366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
ARM GAS  /tmp/ccC16sX6.s 			page 59


1367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           SET_BIT(hspi->Instance->CR1, SPI_CR1_SSM);
 1947              		.loc 1 1367 11
 1948 01cc FB68     		ldr	r3, [r7, #12]
 1949 01ce 1B68     		ldr	r3, [r3]
 1950 01d0 1A68     		ldr	r2, [r3]
 1951 01d2 FB68     		ldr	r3, [r7, #12]
 1952 01d4 1B68     		ldr	r3, [r3]
 1953 01d6 42F40072 		orr	r2, r2, #512
 1954 01da 1A60     		str	r2, [r3]
 1955              	.L104:
1368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 1956              		.loc 1 1369 9
 1957 01dc FB68     		ldr	r3, [r7, #12]
 1958 01de 1B68     		ldr	r3, [r3]
 1959 01e0 1A68     		ldr	r2, [r3]
 1960 01e2 FB68     		ldr	r3, [r7, #12]
 1961 01e4 1B68     		ldr	r3, [r3]
 1962 01e6 42F48052 		orr	r2, r2, #4096
 1963 01ea 1A60     		str	r2, [r3]
1370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     while ((hspi->TxXferCount > 0U) || (hspi->RxXferCount > 0U))
 1964              		.loc 1 1374 11
 1965 01ec 80E0     		b	.L105
 1966              	.L110:
1375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Check TXE flag */
1377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE)) && (hspi->TxXferCount > 0U) && (txallowed == 1U)
 1967              		.loc 1 1377 12
 1968 01ee FB68     		ldr	r3, [r7, #12]
 1969 01f0 1B68     		ldr	r3, [r3]
 1970 01f2 9B68     		ldr	r3, [r3, #8]
 1971 01f4 03F00203 		and	r3, r3, #2
 1972              		.loc 1 1377 10
 1973 01f8 022B     		cmp	r3, #2
 1974 01fa 3FD1     		bne	.L106
 1975              		.loc 1 1377 60 discriminator 1
 1976 01fc FB68     		ldr	r3, [r7, #12]
 1977 01fe DB8F     		ldrh	r3, [r3, #62]	@ movhi
 1978 0200 9BB2     		uxth	r3, r3
 1979              		.loc 1 1377 52 discriminator 1
 1980 0202 002B     		cmp	r3, #0
 1981 0204 3AD0     		beq	.L106
 1982              		.loc 1 1377 80 discriminator 2
 1983 0206 7B6B     		ldr	r3, [r7, #52]
 1984 0208 012B     		cmp	r3, #1
 1985 020a 37D1     		bne	.L106
1378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
 1986              		.loc 1 1379 54
 1987 020c FB68     		ldr	r3, [r7, #12]
 1988 020e 9B6B     		ldr	r3, [r3, #56]
 1989              		.loc 1 1379 30
 1990 0210 1A88     		ldrh	r2, [r3]
ARM GAS  /tmp/ccC16sX6.s 			page 60


 1991              		.loc 1 1379 13
 1992 0212 FB68     		ldr	r3, [r7, #12]
 1993 0214 1B68     		ldr	r3, [r3]
 1994              		.loc 1 1379 28
 1995 0216 DA60     		str	r2, [r3, #12]
1380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1996              		.loc 1 1380 13
 1997 0218 FB68     		ldr	r3, [r7, #12]
 1998 021a 9B6B     		ldr	r3, [r3, #56]
 1999              		.loc 1 1380 26
 2000 021c 9A1C     		adds	r2, r3, #2
 2001 021e FB68     		ldr	r3, [r7, #12]
 2002 0220 9A63     		str	r2, [r3, #56]
1381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount--;
 2003              		.loc 1 1381 13
 2004 0222 FB68     		ldr	r3, [r7, #12]
 2005 0224 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 2006 0226 9BB2     		uxth	r3, r3
 2007              		.loc 1 1381 26
 2008 0228 013B     		subs	r3, r3, #1
 2009 022a 9AB2     		uxth	r2, r3
 2010 022c FB68     		ldr	r3, [r7, #12]
 2011 022e DA87     		strh	r2, [r3, #62]	@ movhi
1382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
1383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         txallowed = 0U;
 2012              		.loc 1 1383 19
 2013 0230 0023     		movs	r3, #0
 2014 0232 7B63     		str	r3, [r7, #52]
1384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Enable CRC Transmission */
1387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if ((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
 2015              		.loc 1 1387 18
 2016 0234 FB68     		ldr	r3, [r7, #12]
 2017 0236 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 2018 0238 9BB2     		uxth	r3, r3
 2019              		.loc 1 1387 12
 2020 023a 002B     		cmp	r3, #0
 2021 023c 1ED1     		bne	.L106
 2022              		.loc 1 1387 53 discriminator 1
 2023 023e FB68     		ldr	r3, [r7, #12]
 2024 0240 9B6A     		ldr	r3, [r3, #40]
 2025              		.loc 1 1387 39 discriminator 1
 2026 0242 B3F5005F 		cmp	r3, #8192
 2027 0246 19D1     		bne	.L106
1388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
1389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Set NSS Soft to received correctly the CRC on slave mode with NSS pulse activated */
1390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           if ((READ_BIT(spi_cr1, SPI_CR1_MSTR) == 0U) && (READ_BIT(spi_cr2, SPI_CR2_NSSP) == SPI_CR
 2028              		.loc 1 1390 16
 2029 0248 3B6A     		ldr	r3, [r7, #32]
 2030 024a 03F00403 		and	r3, r3, #4
 2031              		.loc 1 1390 14
 2032 024e 002B     		cmp	r3, #0
 2033 0250 0CD1     		bne	.L107
 2034              		.loc 1 1390 59 discriminator 1
 2035 0252 FB69     		ldr	r3, [r7, #28]
 2036 0254 03F00803 		and	r3, r3, #8
ARM GAS  /tmp/ccC16sX6.s 			page 61


 2037              		.loc 1 1390 55 discriminator 1
 2038 0258 002B     		cmp	r3, #0
 2039 025a 07D0     		beq	.L107
1391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
1392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             SET_BIT(hspi->Instance->CR1, SPI_CR1_SSM);
 2040              		.loc 1 1392 13
 2041 025c FB68     		ldr	r3, [r7, #12]
 2042 025e 1B68     		ldr	r3, [r3]
 2043 0260 1A68     		ldr	r2, [r3]
 2044 0262 FB68     		ldr	r3, [r7, #12]
 2045 0264 1B68     		ldr	r3, [r3]
 2046 0266 42F40072 		orr	r2, r2, #512
 2047 026a 1A60     		str	r2, [r3]
 2048              	.L107:
1393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           }
1394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 2049              		.loc 1 1394 11
 2050 026c FB68     		ldr	r3, [r7, #12]
 2051 026e 1B68     		ldr	r3, [r3]
 2052 0270 1A68     		ldr	r2, [r3]
 2053 0272 FB68     		ldr	r3, [r7, #12]
 2054 0274 1B68     		ldr	r3, [r3]
 2055 0276 42F48052 		orr	r2, r2, #4096
 2056 027a 1A60     		str	r2, [r3]
 2057              	.L106:
1395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Check RXNE flag */
1400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE)) && (hspi->RxXferCount > 0U))
 2058              		.loc 1 1400 12
 2059 027c FB68     		ldr	r3, [r7, #12]
 2060 027e 1B68     		ldr	r3, [r3]
 2061 0280 9B68     		ldr	r3, [r3, #8]
 2062 0282 03F00103 		and	r3, r3, #1
 2063              		.loc 1 1400 10
 2064 0286 012B     		cmp	r3, #1
 2065 0288 1CD1     		bne	.L108
 2066              		.loc 1 1400 61 discriminator 1
 2067 028a FB68     		ldr	r3, [r7, #12]
 2068 028c B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 2069 0290 9BB2     		uxth	r3, r3
 2070              		.loc 1 1400 53 discriminator 1
 2071 0292 002B     		cmp	r3, #0
 2072 0294 16D0     		beq	.L108
1401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
 2073              		.loc 1 1402 57
 2074 0296 FB68     		ldr	r3, [r7, #12]
 2075 0298 1B68     		ldr	r3, [r3]
 2076              		.loc 1 1402 67
 2077 029a DA68     		ldr	r2, [r3, #12]
 2078              		.loc 1 1402 27
 2079 029c FB68     		ldr	r3, [r7, #12]
 2080 029e 1B6C     		ldr	r3, [r3, #64]
 2081              		.loc 1 1402 43
ARM GAS  /tmp/ccC16sX6.s 			page 62


 2082 02a0 92B2     		uxth	r2, r2
 2083              		.loc 1 1402 41
 2084 02a2 1A80     		strh	r2, [r3]	@ movhi
1403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 2085              		.loc 1 1403 13
 2086 02a4 FB68     		ldr	r3, [r7, #12]
 2087 02a6 1B6C     		ldr	r3, [r3, #64]
 2088              		.loc 1 1403 26
 2089 02a8 9A1C     		adds	r2, r3, #2
 2090 02aa FB68     		ldr	r3, [r7, #12]
 2091 02ac 1A64     		str	r2, [r3, #64]
1404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount--;
 2092              		.loc 1 1404 13
 2093 02ae FB68     		ldr	r3, [r7, #12]
 2094 02b0 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 2095 02b4 9BB2     		uxth	r3, r3
 2096              		.loc 1 1404 26
 2097 02b6 013B     		subs	r3, r3, #1
 2098 02b8 9AB2     		uxth	r2, r3
 2099 02ba FB68     		ldr	r3, [r7, #12]
 2100 02bc A3F84620 		strh	r2, [r3, #70]	@ movhi
1405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
1406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         txallowed = 1U;
 2101              		.loc 1 1406 19
 2102 02c0 0123     		movs	r3, #1
 2103 02c2 7B63     		str	r3, [r7, #52]
 2104              	.L108:
1407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY))
 2105              		.loc 1 1408 13
 2106 02c4 FFF7FEFF 		bl	HAL_GetTick
 2107 02c8 0246     		mov	r2, r0
 2108              		.loc 1 1408 27 discriminator 1
 2109 02ca 3B6B     		ldr	r3, [r7, #48]
 2110 02cc D31A     		subs	r3, r2, r3
 2111              		.loc 1 1408 10 discriminator 1
 2112 02ce 3A6C     		ldr	r2, [r7, #64]
 2113 02d0 9A42     		cmp	r2, r3
 2114 02d2 0DD8     		bhi	.L105
 2115              		.loc 1 1408 53 discriminator 1
 2116 02d4 3B6C     		ldr	r3, [r7, #64]
 2117 02d6 B3F1FF3F 		cmp	r3, #-1
 2118 02da 09D0     		beq	.L105
1409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
 2119              		.loc 1 1410 21
 2120 02dc FB68     		ldr	r3, [r7, #12]
 2121 02de 0122     		movs	r2, #1
 2122 02e0 83F85D20 		strb	r2, [r3, #93]
1411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
 2123              		.loc 1 1411 9
 2124 02e4 FB68     		ldr	r3, [r7, #12]
 2125 02e6 0022     		movs	r2, #0
 2126 02e8 83F85C20 		strb	r2, [r3, #92]
1412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         return HAL_TIMEOUT;
 2127              		.loc 1 1412 16
 2128 02ec 0323     		movs	r3, #3
ARM GAS  /tmp/ccC16sX6.s 			page 63


 2129 02ee CDE1     		b	.L91
 2130              	.L105:
1374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2131              		.loc 1 1374 17
 2132 02f0 FB68     		ldr	r3, [r7, #12]
 2133 02f2 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 2134 02f4 9BB2     		uxth	r3, r3
1374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2135              		.loc 1 1374 37
 2136 02f6 002B     		cmp	r3, #0
 2137 02f8 7FF479AF 		bne	.L110
1374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2138              		.loc 1 1374 45 discriminator 1
 2139 02fc FB68     		ldr	r3, [r7, #12]
 2140 02fe B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 2141 0302 9BB2     		uxth	r3, r3
1374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2142              		.loc 1 1374 37 discriminator 1
 2143 0304 002B     		cmp	r3, #0
 2144 0306 7FF472AF 		bne	.L110
 2145 030a 2FE1     		b	.L111
 2146              	.L101:
1413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit and Receive data in 8 Bit mode */
1417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
 2147              		.loc 1 1419 20
 2148 030c FB68     		ldr	r3, [r7, #12]
 2149 030e 5B68     		ldr	r3, [r3, #4]
 2150              		.loc 1 1419 8
 2151 0310 002B     		cmp	r3, #0
 2152 0312 03D0     		beq	.L112
 2153              		.loc 1 1419 45 discriminator 1
 2154 0314 FB8C     		ldrh	r3, [r7, #38]
 2155 0316 012B     		cmp	r3, #1
 2156 0318 40F01B81 		bne	.L116
 2157              	.L112:
1420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (hspi->TxXferCount > 1U)
 2158              		.loc 1 1421 15
 2159 031c FB68     		ldr	r3, [r7, #12]
 2160 031e DB8F     		ldrh	r3, [r3, #62]	@ movhi
 2161 0320 9BB2     		uxth	r3, r3
 2162              		.loc 1 1421 10
 2163 0322 012B     		cmp	r3, #1
 2164 0324 12D9     		bls	.L114
1422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
 2165              		.loc 1 1423 54
 2166 0326 FB68     		ldr	r3, [r7, #12]
 2167 0328 9B6B     		ldr	r3, [r3, #56]
 2168              		.loc 1 1423 30
 2169 032a 1A88     		ldrh	r2, [r3]
 2170              		.loc 1 1423 13
ARM GAS  /tmp/ccC16sX6.s 			page 64


 2171 032c FB68     		ldr	r3, [r7, #12]
 2172 032e 1B68     		ldr	r3, [r3]
 2173              		.loc 1 1423 28
 2174 0330 DA60     		str	r2, [r3, #12]
1424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 2175              		.loc 1 1424 13
 2176 0332 FB68     		ldr	r3, [r7, #12]
 2177 0334 9B6B     		ldr	r3, [r3, #56]
 2178              		.loc 1 1424 26
 2179 0336 9A1C     		adds	r2, r3, #2
 2180 0338 FB68     		ldr	r3, [r7, #12]
 2181 033a 9A63     		str	r2, [r3, #56]
1425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount -= 2U;
 2182              		.loc 1 1425 13
 2183 033c FB68     		ldr	r3, [r7, #12]
 2184 033e DB8F     		ldrh	r3, [r3, #62]	@ movhi
 2185 0340 9BB2     		uxth	r3, r3
 2186              		.loc 1 1425 27
 2187 0342 023B     		subs	r3, r3, #2
 2188 0344 9AB2     		uxth	r2, r3
 2189 0346 FB68     		ldr	r3, [r7, #12]
 2190 0348 DA87     		strh	r2, [r3, #62]	@ movhi
 2191 034a 02E1     		b	.L116
 2192              	.L114:
1426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
1428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         *(__IO uint8_t *)&hspi->Instance->DR = *((const uint8_t *)hspi->pTxBuffPtr);
 2193              		.loc 1 1429 71
 2194 034c FB68     		ldr	r3, [r7, #12]
 2195 034e 9A6B     		ldr	r2, [r3, #56]
 2196              		.loc 1 1429 31
 2197 0350 FB68     		ldr	r3, [r7, #12]
 2198 0352 1B68     		ldr	r3, [r3]
 2199              		.loc 1 1429 26
 2200 0354 0C33     		adds	r3, r3, #12
 2201              		.loc 1 1429 48
 2202 0356 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 2203              		.loc 1 1429 46
 2204 0358 1A70     		strb	r2, [r3]
1430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->pTxBuffPtr++;
 2205              		.loc 1 1430 13
 2206 035a FB68     		ldr	r3, [r7, #12]
 2207 035c 9B6B     		ldr	r3, [r3, #56]
 2208              		.loc 1 1430 25
 2209 035e 5A1C     		adds	r2, r3, #1
 2210 0360 FB68     		ldr	r3, [r7, #12]
 2211 0362 9A63     		str	r2, [r3, #56]
1431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount--;
 2212              		.loc 1 1431 13
 2213 0364 FB68     		ldr	r3, [r7, #12]
 2214 0366 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 2215 0368 9BB2     		uxth	r3, r3
 2216              		.loc 1 1431 26
 2217 036a 013B     		subs	r3, r3, #1
 2218 036c 9AB2     		uxth	r2, r3
 2219 036e FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccC16sX6.s 			page 65


 2220 0370 DA87     		strh	r2, [r3, #62]	@ movhi
1432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Enable CRC Transmission */
1435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if ((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
 2221              		.loc 1 1435 18
 2222 0372 FB68     		ldr	r3, [r7, #12]
 2223 0374 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 2224 0376 9BB2     		uxth	r3, r3
 2225              		.loc 1 1435 12
 2226 0378 002B     		cmp	r3, #0
 2227 037a 40F0EA80 		bne	.L116
 2228              		.loc 1 1435 53 discriminator 1
 2229 037e FB68     		ldr	r3, [r7, #12]
 2230 0380 9B6A     		ldr	r3, [r3, #40]
 2231              		.loc 1 1435 39 discriminator 1
 2232 0382 B3F5005F 		cmp	r3, #8192
 2233 0386 40F0E480 		bne	.L116
1436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
1437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Set NSS Soft to received correctly the CRC on slave mode with NSS pulse activated */
1438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           if ((READ_BIT(spi_cr1, SPI_CR1_MSTR) == 0U) && (READ_BIT(spi_cr2, SPI_CR2_NSSP) == SPI_CR
 2234              		.loc 1 1438 16
 2235 038a 3B6A     		ldr	r3, [r7, #32]
 2236 038c 03F00403 		and	r3, r3, #4
 2237              		.loc 1 1438 14
 2238 0390 002B     		cmp	r3, #0
 2239 0392 0CD1     		bne	.L115
 2240              		.loc 1 1438 59 discriminator 1
 2241 0394 FB69     		ldr	r3, [r7, #28]
 2242 0396 03F00803 		and	r3, r3, #8
 2243              		.loc 1 1438 55 discriminator 1
 2244 039a 002B     		cmp	r3, #0
 2245 039c 07D0     		beq	.L115
1439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
1440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             SET_BIT(hspi->Instance->CR1, SPI_CR1_SSM);
 2246              		.loc 1 1440 13
 2247 039e FB68     		ldr	r3, [r7, #12]
 2248 03a0 1B68     		ldr	r3, [r3]
 2249 03a2 1A68     		ldr	r2, [r3]
 2250 03a4 FB68     		ldr	r3, [r7, #12]
 2251 03a6 1B68     		ldr	r3, [r3]
 2252 03a8 42F40072 		orr	r2, r2, #512
 2253 03ac 1A60     		str	r2, [r3]
 2254              	.L115:
1441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           }
1442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 2255              		.loc 1 1442 11
 2256 03ae FB68     		ldr	r3, [r7, #12]
 2257 03b0 1B68     		ldr	r3, [r3]
 2258 03b2 1A68     		ldr	r2, [r3]
 2259 03b4 FB68     		ldr	r3, [r7, #12]
 2260 03b6 1B68     		ldr	r3, [r3]
 2261 03b8 42F48052 		orr	r2, r2, #4096
 2262 03bc 1A60     		str	r2, [r3]
1443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
ARM GAS  /tmp/ccC16sX6.s 			page 66


1446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     while ((hspi->TxXferCount > 0U) || (hspi->RxXferCount > 0U))
 2263              		.loc 1 1447 11
 2264 03be C8E0     		b	.L116
 2265              	.L126:
1448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Check TXE flag */
1450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE)) && (hspi->TxXferCount > 0U) && (txallowed == 1U)
 2266              		.loc 1 1450 12
 2267 03c0 FB68     		ldr	r3, [r7, #12]
 2268 03c2 1B68     		ldr	r3, [r3]
 2269 03c4 9B68     		ldr	r3, [r3, #8]
 2270 03c6 03F00203 		and	r3, r3, #2
 2271              		.loc 1 1450 10
 2272 03ca 022B     		cmp	r3, #2
 2273 03cc 58D1     		bne	.L117
 2274              		.loc 1 1450 60 discriminator 1
 2275 03ce FB68     		ldr	r3, [r7, #12]
 2276 03d0 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 2277 03d2 9BB2     		uxth	r3, r3
 2278              		.loc 1 1450 52 discriminator 1
 2279 03d4 002B     		cmp	r3, #0
 2280 03d6 53D0     		beq	.L117
 2281              		.loc 1 1450 80 discriminator 2
 2282 03d8 7B6B     		ldr	r3, [r7, #52]
 2283 03da 012B     		cmp	r3, #1
 2284 03dc 50D1     		bne	.L117
1451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (hspi->TxXferCount > 1U)
 2285              		.loc 1 1452 17
 2286 03de FB68     		ldr	r3, [r7, #12]
 2287 03e0 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 2288 03e2 9BB2     		uxth	r3, r3
 2289              		.loc 1 1452 12
 2290 03e4 012B     		cmp	r3, #1
 2291 03e6 12D9     		bls	.L118
1453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
1454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
 2292              		.loc 1 1454 56
 2293 03e8 FB68     		ldr	r3, [r7, #12]
 2294 03ea 9B6B     		ldr	r3, [r3, #56]
 2295              		.loc 1 1454 32
 2296 03ec 1A88     		ldrh	r2, [r3]
 2297              		.loc 1 1454 15
 2298 03ee FB68     		ldr	r3, [r7, #12]
 2299 03f0 1B68     		ldr	r3, [r3]
 2300              		.loc 1 1454 30
 2301 03f2 DA60     		str	r2, [r3, #12]
1455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr += sizeof(uint16_t);
 2302              		.loc 1 1455 15
 2303 03f4 FB68     		ldr	r3, [r7, #12]
 2304 03f6 9B6B     		ldr	r3, [r3, #56]
 2305              		.loc 1 1455 28
 2306 03f8 9A1C     		adds	r2, r3, #2
 2307 03fa FB68     		ldr	r3, [r7, #12]
 2308 03fc 9A63     		str	r2, [r3, #56]
1456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->TxXferCount -= 2U;
ARM GAS  /tmp/ccC16sX6.s 			page 67


 2309              		.loc 1 1456 15
 2310 03fe FB68     		ldr	r3, [r7, #12]
 2311 0400 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 2312 0402 9BB2     		uxth	r3, r3
 2313              		.loc 1 1456 29
 2314 0404 023B     		subs	r3, r3, #2
 2315 0406 9AB2     		uxth	r2, r3
 2316 0408 FB68     		ldr	r3, [r7, #12]
 2317 040a DA87     		strh	r2, [r3, #62]	@ movhi
 2318 040c 12E0     		b	.L119
 2319              	.L118:
1457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         else
1459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
1460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           *(__IO uint8_t *)&hspi->Instance->DR = *((const uint8_t *)hspi->pTxBuffPtr);
 2320              		.loc 1 1460 73
 2321 040e FB68     		ldr	r3, [r7, #12]
 2322 0410 9A6B     		ldr	r2, [r3, #56]
 2323              		.loc 1 1460 33
 2324 0412 FB68     		ldr	r3, [r7, #12]
 2325 0414 1B68     		ldr	r3, [r3]
 2326              		.loc 1 1460 28
 2327 0416 0C33     		adds	r3, r3, #12
 2328              		.loc 1 1460 50
 2329 0418 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 2330              		.loc 1 1460 48
 2331 041a 1A70     		strb	r2, [r3]
1461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pTxBuffPtr++;
 2332              		.loc 1 1461 15
 2333 041c FB68     		ldr	r3, [r7, #12]
 2334 041e 9B6B     		ldr	r3, [r3, #56]
 2335              		.loc 1 1461 27
 2336 0420 5A1C     		adds	r2, r3, #1
 2337 0422 FB68     		ldr	r3, [r7, #12]
 2338 0424 9A63     		str	r2, [r3, #56]
1462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->TxXferCount--;
 2339              		.loc 1 1462 15
 2340 0426 FB68     		ldr	r3, [r7, #12]
 2341 0428 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 2342 042a 9BB2     		uxth	r3, r3
 2343              		.loc 1 1462 28
 2344 042c 013B     		subs	r3, r3, #1
 2345 042e 9AB2     		uxth	r2, r3
 2346 0430 FB68     		ldr	r3, [r7, #12]
 2347 0432 DA87     		strh	r2, [r3, #62]	@ movhi
 2348              	.L119:
1463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
1465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         txallowed = 0U;
 2349              		.loc 1 1465 19
 2350 0434 0023     		movs	r3, #0
 2351 0436 7B63     		str	r3, [r7, #52]
1466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Enable CRC Transmission */
1469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if ((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
 2352              		.loc 1 1469 18
ARM GAS  /tmp/ccC16sX6.s 			page 68


 2353 0438 FB68     		ldr	r3, [r7, #12]
 2354 043a DB8F     		ldrh	r3, [r3, #62]	@ movhi
 2355 043c 9BB2     		uxth	r3, r3
 2356              		.loc 1 1469 12
 2357 043e 002B     		cmp	r3, #0
 2358 0440 1ED1     		bne	.L117
 2359              		.loc 1 1469 53 discriminator 1
 2360 0442 FB68     		ldr	r3, [r7, #12]
 2361 0444 9B6A     		ldr	r3, [r3, #40]
 2362              		.loc 1 1469 39 discriminator 1
 2363 0446 B3F5005F 		cmp	r3, #8192
 2364 044a 19D1     		bne	.L117
1470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
1471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Set NSS Soft to received correctly the CRC on slave mode with NSS pulse activated */
1472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           if ((READ_BIT(spi_cr1, SPI_CR1_MSTR) == 0U) && (READ_BIT(spi_cr2, SPI_CR2_NSSP) == SPI_CR
 2365              		.loc 1 1472 16
 2366 044c 3B6A     		ldr	r3, [r7, #32]
 2367 044e 03F00403 		and	r3, r3, #4
 2368              		.loc 1 1472 14
 2369 0452 002B     		cmp	r3, #0
 2370 0454 0CD1     		bne	.L120
 2371              		.loc 1 1472 59 discriminator 1
 2372 0456 FB69     		ldr	r3, [r7, #28]
 2373 0458 03F00803 		and	r3, r3, #8
 2374              		.loc 1 1472 55 discriminator 1
 2375 045c 002B     		cmp	r3, #0
 2376 045e 07D0     		beq	.L120
1473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
1474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             SET_BIT(hspi->Instance->CR1, SPI_CR1_SSM);
 2377              		.loc 1 1474 13
 2378 0460 FB68     		ldr	r3, [r7, #12]
 2379 0462 1B68     		ldr	r3, [r3]
 2380 0464 1A68     		ldr	r2, [r3]
 2381 0466 FB68     		ldr	r3, [r7, #12]
 2382 0468 1B68     		ldr	r3, [r3]
 2383 046a 42F40072 		orr	r2, r2, #512
 2384 046e 1A60     		str	r2, [r3]
 2385              	.L120:
1475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           }
1476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 2386              		.loc 1 1476 11
 2387 0470 FB68     		ldr	r3, [r7, #12]
 2388 0472 1B68     		ldr	r3, [r3]
 2389 0474 1A68     		ldr	r2, [r3]
 2390 0476 FB68     		ldr	r3, [r7, #12]
 2391 0478 1B68     		ldr	r3, [r3]
 2392 047a 42F48052 		orr	r2, r2, #4096
 2393 047e 1A60     		str	r2, [r3]
 2394              	.L117:
1477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Wait until RXNE flag is reset */
1482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE)) && (hspi->RxXferCount > 0U))
 2395              		.loc 1 1482 12
 2396 0480 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccC16sX6.s 			page 69


 2397 0482 1B68     		ldr	r3, [r3]
 2398 0484 9B68     		ldr	r3, [r3, #8]
 2399 0486 03F00103 		and	r3, r3, #1
 2400              		.loc 1 1482 10
 2401 048a 012B     		cmp	r3, #1
 2402 048c 48D1     		bne	.L121
 2403              		.loc 1 1482 61 discriminator 1
 2404 048e FB68     		ldr	r3, [r7, #12]
 2405 0490 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 2406 0494 9BB2     		uxth	r3, r3
 2407              		.loc 1 1482 53 discriminator 1
 2408 0496 002B     		cmp	r3, #0
 2409 0498 42D0     		beq	.L121
1483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (hspi->RxXferCount > 1U)
 2410              		.loc 1 1484 17
 2411 049a FB68     		ldr	r3, [r7, #12]
 2412 049c B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 2413 04a0 9BB2     		uxth	r3, r3
 2414              		.loc 1 1484 12
 2415 04a2 012B     		cmp	r3, #1
 2416 04a4 23D9     		bls	.L122
1485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
1486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
 2417              		.loc 1 1486 59
 2418 04a6 FB68     		ldr	r3, [r7, #12]
 2419 04a8 1B68     		ldr	r3, [r3]
 2420              		.loc 1 1486 69
 2421 04aa DA68     		ldr	r2, [r3, #12]
 2422              		.loc 1 1486 29
 2423 04ac FB68     		ldr	r3, [r7, #12]
 2424 04ae 1B6C     		ldr	r3, [r3, #64]
 2425              		.loc 1 1486 45
 2426 04b0 92B2     		uxth	r2, r2
 2427              		.loc 1 1486 43
 2428 04b2 1A80     		strh	r2, [r3]	@ movhi
1487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pRxBuffPtr += sizeof(uint16_t);
 2429              		.loc 1 1487 15
 2430 04b4 FB68     		ldr	r3, [r7, #12]
 2431 04b6 1B6C     		ldr	r3, [r3, #64]
 2432              		.loc 1 1487 28
 2433 04b8 9A1C     		adds	r2, r3, #2
 2434 04ba FB68     		ldr	r3, [r7, #12]
 2435 04bc 1A64     		str	r2, [r3, #64]
1488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->RxXferCount -= 2U;
 2436              		.loc 1 1488 15
 2437 04be FB68     		ldr	r3, [r7, #12]
 2438 04c0 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 2439 04c4 9BB2     		uxth	r3, r3
 2440              		.loc 1 1488 29
 2441 04c6 023B     		subs	r3, r3, #2
 2442 04c8 9AB2     		uxth	r2, r3
 2443 04ca FB68     		ldr	r3, [r7, #12]
 2444 04cc A3F84620 		strh	r2, [r3, #70]	@ movhi
1489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           if (hspi->RxXferCount <= 1U)
 2445              		.loc 1 1489 19
 2446 04d0 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccC16sX6.s 			page 70


 2447 04d2 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 2448 04d6 9BB2     		uxth	r3, r3
 2449              		.loc 1 1489 14
 2450 04d8 012B     		cmp	r3, #1
 2451 04da 1FD8     		bhi	.L123
1490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
1491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             /* Set RX Fifo threshold before to switch on 8 bit data size */
1492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 2452              		.loc 1 1492 13
 2453 04dc FB68     		ldr	r3, [r7, #12]
 2454 04de 1B68     		ldr	r3, [r3]
 2455 04e0 5A68     		ldr	r2, [r3, #4]
 2456 04e2 FB68     		ldr	r3, [r7, #12]
 2457 04e4 1B68     		ldr	r3, [r3]
 2458 04e6 42F48052 		orr	r2, r2, #4096
 2459 04ea 5A60     		str	r2, [r3, #4]
 2460 04ec 16E0     		b	.L123
 2461              	.L122:
1493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           }
1494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         else
1496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
1497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           (*(uint8_t *)hspi->pRxBuffPtr) = *(__IO uint8_t *)&hspi->Instance->DR;
 2462              		.loc 1 1497 66
 2463 04ee FB68     		ldr	r3, [r7, #12]
 2464 04f0 1B68     		ldr	r3, [r3]
 2465              		.loc 1 1497 61
 2466 04f2 03F10C02 		add	r2, r3, #12
 2467              		.loc 1 1497 28
 2468 04f6 FB68     		ldr	r3, [r7, #12]
 2469 04f8 1B6C     		ldr	r3, [r3, #64]
 2470              		.loc 1 1497 44
 2471 04fa 1278     		ldrb	r2, [r2]
 2472 04fc D2B2     		uxtb	r2, r2
 2473              		.loc 1 1497 42
 2474 04fe 1A70     		strb	r2, [r3]
1498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->pRxBuffPtr++;
 2475              		.loc 1 1498 15
 2476 0500 FB68     		ldr	r3, [r7, #12]
 2477 0502 1B6C     		ldr	r3, [r3, #64]
 2478              		.loc 1 1498 27
 2479 0504 5A1C     		adds	r2, r3, #1
 2480 0506 FB68     		ldr	r3, [r7, #12]
 2481 0508 1A64     		str	r2, [r3, #64]
1499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->RxXferCount--;
 2482              		.loc 1 1499 15
 2483 050a FB68     		ldr	r3, [r7, #12]
 2484 050c B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 2485 0510 9BB2     		uxth	r3, r3
 2486              		.loc 1 1499 28
 2487 0512 013B     		subs	r3, r3, #1
 2488 0514 9AB2     		uxth	r2, r3
 2489 0516 FB68     		ldr	r3, [r7, #12]
 2490 0518 A3F84620 		strh	r2, [r3, #70]	@ movhi
 2491              	.L123:
1500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
ARM GAS  /tmp/ccC16sX6.s 			page 71


1502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         txallowed = 1U;
 2492              		.loc 1 1502 19
 2493 051c 0123     		movs	r3, #1
 2494 051e 7B63     		str	r3, [r7, #52]
 2495              	.L121:
1503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((((HAL_GetTick() - tickstart) >=  Timeout) && ((Timeout != HAL_MAX_DELAY))) || (Timeout =
 2496              		.loc 1 1504 14
 2497 0520 FFF7FEFF 		bl	HAL_GetTick
 2498 0524 0246     		mov	r2, r0
 2499              		.loc 1 1504 28 discriminator 1
 2500 0526 3B6B     		ldr	r3, [r7, #48]
 2501 0528 D31A     		subs	r3, r2, r3
 2502              		.loc 1 1504 10 discriminator 1
 2503 052a 3A6C     		ldr	r2, [r7, #64]
 2504 052c 9A42     		cmp	r2, r3
 2505 052e 03D8     		bhi	.L124
 2506              		.loc 1 1504 54 discriminator 1
 2507 0530 3B6C     		ldr	r3, [r7, #64]
 2508 0532 B3F1FF3F 		cmp	r3, #-1
 2509 0536 02D1     		bne	.L125
 2510              	.L124:
 2511              		.loc 1 1504 87 discriminator 3
 2512 0538 3B6C     		ldr	r3, [r7, #64]
 2513 053a 002B     		cmp	r3, #0
 2514 053c 09D1     		bne	.L116
 2515              	.L125:
1505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
 2516              		.loc 1 1506 21
 2517 053e FB68     		ldr	r3, [r7, #12]
 2518 0540 0122     		movs	r2, #1
 2519 0542 83F85D20 		strb	r2, [r3, #93]
1507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
 2520              		.loc 1 1507 9
 2521 0546 FB68     		ldr	r3, [r7, #12]
 2522 0548 0022     		movs	r2, #0
 2523 054a 83F85C20 		strb	r2, [r3, #92]
1508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         return HAL_TIMEOUT;
 2524              		.loc 1 1508 16
 2525 054e 0323     		movs	r3, #3
 2526 0550 9CE0     		b	.L91
 2527              	.L116:
1447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2528              		.loc 1 1447 17
 2529 0552 FB68     		ldr	r3, [r7, #12]
 2530 0554 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 2531 0556 9BB2     		uxth	r3, r3
1447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2532              		.loc 1 1447 37
 2533 0558 002B     		cmp	r3, #0
 2534 055a 7FF431AF 		bne	.L126
1447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2535              		.loc 1 1447 45 discriminator 1
 2536 055e FB68     		ldr	r3, [r7, #12]
 2537 0560 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 2538 0564 9BB2     		uxth	r3, r3
ARM GAS  /tmp/ccC16sX6.s 			page 72


1447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 2539              		.loc 1 1447 37 discriminator 1
 2540 0566 002B     		cmp	r3, #0
 2541 0568 7FF42AAF 		bne	.L126
 2542              	.L111:
1509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Read CRC from DR to close CRC calculation process */
1515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 2543              		.loc 1 1515 17
 2544 056c FB68     		ldr	r3, [r7, #12]
 2545 056e 9B6A     		ldr	r3, [r3, #40]
 2546              		.loc 1 1515 6
 2547 0570 B3F5005F 		cmp	r3, #8192
 2548 0574 52D1     		bne	.L127
1516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Wait until TXE flag */
1518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
 2549              		.loc 1 1518 9
 2550 0576 3B6B     		ldr	r3, [r7, #48]
 2551 0578 0093     		str	r3, [sp]
 2552 057a 3B6C     		ldr	r3, [r7, #64]
 2553 057c 0122     		movs	r2, #1
 2554 057e 0121     		movs	r1, #1
 2555 0580 F868     		ldr	r0, [r7, #12]
 2556 0582 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 2557 0586 0346     		mov	r3, r0
 2558              		.loc 1 1518 8 discriminator 1
 2559 0588 002B     		cmp	r3, #0
 2560 058a 0FD0     		beq	.L128
1519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Error on the CRC reception */
1521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 2561              		.loc 1 1521 7
 2562 058c FB68     		ldr	r3, [r7, #12]
 2563 058e 1B6E     		ldr	r3, [r3, #96]
 2564 0590 43F00202 		orr	r2, r3, #2
 2565 0594 FB68     		ldr	r3, [r7, #12]
 2566 0596 1A66     		str	r2, [r3, #96]
1522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
 2567              		.loc 1 1522 19
 2568 0598 FB68     		ldr	r3, [r7, #12]
 2569 059a 0122     		movs	r2, #1
 2570 059c 83F85D20 		strb	r2, [r3, #93]
1523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_UNLOCK(hspi);
 2571              		.loc 1 1523 7
 2572 05a0 FB68     		ldr	r3, [r7, #12]
 2573 05a2 0022     		movs	r2, #0
 2574 05a4 83F85C20 		strb	r2, [r3, #92]
1524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return HAL_TIMEOUT;
 2575              		.loc 1 1524 14
 2576 05a8 0323     		movs	r3, #3
 2577 05aa 6FE0     		b	.L91
 2578              	.L128:
ARM GAS  /tmp/ccC16sX6.s 			page 73


1525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Read CRC */
1527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.DataSize == SPI_DATASIZE_16BIT)
 2579              		.loc 1 1527 19
 2580 05ac FB68     		ldr	r3, [r7, #12]
 2581 05ae DB68     		ldr	r3, [r3, #12]
 2582              		.loc 1 1527 8
 2583 05b0 B3F5706F 		cmp	r3, #3840
 2584 05b4 05D1     		bne	.L129
1528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Read 16bit CRC */
1530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       tmpreg = READ_REG(hspi->Instance->DR);
 2585              		.loc 1 1530 16
 2586 05b6 FB68     		ldr	r3, [r7, #12]
 2587 05b8 1B68     		ldr	r3, [r3]
 2588 05ba DB68     		ldr	r3, [r3, #12]
 2589              		.loc 1 1530 14
 2590 05bc 7B61     		str	r3, [r7, #20]
1531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* To avoid GCC warning */
1532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       UNUSED(tmpreg);
 2591              		.loc 1 1532 7
 2592 05be 7B69     		ldr	r3, [r7, #20]
 2593 05c0 2CE0     		b	.L127
 2594              	.L129:
1533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
1535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Initialize the 8bit temporary pointer */
1537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       ptmpreg8 = (__IO uint8_t *)&hspi->Instance->DR;
 2595              		.loc 1 1537 39
 2596 05c2 FB68     		ldr	r3, [r7, #12]
 2597 05c4 1B68     		ldr	r3, [r3]
 2598              		.loc 1 1537 16
 2599 05c6 0C33     		adds	r3, r3, #12
 2600 05c8 BB61     		str	r3, [r7, #24]
1538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Read 8bit CRC */
1539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       tmpreg8 = *ptmpreg8;
 2601              		.loc 1 1539 17
 2602 05ca BB69     		ldr	r3, [r7, #24]
 2603 05cc 1B78     		ldrb	r3, [r3]
 2604 05ce DBB2     		uxtb	r3, r3
 2605              		.loc 1 1539 15
 2606 05d0 FB74     		strb	r3, [r7, #19]
1540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* To avoid GCC warning */
1541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       UNUSED(tmpreg8);
 2607              		.loc 1 1541 7
 2608 05d2 FB7C     		ldrb	r3, [r7, #19]
1542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (hspi->Init.CRCLength == SPI_CRC_LENGTH_16BIT)
 2609              		.loc 1 1543 21
 2610 05d4 FB68     		ldr	r3, [r7, #12]
 2611 05d6 1B6B     		ldr	r3, [r3, #48]
 2612              		.loc 1 1543 10
 2613 05d8 022B     		cmp	r3, #2
 2614 05da 1FD1     		bne	.L127
1544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
1545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
ARM GAS  /tmp/ccC16sX6.s 			page 74


 2615              		.loc 1 1545 13
 2616 05dc 3B6B     		ldr	r3, [r7, #48]
 2617 05de 0093     		str	r3, [sp]
 2618 05e0 3B6C     		ldr	r3, [r7, #64]
 2619 05e2 0122     		movs	r2, #1
 2620 05e4 0121     		movs	r1, #1
 2621 05e6 F868     		ldr	r0, [r7, #12]
 2622 05e8 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 2623 05ec 0346     		mov	r3, r0
 2624              		.loc 1 1545 12 discriminator 1
 2625 05ee 002B     		cmp	r3, #0
 2626 05f0 0FD0     		beq	.L130
1546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
1547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Error on the CRC reception */
1548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 2627              		.loc 1 1548 11
 2628 05f2 FB68     		ldr	r3, [r7, #12]
 2629 05f4 1B6E     		ldr	r3, [r3, #96]
 2630 05f6 43F00202 		orr	r2, r3, #2
 2631 05fa FB68     		ldr	r3, [r7, #12]
 2632 05fc 1A66     		str	r2, [r3, #96]
1549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->State = HAL_SPI_STATE_READY;
 2633              		.loc 1 1549 23
 2634 05fe FB68     		ldr	r3, [r7, #12]
 2635 0600 0122     		movs	r2, #1
 2636 0602 83F85D20 		strb	r2, [r3, #93]
1550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           __HAL_UNLOCK(hspi);
 2637              		.loc 1 1550 11
 2638 0606 FB68     		ldr	r3, [r7, #12]
 2639 0608 0022     		movs	r2, #0
 2640 060a 83F85C20 		strb	r2, [r3, #92]
1551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           return HAL_TIMEOUT;
 2641              		.loc 1 1551 18
 2642 060e 0323     		movs	r3, #3
 2643 0610 3CE0     		b	.L91
 2644              	.L130:
1552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
1553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Read 8bit CRC again in case of 16bit CRC in 8bit Data mode */
1554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         tmpreg8 = *ptmpreg8;
 2645              		.loc 1 1554 19
 2646 0612 BB69     		ldr	r3, [r7, #24]
 2647 0614 1B78     		ldrb	r3, [r3]
 2648 0616 DBB2     		uxtb	r3, r3
 2649              		.loc 1 1554 17
 2650 0618 FB74     		strb	r3, [r7, #19]
1555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* To avoid GCC warning */
1556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         UNUSED(tmpreg8);
 2651              		.loc 1 1556 9
 2652 061a FB7C     		ldrb	r3, [r7, #19]
 2653              	.L127:
1557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
1558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if CRC error occurred */
1562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR))
 2654              		.loc 1 1562 7
ARM GAS  /tmp/ccC16sX6.s 			page 75


 2655 061c FB68     		ldr	r3, [r7, #12]
 2656 061e 1B68     		ldr	r3, [r3]
 2657 0620 9B68     		ldr	r3, [r3, #8]
 2658 0622 03F01003 		and	r3, r3, #16
 2659              		.loc 1 1562 6
 2660 0626 102B     		cmp	r3, #16
 2661 0628 10D1     		bne	.L131
1563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 2662              		.loc 1 1564 5
 2663 062a FB68     		ldr	r3, [r7, #12]
 2664 062c 1B6E     		ldr	r3, [r3, #96]
 2665 062e 43F00202 		orr	r2, r3, #2
 2666 0632 FB68     		ldr	r3, [r7, #12]
 2667 0634 1A66     		str	r2, [r3, #96]
1565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Clear CRC Flag */
1566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
 2668              		.loc 1 1566 5
 2669 0636 FB68     		ldr	r3, [r7, #12]
 2670 0638 1B68     		ldr	r3, [r3]
 2671 063a 4FF6EF72 		movw	r2, #65519
 2672 063e 9A60     		str	r2, [r3, #8]
1567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 2673              		.loc 1 1567 5
 2674 0640 FB68     		ldr	r3, [r7, #12]
 2675 0642 0022     		movs	r2, #0
 2676 0644 83F85C20 		strb	r2, [r3, #92]
1568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 2677              		.loc 1 1568 12
 2678 0648 0123     		movs	r3, #1
 2679 064a 1FE0     		b	.L91
 2680              	.L131:
1569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the end of the transaction */
1573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, Timeout, tickstart) != HAL_OK)
 2681              		.loc 1 1573 7
 2682 064c 3A6B     		ldr	r2, [r7, #48]
 2683 064e 396C     		ldr	r1, [r7, #64]
 2684 0650 F868     		ldr	r0, [r7, #12]
 2685 0652 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 2686 0656 0346     		mov	r3, r0
 2687              		.loc 1 1573 6 discriminator 1
 2688 0658 002B     		cmp	r3, #0
 2689 065a 08D0     		beq	.L132
1574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
 2690              		.loc 1 1575 21
 2691 065c FB68     		ldr	r3, [r7, #12]
 2692 065e 2022     		movs	r2, #32
 2693 0660 1A66     		str	r2, [r3, #96]
1576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 2694              		.loc 1 1576 5
 2695 0662 FB68     		ldr	r3, [r7, #12]
 2696 0664 0022     		movs	r2, #0
 2697 0666 83F85C20 		strb	r2, [r3, #92]
ARM GAS  /tmp/ccC16sX6.s 			page 76


1577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 2698              		.loc 1 1577 12
 2699 066a 0123     		movs	r3, #1
 2700 066c 0EE0     		b	.L91
 2701              	.L132:
1578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 2702              		.loc 1 1581 15
 2703 066e FB68     		ldr	r3, [r7, #12]
 2704 0670 0122     		movs	r2, #1
 2705 0672 83F85D20 		strb	r2, [r3, #93]
1582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Unlock the process */
1583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 2706              		.loc 1 1583 3
 2707 0676 FB68     		ldr	r3, [r7, #12]
 2708 0678 0022     		movs	r2, #0
 2709 067a 83F85C20 		strb	r2, [r3, #92]
1584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 2710              		.loc 1 1585 11
 2711 067e FB68     		ldr	r3, [r7, #12]
 2712 0680 1B6E     		ldr	r3, [r3, #96]
 2713              		.loc 1 1585 6
 2714 0682 002B     		cmp	r3, #0
 2715 0684 01D0     		beq	.L133
1586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 2716              		.loc 1 1587 12
 2717 0686 0123     		movs	r3, #1
 2718 0688 00E0     		b	.L91
 2719              	.L133:
1588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_OK;
 2720              		.loc 1 1591 12
 2721 068a 0023     		movs	r3, #0
 2722              	.L91:
1592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 2723              		.loc 1 1593 1
 2724 068c 1846     		mov	r0, r3
 2725 068e 3837     		adds	r7, r7, #56
 2726              		.cfi_def_cfa_offset 8
 2727 0690 BD46     		mov	sp, r7
 2728              		.cfi_def_cfa_register 13
 2729              		@ sp needed
 2730 0692 80BD     		pop	{r7, pc}
 2731              		.cfi_endproc
 2732              	.LFE451:
 2734              		.section	.text.HAL_SPI_Transmit_IT,"ax",%progbits
 2735              		.align	1
 2736              		.global	HAL_SPI_Transmit_IT
 2737              		.syntax unified
 2738              		.thumb
ARM GAS  /tmp/ccC16sX6.s 			page 77


 2739              		.thumb_func
 2741              	HAL_SPI_Transmit_IT:
 2742              	.LFB452:
1594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
1596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Transmit an amount of data in non-blocking mode with Interrupt.
1597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
1599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pData pointer to data buffer (u8 or u16 data elements)
1600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Size amount of data elements (u8 or u16) to be sent
1601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
1602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
1603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit_IT(SPI_HandleTypeDef *hspi, const uint8_t *pData, uint16_t Size)
1604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 2743              		.loc 1 1604 1
 2744              		.cfi_startproc
 2745              		@ args = 0, pretend = 0, frame = 16
 2746              		@ frame_needed = 1, uses_anonymous_args = 0
 2747              		@ link register save eliminated.
 2748 0000 80B4     		push	{r7}
 2749              		.cfi_def_cfa_offset 4
 2750              		.cfi_offset 7, -4
 2751 0002 85B0     		sub	sp, sp, #20
 2752              		.cfi_def_cfa_offset 24
 2753 0004 00AF     		add	r7, sp, #0
 2754              		.cfi_def_cfa_register 7
 2755 0006 F860     		str	r0, [r7, #12]
 2756 0008 B960     		str	r1, [r7, #8]
 2757 000a 1346     		mov	r3, r2
 2758 000c FB80     		strh	r3, [r7, #6]	@ movhi
1605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check Direction parameter */
1607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
1608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
 2759              		.loc 1 1610 6
 2760 000e BB68     		ldr	r3, [r7, #8]
 2761 0010 002B     		cmp	r3, #0
 2762 0012 02D0     		beq	.L135
 2763              		.loc 1 1610 23 discriminator 1
 2764 0014 FB88     		ldrh	r3, [r7, #6]
 2765 0016 002B     		cmp	r3, #0
 2766 0018 01D1     		bne	.L136
 2767              	.L135:
1611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 2768              		.loc 1 1612 12
 2769 001a 0123     		movs	r3, #1
 2770 001c 82E0     		b	.L137
 2771              	.L136:
1613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
 2772              		.loc 1 1615 11
 2773 001e FB68     		ldr	r3, [r7, #12]
 2774 0020 93F85D30 		ldrb	r3, [r3, #93]
ARM GAS  /tmp/ccC16sX6.s 			page 78


 2775 0024 DBB2     		uxtb	r3, r3
 2776              		.loc 1 1615 6
 2777 0026 012B     		cmp	r3, #1
 2778 0028 01D0     		beq	.L138
1616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_BUSY;
 2779              		.loc 1 1617 12
 2780 002a 0223     		movs	r3, #2
 2781 002c 7AE0     		b	.L137
 2782              	.L138:
1618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Locked */
1621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 2783              		.loc 1 1621 3
 2784 002e FB68     		ldr	r3, [r7, #12]
 2785 0030 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 2786 0034 012B     		cmp	r3, #1
 2787 0036 01D1     		bne	.L139
 2788              		.loc 1 1621 3 is_stmt 0 discriminator 1
 2789 0038 0223     		movs	r3, #2
 2790              		.loc 1 1621 3
 2791 003a 73E0     		b	.L137
 2792              	.L139:
 2793              		.loc 1 1621 3 discriminator 2
 2794 003c FB68     		ldr	r3, [r7, #12]
 2795 003e 0122     		movs	r2, #1
 2796 0040 83F85C20 		strb	r2, [r3, #92]
1622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the transaction information */
1624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
 2797              		.loc 1 1624 21 is_stmt 1
 2798 0044 FB68     		ldr	r3, [r7, #12]
 2799 0046 0322     		movs	r2, #3
 2800 0048 83F85D20 		strb	r2, [r3, #93]
1625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2801              		.loc 1 1625 21
 2802 004c FB68     		ldr	r3, [r7, #12]
 2803 004e 0022     		movs	r2, #0
 2804 0050 1A66     		str	r2, [r3, #96]
1626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
 2805              		.loc 1 1626 21
 2806 0052 FB68     		ldr	r3, [r7, #12]
 2807 0054 BA68     		ldr	r2, [r7, #8]
 2808 0056 9A63     		str	r2, [r3, #56]
1627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2809              		.loc 1 1627 21
 2810 0058 FB68     		ldr	r3, [r7, #12]
 2811 005a FA88     		ldrh	r2, [r7, #6]	@ movhi
 2812 005c 9A87     		strh	r2, [r3, #60]	@ movhi
1628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2813              		.loc 1 1628 21
 2814 005e FB68     		ldr	r3, [r7, #12]
 2815 0060 FA88     		ldrh	r2, [r7, #6]	@ movhi
 2816 0062 DA87     		strh	r2, [r3, #62]	@ movhi
1629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init field not used in handle to zero */
ARM GAS  /tmp/ccC16sX6.s 			page 79


1631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
 2817              		.loc 1 1631 21
 2818 0064 FB68     		ldr	r3, [r7, #12]
 2819 0066 0022     		movs	r2, #0
 2820 0068 1A64     		str	r2, [r3, #64]
1632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 2821              		.loc 1 1632 21
 2822 006a FB68     		ldr	r3, [r7, #12]
 2823 006c 0022     		movs	r2, #0
 2824 006e A3F84420 		strh	r2, [r3, #68]	@ movhi
1633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 2825              		.loc 1 1633 21
 2826 0072 FB68     		ldr	r3, [r7, #12]
 2827 0074 0022     		movs	r2, #0
 2828 0076 A3F84620 		strh	r2, [r3, #70]	@ movhi
1634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 2829              		.loc 1 1634 21
 2830 007a FB68     		ldr	r3, [r7, #12]
 2831 007c 0022     		movs	r2, #0
 2832 007e DA64     		str	r2, [r3, #76]
1635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the function for IT treatment */
1637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 2833              		.loc 1 1637 17
 2834 0080 FB68     		ldr	r3, [r7, #12]
 2835 0082 DB68     		ldr	r3, [r3, #12]
 2836              		.loc 1 1637 6
 2837 0084 B3F5E06F 		cmp	r3, #1792
 2838 0088 03D9     		bls	.L140
1638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxISR = SPI_TxISR_16BIT;
 2839              		.loc 1 1639 17
 2840 008a FB68     		ldr	r3, [r7, #12]
 2841 008c 284A     		ldr	r2, .L145
 2842 008e 1A65     		str	r2, [r3, #80]
 2843 0090 02E0     		b	.L141
 2844              	.L140:
1640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxISR = SPI_TxISR_8BIT;
 2845              		.loc 1 1643 17
 2846 0092 FB68     		ldr	r3, [r7, #12]
 2847 0094 274A     		ldr	r2, .L145+4
 2848 0096 1A65     		str	r2, [r3, #80]
 2849              	.L141:
1644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
 2850              		.loc 1 1647 17
 2851 0098 FB68     		ldr	r3, [r7, #12]
 2852 009a 9B68     		ldr	r3, [r3, #8]
 2853              		.loc 1 1647 6
 2854 009c B3F5004F 		cmp	r3, #32768
 2855 00a0 0FD1     		bne	.L142
1648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
ARM GAS  /tmp/ccC16sX6.s 			page 80


1649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 2856              		.loc 1 1650 5
 2857 00a2 FB68     		ldr	r3, [r7, #12]
 2858 00a4 1B68     		ldr	r3, [r3]
 2859 00a6 1A68     		ldr	r2, [r3]
 2860 00a8 FB68     		ldr	r3, [r7, #12]
 2861 00aa 1B68     		ldr	r3, [r3]
 2862 00ac 22F04002 		bic	r2, r2, #64
 2863 00b0 1A60     		str	r2, [r3]
1651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 2864              		.loc 1 1651 5
 2865 00b2 FB68     		ldr	r3, [r7, #12]
 2866 00b4 1B68     		ldr	r3, [r3]
 2867 00b6 1A68     		ldr	r2, [r3]
 2868 00b8 FB68     		ldr	r3, [r7, #12]
 2869 00ba 1B68     		ldr	r3, [r3]
 2870 00bc 42F48042 		orr	r2, r2, #16384
 2871 00c0 1A60     		str	r2, [r3]
 2872              	.L142:
1652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset CRC Calculation */
1656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 2873              		.loc 1 1656 17
 2874 00c2 FB68     		ldr	r3, [r7, #12]
 2875 00c4 9B6A     		ldr	r3, [r3, #40]
 2876              		.loc 1 1656 6
 2877 00c6 B3F5005F 		cmp	r3, #8192
 2878 00ca 0FD1     		bne	.L143
1657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
 2879              		.loc 1 1658 5
 2880 00cc FB68     		ldr	r3, [r7, #12]
 2881 00ce 1B68     		ldr	r3, [r3]
 2882 00d0 1A68     		ldr	r2, [r3]
 2883 00d2 FB68     		ldr	r3, [r7, #12]
 2884 00d4 1B68     		ldr	r3, [r3]
 2885 00d6 22F40052 		bic	r2, r2, #8192
 2886 00da 1A60     		str	r2, [r3]
 2887 00dc FB68     		ldr	r3, [r7, #12]
 2888 00de 1B68     		ldr	r3, [r3]
 2889 00e0 1A68     		ldr	r2, [r3]
 2890 00e2 FB68     		ldr	r3, [r7, #12]
 2891 00e4 1B68     		ldr	r3, [r3]
 2892 00e6 42F40052 		orr	r2, r2, #8192
 2893 00ea 1A60     		str	r2, [r3]
 2894              	.L143:
1659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 2895              		.loc 1 1663 12
 2896 00ec FB68     		ldr	r3, [r7, #12]
 2897 00ee 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccC16sX6.s 			page 81


 2898              		.loc 1 1663 22
 2899 00f0 1B68     		ldr	r3, [r3]
 2900              		.loc 1 1663 28
 2901 00f2 03F04003 		and	r3, r3, #64
 2902              		.loc 1 1663 6
 2903 00f6 402B     		cmp	r3, #64
 2904 00f8 07D0     		beq	.L144
1664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Enable SPI peripheral */
1666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 2905              		.loc 1 1666 5
 2906 00fa FB68     		ldr	r3, [r7, #12]
 2907 00fc 1B68     		ldr	r3, [r3]
 2908 00fe 1A68     		ldr	r2, [r3]
 2909 0100 FB68     		ldr	r3, [r7, #12]
 2910 0102 1B68     		ldr	r3, [r3]
 2911 0104 42F04002 		orr	r2, r2, #64
 2912 0108 1A60     		str	r2, [r3]
 2913              	.L144:
1667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Unlocked */
1670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 2914              		.loc 1 1670 3
 2915 010a FB68     		ldr	r3, [r7, #12]
 2916 010c 0022     		movs	r2, #0
 2917 010e 83F85C20 		strb	r2, [r3, #92]
1671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable TXE and ERR interrupt */
1672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_ERR));
 2918              		.loc 1 1672 3
 2919 0112 FB68     		ldr	r3, [r7, #12]
 2920 0114 1B68     		ldr	r3, [r3]
 2921 0116 5A68     		ldr	r2, [r3, #4]
 2922 0118 FB68     		ldr	r3, [r7, #12]
 2923 011a 1B68     		ldr	r3, [r3]
 2924 011c 42F0A002 		orr	r2, r2, #160
 2925 0120 5A60     		str	r2, [r3, #4]
1673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
 2926              		.loc 1 1674 10
 2927 0122 0023     		movs	r3, #0
 2928              	.L137:
1675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 2929              		.loc 1 1675 1
 2930 0124 1846     		mov	r0, r3
 2931 0126 1437     		adds	r7, r7, #20
 2932              		.cfi_def_cfa_offset 4
 2933 0128 BD46     		mov	sp, r7
 2934              		.cfi_def_cfa_register 13
 2935              		@ sp needed
 2936 012a 5DF8047B 		ldr	r7, [sp], #4
 2937              		.cfi_restore 7
 2938              		.cfi_def_cfa_offset 0
 2939 012e 7047     		bx	lr
 2940              	.L146:
 2941              		.align	2
 2942              	.L145:
ARM GAS  /tmp/ccC16sX6.s 			page 82


 2943 0130 00000000 		.word	SPI_TxISR_16BIT
 2944 0134 00000000 		.word	SPI_TxISR_8BIT
 2945              		.cfi_endproc
 2946              	.LFE452:
 2948              		.section	.text.HAL_SPI_Receive_IT,"ax",%progbits
 2949              		.align	1
 2950              		.global	HAL_SPI_Receive_IT
 2951              		.syntax unified
 2952              		.thumb
 2953              		.thumb_func
 2955              	HAL_SPI_Receive_IT:
 2956              	.LFB453:
1676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
1678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Receive an amount of data in non-blocking mode with Interrupt.
1679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
1681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pData pointer to data buffer (u8 or u16 data elements)
1682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Size amount of data elements (u8 or u16) to be received
1683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
1684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
1685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive_IT(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 2957              		.loc 1 1686 1
 2958              		.cfi_startproc
 2959              		@ args = 0, pretend = 0, frame = 16
 2960              		@ frame_needed = 1, uses_anonymous_args = 0
 2961 0000 80B5     		push	{r7, lr}
 2962              		.cfi_def_cfa_offset 8
 2963              		.cfi_offset 7, -8
 2964              		.cfi_offset 14, -4
 2965 0002 84B0     		sub	sp, sp, #16
 2966              		.cfi_def_cfa_offset 24
 2967 0004 00AF     		add	r7, sp, #0
 2968              		.cfi_def_cfa_register 7
 2969 0006 F860     		str	r0, [r7, #12]
 2970 0008 B960     		str	r1, [r7, #8]
 2971 000a 1346     		mov	r3, r2
 2972 000c FB80     		strh	r3, [r7, #6]	@ movhi
1687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
 2973              		.loc 1 1688 11
 2974 000e FB68     		ldr	r3, [r7, #12]
 2975 0010 93F85D30 		ldrb	r3, [r3, #93]
 2976 0014 DBB2     		uxtb	r3, r3
 2977              		.loc 1 1688 6
 2978 0016 012B     		cmp	r3, #1
 2979 0018 01D0     		beq	.L148
1689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_BUSY;
 2980              		.loc 1 1690 12
 2981 001a 0223     		movs	r3, #2
 2982 001c BAE0     		b	.L149
 2983              	.L148:
1691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
ARM GAS  /tmp/ccC16sX6.s 			page 83


 2984              		.loc 1 1693 6
 2985 001e BB68     		ldr	r3, [r7, #8]
 2986 0020 002B     		cmp	r3, #0
 2987 0022 02D0     		beq	.L150
 2988              		.loc 1 1693 23 discriminator 1
 2989 0024 FB88     		ldrh	r3, [r7, #6]
 2990 0026 002B     		cmp	r3, #0
 2991 0028 01D1     		bne	.L151
 2992              	.L150:
1694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 2993              		.loc 1 1695 12
 2994 002a 0123     		movs	r3, #1
 2995 002c B2E0     		b	.L149
 2996              	.L151:
1696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
 2997              		.loc 1 1698 18
 2998 002e FB68     		ldr	r3, [r7, #12]
 2999 0030 9B68     		ldr	r3, [r3, #8]
 3000              		.loc 1 1698 6
 3001 0032 002B     		cmp	r3, #0
 3002 0034 10D1     		bne	.L152
 3003              		.loc 1 1698 68 discriminator 1
 3004 0036 FB68     		ldr	r3, [r7, #12]
 3005 0038 5B68     		ldr	r3, [r3, #4]
 3006              		.loc 1 1698 54 discriminator 1
 3007 003a B3F5827F 		cmp	r3, #260
 3008 003e 0BD1     		bne	.L152
1699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_RX;
 3009              		.loc 1 1700 17
 3010 0040 FB68     		ldr	r3, [r7, #12]
 3011 0042 0422     		movs	r2, #4
 3012 0044 83F85D20 		strb	r2, [r3, #93]
1701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
1702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_SPI_TransmitReceive_IT(hspi, pData, pData, Size);
 3013              		.loc 1 1702 12
 3014 0048 FB88     		ldrh	r3, [r7, #6]
 3015 004a BA68     		ldr	r2, [r7, #8]
 3016 004c B968     		ldr	r1, [r7, #8]
 3017 004e F868     		ldr	r0, [r7, #12]
 3018 0050 FFF7FEFF 		bl	HAL_SPI_TransmitReceive_IT
 3019 0054 0346     		mov	r3, r0
 3020 0056 9DE0     		b	.L149
 3021              	.L152:
1703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Locked */
1707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 3022              		.loc 1 1707 3
 3023 0058 FB68     		ldr	r3, [r7, #12]
 3024 005a 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 3025 005e 012B     		cmp	r3, #1
 3026 0060 01D1     		bne	.L153
ARM GAS  /tmp/ccC16sX6.s 			page 84


 3027              		.loc 1 1707 3 is_stmt 0 discriminator 1
 3028 0062 0223     		movs	r3, #2
 3029              		.loc 1 1707 3
 3030 0064 96E0     		b	.L149
 3031              	.L153:
 3032              		.loc 1 1707 3 discriminator 2
 3033 0066 FB68     		ldr	r3, [r7, #12]
 3034 0068 0122     		movs	r2, #1
 3035 006a 83F85C20 		strb	r2, [r3, #92]
1708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the transaction information */
1710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
 3036              		.loc 1 1710 21 is_stmt 1
 3037 006e FB68     		ldr	r3, [r7, #12]
 3038 0070 0422     		movs	r2, #4
 3039 0072 83F85D20 		strb	r2, [r3, #93]
1711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 3040              		.loc 1 1711 21
 3041 0076 FB68     		ldr	r3, [r7, #12]
 3042 0078 0022     		movs	r2, #0
 3043 007a 1A66     		str	r2, [r3, #96]
1712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 3044              		.loc 1 1712 21
 3045 007c FB68     		ldr	r3, [r7, #12]
 3046 007e BA68     		ldr	r2, [r7, #8]
 3047 0080 1A64     		str	r2, [r3, #64]
1713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 3048              		.loc 1 1713 21
 3049 0082 FB68     		ldr	r3, [r7, #12]
 3050 0084 FA88     		ldrh	r2, [r7, #6]	@ movhi
 3051 0086 A3F84420 		strh	r2, [r3, #68]	@ movhi
1714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 3052              		.loc 1 1714 21
 3053 008a FB68     		ldr	r3, [r7, #12]
 3054 008c FA88     		ldrh	r2, [r7, #6]	@ movhi
 3055 008e A3F84620 		strh	r2, [r3, #70]	@ movhi
1715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init field not used in handle to zero */
1717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)NULL;
 3056              		.loc 1 1717 21
 3057 0092 FB68     		ldr	r3, [r7, #12]
 3058 0094 0022     		movs	r2, #0
 3059 0096 9A63     		str	r2, [r3, #56]
1718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 3060              		.loc 1 1718 21
 3061 0098 FB68     		ldr	r3, [r7, #12]
 3062 009a 0022     		movs	r2, #0
 3063 009c 9A87     		strh	r2, [r3, #60]	@ movhi
1719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3064              		.loc 1 1719 21
 3065 009e FB68     		ldr	r3, [r7, #12]
 3066 00a0 0022     		movs	r2, #0
 3067 00a2 DA87     		strh	r2, [r3, #62]	@ movhi
1720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 3068              		.loc 1 1720 21
 3069 00a4 FB68     		ldr	r3, [r7, #12]
 3070 00a6 0022     		movs	r2, #0
ARM GAS  /tmp/ccC16sX6.s 			page 85


 3071 00a8 1A65     		str	r2, [r3, #80]
1721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the data size to adapt Rx threshold and the set the function for IT treatment */
1723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 3072              		.loc 1 1723 17
 3073 00aa FB68     		ldr	r3, [r7, #12]
 3074 00ac DB68     		ldr	r3, [r3, #12]
 3075              		.loc 1 1723 6
 3076 00ae B3F5E06F 		cmp	r3, #1792
 3077 00b2 0BD9     		bls	.L154
1724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 16 bit */
1726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 3078              		.loc 1 1726 5
 3079 00b4 FB68     		ldr	r3, [r7, #12]
 3080 00b6 1B68     		ldr	r3, [r3]
 3081 00b8 5A68     		ldr	r2, [r3, #4]
 3082 00ba FB68     		ldr	r3, [r7, #12]
 3083 00bc 1B68     		ldr	r3, [r3]
 3084 00be 22F48052 		bic	r2, r2, #4096
 3085 00c2 5A60     		str	r2, [r3, #4]
1727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxISR = SPI_RxISR_16BIT;
 3086              		.loc 1 1727 17
 3087 00c4 FB68     		ldr	r3, [r7, #12]
 3088 00c6 354A     		ldr	r2, .L161
 3089 00c8 DA64     		str	r2, [r3, #76]
 3090 00ca 0AE0     		b	.L155
 3091              	.L154:
1728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 8 bit */
1732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 3092              		.loc 1 1732 5
 3093 00cc FB68     		ldr	r3, [r7, #12]
 3094 00ce 1B68     		ldr	r3, [r3]
 3095 00d0 5A68     		ldr	r2, [r3, #4]
 3096 00d2 FB68     		ldr	r3, [r7, #12]
 3097 00d4 1B68     		ldr	r3, [r3]
 3098 00d6 42F48052 		orr	r2, r2, #4096
 3099 00da 5A60     		str	r2, [r3, #4]
1733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxISR = SPI_RxISR_8BIT;
 3100              		.loc 1 1733 17
 3101 00dc FB68     		ldr	r3, [r7, #12]
 3102 00de 304A     		ldr	r2, .L161+4
 3103 00e0 DA64     		str	r2, [r3, #76]
 3104              	.L155:
1734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
 3105              		.loc 1 1737 17
 3106 00e2 FB68     		ldr	r3, [r7, #12]
 3107 00e4 9B68     		ldr	r3, [r3, #8]
 3108              		.loc 1 1737 6
 3109 00e6 B3F5004F 		cmp	r3, #32768
 3110 00ea 0FD1     		bne	.L156
ARM GAS  /tmp/ccC16sX6.s 			page 86


1738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 3111              		.loc 1 1740 5
 3112 00ec FB68     		ldr	r3, [r7, #12]
 3113 00ee 1B68     		ldr	r3, [r3]
 3114 00f0 1A68     		ldr	r2, [r3]
 3115 00f2 FB68     		ldr	r3, [r7, #12]
 3116 00f4 1B68     		ldr	r3, [r3]
 3117 00f6 22F04002 		bic	r2, r2, #64
 3118 00fa 1A60     		str	r2, [r3]
1741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 3119              		.loc 1 1741 5
 3120 00fc FB68     		ldr	r3, [r7, #12]
 3121 00fe 1B68     		ldr	r3, [r3]
 3122 0100 1A68     		ldr	r2, [r3]
 3123 0102 FB68     		ldr	r3, [r7, #12]
 3124 0104 1B68     		ldr	r3, [r3]
 3125 0106 22F48042 		bic	r2, r2, #16384
 3126 010a 1A60     		str	r2, [r3]
 3127              	.L156:
1742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset CRC Calculation */
1746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 3128              		.loc 1 1746 17
 3129 010c FB68     		ldr	r3, [r7, #12]
 3130 010e 9B6A     		ldr	r3, [r3, #40]
 3131              		.loc 1 1746 6
 3132 0110 B3F5005F 		cmp	r3, #8192
 3133 0114 1FD1     		bne	.L157
1747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->CRCSize = 1U;
 3134              		.loc 1 1748 19
 3135 0116 FB68     		ldr	r3, [r7, #12]
 3136 0118 0122     		movs	r2, #1
 3137 011a 9A64     		str	r2, [r3, #72]
1749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if ((hspi->Init.DataSize <= SPI_DATASIZE_8BIT) && (hspi->Init.CRCLength == SPI_CRC_LENGTH_16BIT
 3138              		.loc 1 1749 20
 3139 011c FB68     		ldr	r3, [r7, #12]
 3140 011e DB68     		ldr	r3, [r3, #12]
 3141              		.loc 1 1749 8
 3142 0120 B3F5E06F 		cmp	r3, #1792
 3143 0124 06D8     		bhi	.L158
 3144              		.loc 1 1749 66 discriminator 1
 3145 0126 FB68     		ldr	r3, [r7, #12]
 3146 0128 1B6B     		ldr	r3, [r3, #48]
 3147              		.loc 1 1749 52 discriminator 1
 3148 012a 022B     		cmp	r3, #2
 3149 012c 02D1     		bne	.L158
1750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->CRCSize = 2U;
 3150              		.loc 1 1751 21
 3151 012e FB68     		ldr	r3, [r7, #12]
 3152 0130 0222     		movs	r2, #2
 3153 0132 9A64     		str	r2, [r3, #72]
ARM GAS  /tmp/ccC16sX6.s 			page 87


 3154              	.L158:
1752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
 3155              		.loc 1 1753 5
 3156 0134 FB68     		ldr	r3, [r7, #12]
 3157 0136 1B68     		ldr	r3, [r3]
 3158 0138 1A68     		ldr	r2, [r3]
 3159 013a FB68     		ldr	r3, [r7, #12]
 3160 013c 1B68     		ldr	r3, [r3]
 3161 013e 22F40052 		bic	r2, r2, #8192
 3162 0142 1A60     		str	r2, [r3]
 3163 0144 FB68     		ldr	r3, [r7, #12]
 3164 0146 1B68     		ldr	r3, [r3]
 3165 0148 1A68     		ldr	r2, [r3]
 3166 014a FB68     		ldr	r3, [r7, #12]
 3167 014c 1B68     		ldr	r3, [r3]
 3168 014e 42F40052 		orr	r2, r2, #8192
 3169 0152 1A60     		str	r2, [r3]
 3170 0154 02E0     		b	.L159
 3171              	.L157:
1754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->CRCSize = 0U;
 3172              		.loc 1 1757 19
 3173 0156 FB68     		ldr	r3, [r7, #12]
 3174 0158 0022     		movs	r2, #0
 3175 015a 9A64     		str	r2, [r3, #72]
 3176              	.L159:
1758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Note : The SPI must be enabled after unlocking current process
1762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             to avoid the risk of SPI interrupt handle execution before current
1763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             process unlock */
1764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 3177              		.loc 1 1766 12
 3178 015c FB68     		ldr	r3, [r7, #12]
 3179 015e 1B68     		ldr	r3, [r3]
 3180              		.loc 1 1766 22
 3181 0160 1B68     		ldr	r3, [r3]
 3182              		.loc 1 1766 28
 3183 0162 03F04003 		and	r3, r3, #64
 3184              		.loc 1 1766 6
 3185 0166 402B     		cmp	r3, #64
 3186 0168 07D0     		beq	.L160
1767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Enable SPI peripheral */
1769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 3187              		.loc 1 1769 5
 3188 016a FB68     		ldr	r3, [r7, #12]
 3189 016c 1B68     		ldr	r3, [r3]
 3190 016e 1A68     		ldr	r2, [r3]
 3191 0170 FB68     		ldr	r3, [r7, #12]
 3192 0172 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccC16sX6.s 			page 88


 3193 0174 42F04002 		orr	r2, r2, #64
 3194 0178 1A60     		str	r2, [r3]
 3195              	.L160:
1770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Unlocked */
1773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 3196              		.loc 1 1773 3
 3197 017a FB68     		ldr	r3, [r7, #12]
 3198 017c 0022     		movs	r2, #0
 3199 017e 83F85C20 		strb	r2, [r3, #92]
1774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable RXNE and ERR interrupt */
1775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
 3200              		.loc 1 1775 3
 3201 0182 FB68     		ldr	r3, [r7, #12]
 3202 0184 1B68     		ldr	r3, [r3]
 3203 0186 5A68     		ldr	r2, [r3, #4]
 3204 0188 FB68     		ldr	r3, [r7, #12]
 3205 018a 1B68     		ldr	r3, [r3]
 3206 018c 42F06002 		orr	r2, r2, #96
 3207 0190 5A60     		str	r2, [r3, #4]
1776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
 3208              		.loc 1 1777 10
 3209 0192 0023     		movs	r3, #0
 3210              	.L149:
1778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 3211              		.loc 1 1778 1
 3212 0194 1846     		mov	r0, r3
 3213 0196 1037     		adds	r7, r7, #16
 3214              		.cfi_def_cfa_offset 8
 3215 0198 BD46     		mov	sp, r7
 3216              		.cfi_def_cfa_register 13
 3217              		@ sp needed
 3218 019a 80BD     		pop	{r7, pc}
 3219              	.L162:
 3220              		.align	2
 3221              	.L161:
 3222 019c 00000000 		.word	SPI_RxISR_16BIT
 3223 01a0 00000000 		.word	SPI_RxISR_8BIT
 3224              		.cfi_endproc
 3225              	.LFE453:
 3227              		.section	.text.HAL_SPI_TransmitReceive_IT,"ax",%progbits
 3228              		.align	1
 3229              		.global	HAL_SPI_TransmitReceive_IT
 3230              		.syntax unified
 3231              		.thumb
 3232              		.thumb_func
 3234              	HAL_SPI_TransmitReceive_IT:
 3235              	.LFB454:
1779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
1781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in non-blocking mode with Interrupt.
1782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
1784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer (u8 or u16 data elements)
1785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer (u8 or u16 data elements)
ARM GAS  /tmp/ccC16sX6.s 			page 89


1786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Size amount of data elements (u8 or u16) to be sent and received
1787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
1788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
1789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive_IT(SPI_HandleTypeDef *hspi, const uint8_t *pTxData, uint8
1790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                              uint16_t Size)
1791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 3236              		.loc 1 1791 1
 3237              		.cfi_startproc
 3238              		@ args = 0, pretend = 0, frame = 24
 3239              		@ frame_needed = 1, uses_anonymous_args = 0
 3240              		@ link register save eliminated.
 3241 0000 80B4     		push	{r7}
 3242              		.cfi_def_cfa_offset 4
 3243              		.cfi_offset 7, -4
 3244 0002 87B0     		sub	sp, sp, #28
 3245              		.cfi_def_cfa_offset 32
 3246 0004 00AF     		add	r7, sp, #0
 3247              		.cfi_def_cfa_register 7
 3248 0006 F860     		str	r0, [r7, #12]
 3249 0008 B960     		str	r1, [r7, #8]
 3250 000a 7A60     		str	r2, [r7, #4]
 3251 000c 7B80     		strh	r3, [r7, #2]	@ movhi
1792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t             tmp_mode;
1793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
1794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check Direction parameter */
1796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init temporary variables */
1799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_state           = hspi->State;
 3252              		.loc 1 1799 23
 3253 000e FB68     		ldr	r3, [r7, #12]
 3254 0010 93F85D30 		ldrb	r3, [r3, #93]
 3255 0014 FB75     		strb	r3, [r7, #23]
1800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 3256              		.loc 1 1800 23
 3257 0016 FB68     		ldr	r3, [r7, #12]
 3258 0018 5B68     		ldr	r3, [r3, #4]
 3259 001a 3B61     		str	r3, [r7, #16]
1801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (!((tmp_state == HAL_SPI_STATE_READY) || \
 3260              		.loc 1 1802 6
 3261 001c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3262 001e 012B     		cmp	r3, #1
 3263 0020 0CD0     		beq	.L164
 3264              		.loc 1 1802 7 discriminator 1
 3265 0022 3B69     		ldr	r3, [r7, #16]
 3266 0024 B3F5827F 		cmp	r3, #260
 3267 0028 06D1     		bne	.L165
1803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 3268              		.loc 1 1803 54
 3269 002a FB68     		ldr	r3, [r7, #12]
 3270 002c 9B68     		ldr	r3, [r3, #8]
 3271              		.loc 1 1803 40
 3272 002e 002B     		cmp	r3, #0
 3273 0030 02D1     		bne	.L165
 3274              		.loc 1 1803 90 discriminator 1
ARM GAS  /tmp/ccC16sX6.s 			page 90


 3275 0032 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3276 0034 042B     		cmp	r3, #4
 3277 0036 01D0     		beq	.L164
 3278              	.L165:
1804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
1805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_BUSY;
 3279              		.loc 1 1806 12
 3280 0038 0223     		movs	r3, #2
 3281 003a A5E0     		b	.L166
 3282              	.L164:
1807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))
 3283              		.loc 1 1809 6
 3284 003c BB68     		ldr	r3, [r7, #8]
 3285 003e 002B     		cmp	r3, #0
 3286 0040 05D0     		beq	.L167
 3287              		.loc 1 1809 25 discriminator 1
 3288 0042 7B68     		ldr	r3, [r7, #4]
 3289 0044 002B     		cmp	r3, #0
 3290 0046 02D0     		beq	.L167
 3291              		.loc 1 1809 46 discriminator 2
 3292 0048 7B88     		ldrh	r3, [r7, #2]
 3293 004a 002B     		cmp	r3, #0
 3294 004c 01D1     		bne	.L168
 3295              	.L167:
1810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 3296              		.loc 1 1811 12
 3297 004e 0123     		movs	r3, #1
 3298 0050 9AE0     		b	.L166
 3299              	.L168:
1812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process locked */
1815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 3300              		.loc 1 1815 3
 3301 0052 FB68     		ldr	r3, [r7, #12]
 3302 0054 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 3303 0058 012B     		cmp	r3, #1
 3304 005a 01D1     		bne	.L169
 3305              		.loc 1 1815 3 is_stmt 0 discriminator 1
 3306 005c 0223     		movs	r3, #2
 3307              		.loc 1 1815 3
 3308 005e 93E0     		b	.L166
 3309              	.L169:
 3310              		.loc 1 1815 3 discriminator 2
 3311 0060 FB68     		ldr	r3, [r7, #12]
 3312 0062 0122     		movs	r2, #1
 3313 0064 83F85C20 		strb	r2, [r3, #92]
1816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_BUSY_RX)
 3314              		.loc 1 1818 11 is_stmt 1
 3315 0068 FB68     		ldr	r3, [r7, #12]
 3316 006a 93F85D30 		ldrb	r3, [r3, #93]
ARM GAS  /tmp/ccC16sX6.s 			page 91


 3317 006e DBB2     		uxtb	r3, r3
 3318              		.loc 1 1818 6
 3319 0070 042B     		cmp	r3, #4
 3320 0072 03D0     		beq	.L170
1819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
 3321              		.loc 1 1820 17
 3322 0074 FB68     		ldr	r3, [r7, #12]
 3323 0076 0522     		movs	r2, #5
 3324 0078 83F85D20 		strb	r2, [r3, #93]
 3325              	.L170:
1821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the transaction information */
1824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 3326              		.loc 1 1824 21
 3327 007c FB68     		ldr	r3, [r7, #12]
 3328 007e 0022     		movs	r2, #0
 3329 0080 1A66     		str	r2, [r3, #96]
1825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
 3330              		.loc 1 1825 21
 3331 0082 FB68     		ldr	r3, [r7, #12]
 3332 0084 BA68     		ldr	r2, [r7, #8]
 3333 0086 9A63     		str	r2, [r3, #56]
1826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 3334              		.loc 1 1826 21
 3335 0088 FB68     		ldr	r3, [r7, #12]
 3336 008a 7A88     		ldrh	r2, [r7, #2]	@ movhi
 3337 008c 9A87     		strh	r2, [r3, #60]	@ movhi
1827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 3338              		.loc 1 1827 21
 3339 008e FB68     		ldr	r3, [r7, #12]
 3340 0090 7A88     		ldrh	r2, [r7, #2]	@ movhi
 3341 0092 DA87     		strh	r2, [r3, #62]	@ movhi
1828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 3342              		.loc 1 1828 21
 3343 0094 FB68     		ldr	r3, [r7, #12]
 3344 0096 7A68     		ldr	r2, [r7, #4]
 3345 0098 1A64     		str	r2, [r3, #64]
1829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 3346              		.loc 1 1829 21
 3347 009a FB68     		ldr	r3, [r7, #12]
 3348 009c 7A88     		ldrh	r2, [r7, #2]	@ movhi
 3349 009e A3F84420 		strh	r2, [r3, #68]	@ movhi
1830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 3350              		.loc 1 1830 21
 3351 00a2 FB68     		ldr	r3, [r7, #12]
 3352 00a4 7A88     		ldrh	r2, [r7, #2]	@ movhi
 3353 00a6 A3F84620 		strh	r2, [r3, #70]	@ movhi
1831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the function for IT treatment */
1833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 3354              		.loc 1 1833 17
 3355 00aa FB68     		ldr	r3, [r7, #12]
 3356 00ac DB68     		ldr	r3, [r3, #12]
 3357              		.loc 1 1833 6
 3358 00ae B3F5E06F 		cmp	r3, #1792
ARM GAS  /tmp/ccC16sX6.s 			page 92


 3359 00b2 06D9     		bls	.L171
1834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxISR     = SPI_2linesRxISR_16BIT;
 3360              		.loc 1 1835 21
 3361 00b4 FB68     		ldr	r3, [r7, #12]
 3362 00b6 374A     		ldr	r2, .L180
 3363 00b8 DA64     		str	r2, [r3, #76]
1836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_16BIT;
 3364              		.loc 1 1836 21
 3365 00ba FB68     		ldr	r3, [r7, #12]
 3366 00bc 364A     		ldr	r2, .L180+4
 3367 00be 1A65     		str	r2, [r3, #80]
 3368 00c0 05E0     		b	.L172
 3369              	.L171:
1837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxISR     = SPI_2linesRxISR_8BIT;
 3370              		.loc 1 1840 21
 3371 00c2 FB68     		ldr	r3, [r7, #12]
 3372 00c4 354A     		ldr	r2, .L180+8
 3373 00c6 DA64     		str	r2, [r3, #76]
1841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_8BIT;
 3374              		.loc 1 1841 21
 3375 00c8 FB68     		ldr	r3, [r7, #12]
 3376 00ca 354A     		ldr	r2, .L180+12
 3377 00cc 1A65     		str	r2, [r3, #80]
 3378              	.L172:
1842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset CRC Calculation */
1846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 3379              		.loc 1 1846 17
 3380 00ce FB68     		ldr	r3, [r7, #12]
 3381 00d0 9B6A     		ldr	r3, [r3, #40]
 3382              		.loc 1 1846 6
 3383 00d2 B3F5005F 		cmp	r3, #8192
 3384 00d6 1FD1     		bne	.L173
1847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->CRCSize = 1U;
 3385              		.loc 1 1848 19
 3386 00d8 FB68     		ldr	r3, [r7, #12]
 3387 00da 0122     		movs	r2, #1
 3388 00dc 9A64     		str	r2, [r3, #72]
1849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if ((hspi->Init.DataSize <= SPI_DATASIZE_8BIT) && (hspi->Init.CRCLength == SPI_CRC_LENGTH_16BIT
 3389              		.loc 1 1849 20
 3390 00de FB68     		ldr	r3, [r7, #12]
 3391 00e0 DB68     		ldr	r3, [r3, #12]
 3392              		.loc 1 1849 8
 3393 00e2 B3F5E06F 		cmp	r3, #1792
 3394 00e6 06D8     		bhi	.L174
 3395              		.loc 1 1849 66 discriminator 1
 3396 00e8 FB68     		ldr	r3, [r7, #12]
 3397 00ea 1B6B     		ldr	r3, [r3, #48]
 3398              		.loc 1 1849 52 discriminator 1
 3399 00ec 022B     		cmp	r3, #2
ARM GAS  /tmp/ccC16sX6.s 			page 93


 3400 00ee 02D1     		bne	.L174
1850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->CRCSize = 2U;
 3401              		.loc 1 1851 21
 3402 00f0 FB68     		ldr	r3, [r7, #12]
 3403 00f2 0222     		movs	r2, #2
 3404 00f4 9A64     		str	r2, [r3, #72]
 3405              	.L174:
1852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
 3406              		.loc 1 1853 5
 3407 00f6 FB68     		ldr	r3, [r7, #12]
 3408 00f8 1B68     		ldr	r3, [r3]
 3409 00fa 1A68     		ldr	r2, [r3]
 3410 00fc FB68     		ldr	r3, [r7, #12]
 3411 00fe 1B68     		ldr	r3, [r3]
 3412 0100 22F40052 		bic	r2, r2, #8192
 3413 0104 1A60     		str	r2, [r3]
 3414 0106 FB68     		ldr	r3, [r7, #12]
 3415 0108 1B68     		ldr	r3, [r3]
 3416 010a 1A68     		ldr	r2, [r3]
 3417 010c FB68     		ldr	r3, [r7, #12]
 3418 010e 1B68     		ldr	r3, [r3]
 3419 0110 42F40052 		orr	r2, r2, #8192
 3420 0114 1A60     		str	r2, [r3]
 3421 0116 02E0     		b	.L175
 3422              	.L173:
1854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->CRCSize = 0U;
 3423              		.loc 1 1857 19
 3424 0118 FB68     		ldr	r3, [r7, #12]
 3425 011a 0022     		movs	r2, #0
 3426 011c 9A64     		str	r2, [r3, #72]
 3427              	.L175:
1858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if packing mode is enabled and if there is more than 2 data to receive */
1862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Init.DataSize > SPI_DATASIZE_8BIT) || (Size >= 2U))
 3428              		.loc 1 1862 18
 3429 011e FB68     		ldr	r3, [r7, #12]
 3430 0120 DB68     		ldr	r3, [r3, #12]
 3431              		.loc 1 1862 6
 3432 0122 B3F5E06F 		cmp	r3, #1792
 3433 0126 02D8     		bhi	.L176
 3434              		.loc 1 1862 49 discriminator 1
 3435 0128 7B88     		ldrh	r3, [r7, #2]
 3436 012a 012B     		cmp	r3, #1
 3437 012c 08D9     		bls	.L177
 3438              	.L176:
1863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 16 bit */
1865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 3439              		.loc 1 1865 5
 3440 012e FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccC16sX6.s 			page 94


 3441 0130 1B68     		ldr	r3, [r3]
 3442 0132 5A68     		ldr	r2, [r3, #4]
 3443 0134 FB68     		ldr	r3, [r7, #12]
 3444 0136 1B68     		ldr	r3, [r3]
 3445 0138 22F48052 		bic	r2, r2, #4096
 3446 013c 5A60     		str	r2, [r3, #4]
 3447 013e 07E0     		b	.L178
 3448              	.L177:
1866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
1868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 8 bit */
1870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 3449              		.loc 1 1870 5
 3450 0140 FB68     		ldr	r3, [r7, #12]
 3451 0142 1B68     		ldr	r3, [r3]
 3452 0144 5A68     		ldr	r2, [r3, #4]
 3453 0146 FB68     		ldr	r3, [r7, #12]
 3454 0148 1B68     		ldr	r3, [r3]
 3455 014a 42F48052 		orr	r2, r2, #4096
 3456 014e 5A60     		str	r2, [r3, #4]
 3457              	.L178:
1871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 3458              		.loc 1 1875 12
 3459 0150 FB68     		ldr	r3, [r7, #12]
 3460 0152 1B68     		ldr	r3, [r3]
 3461              		.loc 1 1875 22
 3462 0154 1B68     		ldr	r3, [r3]
 3463              		.loc 1 1875 28
 3464 0156 03F04003 		and	r3, r3, #64
 3465              		.loc 1 1875 6
 3466 015a 402B     		cmp	r3, #64
 3467 015c 07D0     		beq	.L179
1876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Enable SPI peripheral */
1878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 3468              		.loc 1 1878 5
 3469 015e FB68     		ldr	r3, [r7, #12]
 3470 0160 1B68     		ldr	r3, [r3]
 3471 0162 1A68     		ldr	r2, [r3]
 3472 0164 FB68     		ldr	r3, [r7, #12]
 3473 0166 1B68     		ldr	r3, [r3]
 3474 0168 42F04002 		orr	r2, r2, #64
 3475 016c 1A60     		str	r2, [r3]
 3476              	.L179:
1879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Unlocked */
1882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 3477              		.loc 1 1882 3
 3478 016e FB68     		ldr	r3, [r7, #12]
 3479 0170 0022     		movs	r2, #0
 3480 0172 83F85C20 		strb	r2, [r3, #92]
ARM GAS  /tmp/ccC16sX6.s 			page 95


1883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable TXE, RXNE and ERR interrupt */
1884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
 3481              		.loc 1 1884 3
 3482 0176 FB68     		ldr	r3, [r7, #12]
 3483 0178 1B68     		ldr	r3, [r3]
 3484 017a 5A68     		ldr	r2, [r3, #4]
 3485 017c FB68     		ldr	r3, [r7, #12]
 3486 017e 1B68     		ldr	r3, [r3]
 3487 0180 42F0E002 		orr	r2, r2, #224
 3488 0184 5A60     		str	r2, [r3, #4]
1885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
 3489              		.loc 1 1886 10
 3490 0186 0023     		movs	r3, #0
 3491              	.L166:
1887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 3492              		.loc 1 1887 1
 3493 0188 1846     		mov	r0, r3
 3494 018a 1C37     		adds	r7, r7, #28
 3495              		.cfi_def_cfa_offset 4
 3496 018c BD46     		mov	sp, r7
 3497              		.cfi_def_cfa_register 13
 3498              		@ sp needed
 3499 018e 5DF8047B 		ldr	r7, [sp], #4
 3500              		.cfi_restore 7
 3501              		.cfi_def_cfa_offset 0
 3502 0192 7047     		bx	lr
 3503              	.L181:
 3504              		.align	2
 3505              	.L180:
 3506 0194 00000000 		.word	SPI_2linesRxISR_16BIT
 3507 0198 00000000 		.word	SPI_2linesTxISR_16BIT
 3508 019c 00000000 		.word	SPI_2linesRxISR_8BIT
 3509 01a0 00000000 		.word	SPI_2linesTxISR_8BIT
 3510              		.cfi_endproc
 3511              	.LFE454:
 3513              		.section	.text.HAL_SPI_Transmit_DMA,"ax",%progbits
 3514              		.align	1
 3515              		.global	HAL_SPI_Transmit_DMA
 3516              		.syntax unified
 3517              		.thumb
 3518              		.thumb_func
 3520              	HAL_SPI_Transmit_DMA:
 3521              	.LFB455:
1888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
1890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Transmit an amount of data in non-blocking mode with DMA.
1891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
1893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pData pointer to data buffer  (u8 or u16 data elements)
1894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Size amount of data elements (u8 or u16) to be sent
1895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
1896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
1897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit_DMA(SPI_HandleTypeDef *hspi, const uint8_t *pData, uint16_t Size
1898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 3522              		.loc 1 1898 1
 3523              		.cfi_startproc
ARM GAS  /tmp/ccC16sX6.s 			page 96


 3524              		@ args = 0, pretend = 0, frame = 16
 3525              		@ frame_needed = 1, uses_anonymous_args = 0
 3526 0000 80B5     		push	{r7, lr}
 3527              		.cfi_def_cfa_offset 8
 3528              		.cfi_offset 7, -8
 3529              		.cfi_offset 14, -4
 3530 0002 84B0     		sub	sp, sp, #16
 3531              		.cfi_def_cfa_offset 24
 3532 0004 00AF     		add	r7, sp, #0
 3533              		.cfi_def_cfa_register 7
 3534 0006 F860     		str	r0, [r7, #12]
 3535 0008 B960     		str	r1, [r7, #8]
 3536 000a 1346     		mov	r3, r2
 3537 000c FB80     		strh	r3, [r7, #6]	@ movhi
1899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check tx dma handle */
1901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
1902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check Direction parameter */
1904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
1905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
 3538              		.loc 1 1906 11
 3539 000e FB68     		ldr	r3, [r7, #12]
 3540 0010 93F85D30 		ldrb	r3, [r3, #93]
 3541 0014 DBB2     		uxtb	r3, r3
 3542              		.loc 1 1906 6
 3543 0016 012B     		cmp	r3, #1
 3544 0018 01D0     		beq	.L183
1907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_BUSY;
 3545              		.loc 1 1908 12
 3546 001a 0223     		movs	r3, #2
 3547 001c E9E0     		b	.L184
 3548              	.L183:
1909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
 3549              		.loc 1 1911 6
 3550 001e BB68     		ldr	r3, [r7, #8]
 3551 0020 002B     		cmp	r3, #0
 3552 0022 02D0     		beq	.L185
 3553              		.loc 1 1911 23 discriminator 1
 3554 0024 FB88     		ldrh	r3, [r7, #6]
 3555 0026 002B     		cmp	r3, #0
 3556 0028 01D1     		bne	.L186
 3557              	.L185:
1912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 3558              		.loc 1 1913 12
 3559 002a 0123     		movs	r3, #1
 3560 002c E1E0     		b	.L184
 3561              	.L186:
1914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Locked */
1917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
ARM GAS  /tmp/ccC16sX6.s 			page 97


 3562              		.loc 1 1917 3
 3563 002e FB68     		ldr	r3, [r7, #12]
 3564 0030 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 3565 0034 012B     		cmp	r3, #1
 3566 0036 01D1     		bne	.L187
 3567              		.loc 1 1917 3 is_stmt 0 discriminator 1
 3568 0038 0223     		movs	r3, #2
 3569              		.loc 1 1917 3
 3570 003a DAE0     		b	.L184
 3571              	.L187:
 3572              		.loc 1 1917 3 discriminator 2
 3573 003c FB68     		ldr	r3, [r7, #12]
 3574 003e 0122     		movs	r2, #1
 3575 0040 83F85C20 		strb	r2, [r3, #92]
1918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the transaction information */
1920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
 3576              		.loc 1 1920 21 is_stmt 1
 3577 0044 FB68     		ldr	r3, [r7, #12]
 3578 0046 0322     		movs	r2, #3
 3579 0048 83F85D20 		strb	r2, [r3, #93]
1921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 3580              		.loc 1 1921 21
 3581 004c FB68     		ldr	r3, [r7, #12]
 3582 004e 0022     		movs	r2, #0
 3583 0050 1A66     		str	r2, [r3, #96]
1922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pData;
 3584              		.loc 1 1922 21
 3585 0052 FB68     		ldr	r3, [r7, #12]
 3586 0054 BA68     		ldr	r2, [r7, #8]
 3587 0056 9A63     		str	r2, [r3, #56]
1923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 3588              		.loc 1 1923 21
 3589 0058 FB68     		ldr	r3, [r7, #12]
 3590 005a FA88     		ldrh	r2, [r7, #6]	@ movhi
 3591 005c 9A87     		strh	r2, [r3, #60]	@ movhi
1924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 3592              		.loc 1 1924 21
 3593 005e FB68     		ldr	r3, [r7, #12]
 3594 0060 FA88     		ldrh	r2, [r7, #6]	@ movhi
 3595 0062 DA87     		strh	r2, [r3, #62]	@ movhi
1925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init field not used in handle to zero */
1927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
 3596              		.loc 1 1927 21
 3597 0064 FB68     		ldr	r3, [r7, #12]
 3598 0066 0022     		movs	r2, #0
 3599 0068 1A64     		str	r2, [r3, #64]
1928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 3600              		.loc 1 1928 21
 3601 006a FB68     		ldr	r3, [r7, #12]
 3602 006c 0022     		movs	r2, #0
 3603 006e 1A65     		str	r2, [r3, #80]
1929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 3604              		.loc 1 1929 21
 3605 0070 FB68     		ldr	r3, [r7, #12]
 3606 0072 0022     		movs	r2, #0
ARM GAS  /tmp/ccC16sX6.s 			page 98


 3607 0074 DA64     		str	r2, [r3, #76]
1930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 3608              		.loc 1 1930 21
 3609 0076 FB68     		ldr	r3, [r7, #12]
 3610 0078 0022     		movs	r2, #0
 3611 007a A3F84420 		strh	r2, [r3, #68]	@ movhi
1931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 3612              		.loc 1 1931 21
 3613 007e FB68     		ldr	r3, [r7, #12]
 3614 0080 0022     		movs	r2, #0
 3615 0082 A3F84620 		strh	r2, [r3, #70]	@ movhi
1932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
 3616              		.loc 1 1934 17
 3617 0086 FB68     		ldr	r3, [r7, #12]
 3618 0088 9B68     		ldr	r3, [r3, #8]
 3619              		.loc 1 1934 6
 3620 008a B3F5004F 		cmp	r3, #32768
 3621 008e 0FD1     		bne	.L188
1935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 3622              		.loc 1 1937 5
 3623 0090 FB68     		ldr	r3, [r7, #12]
 3624 0092 1B68     		ldr	r3, [r3]
 3625 0094 1A68     		ldr	r2, [r3]
 3626 0096 FB68     		ldr	r3, [r7, #12]
 3627 0098 1B68     		ldr	r3, [r3]
 3628 009a 22F04002 		bic	r2, r2, #64
 3629 009e 1A60     		str	r2, [r3]
1938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 3630              		.loc 1 1938 5
 3631 00a0 FB68     		ldr	r3, [r7, #12]
 3632 00a2 1B68     		ldr	r3, [r3]
 3633 00a4 1A68     		ldr	r2, [r3]
 3634 00a6 FB68     		ldr	r3, [r7, #12]
 3635 00a8 1B68     		ldr	r3, [r3]
 3636 00aa 42F48042 		orr	r2, r2, #16384
 3637 00ae 1A60     		str	r2, [r3]
 3638              	.L188:
1939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset CRC Calculation */
1943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 3639              		.loc 1 1943 17
 3640 00b0 FB68     		ldr	r3, [r7, #12]
 3641 00b2 9B6A     		ldr	r3, [r3, #40]
 3642              		.loc 1 1943 6
 3643 00b4 B3F5005F 		cmp	r3, #8192
 3644 00b8 0FD1     		bne	.L189
1944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
 3645              		.loc 1 1945 5
 3646 00ba FB68     		ldr	r3, [r7, #12]
 3647 00bc 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccC16sX6.s 			page 99


 3648 00be 1A68     		ldr	r2, [r3]
 3649 00c0 FB68     		ldr	r3, [r7, #12]
 3650 00c2 1B68     		ldr	r3, [r3]
 3651 00c4 22F40052 		bic	r2, r2, #8192
 3652 00c8 1A60     		str	r2, [r3]
 3653 00ca FB68     		ldr	r3, [r7, #12]
 3654 00cc 1B68     		ldr	r3, [r3]
 3655 00ce 1A68     		ldr	r2, [r3]
 3656 00d0 FB68     		ldr	r3, [r7, #12]
 3657 00d2 1B68     		ldr	r3, [r3]
 3658 00d4 42F40052 		orr	r2, r2, #8192
 3659 00d8 1A60     		str	r2, [r3]
 3660              	.L189:
1946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the SPI TxDMA Half transfer complete callback */
1950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferHalfCpltCallback = SPI_DMAHalfTransmitCplt;
 3661              		.loc 1 1950 7
 3662 00da FB68     		ldr	r3, [r7, #12]
 3663 00dc 5B6D     		ldr	r3, [r3, #84]
 3664              		.loc 1 1950 38
 3665 00de 474A     		ldr	r2, .L194
 3666 00e0 1A63     		str	r2, [r3, #48]
1951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the SPI TxDMA transfer complete callback */
1953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback = SPI_DMATransmitCplt;
 3667              		.loc 1 1953 7
 3668 00e2 FB68     		ldr	r3, [r7, #12]
 3669 00e4 5B6D     		ldr	r3, [r3, #84]
 3670              		.loc 1 1953 34
 3671 00e6 464A     		ldr	r2, .L194+4
 3672 00e8 DA62     		str	r2, [r3, #44]
1954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the DMA error callback */
1956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback = SPI_DMAError;
 3673              		.loc 1 1956 7
 3674 00ea FB68     		ldr	r3, [r7, #12]
 3675 00ec 5B6D     		ldr	r3, [r3, #84]
 3676              		.loc 1 1956 35
 3677 00ee 454A     		ldr	r2, .L194+8
 3678 00f0 5A63     		str	r2, [r3, #52]
1957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
1959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback = NULL;
 3679              		.loc 1 1959 7
 3680 00f2 FB68     		ldr	r3, [r7, #12]
 3681 00f4 5B6D     		ldr	r3, [r3, #84]
 3682              		.loc 1 1959 35
 3683 00f6 0022     		movs	r2, #0
 3684 00f8 9A63     		str	r2, [r3, #56]
1960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMATX);
 3685              		.loc 1 1961 3
 3686 00fa FB68     		ldr	r3, [r7, #12]
 3687 00fc 1B68     		ldr	r3, [r3]
 3688 00fe 5A68     		ldr	r2, [r3, #4]
ARM GAS  /tmp/ccC16sX6.s 			page 100


 3689 0100 FB68     		ldr	r3, [r7, #12]
 3690 0102 1B68     		ldr	r3, [r3]
 3691 0104 22F48042 		bic	r2, r2, #16384
 3692 0108 5A60     		str	r2, [r3, #4]
1962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Packing mode is enabled only if the DMA setting is HALWORD */
1963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Init.DataSize <= SPI_DATASIZE_8BIT) && (hspi->hdmatx->Init.MemDataAlignment == DMA_MDA
 3693              		.loc 1 1963 18
 3694 010a FB68     		ldr	r3, [r7, #12]
 3695 010c DB68     		ldr	r3, [r3, #12]
 3696              		.loc 1 1963 6
 3697 010e B3F5E06F 		cmp	r3, #1792
 3698 0112 2DD8     		bhi	.L190
 3699              		.loc 1 1963 58 discriminator 1
 3700 0114 FB68     		ldr	r3, [r7, #12]
 3701 0116 5B6D     		ldr	r3, [r3, #84]
 3702              		.loc 1 1963 72 discriminator 1
 3703 0118 9B69     		ldr	r3, [r3, #24]
 3704              		.loc 1 1963 50 discriminator 1
 3705 011a B3F5806F 		cmp	r3, #1024
 3706 011e 27D1     		bne	.L190
1964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Check the even/odd of the data size + crc if enabled */
1966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if ((hspi->TxXferCount & 0x1U) == 0U)
 3707              		.loc 1 1966 14
 3708 0120 FB68     		ldr	r3, [r7, #12]
 3709 0122 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 3710 0124 9BB2     		uxth	r3, r3
 3711              		.loc 1 1966 28
 3712 0126 03F00103 		and	r3, r3, #1
 3713              		.loc 1 1966 8
 3714 012a 002B     		cmp	r3, #0
 3715 012c 0FD1     		bne	.L191
1967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
1968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMATX);
 3716              		.loc 1 1968 7
 3717 012e FB68     		ldr	r3, [r7, #12]
 3718 0130 1B68     		ldr	r3, [r3]
 3719 0132 5A68     		ldr	r2, [r3, #4]
 3720 0134 FB68     		ldr	r3, [r7, #12]
 3721 0136 1B68     		ldr	r3, [r3]
 3722 0138 22F48042 		bic	r2, r2, #16384
 3723 013c 5A60     		str	r2, [r3, #4]
1969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->TxXferCount = (hspi->TxXferCount >> 1U);
 3724              		.loc 1 1969 32
 3725 013e FB68     		ldr	r3, [r7, #12]
 3726 0140 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 3727 0142 9BB2     		uxth	r3, r3
 3728              		.loc 1 1969 25
 3729 0144 5B08     		lsrs	r3, r3, #1
 3730 0146 9AB2     		uxth	r2, r3
 3731 0148 FB68     		ldr	r3, [r7, #12]
 3732 014a DA87     		strh	r2, [r3, #62]	@ movhi
 3733 014c 10E0     		b	.L190
 3734              	.L191:
1970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
1972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
ARM GAS  /tmp/ccC16sX6.s 			page 101


1973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR2, SPI_CR2_LDMATX);
 3735              		.loc 1 1973 7
 3736 014e FB68     		ldr	r3, [r7, #12]
 3737 0150 1B68     		ldr	r3, [r3]
 3738 0152 5A68     		ldr	r2, [r3, #4]
 3739 0154 FB68     		ldr	r3, [r7, #12]
 3740 0156 1B68     		ldr	r3, [r3]
 3741 0158 42F48042 		orr	r2, r2, #16384
 3742 015c 5A60     		str	r2, [r3, #4]
1974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->TxXferCount = (hspi->TxXferCount >> 1U) + 1U;
 3743              		.loc 1 1974 32
 3744 015e FB68     		ldr	r3, [r7, #12]
 3745 0160 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 3746 0162 9BB2     		uxth	r3, r3
 3747              		.loc 1 1974 53
 3748 0164 5B08     		lsrs	r3, r3, #1
 3749 0166 9BB2     		uxth	r3, r3
 3750 0168 0133     		adds	r3, r3, #1
 3751 016a 9AB2     		uxth	r2, r3
 3752              		.loc 1 1974 25
 3753 016c FB68     		ldr	r3, [r7, #12]
 3754 016e DA87     		strh	r2, [r3, #62]	@ movhi
 3755              	.L190:
1975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
1976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable the Tx DMA Stream/Channel */
1979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instanc
 3756              		.loc 1 1979 17
 3757 0170 FB68     		ldr	r3, [r7, #12]
 3758 0172 586D     		ldr	r0, [r3, #84]
 3759              		.loc 1 1979 62
 3760 0174 FB68     		ldr	r3, [r7, #12]
 3761 0176 9B6B     		ldr	r3, [r3, #56]
 3762              		.loc 1 1979 17
 3763 0178 1946     		mov	r1, r3
 3764              		.loc 1 1979 91
 3765 017a FB68     		ldr	r3, [r7, #12]
 3766 017c 1B68     		ldr	r3, [r3]
 3767              		.loc 1 1979 86
 3768 017e 0C33     		adds	r3, r3, #12
 3769              		.loc 1 1979 17
 3770 0180 1A46     		mov	r2, r3
1980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->TxXferCount))
 3771              		.loc 1 1980 38
 3772 0182 FB68     		ldr	r3, [r7, #12]
 3773 0184 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 3774 0186 9BB2     		uxth	r3, r3
1979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->TxXferCount))
 3775              		.loc 1 1979 17
 3776 0188 FFF7FEFF 		bl	HAL_DMA_Start_IT
 3777 018c 0346     		mov	r3, r0
1979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->TxXferCount))
 3778              		.loc 1 1979 6 discriminator 1
 3779 018e 002B     		cmp	r3, #0
 3780 0190 0BD0     		beq	.L192
1981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
ARM GAS  /tmp/ccC16sX6.s 			page 102


1982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Update SPI error code */
1983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
 3781              		.loc 1 1983 5
 3782 0192 FB68     		ldr	r3, [r7, #12]
 3783 0194 1B6E     		ldr	r3, [r3, #96]
 3784 0196 43F01002 		orr	r2, r3, #16
 3785 019a FB68     		ldr	r3, [r7, #12]
 3786 019c 1A66     		str	r2, [r3, #96]
1984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Process Unlocked */
1985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 3787              		.loc 1 1985 5
 3788 019e FB68     		ldr	r3, [r7, #12]
 3789 01a0 0022     		movs	r2, #0
 3790 01a2 83F85C20 		strb	r2, [r3, #92]
1986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 3791              		.loc 1 1986 12
 3792 01a6 0123     		movs	r3, #1
 3793 01a8 23E0     		b	.L184
 3794              	.L192:
1987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 3795              		.loc 1 1990 12
 3796 01aa FB68     		ldr	r3, [r7, #12]
 3797 01ac 1B68     		ldr	r3, [r3]
 3798              		.loc 1 1990 22
 3799 01ae 1B68     		ldr	r3, [r3]
 3800              		.loc 1 1990 28
 3801 01b0 03F04003 		and	r3, r3, #64
 3802              		.loc 1 1990 6
 3803 01b4 402B     		cmp	r3, #64
 3804 01b6 07D0     		beq	.L193
1991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
1992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Enable SPI peripheral */
1993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 3805              		.loc 1 1993 5
 3806 01b8 FB68     		ldr	r3, [r7, #12]
 3807 01ba 1B68     		ldr	r3, [r3]
 3808 01bc 1A68     		ldr	r2, [r3]
 3809 01be FB68     		ldr	r3, [r7, #12]
 3810 01c0 1B68     		ldr	r3, [r3]
 3811 01c2 42F04002 		orr	r2, r2, #64
 3812 01c6 1A60     		str	r2, [r3]
 3813              	.L193:
1994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
1995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Unlocked */
1997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 3814              		.loc 1 1997 3
 3815 01c8 FB68     		ldr	r3, [r7, #12]
 3816 01ca 0022     		movs	r2, #0
 3817 01cc 83F85C20 		strb	r2, [r3, #92]
1998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
1999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
2000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_ERR));
 3818              		.loc 1 2000 3
ARM GAS  /tmp/ccC16sX6.s 			page 103


 3819 01d0 FB68     		ldr	r3, [r7, #12]
 3820 01d2 1B68     		ldr	r3, [r3]
 3821 01d4 5A68     		ldr	r2, [r3, #4]
 3822 01d6 FB68     		ldr	r3, [r7, #12]
 3823 01d8 1B68     		ldr	r3, [r3]
 3824 01da 42F02002 		orr	r2, r2, #32
 3825 01de 5A60     		str	r2, [r3, #4]
2001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable Tx DMA Request */
2003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
 3826              		.loc 1 2003 3
 3827 01e0 FB68     		ldr	r3, [r7, #12]
 3828 01e2 1B68     		ldr	r3, [r3]
 3829 01e4 5A68     		ldr	r2, [r3, #4]
 3830 01e6 FB68     		ldr	r3, [r7, #12]
 3831 01e8 1B68     		ldr	r3, [r3]
 3832 01ea 42F00202 		orr	r2, r2, #2
 3833 01ee 5A60     		str	r2, [r3, #4]
2004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
 3834              		.loc 1 2005 10
 3835 01f0 0023     		movs	r3, #0
 3836              	.L184:
2006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 3837              		.loc 1 2006 1
 3838 01f2 1846     		mov	r0, r3
 3839 01f4 1037     		adds	r7, r7, #16
 3840              		.cfi_def_cfa_offset 8
 3841 01f6 BD46     		mov	sp, r7
 3842              		.cfi_def_cfa_register 13
 3843              		@ sp needed
 3844 01f8 80BD     		pop	{r7, pc}
 3845              	.L195:
 3846 01fa 00BF     		.align	2
 3847              	.L194:
 3848 01fc 00000000 		.word	SPI_DMAHalfTransmitCplt
 3849 0200 00000000 		.word	SPI_DMATransmitCplt
 3850 0204 00000000 		.word	SPI_DMAError
 3851              		.cfi_endproc
 3852              	.LFE455:
 3854              		.section	.text.HAL_SPI_Receive_DMA,"ax",%progbits
 3855              		.align	1
 3856              		.global	HAL_SPI_Receive_DMA
 3857              		.syntax unified
 3858              		.thumb
 3859              		.thumb_func
 3861              	HAL_SPI_Receive_DMA:
 3862              	.LFB456:
2007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Receive an amount of data in non-blocking mode with DMA.
2010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @note   In case of MASTER mode and SPI_DIRECTION_2LINES direction, hdmatx shall be defined.
2011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
2013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pData pointer to data buffer (u8 or u16 data elements)
2014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @note   When the CRC feature is enabled the pData Length must be Size + 1.
2015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Size amount of data elements (u8 or u16) to be received
ARM GAS  /tmp/ccC16sX6.s 			page 104


2016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
2017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive_DMA(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
2019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 3863              		.loc 1 2019 1
 3864              		.cfi_startproc
 3865              		@ args = 0, pretend = 0, frame = 16
 3866              		@ frame_needed = 1, uses_anonymous_args = 0
 3867 0000 80B5     		push	{r7, lr}
 3868              		.cfi_def_cfa_offset 8
 3869              		.cfi_offset 7, -8
 3870              		.cfi_offset 14, -4
 3871 0002 84B0     		sub	sp, sp, #16
 3872              		.cfi_def_cfa_offset 24
 3873 0004 00AF     		add	r7, sp, #0
 3874              		.cfi_def_cfa_register 7
 3875 0006 F860     		str	r0, [r7, #12]
 3876 0008 B960     		str	r1, [r7, #8]
 3877 000a 1346     		mov	r3, r2
 3878 000c FB80     		strh	r3, [r7, #6]	@ movhi
2020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check rx dma handle */
2021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmarx));
2022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
 3879              		.loc 1 2023 11
 3880 000e FB68     		ldr	r3, [r7, #12]
 3881 0010 93F85D30 		ldrb	r3, [r3, #93]
 3882 0014 DBB2     		uxtb	r3, r3
 3883              		.loc 1 2023 6
 3884 0016 012B     		cmp	r3, #1
 3885 0018 01D0     		beq	.L197
2024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_BUSY;
 3886              		.loc 1 2025 12
 3887 001a 0223     		movs	r3, #2
 3888 001c 1AE1     		b	.L198
 3889              	.L197:
2026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
 3890              		.loc 1 2028 6
 3891 001e BB68     		ldr	r3, [r7, #8]
 3892 0020 002B     		cmp	r3, #0
 3893 0022 02D0     		beq	.L199
 3894              		.loc 1 2028 23 discriminator 1
 3895 0024 FB88     		ldrh	r3, [r7, #6]
 3896 0026 002B     		cmp	r3, #0
 3897 0028 01D1     		bne	.L200
 3898              	.L199:
2029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 3899              		.loc 1 2030 12
 3900 002a 0123     		movs	r3, #1
 3901 002c 12E1     		b	.L198
 3902              	.L200:
2031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
ARM GAS  /tmp/ccC16sX6.s 			page 105


2033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
 3903              		.loc 1 2033 18
 3904 002e FB68     		ldr	r3, [r7, #12]
 3905 0030 9B68     		ldr	r3, [r3, #8]
 3906              		.loc 1 2033 6
 3907 0032 002B     		cmp	r3, #0
 3908 0034 10D1     		bne	.L201
 3909              		.loc 1 2033 68 discriminator 1
 3910 0036 FB68     		ldr	r3, [r7, #12]
 3911 0038 5B68     		ldr	r3, [r3, #4]
 3912              		.loc 1 2033 54 discriminator 1
 3913 003a B3F5827F 		cmp	r3, #260
 3914 003e 0BD1     		bne	.L201
2034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_RX;
 3915              		.loc 1 2035 17
 3916 0040 FB68     		ldr	r3, [r7, #12]
 3917 0042 0422     		movs	r2, #4
 3918 0044 83F85D20 		strb	r2, [r3, #93]
2036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Check tx dma handle */
2038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
2039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
2041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_SPI_TransmitReceive_DMA(hspi, pData, pData, Size);
 3919              		.loc 1 2041 12
 3920 0048 FB88     		ldrh	r3, [r7, #6]
 3921 004a BA68     		ldr	r2, [r7, #8]
 3922 004c B968     		ldr	r1, [r7, #8]
 3923 004e F868     		ldr	r0, [r7, #12]
 3924 0050 FFF7FEFF 		bl	HAL_SPI_TransmitReceive_DMA
 3925 0054 0346     		mov	r3, r0
 3926 0056 FDE0     		b	.L198
 3927              	.L201:
2042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Locked */
2045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 3928              		.loc 1 2045 3
 3929 0058 FB68     		ldr	r3, [r7, #12]
 3930 005a 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 3931 005e 012B     		cmp	r3, #1
 3932 0060 01D1     		bne	.L202
 3933              		.loc 1 2045 3 is_stmt 0 discriminator 1
 3934 0062 0223     		movs	r3, #2
 3935              		.loc 1 2045 3
 3936 0064 F6E0     		b	.L198
 3937              	.L202:
 3938              		.loc 1 2045 3 discriminator 2
 3939 0066 FB68     		ldr	r3, [r7, #12]
 3940 0068 0122     		movs	r2, #1
 3941 006a 83F85C20 		strb	r2, [r3, #92]
2046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the transaction information */
2048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
 3942              		.loc 1 2048 21 is_stmt 1
 3943 006e FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccC16sX6.s 			page 106


 3944 0070 0422     		movs	r2, #4
 3945 0072 83F85D20 		strb	r2, [r3, #93]
2049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 3946              		.loc 1 2049 21
 3947 0076 FB68     		ldr	r3, [r7, #12]
 3948 0078 0022     		movs	r2, #0
 3949 007a 1A66     		str	r2, [r3, #96]
2050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 3950              		.loc 1 2050 21
 3951 007c FB68     		ldr	r3, [r7, #12]
 3952 007e BA68     		ldr	r2, [r7, #8]
 3953 0080 1A64     		str	r2, [r3, #64]
2051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 3954              		.loc 1 2051 21
 3955 0082 FB68     		ldr	r3, [r7, #12]
 3956 0084 FA88     		ldrh	r2, [r7, #6]	@ movhi
 3957 0086 A3F84420 		strh	r2, [r3, #68]	@ movhi
2052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 3958              		.loc 1 2052 21
 3959 008a FB68     		ldr	r3, [r7, #12]
 3960 008c FA88     		ldrh	r2, [r7, #6]	@ movhi
 3961 008e A3F84620 		strh	r2, [r3, #70]	@ movhi
2053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /*Init field not used in handle to zero */
2055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 3962              		.loc 1 2055 21
 3963 0092 FB68     		ldr	r3, [r7, #12]
 3964 0094 0022     		movs	r2, #0
 3965 0096 DA64     		str	r2, [r3, #76]
2056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 3966              		.loc 1 2056 21
 3967 0098 FB68     		ldr	r3, [r7, #12]
 3968 009a 0022     		movs	r2, #0
 3969 009c 1A65     		str	r2, [r3, #80]
2057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 3970              		.loc 1 2057 21
 3971 009e FB68     		ldr	r3, [r7, #12]
 3972 00a0 0022     		movs	r2, #0
 3973 00a2 9A87     		strh	r2, [r3, #60]	@ movhi
2058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3974              		.loc 1 2058 21
 3975 00a4 FB68     		ldr	r3, [r7, #12]
 3976 00a6 0022     		movs	r2, #0
 3977 00a8 DA87     		strh	r2, [r3, #62]	@ movhi
2059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
2061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
 3978              		.loc 1 2061 17
 3979 00aa FB68     		ldr	r3, [r7, #12]
 3980 00ac 9B68     		ldr	r3, [r3, #8]
 3981              		.loc 1 2061 6
 3982 00ae B3F5004F 		cmp	r3, #32768
 3983 00b2 0FD1     		bne	.L203
2062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
2064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 3984              		.loc 1 2064 5
ARM GAS  /tmp/ccC16sX6.s 			page 107


 3985 00b4 FB68     		ldr	r3, [r7, #12]
 3986 00b6 1B68     		ldr	r3, [r3]
 3987 00b8 1A68     		ldr	r2, [r3]
 3988 00ba FB68     		ldr	r3, [r7, #12]
 3989 00bc 1B68     		ldr	r3, [r3]
 3990 00be 22F04002 		bic	r2, r2, #64
 3991 00c2 1A60     		str	r2, [r3]
2065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 3992              		.loc 1 2065 5
 3993 00c4 FB68     		ldr	r3, [r7, #12]
 3994 00c6 1B68     		ldr	r3, [r3]
 3995 00c8 1A68     		ldr	r2, [r3]
 3996 00ca FB68     		ldr	r3, [r7, #12]
 3997 00cc 1B68     		ldr	r3, [r3]
 3998 00ce 22F48042 		bic	r2, r2, #16384
 3999 00d2 1A60     		str	r2, [r3]
 4000              	.L203:
2066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset CRC Calculation */
2070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 4001              		.loc 1 2070 17
 4002 00d4 FB68     		ldr	r3, [r7, #12]
 4003 00d6 9B6A     		ldr	r3, [r3, #40]
 4004              		.loc 1 2070 6
 4005 00d8 B3F5005F 		cmp	r3, #8192
 4006 00dc 0FD1     		bne	.L204
2071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
 4007              		.loc 1 2072 5
 4008 00de FB68     		ldr	r3, [r7, #12]
 4009 00e0 1B68     		ldr	r3, [r3]
 4010 00e2 1A68     		ldr	r2, [r3]
 4011 00e4 FB68     		ldr	r3, [r7, #12]
 4012 00e6 1B68     		ldr	r3, [r3]
 4013 00e8 22F40052 		bic	r2, r2, #8192
 4014 00ec 1A60     		str	r2, [r3]
 4015 00ee FB68     		ldr	r3, [r7, #12]
 4016 00f0 1B68     		ldr	r3, [r3]
 4017 00f2 1A68     		ldr	r2, [r3]
 4018 00f4 FB68     		ldr	r3, [r7, #12]
 4019 00f6 1B68     		ldr	r3, [r3]
 4020 00f8 42F40052 		orr	r2, r2, #8192
 4021 00fc 1A60     		str	r2, [r3]
 4022              	.L204:
2073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMARX);
 4023              		.loc 1 2077 3
 4024 00fe FB68     		ldr	r3, [r7, #12]
 4025 0100 1B68     		ldr	r3, [r3]
 4026 0102 5A68     		ldr	r2, [r3, #4]
 4027 0104 FB68     		ldr	r3, [r7, #12]
 4028 0106 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccC16sX6.s 			page 108


 4029 0108 22F40052 		bic	r2, r2, #8192
 4030 010c 5A60     		str	r2, [r3, #4]
2078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 4031              		.loc 1 2078 17
 4032 010e FB68     		ldr	r3, [r7, #12]
 4033 0110 DB68     		ldr	r3, [r3, #12]
 4034              		.loc 1 2078 6
 4035 0112 B3F5E06F 		cmp	r3, #1792
 4036 0116 08D9     		bls	.L205
2079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 16bit */
2081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 4037              		.loc 1 2081 5
 4038 0118 FB68     		ldr	r3, [r7, #12]
 4039 011a 1B68     		ldr	r3, [r3]
 4040 011c 5A68     		ldr	r2, [r3, #4]
 4041 011e FB68     		ldr	r3, [r7, #12]
 4042 0120 1B68     		ldr	r3, [r3]
 4043 0122 22F48052 		bic	r2, r2, #4096
 4044 0126 5A60     		str	r2, [r3, #4]
 4045 0128 42E0     		b	.L206
 4046              	.L205:
2082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
2084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 8bit */
2086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 4047              		.loc 1 2086 5
 4048 012a FB68     		ldr	r3, [r7, #12]
 4049 012c 1B68     		ldr	r3, [r3]
 4050 012e 5A68     		ldr	r2, [r3, #4]
 4051 0130 FB68     		ldr	r3, [r7, #12]
 4052 0132 1B68     		ldr	r3, [r3]
 4053 0134 42F48052 		orr	r2, r2, #4096
 4054 0138 5A60     		str	r2, [r3, #4]
2087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->hdmarx->Init.MemDataAlignment == DMA_MDATAALIGN_HALFWORD)
 4055              		.loc 1 2088 13
 4056 013a FB68     		ldr	r3, [r7, #12]
 4057 013c 9B6D     		ldr	r3, [r3, #88]
 4058              		.loc 1 2088 27
 4059 013e 9B69     		ldr	r3, [r3, #24]
 4060              		.loc 1 2088 8
 4061 0140 B3F5806F 		cmp	r3, #1024
 4062 0144 34D1     		bne	.L206
2089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Set RX Fifo threshold according the reception data length: 16bit */
2091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 4063              		.loc 1 2091 7
 4064 0146 FB68     		ldr	r3, [r7, #12]
 4065 0148 1B68     		ldr	r3, [r3]
 4066 014a 5A68     		ldr	r2, [r3, #4]
 4067 014c FB68     		ldr	r3, [r7, #12]
 4068 014e 1B68     		ldr	r3, [r3]
 4069 0150 22F48052 		bic	r2, r2, #4096
 4070 0154 5A60     		str	r2, [r3, #4]
2092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
ARM GAS  /tmp/ccC16sX6.s 			page 109


2093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((hspi->RxXferCount & 0x1U) == 0x0U)
 4071              		.loc 1 2093 16
 4072 0156 FB68     		ldr	r3, [r7, #12]
 4073 0158 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 4074 015c 9BB2     		uxth	r3, r3
 4075              		.loc 1 2093 30
 4076 015e 03F00103 		and	r3, r3, #1
 4077              		.loc 1 2093 10
 4078 0162 002B     		cmp	r3, #0
 4079 0164 11D1     		bne	.L207
2094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMARX);
 4080              		.loc 1 2095 9
 4081 0166 FB68     		ldr	r3, [r7, #12]
 4082 0168 1B68     		ldr	r3, [r3]
 4083 016a 5A68     		ldr	r2, [r3, #4]
 4084 016c FB68     		ldr	r3, [r7, #12]
 4085 016e 1B68     		ldr	r3, [r3]
 4086 0170 22F40052 		bic	r2, r2, #8192
 4087 0174 5A60     		str	r2, [r3, #4]
2096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount = hspi->RxXferCount >> 1U;
 4088              		.loc 1 2096 33
 4089 0176 FB68     		ldr	r3, [r7, #12]
 4090 0178 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 4091 017c 9BB2     		uxth	r3, r3
 4092              		.loc 1 2096 27
 4093 017e 5B08     		lsrs	r3, r3, #1
 4094 0180 9AB2     		uxth	r2, r3
 4095 0182 FB68     		ldr	r3, [r7, #12]
 4096 0184 A3F84620 		strh	r2, [r3, #70]	@ movhi
 4097 0188 12E0     		b	.L206
 4098              	.L207:
2097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
2099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->Instance->CR2, SPI_CR2_LDMARX);
 4099              		.loc 1 2100 9
 4100 018a FB68     		ldr	r3, [r7, #12]
 4101 018c 1B68     		ldr	r3, [r3]
 4102 018e 5A68     		ldr	r2, [r3, #4]
 4103 0190 FB68     		ldr	r3, [r7, #12]
 4104 0192 1B68     		ldr	r3, [r3]
 4105 0194 42F40052 		orr	r2, r2, #8192
 4106 0198 5A60     		str	r2, [r3, #4]
2101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount = (hspi->RxXferCount >> 1U) + 1U;
 4107              		.loc 1 2101 34
 4108 019a FB68     		ldr	r3, [r7, #12]
 4109 019c B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 4110 01a0 9BB2     		uxth	r3, r3
 4111              		.loc 1 2101 55
 4112 01a2 5B08     		lsrs	r3, r3, #1
 4113 01a4 9BB2     		uxth	r3, r3
 4114 01a6 0133     		adds	r3, r3, #1
 4115 01a8 9AB2     		uxth	r2, r3
 4116              		.loc 1 2101 27
 4117 01aa FB68     		ldr	r3, [r7, #12]
 4118 01ac A3F84620 		strh	r2, [r3, #70]	@ movhi
ARM GAS  /tmp/ccC16sX6.s 			page 110


 4119              	.L206:
2102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the SPI RxDMA Half transfer complete callback */
2107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfReceiveCplt;
 4120              		.loc 1 2107 7
 4121 01b0 FB68     		ldr	r3, [r7, #12]
 4122 01b2 9B6D     		ldr	r3, [r3, #88]
 4123              		.loc 1 2107 38
 4124 01b4 294A     		ldr	r2, .L210
 4125 01b6 1A63     		str	r2, [r3, #48]
2108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the SPI Rx DMA transfer complete callback */
2110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmarx->XferCpltCallback = SPI_DMAReceiveCplt;
 4126              		.loc 1 2110 7
 4127 01b8 FB68     		ldr	r3, [r7, #12]
 4128 01ba 9B6D     		ldr	r3, [r3, #88]
 4129              		.loc 1 2110 34
 4130 01bc 284A     		ldr	r2, .L210+4
 4131 01be DA62     		str	r2, [r3, #44]
2111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the DMA error callback */
2113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmarx->XferErrorCallback = SPI_DMAError;
 4132              		.loc 1 2113 7
 4133 01c0 FB68     		ldr	r3, [r7, #12]
 4134 01c2 9B6D     		ldr	r3, [r3, #88]
 4135              		.loc 1 2113 35
 4136 01c4 274A     		ldr	r2, .L210+8
 4137 01c6 5A63     		str	r2, [r3, #52]
2114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
2116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
 4138              		.loc 1 2116 7
 4139 01c8 FB68     		ldr	r3, [r7, #12]
 4140 01ca 9B6D     		ldr	r3, [r3, #88]
 4141              		.loc 1 2116 35
 4142 01cc 0022     		movs	r2, #0
 4143 01ce 9A63     		str	r2, [r3, #56]
2117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable the Rx DMA Stream/Channel  */
2119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmarx, (uint32_t)&hspi->Instance->DR, (uint32_t)hspi->pRxBu
 4144              		.loc 1 2119 17
 4145 01d0 FB68     		ldr	r3, [r7, #12]
 4146 01d2 986D     		ldr	r0, [r3, #88]
 4147              		.loc 1 2119 63
 4148 01d4 FB68     		ldr	r3, [r7, #12]
 4149 01d6 1B68     		ldr	r3, [r3]
 4150              		.loc 1 2119 58
 4151 01d8 0C33     		adds	r3, r3, #12
 4152              		.loc 1 2119 17
 4153 01da 1946     		mov	r1, r3
 4154              		.loc 1 2119 93
 4155 01dc FB68     		ldr	r3, [r7, #12]
 4156 01de 1B6C     		ldr	r3, [r3, #64]
 4157              		.loc 1 2119 17
ARM GAS  /tmp/ccC16sX6.s 			page 111


 4158 01e0 1A46     		mov	r2, r3
2120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->RxXferCount))
 4159              		.loc 1 2120 38
 4160 01e2 FB68     		ldr	r3, [r7, #12]
 4161 01e4 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 4162 01e8 9BB2     		uxth	r3, r3
2119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->RxXferCount))
 4163              		.loc 1 2119 17
 4164 01ea FFF7FEFF 		bl	HAL_DMA_Start_IT
 4165 01ee 0346     		mov	r3, r0
2119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->RxXferCount))
 4166              		.loc 1 2119 6 discriminator 1
 4167 01f0 002B     		cmp	r3, #0
 4168 01f2 0BD0     		beq	.L208
2121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Update SPI error code */
2123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
 4169              		.loc 1 2123 5
 4170 01f4 FB68     		ldr	r3, [r7, #12]
 4171 01f6 1B6E     		ldr	r3, [r3, #96]
 4172 01f8 43F01002 		orr	r2, r3, #16
 4173 01fc FB68     		ldr	r3, [r7, #12]
 4174 01fe 1A66     		str	r2, [r3, #96]
2124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Process Unlocked */
2125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 4175              		.loc 1 2125 5
 4176 0200 FB68     		ldr	r3, [r7, #12]
 4177 0202 0022     		movs	r2, #0
 4178 0204 83F85C20 		strb	r2, [r3, #92]
2126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 4179              		.loc 1 2126 12
 4180 0208 0123     		movs	r3, #1
 4181 020a 23E0     		b	.L198
 4182              	.L208:
2127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
2130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 4183              		.loc 1 2130 12
 4184 020c FB68     		ldr	r3, [r7, #12]
 4185 020e 1B68     		ldr	r3, [r3]
 4186              		.loc 1 2130 22
 4187 0210 1B68     		ldr	r3, [r3]
 4188              		.loc 1 2130 28
 4189 0212 03F04003 		and	r3, r3, #64
 4190              		.loc 1 2130 6
 4191 0216 402B     		cmp	r3, #64
 4192 0218 07D0     		beq	.L209
2131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Enable SPI peripheral */
2133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 4193              		.loc 1 2133 5
 4194 021a FB68     		ldr	r3, [r7, #12]
 4195 021c 1B68     		ldr	r3, [r3]
 4196 021e 1A68     		ldr	r2, [r3]
 4197 0220 FB68     		ldr	r3, [r7, #12]
 4198 0222 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccC16sX6.s 			page 112


 4199 0224 42F04002 		orr	r2, r2, #64
 4200 0228 1A60     		str	r2, [r3]
 4201              	.L209:
2134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Unlocked */
2137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 4202              		.loc 1 2137 3
 4203 022a FB68     		ldr	r3, [r7, #12]
 4204 022c 0022     		movs	r2, #0
 4205 022e 83F85C20 		strb	r2, [r3, #92]
2138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
2140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_ERR));
 4206              		.loc 1 2140 3
 4207 0232 FB68     		ldr	r3, [r7, #12]
 4208 0234 1B68     		ldr	r3, [r3]
 4209 0236 5A68     		ldr	r2, [r3, #4]
 4210 0238 FB68     		ldr	r3, [r7, #12]
 4211 023a 1B68     		ldr	r3, [r3]
 4212 023c 42F02002 		orr	r2, r2, #32
 4213 0240 5A60     		str	r2, [r3, #4]
2141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable Rx DMA Request */
2143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
 4214              		.loc 1 2143 3
 4215 0242 FB68     		ldr	r3, [r7, #12]
 4216 0244 1B68     		ldr	r3, [r3]
 4217 0246 5A68     		ldr	r2, [r3, #4]
 4218 0248 FB68     		ldr	r3, [r7, #12]
 4219 024a 1B68     		ldr	r3, [r3]
 4220 024c 42F00102 		orr	r2, r2, #1
 4221 0250 5A60     		str	r2, [r3, #4]
2144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
 4222              		.loc 1 2145 10
 4223 0252 0023     		movs	r3, #0
 4224              	.L198:
2146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 4225              		.loc 1 2146 1
 4226 0254 1846     		mov	r0, r3
 4227 0256 1037     		adds	r7, r7, #16
 4228              		.cfi_def_cfa_offset 8
 4229 0258 BD46     		mov	sp, r7
 4230              		.cfi_def_cfa_register 13
 4231              		@ sp needed
 4232 025a 80BD     		pop	{r7, pc}
 4233              	.L211:
 4234              		.align	2
 4235              	.L210:
 4236 025c 00000000 		.word	SPI_DMAHalfReceiveCplt
 4237 0260 00000000 		.word	SPI_DMAReceiveCplt
 4238 0264 00000000 		.word	SPI_DMAError
 4239              		.cfi_endproc
 4240              	.LFE456:
 4242              		.section	.text.HAL_SPI_TransmitReceive_DMA,"ax",%progbits
 4243              		.align	1
ARM GAS  /tmp/ccC16sX6.s 			page 113


 4244              		.global	HAL_SPI_TransmitReceive_DMA
 4245              		.syntax unified
 4246              		.thumb
 4247              		.thumb_func
 4249              	HAL_SPI_TransmitReceive_DMA:
 4250              	.LFB457:
2147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in non-blocking mode with DMA.
2150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
2152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer (u8 or u16 data elements)
2153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer (u8 or u16 data elements)
2154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @note   When the CRC feature is enabled the pRxData Length must be Size + 1
2155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Size amount of data elements (u8 or u16) to be sent and received
2156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
2157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive_DMA(SPI_HandleTypeDef *hspi, const uint8_t *pTxData, uint
2159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                               uint16_t Size)
2160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 4251              		.loc 1 2160 1
 4252              		.cfi_startproc
 4253              		@ args = 0, pretend = 0, frame = 24
 4254              		@ frame_needed = 1, uses_anonymous_args = 0
 4255 0000 80B5     		push	{r7, lr}
 4256              		.cfi_def_cfa_offset 8
 4257              		.cfi_offset 7, -8
 4258              		.cfi_offset 14, -4
 4259 0002 86B0     		sub	sp, sp, #24
 4260              		.cfi_def_cfa_offset 32
 4261 0004 00AF     		add	r7, sp, #0
 4262              		.cfi_def_cfa_register 7
 4263 0006 F860     		str	r0, [r7, #12]
 4264 0008 B960     		str	r1, [r7, #8]
 4265 000a 7A60     		str	r2, [r7, #4]
 4266 000c 7B80     		strh	r3, [r7, #2]	@ movhi
2161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t             tmp_mode;
2162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
2163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check rx & tx dma handles */
2165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmarx));
2166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
2167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check Direction parameter */
2169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
2170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init temporary variables */
2172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_state           = hspi->State;
 4267              		.loc 1 2172 23
 4268 000e FB68     		ldr	r3, [r7, #12]
 4269 0010 93F85D30 		ldrb	r3, [r3, #93]
 4270 0014 FB75     		strb	r3, [r7, #23]
2173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 4271              		.loc 1 2173 23
 4272 0016 FB68     		ldr	r3, [r7, #12]
 4273 0018 5B68     		ldr	r3, [r3, #4]
 4274 001a 3B61     		str	r3, [r7, #16]
ARM GAS  /tmp/ccC16sX6.s 			page 114


2174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (!((tmp_state == HAL_SPI_STATE_READY) ||
 4275              		.loc 1 2175 6
 4276 001c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4277 001e 012B     		cmp	r3, #1
 4278 0020 0CD0     		beq	.L213
 4279              		.loc 1 2175 7 discriminator 1
 4280 0022 3B69     		ldr	r3, [r7, #16]
 4281 0024 B3F5827F 		cmp	r3, #260
 4282 0028 06D1     		bne	.L214
2176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) &&
 4283              		.loc 1 2176 54
 4284 002a FB68     		ldr	r3, [r7, #12]
 4285 002c 9B68     		ldr	r3, [r3, #8]
 4286              		.loc 1 2176 40
 4287 002e 002B     		cmp	r3, #0
 4288 0030 02D1     		bne	.L214
 4289              		.loc 1 2176 90 discriminator 1
 4290 0032 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4291 0034 042B     		cmp	r3, #4
 4292 0036 01D0     		beq	.L213
 4293              	.L214:
2177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****          (tmp_state == HAL_SPI_STATE_BUSY_RX))))
2178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_BUSY;
 4294              		.loc 1 2179 12
 4295 0038 0223     		movs	r3, #2
 4296 003a 6DE1     		b	.L215
 4297              	.L213:
2180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))
 4298              		.loc 1 2182 6
 4299 003c BB68     		ldr	r3, [r7, #8]
 4300 003e 002B     		cmp	r3, #0
 4301 0040 05D0     		beq	.L216
 4302              		.loc 1 2182 25 discriminator 1
 4303 0042 7B68     		ldr	r3, [r7, #4]
 4304 0044 002B     		cmp	r3, #0
 4305 0046 02D0     		beq	.L216
 4306              		.loc 1 2182 46 discriminator 2
 4307 0048 7B88     		ldrh	r3, [r7, #2]
 4308 004a 002B     		cmp	r3, #0
 4309 004c 01D1     		bne	.L217
 4310              	.L216:
2183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 4311              		.loc 1 2184 12
 4312 004e 0123     		movs	r3, #1
 4313 0050 62E1     		b	.L215
 4314              	.L217:
2185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process locked */
2188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 4315              		.loc 1 2188 3
 4316 0052 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccC16sX6.s 			page 115


 4317 0054 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 4318 0058 012B     		cmp	r3, #1
 4319 005a 01D1     		bne	.L218
 4320              		.loc 1 2188 3 is_stmt 0 discriminator 1
 4321 005c 0223     		movs	r3, #2
 4322              		.loc 1 2188 3
 4323 005e 5BE1     		b	.L215
 4324              	.L218:
 4325              		.loc 1 2188 3 discriminator 2
 4326 0060 FB68     		ldr	r3, [r7, #12]
 4327 0062 0122     		movs	r2, #1
 4328 0064 83F85C20 		strb	r2, [r3, #92]
2189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
2191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_BUSY_RX)
 4329              		.loc 1 2191 11 is_stmt 1
 4330 0068 FB68     		ldr	r3, [r7, #12]
 4331 006a 93F85D30 		ldrb	r3, [r3, #93]
 4332 006e DBB2     		uxtb	r3, r3
 4333              		.loc 1 2191 6
 4334 0070 042B     		cmp	r3, #4
 4335 0072 03D0     		beq	.L219
2192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
 4336              		.loc 1 2193 17
 4337 0074 FB68     		ldr	r3, [r7, #12]
 4338 0076 0522     		movs	r2, #5
 4339 0078 83F85D20 		strb	r2, [r3, #93]
 4340              	.L219:
2194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the transaction information */
2197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 4341              		.loc 1 2197 21
 4342 007c FB68     		ldr	r3, [r7, #12]
 4343 007e 0022     		movs	r2, #0
 4344 0080 1A66     		str	r2, [r3, #96]
2198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (const uint8_t *)pTxData;
 4345              		.loc 1 2198 21
 4346 0082 FB68     		ldr	r3, [r7, #12]
 4347 0084 BA68     		ldr	r2, [r7, #8]
 4348 0086 9A63     		str	r2, [r3, #56]
2199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 4349              		.loc 1 2199 21
 4350 0088 FB68     		ldr	r3, [r7, #12]
 4351 008a 7A88     		ldrh	r2, [r7, #2]	@ movhi
 4352 008c 9A87     		strh	r2, [r3, #60]	@ movhi
2200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 4353              		.loc 1 2200 21
 4354 008e FB68     		ldr	r3, [r7, #12]
 4355 0090 7A88     		ldrh	r2, [r7, #2]	@ movhi
 4356 0092 DA87     		strh	r2, [r3, #62]	@ movhi
2201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 4357              		.loc 1 2201 21
 4358 0094 FB68     		ldr	r3, [r7, #12]
 4359 0096 7A68     		ldr	r2, [r7, #4]
 4360 0098 1A64     		str	r2, [r3, #64]
ARM GAS  /tmp/ccC16sX6.s 			page 116


2202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 4361              		.loc 1 2202 21
 4362 009a FB68     		ldr	r3, [r7, #12]
 4363 009c 7A88     		ldrh	r2, [r7, #2]	@ movhi
 4364 009e A3F84420 		strh	r2, [r3, #68]	@ movhi
2203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 4365              		.loc 1 2203 21
 4366 00a2 FB68     		ldr	r3, [r7, #12]
 4367 00a4 7A88     		ldrh	r2, [r7, #2]	@ movhi
 4368 00a6 A3F84620 		strh	r2, [r3, #70]	@ movhi
2204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init field not used in handle to zero */
2206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 4369              		.loc 1 2206 21
 4370 00aa FB68     		ldr	r3, [r7, #12]
 4371 00ac 0022     		movs	r2, #0
 4372 00ae DA64     		str	r2, [r3, #76]
2207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 4373              		.loc 1 2207 21
 4374 00b0 FB68     		ldr	r3, [r7, #12]
 4375 00b2 0022     		movs	r2, #0
 4376 00b4 1A65     		str	r2, [r3, #80]
2208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset CRC Calculation */
2211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 4377              		.loc 1 2211 17
 4378 00b6 FB68     		ldr	r3, [r7, #12]
 4379 00b8 9B6A     		ldr	r3, [r3, #40]
 4380              		.loc 1 2211 6
 4381 00ba B3F5005F 		cmp	r3, #8192
 4382 00be 0FD1     		bne	.L220
2212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
 4383              		.loc 1 2213 5
 4384 00c0 FB68     		ldr	r3, [r7, #12]
 4385 00c2 1B68     		ldr	r3, [r3]
 4386 00c4 1A68     		ldr	r2, [r3]
 4387 00c6 FB68     		ldr	r3, [r7, #12]
 4388 00c8 1B68     		ldr	r3, [r3]
 4389 00ca 22F40052 		bic	r2, r2, #8192
 4390 00ce 1A60     		str	r2, [r3]
 4391 00d0 FB68     		ldr	r3, [r7, #12]
 4392 00d2 1B68     		ldr	r3, [r3]
 4393 00d4 1A68     		ldr	r2, [r3]
 4394 00d6 FB68     		ldr	r3, [r7, #12]
 4395 00d8 1B68     		ldr	r3, [r3]
 4396 00da 42F40052 		orr	r2, r2, #8192
 4397 00de 1A60     		str	r2, [r3]
 4398              	.L220:
2214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset the threshold bit */
2218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMATX | SPI_CR2_LDMARX);
 4399              		.loc 1 2218 3
 4400 00e0 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccC16sX6.s 			page 117


 4401 00e2 1B68     		ldr	r3, [r3]
 4402 00e4 5A68     		ldr	r2, [r3, #4]
 4403 00e6 FB68     		ldr	r3, [r7, #12]
 4404 00e8 1B68     		ldr	r3, [r3]
 4405 00ea 22F4C042 		bic	r2, r2, #24576
 4406 00ee 5A60     		str	r2, [r3, #4]
2219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* The packing mode management is enabled by the DMA settings according the spi data size */
2221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 4407              		.loc 1 2221 17
 4408 00f0 FB68     		ldr	r3, [r7, #12]
 4409 00f2 DB68     		ldr	r3, [r3, #12]
 4410              		.loc 1 2221 6
 4411 00f4 B3F5E06F 		cmp	r3, #1792
 4412 00f8 08D9     		bls	.L221
2222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set fiforxthreshold according the reception data length: 16bit */
2224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 4413              		.loc 1 2224 5
 4414 00fa FB68     		ldr	r3, [r7, #12]
 4415 00fc 1B68     		ldr	r3, [r3]
 4416 00fe 5A68     		ldr	r2, [r3, #4]
 4417 0100 FB68     		ldr	r3, [r7, #12]
 4418 0102 1B68     		ldr	r3, [r3]
 4419 0104 22F48052 		bic	r2, r2, #4096
 4420 0108 5A60     		str	r2, [r3, #4]
 4421 010a 6FE0     		b	.L222
 4422              	.L221:
2225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
2227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set RX Fifo threshold according the reception data length: 8bit */
2229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 4423              		.loc 1 2229 5
 4424 010c FB68     		ldr	r3, [r7, #12]
 4425 010e 1B68     		ldr	r3, [r3]
 4426 0110 5A68     		ldr	r2, [r3, #4]
 4427 0112 FB68     		ldr	r3, [r7, #12]
 4428 0114 1B68     		ldr	r3, [r3]
 4429 0116 42F48052 		orr	r2, r2, #4096
 4430 011a 5A60     		str	r2, [r3, #4]
2230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->hdmatx->Init.MemDataAlignment == DMA_MDATAALIGN_HALFWORD)
 4431              		.loc 1 2231 13
 4432 011c FB68     		ldr	r3, [r7, #12]
 4433 011e 5B6D     		ldr	r3, [r3, #84]
 4434              		.loc 1 2231 27
 4435 0120 9B69     		ldr	r3, [r3, #24]
 4436              		.loc 1 2231 8
 4437 0122 B3F5806F 		cmp	r3, #1024
 4438 0126 26D1     		bne	.L223
2232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((hspi->TxXferSize & 0x1U) == 0x0U)
 4439              		.loc 1 2233 16
 4440 0128 FB68     		ldr	r3, [r7, #12]
 4441 012a 9B8F     		ldrh	r3, [r3, #60]
 4442              		.loc 1 2233 29
ARM GAS  /tmp/ccC16sX6.s 			page 118


 4443 012c 03F00103 		and	r3, r3, #1
 4444              		.loc 1 2233 10
 4445 0130 002B     		cmp	r3, #0
 4446 0132 0FD1     		bne	.L224
2234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMATX);
 4447              		.loc 1 2235 9
 4448 0134 FB68     		ldr	r3, [r7, #12]
 4449 0136 1B68     		ldr	r3, [r3]
 4450 0138 5A68     		ldr	r2, [r3, #4]
 4451 013a FB68     		ldr	r3, [r7, #12]
 4452 013c 1B68     		ldr	r3, [r3]
 4453 013e 22F48042 		bic	r2, r2, #16384
 4454 0142 5A60     		str	r2, [r3, #4]
2236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount = hspi->TxXferCount >> 1U;
 4455              		.loc 1 2236 33
 4456 0144 FB68     		ldr	r3, [r7, #12]
 4457 0146 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 4458 0148 9BB2     		uxth	r3, r3
 4459              		.loc 1 2236 27
 4460 014a 5B08     		lsrs	r3, r3, #1
 4461 014c 9AB2     		uxth	r2, r3
 4462 014e FB68     		ldr	r3, [r7, #12]
 4463 0150 DA87     		strh	r2, [r3, #62]	@ movhi
 4464 0152 10E0     		b	.L223
 4465              	.L224:
2237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
2239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->Instance->CR2, SPI_CR2_LDMATX);
 4466              		.loc 1 2240 9
 4467 0154 FB68     		ldr	r3, [r7, #12]
 4468 0156 1B68     		ldr	r3, [r3]
 4469 0158 5A68     		ldr	r2, [r3, #4]
 4470 015a FB68     		ldr	r3, [r7, #12]
 4471 015c 1B68     		ldr	r3, [r3]
 4472 015e 42F48042 		orr	r2, r2, #16384
 4473 0162 5A60     		str	r2, [r3, #4]
2241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxXferCount = (hspi->TxXferCount >> 1U) + 1U;
 4474              		.loc 1 2241 34
 4475 0164 FB68     		ldr	r3, [r7, #12]
 4476 0166 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 4477 0168 9BB2     		uxth	r3, r3
 4478              		.loc 1 2241 55
 4479 016a 5B08     		lsrs	r3, r3, #1
 4480 016c 9BB2     		uxth	r3, r3
 4481 016e 0133     		adds	r3, r3, #1
 4482 0170 9AB2     		uxth	r2, r3
 4483              		.loc 1 2241 27
 4484 0172 FB68     		ldr	r3, [r7, #12]
 4485 0174 DA87     		strh	r2, [r3, #62]	@ movhi
 4486              	.L223:
2242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->hdmarx->Init.MemDataAlignment == DMA_MDATAALIGN_HALFWORD)
 4487              		.loc 1 2245 13
ARM GAS  /tmp/ccC16sX6.s 			page 119


 4488 0176 FB68     		ldr	r3, [r7, #12]
 4489 0178 9B6D     		ldr	r3, [r3, #88]
 4490              		.loc 1 2245 27
 4491 017a 9B69     		ldr	r3, [r3, #24]
 4492              		.loc 1 2245 8
 4493 017c B3F5806F 		cmp	r3, #1024
 4494 0180 34D1     		bne	.L222
2246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Set RX Fifo threshold according the reception data length: 16bit */
2248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 4495              		.loc 1 2248 7
 4496 0182 FB68     		ldr	r3, [r7, #12]
 4497 0184 1B68     		ldr	r3, [r3]
 4498 0186 5A68     		ldr	r2, [r3, #4]
 4499 0188 FB68     		ldr	r3, [r7, #12]
 4500 018a 1B68     		ldr	r3, [r3]
 4501 018c 22F48052 		bic	r2, r2, #4096
 4502 0190 5A60     		str	r2, [r3, #4]
2249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((hspi->RxXferCount & 0x1U) == 0x0U)
 4503              		.loc 1 2250 16
 4504 0192 FB68     		ldr	r3, [r7, #12]
 4505 0194 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 4506 0198 9BB2     		uxth	r3, r3
 4507              		.loc 1 2250 30
 4508 019a 03F00103 		and	r3, r3, #1
 4509              		.loc 1 2250 10
 4510 019e 002B     		cmp	r3, #0
 4511 01a0 11D1     		bne	.L225
2251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_LDMARX);
 4512              		.loc 1 2252 9
 4513 01a2 FB68     		ldr	r3, [r7, #12]
 4514 01a4 1B68     		ldr	r3, [r3]
 4515 01a6 5A68     		ldr	r2, [r3, #4]
 4516 01a8 FB68     		ldr	r3, [r7, #12]
 4517 01aa 1B68     		ldr	r3, [r3]
 4518 01ac 22F40052 		bic	r2, r2, #8192
 4519 01b0 5A60     		str	r2, [r3, #4]
2253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount = hspi->RxXferCount >> 1U;
 4520              		.loc 1 2253 33
 4521 01b2 FB68     		ldr	r3, [r7, #12]
 4522 01b4 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 4523 01b8 9BB2     		uxth	r3, r3
 4524              		.loc 1 2253 27
 4525 01ba 5B08     		lsrs	r3, r3, #1
 4526 01bc 9AB2     		uxth	r2, r3
 4527 01be FB68     		ldr	r3, [r7, #12]
 4528 01c0 A3F84620 		strh	r2, [r3, #70]	@ movhi
 4529 01c4 12E0     		b	.L222
 4530              	.L225:
2254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
2256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->Instance->CR2, SPI_CR2_LDMARX);
 4531              		.loc 1 2257 9
 4532 01c6 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccC16sX6.s 			page 120


 4533 01c8 1B68     		ldr	r3, [r3]
 4534 01ca 5A68     		ldr	r2, [r3, #4]
 4535 01cc FB68     		ldr	r3, [r7, #12]
 4536 01ce 1B68     		ldr	r3, [r3]
 4537 01d0 42F40052 		orr	r2, r2, #8192
 4538 01d4 5A60     		str	r2, [r3, #4]
2258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxXferCount = (hspi->RxXferCount >> 1U) + 1U;
 4539              		.loc 1 2258 34
 4540 01d6 FB68     		ldr	r3, [r7, #12]
 4541 01d8 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 4542 01dc 9BB2     		uxth	r3, r3
 4543              		.loc 1 2258 55
 4544 01de 5B08     		lsrs	r3, r3, #1
 4545 01e0 9BB2     		uxth	r3, r3
 4546 01e2 0133     		adds	r3, r3, #1
 4547 01e4 9AB2     		uxth	r2, r3
 4548              		.loc 1 2258 27
 4549 01e6 FB68     		ldr	r3, [r7, #12]
 4550 01e8 A3F84620 		strh	r2, [r3, #70]	@ movhi
 4551              	.L222:
2259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if we are in Rx only or in Rx/Tx Mode and configure the DMA transfer complete callback *
2264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->State == HAL_SPI_STATE_BUSY_RX)
 4552              		.loc 1 2264 11
 4553 01ec FB68     		ldr	r3, [r7, #12]
 4554 01ee 93F85D30 		ldrb	r3, [r3, #93]
 4555 01f2 DBB2     		uxtb	r3, r3
 4556              		.loc 1 2264 6
 4557 01f4 042B     		cmp	r3, #4
 4558 01f6 08D1     		bne	.L226
2265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set the SPI Rx DMA Half transfer complete callback */
2267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfReceiveCplt;
 4559              		.loc 1 2267 9
 4560 01f8 FB68     		ldr	r3, [r7, #12]
 4561 01fa 9B6D     		ldr	r3, [r3, #88]
 4562              		.loc 1 2267 40
 4563 01fc 484A     		ldr	r2, .L231
 4564 01fe 1A63     		str	r2, [r3, #48]
2268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
 4565              		.loc 1 2268 9
 4566 0200 FB68     		ldr	r3, [r7, #12]
 4567 0202 9B6D     		ldr	r3, [r3, #88]
 4568              		.loc 1 2268 40
 4569 0204 474A     		ldr	r2, .L231+4
 4570 0206 DA62     		str	r2, [r3, #44]
 4571 0208 07E0     		b	.L227
 4572              	.L226:
2269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
2271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set the SPI Tx/Rx DMA Half transfer complete callback */
2273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfTransmitReceiveCplt;
 4573              		.loc 1 2273 9
ARM GAS  /tmp/ccC16sX6.s 			page 121


 4574 020a FB68     		ldr	r3, [r7, #12]
 4575 020c 9B6D     		ldr	r3, [r3, #88]
 4576              		.loc 1 2273 40
 4577 020e 464A     		ldr	r2, .L231+8
 4578 0210 1A63     		str	r2, [r3, #48]
2274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
 4579              		.loc 1 2274 9
 4580 0212 FB68     		ldr	r3, [r7, #12]
 4581 0214 9B6D     		ldr	r3, [r3, #88]
 4582              		.loc 1 2274 40
 4583 0216 454A     		ldr	r2, .L231+12
 4584 0218 DA62     		str	r2, [r3, #44]
 4585              	.L227:
2275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the DMA error callback */
2278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmarx->XferErrorCallback = SPI_DMAError;
 4586              		.loc 1 2278 7
 4587 021a FB68     		ldr	r3, [r7, #12]
 4588 021c 9B6D     		ldr	r3, [r3, #88]
 4589              		.loc 1 2278 35
 4590 021e 444A     		ldr	r2, .L231+16
 4591 0220 5A63     		str	r2, [r3, #52]
2279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
2281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
 4592              		.loc 1 2281 7
 4593 0222 FB68     		ldr	r3, [r7, #12]
 4594 0224 9B6D     		ldr	r3, [r3, #88]
 4595              		.loc 1 2281 35
 4596 0226 0022     		movs	r2, #0
 4597 0228 9A63     		str	r2, [r3, #56]
2282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable the Rx DMA Stream/Channel  */
2284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmarx, (uint32_t)&hspi->Instance->DR, (uint32_t)hspi->pRxBu
 4598              		.loc 1 2284 17
 4599 022a FB68     		ldr	r3, [r7, #12]
 4600 022c 986D     		ldr	r0, [r3, #88]
 4601              		.loc 1 2284 63
 4602 022e FB68     		ldr	r3, [r7, #12]
 4603 0230 1B68     		ldr	r3, [r3]
 4604              		.loc 1 2284 58
 4605 0232 0C33     		adds	r3, r3, #12
 4606              		.loc 1 2284 17
 4607 0234 1946     		mov	r1, r3
 4608              		.loc 1 2284 93
 4609 0236 FB68     		ldr	r3, [r7, #12]
 4610 0238 1B6C     		ldr	r3, [r3, #64]
 4611              		.loc 1 2284 17
 4612 023a 1A46     		mov	r2, r3
2285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->RxXferCount))
 4613              		.loc 1 2285 38
 4614 023c FB68     		ldr	r3, [r7, #12]
 4615 023e B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 4616 0242 9BB2     		uxth	r3, r3
2284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->RxXferCount))
 4617              		.loc 1 2284 17
ARM GAS  /tmp/ccC16sX6.s 			page 122


 4618 0244 FFF7FEFF 		bl	HAL_DMA_Start_IT
 4619 0248 0346     		mov	r3, r0
2284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->RxXferCount))
 4620              		.loc 1 2284 6 discriminator 1
 4621 024a 002B     		cmp	r3, #0
 4622 024c 0BD0     		beq	.L228
2286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Update SPI error code */
2288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
 4623              		.loc 1 2288 5
 4624 024e FB68     		ldr	r3, [r7, #12]
 4625 0250 1B6E     		ldr	r3, [r3, #96]
 4626 0252 43F01002 		orr	r2, r3, #16
 4627 0256 FB68     		ldr	r3, [r7, #12]
 4628 0258 1A66     		str	r2, [r3, #96]
2289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Process Unlocked */
2290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 4629              		.loc 1 2290 5
 4630 025a FB68     		ldr	r3, [r7, #12]
 4631 025c 0022     		movs	r2, #0
 4632 025e 83F85C20 		strb	r2, [r3, #92]
2291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 4633              		.loc 1 2291 12
 4634 0262 0123     		movs	r3, #1
 4635 0264 58E0     		b	.L215
 4636              	.L228:
2292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable Rx DMA Request */
2295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
 4637              		.loc 1 2295 3
 4638 0266 FB68     		ldr	r3, [r7, #12]
 4639 0268 1B68     		ldr	r3, [r3]
 4640 026a 5A68     		ldr	r2, [r3, #4]
 4641 026c FB68     		ldr	r3, [r7, #12]
 4642 026e 1B68     		ldr	r3, [r3]
 4643 0270 42F00102 		orr	r2, r2, #1
 4644 0274 5A60     		str	r2, [r3, #4]
2296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Set the SPI Tx DMA transfer complete callback as NULL because the communication closing
2298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   is performed in DMA reception complete callback  */
2299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferHalfCpltCallback = NULL;
 4645              		.loc 1 2299 7
 4646 0276 FB68     		ldr	r3, [r7, #12]
 4647 0278 5B6D     		ldr	r3, [r3, #84]
 4648              		.loc 1 2299 38
 4649 027a 0022     		movs	r2, #0
 4650 027c 1A63     		str	r2, [r3, #48]
2300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback     = NULL;
 4651              		.loc 1 2300 7
 4652 027e FB68     		ldr	r3, [r7, #12]
 4653 0280 5B6D     		ldr	r3, [r3, #84]
 4654              		.loc 1 2300 38
 4655 0282 0022     		movs	r2, #0
 4656 0284 DA62     		str	r2, [r3, #44]
2301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback    = NULL;
 4657              		.loc 1 2301 7
ARM GAS  /tmp/ccC16sX6.s 			page 123


 4658 0286 FB68     		ldr	r3, [r7, #12]
 4659 0288 5B6D     		ldr	r3, [r3, #84]
 4660              		.loc 1 2301 38
 4661 028a 0022     		movs	r2, #0
 4662 028c 5A63     		str	r2, [r3, #52]
2302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback    = NULL;
 4663              		.loc 1 2302 7
 4664 028e FB68     		ldr	r3, [r7, #12]
 4665 0290 5B6D     		ldr	r3, [r3, #84]
 4666              		.loc 1 2302 38
 4667 0292 0022     		movs	r2, #0
 4668 0294 9A63     		str	r2, [r3, #56]
2303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable the Tx DMA Stream/Channel  */
2305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instanc
 4669              		.loc 1 2305 17
 4670 0296 FB68     		ldr	r3, [r7, #12]
 4671 0298 586D     		ldr	r0, [r3, #84]
 4672              		.loc 1 2305 62
 4673 029a FB68     		ldr	r3, [r7, #12]
 4674 029c 9B6B     		ldr	r3, [r3, #56]
 4675              		.loc 1 2305 17
 4676 029e 1946     		mov	r1, r3
 4677              		.loc 1 2305 91
 4678 02a0 FB68     		ldr	r3, [r7, #12]
 4679 02a2 1B68     		ldr	r3, [r3]
 4680              		.loc 1 2305 86
 4681 02a4 0C33     		adds	r3, r3, #12
 4682              		.loc 1 2305 17
 4683 02a6 1A46     		mov	r2, r3
2306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->TxXferCount))
 4684              		.loc 1 2306 38
 4685 02a8 FB68     		ldr	r3, [r7, #12]
 4686 02aa DB8F     		ldrh	r3, [r3, #62]	@ movhi
 4687 02ac 9BB2     		uxth	r3, r3
2305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->TxXferCount))
 4688              		.loc 1 2305 17
 4689 02ae FFF7FEFF 		bl	HAL_DMA_Start_IT
 4690 02b2 0346     		mov	r3, r0
2305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                  hspi->TxXferCount))
 4691              		.loc 1 2305 6 discriminator 1
 4692 02b4 002B     		cmp	r3, #0
 4693 02b6 0BD0     		beq	.L229
2307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Update SPI error code */
2309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
 4694              		.loc 1 2309 5
 4695 02b8 FB68     		ldr	r3, [r7, #12]
 4696 02ba 1B6E     		ldr	r3, [r3, #96]
 4697 02bc 43F01002 		orr	r2, r3, #16
 4698 02c0 FB68     		ldr	r3, [r7, #12]
 4699 02c2 1A66     		str	r2, [r3, #96]
2310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Process Unlocked */
2311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_UNLOCK(hspi);
 4700              		.loc 1 2311 5
 4701 02c4 FB68     		ldr	r3, [r7, #12]
 4702 02c6 0022     		movs	r2, #0
ARM GAS  /tmp/ccC16sX6.s 			page 124


 4703 02c8 83F85C20 		strb	r2, [r3, #92]
2312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_ERROR;
 4704              		.loc 1 2312 12
 4705 02cc 0123     		movs	r3, #1
 4706 02ce 23E0     		b	.L215
 4707              	.L229:
2313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
2316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 4708              		.loc 1 2316 12
 4709 02d0 FB68     		ldr	r3, [r7, #12]
 4710 02d2 1B68     		ldr	r3, [r3]
 4711              		.loc 1 2316 22
 4712 02d4 1B68     		ldr	r3, [r3]
 4713              		.loc 1 2316 28
 4714 02d6 03F04003 		and	r3, r3, #64
 4715              		.loc 1 2316 6
 4716 02da 402B     		cmp	r3, #64
 4717 02dc 07D0     		beq	.L230
2317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Enable SPI peripheral */
2319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 4718              		.loc 1 2319 5
 4719 02de FB68     		ldr	r3, [r7, #12]
 4720 02e0 1B68     		ldr	r3, [r3]
 4721 02e2 1A68     		ldr	r2, [r3]
 4722 02e4 FB68     		ldr	r3, [r7, #12]
 4723 02e6 1B68     		ldr	r3, [r3]
 4724 02e8 42F04002 		orr	r2, r2, #64
 4725 02ec 1A60     		str	r2, [r3]
 4726              	.L230:
2320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Unlocked */
2323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 4727              		.loc 1 2323 3
 4728 02ee FB68     		ldr	r3, [r7, #12]
 4729 02f0 0022     		movs	r2, #0
 4730 02f2 83F85C20 		strb	r2, [r3, #92]
2324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
2326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_ERR));
 4731              		.loc 1 2326 3
 4732 02f6 FB68     		ldr	r3, [r7, #12]
 4733 02f8 1B68     		ldr	r3, [r3]
 4734 02fa 5A68     		ldr	r2, [r3, #4]
 4735 02fc FB68     		ldr	r3, [r7, #12]
 4736 02fe 1B68     		ldr	r3, [r3]
 4737 0300 42F02002 		orr	r2, r2, #32
 4738 0304 5A60     		str	r2, [r3, #4]
2327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable Tx DMA Request */
2329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
 4739              		.loc 1 2329 3
 4740 0306 FB68     		ldr	r3, [r7, #12]
 4741 0308 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccC16sX6.s 			page 125


 4742 030a 5A68     		ldr	r2, [r3, #4]
 4743 030c FB68     		ldr	r3, [r7, #12]
 4744 030e 1B68     		ldr	r3, [r3]
 4745 0310 42F00202 		orr	r2, r2, #2
 4746 0314 5A60     		str	r2, [r3, #4]
2330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
 4747              		.loc 1 2331 10
 4748 0316 0023     		movs	r3, #0
 4749              	.L215:
2332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 4750              		.loc 1 2332 1
 4751 0318 1846     		mov	r0, r3
 4752 031a 1837     		adds	r7, r7, #24
 4753              		.cfi_def_cfa_offset 8
 4754 031c BD46     		mov	sp, r7
 4755              		.cfi_def_cfa_register 13
 4756              		@ sp needed
 4757 031e 80BD     		pop	{r7, pc}
 4758              	.L232:
 4759              		.align	2
 4760              	.L231:
 4761 0320 00000000 		.word	SPI_DMAHalfReceiveCplt
 4762 0324 00000000 		.word	SPI_DMAReceiveCplt
 4763 0328 00000000 		.word	SPI_DMAHalfTransmitReceiveCplt
 4764 032c 00000000 		.word	SPI_DMATransmitReceiveCplt
 4765 0330 00000000 		.word	SPI_DMAError
 4766              		.cfi_endproc
 4767              	.LFE457:
 4769              		.section	.text.HAL_SPI_Abort,"ax",%progbits
 4770              		.align	1
 4771              		.global	HAL_SPI_Abort
 4772              		.syntax unified
 4773              		.thumb
 4774              		.thumb_func
 4776              	HAL_SPI_Abort:
 4777              	.LFB458:
2333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Abort ongoing transfer (blocking mode).
2336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi SPI handle.
2337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @note   This procedure could be used for aborting any ongoing transfer (Tx and Rx),
2338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         started in Interrupt or DMA mode.
2339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         This procedure performs following operations :
2340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           - Disable SPI Interrupts (depending of transfer direction)
2341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           - Disable the DMA transfer in the peripheral register (if enabled)
2342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           - Abort DMA transfer by calling HAL_DMA_Abort (in case of transfer in DMA mode)
2343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           - Set handle State to READY
2344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @note   This procedure is executed in blocking mode : when exiting function, Abort is considere
2345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
2346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Abort(SPI_HandleTypeDef *hspi)
2348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 4778              		.loc 1 2348 1
 4779              		.cfi_startproc
 4780              		@ args = 0, pretend = 0, frame = 32
 4781              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /tmp/ccC16sX6.s 			page 126


 4782 0000 80B5     		push	{r7, lr}
 4783              		.cfi_def_cfa_offset 8
 4784              		.cfi_offset 7, -8
 4785              		.cfi_offset 14, -4
 4786 0002 8AB0     		sub	sp, sp, #40
 4787              		.cfi_def_cfa_offset 48
 4788 0004 02AF     		add	r7, sp, #8
 4789              		.cfi_def_cfa 7, 40
 4790 0006 7860     		str	r0, [r7, #4]
2349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
2350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t count;
2351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t resetcount;
2352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Initialized local variable  */
2354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   errorcode = HAL_OK;
 4791              		.loc 1 2354 13
 4792 0008 0023     		movs	r3, #0
 4793 000a FB77     		strb	r3, [r7, #31]
2355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 4794              		.loc 1 2355 61
 4795 000c 884B     		ldr	r3, .L252
 4796 000e 1B68     		ldr	r3, [r3]
 4797 0010 884A     		ldr	r2, .L252+4
 4798 0012 A2FB0323 		umull	r2, r3, r2, r3
 4799 0016 5B0A     		lsrs	r3, r3, #9
 4800              		.loc 1 2355 36
 4801 0018 6422     		movs	r2, #100
 4802 001a 02FB03F3 		mul	r3, r2, r3
 4803              		.loc 1 2355 14
 4804 001e 7B61     		str	r3, [r7, #20]
2356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   count = resetcount;
 4805              		.loc 1 2356 9
 4806 0020 7B69     		ldr	r3, [r7, #20]
 4807 0022 BB61     		str	r3, [r7, #24]
2357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Clear ERRIE interrupt to avoid error interrupts generation during Abort procedure */
2359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
 4808              		.loc 1 2359 3
 4809 0024 7B68     		ldr	r3, [r7, #4]
 4810 0026 1B68     		ldr	r3, [r3]
 4811 0028 5A68     		ldr	r2, [r3, #4]
 4812 002a 7B68     		ldr	r3, [r7, #4]
 4813 002c 1B68     		ldr	r3, [r3]
 4814 002e 22F02002 		bic	r2, r2, #32
 4815 0032 5A60     		str	r2, [r3, #4]
2360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable TXEIE, RXNEIE and ERRIE(mode fault event, overrun error, TI frame error) interrupts */
2362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXEIE))
 4816              		.loc 1 2362 7
 4817 0034 7B68     		ldr	r3, [r7, #4]
 4818 0036 1B68     		ldr	r3, [r3]
 4819 0038 5B68     		ldr	r3, [r3, #4]
 4820 003a 03F08003 		and	r3, r3, #128
 4821              		.loc 1 2362 6
 4822 003e 802B     		cmp	r3, #128
 4823 0040 17D1     		bne	.L234
2363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
ARM GAS  /tmp/ccC16sX6.s 			page 127


2364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxISR = SPI_AbortTx_ISR;
 4824              		.loc 1 2364 17
 4825 0042 7B68     		ldr	r3, [r7, #4]
 4826 0044 7C4A     		ldr	r2, .L252+8
 4827 0046 1A65     		str	r2, [r3, #80]
 4828              	.L237:
2365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     do
2367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (count == 0U)
 4829              		.loc 1 2368 17
 4830 0048 BB69     		ldr	r3, [r7, #24]
 4831              		.loc 1 2368 10
 4832 004a 002B     		cmp	r3, #0
 4833 004c 06D1     		bne	.L235
2369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
 4834              		.loc 1 2370 9
 4835 004e 7B68     		ldr	r3, [r7, #4]
 4836 0050 1B6E     		ldr	r3, [r3, #96]
 4837 0052 43F04002 		orr	r2, r3, #64
 4838 0056 7B68     		ldr	r3, [r7, #4]
 4839 0058 1A66     		str	r2, [r3, #96]
2371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 4840              		.loc 1 2371 9
 4841 005a 08E0     		b	.L236
 4842              	.L235:
2372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       count--;
 4843              		.loc 1 2373 12
 4844 005c BB69     		ldr	r3, [r7, #24]
 4845 005e 013B     		subs	r3, r3, #1
 4846 0060 BB61     		str	r3, [r7, #24]
2374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 4847              		.loc 1 2374 18
 4848 0062 7B68     		ldr	r3, [r7, #4]
 4849 0064 93F85D30 		ldrb	r3, [r3, #93]
 4850 0068 DBB2     		uxtb	r3, r3
 4851              		.loc 1 2374 26
 4852 006a 072B     		cmp	r3, #7
 4853 006c ECD1     		bne	.L237
 4854              	.L236:
2375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Timeout Counter */
2376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     count = resetcount;
 4855              		.loc 1 2376 11
 4856 006e 7B69     		ldr	r3, [r7, #20]
 4857 0070 BB61     		str	r3, [r7, #24]
 4858              	.L234:
2377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE))
 4859              		.loc 1 2379 7
 4860 0072 7B68     		ldr	r3, [r7, #4]
 4861 0074 1B68     		ldr	r3, [r3]
 4862 0076 5B68     		ldr	r3, [r3, #4]
 4863 0078 03F04003 		and	r3, r3, #64
 4864              		.loc 1 2379 6
ARM GAS  /tmp/ccC16sX6.s 			page 128


 4865 007c 402B     		cmp	r3, #64
 4866 007e 17D1     		bne	.L238
2380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxISR = SPI_AbortRx_ISR;
 4867              		.loc 1 2381 17
 4868 0080 7B68     		ldr	r3, [r7, #4]
 4869 0082 6E4A     		ldr	r2, .L252+12
 4870 0084 DA64     		str	r2, [r3, #76]
 4871              	.L241:
2382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     do
2384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (count == 0U)
 4872              		.loc 1 2385 17
 4873 0086 BB69     		ldr	r3, [r7, #24]
 4874              		.loc 1 2385 10
 4875 0088 002B     		cmp	r3, #0
 4876 008a 06D1     		bne	.L239
2386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
 4877              		.loc 1 2387 9
 4878 008c 7B68     		ldr	r3, [r7, #4]
 4879 008e 1B6E     		ldr	r3, [r3, #96]
 4880 0090 43F04002 		orr	r2, r3, #64
 4881 0094 7B68     		ldr	r3, [r7, #4]
 4882 0096 1A66     		str	r2, [r3, #96]
2388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 4883              		.loc 1 2388 9
 4884 0098 08E0     		b	.L240
 4885              	.L239:
2389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       count--;
 4886              		.loc 1 2390 12
 4887 009a BB69     		ldr	r3, [r7, #24]
 4888 009c 013B     		subs	r3, r3, #1
 4889 009e BB61     		str	r3, [r7, #24]
2391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 4890              		.loc 1 2391 18
 4891 00a0 7B68     		ldr	r3, [r7, #4]
 4892 00a2 93F85D30 		ldrb	r3, [r3, #93]
 4893 00a6 DBB2     		uxtb	r3, r3
 4894              		.loc 1 2391 26
 4895 00a8 072B     		cmp	r3, #7
 4896 00aa ECD1     		bne	.L241
 4897              	.L240:
2392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Timeout Counter */
2393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     count = resetcount;
 4898              		.loc 1 2393 11
 4899 00ac 7B69     		ldr	r3, [r7, #20]
 4900 00ae BB61     		str	r3, [r7, #24]
 4901              	.L238:
2394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable the SPI DMA Tx request if enabled */
2397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
 4902              		.loc 1 2397 7
 4903 00b0 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccC16sX6.s 			page 129


 4904 00b2 1B68     		ldr	r3, [r3]
 4905 00b4 5B68     		ldr	r3, [r3, #4]
 4906 00b6 03F00203 		and	r3, r3, #2
 4907              		.loc 1 2397 6
 4908 00ba 022B     		cmp	r3, #2
 4909 00bc 41D1     		bne	.L242
2398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Abort the SPI DMA Tx Stream/Channel : use blocking DMA Abort API (no callback) */
2400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->hdmatx != NULL)
 4910              		.loc 1 2400 13
 4911 00be 7B68     		ldr	r3, [r7, #4]
 4912 00c0 5B6D     		ldr	r3, [r3, #84]
 4913              		.loc 1 2400 8
 4914 00c2 002B     		cmp	r3, #0
 4915 00c4 3DD0     		beq	.L242
2401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Set the SPI DMA Abort callback :
2403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       will lead to call HAL_SPI_AbortCpltCallback() at end of DMA abort procedure */
2404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = NULL;
 4916              		.loc 1 2404 11
 4917 00c6 7B68     		ldr	r3, [r7, #4]
 4918 00c8 5B6D     		ldr	r3, [r3, #84]
 4919              		.loc 1 2404 39
 4920 00ca 0022     		movs	r2, #0
 4921 00cc 9A63     		str	r2, [r3, #56]
2405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Abort DMA Tx Handle linked to SPI Peripheral */
2407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (HAL_DMA_Abort(hspi->hdmatx) != HAL_OK)
 4922              		.loc 1 2407 11
 4923 00ce 7B68     		ldr	r3, [r7, #4]
 4924 00d0 5B6D     		ldr	r3, [r3, #84]
 4925 00d2 1846     		mov	r0, r3
 4926 00d4 FFF7FEFF 		bl	HAL_DMA_Abort
 4927 00d8 0346     		mov	r3, r0
 4928              		.loc 1 2407 10 discriminator 1
 4929 00da 002B     		cmp	r3, #0
 4930 00dc 02D0     		beq	.L243
2408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 4931              		.loc 1 2409 25
 4932 00de 7B68     		ldr	r3, [r7, #4]
 4933 00e0 4022     		movs	r2, #64
 4934 00e2 1A66     		str	r2, [r3, #96]
 4935              	.L243:
2410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Disable Tx DMA Request */
2413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXDMAEN));
 4936              		.loc 1 2413 7
 4937 00e4 7B68     		ldr	r3, [r7, #4]
 4938 00e6 1B68     		ldr	r3, [r3]
 4939 00e8 5A68     		ldr	r2, [r3, #4]
 4940 00ea 7B68     		ldr	r3, [r7, #4]
 4941 00ec 1B68     		ldr	r3, [r3]
 4942 00ee 22F00202 		bic	r2, r2, #2
 4943 00f2 5A60     		str	r2, [r3, #4]
2414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
ARM GAS  /tmp/ccC16sX6.s 			page 130


2415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) != HAL_OK)
 4944              		.loc 1 2415 11
 4945 00f4 FFF7FEFF 		bl	HAL_GetTick
 4946 00f8 0346     		mov	r3, r0
 4947              		.loc 1 2415 11 is_stmt 0 discriminator 1
 4948 00fa 1A46     		mov	r2, r3
 4949 00fc 6421     		movs	r1, #100
 4950 00fe 7868     		ldr	r0, [r7, #4]
 4951 0100 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 4952 0104 0346     		mov	r3, r0
 4953              		.loc 1 2415 10 is_stmt 1 discriminator 2
 4954 0106 002B     		cmp	r3, #0
 4955 0108 02D0     		beq	.L244
2416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 4956              		.loc 1 2417 25
 4957 010a 7B68     		ldr	r3, [r7, #4]
 4958 010c 4022     		movs	r2, #64
 4959 010e 1A66     		str	r2, [r3, #96]
 4960              	.L244:
2418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Disable SPI Peripheral */
2421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_DISABLE(hspi);
 4961              		.loc 1 2421 7
 4962 0110 7B68     		ldr	r3, [r7, #4]
 4963 0112 1B68     		ldr	r3, [r3]
 4964 0114 1A68     		ldr	r2, [r3]
 4965 0116 7B68     		ldr	r3, [r7, #4]
 4966 0118 1B68     		ldr	r3, [r3]
 4967 011a 22F04002 		bic	r2, r2, #64
 4968 011e 1A60     		str	r2, [r3]
2422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Empty the FRLVL fifo */
2424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT,
 4969              		.loc 1 2424 11
 4970 0120 FFF7FEFF 		bl	HAL_GetTick
 4971 0124 0346     		mov	r3, r0
 4972              		.loc 1 2424 11 is_stmt 0 discriminator 1
 4973 0126 0093     		str	r3, [sp]
 4974 0128 6423     		movs	r3, #100
 4975 012a 0022     		movs	r2, #0
 4976 012c 4FF4C061 		mov	r1, #1536
 4977 0130 7868     		ldr	r0, [r7, #4]
 4978 0132 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 4979 0136 0346     		mov	r3, r0
 4980              		.loc 1 2424 10 is_stmt 1 discriminator 2
 4981 0138 002B     		cmp	r3, #0
 4982 013a 02D0     		beq	.L242
2425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                         HAL_GetTick()) != HAL_OK)
2426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 4983              		.loc 1 2427 25
 4984 013c 7B68     		ldr	r3, [r7, #4]
 4985 013e 4022     		movs	r2, #64
 4986 0140 1A66     		str	r2, [r3, #96]
 4987              	.L242:
ARM GAS  /tmp/ccC16sX6.s 			page 131


2428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable the SPI DMA Rx request if enabled */
2433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
 4988              		.loc 1 2433 7
 4989 0142 7B68     		ldr	r3, [r7, #4]
 4990 0144 1B68     		ldr	r3, [r3]
 4991 0146 5B68     		ldr	r3, [r3, #4]
 4992 0148 03F00103 		and	r3, r3, #1
 4993              		.loc 1 2433 6
 4994 014c 012B     		cmp	r3, #1
 4995 014e 43D1     		bne	.L245
2434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Abort the SPI DMA Rx Stream/Channel : use blocking DMA Abort API (no callback) */
2436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->hdmarx != NULL)
 4996              		.loc 1 2436 13
 4997 0150 7B68     		ldr	r3, [r7, #4]
 4998 0152 9B6D     		ldr	r3, [r3, #88]
 4999              		.loc 1 2436 8
 5000 0154 002B     		cmp	r3, #0
 5001 0156 3FD0     		beq	.L245
2437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Set the SPI DMA Abort callback :
2439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       will lead to call HAL_SPI_AbortCpltCallback() at end of DMA abort procedure */
2440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = NULL;
 5002              		.loc 1 2440 11
 5003 0158 7B68     		ldr	r3, [r7, #4]
 5004 015a 9B6D     		ldr	r3, [r3, #88]
 5005              		.loc 1 2440 39
 5006 015c 0022     		movs	r2, #0
 5007 015e 9A63     		str	r2, [r3, #56]
2441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Abort DMA Rx Handle linked to SPI Peripheral */
2443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (HAL_DMA_Abort(hspi->hdmarx) != HAL_OK)
 5008              		.loc 1 2443 11
 5009 0160 7B68     		ldr	r3, [r7, #4]
 5010 0162 9B6D     		ldr	r3, [r3, #88]
 5011 0164 1846     		mov	r0, r3
 5012 0166 FFF7FEFF 		bl	HAL_DMA_Abort
 5013 016a 0346     		mov	r3, r0
 5014              		.loc 1 2443 10 discriminator 1
 5015 016c 002B     		cmp	r3, #0
 5016 016e 02D0     		beq	.L246
2444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 5017              		.loc 1 2445 25
 5018 0170 7B68     		ldr	r3, [r7, #4]
 5019 0172 4022     		movs	r2, #64
 5020 0174 1A66     		str	r2, [r3, #96]
 5021              	.L246:
2446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Disable peripheral */
2449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_DISABLE(hspi);
 5022              		.loc 1 2449 7
ARM GAS  /tmp/ccC16sX6.s 			page 132


 5023 0176 7B68     		ldr	r3, [r7, #4]
 5024 0178 1B68     		ldr	r3, [r3]
 5025 017a 1A68     		ldr	r2, [r3]
 5026 017c 7B68     		ldr	r3, [r7, #4]
 5027 017e 1B68     		ldr	r3, [r3]
 5028 0180 22F04002 		bic	r2, r2, #64
 5029 0184 1A60     		str	r2, [r3]
2450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Control the BSY flag */
2452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, SPI_DEFAULT_TIMEOUT, HAL_GetTick
 5030              		.loc 1 2452 11
 5031 0186 FFF7FEFF 		bl	HAL_GetTick
 5032 018a 0346     		mov	r3, r0
 5033              		.loc 1 2452 11 is_stmt 0 discriminator 1
 5034 018c 0093     		str	r3, [sp]
 5035 018e 6423     		movs	r3, #100
 5036 0190 0022     		movs	r2, #0
 5037 0192 8021     		movs	r1, #128
 5038 0194 7868     		ldr	r0, [r7, #4]
 5039 0196 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 5040 019a 0346     		mov	r3, r0
 5041              		.loc 1 2452 10 is_stmt 1 discriminator 2
 5042 019c 002B     		cmp	r3, #0
 5043 019e 02D0     		beq	.L247
2453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 5044              		.loc 1 2454 25
 5045 01a0 7B68     		ldr	r3, [r7, #4]
 5046 01a2 4022     		movs	r2, #64
 5047 01a4 1A66     		str	r2, [r3, #96]
 5048              	.L247:
2455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Empty the FRLVL fifo */
2458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT,
 5049              		.loc 1 2458 11
 5050 01a6 FFF7FEFF 		bl	HAL_GetTick
 5051 01aa 0346     		mov	r3, r0
 5052              		.loc 1 2458 11 is_stmt 0 discriminator 1
 5053 01ac 0093     		str	r3, [sp]
 5054 01ae 6423     		movs	r3, #100
 5055 01b0 0022     		movs	r2, #0
 5056 01b2 4FF4C061 		mov	r1, #1536
 5057 01b6 7868     		ldr	r0, [r7, #4]
 5058 01b8 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 5059 01bc 0346     		mov	r3, r0
 5060              		.loc 1 2458 10 is_stmt 1 discriminator 2
 5061 01be 002B     		cmp	r3, #0
 5062 01c0 02D0     		beq	.L248
2459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                         HAL_GetTick()) != HAL_OK)
2460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 5063              		.loc 1 2461 25
 5064 01c2 7B68     		ldr	r3, [r7, #4]
 5065 01c4 4022     		movs	r2, #64
 5066 01c6 1A66     		str	r2, [r3, #96]
 5067              	.L248:
ARM GAS  /tmp/ccC16sX6.s 			page 133


2462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Disable Rx DMA Request */
2465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_RXDMAEN));
 5068              		.loc 1 2465 7
 5069 01c8 7B68     		ldr	r3, [r7, #4]
 5070 01ca 1B68     		ldr	r3, [r3]
 5071 01cc 5A68     		ldr	r2, [r3, #4]
 5072 01ce 7B68     		ldr	r3, [r7, #4]
 5073 01d0 1B68     		ldr	r3, [r3]
 5074 01d2 22F00102 		bic	r2, r2, #1
 5075 01d6 5A60     		str	r2, [r3, #4]
 5076              	.L245:
2466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Reset Tx and Rx transfer counters */
2469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 5077              		.loc 1 2469 21
 5078 01d8 7B68     		ldr	r3, [r7, #4]
 5079 01da 0022     		movs	r2, #0
 5080 01dc A3F84620 		strh	r2, [r3, #70]	@ movhi
2470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 5081              		.loc 1 2470 21
 5082 01e0 7B68     		ldr	r3, [r7, #4]
 5083 01e2 0022     		movs	r2, #0
 5084 01e4 DA87     		strh	r2, [r3, #62]	@ movhi
2471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check error during Abort procedure */
2473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->ErrorCode == HAL_SPI_ERROR_ABORT)
 5085              		.loc 1 2473 11
 5086 01e6 7B68     		ldr	r3, [r7, #4]
 5087 01e8 1B6E     		ldr	r3, [r3, #96]
 5088              		.loc 1 2473 6
 5089 01ea 402B     		cmp	r3, #64
 5090 01ec 02D1     		bne	.L249
2474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* return HAL_Error in case of error during Abort procedure */
2476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 5091              		.loc 1 2476 15
 5092 01ee 0123     		movs	r3, #1
 5093 01f0 FB77     		strb	r3, [r7, #31]
 5094 01f2 02E0     		b	.L250
 5095              	.L249:
2477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
2479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset errorCode */
2481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 5096              		.loc 1 2481 21
 5097 01f4 7B68     		ldr	r3, [r7, #4]
 5098 01f6 0022     		movs	r2, #0
 5099 01f8 1A66     		str	r2, [r3, #96]
 5100              	.L250:
 5101              	.LBB3:
2482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
ARM GAS  /tmp/ccC16sX6.s 			page 134


2485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
 5102              		.loc 1 2485 3
 5103 01fa 0023     		movs	r3, #0
 5104 01fc 3B61     		str	r3, [r7, #16]
 5105 01fe 7B68     		ldr	r3, [r7, #4]
 5106 0200 1B68     		ldr	r3, [r3]
 5107 0202 DB68     		ldr	r3, [r3, #12]
 5108 0204 3B61     		str	r3, [r7, #16]
 5109 0206 7B68     		ldr	r3, [r7, #4]
 5110 0208 1B68     		ldr	r3, [r3]
 5111 020a 9B68     		ldr	r3, [r3, #8]
 5112 020c 3B61     		str	r3, [r7, #16]
 5113 020e 3B69     		ldr	r3, [r7, #16]
 5114              	.LBE3:
 5115              	.LBB4:
2486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 5116              		.loc 1 2486 3
 5117 0210 0023     		movs	r3, #0
 5118 0212 FB60     		str	r3, [r7, #12]
 5119 0214 7B68     		ldr	r3, [r7, #4]
 5120 0216 1B68     		ldr	r3, [r3]
 5121 0218 9B68     		ldr	r3, [r3, #8]
 5122 021a FB60     		str	r3, [r7, #12]
 5123 021c FB68     		ldr	r3, [r7, #12]
 5124              	.LBE4:
2487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Restore hspi->state to ready */
2489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 5125              		.loc 1 2489 15
 5126 021e 7B68     		ldr	r3, [r7, #4]
 5127 0220 0122     		movs	r2, #1
 5128 0222 83F85D20 		strb	r2, [r3, #93]
2490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 5129              		.loc 1 2491 10
 5130 0226 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
2492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 5131              		.loc 1 2492 1
 5132 0228 1846     		mov	r0, r3
 5133 022a 2037     		adds	r7, r7, #32
 5134              		.cfi_def_cfa_offset 8
 5135 022c BD46     		mov	sp, r7
 5136              		.cfi_def_cfa_register 13
 5137              		@ sp needed
 5138 022e 80BD     		pop	{r7, pc}
 5139              	.L253:
 5140              		.align	2
 5141              	.L252:
 5142 0230 00000000 		.word	SystemCoreClock
 5143 0234 F1197605 		.word	91625969
 5144 0238 00000000 		.word	SPI_AbortTx_ISR
 5145 023c 00000000 		.word	SPI_AbortRx_ISR
 5146              		.cfi_endproc
 5147              	.LFE458:
 5149              		.section	.text.HAL_SPI_Abort_IT,"ax",%progbits
 5150              		.align	1
 5151              		.global	HAL_SPI_Abort_IT
ARM GAS  /tmp/ccC16sX6.s 			page 135


 5152              		.syntax unified
 5153              		.thumb
 5154              		.thumb_func
 5156              	HAL_SPI_Abort_IT:
 5157              	.LFB459:
2493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Abort ongoing transfer (Interrupt mode).
2496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi SPI handle.
2497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @note   This procedure could be used for aborting any ongoing transfer (Tx and Rx),
2498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         started in Interrupt or DMA mode.
2499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         This procedure performs following operations :
2500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           - Disable SPI Interrupts (depending of transfer direction)
2501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           - Disable the DMA transfer in the peripheral register (if enabled)
2502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           - Abort DMA transfer by calling HAL_DMA_Abort_IT (in case of transfer in DMA mode)
2503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           - Set handle State to READY
2504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *           - At abort completion, call user abort complete callback
2505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @note   This procedure is executed in Interrupt mode, meaning that abort procedure could be
2506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         considered as completed only when user abort complete callback is executed (not when ex
2507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
2508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Abort_IT(SPI_HandleTypeDef *hspi)
2510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 5158              		.loc 1 2510 1
 5159              		.cfi_startproc
 5160              		@ args = 0, pretend = 0, frame = 32
 5161              		@ frame_needed = 1, uses_anonymous_args = 0
 5162 0000 80B5     		push	{r7, lr}
 5163              		.cfi_def_cfa_offset 8
 5164              		.cfi_offset 7, -8
 5165              		.cfi_offset 14, -4
 5166 0002 88B0     		sub	sp, sp, #32
 5167              		.cfi_def_cfa_offset 40
 5168 0004 00AF     		add	r7, sp, #0
 5169              		.cfi_def_cfa_register 7
 5170 0006 7860     		str	r0, [r7, #4]
2511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
2512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t abortcplt ;
2513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t count;
2514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t resetcount;
2515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Initialized local variable  */
2517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   errorcode = HAL_OK;
 5171              		.loc 1 2517 13
 5172 0008 0023     		movs	r3, #0
 5173 000a FB77     		strb	r3, [r7, #31]
2518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   abortcplt = 1U;
 5174              		.loc 1 2518 13
 5175 000c 0123     		movs	r3, #1
 5176 000e BB61     		str	r3, [r7, #24]
2519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 5177              		.loc 1 2519 61
 5178 0010 724B     		ldr	r3, .L275
 5179 0012 1B68     		ldr	r3, [r3]
 5180 0014 724A     		ldr	r2, .L275+4
 5181 0016 A2FB0323 		umull	r2, r3, r2, r3
 5182 001a 5B0A     		lsrs	r3, r3, #9
ARM GAS  /tmp/ccC16sX6.s 			page 136


 5183              		.loc 1 2519 36
 5184 001c 6422     		movs	r2, #100
 5185 001e 02FB03F3 		mul	r3, r2, r3
 5186              		.loc 1 2519 14
 5187 0022 3B61     		str	r3, [r7, #16]
2520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   count = resetcount;
 5188              		.loc 1 2520 9
 5189 0024 3B69     		ldr	r3, [r7, #16]
 5190 0026 7B61     		str	r3, [r7, #20]
2521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Clear ERRIE interrupt to avoid error interrupts generation during Abort procedure */
2523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
 5191              		.loc 1 2523 3
 5192 0028 7B68     		ldr	r3, [r7, #4]
 5193 002a 1B68     		ldr	r3, [r3]
 5194 002c 5A68     		ldr	r2, [r3, #4]
 5195 002e 7B68     		ldr	r3, [r7, #4]
 5196 0030 1B68     		ldr	r3, [r3]
 5197 0032 22F02002 		bic	r2, r2, #32
 5198 0036 5A60     		str	r2, [r3, #4]
2524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Change Rx and Tx Irq Handler to Disable TXEIE, RXNEIE and ERRIE interrupts */
2526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXEIE))
 5199              		.loc 1 2526 7
 5200 0038 7B68     		ldr	r3, [r7, #4]
 5201 003a 1B68     		ldr	r3, [r3]
 5202 003c 5B68     		ldr	r3, [r3, #4]
 5203 003e 03F08003 		and	r3, r3, #128
 5204              		.loc 1 2526 6
 5205 0042 802B     		cmp	r3, #128
 5206 0044 17D1     		bne	.L255
2527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxISR = SPI_AbortTx_ISR;
 5207              		.loc 1 2528 17
 5208 0046 7B68     		ldr	r3, [r7, #4]
 5209 0048 664A     		ldr	r2, .L275+8
 5210 004a 1A65     		str	r2, [r3, #80]
 5211              	.L258:
2529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     do
2531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (count == 0U)
 5212              		.loc 1 2532 17
 5213 004c 7B69     		ldr	r3, [r7, #20]
 5214              		.loc 1 2532 10
 5215 004e 002B     		cmp	r3, #0
 5216 0050 06D1     		bne	.L256
2533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
 5217              		.loc 1 2534 9
 5218 0052 7B68     		ldr	r3, [r7, #4]
 5219 0054 1B6E     		ldr	r3, [r3, #96]
 5220 0056 43F04002 		orr	r2, r3, #64
 5221 005a 7B68     		ldr	r3, [r7, #4]
 5222 005c 1A66     		str	r2, [r3, #96]
2535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 5223              		.loc 1 2535 9
ARM GAS  /tmp/ccC16sX6.s 			page 137


 5224 005e 08E0     		b	.L257
 5225              	.L256:
2536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       count--;
 5226              		.loc 1 2537 12
 5227 0060 7B69     		ldr	r3, [r7, #20]
 5228 0062 013B     		subs	r3, r3, #1
 5229 0064 7B61     		str	r3, [r7, #20]
2538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 5230              		.loc 1 2538 18
 5231 0066 7B68     		ldr	r3, [r7, #4]
 5232 0068 93F85D30 		ldrb	r3, [r3, #93]
 5233 006c DBB2     		uxtb	r3, r3
 5234              		.loc 1 2538 26
 5235 006e 072B     		cmp	r3, #7
 5236 0070 ECD1     		bne	.L258
 5237              	.L257:
2539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Timeout Counter */
2540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     count = resetcount;
 5238              		.loc 1 2540 11
 5239 0072 3B69     		ldr	r3, [r7, #16]
 5240 0074 7B61     		str	r3, [r7, #20]
 5241              	.L255:
2541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE))
 5242              		.loc 1 2543 7
 5243 0076 7B68     		ldr	r3, [r7, #4]
 5244 0078 1B68     		ldr	r3, [r3]
 5245 007a 5B68     		ldr	r3, [r3, #4]
 5246 007c 03F04003 		and	r3, r3, #64
 5247              		.loc 1 2543 6
 5248 0080 402B     		cmp	r3, #64
 5249 0082 17D1     		bne	.L259
2544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxISR = SPI_AbortRx_ISR;
 5250              		.loc 1 2545 17
 5251 0084 7B68     		ldr	r3, [r7, #4]
 5252 0086 584A     		ldr	r2, .L275+12
 5253 0088 DA64     		str	r2, [r3, #76]
 5254              	.L262:
2546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     do
2548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (count == 0U)
 5255              		.loc 1 2549 17
 5256 008a 7B69     		ldr	r3, [r7, #20]
 5257              		.loc 1 2549 10
 5258 008c 002B     		cmp	r3, #0
 5259 008e 06D1     		bne	.L260
2550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
 5260              		.loc 1 2551 9
 5261 0090 7B68     		ldr	r3, [r7, #4]
 5262 0092 1B6E     		ldr	r3, [r3, #96]
 5263 0094 43F04002 		orr	r2, r3, #64
 5264 0098 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccC16sX6.s 			page 138


 5265 009a 1A66     		str	r2, [r3, #96]
2552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 5266              		.loc 1 2552 9
 5267 009c 08E0     		b	.L261
 5268              	.L260:
2553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       count--;
 5269              		.loc 1 2554 12
 5270 009e 7B69     		ldr	r3, [r7, #20]
 5271 00a0 013B     		subs	r3, r3, #1
 5272 00a2 7B61     		str	r3, [r7, #20]
2555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 5273              		.loc 1 2555 18
 5274 00a4 7B68     		ldr	r3, [r7, #4]
 5275 00a6 93F85D30 		ldrb	r3, [r3, #93]
 5276 00aa DBB2     		uxtb	r3, r3
 5277              		.loc 1 2555 26
 5278 00ac 072B     		cmp	r3, #7
 5279 00ae ECD1     		bne	.L262
 5280              	.L261:
2556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Timeout Counter */
2557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     count = resetcount;
 5281              		.loc 1 2557 11
 5282 00b0 3B69     		ldr	r3, [r7, #16]
 5283 00b2 7B61     		str	r3, [r7, #20]
 5284              	.L259:
2558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* If DMA Tx and/or DMA Rx Handles are associated to SPI Handle, DMA Abort complete callbacks sho
2561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      before any call to DMA Abort functions */
2562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* DMA Tx Handle is valid */
2563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->hdmatx != NULL)
 5285              		.loc 1 2563 11
 5286 00b4 7B68     		ldr	r3, [r7, #4]
 5287 00b6 5B6D     		ldr	r3, [r3, #84]
 5288              		.loc 1 2563 6
 5289 00b8 002B     		cmp	r3, #0
 5290 00ba 0FD0     		beq	.L263
2564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set DMA Abort Complete callback if UART DMA Tx request if enabled.
2566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        Otherwise, set it to NULL */
2567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
 5291              		.loc 1 2567 9
 5292 00bc 7B68     		ldr	r3, [r7, #4]
 5293 00be 1B68     		ldr	r3, [r3]
 5294 00c0 5B68     		ldr	r3, [r3, #4]
 5295 00c2 03F00203 		and	r3, r3, #2
 5296              		.loc 1 2567 8
 5297 00c6 022B     		cmp	r3, #2
 5298 00c8 04D1     		bne	.L264
2568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = SPI_DMATxAbortCallback;
 5299              		.loc 1 2569 11
 5300 00ca 7B68     		ldr	r3, [r7, #4]
 5301 00cc 5B6D     		ldr	r3, [r3, #84]
 5302              		.loc 1 2569 39
 5303 00ce 474A     		ldr	r2, .L275+16
ARM GAS  /tmp/ccC16sX6.s 			page 139


 5304 00d0 9A63     		str	r2, [r3, #56]
 5305 00d2 03E0     		b	.L263
 5306              	.L264:
2570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
2572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = NULL;
 5307              		.loc 1 2573 11
 5308 00d4 7B68     		ldr	r3, [r7, #4]
 5309 00d6 5B6D     		ldr	r3, [r3, #84]
 5310              		.loc 1 2573 39
 5311 00d8 0022     		movs	r2, #0
 5312 00da 9A63     		str	r2, [r3, #56]
 5313              	.L263:
2574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* DMA Rx Handle is valid */
2577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->hdmarx != NULL)
 5314              		.loc 1 2577 11
 5315 00dc 7B68     		ldr	r3, [r7, #4]
 5316 00de 9B6D     		ldr	r3, [r3, #88]
 5317              		.loc 1 2577 6
 5318 00e0 002B     		cmp	r3, #0
 5319 00e2 0FD0     		beq	.L265
2578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Set DMA Abort Complete callback if UART DMA Rx request if enabled.
2580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        Otherwise, set it to NULL */
2581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
 5320              		.loc 1 2581 9
 5321 00e4 7B68     		ldr	r3, [r7, #4]
 5322 00e6 1B68     		ldr	r3, [r3]
 5323 00e8 5B68     		ldr	r3, [r3, #4]
 5324 00ea 03F00103 		and	r3, r3, #1
 5325              		.loc 1 2581 8
 5326 00ee 012B     		cmp	r3, #1
 5327 00f0 04D1     		bne	.L266
2582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = SPI_DMARxAbortCallback;
 5328              		.loc 1 2583 11
 5329 00f2 7B68     		ldr	r3, [r7, #4]
 5330 00f4 9B6D     		ldr	r3, [r3, #88]
 5331              		.loc 1 2583 39
 5332 00f6 3E4A     		ldr	r2, .L275+20
 5333 00f8 9A63     		str	r2, [r3, #56]
 5334 00fa 03E0     		b	.L265
 5335              	.L266:
2584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
2586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = NULL;
 5336              		.loc 1 2587 11
 5337 00fc 7B68     		ldr	r3, [r7, #4]
 5338 00fe 9B6D     		ldr	r3, [r3, #88]
 5339              		.loc 1 2587 39
 5340 0100 0022     		movs	r2, #0
 5341 0102 9A63     		str	r2, [r3, #56]
 5342              	.L265:
ARM GAS  /tmp/ccC16sX6.s 			page 140


2588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable the SPI DMA Tx request if enabled */
2592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
 5343              		.loc 1 2592 7
 5344 0104 7B68     		ldr	r3, [r7, #4]
 5345 0106 1B68     		ldr	r3, [r3]
 5346 0108 5B68     		ldr	r3, [r3, #4]
 5347 010a 03F00203 		and	r3, r3, #2
 5348              		.loc 1 2592 6
 5349 010e 022B     		cmp	r3, #2
 5350 0110 15D1     		bne	.L267
2593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Abort the SPI DMA Tx Stream/Channel */
2595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->hdmatx != NULL)
 5351              		.loc 1 2595 13
 5352 0112 7B68     		ldr	r3, [r7, #4]
 5353 0114 5B6D     		ldr	r3, [r3, #84]
 5354              		.loc 1 2595 8
 5355 0116 002B     		cmp	r3, #0
 5356 0118 11D0     		beq	.L267
2596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Abort DMA Tx Handle linked to SPI Peripheral */
2598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (HAL_DMA_Abort_IT(hspi->hdmatx) != HAL_OK)
 5357              		.loc 1 2598 11
 5358 011a 7B68     		ldr	r3, [r7, #4]
 5359 011c 5B6D     		ldr	r3, [r3, #84]
 5360 011e 1846     		mov	r0, r3
 5361 0120 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 5362 0124 0346     		mov	r3, r0
 5363              		.loc 1 2598 10 discriminator 1
 5364 0126 002B     		cmp	r3, #0
 5365 0128 07D0     		beq	.L268
2599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->hdmatx->XferAbortCallback = NULL;
 5366              		.loc 1 2600 13
 5367 012a 7B68     		ldr	r3, [r7, #4]
 5368 012c 5B6D     		ldr	r3, [r3, #84]
 5369              		.loc 1 2600 41
 5370 012e 0022     		movs	r2, #0
 5371 0130 9A63     		str	r2, [r3, #56]
2601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 5372              		.loc 1 2601 25
 5373 0132 7B68     		ldr	r3, [r7, #4]
 5374 0134 4022     		movs	r2, #64
 5375 0136 1A66     		str	r2, [r3, #96]
 5376 0138 01E0     		b	.L267
 5377              	.L268:
2602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
2604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         abortcplt = 0U;
 5378              		.loc 1 2605 19
 5379 013a 0023     		movs	r3, #0
 5380 013c BB61     		str	r3, [r7, #24]
 5381              	.L267:
ARM GAS  /tmp/ccC16sX6.s 			page 141


2606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable the SPI DMA Rx request if enabled */
2610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
 5382              		.loc 1 2610 7
 5383 013e 7B68     		ldr	r3, [r7, #4]
 5384 0140 1B68     		ldr	r3, [r3]
 5385 0142 5B68     		ldr	r3, [r3, #4]
 5386 0144 03F00103 		and	r3, r3, #1
 5387              		.loc 1 2610 6
 5388 0148 012B     		cmp	r3, #1
 5389 014a 15D1     		bne	.L269
2611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Abort the SPI DMA Rx Stream/Channel */
2613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->hdmarx != NULL)
 5390              		.loc 1 2613 13
 5391 014c 7B68     		ldr	r3, [r7, #4]
 5392 014e 9B6D     		ldr	r3, [r3, #88]
 5393              		.loc 1 2613 8
 5394 0150 002B     		cmp	r3, #0
 5395 0152 11D0     		beq	.L269
2614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Abort DMA Rx Handle linked to SPI Peripheral */
2616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (HAL_DMA_Abort_IT(hspi->hdmarx) !=  HAL_OK)
 5396              		.loc 1 2616 11
 5397 0154 7B68     		ldr	r3, [r7, #4]
 5398 0156 9B6D     		ldr	r3, [r3, #88]
 5399 0158 1846     		mov	r0, r3
 5400 015a FFF7FEFF 		bl	HAL_DMA_Abort_IT
 5401 015e 0346     		mov	r3, r0
 5402              		.loc 1 2616 10 discriminator 1
 5403 0160 002B     		cmp	r3, #0
 5404 0162 07D0     		beq	.L270
2617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->hdmarx->XferAbortCallback = NULL;
 5405              		.loc 1 2618 13
 5406 0164 7B68     		ldr	r3, [r7, #4]
 5407 0166 9B6D     		ldr	r3, [r3, #88]
 5408              		.loc 1 2618 41
 5409 0168 0022     		movs	r2, #0
 5410 016a 9A63     		str	r2, [r3, #56]
2619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 5411              		.loc 1 2619 25
 5412 016c 7B68     		ldr	r3, [r7, #4]
 5413 016e 4022     		movs	r2, #64
 5414 0170 1A66     		str	r2, [r3, #96]
 5415 0172 01E0     		b	.L269
 5416              	.L270:
2620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
2622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         abortcplt = 0U;
 5417              		.loc 1 2623 19
 5418 0174 0023     		movs	r3, #0
 5419 0176 BB61     		str	r3, [r7, #24]
 5420              	.L269:
ARM GAS  /tmp/ccC16sX6.s 			page 142


2624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (abortcplt == 1U)
 5421              		.loc 1 2628 6
 5422 0178 BB69     		ldr	r3, [r7, #24]
 5423 017a 012B     		cmp	r3, #1
 5424 017c 29D1     		bne	.L271
2629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset Tx and Rx transfer counters */
2631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxXferCount = 0U;
 5425              		.loc 1 2631 23
 5426 017e 7B68     		ldr	r3, [r7, #4]
 5427 0180 0022     		movs	r2, #0
 5428 0182 A3F84620 		strh	r2, [r3, #70]	@ movhi
2632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxXferCount = 0U;
 5429              		.loc 1 2632 23
 5430 0186 7B68     		ldr	r3, [r7, #4]
 5431 0188 0022     		movs	r2, #0
 5432 018a DA87     		strh	r2, [r3, #62]	@ movhi
2633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Check error during Abort procedure */
2635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->ErrorCode == HAL_SPI_ERROR_ABORT)
 5433              		.loc 1 2635 13
 5434 018c 7B68     		ldr	r3, [r7, #4]
 5435 018e 1B6E     		ldr	r3, [r3, #96]
 5436              		.loc 1 2635 8
 5437 0190 402B     		cmp	r3, #64
 5438 0192 02D1     		bne	.L272
2636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* return HAL_Error in case of error during Abort procedure */
2638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       errorcode = HAL_ERROR;
 5439              		.loc 1 2638 17
 5440 0194 0123     		movs	r3, #1
 5441 0196 FB77     		strb	r3, [r7, #31]
 5442 0198 02E0     		b	.L273
 5443              	.L272:
2639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
2641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Reset errorCode */
2643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 5444              		.loc 1 2643 23
 5445 019a 7B68     		ldr	r3, [r7, #4]
 5446 019c 0022     		movs	r2, #0
 5447 019e 1A66     		str	r2, [r3, #96]
 5448              	.L273:
 5449              	.LBB5:
2644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Clear the Error flags in the SR register */
2647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
 5450              		.loc 1 2647 5
 5451 01a0 0023     		movs	r3, #0
 5452 01a2 FB60     		str	r3, [r7, #12]
 5453 01a4 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccC16sX6.s 			page 143


 5454 01a6 1B68     		ldr	r3, [r3]
 5455 01a8 DB68     		ldr	r3, [r3, #12]
 5456 01aa FB60     		str	r3, [r7, #12]
 5457 01ac 7B68     		ldr	r3, [r7, #4]
 5458 01ae 1B68     		ldr	r3, [r3]
 5459 01b0 9B68     		ldr	r3, [r3, #8]
 5460 01b2 FB60     		str	r3, [r7, #12]
 5461 01b4 FB68     		ldr	r3, [r7, #12]
 5462              	.LBE5:
 5463              	.LBB6:
2648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_FREFLAG(hspi);
 5464              		.loc 1 2648 5
 5465 01b6 0023     		movs	r3, #0
 5466 01b8 BB60     		str	r3, [r7, #8]
 5467 01ba 7B68     		ldr	r3, [r7, #4]
 5468 01bc 1B68     		ldr	r3, [r3]
 5469 01be 9B68     		ldr	r3, [r3, #8]
 5470 01c0 BB60     		str	r3, [r7, #8]
 5471 01c2 BB68     		ldr	r3, [r7, #8]
 5472              	.LBE6:
2649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Restore hspi->State to Ready */
2651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 5473              		.loc 1 2651 17
 5474 01c4 7B68     		ldr	r3, [r7, #4]
 5475 01c6 0122     		movs	r2, #1
 5476 01c8 83F85D20 		strb	r2, [r3, #93]
2652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* As no DMA to be aborted, call directly user Abort complete callback */
2654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->AbortCpltCallback(hspi);
2656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
2657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     HAL_SPI_AbortCpltCallback(hspi);
 5477              		.loc 1 2657 5
 5478 01cc 7868     		ldr	r0, [r7, #4]
 5479 01ce FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 5480              	.L271:
2658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 5481              		.loc 1 2661 10
 5482 01d2 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
2662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 5483              		.loc 1 2662 1
 5484 01d4 1846     		mov	r0, r3
 5485 01d6 2037     		adds	r7, r7, #32
 5486              		.cfi_def_cfa_offset 8
 5487 01d8 BD46     		mov	sp, r7
 5488              		.cfi_def_cfa_register 13
 5489              		@ sp needed
 5490 01da 80BD     		pop	{r7, pc}
 5491              	.L276:
 5492              		.align	2
 5493              	.L275:
 5494 01dc 00000000 		.word	SystemCoreClock
 5495 01e0 F1197605 		.word	91625969
ARM GAS  /tmp/ccC16sX6.s 			page 144


 5496 01e4 00000000 		.word	SPI_AbortTx_ISR
 5497 01e8 00000000 		.word	SPI_AbortRx_ISR
 5498 01ec 00000000 		.word	SPI_DMATxAbortCallback
 5499 01f0 00000000 		.word	SPI_DMARxAbortCallback
 5500              		.cfi_endproc
 5501              	.LFE459:
 5503              		.section	.text.HAL_SPI_DMAPause,"ax",%progbits
 5504              		.align	1
 5505              		.global	HAL_SPI_DMAPause
 5506              		.syntax unified
 5507              		.thumb
 5508              		.thumb_func
 5510              	HAL_SPI_DMAPause:
 5511              	.LFB460:
2663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Pause the DMA Transfer.
2666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
2669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAPause(SPI_HandleTypeDef *hspi)
2671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 5512              		.loc 1 2671 1
 5513              		.cfi_startproc
 5514              		@ args = 0, pretend = 0, frame = 8
 5515              		@ frame_needed = 1, uses_anonymous_args = 0
 5516              		@ link register save eliminated.
 5517 0000 80B4     		push	{r7}
 5518              		.cfi_def_cfa_offset 4
 5519              		.cfi_offset 7, -4
 5520 0002 83B0     		sub	sp, sp, #12
 5521              		.cfi_def_cfa_offset 16
 5522 0004 00AF     		add	r7, sp, #0
 5523              		.cfi_def_cfa_register 7
 5524 0006 7860     		str	r0, [r7, #4]
2672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Locked */
2673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 5525              		.loc 1 2673 3
 5526 0008 7B68     		ldr	r3, [r7, #4]
 5527 000a 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 5528 000e 012B     		cmp	r3, #1
 5529 0010 01D1     		bne	.L278
 5530              		.loc 1 2673 3 is_stmt 0 discriminator 1
 5531 0012 0223     		movs	r3, #2
 5532              		.loc 1 2673 3
 5533 0014 10E0     		b	.L279
 5534              	.L278:
 5535              		.loc 1 2673 3 discriminator 2
 5536 0016 7B68     		ldr	r3, [r7, #4]
 5537 0018 0122     		movs	r2, #1
 5538 001a 83F85C20 		strb	r2, [r3, #92]
2674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable the SPI DMA Tx & Rx requests */
2676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
 5539              		.loc 1 2676 3 is_stmt 1
 5540 001e 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccC16sX6.s 			page 145


 5541 0020 1B68     		ldr	r3, [r3]
 5542 0022 5A68     		ldr	r2, [r3, #4]
 5543 0024 7B68     		ldr	r3, [r7, #4]
 5544 0026 1B68     		ldr	r3, [r3]
 5545 0028 22F00302 		bic	r2, r2, #3
 5546 002c 5A60     		str	r2, [r3, #4]
2677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Unlocked */
2679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 5547              		.loc 1 2679 3
 5548 002e 7B68     		ldr	r3, [r7, #4]
 5549 0030 0022     		movs	r2, #0
 5550 0032 83F85C20 		strb	r2, [r3, #92]
2680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
 5551              		.loc 1 2681 10
 5552 0036 0023     		movs	r3, #0
 5553              	.L279:
2682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 5554              		.loc 1 2682 1
 5555 0038 1846     		mov	r0, r3
 5556 003a 0C37     		adds	r7, r7, #12
 5557              		.cfi_def_cfa_offset 4
 5558 003c BD46     		mov	sp, r7
 5559              		.cfi_def_cfa_register 13
 5560              		@ sp needed
 5561 003e 5DF8047B 		ldr	r7, [sp], #4
 5562              		.cfi_restore 7
 5563              		.cfi_def_cfa_offset 0
 5564 0042 7047     		bx	lr
 5565              		.cfi_endproc
 5566              	.LFE460:
 5568              		.section	.text.HAL_SPI_DMAResume,"ax",%progbits
 5569              		.align	1
 5570              		.global	HAL_SPI_DMAResume
 5571              		.syntax unified
 5572              		.thumb
 5573              		.thumb_func
 5575              	HAL_SPI_DMAResume:
 5576              	.LFB461:
2683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Resume the DMA Transfer.
2686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
2689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAResume(SPI_HandleTypeDef *hspi)
2691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 5577              		.loc 1 2691 1
 5578              		.cfi_startproc
 5579              		@ args = 0, pretend = 0, frame = 8
 5580              		@ frame_needed = 1, uses_anonymous_args = 0
 5581              		@ link register save eliminated.
 5582 0000 80B4     		push	{r7}
 5583              		.cfi_def_cfa_offset 4
 5584              		.cfi_offset 7, -4
ARM GAS  /tmp/ccC16sX6.s 			page 146


 5585 0002 83B0     		sub	sp, sp, #12
 5586              		.cfi_def_cfa_offset 16
 5587 0004 00AF     		add	r7, sp, #0
 5588              		.cfi_def_cfa_register 7
 5589 0006 7860     		str	r0, [r7, #4]
2692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Locked */
2693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 5590              		.loc 1 2693 3
 5591 0008 7B68     		ldr	r3, [r7, #4]
 5592 000a 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 5593 000e 012B     		cmp	r3, #1
 5594 0010 01D1     		bne	.L281
 5595              		.loc 1 2693 3 is_stmt 0 discriminator 1
 5596 0012 0223     		movs	r3, #2
 5597              		.loc 1 2693 3
 5598 0014 10E0     		b	.L282
 5599              	.L281:
 5600              		.loc 1 2693 3 discriminator 2
 5601 0016 7B68     		ldr	r3, [r7, #4]
 5602 0018 0122     		movs	r2, #1
 5603 001a 83F85C20 		strb	r2, [r3, #92]
2694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable the SPI DMA Tx & Rx requests */
2696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
 5604              		.loc 1 2696 3 is_stmt 1
 5605 001e 7B68     		ldr	r3, [r7, #4]
 5606 0020 1B68     		ldr	r3, [r3]
 5607 0022 5A68     		ldr	r2, [r3, #4]
 5608 0024 7B68     		ldr	r3, [r7, #4]
 5609 0026 1B68     		ldr	r3, [r3]
 5610 0028 42F00302 		orr	r2, r2, #3
 5611 002c 5A60     		str	r2, [r3, #4]
2697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Process Unlocked */
2699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 5612              		.loc 1 2699 3
 5613 002e 7B68     		ldr	r3, [r7, #4]
 5614 0030 0022     		movs	r2, #0
 5615 0032 83F85C20 		strb	r2, [r3, #92]
2700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
 5616              		.loc 1 2701 10
 5617 0036 0023     		movs	r3, #0
 5618              	.L282:
2702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 5619              		.loc 1 2702 1
 5620 0038 1846     		mov	r0, r3
 5621 003a 0C37     		adds	r7, r7, #12
 5622              		.cfi_def_cfa_offset 4
 5623 003c BD46     		mov	sp, r7
 5624              		.cfi_def_cfa_register 13
 5625              		@ sp needed
 5626 003e 5DF8047B 		ldr	r7, [sp], #4
 5627              		.cfi_restore 7
 5628              		.cfi_def_cfa_offset 0
 5629 0042 7047     		bx	lr
 5630              		.cfi_endproc
ARM GAS  /tmp/ccC16sX6.s 			page 147


 5631              	.LFE461:
 5633              		.section	.text.HAL_SPI_DMAStop,"ax",%progbits
 5634              		.align	1
 5635              		.global	HAL_SPI_DMAStop
 5636              		.syntax unified
 5637              		.thumb
 5638              		.thumb_func
 5640              	HAL_SPI_DMAStop:
 5641              	.LFB462:
2703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Stop the DMA Transfer.
2706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
2709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAStop(SPI_HandleTypeDef *hspi)
2711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 5642              		.loc 1 2711 1
 5643              		.cfi_startproc
 5644              		@ args = 0, pretend = 0, frame = 16
 5645              		@ frame_needed = 1, uses_anonymous_args = 0
 5646 0000 80B5     		push	{r7, lr}
 5647              		.cfi_def_cfa_offset 8
 5648              		.cfi_offset 7, -8
 5649              		.cfi_offset 14, -4
 5650 0002 84B0     		sub	sp, sp, #16
 5651              		.cfi_def_cfa_offset 24
 5652 0004 00AF     		add	r7, sp, #0
 5653              		.cfi_def_cfa_register 7
 5654 0006 7860     		str	r0, [r7, #4]
2712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 5655              		.loc 1 2712 21
 5656 0008 0023     		movs	r3, #0
 5657 000a FB73     		strb	r3, [r7, #15]
2713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* The Lock is not implemented on this API to allow the user application
2714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      to call the HAL SPI API under callbacks HAL_SPI_TxCpltCallback() or HAL_SPI_RxCpltCallback() o
2715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      HAL_SPI_TxRxCpltCallback():
2716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      when calling HAL_DMA_Abort() API the DMA TX/RX Transfer complete interrupt is generated
2717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      and the correspond call back is executed HAL_SPI_TxCpltCallback() or HAL_SPI_RxCpltCallback() 
2718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      HAL_SPI_TxRxCpltCallback()
2719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      */
2720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Abort the SPI DMA tx Stream/Channel  */
2722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->hdmatx != NULL)
 5658              		.loc 1 2722 11
 5659 000c 7B68     		ldr	r3, [r7, #4]
 5660 000e 5B6D     		ldr	r3, [r3, #84]
 5661              		.loc 1 2722 6
 5662 0010 002B     		cmp	r3, #0
 5663 0012 0FD0     		beq	.L284
2723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (HAL_OK != HAL_DMA_Abort(hspi->hdmatx))
 5664              		.loc 1 2724 19
 5665 0014 7B68     		ldr	r3, [r7, #4]
 5666 0016 5B6D     		ldr	r3, [r3, #84]
 5667 0018 1846     		mov	r0, r3
ARM GAS  /tmp/ccC16sX6.s 			page 148


 5668 001a FFF7FEFF 		bl	HAL_DMA_Abort
 5669 001e 0346     		mov	r3, r0
 5670              		.loc 1 2724 8 discriminator 1
 5671 0020 002B     		cmp	r3, #0
 5672 0022 07D0     		beq	.L284
2725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
 5673              		.loc 1 2726 7
 5674 0024 7B68     		ldr	r3, [r7, #4]
 5675 0026 1B6E     		ldr	r3, [r3, #96]
 5676 0028 43F01002 		orr	r2, r3, #16
 5677 002c 7B68     		ldr	r3, [r7, #4]
 5678 002e 1A66     		str	r2, [r3, #96]
2727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       errorcode = HAL_ERROR;
 5679              		.loc 1 2727 17
 5680 0030 0123     		movs	r3, #1
 5681 0032 FB73     		strb	r3, [r7, #15]
 5682              	.L284:
2728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Abort the SPI DMA rx Stream/Channel  */
2731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->hdmarx != NULL)
 5683              		.loc 1 2731 11
 5684 0034 7B68     		ldr	r3, [r7, #4]
 5685 0036 9B6D     		ldr	r3, [r3, #88]
 5686              		.loc 1 2731 6
 5687 0038 002B     		cmp	r3, #0
 5688 003a 0FD0     		beq	.L285
2732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (HAL_OK != HAL_DMA_Abort(hspi->hdmarx))
 5689              		.loc 1 2733 19
 5690 003c 7B68     		ldr	r3, [r7, #4]
 5691 003e 9B6D     		ldr	r3, [r3, #88]
 5692 0040 1846     		mov	r0, r3
 5693 0042 FFF7FEFF 		bl	HAL_DMA_Abort
 5694 0046 0346     		mov	r3, r0
 5695              		.loc 1 2733 8 discriminator 1
 5696 0048 002B     		cmp	r3, #0
 5697 004a 07D0     		beq	.L285
2734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
 5698              		.loc 1 2735 7
 5699 004c 7B68     		ldr	r3, [r7, #4]
 5700 004e 1B6E     		ldr	r3, [r3, #96]
 5701 0050 43F01002 		orr	r2, r3, #16
 5702 0054 7B68     		ldr	r3, [r7, #4]
 5703 0056 1A66     		str	r2, [r3, #96]
2736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       errorcode = HAL_ERROR;
 5704              		.loc 1 2736 17
 5705 0058 0123     		movs	r3, #1
 5706 005a FB73     		strb	r3, [r7, #15]
 5707              	.L285:
2737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable the SPI DMA Tx & Rx requests */
2741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
ARM GAS  /tmp/ccC16sX6.s 			page 149


 5708              		.loc 1 2741 3
 5709 005c 7B68     		ldr	r3, [r7, #4]
 5710 005e 1B68     		ldr	r3, [r3]
 5711 0060 5A68     		ldr	r2, [r3, #4]
 5712 0062 7B68     		ldr	r3, [r7, #4]
 5713 0064 1B68     		ldr	r3, [r3]
 5714 0066 22F00302 		bic	r2, r2, #3
 5715 006a 5A60     		str	r2, [r3, #4]
2742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 5716              		.loc 1 2742 15
 5717 006c 7B68     		ldr	r3, [r7, #4]
 5718 006e 0122     		movs	r2, #1
 5719 0070 83F85D20 		strb	r2, [r3, #93]
2743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return errorcode;
 5720              		.loc 1 2743 10
 5721 0074 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
2744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 5722              		.loc 1 2744 1
 5723 0076 1846     		mov	r0, r3
 5724 0078 1037     		adds	r7, r7, #16
 5725              		.cfi_def_cfa_offset 8
 5726 007a BD46     		mov	sp, r7
 5727              		.cfi_def_cfa_register 13
 5728              		@ sp needed
 5729 007c 80BD     		pop	{r7, pc}
 5730              		.cfi_endproc
 5731              	.LFE462:
 5733              		.section	.text.HAL_SPI_IRQHandler,"ax",%progbits
 5734              		.align	1
 5735              		.global	HAL_SPI_IRQHandler
 5736              		.syntax unified
 5737              		.thumb
 5738              		.thumb_func
 5740              	HAL_SPI_IRQHandler:
 5741              	.LFB463:
2745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle SPI interrupt request.
2748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
2751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** void HAL_SPI_IRQHandler(SPI_HandleTypeDef *hspi)
2753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 5742              		.loc 1 2753 1
 5743              		.cfi_startproc
 5744              		@ args = 0, pretend = 0, frame = 32
 5745              		@ frame_needed = 1, uses_anonymous_args = 0
 5746 0000 80B5     		push	{r7, lr}
 5747              		.cfi_def_cfa_offset 8
 5748              		.cfi_offset 7, -8
 5749              		.cfi_offset 14, -4
 5750 0002 88B0     		sub	sp, sp, #32
 5751              		.cfi_def_cfa_offset 40
 5752 0004 00AF     		add	r7, sp, #0
 5753              		.cfi_def_cfa_register 7
 5754 0006 7860     		str	r0, [r7, #4]
ARM GAS  /tmp/ccC16sX6.s 			page 150


2754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t itsource = hspi->Instance->CR2;
 5755              		.loc 1 2754 27
 5756 0008 7B68     		ldr	r3, [r7, #4]
 5757 000a 1B68     		ldr	r3, [r3]
 5758              		.loc 1 2754 12
 5759 000c 5B68     		ldr	r3, [r3, #4]
 5760 000e FB61     		str	r3, [r7, #28]
2755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t itflag   = hspi->Instance->SR;
 5761              		.loc 1 2755 27
 5762 0010 7B68     		ldr	r3, [r7, #4]
 5763 0012 1B68     		ldr	r3, [r3]
 5764              		.loc 1 2755 12
 5765 0014 9B68     		ldr	r3, [r3, #8]
 5766 0016 BB61     		str	r3, [r7, #24]
2756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* SPI in mode Receiver ----------------------------------------------------*/
2758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((SPI_CHECK_FLAG(itflag, SPI_FLAG_OVR) == RESET) &&
 5767              		.loc 1 2758 8
 5768 0018 BB69     		ldr	r3, [r7, #24]
 5769 001a 9B09     		lsrs	r3, r3, #6
 5770 001c 03F00103 		and	r3, r3, #1
 5771              		.loc 1 2758 6
 5772 0020 002B     		cmp	r3, #0
 5773 0022 0FD1     		bne	.L288
2759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (SPI_CHECK_FLAG(itflag, SPI_FLAG_RXNE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_RXN
 5774              		.loc 1 2759 8
 5775 0024 BB69     		ldr	r3, [r7, #24]
 5776 0026 03F00103 		and	r3, r3, #1
2758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       (SPI_CHECK_FLAG(itflag, SPI_FLAG_RXNE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_RXN
 5777              		.loc 1 2758 55 discriminator 1
 5778 002a 002B     		cmp	r3, #0
 5779 002c 0AD0     		beq	.L288
 5780              		.loc 1 2759 60
 5781 002e FB69     		ldr	r3, [r7, #28]
 5782 0030 9B09     		lsrs	r3, r3, #6
 5783 0032 03F00103 		and	r3, r3, #1
 5784              		.loc 1 2759 56
 5785 0036 002B     		cmp	r3, #0
 5786 0038 04D0     		beq	.L288
2760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxISR(hspi);
 5787              		.loc 1 2761 9
 5788 003a 7B68     		ldr	r3, [r7, #4]
 5789 003c DB6C     		ldr	r3, [r3, #76]
 5790              		.loc 1 2761 5
 5791 003e 7868     		ldr	r0, [r7, #4]
 5792 0040 9847     		blx	r3
 5793              	.LVL0:
2762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return;
 5794              		.loc 1 2762 5
 5795 0042 D7E0     		b	.L287
 5796              	.L288:
2763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* SPI in mode Transmitter -------------------------------------------------*/
2766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((SPI_CHECK_FLAG(itflag, SPI_FLAG_TXE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_TXE)
 5797              		.loc 1 2766 8
ARM GAS  /tmp/ccC16sX6.s 			page 151


 5798 0044 BB69     		ldr	r3, [r7, #24]
 5799 0046 5B08     		lsrs	r3, r3, #1
 5800 0048 03F00103 		and	r3, r3, #1
 5801              		.loc 1 2766 6
 5802 004c 002B     		cmp	r3, #0
 5803 004e 0AD0     		beq	.L290
 5804              		.loc 1 2766 59 discriminator 1
 5805 0050 FB69     		ldr	r3, [r7, #28]
 5806 0052 DB09     		lsrs	r3, r3, #7
 5807 0054 03F00103 		and	r3, r3, #1
 5808              		.loc 1 2766 55 discriminator 1
 5809 0058 002B     		cmp	r3, #0
 5810 005a 04D0     		beq	.L290
2767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxISR(hspi);
 5811              		.loc 1 2768 9
 5812 005c 7B68     		ldr	r3, [r7, #4]
 5813 005e 1B6D     		ldr	r3, [r3, #80]
 5814              		.loc 1 2768 5
 5815 0060 7868     		ldr	r0, [r7, #4]
 5816 0062 9847     		blx	r3
 5817              	.LVL1:
2769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return;
 5818              		.loc 1 2769 5
 5819 0064 C6E0     		b	.L287
 5820              	.L290:
2770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* SPI in Error Treatment --------------------------------------------------*/
2773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (((SPI_CHECK_FLAG(itflag, SPI_FLAG_MODF) != RESET) || (SPI_CHECK_FLAG(itflag, SPI_FLAG_OVR) !=
 5821              		.loc 1 2773 9
 5822 0066 BB69     		ldr	r3, [r7, #24]
 5823 0068 5B09     		lsrs	r3, r3, #5
 5824 006a 03F00103 		and	r3, r3, #1
 5825              		.loc 1 2773 6
 5826 006e 002B     		cmp	r3, #0
 5827 0070 0CD1     		bne	.L291
 5828              		.loc 1 2773 61 discriminator 1
 5829 0072 BB69     		ldr	r3, [r7, #24]
 5830 0074 9B09     		lsrs	r3, r3, #6
 5831 0076 03F00103 		and	r3, r3, #1
 5832              		.loc 1 2773 57 discriminator 1
 5833 007a 002B     		cmp	r3, #0
 5834 007c 06D1     		bne	.L291
2774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****        || (SPI_CHECK_FLAG(itflag, SPI_FLAG_FRE) != RESET)) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT
 5835              		.loc 1 2774 12
 5836 007e BB69     		ldr	r3, [r7, #24]
 5837 0080 1B0A     		lsrs	r3, r3, #8
 5838 0082 03F00103 		and	r3, r3, #1
 5839              		.loc 1 2774 8
 5840 0086 002B     		cmp	r3, #0
 5841 0088 00F0B480 		beq	.L287
 5842              	.L291:
 5843              		.loc 1 2774 64 discriminator 1
 5844 008c FB69     		ldr	r3, [r7, #28]
 5845 008e 5B09     		lsrs	r3, r3, #5
 5846 0090 03F00103 		and	r3, r3, #1
ARM GAS  /tmp/ccC16sX6.s 			page 152


 5847              		.loc 1 2774 60 discriminator 1
 5848 0094 002B     		cmp	r3, #0
 5849 0096 00F0AD80 		beq	.L287
2775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
2776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* SPI Overrun error interrupt occurred ----------------------------------*/
2777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_CHECK_FLAG(itflag, SPI_FLAG_OVR) != RESET)
 5850              		.loc 1 2777 9
 5851 009a BB69     		ldr	r3, [r7, #24]
 5852 009c 9B09     		lsrs	r3, r3, #6
 5853 009e 03F00103 		and	r3, r3, #1
 5854              		.loc 1 2777 8
 5855 00a2 002B     		cmp	r3, #0
 5856 00a4 23D0     		beq	.L292
2778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (hspi->State != HAL_SPI_STATE_BUSY_TX)
 5857              		.loc 1 2779 15
 5858 00a6 7B68     		ldr	r3, [r7, #4]
 5859 00a8 93F85D30 		ldrb	r3, [r3, #93]
 5860 00ac DBB2     		uxtb	r3, r3
 5861              		.loc 1 2779 10
 5862 00ae 032B     		cmp	r3, #3
 5863 00b0 11D0     		beq	.L293
2780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_OVR);
 5864              		.loc 1 2781 9
 5865 00b2 7B68     		ldr	r3, [r7, #4]
 5866 00b4 1B6E     		ldr	r3, [r3, #96]
 5867 00b6 43F00402 		orr	r2, r3, #4
 5868 00ba 7B68     		ldr	r3, [r7, #4]
 5869 00bc 1A66     		str	r2, [r3, #96]
 5870              	.LBB7:
2782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
 5871              		.loc 1 2782 9
 5872 00be 0023     		movs	r3, #0
 5873 00c0 7B61     		str	r3, [r7, #20]
 5874 00c2 7B68     		ldr	r3, [r7, #4]
 5875 00c4 1B68     		ldr	r3, [r3]
 5876 00c6 DB68     		ldr	r3, [r3, #12]
 5877 00c8 7B61     		str	r3, [r7, #20]
 5878 00ca 7B68     		ldr	r3, [r7, #4]
 5879 00cc 1B68     		ldr	r3, [r3]
 5880 00ce 9B68     		ldr	r3, [r3, #8]
 5881 00d0 7B61     		str	r3, [r7, #20]
 5882 00d2 7B69     		ldr	r3, [r7, #20]
 5883              	.LBE7:
 5884 00d4 0BE0     		b	.L292
 5885              	.L293:
 5886              	.LBB8:
2783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
2785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
 5887              		.loc 1 2786 9
 5888 00d6 0023     		movs	r3, #0
 5889 00d8 3B61     		str	r3, [r7, #16]
 5890 00da 7B68     		ldr	r3, [r7, #4]
 5891 00dc 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccC16sX6.s 			page 153


 5892 00de DB68     		ldr	r3, [r3, #12]
 5893 00e0 3B61     		str	r3, [r7, #16]
 5894 00e2 7B68     		ldr	r3, [r7, #4]
 5895 00e4 1B68     		ldr	r3, [r3]
 5896 00e6 9B68     		ldr	r3, [r3, #8]
 5897 00e8 3B61     		str	r3, [r7, #16]
 5898 00ea 3B69     		ldr	r3, [r7, #16]
 5899              	.LBE8:
2787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         return;
 5900              		.loc 1 2787 9
 5901 00ec 82E0     		b	.L287
 5902              	.L292:
2788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* SPI Mode Fault error interrupt occurred -------------------------------*/
2792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_CHECK_FLAG(itflag, SPI_FLAG_MODF) != RESET)
 5903              		.loc 1 2792 9
 5904 00ee BB69     		ldr	r3, [r7, #24]
 5905 00f0 5B09     		lsrs	r3, r3, #5
 5906 00f2 03F00103 		and	r3, r3, #1
 5907              		.loc 1 2792 8
 5908 00f6 002B     		cmp	r3, #0
 5909 00f8 14D0     		beq	.L294
2793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_MODF);
 5910              		.loc 1 2794 7
 5911 00fa 7B68     		ldr	r3, [r7, #4]
 5912 00fc 1B6E     		ldr	r3, [r3, #96]
 5913 00fe 43F00102 		orr	r2, r3, #1
 5914 0102 7B68     		ldr	r3, [r7, #4]
 5915 0104 1A66     		str	r2, [r3, #96]
 5916              	.LBB9:
2795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_CLEAR_MODFFLAG(hspi);
 5917              		.loc 1 2795 7
 5918 0106 0023     		movs	r3, #0
 5919 0108 FB60     		str	r3, [r7, #12]
 5920 010a 7B68     		ldr	r3, [r7, #4]
 5921 010c 1B68     		ldr	r3, [r3]
 5922 010e 9B68     		ldr	r3, [r3, #8]
 5923 0110 FB60     		str	r3, [r7, #12]
 5924 0112 7B68     		ldr	r3, [r7, #4]
 5925 0114 1B68     		ldr	r3, [r3]
 5926 0116 1A68     		ldr	r2, [r3]
 5927 0118 7B68     		ldr	r3, [r7, #4]
 5928 011a 1B68     		ldr	r3, [r3]
 5929 011c 22F04002 		bic	r2, r2, #64
 5930 0120 1A60     		str	r2, [r3]
 5931 0122 FB68     		ldr	r3, [r7, #12]
 5932              	.L294:
 5933              	.LBE9:
2796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* SPI Frame error interrupt occurred ------------------------------------*/
2799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_CHECK_FLAG(itflag, SPI_FLAG_FRE) != RESET)
 5934              		.loc 1 2799 9
 5935 0124 BB69     		ldr	r3, [r7, #24]
ARM GAS  /tmp/ccC16sX6.s 			page 154


 5936 0126 1B0A     		lsrs	r3, r3, #8
 5937 0128 03F00103 		and	r3, r3, #1
 5938              		.loc 1 2799 8
 5939 012c 002B     		cmp	r3, #0
 5940 012e 0CD0     		beq	.L295
2800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FRE);
 5941              		.loc 1 2801 7
 5942 0130 7B68     		ldr	r3, [r7, #4]
 5943 0132 1B6E     		ldr	r3, [r3, #96]
 5944 0134 43F00802 		orr	r2, r3, #8
 5945 0138 7B68     		ldr	r3, [r7, #4]
 5946 013a 1A66     		str	r2, [r3, #96]
 5947              	.LBB10:
2802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_CLEAR_FREFLAG(hspi);
 5948              		.loc 1 2802 7
 5949 013c 0023     		movs	r3, #0
 5950 013e BB60     		str	r3, [r7, #8]
 5951 0140 7B68     		ldr	r3, [r7, #4]
 5952 0142 1B68     		ldr	r3, [r3]
 5953 0144 9B68     		ldr	r3, [r3, #8]
 5954 0146 BB60     		str	r3, [r7, #8]
 5955 0148 BB68     		ldr	r3, [r7, #8]
 5956              	.L295:
 5957              	.LBE10:
2803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 5958              		.loc 1 2805 13
 5959 014a 7B68     		ldr	r3, [r7, #4]
 5960 014c 1B6E     		ldr	r3, [r3, #96]
 5961              		.loc 1 2805 8
 5962 014e 002B     		cmp	r3, #0
 5963 0150 4FD0     		beq	.L301
2806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
2807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Disable all interrupts */
2808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE | SPI_IT_TXE | SPI_IT_ERR);
 5964              		.loc 1 2808 7
 5965 0152 7B68     		ldr	r3, [r7, #4]
 5966 0154 1B68     		ldr	r3, [r3]
 5967 0156 5A68     		ldr	r2, [r3, #4]
 5968 0158 7B68     		ldr	r3, [r7, #4]
 5969 015a 1B68     		ldr	r3, [r3]
 5970 015c 22F0E002 		bic	r2, r2, #224
 5971 0160 5A60     		str	r2, [r3, #4]
2809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
 5972              		.loc 1 2810 19
 5973 0162 7B68     		ldr	r3, [r7, #4]
 5974 0164 0122     		movs	r2, #1
 5975 0166 83F85D20 		strb	r2, [r3, #93]
2811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Disable the SPI DMA requests if enabled */
2812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((HAL_IS_BIT_SET(itsource, SPI_CR2_TXDMAEN)) || (HAL_IS_BIT_SET(itsource, SPI_CR2_RXDMAEN)
 5976              		.loc 1 2812 12
 5977 016a FB69     		ldr	r3, [r7, #28]
 5978 016c 03F00203 		and	r3, r3, #2
 5979              		.loc 1 2812 10
ARM GAS  /tmp/ccC16sX6.s 			page 155


 5980 0170 002B     		cmp	r3, #0
 5981 0172 04D1     		bne	.L297
 5982              		.loc 1 2812 59 discriminator 1
 5983 0174 FB69     		ldr	r3, [r7, #28]
 5984 0176 03F00103 		and	r3, r3, #1
 5985              		.loc 1 2812 55 discriminator 1
 5986 017a 002B     		cmp	r3, #0
 5987 017c 34D0     		beq	.L298
 5988              	.L297:
2813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN));
 5989              		.loc 1 2814 9
 5990 017e 7B68     		ldr	r3, [r7, #4]
 5991 0180 1B68     		ldr	r3, [r3]
 5992 0182 5A68     		ldr	r2, [r3, #4]
 5993 0184 7B68     		ldr	r3, [r7, #4]
 5994 0186 1B68     		ldr	r3, [r3]
 5995 0188 22F00302 		bic	r2, r2, #3
 5996 018c 5A60     		str	r2, [r3, #4]
2815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Abort the SPI DMA Rx channel */
2817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (hspi->hdmarx != NULL)
 5997              		.loc 1 2817 17
 5998 018e 7B68     		ldr	r3, [r7, #4]
 5999 0190 9B6D     		ldr	r3, [r3, #88]
 6000              		.loc 1 2817 12
 6001 0192 002B     		cmp	r3, #0
 6002 0194 11D0     		beq	.L299
2818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
2819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Set the SPI DMA Abort callback :
2820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           will lead to call HAL_SPI_ErrorCallback() at end of DMA abort procedure */
2821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->hdmarx->XferAbortCallback = SPI_DMAAbortOnError;
 6003              		.loc 1 2821 15
 6004 0196 7B68     		ldr	r3, [r7, #4]
 6005 0198 9B6D     		ldr	r3, [r3, #88]
 6006              		.loc 1 2821 43
 6007 019a 184A     		ldr	r2, .L303
 6008 019c 9A63     		str	r2, [r3, #56]
2822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmarx))
 6009              		.loc 1 2822 25
 6010 019e 7B68     		ldr	r3, [r7, #4]
 6011 01a0 9B6D     		ldr	r3, [r3, #88]
 6012 01a2 1846     		mov	r0, r3
 6013 01a4 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 6014 01a8 0346     		mov	r3, r0
 6015              		.loc 1 2822 14 discriminator 1
 6016 01aa 002B     		cmp	r3, #0
 6017 01ac 05D0     		beq	.L299
2823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
2824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
 6018              		.loc 1 2824 13
 6019 01ae 7B68     		ldr	r3, [r7, #4]
 6020 01b0 1B6E     		ldr	r3, [r3, #96]
 6021 01b2 43F04002 		orr	r2, r3, #64
 6022 01b6 7B68     		ldr	r3, [r7, #4]
 6023 01b8 1A66     		str	r2, [r3, #96]
 6024              	.L299:
ARM GAS  /tmp/ccC16sX6.s 			page 156


2825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           }
2826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
2827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Abort the SPI DMA Tx channel */
2828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (hspi->hdmatx != NULL)
 6025              		.loc 1 2828 17
 6026 01ba 7B68     		ldr	r3, [r7, #4]
 6027 01bc 5B6D     		ldr	r3, [r3, #84]
 6028              		.loc 1 2828 12
 6029 01be 002B     		cmp	r3, #0
 6030 01c0 16D0     		beq	.L302
2829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
2830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Set the SPI DMA Abort callback :
2831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           will lead to call HAL_SPI_ErrorCallback() at end of DMA abort procedure */
2832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           hspi->hdmatx->XferAbortCallback = SPI_DMAAbortOnError;
 6031              		.loc 1 2832 15
 6032 01c2 7B68     		ldr	r3, [r7, #4]
 6033 01c4 5B6D     		ldr	r3, [r3, #84]
 6034              		.loc 1 2832 43
 6035 01c6 0D4A     		ldr	r2, .L303
 6036 01c8 9A63     		str	r2, [r3, #56]
2833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmatx))
 6037              		.loc 1 2833 25
 6038 01ca 7B68     		ldr	r3, [r7, #4]
 6039 01cc 5B6D     		ldr	r3, [r3, #84]
 6040 01ce 1846     		mov	r0, r3
 6041 01d0 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 6042 01d4 0346     		mov	r3, r0
 6043              		.loc 1 2833 14 discriminator 1
 6044 01d6 002B     		cmp	r3, #0
 6045 01d8 0AD0     		beq	.L302
2834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
2835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
 6046              		.loc 1 2835 13
 6047 01da 7B68     		ldr	r3, [r7, #4]
 6048 01dc 1B6E     		ldr	r3, [r3, #96]
 6049 01de 43F04002 		orr	r2, r3, #64
 6050 01e2 7B68     		ldr	r3, [r7, #4]
 6051 01e4 1A66     		str	r2, [r3, #96]
2828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 6052              		.loc 1 2828 12
 6053 01e6 03E0     		b	.L302
 6054              	.L298:
2836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           }
2837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
2838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
2839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
2840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
2841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Call user error callback */
2842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->ErrorCallback(hspi);
2844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
2845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         HAL_SPI_ErrorCallback(hspi);
 6055              		.loc 1 2845 9
 6056 01e8 7868     		ldr	r0, [r7, #4]
 6057 01ea FFF7FEFF 		bl	HAL_SPI_ErrorCallback
2846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
ARM GAS  /tmp/ccC16sX6.s 			page 157


2848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
2849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return;
 6058              		.loc 1 2849 5
 6059 01ee 00E0     		b	.L301
 6060              	.L302:
2828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
 6061              		.loc 1 2828 12
 6062 01f0 00BF     		nop
 6063              	.L301:
 6064              		.loc 1 2849 5
 6065 01f2 00BF     		nop
 6066              	.L287:
2850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
2851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 6067              		.loc 1 2851 1
 6068 01f4 2037     		adds	r7, r7, #32
 6069              		.cfi_def_cfa_offset 8
 6070 01f6 BD46     		mov	sp, r7
 6071              		.cfi_def_cfa_register 13
 6072              		@ sp needed
 6073 01f8 80BD     		pop	{r7, pc}
 6074              	.L304:
 6075 01fa 00BF     		.align	2
 6076              	.L303:
 6077 01fc 00000000 		.word	SPI_DMAAbortOnError
 6078              		.cfi_endproc
 6079              	.LFE463:
 6081              		.section	.text.HAL_SPI_TxCpltCallback,"ax",%progbits
 6082              		.align	1
 6083              		.weak	HAL_SPI_TxCpltCallback
 6084              		.syntax unified
 6085              		.thumb
 6086              		.thumb_func
 6088              	HAL_SPI_TxCpltCallback:
 6089              	.LFB464:
2852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Tx Transfer completed callback.
2855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
2857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
2858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** __weak void HAL_SPI_TxCpltCallback(SPI_HandleTypeDef *hspi)
2860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 6090              		.loc 1 2860 1
 6091              		.cfi_startproc
 6092              		@ args = 0, pretend = 0, frame = 8
 6093              		@ frame_needed = 1, uses_anonymous_args = 0
 6094              		@ link register save eliminated.
 6095 0000 80B4     		push	{r7}
 6096              		.cfi_def_cfa_offset 4
 6097              		.cfi_offset 7, -4
 6098 0002 83B0     		sub	sp, sp, #12
 6099              		.cfi_def_cfa_offset 16
 6100 0004 00AF     		add	r7, sp, #0
 6101              		.cfi_def_cfa_register 7
 6102 0006 7860     		str	r0, [r7, #4]
ARM GAS  /tmp/ccC16sX6.s 			page 158


2861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(hspi);
2863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             the HAL_SPI_TxCpltCallback should be implemented in the user file
2866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
2867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 6103              		.loc 1 2867 1
 6104 0008 00BF     		nop
 6105 000a 0C37     		adds	r7, r7, #12
 6106              		.cfi_def_cfa_offset 4
 6107 000c BD46     		mov	sp, r7
 6108              		.cfi_def_cfa_register 13
 6109              		@ sp needed
 6110 000e 5DF8047B 		ldr	r7, [sp], #4
 6111              		.cfi_restore 7
 6112              		.cfi_def_cfa_offset 0
 6113 0012 7047     		bx	lr
 6114              		.cfi_endproc
 6115              	.LFE464:
 6117              		.section	.text.HAL_SPI_RxCpltCallback,"ax",%progbits
 6118              		.align	1
 6119              		.weak	HAL_SPI_RxCpltCallback
 6120              		.syntax unified
 6121              		.thumb
 6122              		.thumb_func
 6124              	HAL_SPI_RxCpltCallback:
 6125              	.LFB465:
2868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Rx Transfer completed callback.
2871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
2873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
2874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** __weak void HAL_SPI_RxCpltCallback(SPI_HandleTypeDef *hspi)
2876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 6126              		.loc 1 2876 1
 6127              		.cfi_startproc
 6128              		@ args = 0, pretend = 0, frame = 8
 6129              		@ frame_needed = 1, uses_anonymous_args = 0
 6130              		@ link register save eliminated.
 6131 0000 80B4     		push	{r7}
 6132              		.cfi_def_cfa_offset 4
 6133              		.cfi_offset 7, -4
 6134 0002 83B0     		sub	sp, sp, #12
 6135              		.cfi_def_cfa_offset 16
 6136 0004 00AF     		add	r7, sp, #0
 6137              		.cfi_def_cfa_register 7
 6138 0006 7860     		str	r0, [r7, #4]
2877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(hspi);
2879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             the HAL_SPI_RxCpltCallback should be implemented in the user file
2882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
2883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
ARM GAS  /tmp/ccC16sX6.s 			page 159


 6139              		.loc 1 2883 1
 6140 0008 00BF     		nop
 6141 000a 0C37     		adds	r7, r7, #12
 6142              		.cfi_def_cfa_offset 4
 6143 000c BD46     		mov	sp, r7
 6144              		.cfi_def_cfa_register 13
 6145              		@ sp needed
 6146 000e 5DF8047B 		ldr	r7, [sp], #4
 6147              		.cfi_restore 7
 6148              		.cfi_def_cfa_offset 0
 6149 0012 7047     		bx	lr
 6150              		.cfi_endproc
 6151              	.LFE465:
 6153              		.section	.text.HAL_SPI_TxRxCpltCallback,"ax",%progbits
 6154              		.align	1
 6155              		.weak	HAL_SPI_TxRxCpltCallback
 6156              		.syntax unified
 6157              		.thumb
 6158              		.thumb_func
 6160              	HAL_SPI_TxRxCpltCallback:
 6161              	.LFB466:
2884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Tx and Rx Transfer completed callback.
2887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
2889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
2890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** __weak void HAL_SPI_TxRxCpltCallback(SPI_HandleTypeDef *hspi)
2892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 6162              		.loc 1 2892 1
 6163              		.cfi_startproc
 6164              		@ args = 0, pretend = 0, frame = 8
 6165              		@ frame_needed = 1, uses_anonymous_args = 0
 6166              		@ link register save eliminated.
 6167 0000 80B4     		push	{r7}
 6168              		.cfi_def_cfa_offset 4
 6169              		.cfi_offset 7, -4
 6170 0002 83B0     		sub	sp, sp, #12
 6171              		.cfi_def_cfa_offset 16
 6172 0004 00AF     		add	r7, sp, #0
 6173              		.cfi_def_cfa_register 7
 6174 0006 7860     		str	r0, [r7, #4]
2893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(hspi);
2895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             the HAL_SPI_TxRxCpltCallback should be implemented in the user file
2898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
2899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 6175              		.loc 1 2899 1
 6176 0008 00BF     		nop
 6177 000a 0C37     		adds	r7, r7, #12
 6178              		.cfi_def_cfa_offset 4
 6179 000c BD46     		mov	sp, r7
 6180              		.cfi_def_cfa_register 13
 6181              		@ sp needed
ARM GAS  /tmp/ccC16sX6.s 			page 160


 6182 000e 5DF8047B 		ldr	r7, [sp], #4
 6183              		.cfi_restore 7
 6184              		.cfi_def_cfa_offset 0
 6185 0012 7047     		bx	lr
 6186              		.cfi_endproc
 6187              	.LFE466:
 6189              		.section	.text.HAL_SPI_TxHalfCpltCallback,"ax",%progbits
 6190              		.align	1
 6191              		.weak	HAL_SPI_TxHalfCpltCallback
 6192              		.syntax unified
 6193              		.thumb
 6194              		.thumb_func
 6196              	HAL_SPI_TxHalfCpltCallback:
 6197              	.LFB467:
2900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Tx Half Transfer completed callback.
2903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
2905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
2906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** __weak void HAL_SPI_TxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 6198              		.loc 1 2908 1
 6199              		.cfi_startproc
 6200              		@ args = 0, pretend = 0, frame = 8
 6201              		@ frame_needed = 1, uses_anonymous_args = 0
 6202              		@ link register save eliminated.
 6203 0000 80B4     		push	{r7}
 6204              		.cfi_def_cfa_offset 4
 6205              		.cfi_offset 7, -4
 6206 0002 83B0     		sub	sp, sp, #12
 6207              		.cfi_def_cfa_offset 16
 6208 0004 00AF     		add	r7, sp, #0
 6209              		.cfi_def_cfa_register 7
 6210 0006 7860     		str	r0, [r7, #4]
2909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(hspi);
2911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             the HAL_SPI_TxHalfCpltCallback should be implemented in the user file
2914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
2915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 6211              		.loc 1 2915 1
 6212 0008 00BF     		nop
 6213 000a 0C37     		adds	r7, r7, #12
 6214              		.cfi_def_cfa_offset 4
 6215 000c BD46     		mov	sp, r7
 6216              		.cfi_def_cfa_register 13
 6217              		@ sp needed
 6218 000e 5DF8047B 		ldr	r7, [sp], #4
 6219              		.cfi_restore 7
 6220              		.cfi_def_cfa_offset 0
 6221 0012 7047     		bx	lr
 6222              		.cfi_endproc
 6223              	.LFE467:
 6225              		.section	.text.HAL_SPI_RxHalfCpltCallback,"ax",%progbits
ARM GAS  /tmp/ccC16sX6.s 			page 161


 6226              		.align	1
 6227              		.weak	HAL_SPI_RxHalfCpltCallback
 6228              		.syntax unified
 6229              		.thumb
 6230              		.thumb_func
 6232              	HAL_SPI_RxHalfCpltCallback:
 6233              	.LFB468:
2916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Rx Half Transfer completed callback.
2919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
2921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
2922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** __weak void HAL_SPI_RxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 6234              		.loc 1 2924 1
 6235              		.cfi_startproc
 6236              		@ args = 0, pretend = 0, frame = 8
 6237              		@ frame_needed = 1, uses_anonymous_args = 0
 6238              		@ link register save eliminated.
 6239 0000 80B4     		push	{r7}
 6240              		.cfi_def_cfa_offset 4
 6241              		.cfi_offset 7, -4
 6242 0002 83B0     		sub	sp, sp, #12
 6243              		.cfi_def_cfa_offset 16
 6244 0004 00AF     		add	r7, sp, #0
 6245              		.cfi_def_cfa_register 7
 6246 0006 7860     		str	r0, [r7, #4]
2925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(hspi);
2927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             the HAL_SPI_RxHalfCpltCallback() should be implemented in the user file
2930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
2931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 6247              		.loc 1 2931 1
 6248 0008 00BF     		nop
 6249 000a 0C37     		adds	r7, r7, #12
 6250              		.cfi_def_cfa_offset 4
 6251 000c BD46     		mov	sp, r7
 6252              		.cfi_def_cfa_register 13
 6253              		@ sp needed
 6254 000e 5DF8047B 		ldr	r7, [sp], #4
 6255              		.cfi_restore 7
 6256              		.cfi_def_cfa_offset 0
 6257 0012 7047     		bx	lr
 6258              		.cfi_endproc
 6259              	.LFE468:
 6261              		.section	.text.HAL_SPI_TxRxHalfCpltCallback,"ax",%progbits
 6262              		.align	1
 6263              		.weak	HAL_SPI_TxRxHalfCpltCallback
 6264              		.syntax unified
 6265              		.thumb
 6266              		.thumb_func
 6268              	HAL_SPI_TxRxHalfCpltCallback:
 6269              	.LFB469:
ARM GAS  /tmp/ccC16sX6.s 			page 162


2932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Tx and Rx Half Transfer callback.
2935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
2937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
2938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** __weak void HAL_SPI_TxRxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 6270              		.loc 1 2940 1
 6271              		.cfi_startproc
 6272              		@ args = 0, pretend = 0, frame = 8
 6273              		@ frame_needed = 1, uses_anonymous_args = 0
 6274              		@ link register save eliminated.
 6275 0000 80B4     		push	{r7}
 6276              		.cfi_def_cfa_offset 4
 6277              		.cfi_offset 7, -4
 6278 0002 83B0     		sub	sp, sp, #12
 6279              		.cfi_def_cfa_offset 16
 6280 0004 00AF     		add	r7, sp, #0
 6281              		.cfi_def_cfa_register 7
 6282 0006 7860     		str	r0, [r7, #4]
2941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(hspi);
2943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             the HAL_SPI_TxRxHalfCpltCallback() should be implemented in the user file
2946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
2947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 6283              		.loc 1 2947 1
 6284 0008 00BF     		nop
 6285 000a 0C37     		adds	r7, r7, #12
 6286              		.cfi_def_cfa_offset 4
 6287 000c BD46     		mov	sp, r7
 6288              		.cfi_def_cfa_register 13
 6289              		@ sp needed
 6290 000e 5DF8047B 		ldr	r7, [sp], #4
 6291              		.cfi_restore 7
 6292              		.cfi_def_cfa_offset 0
 6293 0012 7047     		bx	lr
 6294              		.cfi_endproc
 6295              	.LFE469:
 6297              		.section	.text.HAL_SPI_ErrorCallback,"ax",%progbits
 6298              		.align	1
 6299              		.weak	HAL_SPI_ErrorCallback
 6300              		.syntax unified
 6301              		.thumb
 6302              		.thumb_func
 6304              	HAL_SPI_ErrorCallback:
 6305              	.LFB470:
2948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  SPI error callback.
2951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
2953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
2954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
ARM GAS  /tmp/ccC16sX6.s 			page 163


2955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** __weak void HAL_SPI_ErrorCallback(SPI_HandleTypeDef *hspi)
2956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 6306              		.loc 1 2956 1
 6307              		.cfi_startproc
 6308              		@ args = 0, pretend = 0, frame = 8
 6309              		@ frame_needed = 1, uses_anonymous_args = 0
 6310              		@ link register save eliminated.
 6311 0000 80B4     		push	{r7}
 6312              		.cfi_def_cfa_offset 4
 6313              		.cfi_offset 7, -4
 6314 0002 83B0     		sub	sp, sp, #12
 6315              		.cfi_def_cfa_offset 16
 6316 0004 00AF     		add	r7, sp, #0
 6317              		.cfi_def_cfa_register 7
 6318 0006 7860     		str	r0, [r7, #4]
2957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(hspi);
2959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             the HAL_SPI_ErrorCallback should be implemented in the user file
2962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
2963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : The ErrorCode parameter in the hspi handle is updated by the SPI processes
2964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             and user can use HAL_SPI_GetError() API to check the latest error occurred
2965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
2966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 6319              		.loc 1 2966 1
 6320 0008 00BF     		nop
 6321 000a 0C37     		adds	r7, r7, #12
 6322              		.cfi_def_cfa_offset 4
 6323 000c BD46     		mov	sp, r7
 6324              		.cfi_def_cfa_register 13
 6325              		@ sp needed
 6326 000e 5DF8047B 		ldr	r7, [sp], #4
 6327              		.cfi_restore 7
 6328              		.cfi_def_cfa_offset 0
 6329 0012 7047     		bx	lr
 6330              		.cfi_endproc
 6331              	.LFE470:
 6333              		.section	.text.HAL_SPI_AbortCpltCallback,"ax",%progbits
 6334              		.align	1
 6335              		.weak	HAL_SPI_AbortCpltCallback
 6336              		.syntax unified
 6337              		.thumb
 6338              		.thumb_func
 6340              	HAL_SPI_AbortCpltCallback:
 6341              	.LFB471:
2967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  SPI Abort Complete callback.
2970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi SPI handle.
2971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
2972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** __weak void HAL_SPI_AbortCpltCallback(SPI_HandleTypeDef *hspi)
2974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 6342              		.loc 1 2974 1
 6343              		.cfi_startproc
 6344              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /tmp/ccC16sX6.s 			page 164


 6345              		@ frame_needed = 1, uses_anonymous_args = 0
 6346              		@ link register save eliminated.
 6347 0000 80B4     		push	{r7}
 6348              		.cfi_def_cfa_offset 4
 6349              		.cfi_offset 7, -4
 6350 0002 83B0     		sub	sp, sp, #12
 6351              		.cfi_def_cfa_offset 16
 6352 0004 00AF     		add	r7, sp, #0
 6353              		.cfi_def_cfa_register 7
 6354 0006 7860     		str	r0, [r7, #4]
2975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(hspi);
2977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             the HAL_SPI_AbortCpltCallback can be implemented in the user file.
2980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****    */
2981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 6355              		.loc 1 2981 1
 6356 0008 00BF     		nop
 6357 000a 0C37     		adds	r7, r7, #12
 6358              		.cfi_def_cfa_offset 4
 6359 000c BD46     		mov	sp, r7
 6360              		.cfi_def_cfa_register 13
 6361              		@ sp needed
 6362 000e 5DF8047B 		ldr	r7, [sp], #4
 6363              		.cfi_restore 7
 6364              		.cfi_def_cfa_offset 0
 6365 0012 7047     		bx	lr
 6366              		.cfi_endproc
 6367              	.LFE471:
 6369              		.section	.text.HAL_SPI_GetState,"ax",%progbits
 6370              		.align	1
 6371              		.global	HAL_SPI_GetState
 6372              		.syntax unified
 6373              		.thumb
 6374              		.thumb_func
 6376              	HAL_SPI_GetState:
 6377              	.LFB472:
2982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
2984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @}
2985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
2986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
2987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group3 Peripheral State and Errors functions
2988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief   SPI control functions
2989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *
2990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** @verbatim
2991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****  ===============================================================================
2992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                       ##### Peripheral State and Errors functions #####
2993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****  ===============================================================================
2994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     [..]
2995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     This subsection provides a set of functions allowing to control the SPI.
2996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      (+) HAL_SPI_GetState() API can be helpful to check in run-time the state of the SPI peripheral
2997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****      (+) HAL_SPI_GetError() check in run-time Errors occurring during communication
2998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** @endverbatim
2999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @{
3000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
ARM GAS  /tmp/ccC16sX6.s 			page 165


3001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Return the SPI handle state.
3004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval SPI state
3007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** HAL_SPI_StateTypeDef HAL_SPI_GetState(const SPI_HandleTypeDef *hspi)
3009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 6378              		.loc 1 3009 1
 6379              		.cfi_startproc
 6380              		@ args = 0, pretend = 0, frame = 8
 6381              		@ frame_needed = 1, uses_anonymous_args = 0
 6382              		@ link register save eliminated.
 6383 0000 80B4     		push	{r7}
 6384              		.cfi_def_cfa_offset 4
 6385              		.cfi_offset 7, -4
 6386 0002 83B0     		sub	sp, sp, #12
 6387              		.cfi_def_cfa_offset 16
 6388 0004 00AF     		add	r7, sp, #0
 6389              		.cfi_def_cfa_register 7
 6390 0006 7860     		str	r0, [r7, #4]
3010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Return SPI handle state */
3011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return hspi->State;
 6391              		.loc 1 3011 14
 6392 0008 7B68     		ldr	r3, [r7, #4]
 6393 000a 93F85D30 		ldrb	r3, [r3, #93]
 6394 000e DBB2     		uxtb	r3, r3
3012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 6395              		.loc 1 3012 1
 6396 0010 1846     		mov	r0, r3
 6397 0012 0C37     		adds	r7, r7, #12
 6398              		.cfi_def_cfa_offset 4
 6399 0014 BD46     		mov	sp, r7
 6400              		.cfi_def_cfa_register 13
 6401              		@ sp needed
 6402 0016 5DF8047B 		ldr	r7, [sp], #4
 6403              		.cfi_restore 7
 6404              		.cfi_def_cfa_offset 0
 6405 001a 7047     		bx	lr
 6406              		.cfi_endproc
 6407              	.LFE472:
 6409              		.section	.text.HAL_SPI_GetError,"ax",%progbits
 6410              		.align	1
 6411              		.global	HAL_SPI_GetError
 6412              		.syntax unified
 6413              		.thumb
 6414              		.thumb_func
 6416              	HAL_SPI_GetError:
 6417              	.LFB473:
3013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Return the SPI error code.
3016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval SPI error code in bitmap format
3019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
ARM GAS  /tmp/ccC16sX6.s 			page 166


3020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** uint32_t HAL_SPI_GetError(const SPI_HandleTypeDef *hspi)
3021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 6418              		.loc 1 3021 1
 6419              		.cfi_startproc
 6420              		@ args = 0, pretend = 0, frame = 8
 6421              		@ frame_needed = 1, uses_anonymous_args = 0
 6422              		@ link register save eliminated.
 6423 0000 80B4     		push	{r7}
 6424              		.cfi_def_cfa_offset 4
 6425              		.cfi_offset 7, -4
 6426 0002 83B0     		sub	sp, sp, #12
 6427              		.cfi_def_cfa_offset 16
 6428 0004 00AF     		add	r7, sp, #0
 6429              		.cfi_def_cfa_register 7
 6430 0006 7860     		str	r0, [r7, #4]
3022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Return SPI ErrorCode */
3023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return hspi->ErrorCode;
 6431              		.loc 1 3023 14
 6432 0008 7B68     		ldr	r3, [r7, #4]
 6433 000a 1B6E     		ldr	r3, [r3, #96]
3024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 6434              		.loc 1 3024 1
 6435 000c 1846     		mov	r0, r3
 6436 000e 0C37     		adds	r7, r7, #12
 6437              		.cfi_def_cfa_offset 4
 6438 0010 BD46     		mov	sp, r7
 6439              		.cfi_def_cfa_register 13
 6440              		@ sp needed
 6441 0012 5DF8047B 		ldr	r7, [sp], #4
 6442              		.cfi_restore 7
 6443              		.cfi_def_cfa_offset 0
 6444 0016 7047     		bx	lr
 6445              		.cfi_endproc
 6446              	.LFE473:
 6448              		.section	.text.SPI_DMATransmitCplt,"ax",%progbits
 6449              		.align	1
 6450              		.syntax unified
 6451              		.thumb
 6452              		.thumb_func
 6454              	SPI_DMATransmitCplt:
 6455              	.LFB474:
3025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @}
3028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @}
3032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /** @addtogroup SPI_Private_Functions
3035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief   Private functions
3036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @{
3037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  DMA SPI transmit process complete callback.
ARM GAS  /tmp/ccC16sX6.s 			page 167


3041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMATransmitCplt(DMA_HandleTypeDef *hdma)
3046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 6456              		.loc 1 3046 1
 6457              		.cfi_startproc
 6458              		@ args = 0, pretend = 0, frame = 24
 6459              		@ frame_needed = 1, uses_anonymous_args = 0
 6460 0000 80B5     		push	{r7, lr}
 6461              		.cfi_def_cfa_offset 8
 6462              		.cfi_offset 7, -8
 6463              		.cfi_offset 14, -4
 6464 0002 86B0     		sub	sp, sp, #24
 6465              		.cfi_def_cfa_offset 32
 6466 0004 00AF     		add	r7, sp, #0
 6467              		.cfi_def_cfa_register 7
 6468 0006 7860     		str	r0, [r7, #4]
3047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 6469              		.loc 1 3047 22
 6470 0008 7B68     		ldr	r3, [r7, #4]
 6471 000a 9B6A     		ldr	r3, [r3, #40]
 6472 000c 7B61     		str	r3, [r7, #20]
3048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
3049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
3051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 6473              		.loc 1 3051 15
 6474 000e FFF7FEFF 		bl	HAL_GetTick
 6475 0012 3861     		str	r0, [r7, #16]
3052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* DMA Normal Mode */
3054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hdma->Instance->CCR & DMA_CCR_CIRC) != DMA_CCR_CIRC)
 6476              		.loc 1 3054 12
 6477 0014 7B68     		ldr	r3, [r7, #4]
 6478 0016 1B68     		ldr	r3, [r3]
 6479              		.loc 1 3054 22
 6480 0018 1B68     		ldr	r3, [r3]
 6481              		.loc 1 3054 28
 6482 001a 03F02003 		and	r3, r3, #32
 6483              		.loc 1 3054 6
 6484 001e 202B     		cmp	r3, #32
 6485 0020 3BD0     		beq	.L318
3055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable ERR interrupt */
3057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
 6486              		.loc 1 3057 5
 6487 0022 7B69     		ldr	r3, [r7, #20]
 6488 0024 1B68     		ldr	r3, [r3]
 6489 0026 5A68     		ldr	r2, [r3, #4]
 6490 0028 7B69     		ldr	r3, [r7, #20]
 6491 002a 1B68     		ldr	r3, [r3]
 6492 002c 22F02002 		bic	r2, r2, #32
 6493 0030 5A60     		str	r2, [r3, #4]
3058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable Tx DMA Request */
ARM GAS  /tmp/ccC16sX6.s 			page 168


3060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
 6494              		.loc 1 3060 5
 6495 0032 7B69     		ldr	r3, [r7, #20]
 6496 0034 1B68     		ldr	r3, [r3]
 6497 0036 5A68     		ldr	r2, [r3, #4]
 6498 0038 7B69     		ldr	r3, [r7, #20]
 6499 003a 1B68     		ldr	r3, [r3]
 6500 003c 22F00202 		bic	r2, r2, #2
 6501 0040 5A60     		str	r2, [r3, #4]
3061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Check the end of the transaction */
3063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
 6502              		.loc 1 3063 9
 6503 0042 3A69     		ldr	r2, [r7, #16]
 6504 0044 6421     		movs	r1, #100
 6505 0046 7869     		ldr	r0, [r7, #20]
 6506 0048 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 6507 004c 0346     		mov	r3, r0
 6508              		.loc 1 3063 8 discriminator 1
 6509 004e 002B     		cmp	r3, #0
 6510 0050 05D0     		beq	.L319
3064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 6511              		.loc 1 3065 7
 6512 0052 7B69     		ldr	r3, [r7, #20]
 6513 0054 1B6E     		ldr	r3, [r3, #96]
 6514 0056 43F02002 		orr	r2, r3, #32
 6515 005a 7B69     		ldr	r3, [r7, #20]
 6516 005c 1A66     		str	r2, [r3, #96]
 6517              	.L319:
3066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Clear overrun flag in 2 Lines communication mode because received data is not read */
3069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
 6518              		.loc 1 3069 19
 6519 005e 7B69     		ldr	r3, [r7, #20]
 6520 0060 9B68     		ldr	r3, [r3, #8]
 6521              		.loc 1 3069 8
 6522 0062 002B     		cmp	r3, #0
 6523 0064 0AD1     		bne	.L320
 6524              	.LBB11:
3070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_CLEAR_OVRFLAG(hspi);
 6525              		.loc 1 3071 7
 6526 0066 0023     		movs	r3, #0
 6527 0068 FB60     		str	r3, [r7, #12]
 6528 006a 7B69     		ldr	r3, [r7, #20]
 6529 006c 1B68     		ldr	r3, [r3]
 6530 006e DB68     		ldr	r3, [r3, #12]
 6531 0070 FB60     		str	r3, [r7, #12]
 6532 0072 7B69     		ldr	r3, [r7, #20]
 6533 0074 1B68     		ldr	r3, [r3]
 6534 0076 9B68     		ldr	r3, [r3, #8]
 6535 0078 FB60     		str	r3, [r7, #12]
 6536 007a FB68     		ldr	r3, [r7, #12]
 6537              	.L320:
 6538              	.LBE11:
ARM GAS  /tmp/ccC16sX6.s 			page 169


3072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxXferCount = 0U;
 6539              		.loc 1 3074 23
 6540 007c 7B69     		ldr	r3, [r7, #20]
 6541 007e 0022     		movs	r2, #0
 6542 0080 DA87     		strh	r2, [r3, #62]	@ movhi
3075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 6543              		.loc 1 3075 17
 6544 0082 7B69     		ldr	r3, [r7, #20]
 6545 0084 0122     		movs	r2, #1
 6546 0086 83F85D20 		strb	r2, [r3, #93]
3076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 6547              		.loc 1 3077 13
 6548 008a 7B69     		ldr	r3, [r7, #20]
 6549 008c 1B6E     		ldr	r3, [r3, #96]
 6550              		.loc 1 3077 8
 6551 008e 002B     		cmp	r3, #0
 6552 0090 03D0     		beq	.L318
3078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Call user error callback */
3080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
3082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
 6553              		.loc 1 3083 7
 6554 0092 7869     		ldr	r0, [r7, #20]
 6555 0094 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
3084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
 6556              		.loc 1 3085 7
 6557 0098 02E0     		b	.L317
 6558              	.L318:
3086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user Tx complete callback */
3089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxCpltCallback(hspi);
3091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_TxCpltCallback(hspi);
 6559              		.loc 1 3092 3
 6560 009a 7869     		ldr	r0, [r7, #20]
 6561 009c FFF7FEFF 		bl	HAL_SPI_TxCpltCallback
 6562              	.L317:
3093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 6563              		.loc 1 3094 1
 6564 00a0 1837     		adds	r7, r7, #24
 6565              		.cfi_def_cfa_offset 8
 6566 00a2 BD46     		mov	sp, r7
 6567              		.cfi_def_cfa_register 13
 6568              		@ sp needed
 6569 00a4 80BD     		pop	{r7, pc}
 6570              		.cfi_endproc
 6571              	.LFE474:
 6573              		.section	.text.SPI_DMAReceiveCplt,"ax",%progbits
ARM GAS  /tmp/ccC16sX6.s 			page 170


 6574              		.align	1
 6575              		.syntax unified
 6576              		.thumb
 6577              		.thumb_func
 6579              	SPI_DMAReceiveCplt:
 6580              	.LFB475:
3095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  DMA SPI receive process complete callback.
3098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAReceiveCplt(DMA_HandleTypeDef *hdma)
3103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 6581              		.loc 1 3103 1
 6582              		.cfi_startproc
 6583              		@ args = 0, pretend = 0, frame = 32
 6584              		@ frame_needed = 1, uses_anonymous_args = 0
 6585 0000 80B5     		push	{r7, lr}
 6586              		.cfi_def_cfa_offset 8
 6587              		.cfi_offset 7, -8
 6588              		.cfi_offset 14, -4
 6589 0002 8AB0     		sub	sp, sp, #40
 6590              		.cfi_def_cfa_offset 48
 6591 0004 02AF     		add	r7, sp, #8
 6592              		.cfi_def_cfa 7, 40
 6593 0006 7860     		str	r0, [r7, #4]
3104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 6594              		.loc 1 3104 22
 6595 0008 7B68     		ldr	r3, [r7, #4]
 6596 000a 9B6A     		ldr	r3, [r3, #40]
 6597 000c FB61     		str	r3, [r7, #28]
3105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
3106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
 6598              		.loc 1 3107 17
 6599 000e 0023     		movs	r3, #0
 6600 0010 3B61     		str	r3, [r7, #16]
3108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint8_t  *ptmpreg8;
3109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint8_t  tmpreg8 = 0;
 6601              		.loc 1 3109 17
 6602 0012 0023     		movs	r3, #0
 6603 0014 FB73     		strb	r3, [r7, #15]
3110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
3113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 6604              		.loc 1 3113 15
 6605 0016 FFF7FEFF 		bl	HAL_GetTick
 6606 001a B861     		str	r0, [r7, #24]
3114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* DMA Normal Mode */
3116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hdma->Instance->CCR & DMA_CCR_CIRC) != DMA_CCR_CIRC)
 6607              		.loc 1 3116 12
 6608 001c 7B68     		ldr	r3, [r7, #4]
 6609 001e 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccC16sX6.s 			page 171


 6610              		.loc 1 3116 22
 6611 0020 1B68     		ldr	r3, [r3]
 6612              		.loc 1 3116 28
 6613 0022 03F02003 		and	r3, r3, #32
 6614              		.loc 1 3116 6
 6615 0026 202B     		cmp	r3, #32
 6616 0028 00F09380 		beq	.L323
3117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable ERR interrupt */
3119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
 6617              		.loc 1 3119 5
 6618 002c FB69     		ldr	r3, [r7, #28]
 6619 002e 1B68     		ldr	r3, [r3]
 6620 0030 5A68     		ldr	r2, [r3, #4]
 6621 0032 FB69     		ldr	r3, [r7, #28]
 6622 0034 1B68     		ldr	r3, [r3]
 6623 0036 22F02002 		bic	r2, r2, #32
 6624 003a 5A60     		str	r2, [r3, #4]
3120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* CRC handling */
3123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 6625              		.loc 1 3123 19
 6626 003c FB69     		ldr	r3, [r7, #28]
 6627 003e 9B6A     		ldr	r3, [r3, #40]
 6628              		.loc 1 3123 8
 6629 0040 B3F5005F 		cmp	r3, #8192
 6630 0044 3ED1     		bne	.L324
3124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Wait until RXNE flag */
3126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_DEFAULT_TIMEOUT, tickstart) !
 6631              		.loc 1 3126 11
 6632 0046 BB69     		ldr	r3, [r7, #24]
 6633 0048 0093     		str	r3, [sp]
 6634 004a 6423     		movs	r3, #100
 6635 004c 0122     		movs	r2, #1
 6636 004e 0121     		movs	r1, #1
 6637 0050 F869     		ldr	r0, [r7, #28]
 6638 0052 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 6639 0056 0346     		mov	r3, r0
 6640              		.loc 1 3126 10 discriminator 1
 6641 0058 002B     		cmp	r3, #0
 6642 005a 05D0     		beq	.L325
3127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
3128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Error on the CRC reception */
3129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 6643              		.loc 1 3129 9
 6644 005c FB69     		ldr	r3, [r7, #28]
 6645 005e 1B6E     		ldr	r3, [r3, #96]
 6646 0060 43F00202 		orr	r2, r3, #2
 6647 0064 FB69     		ldr	r3, [r7, #28]
 6648 0066 1A66     		str	r2, [r3, #96]
 6649              	.L325:
3130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
3131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Read CRC */
3132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
 6650              		.loc 1 3132 21
ARM GAS  /tmp/ccC16sX6.s 			page 172


 6651 0068 FB69     		ldr	r3, [r7, #28]
 6652 006a DB68     		ldr	r3, [r3, #12]
 6653              		.loc 1 3132 10
 6654 006c B3F5E06F 		cmp	r3, #1792
 6655 0070 05D9     		bls	.L326
3133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
3134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Read 16bit CRC */
3135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         tmpreg = READ_REG(hspi->Instance->DR);
 6656              		.loc 1 3135 18
 6657 0072 FB69     		ldr	r3, [r7, #28]
 6658 0074 1B68     		ldr	r3, [r3]
 6659 0076 DB68     		ldr	r3, [r3, #12]
 6660              		.loc 1 3135 16
 6661 0078 3B61     		str	r3, [r7, #16]
3136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* To avoid GCC warning */
3137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         UNUSED(tmpreg);
 6662              		.loc 1 3137 9
 6663 007a 3B69     		ldr	r3, [r7, #16]
 6664 007c 22E0     		b	.L324
 6665              	.L326:
3138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
3139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
3140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
3141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Initialize the 8bit temporary pointer */
3142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         ptmpreg8 = (__IO uint8_t *)&hspi->Instance->DR;
 6666              		.loc 1 3142 41
 6667 007e FB69     		ldr	r3, [r7, #28]
 6668 0080 1B68     		ldr	r3, [r3]
 6669              		.loc 1 3142 18
 6670 0082 0C33     		adds	r3, r3, #12
 6671 0084 7B61     		str	r3, [r7, #20]
3143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Read 8bit CRC */
3144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         tmpreg8 = *ptmpreg8;
 6672              		.loc 1 3144 19
 6673 0086 7B69     		ldr	r3, [r7, #20]
 6674 0088 1B78     		ldrb	r3, [r3]
 6675 008a DBB2     		uxtb	r3, r3
 6676              		.loc 1 3144 17
 6677 008c FB73     		strb	r3, [r7, #15]
3145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* To avoid GCC warning */
3146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         UNUSED(tmpreg8);
 6678              		.loc 1 3146 9
 6679 008e FB7B     		ldrb	r3, [r7, #15]
3147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (hspi->Init.CRCLength == SPI_CRC_LENGTH_16BIT)
 6680              		.loc 1 3148 23
 6681 0090 FB69     		ldr	r3, [r7, #28]
 6682 0092 1B6B     		ldr	r3, [r3, #48]
 6683              		.loc 1 3148 12
 6684 0094 022B     		cmp	r3, #2
 6685 0096 15D1     		bne	.L324
3149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
3150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_DEFAULT_TIMEOUT, tickstar
 6686              		.loc 1 3150 15
 6687 0098 BB69     		ldr	r3, [r7, #24]
 6688 009a 0093     		str	r3, [sp]
 6689 009c 6423     		movs	r3, #100
ARM GAS  /tmp/ccC16sX6.s 			page 173


 6690 009e 0122     		movs	r2, #1
 6691 00a0 0121     		movs	r1, #1
 6692 00a2 F869     		ldr	r0, [r7, #28]
 6693 00a4 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 6694 00a8 0346     		mov	r3, r0
 6695              		.loc 1 3150 14 discriminator 1
 6696 00aa 002B     		cmp	r3, #0
 6697 00ac 05D0     		beq	.L327
3151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           {
3152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             /* Error on the CRC reception */
3153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****             SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 6698              		.loc 1 3153 13
 6699 00ae FB69     		ldr	r3, [r7, #28]
 6700 00b0 1B6E     		ldr	r3, [r3, #96]
 6701 00b2 43F00202 		orr	r2, r3, #2
 6702 00b6 FB69     		ldr	r3, [r7, #28]
 6703 00b8 1A66     		str	r2, [r3, #96]
 6704              	.L327:
3154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           }
3155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Read 8bit CRC again in case of 16bit CRC in 8bit Data mode */
3156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           tmpreg8 = *ptmpreg8;
 6705              		.loc 1 3156 21
 6706 00ba 7B69     		ldr	r3, [r7, #20]
 6707 00bc 1B78     		ldrb	r3, [r3]
 6708 00be DBB2     		uxtb	r3, r3
 6709              		.loc 1 3156 19
 6710 00c0 FB73     		strb	r3, [r7, #15]
3157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* To avoid GCC warning */
3158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           UNUSED(tmpreg8);
 6711              		.loc 1 3158 11
 6712 00c2 FB7B     		ldrb	r3, [r7, #15]
 6713              	.L324:
3159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
3160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
3161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Check if we are in Master RX 2 line mode */
3165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if ((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
 6714              		.loc 1 3165 20
 6715 00c4 FB69     		ldr	r3, [r7, #28]
 6716 00c6 9B68     		ldr	r3, [r3, #8]
 6717              		.loc 1 3165 8
 6718 00c8 002B     		cmp	r3, #0
 6719 00ca 0DD1     		bne	.L328
 6720              		.loc 1 3165 70 discriminator 1
 6721 00cc FB69     		ldr	r3, [r7, #28]
 6722 00ce 5B68     		ldr	r3, [r3, #4]
 6723              		.loc 1 3165 56 discriminator 1
 6724 00d0 B3F5827F 		cmp	r3, #260
 6725 00d4 08D1     		bne	.L328
3166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Disable Rx/Tx DMA Request (done by default to handle the case master rx direction 2 lines)
3168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
 6726              		.loc 1 3168 7
 6727 00d6 FB69     		ldr	r3, [r7, #28]
 6728 00d8 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccC16sX6.s 			page 174


 6729 00da 5A68     		ldr	r2, [r3, #4]
 6730 00dc FB69     		ldr	r3, [r7, #28]
 6731 00de 1B68     		ldr	r3, [r3]
 6732 00e0 22F00302 		bic	r2, r2, #3
 6733 00e4 5A60     		str	r2, [r3, #4]
 6734 00e6 07E0     		b	.L329
 6735              	.L328:
3169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
3171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Normal case */
3173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
 6736              		.loc 1 3173 7
 6737 00e8 FB69     		ldr	r3, [r7, #28]
 6738 00ea 1B68     		ldr	r3, [r3]
 6739 00ec 5A68     		ldr	r2, [r3, #4]
 6740 00ee FB69     		ldr	r3, [r7, #28]
 6741 00f0 1B68     		ldr	r3, [r3]
 6742 00f2 22F00102 		bic	r2, r2, #1
 6743 00f6 5A60     		str	r2, [r3, #4]
 6744              	.L329:
3174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Check the end of the transaction */
3177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_EndRxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
 6745              		.loc 1 3177 9
 6746 00f8 BA69     		ldr	r2, [r7, #24]
 6747 00fa 6421     		movs	r1, #100
 6748 00fc F869     		ldr	r0, [r7, #28]
 6749 00fe FFF7FEFF 		bl	SPI_EndRxTransaction
 6750 0102 0346     		mov	r3, r0
 6751              		.loc 1 3177 8 discriminator 1
 6752 0104 002B     		cmp	r3, #0
 6753 0106 02D0     		beq	.L330
3178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
 6754              		.loc 1 3179 23
 6755 0108 FB69     		ldr	r3, [r7, #28]
 6756 010a 2022     		movs	r2, #32
 6757 010c 1A66     		str	r2, [r3, #96]
 6758              	.L330:
3180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxXferCount = 0U;
 6759              		.loc 1 3182 23
 6760 010e FB69     		ldr	r3, [r7, #28]
 6761 0110 0022     		movs	r2, #0
 6762 0112 A3F84620 		strh	r2, [r3, #70]	@ movhi
3183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 6763              		.loc 1 3183 17
 6764 0116 FB69     		ldr	r3, [r7, #28]
 6765 0118 0122     		movs	r2, #1
 6766 011a 83F85D20 		strb	r2, [r3, #93]
3184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Check if CRC error occurred */
3187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR))
ARM GAS  /tmp/ccC16sX6.s 			page 175


 6767              		.loc 1 3187 9
 6768 011e FB69     		ldr	r3, [r7, #28]
 6769 0120 1B68     		ldr	r3, [r3]
 6770 0122 9B68     		ldr	r3, [r3, #8]
 6771 0124 03F01003 		and	r3, r3, #16
 6772              		.loc 1 3187 8
 6773 0128 102B     		cmp	r3, #16
 6774 012a 0AD1     		bne	.L331
3188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 6775              		.loc 1 3189 7
 6776 012c FB69     		ldr	r3, [r7, #28]
 6777 012e 1B6E     		ldr	r3, [r3, #96]
 6778 0130 43F00202 		orr	r2, r3, #2
 6779 0134 FB69     		ldr	r3, [r7, #28]
 6780 0136 1A66     		str	r2, [r3, #96]
3190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
 6781              		.loc 1 3190 7
 6782 0138 FB69     		ldr	r3, [r7, #28]
 6783 013a 1B68     		ldr	r3, [r3]
 6784 013c 4FF6EF72 		movw	r2, #65519
 6785 0140 9A60     		str	r2, [r3, #8]
 6786              	.L331:
3191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 6787              		.loc 1 3194 13
 6788 0142 FB69     		ldr	r3, [r7, #28]
 6789 0144 1B6E     		ldr	r3, [r3, #96]
 6790              		.loc 1 3194 8
 6791 0146 002B     		cmp	r3, #0
 6792 0148 03D0     		beq	.L323
3195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Call user error callback */
3197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
3199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
 6793              		.loc 1 3200 7
 6794 014a F869     		ldr	r0, [r7, #28]
 6795 014c FFF7FEFF 		bl	HAL_SPI_ErrorCallback
3201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
 6796              		.loc 1 3202 7
 6797 0150 02E0     		b	.L322
 6798              	.L323:
3203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user Rx complete callback */
3206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxCpltCallback(hspi);
3208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_RxCpltCallback(hspi);
 6799              		.loc 1 3209 3
 6800 0152 F869     		ldr	r0, [r7, #28]
 6801 0154 FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
ARM GAS  /tmp/ccC16sX6.s 			page 176


 6802              	.L322:
3210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 6803              		.loc 1 3211 1
 6804 0158 2037     		adds	r7, r7, #32
 6805              		.cfi_def_cfa_offset 8
 6806 015a BD46     		mov	sp, r7
 6807              		.cfi_def_cfa_register 13
 6808              		@ sp needed
 6809 015c 80BD     		pop	{r7, pc}
 6810              		.cfi_endproc
 6811              	.LFE475:
 6813              		.section	.text.SPI_DMATransmitReceiveCplt,"ax",%progbits
 6814              		.align	1
 6815              		.syntax unified
 6816              		.thumb
 6817              		.thumb_func
 6819              	SPI_DMATransmitReceiveCplt:
 6820              	.LFB476:
3212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  DMA SPI transmit receive process complete callback.
3215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMATransmitReceiveCplt(DMA_HandleTypeDef *hdma)
3220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 6821              		.loc 1 3220 1
 6822              		.cfi_startproc
 6823              		@ args = 0, pretend = 0, frame = 32
 6824              		@ frame_needed = 1, uses_anonymous_args = 0
 6825 0000 80B5     		push	{r7, lr}
 6826              		.cfi_def_cfa_offset 8
 6827              		.cfi_offset 7, -8
 6828              		.cfi_offset 14, -4
 6829 0002 8AB0     		sub	sp, sp, #40
 6830              		.cfi_def_cfa_offset 48
 6831 0004 02AF     		add	r7, sp, #8
 6832              		.cfi_def_cfa 7, 40
 6833 0006 7860     		str	r0, [r7, #4]
3221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 6834              		.loc 1 3221 22
 6835 0008 7B68     		ldr	r3, [r7, #4]
 6836 000a 9B6A     		ldr	r3, [r3, #40]
 6837 000c FB61     		str	r3, [r7, #28]
3222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
3223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
 6838              		.loc 1 3224 17
 6839 000e 0023     		movs	r3, #0
 6840 0010 3B61     		str	r3, [r7, #16]
3225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint8_t  *ptmpreg8;
3226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint8_t  tmpreg8 = 0;
 6841              		.loc 1 3226 17
 6842 0012 0023     		movs	r3, #0
 6843 0014 FB73     		strb	r3, [r7, #15]
ARM GAS  /tmp/ccC16sX6.s 			page 177


3227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
3230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 6844              		.loc 1 3230 15
 6845 0016 FFF7FEFF 		bl	HAL_GetTick
 6846 001a B861     		str	r0, [r7, #24]
3231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* DMA Normal Mode */
3233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hdma->Instance->CCR & DMA_CCR_CIRC) != DMA_CCR_CIRC)
 6847              		.loc 1 3233 12
 6848 001c 7B68     		ldr	r3, [r7, #4]
 6849 001e 1B68     		ldr	r3, [r3]
 6850              		.loc 1 3233 22
 6851 0020 1B68     		ldr	r3, [r3]
 6852              		.loc 1 3233 28
 6853 0022 03F02003 		and	r3, r3, #32
 6854              		.loc 1 3233 6
 6855 0026 202B     		cmp	r3, #32
 6856 0028 00F08680 		beq	.L334
3234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable ERR interrupt */
3236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
 6857              		.loc 1 3236 5
 6858 002c FB69     		ldr	r3, [r7, #28]
 6859 002e 1B68     		ldr	r3, [r3]
 6860 0030 5A68     		ldr	r2, [r3, #4]
 6861 0032 FB69     		ldr	r3, [r7, #28]
 6862 0034 1B68     		ldr	r3, [r3]
 6863 0036 22F02002 		bic	r2, r2, #32
 6864 003a 5A60     		str	r2, [r3, #4]
3237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* CRC handling */
3240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 6865              		.loc 1 3240 19
 6866 003c FB69     		ldr	r3, [r7, #28]
 6867 003e 9B6A     		ldr	r3, [r3, #40]
 6868              		.loc 1 3240 8
 6869 0040 B3F5005F 		cmp	r3, #8192
 6870 0044 3DD1     		bne	.L335
3241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if ((hspi->Init.DataSize == SPI_DATASIZE_8BIT) && (hspi->Init.CRCLength == SPI_CRC_LENGTH_8BI
 6871              		.loc 1 3242 22
 6872 0046 FB69     		ldr	r3, [r7, #28]
 6873 0048 DB68     		ldr	r3, [r3, #12]
 6874              		.loc 1 3242 10
 6875 004a B3F5E06F 		cmp	r3, #1792
 6876 004e 20D1     		bne	.L336
 6877              		.loc 1 3242 68 discriminator 1
 6878 0050 FB69     		ldr	r3, [r7, #28]
 6879 0052 1B6B     		ldr	r3, [r3, #48]
 6880              		.loc 1 3242 54 discriminator 1
 6881 0054 012B     		cmp	r3, #1
 6882 0056 1CD1     		bne	.L336
3243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
3244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_QUARTER_FULL, SPI_DEFAULT
ARM GAS  /tmp/ccC16sX6.s 			page 178


 6883              		.loc 1 3244 13
 6884 0058 BB69     		ldr	r3, [r7, #24]
 6885 005a 0093     		str	r3, [sp]
 6886 005c 6423     		movs	r3, #100
 6887 005e 4FF40072 		mov	r2, #512
 6888 0062 4FF4C061 		mov	r1, #1536
 6889 0066 F869     		ldr	r0, [r7, #28]
 6890 0068 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 6891 006c 0346     		mov	r3, r0
 6892              		.loc 1 3244 12 discriminator 1
 6893 006e 002B     		cmp	r3, #0
 6894 0070 05D0     		beq	.L337
3245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                           tickstart) != HAL_OK)
3246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
3247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Error on the CRC reception */
3248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 6895              		.loc 1 3248 11
 6896 0072 FB69     		ldr	r3, [r7, #28]
 6897 0074 1B6E     		ldr	r3, [r3, #96]
 6898 0076 43F00202 		orr	r2, r3, #2
 6899 007a FB69     		ldr	r3, [r7, #28]
 6900 007c 1A66     		str	r2, [r3, #96]
 6901              	.L337:
3249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
3250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Initialize the 8bit temporary pointer */
3251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         ptmpreg8 = (__IO uint8_t *)&hspi->Instance->DR;
 6902              		.loc 1 3251 41
 6903 007e FB69     		ldr	r3, [r7, #28]
 6904 0080 1B68     		ldr	r3, [r3]
 6905              		.loc 1 3251 18
 6906 0082 0C33     		adds	r3, r3, #12
 6907 0084 7B61     		str	r3, [r7, #20]
3252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Read 8bit CRC */
3253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         tmpreg8 = *ptmpreg8;
 6908              		.loc 1 3253 19
 6909 0086 7B69     		ldr	r3, [r7, #20]
 6910 0088 1B78     		ldrb	r3, [r3]
 6911 008a DBB2     		uxtb	r3, r3
 6912              		.loc 1 3253 17
 6913 008c FB73     		strb	r3, [r7, #15]
3254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* To avoid GCC warning */
3255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         UNUSED(tmpreg8);
 6914              		.loc 1 3255 9
 6915 008e FB7B     		ldrb	r3, [r7, #15]
 6916 0090 17E0     		b	.L335
 6917              	.L336:
3256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
3257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
3258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
3259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_HALF_FULL, SPI_DEFAULT_TI
 6918              		.loc 1 3259 13
 6919 0092 BB69     		ldr	r3, [r7, #24]
 6920 0094 0093     		str	r3, [sp]
 6921 0096 6423     		movs	r3, #100
 6922 0098 4FF48062 		mov	r2, #1024
 6923 009c 4FF4C061 		mov	r1, #1536
 6924 00a0 F869     		ldr	r0, [r7, #28]
ARM GAS  /tmp/ccC16sX6.s 			page 179


 6925 00a2 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 6926 00a6 0346     		mov	r3, r0
 6927              		.loc 1 3259 12 discriminator 1
 6928 00a8 002B     		cmp	r3, #0
 6929 00aa 05D0     		beq	.L338
3260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                           tickstart) != HAL_OK)
3261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
3262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Error on the CRC reception */
3263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 6930              		.loc 1 3263 11
 6931 00ac FB69     		ldr	r3, [r7, #28]
 6932 00ae 1B6E     		ldr	r3, [r3, #96]
 6933 00b0 43F00202 		orr	r2, r3, #2
 6934 00b4 FB69     		ldr	r3, [r7, #28]
 6935 00b6 1A66     		str	r2, [r3, #96]
 6936              	.L338:
3264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
3265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Read CRC to Flush DR and RXNE flag */
3266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         tmpreg = READ_REG(hspi->Instance->DR);
 6937              		.loc 1 3266 18
 6938 00b8 FB69     		ldr	r3, [r7, #28]
 6939 00ba 1B68     		ldr	r3, [r3]
 6940 00bc DB68     		ldr	r3, [r3, #12]
 6941              		.loc 1 3266 16
 6942 00be 3B61     		str	r3, [r7, #16]
3267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* To avoid GCC warning */
3268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         UNUSED(tmpreg);
 6943              		.loc 1 3268 9
 6944 00c0 3B69     		ldr	r3, [r7, #16]
 6945              	.L335:
3269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
3270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Check the end of the transaction */
3274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
 6946              		.loc 1 3274 9
 6947 00c2 BA69     		ldr	r2, [r7, #24]
 6948 00c4 6421     		movs	r1, #100
 6949 00c6 F869     		ldr	r0, [r7, #28]
 6950 00c8 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 6951 00cc 0346     		mov	r3, r0
 6952              		.loc 1 3274 8 discriminator 1
 6953 00ce 002B     		cmp	r3, #0
 6954 00d0 05D0     		beq	.L339
3275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 6955              		.loc 1 3276 7
 6956 00d2 FB69     		ldr	r3, [r7, #28]
 6957 00d4 1B6E     		ldr	r3, [r3, #96]
 6958 00d6 43F02002 		orr	r2, r3, #32
 6959 00da FB69     		ldr	r3, [r7, #28]
 6960 00dc 1A66     		str	r2, [r3, #96]
 6961              	.L339:
3277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable Rx/Tx DMA Request */
ARM GAS  /tmp/ccC16sX6.s 			page 180


3280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
 6962              		.loc 1 3280 5
 6963 00de FB69     		ldr	r3, [r7, #28]
 6964 00e0 1B68     		ldr	r3, [r3]
 6965 00e2 5A68     		ldr	r2, [r3, #4]
 6966 00e4 FB69     		ldr	r3, [r7, #28]
 6967 00e6 1B68     		ldr	r3, [r3]
 6968 00e8 22F00302 		bic	r2, r2, #3
 6969 00ec 5A60     		str	r2, [r3, #4]
3281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxXferCount = 0U;
 6970              		.loc 1 3282 23
 6971 00ee FB69     		ldr	r3, [r7, #28]
 6972 00f0 0022     		movs	r2, #0
 6973 00f2 DA87     		strh	r2, [r3, #62]	@ movhi
3283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxXferCount = 0U;
 6974              		.loc 1 3283 23
 6975 00f4 FB69     		ldr	r3, [r7, #28]
 6976 00f6 0022     		movs	r2, #0
 6977 00f8 A3F84620 		strh	r2, [r3, #70]	@ movhi
3284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 6978              		.loc 1 3284 17
 6979 00fc FB69     		ldr	r3, [r7, #28]
 6980 00fe 0122     		movs	r2, #1
 6981 0100 83F85D20 		strb	r2, [r3, #93]
3285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Check if CRC error occurred */
3288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR))
 6982              		.loc 1 3288 9
 6983 0104 FB69     		ldr	r3, [r7, #28]
 6984 0106 1B68     		ldr	r3, [r3]
 6985 0108 9B68     		ldr	r3, [r3, #8]
 6986 010a 03F01003 		and	r3, r3, #16
 6987              		.loc 1 3288 8
 6988 010e 102B     		cmp	r3, #16
 6989 0110 0AD1     		bne	.L340
3289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 6990              		.loc 1 3290 7
 6991 0112 FB69     		ldr	r3, [r7, #28]
 6992 0114 1B6E     		ldr	r3, [r3, #96]
 6993 0116 43F00202 		orr	r2, r3, #2
 6994 011a FB69     		ldr	r3, [r7, #28]
 6995 011c 1A66     		str	r2, [r3, #96]
3291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
 6996              		.loc 1 3291 7
 6997 011e FB69     		ldr	r3, [r7, #28]
 6998 0120 1B68     		ldr	r3, [r3]
 6999 0122 4FF6EF72 		movw	r2, #65519
 7000 0126 9A60     		str	r2, [r3, #8]
 7001              	.L340:
3292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 7002              		.loc 1 3295 13
ARM GAS  /tmp/ccC16sX6.s 			page 181


 7003 0128 FB69     		ldr	r3, [r7, #28]
 7004 012a 1B6E     		ldr	r3, [r3, #96]
 7005              		.loc 1 3295 8
 7006 012c 002B     		cmp	r3, #0
 7007 012e 03D0     		beq	.L334
3296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Call user error callback */
3298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
3300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
 7008              		.loc 1 3301 7
 7009 0130 F869     		ldr	r0, [r7, #28]
 7010 0132 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
3302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
 7011              		.loc 1 3303 7
 7012 0136 02E0     		b	.L333
 7013              	.L334:
3304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user TxRx complete callback */
3307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxRxCpltCallback(hspi);
3309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_TxRxCpltCallback(hspi);
 7014              		.loc 1 3310 3
 7015 0138 F869     		ldr	r0, [r7, #28]
 7016 013a FFF7FEFF 		bl	HAL_SPI_TxRxCpltCallback
 7017              	.L333:
3311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 7018              		.loc 1 3312 1
 7019 013e 2037     		adds	r7, r7, #32
 7020              		.cfi_def_cfa_offset 8
 7021 0140 BD46     		mov	sp, r7
 7022              		.cfi_def_cfa_register 13
 7023              		@ sp needed
 7024 0142 80BD     		pop	{r7, pc}
 7025              		.cfi_endproc
 7026              	.LFE476:
 7028              		.section	.text.SPI_DMAHalfTransmitCplt,"ax",%progbits
 7029              		.align	1
 7030              		.syntax unified
 7031              		.thumb
 7032              		.thumb_func
 7034              	SPI_DMAHalfTransmitCplt:
 7035              	.LFB477:
3313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  DMA SPI half transmit process complete callback.
3316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAHalfTransmitCplt(DMA_HandleTypeDef *hdma)
3321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
ARM GAS  /tmp/ccC16sX6.s 			page 182


 7036              		.loc 1 3321 1
 7037              		.cfi_startproc
 7038              		@ args = 0, pretend = 0, frame = 16
 7039              		@ frame_needed = 1, uses_anonymous_args = 0
 7040 0000 80B5     		push	{r7, lr}
 7041              		.cfi_def_cfa_offset 8
 7042              		.cfi_offset 7, -8
 7043              		.cfi_offset 14, -4
 7044 0002 84B0     		sub	sp, sp, #16
 7045              		.cfi_def_cfa_offset 24
 7046 0004 00AF     		add	r7, sp, #0
 7047              		.cfi_def_cfa_register 7
 7048 0006 7860     		str	r0, [r7, #4]
3322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 7049              		.loc 1 3322 22
 7050 0008 7B68     		ldr	r3, [r7, #4]
 7051 000a 9B6A     		ldr	r3, [r3, #40]
 7052 000c FB60     		str	r3, [r7, #12]
3323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user Tx half complete callback */
3325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxHalfCpltCallback(hspi);
3327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_TxHalfCpltCallback(hspi);
 7053              		.loc 1 3328 3
 7054 000e F868     		ldr	r0, [r7, #12]
 7055 0010 FFF7FEFF 		bl	HAL_SPI_TxHalfCpltCallback
3329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 7056              		.loc 1 3330 1
 7057 0014 00BF     		nop
 7058 0016 1037     		adds	r7, r7, #16
 7059              		.cfi_def_cfa_offset 8
 7060 0018 BD46     		mov	sp, r7
 7061              		.cfi_def_cfa_register 13
 7062              		@ sp needed
 7063 001a 80BD     		pop	{r7, pc}
 7064              		.cfi_endproc
 7065              	.LFE477:
 7067              		.section	.text.SPI_DMAHalfReceiveCplt,"ax",%progbits
 7068              		.align	1
 7069              		.syntax unified
 7070              		.thumb
 7071              		.thumb_func
 7073              	SPI_DMAHalfReceiveCplt:
 7074              	.LFB478:
3331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  DMA SPI half receive process complete callback
3334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAHalfReceiveCplt(DMA_HandleTypeDef *hdma)
3339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 7075              		.loc 1 3339 1
 7076              		.cfi_startproc
ARM GAS  /tmp/ccC16sX6.s 			page 183


 7077              		@ args = 0, pretend = 0, frame = 16
 7078              		@ frame_needed = 1, uses_anonymous_args = 0
 7079 0000 80B5     		push	{r7, lr}
 7080              		.cfi_def_cfa_offset 8
 7081              		.cfi_offset 7, -8
 7082              		.cfi_offset 14, -4
 7083 0002 84B0     		sub	sp, sp, #16
 7084              		.cfi_def_cfa_offset 24
 7085 0004 00AF     		add	r7, sp, #0
 7086              		.cfi_def_cfa_register 7
 7087 0006 7860     		str	r0, [r7, #4]
3340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 7088              		.loc 1 3340 22
 7089 0008 7B68     		ldr	r3, [r7, #4]
 7090 000a 9B6A     		ldr	r3, [r3, #40]
 7091 000c FB60     		str	r3, [r7, #12]
3341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user Rx half complete callback */
3343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxHalfCpltCallback(hspi);
3345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_RxHalfCpltCallback(hspi);
 7092              		.loc 1 3346 3
 7093 000e F868     		ldr	r0, [r7, #12]
 7094 0010 FFF7FEFF 		bl	HAL_SPI_RxHalfCpltCallback
3347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 7095              		.loc 1 3348 1
 7096 0014 00BF     		nop
 7097 0016 1037     		adds	r7, r7, #16
 7098              		.cfi_def_cfa_offset 8
 7099 0018 BD46     		mov	sp, r7
 7100              		.cfi_def_cfa_register 13
 7101              		@ sp needed
 7102 001a 80BD     		pop	{r7, pc}
 7103              		.cfi_endproc
 7104              	.LFE478:
 7106              		.section	.text.SPI_DMAHalfTransmitReceiveCplt,"ax",%progbits
 7107              		.align	1
 7108              		.syntax unified
 7109              		.thumb
 7110              		.thumb_func
 7112              	SPI_DMAHalfTransmitReceiveCplt:
 7113              	.LFB479:
3349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  DMA SPI half transmit receive process complete callback.
3352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAHalfTransmitReceiveCplt(DMA_HandleTypeDef *hdma)
3357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 7114              		.loc 1 3357 1
 7115              		.cfi_startproc
 7116              		@ args = 0, pretend = 0, frame = 16
 7117              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /tmp/ccC16sX6.s 			page 184


 7118 0000 80B5     		push	{r7, lr}
 7119              		.cfi_def_cfa_offset 8
 7120              		.cfi_offset 7, -8
 7121              		.cfi_offset 14, -4
 7122 0002 84B0     		sub	sp, sp, #16
 7123              		.cfi_def_cfa_offset 24
 7124 0004 00AF     		add	r7, sp, #0
 7125              		.cfi_def_cfa_register 7
 7126 0006 7860     		str	r0, [r7, #4]
3358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 7127              		.loc 1 3358 22
 7128 0008 7B68     		ldr	r3, [r7, #4]
 7129 000a 9B6A     		ldr	r3, [r3, #40]
 7130 000c FB60     		str	r3, [r7, #12]
3359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user TxRx half complete callback */
3361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxRxHalfCpltCallback(hspi);
3363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_TxRxHalfCpltCallback(hspi);
 7131              		.loc 1 3364 3
 7132 000e F868     		ldr	r0, [r7, #12]
 7133 0010 FFF7FEFF 		bl	HAL_SPI_TxRxHalfCpltCallback
3365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 7134              		.loc 1 3366 1
 7135 0014 00BF     		nop
 7136 0016 1037     		adds	r7, r7, #16
 7137              		.cfi_def_cfa_offset 8
 7138 0018 BD46     		mov	sp, r7
 7139              		.cfi_def_cfa_register 13
 7140              		@ sp needed
 7141 001a 80BD     		pop	{r7, pc}
 7142              		.cfi_endproc
 7143              	.LFE479:
 7145              		.section	.text.SPI_DMAError,"ax",%progbits
 7146              		.align	1
 7147              		.syntax unified
 7148              		.thumb
 7149              		.thumb_func
 7151              	SPI_DMAError:
 7152              	.LFB480:
3367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  DMA SPI communication error callback.
3370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
3371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
3372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAError(DMA_HandleTypeDef *hdma)
3375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 7153              		.loc 1 3375 1
 7154              		.cfi_startproc
 7155              		@ args = 0, pretend = 0, frame = 16
 7156              		@ frame_needed = 1, uses_anonymous_args = 0
 7157 0000 80B5     		push	{r7, lr}
 7158              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccC16sX6.s 			page 185


 7159              		.cfi_offset 7, -8
 7160              		.cfi_offset 14, -4
 7161 0002 84B0     		sub	sp, sp, #16
 7162              		.cfi_def_cfa_offset 24
 7163 0004 00AF     		add	r7, sp, #0
 7164              		.cfi_def_cfa_register 7
 7165 0006 7860     		str	r0, [r7, #4]
3376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 7166              		.loc 1 3376 22
 7167 0008 7B68     		ldr	r3, [r7, #4]
 7168 000a 9B6A     		ldr	r3, [r3, #40]
 7169 000c FB60     		str	r3, [r7, #12]
3377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Stop the disable DMA transfer on SPI side */
3379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
 7170              		.loc 1 3379 3
 7171 000e FB68     		ldr	r3, [r7, #12]
 7172 0010 1B68     		ldr	r3, [r3]
 7173 0012 5A68     		ldr	r2, [r3, #4]
 7174 0014 FB68     		ldr	r3, [r7, #12]
 7175 0016 1B68     		ldr	r3, [r3]
 7176 0018 22F00302 		bic	r2, r2, #3
 7177 001c 5A60     		str	r2, [r3, #4]
3380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
 7178              		.loc 1 3381 3
 7179 001e FB68     		ldr	r3, [r7, #12]
 7180 0020 1B6E     		ldr	r3, [r3, #96]
 7181 0022 43F01002 		orr	r2, r3, #16
 7182 0026 FB68     		ldr	r3, [r7, #12]
 7183 0028 1A66     		str	r2, [r3, #96]
3382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 7184              		.loc 1 3382 15
 7185 002a FB68     		ldr	r3, [r7, #12]
 7186 002c 0122     		movs	r2, #1
 7187 002e 83F85D20 		strb	r2, [r3, #93]
3383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user error callback */
3384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCallback(hspi);
3386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_ErrorCallback(hspi);
 7188              		.loc 1 3387 3
 7189 0032 F868     		ldr	r0, [r7, #12]
 7190 0034 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
3388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 7191              		.loc 1 3389 1
 7192 0038 00BF     		nop
 7193 003a 1037     		adds	r7, r7, #16
 7194              		.cfi_def_cfa_offset 8
 7195 003c BD46     		mov	sp, r7
 7196              		.cfi_def_cfa_register 13
 7197              		@ sp needed
 7198 003e 80BD     		pop	{r7, pc}
 7199              		.cfi_endproc
 7200              	.LFE480:
 7202              		.section	.text.SPI_DMAAbortOnError,"ax",%progbits
ARM GAS  /tmp/ccC16sX6.s 			page 186


 7203              		.align	1
 7204              		.syntax unified
 7205              		.thumb
 7206              		.thumb_func
 7208              	SPI_DMAAbortOnError:
 7209              	.LFB481:
3390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  DMA SPI communication abort callback, when initiated by HAL services on Error
3393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         (To be called at end of DMA Abort procedure following error occurrence).
3394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hdma DMA handle.
3395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMAAbortOnError(DMA_HandleTypeDef *hdma)
3398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 7210              		.loc 1 3398 1
 7211              		.cfi_startproc
 7212              		@ args = 0, pretend = 0, frame = 16
 7213              		@ frame_needed = 1, uses_anonymous_args = 0
 7214 0000 80B5     		push	{r7, lr}
 7215              		.cfi_def_cfa_offset 8
 7216              		.cfi_offset 7, -8
 7217              		.cfi_offset 14, -4
 7218 0002 84B0     		sub	sp, sp, #16
 7219              		.cfi_def_cfa_offset 24
 7220 0004 00AF     		add	r7, sp, #0
 7221              		.cfi_def_cfa_register 7
 7222 0006 7860     		str	r0, [r7, #4]
3399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 7223              		.loc 1 3399 22
 7224 0008 7B68     		ldr	r3, [r7, #4]
 7225 000a 9B6A     		ldr	r3, [r3, #40]
 7226 000c FB60     		str	r3, [r7, #12]
3400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 7227              		.loc 1 3400 21
 7228 000e FB68     		ldr	r3, [r7, #12]
 7229 0010 0022     		movs	r2, #0
 7230 0012 A3F84620 		strh	r2, [r3, #70]	@ movhi
3401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 7231              		.loc 1 3401 21
 7232 0016 FB68     		ldr	r3, [r7, #12]
 7233 0018 0022     		movs	r2, #0
 7234 001a DA87     		strh	r2, [r3, #62]	@ movhi
3402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user error callback */
3404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->ErrorCallback(hspi);
3406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_ErrorCallback(hspi);
 7235              		.loc 1 3407 3
 7236 001c F868     		ldr	r0, [r7, #12]
 7237 001e FFF7FEFF 		bl	HAL_SPI_ErrorCallback
3408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 7238              		.loc 1 3409 1
 7239 0022 00BF     		nop
 7240 0024 1037     		adds	r7, r7, #16
ARM GAS  /tmp/ccC16sX6.s 			page 187


 7241              		.cfi_def_cfa_offset 8
 7242 0026 BD46     		mov	sp, r7
 7243              		.cfi_def_cfa_register 13
 7244              		@ sp needed
 7245 0028 80BD     		pop	{r7, pc}
 7246              		.cfi_endproc
 7247              	.LFE481:
 7249              		.section	.text.SPI_DMATxAbortCallback,"ax",%progbits
 7250              		.align	1
 7251              		.syntax unified
 7252              		.thumb
 7253              		.thumb_func
 7255              	SPI_DMATxAbortCallback:
 7256              	.LFB482:
3410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  DMA SPI Tx communication abort callback, when initiated by user
3413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         (To be called at end of DMA Tx Abort procedure following user abort request).
3414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @note   When this callback is executed, User Abort complete call back is called only if no
3415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         Abort still ongoing for Rx DMA Handle.
3416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hdma DMA handle.
3417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMATxAbortCallback(DMA_HandleTypeDef *hdma)
3420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 7257              		.loc 1 3420 1
 7258              		.cfi_startproc
 7259              		@ args = 0, pretend = 0, frame = 24
 7260              		@ frame_needed = 1, uses_anonymous_args = 0
 7261 0000 80B5     		push	{r7, lr}
 7262              		.cfi_def_cfa_offset 8
 7263              		.cfi_offset 7, -8
 7264              		.cfi_offset 14, -4
 7265 0002 88B0     		sub	sp, sp, #32
 7266              		.cfi_def_cfa_offset 40
 7267 0004 02AF     		add	r7, sp, #8
 7268              		.cfi_def_cfa 7, 32
 7269 0006 7860     		str	r0, [r7, #4]
3421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 7270              		.loc 1 3421 22
 7271 0008 7B68     		ldr	r3, [r7, #4]
 7272 000a 9B6A     		ldr	r3, [r3, #40]
 7273 000c 7B61     		str	r3, [r7, #20]
3422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback = NULL;
 7274              		.loc 1 3423 7
 7275 000e 7B69     		ldr	r3, [r7, #20]
 7276 0010 5B6D     		ldr	r3, [r3, #84]
 7277              		.loc 1 3423 35
 7278 0012 0022     		movs	r2, #0
 7279 0014 9A63     		str	r2, [r3, #56]
3424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable Tx DMA Request */
3426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
 7280              		.loc 1 3426 3
 7281 0016 7B69     		ldr	r3, [r7, #20]
 7282 0018 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccC16sX6.s 			page 188


 7283 001a 5A68     		ldr	r2, [r3, #4]
 7284 001c 7B69     		ldr	r3, [r7, #20]
 7285 001e 1B68     		ldr	r3, [r3]
 7286 0020 22F00202 		bic	r2, r2, #2
 7287 0024 5A60     		str	r2, [r3, #4]
3427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) != HAL_OK)
 7288              		.loc 1 3428 7
 7289 0026 FFF7FEFF 		bl	HAL_GetTick
 7290 002a 0346     		mov	r3, r0
 7291              		.loc 1 3428 7 is_stmt 0 discriminator 1
 7292 002c 1A46     		mov	r2, r3
 7293 002e 6421     		movs	r1, #100
 7294 0030 7869     		ldr	r0, [r7, #20]
 7295 0032 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 7296 0036 0346     		mov	r3, r0
 7297              		.loc 1 3428 6 is_stmt 1 discriminator 2
 7298 0038 002B     		cmp	r3, #0
 7299 003a 02D0     		beq	.L348
3429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 7300              		.loc 1 3430 21
 7301 003c 7B69     		ldr	r3, [r7, #20]
 7302 003e 4022     		movs	r2, #64
 7303 0040 1A66     		str	r2, [r3, #96]
 7304              	.L348:
3431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable SPI Peripheral */
3434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 7305              		.loc 1 3434 3
 7306 0042 7B69     		ldr	r3, [r7, #20]
 7307 0044 1B68     		ldr	r3, [r3]
 7308 0046 1A68     		ldr	r2, [r3]
 7309 0048 7B69     		ldr	r3, [r7, #20]
 7310 004a 1B68     		ldr	r3, [r3]
 7311 004c 22F04002 		bic	r2, r2, #64
 7312 0050 1A60     		str	r2, [r3]
3435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Empty the FRLVL fifo */
3437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT,
 7313              		.loc 1 3437 7
 7314 0052 FFF7FEFF 		bl	HAL_GetTick
 7315 0056 0346     		mov	r3, r0
 7316              		.loc 1 3437 7 is_stmt 0 discriminator 1
 7317 0058 0093     		str	r3, [sp]
 7318 005a 6423     		movs	r3, #100
 7319 005c 0022     		movs	r2, #0
 7320 005e 4FF4C061 		mov	r1, #1536
 7321 0062 7869     		ldr	r0, [r7, #20]
 7322 0064 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 7323 0068 0346     		mov	r3, r0
 7324              		.loc 1 3437 6 is_stmt 1 discriminator 2
 7325 006a 002B     		cmp	r3, #0
 7326 006c 02D0     		beq	.L349
3438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                     HAL_GetTick()) != HAL_OK)
3439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
ARM GAS  /tmp/ccC16sX6.s 			page 189


3440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 7327              		.loc 1 3440 21
 7328 006e 7B69     		ldr	r3, [r7, #20]
 7329 0070 4022     		movs	r2, #64
 7330 0072 1A66     		str	r2, [r3, #96]
 7331              	.L349:
3441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if an Abort process is still ongoing */
3444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->hdmarx != NULL)
 7332              		.loc 1 3444 11
 7333 0074 7B69     		ldr	r3, [r7, #20]
 7334 0076 9B6D     		ldr	r3, [r3, #88]
 7335              		.loc 1 3444 6
 7336 0078 002B     		cmp	r3, #0
 7337 007a 04D0     		beq	.L350
3445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->hdmarx->XferAbortCallback != NULL)
 7338              		.loc 1 3446 13
 7339 007c 7B69     		ldr	r3, [r7, #20]
 7340 007e 9B6D     		ldr	r3, [r3, #88]
 7341              		.loc 1 3446 21
 7342 0080 9B6B     		ldr	r3, [r3, #56]
 7343              		.loc 1 3446 8
 7344 0082 002B     		cmp	r3, #0
 7345 0084 27D1     		bne	.L353
 7346              	.L350:
3447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
3449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* No Abort process still ongoing : All DMA Stream/Channel are aborted, call user Abort Complete 
3453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 7347              		.loc 1 3453 21
 7348 0086 7B69     		ldr	r3, [r7, #20]
 7349 0088 0022     		movs	r2, #0
 7350 008a A3F84620 		strh	r2, [r3, #70]	@ movhi
3454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 7351              		.loc 1 3454 21
 7352 008e 7B69     		ldr	r3, [r7, #20]
 7353 0090 0022     		movs	r2, #0
 7354 0092 DA87     		strh	r2, [r3, #62]	@ movhi
3455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check no error during Abort procedure */
3457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_ABORT)
 7355              		.loc 1 3457 11
 7356 0094 7B69     		ldr	r3, [r7, #20]
 7357 0096 1B6E     		ldr	r3, [r3, #96]
 7358              		.loc 1 3457 6
 7359 0098 402B     		cmp	r3, #64
 7360 009a 02D0     		beq	.L352
3458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset errorCode */
3460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 7361              		.loc 1 3460 21
 7362 009c 7B69     		ldr	r3, [r7, #20]
ARM GAS  /tmp/ccC16sX6.s 			page 190


 7363 009e 0022     		movs	r2, #0
 7364 00a0 1A66     		str	r2, [r3, #96]
 7365              	.L352:
 7366              	.LBB12:
3461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
3464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
 7367              		.loc 1 3464 3
 7368 00a2 0023     		movs	r3, #0
 7369 00a4 3B61     		str	r3, [r7, #16]
 7370 00a6 7B69     		ldr	r3, [r7, #20]
 7371 00a8 1B68     		ldr	r3, [r3]
 7372 00aa DB68     		ldr	r3, [r3, #12]
 7373 00ac 3B61     		str	r3, [r7, #16]
 7374 00ae 7B69     		ldr	r3, [r7, #20]
 7375 00b0 1B68     		ldr	r3, [r3]
 7376 00b2 9B68     		ldr	r3, [r3, #8]
 7377 00b4 3B61     		str	r3, [r7, #16]
 7378 00b6 3B69     		ldr	r3, [r7, #16]
 7379              	.LBE12:
 7380              	.LBB13:
3465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 7381              		.loc 1 3465 3
 7382 00b8 0023     		movs	r3, #0
 7383 00ba FB60     		str	r3, [r7, #12]
 7384 00bc 7B69     		ldr	r3, [r7, #20]
 7385 00be 1B68     		ldr	r3, [r3]
 7386 00c0 9B68     		ldr	r3, [r3, #8]
 7387 00c2 FB60     		str	r3, [r7, #12]
 7388 00c4 FB68     		ldr	r3, [r7, #12]
 7389              	.LBE13:
3466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Restore hspi->State to Ready */
3468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State  = HAL_SPI_STATE_READY;
 7390              		.loc 1 3468 16
 7391 00c6 7B69     		ldr	r3, [r7, #20]
 7392 00c8 0122     		movs	r2, #1
 7393 00ca 83F85D20 		strb	r2, [r3, #93]
3469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user Abort complete callback */
3471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->AbortCpltCallback(hspi);
3473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_AbortCpltCallback(hspi);
 7394              		.loc 1 3474 3
 7395 00ce 7869     		ldr	r0, [r7, #20]
 7396 00d0 FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 7397 00d4 00E0     		b	.L347
 7398              	.L353:
3448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7399              		.loc 1 3448 7
 7400 00d6 00BF     		nop
 7401              	.L347:
3475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 7402              		.loc 1 3476 1
ARM GAS  /tmp/ccC16sX6.s 			page 191


 7403 00d8 1837     		adds	r7, r7, #24
 7404              		.cfi_def_cfa_offset 8
 7405 00da BD46     		mov	sp, r7
 7406              		.cfi_def_cfa_register 13
 7407              		@ sp needed
 7408 00dc 80BD     		pop	{r7, pc}
 7409              		.cfi_endproc
 7410              	.LFE482:
 7412              		.section	.text.SPI_DMARxAbortCallback,"ax",%progbits
 7413              		.align	1
 7414              		.syntax unified
 7415              		.thumb
 7416              		.thumb_func
 7418              	SPI_DMARxAbortCallback:
 7419              	.LFB483:
3477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  DMA SPI Rx communication abort callback, when initiated by user
3480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         (To be called at end of DMA Rx Abort procedure following user abort request).
3481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @note   When this callback is executed, User Abort complete call back is called only if no
3482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *         Abort still ongoing for Tx DMA Handle.
3483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hdma DMA handle.
3484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_DMARxAbortCallback(DMA_HandleTypeDef *hdma)
3487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 7420              		.loc 1 3487 1
 7421              		.cfi_startproc
 7422              		@ args = 0, pretend = 0, frame = 24
 7423              		@ frame_needed = 1, uses_anonymous_args = 0
 7424 0000 80B5     		push	{r7, lr}
 7425              		.cfi_def_cfa_offset 8
 7426              		.cfi_offset 7, -8
 7427              		.cfi_offset 14, -4
 7428 0002 88B0     		sub	sp, sp, #32
 7429              		.cfi_def_cfa_offset 40
 7430 0004 02AF     		add	r7, sp, #8
 7431              		.cfi_def_cfa 7, 32
 7432 0006 7860     		str	r0, [r7, #4]
3488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent);
 7433              		.loc 1 3488 22
 7434 0008 7B68     		ldr	r3, [r7, #4]
 7435 000a 9B6A     		ldr	r3, [r3, #40]
 7436 000c 7B61     		str	r3, [r7, #20]
3489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable SPI Peripheral */
3491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 7437              		.loc 1 3491 3
 7438 000e 7B69     		ldr	r3, [r7, #20]
 7439 0010 1B68     		ldr	r3, [r3]
 7440 0012 1A68     		ldr	r2, [r3]
 7441 0014 7B69     		ldr	r3, [r7, #20]
 7442 0016 1B68     		ldr	r3, [r3]
 7443 0018 22F04002 		bic	r2, r2, #64
 7444 001c 1A60     		str	r2, [r3]
3492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
ARM GAS  /tmp/ccC16sX6.s 			page 192


 7445              		.loc 1 3493 7
 7446 001e 7B69     		ldr	r3, [r7, #20]
 7447 0020 9B6D     		ldr	r3, [r3, #88]
 7448              		.loc 1 3493 35
 7449 0022 0022     		movs	r2, #0
 7450 0024 9A63     		str	r2, [r3, #56]
3494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable Rx DMA Request */
3496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
 7451              		.loc 1 3496 3
 7452 0026 7B69     		ldr	r3, [r7, #20]
 7453 0028 1B68     		ldr	r3, [r3]
 7454 002a 5A68     		ldr	r2, [r3, #4]
 7455 002c 7B69     		ldr	r3, [r7, #20]
 7456 002e 1B68     		ldr	r3, [r3]
 7457 0030 22F00102 		bic	r2, r2, #1
 7458 0034 5A60     		str	r2, [r3, #4]
3497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Control the BSY flag */
3499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) 
 7459              		.loc 1 3499 7
 7460 0036 FFF7FEFF 		bl	HAL_GetTick
 7461 003a 0346     		mov	r3, r0
 7462              		.loc 1 3499 7 is_stmt 0 discriminator 1
 7463 003c 0093     		str	r3, [sp]
 7464 003e 6423     		movs	r3, #100
 7465 0040 0022     		movs	r2, #0
 7466 0042 8021     		movs	r1, #128
 7467 0044 7869     		ldr	r0, [r7, #20]
 7468 0046 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 7469 004a 0346     		mov	r3, r0
 7470              		.loc 1 3499 6 is_stmt 1 discriminator 2
 7471 004c 002B     		cmp	r3, #0
 7472 004e 02D0     		beq	.L355
3500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 7473              		.loc 1 3501 21
 7474 0050 7B69     		ldr	r3, [r7, #20]
 7475 0052 4022     		movs	r2, #64
 7476 0054 1A66     		str	r2, [r3, #96]
 7477              	.L355:
3502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Empty the FRLVL fifo */
3505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT,
 7478              		.loc 1 3505 7
 7479 0056 FFF7FEFF 		bl	HAL_GetTick
 7480 005a 0346     		mov	r3, r0
 7481              		.loc 1 3505 7 is_stmt 0 discriminator 1
 7482 005c 0093     		str	r3, [sp]
 7483 005e 6423     		movs	r3, #100
 7484 0060 0022     		movs	r2, #0
 7485 0062 4FF4C061 		mov	r1, #1536
 7486 0066 7869     		ldr	r0, [r7, #20]
 7487 0068 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 7488 006c 0346     		mov	r3, r0
 7489              		.loc 1 3505 6 is_stmt 1 discriminator 2
ARM GAS  /tmp/ccC16sX6.s 			page 193


 7490 006e 002B     		cmp	r3, #0
 7491 0070 02D0     		beq	.L356
3506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                     HAL_GetTick()) != HAL_OK)
3507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 7492              		.loc 1 3508 21
 7493 0072 7B69     		ldr	r3, [r7, #20]
 7494 0074 4022     		movs	r2, #64
 7495 0076 1A66     		str	r2, [r3, #96]
 7496              	.L356:
3509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if an Abort process is still ongoing */
3512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->hdmatx != NULL)
 7497              		.loc 1 3512 11
 7498 0078 7B69     		ldr	r3, [r7, #20]
 7499 007a 5B6D     		ldr	r3, [r3, #84]
 7500              		.loc 1 3512 6
 7501 007c 002B     		cmp	r3, #0
 7502 007e 04D0     		beq	.L357
3513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->hdmatx->XferAbortCallback != NULL)
 7503              		.loc 1 3514 13
 7504 0080 7B69     		ldr	r3, [r7, #20]
 7505 0082 5B6D     		ldr	r3, [r3, #84]
 7506              		.loc 1 3514 21
 7507 0084 9B6B     		ldr	r3, [r3, #56]
 7508              		.loc 1 3514 8
 7509 0086 002B     		cmp	r3, #0
 7510 0088 27D1     		bne	.L360
 7511              	.L357:
3515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
3517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* No Abort process still ongoing : All DMA Stream/Channel are aborted, call user Abort Complete 
3521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 7512              		.loc 1 3521 21
 7513 008a 7B69     		ldr	r3, [r7, #20]
 7514 008c 0022     		movs	r2, #0
 7515 008e A3F84620 		strh	r2, [r3, #70]	@ movhi
3522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 7516              		.loc 1 3522 21
 7517 0092 7B69     		ldr	r3, [r7, #20]
 7518 0094 0022     		movs	r2, #0
 7519 0096 DA87     		strh	r2, [r3, #62]	@ movhi
3523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check no error during Abort procedure */
3525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_ABORT)
 7520              		.loc 1 3525 11
 7521 0098 7B69     		ldr	r3, [r7, #20]
 7522 009a 1B6E     		ldr	r3, [r3, #96]
 7523              		.loc 1 3525 6
 7524 009c 402B     		cmp	r3, #64
 7525 009e 02D0     		beq	.L359
3526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
ARM GAS  /tmp/ccC16sX6.s 			page 194


3527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Reset errorCode */
3528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 7526              		.loc 1 3528 21
 7527 00a0 7B69     		ldr	r3, [r7, #20]
 7528 00a2 0022     		movs	r2, #0
 7529 00a4 1A66     		str	r2, [r3, #96]
 7530              	.L359:
 7531              	.LBB14:
3529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
3532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
 7532              		.loc 1 3532 3
 7533 00a6 0023     		movs	r3, #0
 7534 00a8 3B61     		str	r3, [r7, #16]
 7535 00aa 7B69     		ldr	r3, [r7, #20]
 7536 00ac 1B68     		ldr	r3, [r3]
 7537 00ae DB68     		ldr	r3, [r3, #12]
 7538 00b0 3B61     		str	r3, [r7, #16]
 7539 00b2 7B69     		ldr	r3, [r7, #20]
 7540 00b4 1B68     		ldr	r3, [r3]
 7541 00b6 9B68     		ldr	r3, [r3, #8]
 7542 00b8 3B61     		str	r3, [r7, #16]
 7543 00ba 3B69     		ldr	r3, [r7, #16]
 7544              	.LBE14:
 7545              	.LBB15:
3533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 7546              		.loc 1 3533 3
 7547 00bc 0023     		movs	r3, #0
 7548 00be FB60     		str	r3, [r7, #12]
 7549 00c0 7B69     		ldr	r3, [r7, #20]
 7550 00c2 1B68     		ldr	r3, [r3]
 7551 00c4 9B68     		ldr	r3, [r3, #8]
 7552 00c6 FB60     		str	r3, [r7, #12]
 7553 00c8 FB68     		ldr	r3, [r7, #12]
 7554              	.LBE15:
3534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Restore hspi->State to Ready */
3536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State  = HAL_SPI_STATE_READY;
 7555              		.loc 1 3536 16
 7556 00ca 7B69     		ldr	r3, [r7, #20]
 7557 00cc 0122     		movs	r2, #1
 7558 00ce 83F85D20 		strb	r2, [r3, #93]
3537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Call user Abort complete callback */
3539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->AbortCpltCallback(hspi);
3541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
3542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   HAL_SPI_AbortCpltCallback(hspi);
 7559              		.loc 1 3542 3
 7560 00d2 7869     		ldr	r0, [r7, #20]
 7561 00d4 FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 7562 00d8 00E0     		b	.L354
 7563              	.L360:
3516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
 7564              		.loc 1 3516 7
 7565 00da 00BF     		nop
ARM GAS  /tmp/ccC16sX6.s 			page 195


 7566              	.L354:
3543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 7567              		.loc 1 3544 1
 7568 00dc 1837     		adds	r7, r7, #24
 7569              		.cfi_def_cfa_offset 8
 7570 00de BD46     		mov	sp, r7
 7571              		.cfi_def_cfa_register 13
 7572              		@ sp needed
 7573 00e0 80BD     		pop	{r7, pc}
 7574              		.cfi_endproc
 7575              	.LFE483:
 7577              		.section	.text.SPI_2linesRxISR_8BIT,"ax",%progbits
 7578              		.align	1
 7579              		.syntax unified
 7580              		.thumb
 7581              		.thumb_func
 7583              	SPI_2linesRxISR_8BIT:
 7584              	.LFB484:
3545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Rx 8-bit handler for Transmit and Receive in Interrupt mode.
3548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesRxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 7585              		.loc 1 3553 1
 7586              		.cfi_startproc
 7587              		@ args = 0, pretend = 0, frame = 8
 7588              		@ frame_needed = 1, uses_anonymous_args = 0
 7589 0000 80B5     		push	{r7, lr}
 7590              		.cfi_def_cfa_offset 8
 7591              		.cfi_offset 7, -8
 7592              		.cfi_offset 14, -4
 7593 0002 82B0     		sub	sp, sp, #8
 7594              		.cfi_def_cfa_offset 16
 7595 0004 00AF     		add	r7, sp, #0
 7596              		.cfi_def_cfa_register 7
 7597 0006 7860     		str	r0, [r7, #4]
3554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Receive data in packing mode */
3555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->RxXferCount > 1U)
 7598              		.loc 1 3555 11
 7599 0008 7B68     		ldr	r3, [r7, #4]
 7600 000a B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 7601 000e 9BB2     		uxth	r3, r3
 7602              		.loc 1 3555 6
 7603 0010 012B     		cmp	r3, #1
 7604 0012 23D9     		bls	.L362
3556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
 7605              		.loc 1 3557 54
 7606 0014 7B68     		ldr	r3, [r7, #4]
 7607 0016 1B68     		ldr	r3, [r3]
 7608              		.loc 1 3557 64
 7609 0018 DA68     		ldr	r2, [r3, #12]
ARM GAS  /tmp/ccC16sX6.s 			page 196


 7610              		.loc 1 3557 23
 7611 001a 7B68     		ldr	r3, [r7, #4]
 7612 001c 1B6C     		ldr	r3, [r3, #64]
 7613              		.loc 1 3557 39
 7614 001e 92B2     		uxth	r2, r2
 7615              		.loc 1 3557 37
 7616 0020 1A80     		strh	r2, [r3]	@ movhi
3558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pRxBuffPtr += sizeof(uint16_t);
 7617              		.loc 1 3558 9
 7618 0022 7B68     		ldr	r3, [r7, #4]
 7619 0024 1B6C     		ldr	r3, [r3, #64]
 7620              		.loc 1 3558 22
 7621 0026 9A1C     		adds	r2, r3, #2
 7622 0028 7B68     		ldr	r3, [r7, #4]
 7623 002a 1A64     		str	r2, [r3, #64]
3559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxXferCount -= 2U;
 7624              		.loc 1 3559 9
 7625 002c 7B68     		ldr	r3, [r7, #4]
 7626 002e B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 7627 0032 9BB2     		uxth	r3, r3
 7628              		.loc 1 3559 23
 7629 0034 023B     		subs	r3, r3, #2
 7630 0036 9AB2     		uxth	r2, r3
 7631 0038 7B68     		ldr	r3, [r7, #4]
 7632 003a A3F84620 		strh	r2, [r3, #70]	@ movhi
3560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->RxXferCount == 1U)
 7633              		.loc 1 3560 13
 7634 003e 7B68     		ldr	r3, [r7, #4]
 7635 0040 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 7636 0044 9BB2     		uxth	r3, r3
 7637              		.loc 1 3560 8
 7638 0046 012B     		cmp	r3, #1
 7639 0048 1FD1     		bne	.L363
3561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Set RX Fifo threshold according the reception data length: 8bit */
3563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 7640              		.loc 1 3563 7
 7641 004a 7B68     		ldr	r3, [r7, #4]
 7642 004c 1B68     		ldr	r3, [r3]
 7643 004e 5A68     		ldr	r2, [r3, #4]
 7644 0050 7B68     		ldr	r3, [r7, #4]
 7645 0052 1B68     		ldr	r3, [r3]
 7646 0054 42F48052 		orr	r2, r2, #4096
 7647 0058 5A60     		str	r2, [r3, #4]
 7648 005a 16E0     		b	.L363
 7649              	.L362:
3564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Receive data in 8 Bit mode */
3567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
3568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     *hspi->pRxBuffPtr = *((__IO uint8_t *)&hspi->Instance->DR);
 7650              		.loc 1 3569 48
 7651 005c 7B68     		ldr	r3, [r7, #4]
 7652 005e 1B68     		ldr	r3, [r3]
 7653              		.loc 1 3569 43
 7654 0060 03F10C02 		add	r2, r3, #12
ARM GAS  /tmp/ccC16sX6.s 			page 197


 7655              		.loc 1 3569 10
 7656 0064 7B68     		ldr	r3, [r7, #4]
 7657 0066 1B6C     		ldr	r3, [r3, #64]
 7658              		.loc 1 3569 25
 7659 0068 1278     		ldrb	r2, [r2]
 7660 006a D2B2     		uxtb	r2, r2
 7661              		.loc 1 3569 23
 7662 006c 1A70     		strb	r2, [r3]
3570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pRxBuffPtr++;
 7663              		.loc 1 3570 9
 7664 006e 7B68     		ldr	r3, [r7, #4]
 7665 0070 1B6C     		ldr	r3, [r3, #64]
 7666              		.loc 1 3570 21
 7667 0072 5A1C     		adds	r2, r3, #1
 7668 0074 7B68     		ldr	r3, [r7, #4]
 7669 0076 1A64     		str	r2, [r3, #64]
3571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->RxXferCount--;
 7670              		.loc 1 3571 9
 7671 0078 7B68     		ldr	r3, [r7, #4]
 7672 007a B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 7673 007e 9BB2     		uxth	r3, r3
 7674              		.loc 1 3571 22
 7675 0080 013B     		subs	r3, r3, #1
 7676 0082 9AB2     		uxth	r2, r3
 7677 0084 7B68     		ldr	r3, [r7, #4]
 7678 0086 A3F84620 		strh	r2, [r3, #70]	@ movhi
 7679              	.L363:
3572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check end of the reception */
3575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
 7680              		.loc 1 3575 11
 7681 008a 7B68     		ldr	r3, [r7, #4]
 7682 008c B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 7683 0090 9BB2     		uxth	r3, r3
 7684              		.loc 1 3575 6
 7685 0092 002B     		cmp	r3, #0
 7686 0094 20D1     		bne	.L361
3576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 7687              		.loc 1 3578 19
 7688 0096 7B68     		ldr	r3, [r7, #4]
 7689 0098 9B6A     		ldr	r3, [r3, #40]
 7690              		.loc 1 3578 8
 7691 009a B3F5005F 		cmp	r3, #8192
 7692 009e 0BD1     		bne	.L365
3579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR2, SPI_RXFIFO_THRESHOLD);
 7693              		.loc 1 3580 7
 7694 00a0 7B68     		ldr	r3, [r7, #4]
 7695 00a2 1B68     		ldr	r3, [r3]
 7696 00a4 5A68     		ldr	r2, [r3, #4]
 7697 00a6 7B68     		ldr	r3, [r7, #4]
 7698 00a8 1B68     		ldr	r3, [r3]
 7699 00aa 42F48052 		orr	r2, r2, #4096
 7700 00ae 5A60     		str	r2, [r3, #4]
ARM GAS  /tmp/ccC16sX6.s 			page 198


3581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->RxISR =  SPI_2linesRxISR_8BITCRC;
 7701              		.loc 1 3581 19
 7702 00b0 7B68     		ldr	r3, [r7, #4]
 7703 00b2 0B4A     		ldr	r2, .L366
 7704 00b4 DA64     		str	r2, [r3, #76]
3582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
 7705              		.loc 1 3582 7
 7706 00b6 0FE0     		b	.L361
 7707              	.L365:
3583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable RXNE  and ERR interrupt */
3587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
 7708              		.loc 1 3587 5
 7709 00b8 7B68     		ldr	r3, [r7, #4]
 7710 00ba 1B68     		ldr	r3, [r3]
 7711 00bc 5A68     		ldr	r2, [r3, #4]
 7712 00be 7B68     		ldr	r3, [r7, #4]
 7713 00c0 1B68     		ldr	r3, [r3]
 7714 00c2 22F06002 		bic	r2, r2, #96
 7715 00c6 5A60     		str	r2, [r3, #4]
3588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->TxXferCount == 0U)
 7716              		.loc 1 3589 13
 7717 00c8 7B68     		ldr	r3, [r7, #4]
 7718 00ca DB8F     		ldrh	r3, [r3, #62]	@ movhi
 7719 00cc 9BB2     		uxth	r3, r3
 7720              		.loc 1 3589 8
 7721 00ce 002B     		cmp	r3, #0
 7722 00d0 02D1     		bne	.L361
3590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
 7723              		.loc 1 3591 7
 7724 00d2 7868     		ldr	r0, [r7, #4]
 7725 00d4 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 7726              	.L361:
3592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 7727              		.loc 1 3594 1
 7728 00d8 0837     		adds	r7, r7, #8
 7729              		.cfi_def_cfa_offset 8
 7730 00da BD46     		mov	sp, r7
 7731              		.cfi_def_cfa_register 13
 7732              		@ sp needed
 7733 00dc 80BD     		pop	{r7, pc}
 7734              	.L367:
 7735 00de 00BF     		.align	2
 7736              	.L366:
 7737 00e0 00000000 		.word	SPI_2linesRxISR_8BITCRC
 7738              		.cfi_endproc
 7739              	.LFE484:
 7741              		.section	.text.SPI_2linesRxISR_8BITCRC,"ax",%progbits
 7742              		.align	1
 7743              		.syntax unified
 7744              		.thumb
ARM GAS  /tmp/ccC16sX6.s 			page 199


 7745              		.thumb_func
 7747              	SPI_2linesRxISR_8BITCRC:
 7748              	.LFB485:
3595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Rx 8-bit handler for Transmit and Receive in Interrupt mode.
3599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesRxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi)
3604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 7749              		.loc 1 3604 1
 7750              		.cfi_startproc
 7751              		@ args = 0, pretend = 0, frame = 16
 7752              		@ frame_needed = 1, uses_anonymous_args = 0
 7753 0000 80B5     		push	{r7, lr}
 7754              		.cfi_def_cfa_offset 8
 7755              		.cfi_offset 7, -8
 7756              		.cfi_offset 14, -4
 7757 0002 84B0     		sub	sp, sp, #16
 7758              		.cfi_def_cfa_offset 24
 7759 0004 00AF     		add	r7, sp, #0
 7760              		.cfi_def_cfa_register 7
 7761 0006 7860     		str	r0, [r7, #4]
3605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint8_t  *ptmpreg8;
3606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint8_t  tmpreg8 = 0;
 7762              		.loc 1 3606 17
 7763 0008 0023     		movs	r3, #0
 7764 000a FB72     		strb	r3, [r7, #11]
3607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Initialize the 8bit temporary pointer */
3609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   ptmpreg8 = (__IO uint8_t *)&hspi->Instance->DR;
 7765              		.loc 1 3609 35
 7766 000c 7B68     		ldr	r3, [r7, #4]
 7767 000e 1B68     		ldr	r3, [r3]
 7768              		.loc 1 3609 12
 7769 0010 0C33     		adds	r3, r3, #12
 7770 0012 FB60     		str	r3, [r7, #12]
3610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Read 8bit CRC to flush Data Register */
3611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmpreg8 = *ptmpreg8;
 7771              		.loc 1 3611 13
 7772 0014 FB68     		ldr	r3, [r7, #12]
 7773 0016 1B78     		ldrb	r3, [r3]
 7774 0018 DBB2     		uxtb	r3, r3
 7775              		.loc 1 3611 11
 7776 001a FB72     		strb	r3, [r7, #11]
3612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* To avoid GCC warning */
3613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(tmpreg8);
 7777              		.loc 1 3613 3
 7778 001c FB7A     		ldrb	r3, [r7, #11]
3614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->CRCSize--;
 7779              		.loc 1 3615 7
 7780 001e 7B68     		ldr	r3, [r7, #4]
 7781 0020 9B6C     		ldr	r3, [r3, #72]
ARM GAS  /tmp/ccC16sX6.s 			page 200


 7782              		.loc 1 3615 16
 7783 0022 5A1E     		subs	r2, r3, #1
 7784 0024 7B68     		ldr	r3, [r7, #4]
 7785 0026 9A64     		str	r2, [r3, #72]
3616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check end of the reception */
3618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->CRCSize == 0U)
 7786              		.loc 1 3618 11
 7787 0028 7B68     		ldr	r3, [r7, #4]
 7788 002a 9B6C     		ldr	r3, [r3, #72]
 7789              		.loc 1 3618 6
 7790 002c 002B     		cmp	r3, #0
 7791 002e 0FD1     		bne	.L370
3619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable RXNE and ERR interrupt */
3621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
 7792              		.loc 1 3621 5
 7793 0030 7B68     		ldr	r3, [r7, #4]
 7794 0032 1B68     		ldr	r3, [r3]
 7795 0034 5A68     		ldr	r2, [r3, #4]
 7796 0036 7B68     		ldr	r3, [r7, #4]
 7797 0038 1B68     		ldr	r3, [r3]
 7798 003a 22F06002 		bic	r2, r2, #96
 7799 003e 5A60     		str	r2, [r3, #4]
3622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->TxXferCount == 0U)
 7800              		.loc 1 3623 13
 7801 0040 7B68     		ldr	r3, [r7, #4]
 7802 0042 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 7803 0044 9BB2     		uxth	r3, r3
 7804              		.loc 1 3623 8
 7805 0046 002B     		cmp	r3, #0
 7806 0048 02D1     		bne	.L370
3624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
 7807              		.loc 1 3625 7
 7808 004a 7868     		ldr	r0, [r7, #4]
 7809 004c FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 7810              	.L370:
3626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 7811              		.loc 1 3628 1
 7812 0050 00BF     		nop
 7813 0052 1037     		adds	r7, r7, #16
 7814              		.cfi_def_cfa_offset 8
 7815 0054 BD46     		mov	sp, r7
 7816              		.cfi_def_cfa_register 13
 7817              		@ sp needed
 7818 0056 80BD     		pop	{r7, pc}
 7819              		.cfi_endproc
 7820              	.LFE485:
 7822              		.section	.text.SPI_2linesTxISR_8BIT,"ax",%progbits
 7823              		.align	1
 7824              		.syntax unified
 7825              		.thumb
 7826              		.thumb_func
ARM GAS  /tmp/ccC16sX6.s 			page 201


 7828              	SPI_2linesTxISR_8BIT:
 7829              	.LFB486:
3629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Tx 8-bit handler for Transmit and Receive in Interrupt mode.
3633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesTxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 7830              		.loc 1 3638 1
 7831              		.cfi_startproc
 7832              		@ args = 0, pretend = 0, frame = 8
 7833              		@ frame_needed = 1, uses_anonymous_args = 0
 7834 0000 80B5     		push	{r7, lr}
 7835              		.cfi_def_cfa_offset 8
 7836              		.cfi_offset 7, -8
 7837              		.cfi_offset 14, -4
 7838 0002 82B0     		sub	sp, sp, #8
 7839              		.cfi_def_cfa_offset 16
 7840 0004 00AF     		add	r7, sp, #0
 7841              		.cfi_def_cfa_register 7
 7842 0006 7860     		str	r0, [r7, #4]
3639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit data in packing Bit mode */
3640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->TxXferCount >= 2U)
 7843              		.loc 1 3640 11
 7844 0008 7B68     		ldr	r3, [r7, #4]
 7845 000a DB8F     		ldrh	r3, [r3, #62]	@ movhi
 7846 000c 9BB2     		uxth	r3, r3
 7847              		.loc 1 3640 6
 7848 000e 012B     		cmp	r3, #1
 7849 0010 12D9     		bls	.L372
3641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
 7850              		.loc 1 3642 50
 7851 0012 7B68     		ldr	r3, [r7, #4]
 7852 0014 9B6B     		ldr	r3, [r3, #56]
 7853              		.loc 1 3642 26
 7854 0016 1A88     		ldrh	r2, [r3]
 7855              		.loc 1 3642 9
 7856 0018 7B68     		ldr	r3, [r7, #4]
 7857 001a 1B68     		ldr	r3, [r3]
 7858              		.loc 1 3642 24
 7859 001c DA60     		str	r2, [r3, #12]
3643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pTxBuffPtr += sizeof(uint16_t);
 7860              		.loc 1 3643 9
 7861 001e 7B68     		ldr	r3, [r7, #4]
 7862 0020 9B6B     		ldr	r3, [r3, #56]
 7863              		.loc 1 3643 22
 7864 0022 9A1C     		adds	r2, r3, #2
 7865 0024 7B68     		ldr	r3, [r7, #4]
 7866 0026 9A63     		str	r2, [r3, #56]
3644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxXferCount -= 2U;
 7867              		.loc 1 3644 9
 7868 0028 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccC16sX6.s 			page 202


 7869 002a DB8F     		ldrh	r3, [r3, #62]	@ movhi
 7870 002c 9BB2     		uxth	r3, r3
 7871              		.loc 1 3644 23
 7872 002e 023B     		subs	r3, r3, #2
 7873 0030 9AB2     		uxth	r2, r3
 7874 0032 7B68     		ldr	r3, [r7, #4]
 7875 0034 DA87     		strh	r2, [r3, #62]	@ movhi
 7876 0036 12E0     		b	.L373
 7877              	.L372:
3645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit data in 8 Bit mode */
3647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
3648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     *(__IO uint8_t *)&hspi->Instance->DR = *((const uint8_t *)hspi->pTxBuffPtr);
 7878              		.loc 1 3649 67
 7879 0038 7B68     		ldr	r3, [r7, #4]
 7880 003a 9A6B     		ldr	r2, [r3, #56]
 7881              		.loc 1 3649 27
 7882 003c 7B68     		ldr	r3, [r7, #4]
 7883 003e 1B68     		ldr	r3, [r3]
 7884              		.loc 1 3649 22
 7885 0040 0C33     		adds	r3, r3, #12
 7886              		.loc 1 3649 44
 7887 0042 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 7888              		.loc 1 3649 42
 7889 0044 1A70     		strb	r2, [r3]
3650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->pTxBuffPtr++;
 7890              		.loc 1 3650 9
 7891 0046 7B68     		ldr	r3, [r7, #4]
 7892 0048 9B6B     		ldr	r3, [r3, #56]
 7893              		.loc 1 3650 21
 7894 004a 5A1C     		adds	r2, r3, #1
 7895 004c 7B68     		ldr	r3, [r7, #4]
 7896 004e 9A63     		str	r2, [r3, #56]
3651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxXferCount--;
 7897              		.loc 1 3651 9
 7898 0050 7B68     		ldr	r3, [r7, #4]
 7899 0052 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 7900 0054 9BB2     		uxth	r3, r3
 7901              		.loc 1 3651 22
 7902 0056 013B     		subs	r3, r3, #1
 7903 0058 9AB2     		uxth	r2, r3
 7904 005a 7B68     		ldr	r3, [r7, #4]
 7905 005c DA87     		strh	r2, [r3, #62]	@ movhi
 7906              	.L373:
3652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the end of the transmission */
3655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
 7907              		.loc 1 3655 11
 7908 005e 7B68     		ldr	r3, [r7, #4]
 7909 0060 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 7910 0062 9BB2     		uxth	r3, r3
 7911              		.loc 1 3655 6
 7912 0064 002B     		cmp	r3, #0
 7913 0066 26D1     		bne	.L371
3656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
ARM GAS  /tmp/ccC16sX6.s 			page 203


3657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 7914              		.loc 1 3658 19
 7915 0068 7B68     		ldr	r3, [r7, #4]
 7916 006a 9B6A     		ldr	r3, [r3, #40]
 7917              		.loc 1 3658 8
 7918 006c B3F5005F 		cmp	r3, #8192
 7919 0070 10D1     		bne	.L375
3659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Set CRC Next Bit to send CRC */
3661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 7920              		.loc 1 3661 7
 7921 0072 7B68     		ldr	r3, [r7, #4]
 7922 0074 1B68     		ldr	r3, [r3]
 7923 0076 1A68     		ldr	r2, [r3]
 7924 0078 7B68     		ldr	r3, [r7, #4]
 7925 007a 1B68     		ldr	r3, [r3]
 7926 007c 42F48052 		orr	r2, r2, #4096
 7927 0080 1A60     		str	r2, [r3]
3662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Disable TXE interrupt */
3663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
 7928              		.loc 1 3663 7
 7929 0082 7B68     		ldr	r3, [r7, #4]
 7930 0084 1B68     		ldr	r3, [r3]
 7931 0086 5A68     		ldr	r2, [r3, #4]
 7932 0088 7B68     		ldr	r3, [r7, #4]
 7933 008a 1B68     		ldr	r3, [r3]
 7934 008c 22F08002 		bic	r2, r2, #128
 7935 0090 5A60     		str	r2, [r3, #4]
3664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
 7936              		.loc 1 3664 7
 7937 0092 10E0     		b	.L371
 7938              	.L375:
3665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable TXE interrupt */
3669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
 7939              		.loc 1 3669 5
 7940 0094 7B68     		ldr	r3, [r7, #4]
 7941 0096 1B68     		ldr	r3, [r3]
 7942 0098 5A68     		ldr	r2, [r3, #4]
 7943 009a 7B68     		ldr	r3, [r7, #4]
 7944 009c 1B68     		ldr	r3, [r3]
 7945 009e 22F08002 		bic	r2, r2, #128
 7946 00a2 5A60     		str	r2, [r3, #4]
3670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->RxXferCount == 0U)
 7947              		.loc 1 3671 13
 7948 00a4 7B68     		ldr	r3, [r7, #4]
 7949 00a6 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 7950 00aa 9BB2     		uxth	r3, r3
 7951              		.loc 1 3671 8
 7952 00ac 002B     		cmp	r3, #0
 7953 00ae 02D1     		bne	.L371
3672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
ARM GAS  /tmp/ccC16sX6.s 			page 204


 7954              		.loc 1 3673 7
 7955 00b0 7868     		ldr	r0, [r7, #4]
 7956 00b2 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 7957              	.L371:
3674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 7958              		.loc 1 3676 1
 7959 00b6 0837     		adds	r7, r7, #8
 7960              		.cfi_def_cfa_offset 8
 7961 00b8 BD46     		mov	sp, r7
 7962              		.cfi_def_cfa_register 13
 7963              		@ sp needed
 7964 00ba 80BD     		pop	{r7, pc}
 7965              		.cfi_endproc
 7966              	.LFE486:
 7968              		.section	.text.SPI_2linesRxISR_16BIT,"ax",%progbits
 7969              		.align	1
 7970              		.syntax unified
 7971              		.thumb
 7972              		.thumb_func
 7974              	SPI_2linesRxISR_16BIT:
 7975              	.LFB487:
3677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Rx 16-bit handler for Transmit and Receive in Interrupt mode.
3680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesRxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 7976              		.loc 1 3685 1
 7977              		.cfi_startproc
 7978              		@ args = 0, pretend = 0, frame = 8
 7979              		@ frame_needed = 1, uses_anonymous_args = 0
 7980 0000 80B5     		push	{r7, lr}
 7981              		.cfi_def_cfa_offset 8
 7982              		.cfi_offset 7, -8
 7983              		.cfi_offset 14, -4
 7984 0002 82B0     		sub	sp, sp, #8
 7985              		.cfi_def_cfa_offset 16
 7986 0004 00AF     		add	r7, sp, #0
 7987              		.cfi_def_cfa_register 7
 7988 0006 7860     		str	r0, [r7, #4]
3686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
3687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
 7989              		.loc 1 3687 52
 7990 0008 7B68     		ldr	r3, [r7, #4]
 7991 000a 1B68     		ldr	r3, [r3]
 7992              		.loc 1 3687 62
 7993 000c DA68     		ldr	r2, [r3, #12]
 7994              		.loc 1 3687 21
 7995 000e 7B68     		ldr	r3, [r7, #4]
 7996 0010 1B6C     		ldr	r3, [r3, #64]
 7997              		.loc 1 3687 37
 7998 0012 92B2     		uxth	r2, r2
ARM GAS  /tmp/ccC16sX6.s 			page 205


 7999              		.loc 1 3687 35
 8000 0014 1A80     		strh	r2, [r3]	@ movhi
3688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 8001              		.loc 1 3688 7
 8002 0016 7B68     		ldr	r3, [r7, #4]
 8003 0018 1B6C     		ldr	r3, [r3, #64]
 8004              		.loc 1 3688 20
 8005 001a 9A1C     		adds	r2, r3, #2
 8006 001c 7B68     		ldr	r3, [r7, #4]
 8007 001e 1A64     		str	r2, [r3, #64]
3689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount--;
 8008              		.loc 1 3689 7
 8009 0020 7B68     		ldr	r3, [r7, #4]
 8010 0022 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 8011 0026 9BB2     		uxth	r3, r3
 8012              		.loc 1 3689 20
 8013 0028 013B     		subs	r3, r3, #1
 8014 002a 9AB2     		uxth	r2, r3
 8015 002c 7B68     		ldr	r3, [r7, #4]
 8016 002e A3F84620 		strh	r2, [r3, #70]	@ movhi
3690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
 8017              		.loc 1 3691 11
 8018 0032 7B68     		ldr	r3, [r7, #4]
 8019 0034 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 8020 0038 9BB2     		uxth	r3, r3
 8021              		.loc 1 3691 6
 8022 003a 002B     		cmp	r3, #0
 8023 003c 18D1     		bne	.L376
3692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 8024              		.loc 1 3694 19
 8025 003e 7B68     		ldr	r3, [r7, #4]
 8026 0040 9B6A     		ldr	r3, [r3, #40]
 8027              		.loc 1 3694 8
 8028 0042 B3F5005F 		cmp	r3, #8192
 8029 0046 03D1     		bne	.L378
3695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->RxISR =  SPI_2linesRxISR_16BITCRC;
 8030              		.loc 1 3696 19
 8031 0048 7B68     		ldr	r3, [r7, #4]
 8032 004a 0B4A     		ldr	r2, .L379
 8033 004c DA64     		str	r2, [r3, #76]
3697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
 8034              		.loc 1 3697 7
 8035 004e 0FE0     		b	.L376
 8036              	.L378:
3698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable RXNE interrupt */
3702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE);
 8037              		.loc 1 3702 5
 8038 0050 7B68     		ldr	r3, [r7, #4]
 8039 0052 1B68     		ldr	r3, [r3]
 8040 0054 5A68     		ldr	r2, [r3, #4]
ARM GAS  /tmp/ccC16sX6.s 			page 206


 8041 0056 7B68     		ldr	r3, [r7, #4]
 8042 0058 1B68     		ldr	r3, [r3]
 8043 005a 22F04002 		bic	r2, r2, #64
 8044 005e 5A60     		str	r2, [r3, #4]
3703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->TxXferCount == 0U)
 8045              		.loc 1 3704 13
 8046 0060 7B68     		ldr	r3, [r7, #4]
 8047 0062 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 8048 0064 9BB2     		uxth	r3, r3
 8049              		.loc 1 3704 8
 8050 0066 002B     		cmp	r3, #0
 8051 0068 02D1     		bne	.L376
3705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
 8052              		.loc 1 3706 7
 8053 006a 7868     		ldr	r0, [r7, #4]
 8054 006c FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 8055              	.L376:
3707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 8056              		.loc 1 3709 1
 8057 0070 0837     		adds	r7, r7, #8
 8058              		.cfi_def_cfa_offset 8
 8059 0072 BD46     		mov	sp, r7
 8060              		.cfi_def_cfa_register 13
 8061              		@ sp needed
 8062 0074 80BD     		pop	{r7, pc}
 8063              	.L380:
 8064 0076 00BF     		.align	2
 8065              	.L379:
 8066 0078 00000000 		.word	SPI_2linesRxISR_16BITCRC
 8067              		.cfi_endproc
 8068              	.LFE487:
 8070              		.section	.text.SPI_2linesRxISR_16BITCRC,"ax",%progbits
 8071              		.align	1
 8072              		.syntax unified
 8073              		.thumb
 8074              		.thumb_func
 8076              	SPI_2linesRxISR_16BITCRC:
 8077              	.LFB488:
3710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Manage the CRC 16-bit receive for Transmit and Receive in Interrupt mode.
3714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesRxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi)
3719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 8078              		.loc 1 3719 1
 8079              		.cfi_startproc
 8080              		@ args = 0, pretend = 0, frame = 16
 8081              		@ frame_needed = 1, uses_anonymous_args = 0
 8082 0000 80B5     		push	{r7, lr}
ARM GAS  /tmp/ccC16sX6.s 			page 207


 8083              		.cfi_def_cfa_offset 8
 8084              		.cfi_offset 7, -8
 8085              		.cfi_offset 14, -4
 8086 0002 84B0     		sub	sp, sp, #16
 8087              		.cfi_def_cfa_offset 24
 8088 0004 00AF     		add	r7, sp, #0
 8089              		.cfi_def_cfa_register 7
 8090 0006 7860     		str	r0, [r7, #4]
3720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
 8091              		.loc 1 3720 17
 8092 0008 0023     		movs	r3, #0
 8093 000a FB60     		str	r3, [r7, #12]
3721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Read 16bit CRC to flush Data Register */
3723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmpreg = READ_REG(hspi->Instance->DR);
 8094              		.loc 1 3723 12
 8095 000c 7B68     		ldr	r3, [r7, #4]
 8096 000e 1B68     		ldr	r3, [r3]
 8097 0010 DB68     		ldr	r3, [r3, #12]
 8098              		.loc 1 3723 10
 8099 0012 FB60     		str	r3, [r7, #12]
3724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* To avoid GCC warning */
3725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(tmpreg);
 8100              		.loc 1 3725 3
 8101 0014 FB68     		ldr	r3, [r7, #12]
3726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable RXNE interrupt */
3728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE);
 8102              		.loc 1 3728 3
 8103 0016 7B68     		ldr	r3, [r7, #4]
 8104 0018 1B68     		ldr	r3, [r3]
 8105 001a 5A68     		ldr	r2, [r3, #4]
 8106 001c 7B68     		ldr	r3, [r7, #4]
 8107 001e 1B68     		ldr	r3, [r3]
 8108 0020 22F04002 		bic	r2, r2, #64
 8109 0024 5A60     		str	r2, [r3, #4]
3729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_CloseRxTx_ISR(hspi);
 8110              		.loc 1 3730 3
 8111 0026 7868     		ldr	r0, [r7, #4]
 8112 0028 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
3731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 8113              		.loc 1 3731 1
 8114 002c 00BF     		nop
 8115 002e 1037     		adds	r7, r7, #16
 8116              		.cfi_def_cfa_offset 8
 8117 0030 BD46     		mov	sp, r7
 8118              		.cfi_def_cfa_register 13
 8119              		@ sp needed
 8120 0032 80BD     		pop	{r7, pc}
 8121              		.cfi_endproc
 8122              	.LFE488:
 8124              		.section	.text.SPI_2linesTxISR_16BIT,"ax",%progbits
 8125              		.align	1
 8126              		.syntax unified
 8127              		.thumb
 8128              		.thumb_func
ARM GAS  /tmp/ccC16sX6.s 			page 208


 8130              	SPI_2linesTxISR_16BIT:
 8131              	.LFB489:
3732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Tx 16-bit handler for Transmit and Receive in Interrupt mode.
3736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_2linesTxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 8132              		.loc 1 3741 1
 8133              		.cfi_startproc
 8134              		@ args = 0, pretend = 0, frame = 8
 8135              		@ frame_needed = 1, uses_anonymous_args = 0
 8136 0000 80B5     		push	{r7, lr}
 8137              		.cfi_def_cfa_offset 8
 8138              		.cfi_offset 7, -8
 8139              		.cfi_offset 14, -4
 8140 0002 82B0     		sub	sp, sp, #8
 8141              		.cfi_def_cfa_offset 16
 8142 0004 00AF     		add	r7, sp, #0
 8143              		.cfi_def_cfa_register 7
 8144 0006 7860     		str	r0, [r7, #4]
3742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
3743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
 8145              		.loc 1 3743 48
 8146 0008 7B68     		ldr	r3, [r7, #4]
 8147 000a 9B6B     		ldr	r3, [r3, #56]
 8148              		.loc 1 3743 24
 8149 000c 1A88     		ldrh	r2, [r3]
 8150              		.loc 1 3743 7
 8151 000e 7B68     		ldr	r3, [r7, #4]
 8152 0010 1B68     		ldr	r3, [r3]
 8153              		.loc 1 3743 22
 8154 0012 DA60     		str	r2, [r3, #12]
3744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 8155              		.loc 1 3744 7
 8156 0014 7B68     		ldr	r3, [r7, #4]
 8157 0016 9B6B     		ldr	r3, [r3, #56]
 8158              		.loc 1 3744 20
 8159 0018 9A1C     		adds	r2, r3, #2
 8160 001a 7B68     		ldr	r3, [r7, #4]
 8161 001c 9A63     		str	r2, [r3, #56]
3745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount--;
 8162              		.loc 1 3745 7
 8163 001e 7B68     		ldr	r3, [r7, #4]
 8164 0020 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 8165 0022 9BB2     		uxth	r3, r3
 8166              		.loc 1 3745 20
 8167 0024 013B     		subs	r3, r3, #1
 8168 0026 9AB2     		uxth	r2, r3
 8169 0028 7B68     		ldr	r3, [r7, #4]
 8170 002a DA87     		strh	r2, [r3, #62]	@ movhi
3746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable CRC Transmission */
ARM GAS  /tmp/ccC16sX6.s 			page 209


3748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
 8171              		.loc 1 3748 11
 8172 002c 7B68     		ldr	r3, [r7, #4]
 8173 002e DB8F     		ldrh	r3, [r3, #62]	@ movhi
 8174 0030 9BB2     		uxth	r3, r3
 8175              		.loc 1 3748 6
 8176 0032 002B     		cmp	r3, #0
 8177 0034 26D1     		bne	.L382
3749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 8178              		.loc 1 3751 19
 8179 0036 7B68     		ldr	r3, [r7, #4]
 8180 0038 9B6A     		ldr	r3, [r3, #40]
 8181              		.loc 1 3751 8
 8182 003a B3F5005F 		cmp	r3, #8192
 8183 003e 10D1     		bne	.L384
3752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Set CRC Next Bit to send CRC */
3754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 8184              		.loc 1 3754 7
 8185 0040 7B68     		ldr	r3, [r7, #4]
 8186 0042 1B68     		ldr	r3, [r3]
 8187 0044 1A68     		ldr	r2, [r3]
 8188 0046 7B68     		ldr	r3, [r7, #4]
 8189 0048 1B68     		ldr	r3, [r3]
 8190 004a 42F48052 		orr	r2, r2, #4096
 8191 004e 1A60     		str	r2, [r3]
3755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Disable TXE interrupt */
3756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
 8192              		.loc 1 3756 7
 8193 0050 7B68     		ldr	r3, [r7, #4]
 8194 0052 1B68     		ldr	r3, [r3]
 8195 0054 5A68     		ldr	r2, [r3, #4]
 8196 0056 7B68     		ldr	r3, [r7, #4]
 8197 0058 1B68     		ldr	r3, [r3]
 8198 005a 22F08002 		bic	r2, r2, #128
 8199 005e 5A60     		str	r2, [r3, #4]
3757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
 8200              		.loc 1 3757 7
 8201 0060 10E0     		b	.L382
 8202              	.L384:
3758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable TXE interrupt */
3762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
 8203              		.loc 1 3762 5
 8204 0062 7B68     		ldr	r3, [r7, #4]
 8205 0064 1B68     		ldr	r3, [r3]
 8206 0066 5A68     		ldr	r2, [r3, #4]
 8207 0068 7B68     		ldr	r3, [r7, #4]
 8208 006a 1B68     		ldr	r3, [r3]
 8209 006c 22F08002 		bic	r2, r2, #128
 8210 0070 5A60     		str	r2, [r3, #4]
3763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->RxXferCount == 0U)
ARM GAS  /tmp/ccC16sX6.s 			page 210


 8211              		.loc 1 3764 13
 8212 0072 7B68     		ldr	r3, [r7, #4]
 8213 0074 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 8214 0078 9BB2     		uxth	r3, r3
 8215              		.loc 1 3764 8
 8216 007a 002B     		cmp	r3, #0
 8217 007c 02D1     		bne	.L382
3765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
 8218              		.loc 1 3766 7
 8219 007e 7868     		ldr	r0, [r7, #4]
 8220 0080 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 8221              	.L382:
3767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 8222              		.loc 1 3769 1
 8223 0084 0837     		adds	r7, r7, #8
 8224              		.cfi_def_cfa_offset 8
 8225 0086 BD46     		mov	sp, r7
 8226              		.cfi_def_cfa_register 13
 8227              		@ sp needed
 8228 0088 80BD     		pop	{r7, pc}
 8229              		.cfi_endproc
 8230              	.LFE489:
 8232              		.section	.text.SPI_RxISR_8BITCRC,"ax",%progbits
 8233              		.align	1
 8234              		.syntax unified
 8235              		.thumb
 8236              		.thumb_func
 8238              	SPI_RxISR_8BITCRC:
 8239              	.LFB490:
3770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Manage the CRC 8-bit receive in Interrupt context.
3774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_RxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi)
3779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 8240              		.loc 1 3779 1
 8241              		.cfi_startproc
 8242              		@ args = 0, pretend = 0, frame = 16
 8243              		@ frame_needed = 1, uses_anonymous_args = 0
 8244 0000 80B5     		push	{r7, lr}
 8245              		.cfi_def_cfa_offset 8
 8246              		.cfi_offset 7, -8
 8247              		.cfi_offset 14, -4
 8248 0002 84B0     		sub	sp, sp, #16
 8249              		.cfi_def_cfa_offset 24
 8250 0004 00AF     		add	r7, sp, #0
 8251              		.cfi_def_cfa_register 7
 8252 0006 7860     		str	r0, [r7, #4]
3780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint8_t  *ptmpreg8;
3781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint8_t  tmpreg8 = 0;
ARM GAS  /tmp/ccC16sX6.s 			page 211


 8253              		.loc 1 3781 17
 8254 0008 0023     		movs	r3, #0
 8255 000a FB72     		strb	r3, [r7, #11]
3782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Initialize the 8bit temporary pointer */
3784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   ptmpreg8 = (__IO uint8_t *)&hspi->Instance->DR;
 8256              		.loc 1 3784 35
 8257 000c 7B68     		ldr	r3, [r7, #4]
 8258 000e 1B68     		ldr	r3, [r3]
 8259              		.loc 1 3784 12
 8260 0010 0C33     		adds	r3, r3, #12
 8261 0012 FB60     		str	r3, [r7, #12]
3785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Read 8bit CRC to flush Data Register */
3786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmpreg8 = *ptmpreg8;
 8262              		.loc 1 3786 13
 8263 0014 FB68     		ldr	r3, [r7, #12]
 8264 0016 1B78     		ldrb	r3, [r3]
 8265 0018 DBB2     		uxtb	r3, r3
 8266              		.loc 1 3786 11
 8267 001a FB72     		strb	r3, [r7, #11]
3787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* To avoid GCC warning */
3788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(tmpreg8);
 8268              		.loc 1 3788 3
 8269 001c FB7A     		ldrb	r3, [r7, #11]
3789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->CRCSize--;
 8270              		.loc 1 3790 7
 8271 001e 7B68     		ldr	r3, [r7, #4]
 8272 0020 9B6C     		ldr	r3, [r3, #72]
 8273              		.loc 1 3790 16
 8274 0022 5A1E     		subs	r2, r3, #1
 8275 0024 7B68     		ldr	r3, [r7, #4]
 8276 0026 9A64     		str	r2, [r3, #72]
3791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->CRCSize == 0U)
 8277              		.loc 1 3792 11
 8278 0028 7B68     		ldr	r3, [r7, #4]
 8279 002a 9B6C     		ldr	r3, [r3, #72]
 8280              		.loc 1 3792 6
 8281 002c 002B     		cmp	r3, #0
 8282 002e 02D1     		bne	.L387
3793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_CloseRx_ISR(hspi);
 8283              		.loc 1 3794 5
 8284 0030 7868     		ldr	r0, [r7, #4]
 8285 0032 FFF7FEFF 		bl	SPI_CloseRx_ISR
 8286              	.L387:
3795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 8287              		.loc 1 3796 1
 8288 0036 00BF     		nop
 8289 0038 1037     		adds	r7, r7, #16
 8290              		.cfi_def_cfa_offset 8
 8291 003a BD46     		mov	sp, r7
 8292              		.cfi_def_cfa_register 13
 8293              		@ sp needed
 8294 003c 80BD     		pop	{r7, pc}
ARM GAS  /tmp/ccC16sX6.s 			page 212


 8295              		.cfi_endproc
 8296              	.LFE490:
 8298              		.section	.text.SPI_RxISR_8BIT,"ax",%progbits
 8299              		.align	1
 8300              		.syntax unified
 8301              		.thumb
 8302              		.thumb_func
 8304              	SPI_RxISR_8BIT:
 8305              	.LFB491:
3797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Manage the receive 8-bit in Interrupt context.
3801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_RxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 8306              		.loc 1 3806 1
 8307              		.cfi_startproc
 8308              		@ args = 0, pretend = 0, frame = 8
 8309              		@ frame_needed = 1, uses_anonymous_args = 0
 8310 0000 80B5     		push	{r7, lr}
 8311              		.cfi_def_cfa_offset 8
 8312              		.cfi_offset 7, -8
 8313              		.cfi_offset 14, -4
 8314 0002 82B0     		sub	sp, sp, #8
 8315              		.cfi_def_cfa_offset 16
 8316 0004 00AF     		add	r7, sp, #0
 8317              		.cfi_def_cfa_register 7
 8318 0006 7860     		str	r0, [r7, #4]
3807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *hspi->pRxBuffPtr = (*(__IO uint8_t *)&hspi->Instance->DR);
 8319              		.loc 1 3807 46
 8320 0008 7B68     		ldr	r3, [r7, #4]
 8321 000a 1B68     		ldr	r3, [r3]
 8322              		.loc 1 3807 41
 8323 000c 03F10C02 		add	r2, r3, #12
 8324              		.loc 1 3807 8
 8325 0010 7B68     		ldr	r3, [r7, #4]
 8326 0012 1B6C     		ldr	r3, [r3, #64]
 8327              		.loc 1 3807 24
 8328 0014 1278     		ldrb	r2, [r2]
 8329 0016 D2B2     		uxtb	r2, r2
 8330              		.loc 1 3807 21
 8331 0018 1A70     		strb	r2, [r3]
3808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 8332              		.loc 1 3808 7
 8333 001a 7B68     		ldr	r3, [r7, #4]
 8334 001c 1B6C     		ldr	r3, [r3, #64]
 8335              		.loc 1 3808 19
 8336 001e 5A1C     		adds	r2, r3, #1
 8337 0020 7B68     		ldr	r3, [r7, #4]
 8338 0022 1A64     		str	r2, [r3, #64]
3809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount--;
 8339              		.loc 1 3809 7
 8340 0024 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccC16sX6.s 			page 213


 8341 0026 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 8342 002a 9BB2     		uxth	r3, r3
 8343              		.loc 1 3809 20
 8344 002c 013B     		subs	r3, r3, #1
 8345 002e 9AB2     		uxth	r2, r3
 8346 0030 7B68     		ldr	r3, [r7, #4]
 8347 0032 A3F84620 		strh	r2, [r3, #70]	@ movhi
3810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable CRC Transmission */
3813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->RxXferCount == 1U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
 8348              		.loc 1 3813 12
 8349 0036 7B68     		ldr	r3, [r7, #4]
 8350 0038 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 8351 003c 9BB2     		uxth	r3, r3
 8352              		.loc 1 3813 6
 8353 003e 012B     		cmp	r3, #1
 8354 0040 0CD1     		bne	.L389
 8355              		.loc 1 3813 47 discriminator 1
 8356 0042 7B68     		ldr	r3, [r7, #4]
 8357 0044 9B6A     		ldr	r3, [r3, #40]
 8358              		.loc 1 3813 33 discriminator 1
 8359 0046 B3F5005F 		cmp	r3, #8192
 8360 004a 07D1     		bne	.L389
3814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 8361              		.loc 1 3815 5
 8362 004c 7B68     		ldr	r3, [r7, #4]
 8363 004e 1B68     		ldr	r3, [r3]
 8364 0050 1A68     		ldr	r2, [r3]
 8365 0052 7B68     		ldr	r3, [r7, #4]
 8366 0054 1B68     		ldr	r3, [r3]
 8367 0056 42F48052 		orr	r2, r2, #4096
 8368 005a 1A60     		str	r2, [r3]
 8369              	.L389:
3816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
 8370              		.loc 1 3819 11
 8371 005c 7B68     		ldr	r3, [r7, #4]
 8372 005e B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 8373 0062 9BB2     		uxth	r3, r3
 8374              		.loc 1 3819 6
 8375 0064 002B     		cmp	r3, #0
 8376 0066 0BD1     		bne	.L388
3820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 8377              		.loc 1 3822 19
 8378 0068 7B68     		ldr	r3, [r7, #4]
 8379 006a 9B6A     		ldr	r3, [r3, #40]
 8380              		.loc 1 3822 8
 8381 006c B3F5005F 		cmp	r3, #8192
 8382 0070 03D1     		bne	.L391
3823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->RxISR =  SPI_RxISR_8BITCRC;
ARM GAS  /tmp/ccC16sX6.s 			page 214


 8383              		.loc 1 3824 19
 8384 0072 7B68     		ldr	r3, [r7, #4]
 8385 0074 044A     		ldr	r2, .L392
 8386 0076 DA64     		str	r2, [r3, #76]
3825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
 8387              		.loc 1 3825 7
 8388 0078 02E0     		b	.L388
 8389              	.L391:
3826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_CloseRx_ISR(hspi);
 8390              		.loc 1 3828 5
 8391 007a 7868     		ldr	r0, [r7, #4]
 8392 007c FFF7FEFF 		bl	SPI_CloseRx_ISR
 8393              	.L388:
3829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 8394              		.loc 1 3830 1
 8395 0080 0837     		adds	r7, r7, #8
 8396              		.cfi_def_cfa_offset 8
 8397 0082 BD46     		mov	sp, r7
 8398              		.cfi_def_cfa_register 13
 8399              		@ sp needed
 8400 0084 80BD     		pop	{r7, pc}
 8401              	.L393:
 8402 0086 00BF     		.align	2
 8403              	.L392:
 8404 0088 00000000 		.word	SPI_RxISR_8BITCRC
 8405              		.cfi_endproc
 8406              	.LFE491:
 8408              		.section	.text.SPI_RxISR_16BITCRC,"ax",%progbits
 8409              		.align	1
 8410              		.syntax unified
 8411              		.thumb
 8412              		.thumb_func
 8414              	SPI_RxISR_16BITCRC:
 8415              	.LFB492:
3831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Manage the CRC 16-bit receive in Interrupt context.
3835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_RxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi)
3840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 8416              		.loc 1 3840 1
 8417              		.cfi_startproc
 8418              		@ args = 0, pretend = 0, frame = 16
 8419              		@ frame_needed = 1, uses_anonymous_args = 0
 8420 0000 80B5     		push	{r7, lr}
 8421              		.cfi_def_cfa_offset 8
 8422              		.cfi_offset 7, -8
 8423              		.cfi_offset 14, -4
 8424 0002 84B0     		sub	sp, sp, #16
 8425              		.cfi_def_cfa_offset 24
ARM GAS  /tmp/ccC16sX6.s 			page 215


 8426 0004 00AF     		add	r7, sp, #0
 8427              		.cfi_def_cfa_register 7
 8428 0006 7860     		str	r0, [r7, #4]
3841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
 8429              		.loc 1 3841 17
 8430 0008 0023     		movs	r3, #0
 8431 000a FB60     		str	r3, [r7, #12]
3842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Read 16bit CRC to flush Data Register */
3844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmpreg = READ_REG(hspi->Instance->DR);
 8432              		.loc 1 3844 12
 8433 000c 7B68     		ldr	r3, [r7, #4]
 8434 000e 1B68     		ldr	r3, [r3]
 8435 0010 DB68     		ldr	r3, [r3, #12]
 8436              		.loc 1 3844 10
 8437 0012 FB60     		str	r3, [r7, #12]
3845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* To avoid GCC warning */
3846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   UNUSED(tmpreg);
 8438              		.loc 1 3846 3
 8439 0014 FB68     		ldr	r3, [r7, #12]
3847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
3849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
 8440              		.loc 1 3849 3
 8441 0016 7B68     		ldr	r3, [r7, #4]
 8442 0018 1B68     		ldr	r3, [r3]
 8443 001a 5A68     		ldr	r2, [r3, #4]
 8444 001c 7B68     		ldr	r3, [r7, #4]
 8445 001e 1B68     		ldr	r3, [r3]
 8446 0020 22F06002 		bic	r2, r2, #96
 8447 0024 5A60     		str	r2, [r3, #4]
3850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   SPI_CloseRx_ISR(hspi);
 8448              		.loc 1 3851 3
 8449 0026 7868     		ldr	r0, [r7, #4]
 8450 0028 FFF7FEFF 		bl	SPI_CloseRx_ISR
3852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 8451              		.loc 1 3852 1
 8452 002c 00BF     		nop
 8453 002e 1037     		adds	r7, r7, #16
 8454              		.cfi_def_cfa_offset 8
 8455 0030 BD46     		mov	sp, r7
 8456              		.cfi_def_cfa_register 13
 8457              		@ sp needed
 8458 0032 80BD     		pop	{r7, pc}
 8459              		.cfi_endproc
 8460              	.LFE492:
 8462              		.section	.text.SPI_RxISR_16BIT,"ax",%progbits
 8463              		.align	1
 8464              		.syntax unified
 8465              		.thumb
 8466              		.thumb_func
 8468              	SPI_RxISR_16BIT:
 8469              	.LFB493:
3853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
ARM GAS  /tmp/ccC16sX6.s 			page 216


3856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Manage the 16-bit receive in Interrupt context.
3857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_RxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 8470              		.loc 1 3862 1
 8471              		.cfi_startproc
 8472              		@ args = 0, pretend = 0, frame = 8
 8473              		@ frame_needed = 1, uses_anonymous_args = 0
 8474 0000 80B5     		push	{r7, lr}
 8475              		.cfi_def_cfa_offset 8
 8476              		.cfi_offset 7, -8
 8477              		.cfi_offset 14, -4
 8478 0002 82B0     		sub	sp, sp, #8
 8479              		.cfi_def_cfa_offset 16
 8480 0004 00AF     		add	r7, sp, #0
 8481              		.cfi_def_cfa_register 7
 8482 0006 7860     		str	r0, [r7, #4]
3863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
 8483              		.loc 1 3863 52
 8484 0008 7B68     		ldr	r3, [r7, #4]
 8485 000a 1B68     		ldr	r3, [r3]
 8486              		.loc 1 3863 62
 8487 000c DA68     		ldr	r2, [r3, #12]
 8488              		.loc 1 3863 21
 8489 000e 7B68     		ldr	r3, [r7, #4]
 8490 0010 1B6C     		ldr	r3, [r3, #64]
 8491              		.loc 1 3863 37
 8492 0012 92B2     		uxth	r2, r2
 8493              		.loc 1 3863 35
 8494 0014 1A80     		strh	r2, [r3]	@ movhi
3864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 8495              		.loc 1 3864 7
 8496 0016 7B68     		ldr	r3, [r7, #4]
 8497 0018 1B6C     		ldr	r3, [r3, #64]
 8498              		.loc 1 3864 20
 8499 001a 9A1C     		adds	r2, r3, #2
 8500 001c 7B68     		ldr	r3, [r7, #4]
 8501 001e 1A64     		str	r2, [r3, #64]
3865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->RxXferCount--;
 8502              		.loc 1 3865 7
 8503 0020 7B68     		ldr	r3, [r7, #4]
 8504 0022 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 8505 0026 9BB2     		uxth	r3, r3
 8506              		.loc 1 3865 20
 8507 0028 013B     		subs	r3, r3, #1
 8508 002a 9AB2     		uxth	r2, r3
 8509 002c 7B68     		ldr	r3, [r7, #4]
 8510 002e A3F84620 		strh	r2, [r3, #70]	@ movhi
3866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Enable CRC Transmission */
3869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->RxXferCount == 1U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
 8511              		.loc 1 3869 12
 8512 0032 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccC16sX6.s 			page 217


 8513 0034 B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 8514 0038 9BB2     		uxth	r3, r3
 8515              		.loc 1 3869 6
 8516 003a 012B     		cmp	r3, #1
 8517 003c 0CD1     		bne	.L396
 8518              		.loc 1 3869 47 discriminator 1
 8519 003e 7B68     		ldr	r3, [r7, #4]
 8520 0040 9B6A     		ldr	r3, [r3, #40]
 8521              		.loc 1 3869 33 discriminator 1
 8522 0042 B3F5005F 		cmp	r3, #8192
 8523 0046 07D1     		bne	.L396
3870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 8524              		.loc 1 3871 5
 8525 0048 7B68     		ldr	r3, [r7, #4]
 8526 004a 1B68     		ldr	r3, [r3]
 8527 004c 1A68     		ldr	r2, [r3]
 8528 004e 7B68     		ldr	r3, [r7, #4]
 8529 0050 1B68     		ldr	r3, [r3]
 8530 0052 42F48052 		orr	r2, r2, #4096
 8531 0056 1A60     		str	r2, [r3]
 8532              	.L396:
3872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
 8533              		.loc 1 3875 11
 8534 0058 7B68     		ldr	r3, [r7, #4]
 8535 005a B3F84630 		ldrh	r3, [r3, #70]	@ movhi
 8536 005e 9BB2     		uxth	r3, r3
 8537              		.loc 1 3875 6
 8538 0060 002B     		cmp	r3, #0
 8539 0062 0BD1     		bne	.L395
3876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 8540              		.loc 1 3878 19
 8541 0064 7B68     		ldr	r3, [r7, #4]
 8542 0066 9B6A     		ldr	r3, [r3, #40]
 8543              		.loc 1 3878 8
 8544 0068 B3F5005F 		cmp	r3, #8192
 8545 006c 03D1     		bne	.L398
3879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->RxISR = SPI_RxISR_16BITCRC;
 8546              		.loc 1 3880 19
 8547 006e 7B68     		ldr	r3, [r7, #4]
 8548 0070 044A     		ldr	r2, .L399
 8549 0072 DA64     		str	r2, [r3, #76]
3881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return;
 8550              		.loc 1 3881 7
 8551 0074 02E0     		b	.L395
 8552              	.L398:
3882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_CloseRx_ISR(hspi);
 8553              		.loc 1 3884 5
 8554 0076 7868     		ldr	r0, [r7, #4]
ARM GAS  /tmp/ccC16sX6.s 			page 218


 8555 0078 FFF7FEFF 		bl	SPI_CloseRx_ISR
 8556              	.L395:
3885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 8557              		.loc 1 3886 1
 8558 007c 0837     		adds	r7, r7, #8
 8559              		.cfi_def_cfa_offset 8
 8560 007e BD46     		mov	sp, r7
 8561              		.cfi_def_cfa_register 13
 8562              		@ sp needed
 8563 0080 80BD     		pop	{r7, pc}
 8564              	.L400:
 8565 0082 00BF     		.align	2
 8566              	.L399:
 8567 0084 00000000 		.word	SPI_RxISR_16BITCRC
 8568              		.cfi_endproc
 8569              	.LFE493:
 8571              		.section	.text.SPI_TxISR_8BIT,"ax",%progbits
 8572              		.align	1
 8573              		.syntax unified
 8574              		.thumb
 8575              		.thumb_func
 8577              	SPI_TxISR_8BIT:
 8578              	.LFB494:
3887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle the data 8-bit transmit in Interrupt mode.
3890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_TxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 8579              		.loc 1 3895 1
 8580              		.cfi_startproc
 8581              		@ args = 0, pretend = 0, frame = 8
 8582              		@ frame_needed = 1, uses_anonymous_args = 0
 8583 0000 80B5     		push	{r7, lr}
 8584              		.cfi_def_cfa_offset 8
 8585              		.cfi_offset 7, -8
 8586              		.cfi_offset 14, -4
 8587 0002 82B0     		sub	sp, sp, #8
 8588              		.cfi_def_cfa_offset 16
 8589 0004 00AF     		add	r7, sp, #0
 8590              		.cfi_def_cfa_register 7
 8591 0006 7860     		str	r0, [r7, #4]
3896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = *((const uint8_t *)hspi->pTxBuffPtr);
 8592              		.loc 1 3896 65
 8593 0008 7B68     		ldr	r3, [r7, #4]
 8594 000a 9A6B     		ldr	r2, [r3, #56]
 8595              		.loc 1 3896 25
 8596 000c 7B68     		ldr	r3, [r7, #4]
 8597 000e 1B68     		ldr	r3, [r3]
 8598              		.loc 1 3896 20
 8599 0010 0C33     		adds	r3, r3, #12
 8600              		.loc 1 3896 42
 8601 0012 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
ARM GAS  /tmp/ccC16sX6.s 			page 219


 8602              		.loc 1 3896 40
 8603 0014 1A70     		strb	r2, [r3]
3897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 8604              		.loc 1 3897 7
 8605 0016 7B68     		ldr	r3, [r7, #4]
 8606 0018 9B6B     		ldr	r3, [r3, #56]
 8607              		.loc 1 3897 19
 8608 001a 5A1C     		adds	r2, r3, #1
 8609 001c 7B68     		ldr	r3, [r7, #4]
 8610 001e 9A63     		str	r2, [r3, #56]
3898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount--;
 8611              		.loc 1 3898 7
 8612 0020 7B68     		ldr	r3, [r7, #4]
 8613 0022 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 8614 0024 9BB2     		uxth	r3, r3
 8615              		.loc 1 3898 20
 8616 0026 013B     		subs	r3, r3, #1
 8617 0028 9AB2     		uxth	r2, r3
 8618 002a 7B68     		ldr	r3, [r7, #4]
 8619 002c DA87     		strh	r2, [r3, #62]	@ movhi
3899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
 8620              		.loc 1 3900 11
 8621 002e 7B68     		ldr	r3, [r7, #4]
 8622 0030 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 8623 0032 9BB2     		uxth	r3, r3
 8624              		.loc 1 3900 6
 8625 0034 002B     		cmp	r3, #0
 8626 0036 0FD1     		bne	.L404
3901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 8627              		.loc 1 3903 19
 8628 0038 7B68     		ldr	r3, [r7, #4]
 8629 003a 9B6A     		ldr	r3, [r3, #40]
 8630              		.loc 1 3903 8
 8631 003c B3F5005F 		cmp	r3, #8192
 8632 0040 07D1     		bne	.L403
3904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Enable CRC Transmission */
3906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 8633              		.loc 1 3906 7
 8634 0042 7B68     		ldr	r3, [r7, #4]
 8635 0044 1B68     		ldr	r3, [r3]
 8636 0046 1A68     		ldr	r2, [r3]
 8637 0048 7B68     		ldr	r3, [r7, #4]
 8638 004a 1B68     		ldr	r3, [r3]
 8639 004c 42F48052 		orr	r2, r2, #4096
 8640 0050 1A60     		str	r2, [r3]
 8641              	.L403:
3907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_CloseTx_ISR(hspi);
 8642              		.loc 1 3909 5
 8643 0052 7868     		ldr	r0, [r7, #4]
 8644 0054 FFF7FEFF 		bl	SPI_CloseTx_ISR
 8645              	.L404:
ARM GAS  /tmp/ccC16sX6.s 			page 220


3910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 8646              		.loc 1 3911 1
 8647 0058 00BF     		nop
 8648 005a 0837     		adds	r7, r7, #8
 8649              		.cfi_def_cfa_offset 8
 8650 005c BD46     		mov	sp, r7
 8651              		.cfi_def_cfa_register 13
 8652              		@ sp needed
 8653 005e 80BD     		pop	{r7, pc}
 8654              		.cfi_endproc
 8655              	.LFE494:
 8657              		.section	.text.SPI_TxISR_16BIT,"ax",%progbits
 8658              		.align	1
 8659              		.syntax unified
 8660              		.thumb
 8661              		.thumb_func
 8663              	SPI_TxISR_16BIT:
 8664              	.LFB495:
3912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle the data 16-bit transmit in Interrupt mode.
3915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
3917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
3918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_TxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 8665              		.loc 1 3920 1
 8666              		.cfi_startproc
 8667              		@ args = 0, pretend = 0, frame = 8
 8668              		@ frame_needed = 1, uses_anonymous_args = 0
 8669 0000 80B5     		push	{r7, lr}
 8670              		.cfi_def_cfa_offset 8
 8671              		.cfi_offset 7, -8
 8672              		.cfi_offset 14, -4
 8673 0002 82B0     		sub	sp, sp, #8
 8674              		.cfi_def_cfa_offset 16
 8675 0004 00AF     		add	r7, sp, #0
 8676              		.cfi_def_cfa_register 7
 8677 0006 7860     		str	r0, [r7, #4]
3921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
3922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->Instance->DR = *((const uint16_t *)hspi->pTxBuffPtr);
 8678              		.loc 1 3922 48
 8679 0008 7B68     		ldr	r3, [r7, #4]
 8680 000a 9B6B     		ldr	r3, [r3, #56]
 8681              		.loc 1 3922 24
 8682 000c 1A88     		ldrh	r2, [r3]
 8683              		.loc 1 3922 7
 8684 000e 7B68     		ldr	r3, [r7, #4]
 8685 0010 1B68     		ldr	r3, [r3]
 8686              		.loc 1 3922 22
 8687 0012 DA60     		str	r2, [r3, #12]
3923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 8688              		.loc 1 3923 7
 8689 0014 7B68     		ldr	r3, [r7, #4]
 8690 0016 9B6B     		ldr	r3, [r3, #56]
ARM GAS  /tmp/ccC16sX6.s 			page 221


 8691              		.loc 1 3923 20
 8692 0018 9A1C     		adds	r2, r3, #2
 8693 001a 7B68     		ldr	r3, [r7, #4]
 8694 001c 9A63     		str	r2, [r3, #56]
3924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->TxXferCount--;
 8695              		.loc 1 3924 7
 8696 001e 7B68     		ldr	r3, [r7, #4]
 8697 0020 DB8F     		ldrh	r3, [r3, #62]	@ movhi
 8698 0022 9BB2     		uxth	r3, r3
 8699              		.loc 1 3924 20
 8700 0024 013B     		subs	r3, r3, #1
 8701 0026 9AB2     		uxth	r2, r3
 8702 0028 7B68     		ldr	r3, [r7, #4]
 8703 002a DA87     		strh	r2, [r3, #62]	@ movhi
3925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
 8704              		.loc 1 3926 11
 8705 002c 7B68     		ldr	r3, [r7, #4]
 8706 002e DB8F     		ldrh	r3, [r3, #62]	@ movhi
 8707 0030 9BB2     		uxth	r3, r3
 8708              		.loc 1 3926 6
 8709 0032 002B     		cmp	r3, #0
 8710 0034 0FD1     		bne	.L408
3927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 8711              		.loc 1 3929 19
 8712 0036 7B68     		ldr	r3, [r7, #4]
 8713 0038 9B6A     		ldr	r3, [r3, #40]
 8714              		.loc 1 3929 8
 8715 003a B3F5005F 		cmp	r3, #8192
 8716 003e 07D1     		bne	.L407
3930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Enable CRC Transmission */
3932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 8717              		.loc 1 3932 7
 8718 0040 7B68     		ldr	r3, [r7, #4]
 8719 0042 1B68     		ldr	r3, [r3]
 8720 0044 1A68     		ldr	r2, [r3]
 8721 0046 7B68     		ldr	r3, [r7, #4]
 8722 0048 1B68     		ldr	r3, [r3]
 8723 004a 42F48052 		orr	r2, r2, #4096
 8724 004e 1A60     		str	r2, [r3]
 8725              	.L407:
3933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
3934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SPI_CloseTx_ISR(hspi);
 8726              		.loc 1 3935 5
 8727 0050 7868     		ldr	r0, [r7, #4]
 8728 0052 FFF7FEFF 		bl	SPI_CloseTx_ISR
 8729              	.L408:
3936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
3937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 8730              		.loc 1 3937 1
 8731 0056 00BF     		nop
 8732 0058 0837     		adds	r7, r7, #8
 8733              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccC16sX6.s 			page 222


 8734 005a BD46     		mov	sp, r7
 8735              		.cfi_def_cfa_register 13
 8736              		@ sp needed
 8737 005c 80BD     		pop	{r7, pc}
 8738              		.cfi_endproc
 8739              	.LFE495:
 8741              		.section	.text.SPI_WaitFlagStateUntilTimeout,"ax",%progbits
 8742              		.align	1
 8743              		.syntax unified
 8744              		.thumb
 8745              		.thumb_func
 8747              	SPI_WaitFlagStateUntilTimeout:
 8748              	.LFB496:
3938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
3940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle SPI Communication Timeout.
3941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *              the configuration information for SPI module.
3943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Flag SPI flag to check
3944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  State flag state to check
3945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Timeout Timeout duration
3946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Tickstart tick start value
3947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
3948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
3949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFlagStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Flag, Flag
3950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                        uint32_t Timeout, uint32_t Tickstart)
3951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 8749              		.loc 1 3951 1
 8750              		.cfi_startproc
 8751              		@ args = 4, pretend = 0, frame = 32
 8752              		@ frame_needed = 1, uses_anonymous_args = 0
 8753 0000 80B5     		push	{r7, lr}
 8754              		.cfi_def_cfa_offset 8
 8755              		.cfi_offset 7, -8
 8756              		.cfi_offset 14, -4
 8757 0002 88B0     		sub	sp, sp, #32
 8758              		.cfi_def_cfa_offset 40
 8759 0004 00AF     		add	r7, sp, #0
 8760              		.cfi_def_cfa_register 7
 8761 0006 F860     		str	r0, [r7, #12]
 8762 0008 B960     		str	r1, [r7, #8]
 8763 000a 3B60     		str	r3, [r7]
 8764 000c 1346     		mov	r3, r2
 8765 000e FB71     		strb	r3, [r7, #7]
3952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t count;
3953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tmp_timeout;
3954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tmp_tickstart;
3955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Adjust Timeout value  in case of end of transfer */
3957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_timeout   = Timeout - (HAL_GetTick() - Tickstart);
 8766              		.loc 1 3957 30
 8767 0010 FFF7FEFF 		bl	HAL_GetTick
 8768 0014 0246     		mov	r2, r0
 8769              		.loc 1 3957 44 discriminator 1
 8770 0016 BB6A     		ldr	r3, [r7, #40]
 8771 0018 9B1A     		subs	r3, r3, r2
 8772              		.loc 1 3957 17 discriminator 1
ARM GAS  /tmp/ccC16sX6.s 			page 223


 8773 001a 3A68     		ldr	r2, [r7]
 8774 001c 1344     		add	r3, r3, r2
 8775 001e FB61     		str	r3, [r7, #28]
3958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_tickstart = HAL_GetTick();
 8776              		.loc 1 3958 19
 8777 0020 FFF7FEFF 		bl	HAL_GetTick
 8778 0024 B861     		str	r0, [r7, #24]
3959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Calculate Timeout based on a software loop to avoid blocking issue if Systick is disabled */
3961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   count = tmp_timeout * ((SystemCoreClock * 32U) >> 20U);
 8779              		.loc 1 3961 43
 8780 0026 394B     		ldr	r3, .L421
 8781 0028 1B68     		ldr	r3, [r3]
 8782 002a 5B01     		lsls	r3, r3, #5
 8783              		.loc 1 3961 50
 8784 002c 1B0D     		lsrs	r3, r3, #20
 8785              		.loc 1 3961 23
 8786 002e FA69     		ldr	r2, [r7, #28]
 8787 0030 02FB03F3 		mul	r3, r2, r3
 8788              		.loc 1 3961 9
 8789 0034 7B61     		str	r3, [r7, #20]
3962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   while ((__HAL_SPI_GET_FLAG(hspi, Flag) ? SET : RESET) != State)
 8790              		.loc 1 3963 9
 8791 0036 55E0     		b	.L411
 8792              	.L420:
3964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
3965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (Timeout != HAL_MAX_DELAY)
 8793              		.loc 1 3965 8
 8794 0038 3B68     		ldr	r3, [r7]
 8795 003a B3F1FF3F 		cmp	r3, #-1
 8796 003e 51D0     		beq	.L411
3966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
3967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (((HAL_GetTick() - tmp_tickstart) >= tmp_timeout) || (tmp_timeout == 0U))
 8797              		.loc 1 3967 13
 8798 0040 FFF7FEFF 		bl	HAL_GetTick
 8799 0044 0246     		mov	r2, r0
 8800              		.loc 1 3967 27 discriminator 1
 8801 0046 BB69     		ldr	r3, [r7, #24]
 8802 0048 D31A     		subs	r3, r2, r3
 8803              		.loc 1 3967 10 discriminator 1
 8804 004a FA69     		ldr	r2, [r7, #28]
 8805 004c 9A42     		cmp	r2, r3
 8806 004e 02D9     		bls	.L412
 8807              		.loc 1 3967 60 discriminator 1
 8808 0050 FB69     		ldr	r3, [r7, #28]
 8809 0052 002B     		cmp	r3, #0
 8810 0054 3DD1     		bne	.L413
 8811              	.L412:
3968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
3969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Disable the SPI and reset the CRC: the CRC value should be cleared
3970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****            on both master and slave sides in order to resynchronize the master
3971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****            and slave for their respective CRC calculation */
3972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Disable TXE, RXNE and ERR interrupts for the interrupt process */
3974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
 8812              		.loc 1 3974 9
ARM GAS  /tmp/ccC16sX6.s 			page 224


 8813 0056 FB68     		ldr	r3, [r7, #12]
 8814 0058 1B68     		ldr	r3, [r3]
 8815 005a 5A68     		ldr	r2, [r3, #4]
 8816 005c FB68     		ldr	r3, [r7, #12]
 8817 005e 1B68     		ldr	r3, [r3]
 8818 0060 22F0E002 		bic	r2, r2, #224
 8819 0064 5A60     		str	r2, [r3, #4]
3975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
 8820              		.loc 1 3976 24
 8821 0066 FB68     		ldr	r3, [r7, #12]
 8822 0068 5B68     		ldr	r3, [r3, #4]
 8823              		.loc 1 3976 12
 8824 006a B3F5827F 		cmp	r3, #260
 8825 006e 11D1     		bne	.L414
 8826              		.loc 1 3976 65 discriminator 1
 8827 0070 FB68     		ldr	r3, [r7, #12]
 8828 0072 9B68     		ldr	r3, [r3, #8]
 8829              		.loc 1 3976 50 discriminator 1
 8830 0074 B3F5004F 		cmp	r3, #32768
 8831 0078 04D0     		beq	.L415
3977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 8832              		.loc 1 3977 68
 8833 007a FB68     		ldr	r3, [r7, #12]
 8834 007c 9B68     		ldr	r3, [r3, #8]
 8835              		.loc 1 3977 54
 8836 007e B3F5806F 		cmp	r3, #1024
 8837 0082 07D1     		bne	.L414
 8838              	.L415:
3978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
3979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Disable SPI peripheral */
3980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           __HAL_SPI_DISABLE(hspi);
 8839              		.loc 1 3980 11
 8840 0084 FB68     		ldr	r3, [r7, #12]
 8841 0086 1B68     		ldr	r3, [r3]
 8842 0088 1A68     		ldr	r2, [r3]
 8843 008a FB68     		ldr	r3, [r7, #12]
 8844 008c 1B68     		ldr	r3, [r3]
 8845 008e 22F04002 		bic	r2, r2, #64
 8846 0092 1A60     		str	r2, [r3]
 8847              	.L414:
3981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
3982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Reset CRC Calculation */
3984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 8848              		.loc 1 3984 23
 8849 0094 FB68     		ldr	r3, [r7, #12]
 8850 0096 9B6A     		ldr	r3, [r3, #40]
 8851              		.loc 1 3984 12
 8852 0098 B3F5005F 		cmp	r3, #8192
 8853 009c 0FD1     		bne	.L416
3985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
3986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           SPI_RESET_CRC(hspi);
 8854              		.loc 1 3986 11
 8855 009e FB68     		ldr	r3, [r7, #12]
 8856 00a0 1B68     		ldr	r3, [r3]
 8857 00a2 1A68     		ldr	r2, [r3]
ARM GAS  /tmp/ccC16sX6.s 			page 225


 8858 00a4 FB68     		ldr	r3, [r7, #12]
 8859 00a6 1B68     		ldr	r3, [r3]
 8860 00a8 22F40052 		bic	r2, r2, #8192
 8861 00ac 1A60     		str	r2, [r3]
 8862 00ae FB68     		ldr	r3, [r7, #12]
 8863 00b0 1B68     		ldr	r3, [r3]
 8864 00b2 1A68     		ldr	r2, [r3]
 8865 00b4 FB68     		ldr	r3, [r7, #12]
 8866 00b6 1B68     		ldr	r3, [r3]
 8867 00b8 42F40052 		orr	r2, r2, #8192
 8868 00bc 1A60     		str	r2, [r3]
 8869              	.L416:
3987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
3988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
 8870              		.loc 1 3989 21
 8871 00be FB68     		ldr	r3, [r7, #12]
 8872 00c0 0122     		movs	r2, #1
 8873 00c2 83F85D20 		strb	r2, [r3, #93]
3990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Process Unlocked */
3992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
 8874              		.loc 1 3992 9
 8875 00c6 FB68     		ldr	r3, [r7, #12]
 8876 00c8 0022     		movs	r2, #0
 8877 00ca 83F85C20 		strb	r2, [r3, #92]
3993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
3994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         return HAL_TIMEOUT;
 8878              		.loc 1 3994 16
 8879 00ce 0323     		movs	r3, #3
 8880 00d0 18E0     		b	.L417
 8881              	.L413:
3995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
3996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* If Systick is disabled or not incremented, deactivate timeout to go in disable loop proced
3997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (count == 0U)
 8882              		.loc 1 3997 17
 8883 00d2 7B69     		ldr	r3, [r7, #20]
 8884              		.loc 1 3997 10
 8885 00d4 002B     		cmp	r3, #0
 8886 00d6 02D1     		bne	.L418
3998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
3999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         tmp_timeout = 0U;
 8887              		.loc 1 3999 21
 8888 00d8 0023     		movs	r3, #0
 8889 00da FB61     		str	r3, [r7, #28]
 8890 00dc 02E0     		b	.L411
 8891              	.L418:
4000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
4001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
4002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
4003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         count--;
 8892              		.loc 1 4003 14
 8893 00de 7B69     		ldr	r3, [r7, #20]
 8894 00e0 013B     		subs	r3, r3, #1
 8895 00e2 7B61     		str	r3, [r7, #20]
 8896              	.L411:
3963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
ARM GAS  /tmp/ccC16sX6.s 			page 226


 8897              		.loc 1 3963 11
 8898 00e4 FB68     		ldr	r3, [r7, #12]
 8899 00e6 1B68     		ldr	r3, [r3]
 8900 00e8 9A68     		ldr	r2, [r3, #8]
 8901 00ea BB68     		ldr	r3, [r7, #8]
 8902 00ec 1340     		ands	r3, r3, r2
3963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 8903              		.loc 1 3963 48
 8904 00ee BA68     		ldr	r2, [r7, #8]
 8905 00f0 9A42     		cmp	r2, r3
 8906 00f2 0CBF     		ite	eq
 8907 00f4 0123     		moveq	r3, #1
 8908 00f6 0023     		movne	r3, #0
 8909 00f8 DBB2     		uxtb	r3, r3
 8910 00fa 1A46     		mov	r2, r3
3963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 8911              		.loc 1 3963 57
 8912 00fc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 8913 00fe 9A42     		cmp	r2, r3
 8914 0100 9AD1     		bne	.L420
4004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
4005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
 8915              		.loc 1 4008 10
 8916 0102 0023     		movs	r3, #0
 8917              	.L417:
4009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 8918              		.loc 1 4009 1
 8919 0104 1846     		mov	r0, r3
 8920 0106 2037     		adds	r7, r7, #32
 8921              		.cfi_def_cfa_offset 8
 8922 0108 BD46     		mov	sp, r7
 8923              		.cfi_def_cfa_register 13
 8924              		@ sp needed
 8925 010a 80BD     		pop	{r7, pc}
 8926              	.L422:
 8927              		.align	2
 8928              	.L421:
 8929 010c 00000000 		.word	SystemCoreClock
 8930              		.cfi_endproc
 8931              	.LFE496:
 8933              		.section	.text.SPI_WaitFifoStateUntilTimeout,"ax",%progbits
 8934              		.align	1
 8935              		.syntax unified
 8936              		.thumb
 8937              		.thumb_func
 8939              	SPI_WaitFifoStateUntilTimeout:
 8940              	.LFB497:
4010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
4012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle SPI FIFO Communication Timeout.
4013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
4014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *              the configuration information for SPI module.
4015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Fifo Fifo to check
4016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  State Fifo state to check
ARM GAS  /tmp/ccC16sX6.s 			page 227


4017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Timeout Timeout duration
4018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Tickstart tick start value
4019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
4020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
4021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFifoStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Fifo, uint
4022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                        uint32_t Timeout, uint32_t Tickstart)
4023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 8941              		.loc 1 4023 1
 8942              		.cfi_startproc
 8943              		@ args = 4, pretend = 0, frame = 40
 8944              		@ frame_needed = 1, uses_anonymous_args = 0
 8945 0000 80B5     		push	{r7, lr}
 8946              		.cfi_def_cfa_offset 8
 8947              		.cfi_offset 7, -8
 8948              		.cfi_offset 14, -4
 8949 0002 8AB0     		sub	sp, sp, #40
 8950              		.cfi_def_cfa_offset 48
 8951 0004 00AF     		add	r7, sp, #0
 8952              		.cfi_def_cfa_register 7
 8953 0006 F860     		str	r0, [r7, #12]
 8954 0008 B960     		str	r1, [r7, #8]
 8955 000a 7A60     		str	r2, [r7, #4]
 8956 000c 3B60     		str	r3, [r7]
4024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t count;
4025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tmp_timeout;
4026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tmp_tickstart;
4027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO const uint8_t  *ptmpreg8;
4028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint8_t  tmpreg8 = 0;
 8957              		.loc 1 4028 17
 8958 000e 0023     		movs	r3, #0
 8959 0010 FB75     		strb	r3, [r7, #23]
4029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Adjust Timeout value  in case of end of transfer */
4031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_timeout = Timeout - (HAL_GetTick() - Tickstart);
 8960              		.loc 1 4031 28
 8961 0012 FFF7FEFF 		bl	HAL_GetTick
 8962 0016 0246     		mov	r2, r0
 8963              		.loc 1 4031 42 discriminator 1
 8964 0018 3B6B     		ldr	r3, [r7, #48]
 8965 001a 9B1A     		subs	r3, r3, r2
 8966              		.loc 1 4031 15 discriminator 1
 8967 001c 3A68     		ldr	r2, [r7]
 8968 001e 1344     		add	r3, r3, r2
 8969 0020 7B62     		str	r3, [r7, #36]
4032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tmp_tickstart = HAL_GetTick();
 8970              		.loc 1 4032 19
 8971 0022 FFF7FEFF 		bl	HAL_GetTick
 8972 0026 3862     		str	r0, [r7, #32]
4033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Initialize the 8bit temporary pointer */
4035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   ptmpreg8 = (__IO uint8_t *)&hspi->Instance->DR;
 8973              		.loc 1 4035 35
 8974 0028 FB68     		ldr	r3, [r7, #12]
 8975 002a 1B68     		ldr	r3, [r3]
 8976              		.loc 1 4035 12
 8977 002c 0C33     		adds	r3, r3, #12
 8978 002e FB61     		str	r3, [r7, #28]
ARM GAS  /tmp/ccC16sX6.s 			page 228


4036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Calculate Timeout based on a software loop to avoid blocking issue if Systick is disabled */
4038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   count = tmp_timeout * ((SystemCoreClock * 35U) >> 20U);
 8979              		.loc 1 4038 43
 8980 0030 3D4B     		ldr	r3, .L436
 8981 0032 1A68     		ldr	r2, [r3]
 8982 0034 1346     		mov	r3, r2
 8983 0036 9B00     		lsls	r3, r3, #2
 8984 0038 1344     		add	r3, r3, r2
 8985 003a DA00     		lsls	r2, r3, #3
 8986 003c D31A     		subs	r3, r2, r3
 8987              		.loc 1 4038 50
 8988 003e 1B0D     		lsrs	r3, r3, #20
 8989              		.loc 1 4038 23
 8990 0040 7A6A     		ldr	r2, [r7, #36]
 8991 0042 02FB03F3 		mul	r3, r2, r3
 8992              		.loc 1 4038 9
 8993 0046 BB61     		str	r3, [r7, #24]
4039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   while ((hspi->Instance->SR & Fifo) != State)
 8994              		.loc 1 4040 9
 8995 0048 61E0     		b	.L426
 8996              	.L435:
4041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if ((Fifo == SPI_SR_FRLVL) && (State == SPI_FRLVL_EMPTY))
 8997              		.loc 1 4042 8
 8998 004a BB68     		ldr	r3, [r7, #8]
 8999 004c B3F5C06F 		cmp	r3, #1536
 9000 0050 07D1     		bne	.L425
 9001              		.loc 1 4042 32 discriminator 1
 9002 0052 7B68     		ldr	r3, [r7, #4]
 9003 0054 002B     		cmp	r3, #0
 9004 0056 04D1     		bne	.L425
4043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Flush Data Register by a blank read */
4045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       tmpreg8 = *ptmpreg8;
 9005              		.loc 1 4045 17
 9006 0058 FB69     		ldr	r3, [r7, #28]
 9007 005a 1B78     		ldrb	r3, [r3]
 9008 005c DBB2     		uxtb	r3, r3
 9009              		.loc 1 4045 15
 9010 005e FB75     		strb	r3, [r7, #23]
4046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* To avoid GCC warning */
4047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       UNUSED(tmpreg8);
 9011              		.loc 1 4047 7
 9012 0060 FB7D     		ldrb	r3, [r7, #23]
 9013              	.L425:
4048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (Timeout != HAL_MAX_DELAY)
 9014              		.loc 1 4050 8
 9015 0062 3B68     		ldr	r3, [r7]
 9016 0064 B3F1FF3F 		cmp	r3, #-1
 9017 0068 51D0     		beq	.L426
4051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (((HAL_GetTick() - tmp_tickstart) >= tmp_timeout) || (tmp_timeout == 0U))
 9018              		.loc 1 4052 13
ARM GAS  /tmp/ccC16sX6.s 			page 229


 9019 006a FFF7FEFF 		bl	HAL_GetTick
 9020 006e 0246     		mov	r2, r0
 9021              		.loc 1 4052 27 discriminator 1
 9022 0070 3B6A     		ldr	r3, [r7, #32]
 9023 0072 D31A     		subs	r3, r2, r3
 9024              		.loc 1 4052 10 discriminator 1
 9025 0074 7A6A     		ldr	r2, [r7, #36]
 9026 0076 9A42     		cmp	r2, r3
 9027 0078 02D9     		bls	.L427
 9028              		.loc 1 4052 60 discriminator 1
 9029 007a 7B6A     		ldr	r3, [r7, #36]
 9030 007c 002B     		cmp	r3, #0
 9031 007e 3DD1     		bne	.L428
 9032              	.L427:
4053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
4054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Disable the SPI and reset the CRC: the CRC value should be cleared
4055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****            on both master and slave sides in order to resynchronize the master
4056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****            and slave for their respective CRC calculation */
4057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Disable TXE, RXNE and ERR interrupts for the interrupt process */
4059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
 9033              		.loc 1 4059 9
 9034 0080 FB68     		ldr	r3, [r7, #12]
 9035 0082 1B68     		ldr	r3, [r3]
 9036 0084 5A68     		ldr	r2, [r3, #4]
 9037 0086 FB68     		ldr	r3, [r7, #12]
 9038 0088 1B68     		ldr	r3, [r3]
 9039 008a 22F0E002 		bic	r2, r2, #224
 9040 008e 5A60     		str	r2, [r3, #4]
4060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
 9041              		.loc 1 4061 24
 9042 0090 FB68     		ldr	r3, [r7, #12]
 9043 0092 5B68     		ldr	r3, [r3, #4]
 9044              		.loc 1 4061 12
 9045 0094 B3F5827F 		cmp	r3, #260
 9046 0098 11D1     		bne	.L429
 9047              		.loc 1 4061 65 discriminator 1
 9048 009a FB68     		ldr	r3, [r7, #12]
 9049 009c 9B68     		ldr	r3, [r3, #8]
 9050              		.loc 1 4061 50 discriminator 1
 9051 009e B3F5004F 		cmp	r3, #32768
 9052 00a2 04D0     		beq	.L430
4062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 9053              		.loc 1 4062 68
 9054 00a4 FB68     		ldr	r3, [r7, #12]
 9055 00a6 9B68     		ldr	r3, [r3, #8]
 9056              		.loc 1 4062 54
 9057 00a8 B3F5806F 		cmp	r3, #1024
 9058 00ac 07D1     		bne	.L429
 9059              	.L430:
4063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
4064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           /* Disable SPI peripheral */
4065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           __HAL_SPI_DISABLE(hspi);
 9060              		.loc 1 4065 11
 9061 00ae FB68     		ldr	r3, [r7, #12]
 9062 00b0 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccC16sX6.s 			page 230


 9063 00b2 1A68     		ldr	r2, [r3]
 9064 00b4 FB68     		ldr	r3, [r7, #12]
 9065 00b6 1B68     		ldr	r3, [r3]
 9066 00b8 22F04002 		bic	r2, r2, #64
 9067 00bc 1A60     		str	r2, [r3]
 9068              	.L429:
4066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
4067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Reset CRC Calculation */
4069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 9069              		.loc 1 4069 23
 9070 00be FB68     		ldr	r3, [r7, #12]
 9071 00c0 9B6A     		ldr	r3, [r3, #40]
 9072              		.loc 1 4069 12
 9073 00c2 B3F5005F 		cmp	r3, #8192
 9074 00c6 0FD1     		bne	.L431
4070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         {
4071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****           SPI_RESET_CRC(hspi);
 9075              		.loc 1 4071 11
 9076 00c8 FB68     		ldr	r3, [r7, #12]
 9077 00ca 1B68     		ldr	r3, [r3]
 9078 00cc 1A68     		ldr	r2, [r3]
 9079 00ce FB68     		ldr	r3, [r7, #12]
 9080 00d0 1B68     		ldr	r3, [r3]
 9081 00d2 22F40052 		bic	r2, r2, #8192
 9082 00d6 1A60     		str	r2, [r3]
 9083 00d8 FB68     		ldr	r3, [r7, #12]
 9084 00da 1B68     		ldr	r3, [r3]
 9085 00dc 1A68     		ldr	r2, [r3]
 9086 00de FB68     		ldr	r3, [r7, #12]
 9087 00e0 1B68     		ldr	r3, [r3]
 9088 00e2 42F40052 		orr	r2, r2, #8192
 9089 00e6 1A60     		str	r2, [r3]
 9090              	.L431:
4072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         }
4073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
 9091              		.loc 1 4074 21
 9092 00e8 FB68     		ldr	r3, [r7, #12]
 9093 00ea 0122     		movs	r2, #1
 9094 00ec 83F85D20 		strb	r2, [r3, #93]
4075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Process Unlocked */
4077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
 9095              		.loc 1 4077 9
 9096 00f0 FB68     		ldr	r3, [r7, #12]
 9097 00f2 0022     		movs	r2, #0
 9098 00f4 83F85C20 		strb	r2, [r3, #92]
4078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         return HAL_TIMEOUT;
 9099              		.loc 1 4079 16
 9100 00f8 0323     		movs	r3, #3
 9101 00fa 11E0     		b	.L432
 9102              	.L428:
4080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
4081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* If Systick is disabled or not incremented, deactivate timeout to go in disable loop proced
4082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (count == 0U)
ARM GAS  /tmp/ccC16sX6.s 			page 231


 9103              		.loc 1 4082 17
 9104 00fc BB69     		ldr	r3, [r7, #24]
 9105              		.loc 1 4082 10
 9106 00fe 002B     		cmp	r3, #0
 9107 0100 02D1     		bne	.L433
4083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
4084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         tmp_timeout = 0U;
 9108              		.loc 1 4084 21
 9109 0102 0023     		movs	r3, #0
 9110 0104 7B62     		str	r3, [r7, #36]
 9111 0106 02E0     		b	.L426
 9112              	.L433:
4085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
4086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
4087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
4088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         count--;
 9113              		.loc 1 4088 14
 9114 0108 BB69     		ldr	r3, [r7, #24]
 9115 010a 013B     		subs	r3, r3, #1
 9116 010c BB61     		str	r3, [r7, #24]
 9117              	.L426:
4040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 9118              		.loc 1 4040 15
 9119 010e FB68     		ldr	r3, [r7, #12]
 9120 0110 1B68     		ldr	r3, [r3]
4040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 9121              		.loc 1 4040 25
 9122 0112 9A68     		ldr	r2, [r3, #8]
4040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 9123              		.loc 1 4040 30
 9124 0114 BB68     		ldr	r3, [r7, #8]
 9125 0116 1340     		ands	r3, r3, r2
4040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
 9126              		.loc 1 4040 38
 9127 0118 7A68     		ldr	r2, [r7, #4]
 9128 011a 9A42     		cmp	r2, r3
 9129 011c 95D1     		bne	.L435
4089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
4090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
 9130              		.loc 1 4093 10
 9131 011e 0023     		movs	r3, #0
 9132              	.L432:
4094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 9133              		.loc 1 4094 1
 9134 0120 1846     		mov	r0, r3
 9135 0122 2837     		adds	r7, r7, #40
 9136              		.cfi_def_cfa_offset 8
 9137 0124 BD46     		mov	sp, r7
 9138              		.cfi_def_cfa_register 13
 9139              		@ sp needed
 9140 0126 80BD     		pop	{r7, pc}
 9141              	.L437:
 9142              		.align	2
 9143              	.L436:
ARM GAS  /tmp/ccC16sX6.s 			page 232


 9144 0128 00000000 		.word	SystemCoreClock
 9145              		.cfi_endproc
 9146              	.LFE497:
 9148              		.section	.text.SPI_EndRxTransaction,"ax",%progbits
 9149              		.align	1
 9150              		.syntax unified
 9151              		.thumb
 9152              		.thumb_func
 9154              	SPI_EndRxTransaction:
 9155              	.LFB498:
4095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
4097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle the check of the RX transaction complete.
4098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
4099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
4100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Timeout Timeout duration
4101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Tickstart tick start value
4102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
4103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
4104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTransaction(SPI_HandleTypeDef *hspi,  uint32_t Timeout, uint32_t 
4105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 9156              		.loc 1 4105 1
 9157              		.cfi_startproc
 9158              		@ args = 0, pretend = 0, frame = 16
 9159              		@ frame_needed = 1, uses_anonymous_args = 0
 9160 0000 80B5     		push	{r7, lr}
 9161              		.cfi_def_cfa_offset 8
 9162              		.cfi_offset 7, -8
 9163              		.cfi_offset 14, -4
 9164 0002 86B0     		sub	sp, sp, #24
 9165              		.cfi_def_cfa_offset 32
 9166 0004 02AF     		add	r7, sp, #8
 9167              		.cfi_def_cfa 7, 24
 9168 0006 F860     		str	r0, [r7, #12]
 9169 0008 B960     		str	r1, [r7, #8]
 9170 000a 7A60     		str	r2, [r7, #4]
4106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
 9171              		.loc 1 4106 18
 9172 000c FB68     		ldr	r3, [r7, #12]
 9173 000e 5B68     		ldr	r3, [r3, #4]
 9174              		.loc 1 4106 6
 9175 0010 B3F5827F 		cmp	r3, #260
 9176 0014 11D1     		bne	.L439
 9177              		.loc 1 4106 59 discriminator 1
 9178 0016 FB68     		ldr	r3, [r7, #12]
 9179 0018 9B68     		ldr	r3, [r3, #8]
 9180              		.loc 1 4106 44 discriminator 1
 9181 001a B3F5004F 		cmp	r3, #32768
 9182 001e 04D0     		beq	.L440
4107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 9183              		.loc 1 4107 62
 9184 0020 FB68     		ldr	r3, [r7, #12]
 9185 0022 9B68     		ldr	r3, [r3, #8]
 9186              		.loc 1 4107 48
 9187 0024 B3F5806F 		cmp	r3, #1024
 9188 0028 07D1     		bne	.L439
 9189              	.L440:
ARM GAS  /tmp/ccC16sX6.s 			page 233


4108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable SPI peripheral */
4110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 9190              		.loc 1 4110 5
 9191 002a FB68     		ldr	r3, [r7, #12]
 9192 002c 1B68     		ldr	r3, [r3]
 9193 002e 1A68     		ldr	r2, [r3]
 9194 0030 FB68     		ldr	r3, [r7, #12]
 9195 0032 1B68     		ldr	r3, [r3]
 9196 0034 22F04002 		bic	r2, r2, #64
 9197 0038 1A60     		str	r2, [r3]
 9198              	.L439:
4111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Control the BSY flag */
4114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, Timeout, Tickstart) != HAL_OK)
 9199              		.loc 1 4114 7
 9200 003a 7B68     		ldr	r3, [r7, #4]
 9201 003c 0093     		str	r3, [sp]
 9202 003e BB68     		ldr	r3, [r7, #8]
 9203 0040 0022     		movs	r2, #0
 9204 0042 8021     		movs	r1, #128
 9205 0044 F868     		ldr	r0, [r7, #12]
 9206 0046 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 9207 004a 0346     		mov	r3, r0
 9208              		.loc 1 4114 6 discriminator 1
 9209 004c 002B     		cmp	r3, #0
 9210 004e 07D0     		beq	.L441
4115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 9211              		.loc 1 4116 5
 9212 0050 FB68     		ldr	r3, [r7, #12]
 9213 0052 1B6E     		ldr	r3, [r3, #96]
 9214 0054 43F02002 		orr	r2, r3, #32
 9215 0058 FB68     		ldr	r3, [r7, #12]
 9216 005a 1A66     		str	r2, [r3, #96]
4117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_TIMEOUT;
 9217              		.loc 1 4117 12
 9218 005c 0323     		movs	r3, #3
 9219 005e 23E0     		b	.L442
 9220              	.L441:
4118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
 9221              		.loc 1 4120 18
 9222 0060 FB68     		ldr	r3, [r7, #12]
 9223 0062 5B68     		ldr	r3, [r3, #4]
 9224              		.loc 1 4120 6
 9225 0064 B3F5827F 		cmp	r3, #260
 9226 0068 1DD1     		bne	.L443
 9227              		.loc 1 4120 59 discriminator 1
 9228 006a FB68     		ldr	r3, [r7, #12]
 9229 006c 9B68     		ldr	r3, [r3, #8]
 9230              		.loc 1 4120 44 discriminator 1
 9231 006e B3F5004F 		cmp	r3, #32768
 9232 0072 04D0     		beq	.L444
4121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
ARM GAS  /tmp/ccC16sX6.s 			page 234


 9233              		.loc 1 4121 62
 9234 0074 FB68     		ldr	r3, [r7, #12]
 9235 0076 9B68     		ldr	r3, [r3, #8]
 9236              		.loc 1 4121 48
 9237 0078 B3F5806F 		cmp	r3, #1024
 9238 007c 13D1     		bne	.L443
 9239              	.L444:
4122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Empty the FRLVL fifo */
4124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, Timeout, Tickstart) !=
 9240              		.loc 1 4124 9
 9241 007e 7B68     		ldr	r3, [r7, #4]
 9242 0080 0093     		str	r3, [sp]
 9243 0082 BB68     		ldr	r3, [r7, #8]
 9244 0084 0022     		movs	r2, #0
 9245 0086 4FF4C061 		mov	r1, #1536
 9246 008a F868     		ldr	r0, [r7, #12]
 9247 008c FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 9248 0090 0346     		mov	r3, r0
 9249              		.loc 1 4124 8 discriminator 1
 9250 0092 002B     		cmp	r3, #0
 9251 0094 07D0     		beq	.L443
4125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 9252              		.loc 1 4126 7
 9253 0096 FB68     		ldr	r3, [r7, #12]
 9254 0098 1B6E     		ldr	r3, [r3, #96]
 9255 009a 43F02002 		orr	r2, r3, #32
 9256 009e FB68     		ldr	r3, [r7, #12]
 9257 00a0 1A66     		str	r2, [r3, #96]
4127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       return HAL_TIMEOUT;
 9258              		.loc 1 4127 14
 9259 00a2 0323     		movs	r3, #3
 9260 00a4 00E0     		b	.L442
 9261              	.L443:
4128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
 9262              		.loc 1 4130 10
 9263 00a6 0023     		movs	r3, #0
 9264              	.L442:
4131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 9265              		.loc 1 4131 1
 9266 00a8 1846     		mov	r0, r3
 9267 00aa 1037     		adds	r7, r7, #16
 9268              		.cfi_def_cfa_offset 8
 9269 00ac BD46     		mov	sp, r7
 9270              		.cfi_def_cfa_register 13
 9271              		@ sp needed
 9272 00ae 80BD     		pop	{r7, pc}
 9273              		.cfi_endproc
 9274              	.LFE498:
 9276              		.section	.text.SPI_EndRxTxTransaction,"ax",%progbits
 9277              		.align	1
 9278              		.syntax unified
 9279              		.thumb
 9280              		.thumb_func
ARM GAS  /tmp/ccC16sX6.s 			page 235


 9282              	SPI_EndRxTxTransaction:
 9283              	.LFB499:
4132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
4134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle the check of the RXTX or TX transaction complete.
4135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi SPI handle
4136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Timeout Timeout duration
4137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  Tickstart tick start value
4138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval HAL status
4139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
4140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTxTransaction(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t
4141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 9284              		.loc 1 4141 1
 9285              		.cfi_startproc
 9286              		@ args = 0, pretend = 0, frame = 16
 9287              		@ frame_needed = 1, uses_anonymous_args = 0
 9288 0000 80B5     		push	{r7, lr}
 9289              		.cfi_def_cfa_offset 8
 9290              		.cfi_offset 7, -8
 9291              		.cfi_offset 14, -4
 9292 0002 86B0     		sub	sp, sp, #24
 9293              		.cfi_def_cfa_offset 32
 9294 0004 02AF     		add	r7, sp, #8
 9295              		.cfi_def_cfa 7, 24
 9296 0006 F860     		str	r0, [r7, #12]
 9297 0008 B960     		str	r1, [r7, #8]
 9298 000a 7A60     		str	r2, [r7, #4]
4142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Control if the TX fifo is empty */
4143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FTLVL, SPI_FTLVL_EMPTY, Timeout, Tickstart) != H
 9299              		.loc 1 4143 7
 9300 000c 7B68     		ldr	r3, [r7, #4]
 9301 000e 0093     		str	r3, [sp]
 9302 0010 BB68     		ldr	r3, [r7, #8]
 9303 0012 0022     		movs	r2, #0
 9304 0014 4FF4C051 		mov	r1, #6144
 9305 0018 F868     		ldr	r0, [r7, #12]
 9306 001a FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 9307 001e 0346     		mov	r3, r0
 9308              		.loc 1 4143 6 discriminator 1
 9309 0020 002B     		cmp	r3, #0
 9310 0022 07D0     		beq	.L446
4144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 9311              		.loc 1 4145 5
 9312 0024 FB68     		ldr	r3, [r7, #12]
 9313 0026 1B6E     		ldr	r3, [r3, #96]
 9314 0028 43F02002 		orr	r2, r3, #32
 9315 002c FB68     		ldr	r3, [r7, #12]
 9316 002e 1A66     		str	r2, [r3, #96]
4146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_TIMEOUT;
 9317              		.loc 1 4146 12
 9318 0030 0323     		movs	r3, #3
 9319 0032 27E0     		b	.L447
 9320              	.L446:
4147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Control the BSY flag */
ARM GAS  /tmp/ccC16sX6.s 			page 236


4150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, Timeout, Tickstart) != HAL_OK)
 9321              		.loc 1 4150 7
 9322 0034 7B68     		ldr	r3, [r7, #4]
 9323 0036 0093     		str	r3, [sp]
 9324 0038 BB68     		ldr	r3, [r7, #8]
 9325 003a 0022     		movs	r2, #0
 9326 003c 8021     		movs	r1, #128
 9327 003e F868     		ldr	r0, [r7, #12]
 9328 0040 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 9329 0044 0346     		mov	r3, r0
 9330              		.loc 1 4150 6 discriminator 1
 9331 0046 002B     		cmp	r3, #0
 9332 0048 07D0     		beq	.L448
4151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 9333              		.loc 1 4152 5
 9334 004a FB68     		ldr	r3, [r7, #12]
 9335 004c 1B6E     		ldr	r3, [r3, #96]
 9336 004e 43F02002 		orr	r2, r3, #32
 9337 0052 FB68     		ldr	r3, [r7, #12]
 9338 0054 1A66     		str	r2, [r3, #96]
4153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_TIMEOUT;
 9339              		.loc 1 4153 12
 9340 0056 0323     		movs	r3, #3
 9341 0058 14E0     		b	.L447
 9342              	.L448:
4154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Control if the RX fifo is empty */
4157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, Timeout, Tickstart) != H
 9343              		.loc 1 4157 7
 9344 005a 7B68     		ldr	r3, [r7, #4]
 9345 005c 0093     		str	r3, [sp]
 9346 005e BB68     		ldr	r3, [r7, #8]
 9347 0060 0022     		movs	r2, #0
 9348 0062 4FF4C061 		mov	r1, #1536
 9349 0066 F868     		ldr	r0, [r7, #12]
 9350 0068 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 9351 006c 0346     		mov	r3, r0
 9352              		.loc 1 4157 6 discriminator 1
 9353 006e 002B     		cmp	r3, #0
 9354 0070 07D0     		beq	.L449
4158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 9355              		.loc 1 4159 5
 9356 0072 FB68     		ldr	r3, [r7, #12]
 9357 0074 1B6E     		ldr	r3, [r3, #96]
 9358 0076 43F02002 		orr	r2, r3, #32
 9359 007a FB68     		ldr	r3, [r7, #12]
 9360 007c 1A66     		str	r2, [r3, #96]
4160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     return HAL_TIMEOUT;
 9361              		.loc 1 4160 12
 9362 007e 0323     		movs	r3, #3
 9363 0080 00E0     		b	.L447
 9364              	.L449:
4161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
ARM GAS  /tmp/ccC16sX6.s 			page 237


4163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   return HAL_OK;
 9365              		.loc 1 4163 10
 9366 0082 0023     		movs	r3, #0
 9367              	.L447:
4164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 9368              		.loc 1 4164 1
 9369 0084 1846     		mov	r0, r3
 9370 0086 1037     		adds	r7, r7, #16
 9371              		.cfi_def_cfa_offset 8
 9372 0088 BD46     		mov	sp, r7
 9373              		.cfi_def_cfa_register 13
 9374              		@ sp needed
 9375 008a 80BD     		pop	{r7, pc}
 9376              		.cfi_endproc
 9377              	.LFE499:
 9379              		.section	.text.SPI_CloseRxTx_ISR,"ax",%progbits
 9380              		.align	1
 9381              		.syntax unified
 9382              		.thumb
 9383              		.thumb_func
 9385              	SPI_CloseRxTx_ISR:
 9386              	.LFB500:
4165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
4167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle the end of the RXTX transaction.
4168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
4169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
4170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
4171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
4172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_CloseRxTx_ISR(SPI_HandleTypeDef *hspi)
4173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 9387              		.loc 1 4173 1
 9388              		.cfi_startproc
 9389              		@ args = 0, pretend = 0, frame = 16
 9390              		@ frame_needed = 1, uses_anonymous_args = 0
 9391 0000 80B5     		push	{r7, lr}
 9392              		.cfi_def_cfa_offset 8
 9393              		.cfi_offset 7, -8
 9394              		.cfi_offset 14, -4
 9395 0002 84B0     		sub	sp, sp, #16
 9396              		.cfi_def_cfa_offset 24
 9397 0004 00AF     		add	r7, sp, #0
 9398              		.cfi_def_cfa_register 7
 9399 0006 7860     		str	r0, [r7, #4]
4174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
4175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init tickstart for timeout management */
4177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 9400              		.loc 1 4177 15
 9401 0008 FFF7FEFF 		bl	HAL_GetTick
 9402 000c F860     		str	r0, [r7, #12]
4178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable ERR interrupt */
4180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
 9403              		.loc 1 4180 3
 9404 000e 7B68     		ldr	r3, [r7, #4]
 9405 0010 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccC16sX6.s 			page 238


 9406 0012 5A68     		ldr	r2, [r3, #4]
 9407 0014 7B68     		ldr	r3, [r7, #4]
 9408 0016 1B68     		ldr	r3, [r3]
 9409 0018 22F02002 		bic	r2, r2, #32
 9410 001c 5A60     		str	r2, [r3, #4]
4181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the end of the transaction */
4183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
 9411              		.loc 1 4183 7
 9412 001e FA68     		ldr	r2, [r7, #12]
 9413 0020 6421     		movs	r1, #100
 9414 0022 7868     		ldr	r0, [r7, #4]
 9415 0024 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 9416 0028 0346     		mov	r3, r0
 9417              		.loc 1 4183 6 discriminator 1
 9418 002a 002B     		cmp	r3, #0
 9419 002c 05D0     		beq	.L451
4184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 9420              		.loc 1 4185 5
 9421 002e 7B68     		ldr	r3, [r7, #4]
 9422 0030 1B6E     		ldr	r3, [r3, #96]
 9423 0032 43F02002 		orr	r2, r3, #32
 9424 0036 7B68     		ldr	r3, [r7, #4]
 9425 0038 1A66     		str	r2, [r3, #96]
 9426              	.L451:
4186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
4189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if CRC error occurred */
4190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
 9427              		.loc 1 4190 7
 9428 003a 7B68     		ldr	r3, [r7, #4]
 9429 003c 1B68     		ldr	r3, [r3]
 9430 003e 9B68     		ldr	r3, [r3, #8]
 9431 0040 03F01003 		and	r3, r3, #16
 9432              		.loc 1 4190 6
 9433 0044 102B     		cmp	r3, #16
 9434 0046 12D1     		bne	.L452
4191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 9435              		.loc 1 4192 17
 9436 0048 7B68     		ldr	r3, [r7, #4]
 9437 004a 0122     		movs	r2, #1
 9438 004c 83F85D20 		strb	r2, [r3, #93]
4193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 9439              		.loc 1 4193 5
 9440 0050 7B68     		ldr	r3, [r7, #4]
 9441 0052 1B6E     		ldr	r3, [r3, #96]
 9442 0054 43F00202 		orr	r2, r3, #2
 9443 0058 7B68     		ldr	r3, [r7, #4]
 9444 005a 1A66     		str	r2, [r3, #96]
4194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
 9445              		.loc 1 4194 5
 9446 005c 7B68     		ldr	r3, [r7, #4]
 9447 005e 1B68     		ldr	r3, [r3]
 9448 0060 4FF6EF72 		movw	r2, #65519
ARM GAS  /tmp/ccC16sX6.s 			page 239


 9449 0064 9A60     		str	r2, [r3, #8]
4195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Call user error callback */
4196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCallback(hspi);
4198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
4199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
 9450              		.loc 1 4199 5
 9451 0066 7868     		ldr	r0, [r7, #4]
 9452 0068 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
4200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
4203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
4205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->ErrorCode == HAL_SPI_ERROR_NONE)
4206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (hspi->State == HAL_SPI_STATE_BUSY_RX)
4208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
4209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
4210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Call user Rx complete callback */
4211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->RxCpltCallback(hspi);
4213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
4214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         HAL_SPI_RxCpltCallback(hspi);
4215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
4217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       else
4218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
4219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
4220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Call user TxRx complete callback */
4221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         hspi->TxRxCpltCallback(hspi);
4223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
4224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         HAL_SPI_TxRxCpltCallback(hspi);
4225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
4227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
4229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
4231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Call user error callback */
4232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
4234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
4235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
4236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
4239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
4241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 9453              		.loc 1 4241 1
 9454 006c 20E0     		b	.L456
 9455              	.L452:
4205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 9456              		.loc 1 4205 13
 9457 006e 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccC16sX6.s 			page 240


 9458 0070 1B6E     		ldr	r3, [r3, #96]
4205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 9459              		.loc 1 4205 8
 9460 0072 002B     		cmp	r3, #0
 9461 0074 15D1     		bne	.L454
4207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 9462              		.loc 1 4207 15
 9463 0076 7B68     		ldr	r3, [r7, #4]
 9464 0078 93F85D30 		ldrb	r3, [r3, #93]
 9465 007c DBB2     		uxtb	r3, r3
4207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
 9466              		.loc 1 4207 10
 9467 007e 042B     		cmp	r3, #4
 9468 0080 07D1     		bne	.L455
4209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Call user Rx complete callback */
 9469              		.loc 1 4209 21
 9470 0082 7B68     		ldr	r3, [r7, #4]
 9471 0084 0122     		movs	r2, #1
 9472 0086 83F85D20 		strb	r2, [r3, #93]
4214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 9473              		.loc 1 4214 9
 9474 008a 7868     		ldr	r0, [r7, #4]
 9475 008c FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 9476              		.loc 1 4241 1
 9477 0090 0EE0     		b	.L456
 9478              	.L455:
4219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         /* Call user TxRx complete callback */
 9479              		.loc 1 4219 21
 9480 0092 7B68     		ldr	r3, [r7, #4]
 9481 0094 0122     		movs	r2, #1
 9482 0096 83F85D20 		strb	r2, [r3, #93]
4224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 9483              		.loc 1 4224 9
 9484 009a 7868     		ldr	r0, [r7, #4]
 9485 009c FFF7FEFF 		bl	HAL_SPI_TxRxCpltCallback
 9486              		.loc 1 4241 1
 9487 00a0 06E0     		b	.L456
 9488              	.L454:
4230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Call user error callback */
 9489              		.loc 1 4230 19
 9490 00a2 7B68     		ldr	r3, [r7, #4]
 9491 00a4 0122     		movs	r2, #1
 9492 00a6 83F85D20 		strb	r2, [r3, #93]
4235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 9493              		.loc 1 4235 7
 9494 00aa 7868     		ldr	r0, [r7, #4]
 9495 00ac FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 9496              	.L456:
 9497              		.loc 1 4241 1
 9498 00b0 00BF     		nop
 9499 00b2 1037     		adds	r7, r7, #16
 9500              		.cfi_def_cfa_offset 8
 9501 00b4 BD46     		mov	sp, r7
 9502              		.cfi_def_cfa_register 13
 9503              		@ sp needed
 9504 00b6 80BD     		pop	{r7, pc}
 9505              		.cfi_endproc
ARM GAS  /tmp/ccC16sX6.s 			page 241


 9506              	.LFE500:
 9508              		.section	.text.SPI_CloseRx_ISR,"ax",%progbits
 9509              		.align	1
 9510              		.syntax unified
 9511              		.thumb
 9512              		.thumb_func
 9514              	SPI_CloseRx_ISR:
 9515              	.LFB501:
4242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
4244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle the end of the RX transaction.
4245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
4246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
4247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
4248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
4249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_CloseRx_ISR(SPI_HandleTypeDef *hspi)
4250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 9516              		.loc 1 4250 1
 9517              		.cfi_startproc
 9518              		@ args = 0, pretend = 0, frame = 8
 9519              		@ frame_needed = 1, uses_anonymous_args = 0
 9520 0000 80B5     		push	{r7, lr}
 9521              		.cfi_def_cfa_offset 8
 9522              		.cfi_offset 7, -8
 9523              		.cfi_offset 14, -4
 9524 0002 82B0     		sub	sp, sp, #8
 9525              		.cfi_def_cfa_offset 16
 9526 0004 00AF     		add	r7, sp, #0
 9527              		.cfi_def_cfa_register 7
 9528 0006 7860     		str	r0, [r7, #4]
4251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
4252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
 9529              		.loc 1 4252 3
 9530 0008 7B68     		ldr	r3, [r7, #4]
 9531 000a 1B68     		ldr	r3, [r3]
 9532 000c 5A68     		ldr	r2, [r3, #4]
 9533 000e 7B68     		ldr	r3, [r7, #4]
 9534 0010 1B68     		ldr	r3, [r3]
 9535 0012 22F06002 		bic	r2, r2, #96
 9536 0016 5A60     		str	r2, [r3, #4]
4253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the end of the transaction */
4255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_EndRxTransaction(hspi, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) != HAL_OK)
 9537              		.loc 1 4255 7
 9538 0018 FFF7FEFF 		bl	HAL_GetTick
 9539 001c 0346     		mov	r3, r0
 9540              		.loc 1 4255 7 is_stmt 0 discriminator 1
 9541 001e 1A46     		mov	r2, r3
 9542 0020 6421     		movs	r1, #100
 9543 0022 7868     		ldr	r0, [r7, #4]
 9544 0024 FFF7FEFF 		bl	SPI_EndRxTransaction
 9545 0028 0346     		mov	r3, r0
 9546              		.loc 1 4255 6 is_stmt 1 discriminator 2
 9547 002a 002B     		cmp	r3, #0
 9548 002c 05D0     		beq	.L458
4256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
ARM GAS  /tmp/ccC16sX6.s 			page 242


 9549              		.loc 1 4257 5
 9550 002e 7B68     		ldr	r3, [r7, #4]
 9551 0030 1B6E     		ldr	r3, [r3, #96]
 9552 0032 43F02002 		orr	r2, r3, #32
 9553 0036 7B68     		ldr	r3, [r7, #4]
 9554 0038 1A66     		str	r2, [r3, #96]
 9555              	.L458:
4258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 9556              		.loc 1 4259 15
 9557 003a 7B68     		ldr	r3, [r7, #4]
 9558 003c 0122     		movs	r2, #1
 9559 003e 83F85D20 		strb	r2, [r3, #93]
4260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
4262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check if CRC error occurred */
4263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
 9560              		.loc 1 4263 7
 9561 0042 7B68     		ldr	r3, [r7, #4]
 9562 0044 1B68     		ldr	r3, [r3]
 9563 0046 9B68     		ldr	r3, [r3, #8]
 9564 0048 03F01003 		and	r3, r3, #16
 9565              		.loc 1 4263 6
 9566 004c 102B     		cmp	r3, #16
 9567 004e 0ED1     		bne	.L459
4264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
 9568              		.loc 1 4265 5
 9569 0050 7B68     		ldr	r3, [r7, #4]
 9570 0052 1B6E     		ldr	r3, [r3, #96]
 9571 0054 43F00202 		orr	r2, r3, #2
 9572 0058 7B68     		ldr	r3, [r7, #4]
 9573 005a 1A66     		str	r2, [r3, #96]
4266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
 9574              		.loc 1 4266 5
 9575 005c 7B68     		ldr	r3, [r7, #4]
 9576 005e 1B68     		ldr	r3, [r3]
 9577 0060 4FF6EF72 		movw	r2, #65519
 9578 0064 9A60     		str	r2, [r3, #8]
4267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Call user error callback */
4268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCallback(hspi);
4270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
4271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
 9579              		.loc 1 4271 5
 9580 0066 7868     		ldr	r0, [r7, #4]
 9581 0068 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
4272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
4275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
4277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (hspi->ErrorCode == HAL_SPI_ERROR_NONE)
4278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Call user Rx complete callback */
4280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->RxCpltCallback(hspi);
ARM GAS  /tmp/ccC16sX6.s 			page 243


4282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
4283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       HAL_SPI_RxCpltCallback(hspi);
4284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     else
4287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       /* Call user error callback */
4289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
4291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
4292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
4293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
4296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
4298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 9582              		.loc 1 4298 1
 9583 006c 0AE0     		b	.L462
 9584              	.L459:
4277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 9585              		.loc 1 4277 13
 9586 006e 7B68     		ldr	r3, [r7, #4]
 9587 0070 1B6E     		ldr	r3, [r3, #96]
4277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
 9588              		.loc 1 4277 8
 9589 0072 002B     		cmp	r3, #0
 9590 0074 03D1     		bne	.L461
4283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 9591              		.loc 1 4283 7
 9592 0076 7868     		ldr	r0, [r7, #4]
 9593 0078 FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 9594              		.loc 1 4298 1
 9595 007c 02E0     		b	.L462
 9596              	.L461:
4292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 9597              		.loc 1 4292 7
 9598 007e 7868     		ldr	r0, [r7, #4]
 9599 0080 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 9600              	.L462:
 9601              		.loc 1 4298 1
 9602 0084 00BF     		nop
 9603 0086 0837     		adds	r7, r7, #8
 9604              		.cfi_def_cfa_offset 8
 9605 0088 BD46     		mov	sp, r7
 9606              		.cfi_def_cfa_register 13
 9607              		@ sp needed
 9608 008a 80BD     		pop	{r7, pc}
 9609              		.cfi_endproc
 9610              	.LFE501:
 9612              		.section	.text.SPI_CloseTx_ISR,"ax",%progbits
 9613              		.align	1
 9614              		.syntax unified
 9615              		.thumb
 9616              		.thumb_func
 9618              	SPI_CloseTx_ISR:
 9619              	.LFB502:
ARM GAS  /tmp/ccC16sX6.s 			page 244


4299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
4301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle the end of the TX transaction.
4302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
4303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
4304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
4305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
4306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_CloseTx_ISR(SPI_HandleTypeDef *hspi)
4307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 9620              		.loc 1 4307 1
 9621              		.cfi_startproc
 9622              		@ args = 0, pretend = 0, frame = 16
 9623              		@ frame_needed = 1, uses_anonymous_args = 0
 9624 0000 80B5     		push	{r7, lr}
 9625              		.cfi_def_cfa_offset 8
 9626              		.cfi_offset 7, -8
 9627              		.cfi_offset 14, -4
 9628 0002 84B0     		sub	sp, sp, #16
 9629              		.cfi_def_cfa_offset 24
 9630 0004 00AF     		add	r7, sp, #0
 9631              		.cfi_def_cfa_register 7
 9632 0006 7860     		str	r0, [r7, #4]
4308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   uint32_t tickstart;
4309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
4311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 9633              		.loc 1 4311 15
 9634 0008 FFF7FEFF 		bl	HAL_GetTick
 9635 000c F860     		str	r0, [r7, #12]
4312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable TXE and ERR interrupt */
4314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_ERR));
 9636              		.loc 1 4314 3
 9637 000e 7B68     		ldr	r3, [r7, #4]
 9638 0010 1B68     		ldr	r3, [r3]
 9639 0012 5A68     		ldr	r2, [r3, #4]
 9640 0014 7B68     		ldr	r3, [r7, #4]
 9641 0016 1B68     		ldr	r3, [r3]
 9642 0018 22F0A002 		bic	r2, r2, #160
 9643 001c 5A60     		str	r2, [r3, #4]
4315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check the end of the transaction */
4317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
 9644              		.loc 1 4317 7
 9645 001e FA68     		ldr	r2, [r7, #12]
 9646 0020 6421     		movs	r1, #100
 9647 0022 7868     		ldr	r0, [r7, #4]
 9648 0024 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 9649 0028 0346     		mov	r3, r0
 9650              		.loc 1 4317 6 discriminator 1
 9651 002a 002B     		cmp	r3, #0
 9652 002c 05D0     		beq	.L464
4318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
 9653              		.loc 1 4319 5
 9654 002e 7B68     		ldr	r3, [r7, #4]
 9655 0030 1B6E     		ldr	r3, [r3, #96]
ARM GAS  /tmp/ccC16sX6.s 			page 245


 9656 0032 43F02002 		orr	r2, r3, #32
 9657 0036 7B68     		ldr	r3, [r7, #4]
 9658 0038 1A66     		str	r2, [r3, #96]
 9659              	.L464:
4320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
4323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
 9660              		.loc 1 4323 17
 9661 003a 7B68     		ldr	r3, [r7, #4]
 9662 003c 9B68     		ldr	r3, [r3, #8]
 9663              		.loc 1 4323 6
 9664 003e 002B     		cmp	r3, #0
 9665 0040 0AD1     		bne	.L465
 9666              	.LBB16:
4324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
 9667              		.loc 1 4325 5
 9668 0042 0023     		movs	r3, #0
 9669 0044 BB60     		str	r3, [r7, #8]
 9670 0046 7B68     		ldr	r3, [r7, #4]
 9671 0048 1B68     		ldr	r3, [r3]
 9672 004a DB68     		ldr	r3, [r3, #12]
 9673 004c BB60     		str	r3, [r7, #8]
 9674 004e 7B68     		ldr	r3, [r7, #4]
 9675 0050 1B68     		ldr	r3, [r3]
 9676 0052 9B68     		ldr	r3, [r3, #8]
 9677 0054 BB60     		str	r3, [r7, #8]
 9678 0056 BB68     		ldr	r3, [r7, #8]
 9679              	.L465:
 9680              	.LBE16:
4326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 9681              		.loc 1 4328 15
 9682 0058 7B68     		ldr	r3, [r7, #4]
 9683 005a 0122     		movs	r2, #1
 9684 005c 83F85D20 		strb	r2, [r3, #93]
4329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 9685              		.loc 1 4329 11
 9686 0060 7B68     		ldr	r3, [r7, #4]
 9687 0062 1B6E     		ldr	r3, [r3, #96]
 9688              		.loc 1 4329 6
 9689 0064 002B     		cmp	r3, #0
 9690 0066 03D0     		beq	.L466
4330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Call user error callback */
4332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCallback(hspi);
4334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
4335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
 9691              		.loc 1 4335 5
 9692 0068 7868     		ldr	r0, [r7, #4]
 9693 006a FFF7FEFF 		bl	HAL_SPI_ErrorCallback
4336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   else
ARM GAS  /tmp/ccC16sX6.s 			page 246


4339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Call user Rx complete callback */
4341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
4342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->TxCpltCallback(hspi);
4343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #else
4344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     HAL_SPI_TxCpltCallback(hspi);
4345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
4346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 9694              		.loc 1 4347 1
 9695 006e 02E0     		b	.L468
 9696              	.L466:
4344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 9697              		.loc 1 4344 5
 9698 0070 7868     		ldr	r0, [r7, #4]
 9699 0072 FFF7FEFF 		bl	HAL_SPI_TxCpltCallback
 9700              	.L468:
 9701              		.loc 1 4347 1
 9702 0076 00BF     		nop
 9703 0078 1037     		adds	r7, r7, #16
 9704              		.cfi_def_cfa_offset 8
 9705 007a BD46     		mov	sp, r7
 9706              		.cfi_def_cfa_register 13
 9707              		@ sp needed
 9708 007c 80BD     		pop	{r7, pc}
 9709              		.cfi_endproc
 9710              	.LFE502:
 9712              		.section	.text.SPI_AbortRx_ISR,"ax",%progbits
 9713              		.align	1
 9714              		.syntax unified
 9715              		.thumb
 9716              		.thumb_func
 9718              	SPI_AbortRx_ISR:
 9719              	.LFB503:
4348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
4350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle abort a Rx transaction.
4351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
4352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
4353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
4354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
4355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_AbortRx_ISR(SPI_HandleTypeDef *hspi)
4356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 9720              		.loc 1 4356 1
 9721              		.cfi_startproc
 9722              		@ args = 0, pretend = 0, frame = 16
 9723              		@ frame_needed = 1, uses_anonymous_args = 0
 9724 0000 80B5     		push	{r7, lr}
 9725              		.cfi_def_cfa_offset 8
 9726              		.cfi_offset 7, -8
 9727              		.cfi_offset 14, -4
 9728 0002 86B0     		sub	sp, sp, #24
 9729              		.cfi_def_cfa_offset 32
 9730 0004 02AF     		add	r7, sp, #8
 9731              		.cfi_def_cfa 7, 24
 9732 0006 7860     		str	r0, [r7, #4]
4357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t count;
ARM GAS  /tmp/ccC16sX6.s 			page 247


4358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable SPI Peripheral */
4360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 9733              		.loc 1 4360 3
 9734 0008 7B68     		ldr	r3, [r7, #4]
 9735 000a 1B68     		ldr	r3, [r3]
 9736 000c 1A68     		ldr	r2, [r3]
 9737 000e 7B68     		ldr	r3, [r7, #4]
 9738 0010 1B68     		ldr	r3, [r3]
 9739 0012 22F04002 		bic	r2, r2, #64
 9740 0016 1A60     		str	r2, [r3]
4361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 9741              		.loc 1 4362 56
 9742 0018 274B     		ldr	r3, .L475
 9743 001a 1B68     		ldr	r3, [r3]
 9744 001c 274A     		ldr	r2, .L475+4
 9745 001e A2FB0323 		umull	r2, r3, r2, r3
 9746 0022 5B0A     		lsrs	r3, r3, #9
 9747              		.loc 1 4362 31
 9748 0024 6422     		movs	r2, #100
 9749 0026 02FB03F3 		mul	r3, r2, r3
 9750              		.loc 1 4362 9
 9751 002a FB60     		str	r3, [r7, #12]
4363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable RXNEIE interrupt */
4365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_RXNEIE));
 9752              		.loc 1 4365 3
 9753 002c 7B68     		ldr	r3, [r7, #4]
 9754 002e 1B68     		ldr	r3, [r3]
 9755 0030 5A68     		ldr	r2, [r3, #4]
 9756 0032 7B68     		ldr	r3, [r7, #4]
 9757 0034 1B68     		ldr	r3, [r3]
 9758 0036 22F04002 		bic	r2, r2, #64
 9759 003a 5A60     		str	r2, [r3, #4]
 9760              	.L472:
4366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check RXNEIE is disabled */
4368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   do
4369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (count == 0U)
 9761              		.loc 1 4370 15
 9762 003c FB68     		ldr	r3, [r7, #12]
 9763              		.loc 1 4370 8
 9764 003e 002B     		cmp	r3, #0
 9765 0040 06D1     		bne	.L470
4371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
 9766              		.loc 1 4372 7
 9767 0042 7B68     		ldr	r3, [r7, #4]
 9768 0044 1B6E     		ldr	r3, [r3, #96]
 9769 0046 43F04002 		orr	r2, r3, #64
 9770 004a 7B68     		ldr	r3, [r7, #4]
 9771 004c 1A66     		str	r2, [r3, #96]
4373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       break;
 9772              		.loc 1 4373 7
 9773 004e 09E0     		b	.L471
ARM GAS  /tmp/ccC16sX6.s 			page 248


 9774              	.L470:
4374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     count--;
 9775              		.loc 1 4375 10
 9776 0050 FB68     		ldr	r3, [r7, #12]
 9777 0052 013B     		subs	r3, r3, #1
 9778 0054 FB60     		str	r3, [r7, #12]
4376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   } while (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE));
 9779              		.loc 1 4376 12
 9780 0056 7B68     		ldr	r3, [r7, #4]
 9781 0058 1B68     		ldr	r3, [r3]
 9782 005a 5B68     		ldr	r3, [r3, #4]
 9783 005c 03F04003 		and	r3, r3, #64
 9784 0060 402B     		cmp	r3, #64
 9785 0062 EBD0     		beq	.L472
 9786              	.L471:
4377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Control the BSY flag */
4379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) 
 9787              		.loc 1 4379 7
 9788 0064 FFF7FEFF 		bl	HAL_GetTick
 9789 0068 0346     		mov	r3, r0
 9790              		.loc 1 4379 7 is_stmt 0 discriminator 1
 9791 006a 0093     		str	r3, [sp]
 9792 006c 6423     		movs	r3, #100
 9793 006e 0022     		movs	r2, #0
 9794 0070 8021     		movs	r1, #128
 9795 0072 7868     		ldr	r0, [r7, #4]
 9796 0074 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 9797 0078 0346     		mov	r3, r0
 9798              		.loc 1 4379 6 is_stmt 1 discriminator 2
 9799 007a 002B     		cmp	r3, #0
 9800 007c 02D0     		beq	.L473
4380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 9801              		.loc 1 4381 21
 9802 007e 7B68     		ldr	r3, [r7, #4]
 9803 0080 4022     		movs	r2, #64
 9804 0082 1A66     		str	r2, [r3, #96]
 9805              	.L473:
4382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Empty the FRLVL fifo */
4385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT,
 9806              		.loc 1 4385 7
 9807 0084 FFF7FEFF 		bl	HAL_GetTick
 9808 0088 0346     		mov	r3, r0
 9809              		.loc 1 4385 7 is_stmt 0 discriminator 1
 9810 008a 0093     		str	r3, [sp]
 9811 008c 6423     		movs	r3, #100
 9812 008e 0022     		movs	r2, #0
 9813 0090 4FF4C061 		mov	r1, #1536
 9814 0094 7868     		ldr	r0, [r7, #4]
 9815 0096 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 9816 009a 0346     		mov	r3, r0
 9817              		.loc 1 4385 6 is_stmt 1 discriminator 2
 9818 009c 002B     		cmp	r3, #0
ARM GAS  /tmp/ccC16sX6.s 			page 249


 9819 009e 02D0     		beq	.L474
4386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                     HAL_GetTick()) != HAL_OK)
4387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 9820              		.loc 1 4388 21
 9821 00a0 7B68     		ldr	r3, [r7, #4]
 9822 00a2 4022     		movs	r2, #64
 9823 00a4 1A66     		str	r2, [r3, #96]
 9824              	.L474:
4389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_ABORT;
 9825              		.loc 1 4391 15
 9826 00a6 7B68     		ldr	r3, [r7, #4]
 9827 00a8 0722     		movs	r2, #7
 9828 00aa 83F85D20 		strb	r2, [r3, #93]
4392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 9829              		.loc 1 4392 1
 9830 00ae 00BF     		nop
 9831 00b0 1037     		adds	r7, r7, #16
 9832              		.cfi_def_cfa_offset 8
 9833 00b2 BD46     		mov	sp, r7
 9834              		.cfi_def_cfa_register 13
 9835              		@ sp needed
 9836 00b4 80BD     		pop	{r7, pc}
 9837              	.L476:
 9838 00b6 00BF     		.align	2
 9839              	.L475:
 9840 00b8 00000000 		.word	SystemCoreClock
 9841 00bc F1197605 		.word	91625969
 9842              		.cfi_endproc
 9843              	.LFE503:
 9845              		.section	.text.SPI_AbortTx_ISR,"ax",%progbits
 9846              		.align	1
 9847              		.syntax unified
 9848              		.thumb
 9849              		.thumb_func
 9851              	SPI_AbortTx_ISR:
 9852              	.LFB504:
4393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** /**
4395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @brief  Handle abort a Tx or Rx/Tx transaction.
4396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
4397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   *               the configuration information for SPI module.
4398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   * @retval None
4399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   */
4400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** static void SPI_AbortTx_ISR(SPI_HandleTypeDef *hspi)
4401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** {
 9853              		.loc 1 4401 1
 9854              		.cfi_startproc
 9855              		@ args = 0, pretend = 0, frame = 16
 9856              		@ frame_needed = 1, uses_anonymous_args = 0
 9857 0000 80B5     		push	{r7, lr}
 9858              		.cfi_def_cfa_offset 8
 9859              		.cfi_offset 7, -8
 9860              		.cfi_offset 14, -4
 9861 0002 86B0     		sub	sp, sp, #24
ARM GAS  /tmp/ccC16sX6.s 			page 250


 9862              		.cfi_def_cfa_offset 32
 9863 0004 02AF     		add	r7, sp, #8
 9864              		.cfi_def_cfa 7, 24
 9865 0006 7860     		str	r0, [r7, #4]
4402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __IO uint32_t count;
4403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 9866              		.loc 1 4404 56
 9867 0008 4C4B     		ldr	r3, .L488
 9868 000a 1B68     		ldr	r3, [r3]
 9869 000c 4C4A     		ldr	r2, .L488+4
 9870 000e A2FB0323 		umull	r2, r3, r2, r3
 9871 0012 5B0A     		lsrs	r3, r3, #9
 9872              		.loc 1 4404 31
 9873 0014 6422     		movs	r2, #100
 9874 0016 02FB03F3 		mul	r3, r2, r3
 9875              		.loc 1 4404 9
 9876 001a FB60     		str	r3, [r7, #12]
4405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable TXEIE interrupt */
4407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXEIE));
 9877              		.loc 1 4407 3
 9878 001c 7B68     		ldr	r3, [r7, #4]
 9879 001e 1B68     		ldr	r3, [r3]
 9880 0020 5A68     		ldr	r2, [r3, #4]
 9881 0022 7B68     		ldr	r3, [r7, #4]
 9882 0024 1B68     		ldr	r3, [r3]
 9883 0026 22F08002 		bic	r2, r2, #128
 9884 002a 5A60     		str	r2, [r3, #4]
 9885              	.L480:
4408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check TXEIE is disabled */
4410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   do
4411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (count == 0U)
 9886              		.loc 1 4412 15
 9887 002c FB68     		ldr	r3, [r7, #12]
 9888              		.loc 1 4412 8
 9889 002e 002B     		cmp	r3, #0
 9890 0030 06D1     		bne	.L478
4413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
 9891              		.loc 1 4414 7
 9892 0032 7B68     		ldr	r3, [r7, #4]
 9893 0034 1B6E     		ldr	r3, [r3, #96]
 9894 0036 43F04002 		orr	r2, r3, #64
 9895 003a 7B68     		ldr	r3, [r7, #4]
 9896 003c 1A66     		str	r2, [r3, #96]
4415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       break;
 9897              		.loc 1 4415 7
 9898 003e 09E0     		b	.L479
 9899              	.L478:
4416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     count--;
 9900              		.loc 1 4417 10
 9901 0040 FB68     		ldr	r3, [r7, #12]
 9902 0042 013B     		subs	r3, r3, #1
ARM GAS  /tmp/ccC16sX6.s 			page 251


 9903 0044 FB60     		str	r3, [r7, #12]
4418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   } while (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXEIE));
 9904              		.loc 1 4418 12
 9905 0046 7B68     		ldr	r3, [r7, #4]
 9906 0048 1B68     		ldr	r3, [r3]
 9907 004a 5B68     		ldr	r3, [r3, #4]
 9908 004c 03F08003 		and	r3, r3, #128
 9909 0050 802B     		cmp	r3, #128
 9910 0052 EBD0     		beq	.L480
 9911              	.L479:
4419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) != HAL_OK)
 9912              		.loc 1 4420 7
 9913 0054 FFF7FEFF 		bl	HAL_GetTick
 9914 0058 0346     		mov	r3, r0
 9915              		.loc 1 4420 7 is_stmt 0 discriminator 1
 9916 005a 1A46     		mov	r2, r3
 9917 005c 6421     		movs	r1, #100
 9918 005e 7868     		ldr	r0, [r7, #4]
 9919 0060 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 9920 0064 0346     		mov	r3, r0
 9921              		.loc 1 4420 6 is_stmt 1 discriminator 2
 9922 0066 002B     		cmp	r3, #0
 9923 0068 02D0     		beq	.L481
4421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 9924              		.loc 1 4422 21
 9925 006a 7B68     		ldr	r3, [r7, #4]
 9926 006c 4022     		movs	r2, #64
 9927 006e 1A66     		str	r2, [r3, #96]
 9928              	.L481:
4423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Disable SPI Peripheral */
4426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 9929              		.loc 1 4426 3
 9930 0070 7B68     		ldr	r3, [r7, #4]
 9931 0072 1B68     		ldr	r3, [r3]
 9932 0074 1A68     		ldr	r2, [r3]
 9933 0076 7B68     		ldr	r3, [r7, #4]
 9934 0078 1B68     		ldr	r3, [r3]
 9935 007a 22F04002 		bic	r2, r2, #64
 9936 007e 1A60     		str	r2, [r3]
4427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Empty the FRLVL fifo */
4429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT,
 9937              		.loc 1 4429 7
 9938 0080 FFF7FEFF 		bl	HAL_GetTick
 9939 0084 0346     		mov	r3, r0
 9940              		.loc 1 4429 7 is_stmt 0 discriminator 1
 9941 0086 0093     		str	r3, [sp]
 9942 0088 6423     		movs	r3, #100
 9943 008a 0022     		movs	r2, #0
 9944 008c 4FF4C061 		mov	r1, #1536
 9945 0090 7868     		ldr	r0, [r7, #4]
 9946 0092 FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 9947 0096 0346     		mov	r3, r0
ARM GAS  /tmp/ccC16sX6.s 			page 252


 9948              		.loc 1 4429 6 is_stmt 1 discriminator 2
 9949 0098 002B     		cmp	r3, #0
 9950 009a 02D0     		beq	.L482
4430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                     HAL_GetTick()) != HAL_OK)
4431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 9951              		.loc 1 4432 21
 9952 009c 7B68     		ldr	r3, [r7, #4]
 9953 009e 4022     		movs	r2, #64
 9954 00a0 1A66     		str	r2, [r3, #96]
 9955              	.L482:
4433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   /* Check case of Full-Duplex Mode and disable directly RXNEIE interrupt */
4436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE))
 9956              		.loc 1 4436 7
 9957 00a2 7B68     		ldr	r3, [r7, #4]
 9958 00a4 1B68     		ldr	r3, [r3]
 9959 00a6 5B68     		ldr	r3, [r3, #4]
 9960 00a8 03F04003 		and	r3, r3, #64
 9961              		.loc 1 4436 6
 9962 00ac 402B     		cmp	r3, #64
 9963 00ae 3CD1     		bne	.L483
4437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   {
4438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Disable RXNEIE interrupt */
4439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_RXNEIE));
 9964              		.loc 1 4439 5
 9965 00b0 7B68     		ldr	r3, [r7, #4]
 9966 00b2 1B68     		ldr	r3, [r3]
 9967 00b4 5A68     		ldr	r2, [r3, #4]
 9968 00b6 7B68     		ldr	r3, [r7, #4]
 9969 00b8 1B68     		ldr	r3, [r3]
 9970 00ba 22F04002 		bic	r2, r2, #64
 9971 00be 5A60     		str	r2, [r3, #4]
 9972              	.L486:
4440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Check RXNEIE is disabled */
4442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     do
4443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       if (count == 0U)
 9973              		.loc 1 4444 17
 9974 00c0 FB68     		ldr	r3, [r7, #12]
 9975              		.loc 1 4444 10
 9976 00c2 002B     		cmp	r3, #0
 9977 00c4 06D1     		bne	.L484
4445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       {
4446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
 9978              		.loc 1 4446 9
 9979 00c6 7B68     		ldr	r3, [r7, #4]
 9980 00c8 1B6E     		ldr	r3, [r3, #96]
 9981 00ca 43F04002 		orr	r2, r3, #64
 9982 00ce 7B68     		ldr	r3, [r7, #4]
 9983 00d0 1A66     		str	r2, [r3, #96]
4447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****         break;
 9984              		.loc 1 4447 9
 9985 00d2 09E0     		b	.L485
 9986              	.L484:
ARM GAS  /tmp/ccC16sX6.s 			page 253


4448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       }
4449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       count--;
 9987              		.loc 1 4449 12
 9988 00d4 FB68     		ldr	r3, [r7, #12]
 9989 00d6 013B     		subs	r3, r3, #1
 9990 00d8 FB60     		str	r3, [r7, #12]
4450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     } while (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE));
 9991              		.loc 1 4450 14
 9992 00da 7B68     		ldr	r3, [r7, #4]
 9993 00dc 1B68     		ldr	r3, [r3]
 9994 00de 5B68     		ldr	r3, [r3, #4]
 9995 00e0 03F04003 		and	r3, r3, #64
 9996 00e4 402B     		cmp	r3, #64
 9997 00e6 EBD0     		beq	.L486
 9998              	.L485:
4451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Control the BSY flag */
4453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, SPI_DEFAULT_TIMEOUT, HAL_GetTick()
 9999              		.loc 1 4453 9
 10000 00e8 FFF7FEFF 		bl	HAL_GetTick
 10001 00ec 0346     		mov	r3, r0
 10002              		.loc 1 4453 9 is_stmt 0 discriminator 1
 10003 00ee 0093     		str	r3, [sp]
 10004 00f0 6423     		movs	r3, #100
 10005 00f2 0022     		movs	r2, #0
 10006 00f4 8021     		movs	r1, #128
 10007 00f6 7868     		ldr	r0, [r7, #4]
 10008 00f8 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 10009 00fc 0346     		mov	r3, r0
 10010              		.loc 1 4453 8 is_stmt 1 discriminator 2
 10011 00fe 002B     		cmp	r3, #0
 10012 0100 02D0     		beq	.L487
4454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 10013              		.loc 1 4455 23
 10014 0102 7B68     		ldr	r3, [r7, #4]
 10015 0104 4022     		movs	r2, #64
 10016 0106 1A66     		str	r2, [r3, #96]
 10017              	.L487:
4456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** 
4458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     /* Empty the FRLVL fifo */
4459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     if (SPI_WaitFifoStateUntilTimeout(hspi, SPI_FLAG_FRLVL, SPI_FRLVL_EMPTY, SPI_DEFAULT_TIMEOUT,
 10018              		.loc 1 4459 9
 10019 0108 FFF7FEFF 		bl	HAL_GetTick
 10020 010c 0346     		mov	r3, r0
 10021              		.loc 1 4459 9 is_stmt 0 discriminator 1
 10022 010e 0093     		str	r3, [sp]
 10023 0110 6423     		movs	r3, #100
 10024 0112 0022     		movs	r2, #0
 10025 0114 4FF4C061 		mov	r1, #1536
 10026 0118 7868     		ldr	r0, [r7, #4]
 10027 011a FFF7FEFF 		bl	SPI_WaitFifoStateUntilTimeout
 10028 011e 0346     		mov	r3, r0
 10029              		.loc 1 4459 8 is_stmt 1 discriminator 2
 10030 0120 002B     		cmp	r3, #0
 10031 0122 02D0     		beq	.L483
ARM GAS  /tmp/ccC16sX6.s 			page 254


4460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****                                       HAL_GetTick()) != HAL_OK)
4461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     {
4462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****       hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 10032              		.loc 1 4462 23
 10033 0124 7B68     		ldr	r3, [r7, #4]
 10034 0126 4022     		movs	r2, #64
 10035 0128 1A66     		str	r2, [r3, #96]
 10036              	.L483:
4463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****     }
4464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   }
4465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_ABORT;
 10037              		.loc 1 4465 15
 10038 012a 7B68     		ldr	r3, [r7, #4]
 10039 012c 0722     		movs	r2, #7
 10040 012e 83F85D20 		strb	r2, [r3, #93]
4466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_spi.c **** }
 10041              		.loc 1 4466 1
 10042 0132 00BF     		nop
 10043 0134 1037     		adds	r7, r7, #16
 10044              		.cfi_def_cfa_offset 8
 10045 0136 BD46     		mov	sp, r7
 10046              		.cfi_def_cfa_register 13
 10047              		@ sp needed
 10048 0138 80BD     		pop	{r7, pc}
 10049              	.L489:
 10050 013a 00BF     		.align	2
 10051              	.L488:
 10052 013c 00000000 		.word	SystemCoreClock
 10053 0140 F1197605 		.word	91625969
 10054              		.cfi_endproc
 10055              	.LFE504:
 10057              		.text
 10058              	.Letext0:
 10059              		.file 2 "/usr/lib/gcc/arm-none-eabi/13.2.1/include/stdint.h"
 10060              		.file 3 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l475xx.h"
 10061              		.file 4 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l4xx.h"
 10062              		.file 5 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 10063              		.file 6 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 10064              		.file 7 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_spi.h"
 10065              		.file 8 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_dma.h"
 10066              		.file 9 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/system_stm32l4xx.h"
 10067              		.file 10 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
ARM GAS  /tmp/ccC16sX6.s 			page 255


DEFINED SYMBOLS
                            *ABS*:00000000 stm32l4xx_hal_spi.c
     /tmp/ccC16sX6.s:21     .rodata.CHANNEL_OFFSET_TAB:00000000 $d
     /tmp/ccC16sX6.s:24     .rodata.CHANNEL_OFFSET_TAB:00000000 CHANNEL_OFFSET_TAB
     /tmp/ccC16sX6.s:27     .text.HAL_SPI_Init:00000000 $t
     /tmp/ccC16sX6.s:33     .text.HAL_SPI_Init:00000000 HAL_SPI_Init
     /tmp/ccC16sX6.s:358    .text.HAL_SPI_MspInit:00000000 HAL_SPI_MspInit
     /tmp/ccC16sX6.s:281    .text.HAL_SPI_DeInit:00000000 $t
     /tmp/ccC16sX6.s:287    .text.HAL_SPI_DeInit:00000000 HAL_SPI_DeInit
     /tmp/ccC16sX6.s:394    .text.HAL_SPI_MspDeInit:00000000 HAL_SPI_MspDeInit
     /tmp/ccC16sX6.s:352    .text.HAL_SPI_MspInit:00000000 $t
     /tmp/ccC16sX6.s:388    .text.HAL_SPI_MspDeInit:00000000 $t
     /tmp/ccC16sX6.s:424    .text.HAL_SPI_Transmit:00000000 $t
     /tmp/ccC16sX6.s:430    .text.HAL_SPI_Transmit:00000000 HAL_SPI_Transmit
     /tmp/ccC16sX6.s:9282   .text.SPI_EndRxTxTransaction:00000000 SPI_EndRxTxTransaction
     /tmp/ccC16sX6.s:993    .text.HAL_SPI_Receive:00000000 $t
     /tmp/ccC16sX6.s:999    .text.HAL_SPI_Receive:00000000 HAL_SPI_Receive
     /tmp/ccC16sX6.s:1650   .text.HAL_SPI_TransmitReceive:00000000 HAL_SPI_TransmitReceive
     /tmp/ccC16sX6.s:8747   .text.SPI_WaitFlagStateUntilTimeout:00000000 SPI_WaitFlagStateUntilTimeout
     /tmp/ccC16sX6.s:9154   .text.SPI_EndRxTransaction:00000000 SPI_EndRxTransaction
     /tmp/ccC16sX6.s:1644   .text.HAL_SPI_TransmitReceive:00000000 $t
     /tmp/ccC16sX6.s:2735   .text.HAL_SPI_Transmit_IT:00000000 $t
     /tmp/ccC16sX6.s:2741   .text.HAL_SPI_Transmit_IT:00000000 HAL_SPI_Transmit_IT
     /tmp/ccC16sX6.s:2943   .text.HAL_SPI_Transmit_IT:00000130 $d
     /tmp/ccC16sX6.s:8663   .text.SPI_TxISR_16BIT:00000000 SPI_TxISR_16BIT
     /tmp/ccC16sX6.s:8577   .text.SPI_TxISR_8BIT:00000000 SPI_TxISR_8BIT
     /tmp/ccC16sX6.s:2949   .text.HAL_SPI_Receive_IT:00000000 $t
     /tmp/ccC16sX6.s:2955   .text.HAL_SPI_Receive_IT:00000000 HAL_SPI_Receive_IT
     /tmp/ccC16sX6.s:3234   .text.HAL_SPI_TransmitReceive_IT:00000000 HAL_SPI_TransmitReceive_IT
     /tmp/ccC16sX6.s:3222   .text.HAL_SPI_Receive_IT:0000019c $d
     /tmp/ccC16sX6.s:8468   .text.SPI_RxISR_16BIT:00000000 SPI_RxISR_16BIT
     /tmp/ccC16sX6.s:8304   .text.SPI_RxISR_8BIT:00000000 SPI_RxISR_8BIT
     /tmp/ccC16sX6.s:3228   .text.HAL_SPI_TransmitReceive_IT:00000000 $t
     /tmp/ccC16sX6.s:3506   .text.HAL_SPI_TransmitReceive_IT:00000194 $d
     /tmp/ccC16sX6.s:7974   .text.SPI_2linesRxISR_16BIT:00000000 SPI_2linesRxISR_16BIT
     /tmp/ccC16sX6.s:8130   .text.SPI_2linesTxISR_16BIT:00000000 SPI_2linesTxISR_16BIT
     /tmp/ccC16sX6.s:7583   .text.SPI_2linesRxISR_8BIT:00000000 SPI_2linesRxISR_8BIT
     /tmp/ccC16sX6.s:7828   .text.SPI_2linesTxISR_8BIT:00000000 SPI_2linesTxISR_8BIT
     /tmp/ccC16sX6.s:3514   .text.HAL_SPI_Transmit_DMA:00000000 $t
     /tmp/ccC16sX6.s:3520   .text.HAL_SPI_Transmit_DMA:00000000 HAL_SPI_Transmit_DMA
     /tmp/ccC16sX6.s:3848   .text.HAL_SPI_Transmit_DMA:000001fc $d
     /tmp/ccC16sX6.s:7034   .text.SPI_DMAHalfTransmitCplt:00000000 SPI_DMAHalfTransmitCplt
     /tmp/ccC16sX6.s:6454   .text.SPI_DMATransmitCplt:00000000 SPI_DMATransmitCplt
     /tmp/ccC16sX6.s:7151   .text.SPI_DMAError:00000000 SPI_DMAError
     /tmp/ccC16sX6.s:3855   .text.HAL_SPI_Receive_DMA:00000000 $t
     /tmp/ccC16sX6.s:3861   .text.HAL_SPI_Receive_DMA:00000000 HAL_SPI_Receive_DMA
     /tmp/ccC16sX6.s:4249   .text.HAL_SPI_TransmitReceive_DMA:00000000 HAL_SPI_TransmitReceive_DMA
     /tmp/ccC16sX6.s:4236   .text.HAL_SPI_Receive_DMA:0000025c $d
     /tmp/ccC16sX6.s:7073   .text.SPI_DMAHalfReceiveCplt:00000000 SPI_DMAHalfReceiveCplt
     /tmp/ccC16sX6.s:6579   .text.SPI_DMAReceiveCplt:00000000 SPI_DMAReceiveCplt
     /tmp/ccC16sX6.s:4243   .text.HAL_SPI_TransmitReceive_DMA:00000000 $t
     /tmp/ccC16sX6.s:4761   .text.HAL_SPI_TransmitReceive_DMA:00000320 $d
     /tmp/ccC16sX6.s:7112   .text.SPI_DMAHalfTransmitReceiveCplt:00000000 SPI_DMAHalfTransmitReceiveCplt
     /tmp/ccC16sX6.s:6819   .text.SPI_DMATransmitReceiveCplt:00000000 SPI_DMATransmitReceiveCplt
     /tmp/ccC16sX6.s:4770   .text.HAL_SPI_Abort:00000000 $t
     /tmp/ccC16sX6.s:4776   .text.HAL_SPI_Abort:00000000 HAL_SPI_Abort
     /tmp/ccC16sX6.s:8939   .text.SPI_WaitFifoStateUntilTimeout:00000000 SPI_WaitFifoStateUntilTimeout
ARM GAS  /tmp/ccC16sX6.s 			page 256


     /tmp/ccC16sX6.s:5142   .text.HAL_SPI_Abort:00000230 $d
     /tmp/ccC16sX6.s:9851   .text.SPI_AbortTx_ISR:00000000 SPI_AbortTx_ISR
     /tmp/ccC16sX6.s:9718   .text.SPI_AbortRx_ISR:00000000 SPI_AbortRx_ISR
     /tmp/ccC16sX6.s:5150   .text.HAL_SPI_Abort_IT:00000000 $t
     /tmp/ccC16sX6.s:5156   .text.HAL_SPI_Abort_IT:00000000 HAL_SPI_Abort_IT
     /tmp/ccC16sX6.s:6340   .text.HAL_SPI_AbortCpltCallback:00000000 HAL_SPI_AbortCpltCallback
     /tmp/ccC16sX6.s:5494   .text.HAL_SPI_Abort_IT:000001dc $d
     /tmp/ccC16sX6.s:7255   .text.SPI_DMATxAbortCallback:00000000 SPI_DMATxAbortCallback
     /tmp/ccC16sX6.s:7418   .text.SPI_DMARxAbortCallback:00000000 SPI_DMARxAbortCallback
     /tmp/ccC16sX6.s:5504   .text.HAL_SPI_DMAPause:00000000 $t
     /tmp/ccC16sX6.s:5510   .text.HAL_SPI_DMAPause:00000000 HAL_SPI_DMAPause
     /tmp/ccC16sX6.s:5569   .text.HAL_SPI_DMAResume:00000000 $t
     /tmp/ccC16sX6.s:5575   .text.HAL_SPI_DMAResume:00000000 HAL_SPI_DMAResume
     /tmp/ccC16sX6.s:5634   .text.HAL_SPI_DMAStop:00000000 $t
     /tmp/ccC16sX6.s:5640   .text.HAL_SPI_DMAStop:00000000 HAL_SPI_DMAStop
     /tmp/ccC16sX6.s:5734   .text.HAL_SPI_IRQHandler:00000000 $t
     /tmp/ccC16sX6.s:5740   .text.HAL_SPI_IRQHandler:00000000 HAL_SPI_IRQHandler
     /tmp/ccC16sX6.s:6304   .text.HAL_SPI_ErrorCallback:00000000 HAL_SPI_ErrorCallback
     /tmp/ccC16sX6.s:6077   .text.HAL_SPI_IRQHandler:000001fc $d
     /tmp/ccC16sX6.s:7208   .text.SPI_DMAAbortOnError:00000000 SPI_DMAAbortOnError
     /tmp/ccC16sX6.s:6082   .text.HAL_SPI_TxCpltCallback:00000000 $t
     /tmp/ccC16sX6.s:6088   .text.HAL_SPI_TxCpltCallback:00000000 HAL_SPI_TxCpltCallback
     /tmp/ccC16sX6.s:6118   .text.HAL_SPI_RxCpltCallback:00000000 $t
     /tmp/ccC16sX6.s:6124   .text.HAL_SPI_RxCpltCallback:00000000 HAL_SPI_RxCpltCallback
     /tmp/ccC16sX6.s:6154   .text.HAL_SPI_TxRxCpltCallback:00000000 $t
     /tmp/ccC16sX6.s:6160   .text.HAL_SPI_TxRxCpltCallback:00000000 HAL_SPI_TxRxCpltCallback
     /tmp/ccC16sX6.s:6190   .text.HAL_SPI_TxHalfCpltCallback:00000000 $t
     /tmp/ccC16sX6.s:6196   .text.HAL_SPI_TxHalfCpltCallback:00000000 HAL_SPI_TxHalfCpltCallback
     /tmp/ccC16sX6.s:6226   .text.HAL_SPI_RxHalfCpltCallback:00000000 $t
     /tmp/ccC16sX6.s:6232   .text.HAL_SPI_RxHalfCpltCallback:00000000 HAL_SPI_RxHalfCpltCallback
     /tmp/ccC16sX6.s:6262   .text.HAL_SPI_TxRxHalfCpltCallback:00000000 $t
     /tmp/ccC16sX6.s:6268   .text.HAL_SPI_TxRxHalfCpltCallback:00000000 HAL_SPI_TxRxHalfCpltCallback
     /tmp/ccC16sX6.s:6298   .text.HAL_SPI_ErrorCallback:00000000 $t
     /tmp/ccC16sX6.s:6334   .text.HAL_SPI_AbortCpltCallback:00000000 $t
     /tmp/ccC16sX6.s:6370   .text.HAL_SPI_GetState:00000000 $t
     /tmp/ccC16sX6.s:6376   .text.HAL_SPI_GetState:00000000 HAL_SPI_GetState
     /tmp/ccC16sX6.s:6410   .text.HAL_SPI_GetError:00000000 $t
     /tmp/ccC16sX6.s:6416   .text.HAL_SPI_GetError:00000000 HAL_SPI_GetError
     /tmp/ccC16sX6.s:6449   .text.SPI_DMATransmitCplt:00000000 $t
     /tmp/ccC16sX6.s:6574   .text.SPI_DMAReceiveCplt:00000000 $t
     /tmp/ccC16sX6.s:6814   .text.SPI_DMATransmitReceiveCplt:00000000 $t
     /tmp/ccC16sX6.s:7029   .text.SPI_DMAHalfTransmitCplt:00000000 $t
     /tmp/ccC16sX6.s:7068   .text.SPI_DMAHalfReceiveCplt:00000000 $t
     /tmp/ccC16sX6.s:7107   .text.SPI_DMAHalfTransmitReceiveCplt:00000000 $t
     /tmp/ccC16sX6.s:7146   .text.SPI_DMAError:00000000 $t
     /tmp/ccC16sX6.s:7203   .text.SPI_DMAAbortOnError:00000000 $t
     /tmp/ccC16sX6.s:7250   .text.SPI_DMATxAbortCallback:00000000 $t
     /tmp/ccC16sX6.s:7413   .text.SPI_DMARxAbortCallback:00000000 $t
     /tmp/ccC16sX6.s:7578   .text.SPI_2linesRxISR_8BIT:00000000 $t
     /tmp/ccC16sX6.s:9385   .text.SPI_CloseRxTx_ISR:00000000 SPI_CloseRxTx_ISR
     /tmp/ccC16sX6.s:7737   .text.SPI_2linesRxISR_8BIT:000000e0 $d
     /tmp/ccC16sX6.s:7747   .text.SPI_2linesRxISR_8BITCRC:00000000 SPI_2linesRxISR_8BITCRC
     /tmp/ccC16sX6.s:7742   .text.SPI_2linesRxISR_8BITCRC:00000000 $t
     /tmp/ccC16sX6.s:7823   .text.SPI_2linesTxISR_8BIT:00000000 $t
     /tmp/ccC16sX6.s:7969   .text.SPI_2linesRxISR_16BIT:00000000 $t
     /tmp/ccC16sX6.s:8066   .text.SPI_2linesRxISR_16BIT:00000078 $d
     /tmp/ccC16sX6.s:8076   .text.SPI_2linesRxISR_16BITCRC:00000000 SPI_2linesRxISR_16BITCRC
ARM GAS  /tmp/ccC16sX6.s 			page 257


     /tmp/ccC16sX6.s:8071   .text.SPI_2linesRxISR_16BITCRC:00000000 $t
     /tmp/ccC16sX6.s:8125   .text.SPI_2linesTxISR_16BIT:00000000 $t
     /tmp/ccC16sX6.s:8233   .text.SPI_RxISR_8BITCRC:00000000 $t
     /tmp/ccC16sX6.s:8238   .text.SPI_RxISR_8BITCRC:00000000 SPI_RxISR_8BITCRC
     /tmp/ccC16sX6.s:9514   .text.SPI_CloseRx_ISR:00000000 SPI_CloseRx_ISR
     /tmp/ccC16sX6.s:8299   .text.SPI_RxISR_8BIT:00000000 $t
     /tmp/ccC16sX6.s:8404   .text.SPI_RxISR_8BIT:00000088 $d
     /tmp/ccC16sX6.s:8409   .text.SPI_RxISR_16BITCRC:00000000 $t
     /tmp/ccC16sX6.s:8414   .text.SPI_RxISR_16BITCRC:00000000 SPI_RxISR_16BITCRC
     /tmp/ccC16sX6.s:8463   .text.SPI_RxISR_16BIT:00000000 $t
     /tmp/ccC16sX6.s:8567   .text.SPI_RxISR_16BIT:00000084 $d
     /tmp/ccC16sX6.s:8572   .text.SPI_TxISR_8BIT:00000000 $t
     /tmp/ccC16sX6.s:9618   .text.SPI_CloseTx_ISR:00000000 SPI_CloseTx_ISR
     /tmp/ccC16sX6.s:8658   .text.SPI_TxISR_16BIT:00000000 $t
     /tmp/ccC16sX6.s:8742   .text.SPI_WaitFlagStateUntilTimeout:00000000 $t
     /tmp/ccC16sX6.s:8929   .text.SPI_WaitFlagStateUntilTimeout:0000010c $d
     /tmp/ccC16sX6.s:8934   .text.SPI_WaitFifoStateUntilTimeout:00000000 $t
     /tmp/ccC16sX6.s:9144   .text.SPI_WaitFifoStateUntilTimeout:00000128 $d
     /tmp/ccC16sX6.s:9149   .text.SPI_EndRxTransaction:00000000 $t
     /tmp/ccC16sX6.s:9277   .text.SPI_EndRxTxTransaction:00000000 $t
     /tmp/ccC16sX6.s:9380   .text.SPI_CloseRxTx_ISR:00000000 $t
     /tmp/ccC16sX6.s:9509   .text.SPI_CloseRx_ISR:00000000 $t
     /tmp/ccC16sX6.s:9613   .text.SPI_CloseTx_ISR:00000000 $t
     /tmp/ccC16sX6.s:9713   .text.SPI_AbortRx_ISR:00000000 $t
     /tmp/ccC16sX6.s:9840   .text.SPI_AbortRx_ISR:000000b8 $d
     /tmp/ccC16sX6.s:9846   .text.SPI_AbortTx_ISR:00000000 $t
     /tmp/ccC16sX6.s:10052  .text.SPI_AbortTx_ISR:0000013c $d
                           .group:00000000 wm4.0.e7b64c2c371cf922f2c8028878d5c18e
                           .group:00000000 wm4.stm32l4xx_hal_conf.h.23.286c2f63aaa73ed97ffb4d26f7caa6e9
                           .group:00000000 wm4.stm32l4xx.h.38.9f5830373ca31b8a3cd182fdc6c7b69a
                           .group:00000000 wm4.stm32l475xx.h.34.2f1a75aed66751e299f09004aef64973
                           .group:00000000 wm4.stdint.h.29.6d480f4ba0f60596e88234283d42444f
                           .group:00000000 wm4.cmsis_version.h.32.46e8eccfa2cfeaae11d008bb2823a3ed
                           .group:00000000 wm4.core_cm4.h.66.e4ff136c4a17abc46741866f64f8e729
                           .group:00000000 wm4.cmsis_gcc.h.26.78077cef1206e937f7b56043ffca496a
                           .group:00000000 wm4.core_cm4.h.174.fcddd62df80231752fa39eb9b61dadfe
                           .group:00000000 wm4.mpu_armv7.h.32.4049752bb5792d4e15357775e9506cfc
                           .group:00000000 wm4.stm32l475xx.h.423.4d783859c9ac66890c9807dd7bd3a4db
                           .group:00000000 wm4.stm32l4xx.h.196.f5ae8047c57b6175c94f246ef967a286
                           .group:00000000 wm4.stm32_hal_legacy.h.22.08b8350ccf512ba8d98002fb33e7cbe5
                           .group:00000000 wm4.stddef.h.39.0dc9006b34572d4d9cae4c8b422c4971
                           .group:00000000 wm4.stm32l4xx_hal_def.h.58.1058a33f7217e935f2a6b51956d66a69
                           .group:00000000 wm4.stm32l4xx_hal_rcc.h.156.ab8eecc4e10f4827a2aa75d3549a356d
                           .group:00000000 wm4.stm32l4xx_hal_rcc_ex.h.20.4a82a27d561b6d42fa16a54f82e29067
                           .group:00000000 wm4.stm32l4xx_hal_gpio.h.21.2d2b1fd6aa6afa7b6dcc89cf752a9a25
                           .group:00000000 wm4.stm32l4xx_hal_gpio_ex.h.21.7ea705f5185dd3c6b8ea336f2858cd46
                           .group:00000000 wm4.stm32l4xx_ll_dma.h.21.b30e7f48d60d1fc53041ec1e3fd6e54a
                           .group:00000000 wm4.stm32l4xx_hal_dma.h.166.54a7f8d65cee6f051d541dc010387b5a
                           .group:00000000 wm4.stm32l4xx_hal_dfsdm.h.21.6785e38d00075079c7f2e5657def82ae
                           .group:00000000 wm4.stm32l4xx_hal_cortex.h.21.cb491126bd2d6f44e90b66f27acb8434
                           .group:00000000 wm4.stm32l4xx_ll_adc.h.21.0c578f71501c74365c67044efed214d6
                           .group:00000000 wm4.stm32l4xx_hal_adc.h.411.68f60682cdb20556089756a482f23764
                           .group:00000000 wm4.stm32l4xx_hal_adc_ex.h.21.7b82cb80166a21dfa8cb3e2fa8f8e654
                           .group:00000000 wm4.stm32l4xx_hal_can.h.21.5019586d8e7137c0cec16eb1f9d6677b
                           .group:00000000 wm4.stm32l4xx_ll_exti.h.21.d866eff070d6f999af2ce4ea60aa40ac
                           .group:00000000 wm4.stm32l4xx_hal_comp.h.87.7f14cb673a463359c83faa552328844d
                           .group:00000000 wm4.stm32l4xx_hal_crc.h.21.4c36a140cca35e6a8e478e76c6ad98e3
ARM GAS  /tmp/ccC16sX6.s 			page 258


                           .group:00000000 wm4.stm32l4xx_hal_crc_ex.h.21.9cc3dead436542d416ee5572c231a242
                           .group:00000000 wm4.stm32l4xx_hal_dac.h.21.69feba704135531cf3d9b92de27b71d5
                           .group:00000000 wm4.stm32l4xx_hal_dac_ex.h.21.c86699169bead5415cc3e94027b67df4
                           .group:00000000 wm4.stm32l4xx_hal_exti.h.21.242e0410874d91d6d7523948fff74125
                           .group:00000000 wm4.stm32l4xx_hal_firewall.h.21.7ed44f4228fcc2ef96d2177dd8632645
                           .group:00000000 wm4.stm32l4xx_hal_flash.h.20.5e337018ccfa211b4afe888a79aae9f5
                           .group:00000000 wm4.stm32l4xx_hal_flash.h.846.0445f6ea07a3f9aac82891c8687d96fb
                           .group:00000000 wm4.stm32l4xx_ll_usb.h.21.5b5e42fb72a33dd326d7b20064953946
                           .group:00000000 wm4.stm32l4xx_hal_hcd.h.107.73f2fd24f57e8822da5cc86bd5ad3dfd
                           .group:00000000 wm4.stm32l4xx_hal_i2c.h.21.e7fc2065051c77019a818818e4a637d8
                           .group:00000000 wm4.stm32l4xx_hal_i2c_ex.h.21.ad4ad4e558d4fec06df87d163a6927d7
                           .group:00000000 wm4.stm32l4xx_hal_i2c.h.737.fa3908c81294cf0f9894ae336466002c
                           .group:00000000 wm4.stm32l4xx_hal_irda.h.21.136c042f9eef333167a549cc099df0c9
                           .group:00000000 wm4.stm32l4xx_hal_irda_ex.h.21.e0ada4e6d2b2cadfb512dd3c8ac0a637
                           .group:00000000 wm4.stm32l4xx_hal_iwdg.h.21.f94ca75f2fe1ebc7a2a8d0f5b58d8430
                           .group:00000000 wm4.stm32l4xx_hal_lptim.h.21.78222ea6639fc8c02789d293a048991e
                           .group:00000000 wm4.stm32l4xx_ll_sdmmc.h.21.65a5a8696b6ca7b87cc93d218084d702
                           .group:00000000 wm4.stm32l4xx_hal_mmc.h.69.8f4159f0a88ef1ebc33c58a8f10362b9
                           .group:00000000 wm4.stm32l4xx_ll_fmc.h.21.156a244c55010643ee92c6119049cb68
                           .group:00000000 wm4.stm32l4xx_hal_nand.h.176.9bfeac6e4e757991088bbd0df44e2be9
                           .group:00000000 wm4.stm32l4xx_hal_nor.h.21.d47e91e825f466bbac02fac0a7845a7a
                           .group:00000000 wm4.stm32l4xx_hal_opamp.h.21.9d841e1eaccee939f247b3f973f8af5f
                           .group:00000000 wm4.stm32l4xx_hal_pcd.h.169.addb1fac652268a18a0707cfcb5e2e47
                           .group:00000000 wm4.stm32l4xx_hal_pwr.h.21.7ddab2caa97243c36e496eca17b27618
                           .group:00000000 wm4.stm32l4xx_hal_pwr_ex.h.21.65ad8bbdbcb1950d945c0de10f22dc80
                           .group:00000000 wm4.stm32l4xx_hal_qspi.h.21.0291dad4eaa82101f2f77d76315c9b12
                           .group:00000000 wm4.stm32l4xx_hal_rng.h.21.96593715bdeab0c74ac9dfc538fb2feb
                           .group:00000000 wm4.stm32l4xx_hal_rtc.h.21.9da6b1aeebde99930891f803cb7f9678
                           .group:00000000 wm4.stm32l4xx_hal_rtc_ex.h.21.c692539378320719c7f2a2da1ca64502
                           .group:00000000 wm4.stm32l4xx_hal_rtc.h.999.c8bd9450c783628bd606ecb31bea5cc9
                           .group:00000000 wm4.stm32l4xx_hal_sai.h.21.c1165aaf2bbde65fae28ed4817be5cc5
                           .group:00000000 wm4.stm32l4xx_hal_sd.h.21.b395c90a87e82f7e8d77d4a518036063
                           .group:00000000 wm4.stm32l4xx_hal_smartcard.h.21.423c3ad63e0df35b864303e89e6d253c
                           .group:00000000 wm4.stm32l4xx_hal_smartcard_ex.h.21.801a2ce9252a785aec000b3fc7667a74
                           .group:00000000 wm4.stm32l4xx_hal_smbus.h.21.7480adb16468bfdce819ee591f21299e
                           .group:00000000 wm4.stm32l4xx_hal_smbus_ex.h.21.bdc715f5f6fb6612a871d3c03c3b871f
                           .group:00000000 wm4.stm32l4xx_hal_spi.h.21.3b51f9f7b241962f6b3483c47a43334f
                           .group:00000000 wm4.stm32l4xx_hal_sram.h.21.285210181e158bddc1cdde63dde572fd
                           .group:00000000 wm4.stm32l4xx_hal_swpmi.h.21.787f994f40b117a62aad9a6dd408b8fc
                           .group:00000000 wm4.stm32l4xx_hal_tim.h.21.d190832030e7505384ad081daa7ba8d6
                           .group:00000000 wm4.stm32l4xx_hal_tim_ex.h.21.1d0860218366ee9f64a97fd8af0ddee1
                           .group:00000000 wm4.stm32l4xx_hal_tsc.h.21.e9010049847ea38297d4b95a5ede0d8c
                           .group:00000000 wm4.stm32l4xx_hal_uart.h.21.480c0a64ca01596a921cda9dceb01df4
                           .group:00000000 wm4.stm32l4xx_hal_uart_ex.h.21.d793e64693c93af07c90464aef42bd83
                           .group:00000000 wm4.stm32l4xx_hal_usart.h.21.561c0058e33cb8df6671dcd29d5d25f9
                           .group:00000000 wm4.stm32l4xx_hal_usart_ex.h.21.111da650523691ebc80d64103d7b26e5
                           .group:00000000 wm4.stm32l4xx_hal_wwdg.h.21.073aa79d58120ae4fb8590c46b210051
                           .group:00000000 wm4.stm32l4xx_hal.h.75.d364b3778b3801d2f66bb409c48d396d

UNDEFINED SYMBOLS
HAL_GetTick
HAL_DMA_Start_IT
HAL_DMA_Abort
SystemCoreClock
HAL_DMA_Abort_IT
