ARM GAS  /tmp/ccxVmGdL.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"stm32l4xx_hal_mmc.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c"
  20              		.section	.rodata.CHANNEL_OFFSET_TAB,"a"
  21              		.align	2
  24              	CHANNEL_OFFSET_TAB:
  25 0000 081C3044 		.ascii	"\010\0340DXl\200"
  25      586C80
  26              		.section	.text.HAL_MMC_Init,"ax",%progbits
  27              		.align	1
  28              		.global	HAL_MMC_Init
  29              		.syntax unified
  30              		.thumb
  31              		.thumb_func
  33              	HAL_MMC_Init:
  34              	.LFB445:
   1:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
   2:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   ******************************************************************************
   3:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @file    stm32l4xx_hal_mmc.c
   4:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @author  MCD Application Team
   5:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief   MMC card HAL module driver.
   6:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          This file provides firmware functions to manage the following
   7:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          functionalities of the Secure Digital (MMC) peripheral:
   8:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *           + Initialization and de-initialization functions
   9:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *           + IO operation functions
  10:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *           + Peripheral Control functions
  11:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *           + MMC card Control functions
  12:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *
  13:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   ******************************************************************************
  14:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @attention
  15:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *
  16:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * Copyright (c) 2017 STMicroelectronics.
  17:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * All rights reserved.
  18:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *
  19:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * This software is licensed under terms that can be found in the LICENSE file
  20:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * in the root directory of this software component.
  21:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  22:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *
  23:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   ******************************************************************************
  24:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   @verbatim
  25:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   ==============================================================================
ARM GAS  /tmp/ccxVmGdL.s 			page 2


  26:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                         ##### How to use this driver #####
  27:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   ==============================================================================
  28:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   [..]
  29:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     This driver implements a high level communication layer for read and write from/to
  30:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     this memory. The needed STM32 hardware resources (SDMMC and GPIO) are performed by
  31:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     the user in HAL_MMC_MspInit() function (MSP layer).
  32:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     Basically, the MSP layer configuration should be the same as we provide in the
  33:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     examples.
  34:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     You can easily tailor this configuration according to hardware resources.
  35:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
  36:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   [..]
  37:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     This driver is a generic layered driver for SDMMC memories which uses the HAL
  38:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     SDMMC driver functions to interface with MMC and eMMC cards devices.
  39:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     It is used as follows:
  40:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
  41:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (#)Initialize the SDMMC low level resources by implement the HAL_MMC_MspInit() API:
  42:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         (##) Enable the SDMMC interface clock using __HAL_RCC_SDMMC_CLK_ENABLE();
  43:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         (##) SDMMC pins configuration for MMC card
  44:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             (+++) Enable the clock for the SDMMC GPIOs using the functions __HAL_RCC_GPIOx_CLK_ENAB
  45:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             (+++) Configure these SDMMC pins as alternate function pull-up using HAL_GPIO_Init()
  46:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   and according to your pin assignment;
  47:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (##) On STM32L4Rx/STM32L4Sxx devices, no DMA configuration is need, an internal DMA for SDMMC P
  48:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         (##) On other devices, perform DMA Configuration if you need to use DMA process (HAL_MMC_Re
  49:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****              and HAL_MMC_WriteBlocks_DMA() APIs).
  50:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             (+++) Enable the DMAx interface clock using __HAL_RCC_DMAx_CLK_ENABLE();
  51:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             (+++) Configure the DMA using the function HAL_DMA_Init() with predeclared and filled.
  52:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         (##) NVIC configuration if you need to use interrupt process when using DMA transfer.
  53:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             (+++) Configure the SDMMC and DMA interrupt priorities using function HAL_NVIC_SetPrior
  54:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   DMA priority is superior to SDMMC's priority
  55:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             (+++) Enable the NVIC DMA and SDMMC IRQs using function HAL_NVIC_EnableIRQ()
  56:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             (+++) SDMMC interrupts are managed using the macros __HAL_MMC_ENABLE_IT()
  57:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   and __HAL_MMC_DISABLE_IT() inside the communication process.
  58:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             (+++) SDMMC interrupts pending bits are managed using the macros __HAL_MMC_GET_IT()
  59:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   and __HAL_MMC_CLEAR_IT()
  60:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         (##) NVIC configuration if you need to use interrupt process (HAL_MMC_ReadBlocks_IT()
  61:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****              and HAL_MMC_WriteBlocks_IT() APIs).
  62:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             (+++) Configure the SDMMC interrupt priorities using function HAL_NVIC_SetPriority();
  63:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             (+++) Enable the NVIC SDMMC IRQs using function HAL_NVIC_EnableIRQ()
  64:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             (+++) SDMMC interrupts are managed using the macros __HAL_MMC_ENABLE_IT()
  65:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   and __HAL_MMC_DISABLE_IT() inside the communication process.
  66:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             (+++) SDMMC interrupts pending bits are managed using the macros __HAL_MMC_GET_IT()
  67:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   and __HAL_MMC_CLEAR_IT()
  68:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (#) At this stage, you can perform MMC read/write/erase operations after MMC card initializatio
  69:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
  70:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
  71:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *** MMC Card Initialization and configuration ***
  72:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   ================================================
  73:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   [..]
  74:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     To initialize the MMC Card, use the HAL_MMC_Init() function. It Initializes
  75:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     SDMMC Peripheral (STM32 side) and the MMC Card, and put it into StandBy State (Ready for data t
  76:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     This function provide the following operations:
  77:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
  78:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (#) Initialize the SDMMC peripheral interface with default configuration.
  79:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         The initialization process is done at 400KHz. You can change or adapt
  80:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         this frequency by adjusting the "ClockDiv" field.
  81:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         The MMC Card frequency (SDMMC_CK) is computed as follows:
  82:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
ARM GAS  /tmp/ccxVmGdL.s 			page 3


  83:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****        SDMMC_CK = SDMMCCLK / (2 * ClockDiv) on STM32L4Rx/STM32L4Sxx devices
  84:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****            SDMMC_CK = SDMMCCLK / (ClockDiv + 2) on other devices
  85:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
  86:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         In initialization mode and according to the MMC Card standard,
  87:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         make sure that the SDMMC_CK frequency doesn't exceed 400KHz.
  88:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
  89:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         This phase of initialization is done through SDMMC_Init() and
  90:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         SDMMC_PowerState_ON() SDMMC low level APIs.
  91:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
  92:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (#) Initialize the MMC card. The API used is HAL_MMC_InitCard().
  93:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         This phase allows the card initialization and identification
  94:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         and check the MMC Card type (Standard Capacity or High Capacity)
  95:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         The initialization flow is compatible with MMC standard.
  96:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
  97:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         This API (HAL_MMC_InitCard()) could be used also to reinitialize the card in case
  98:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         of plug-off plug-in.
  99:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   (#) Configure the MMC Card Data transfer frequency. By Default, the card transfer
 101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         frequency by adjusting the "ClockDiv" field.
 102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         In transfer mode and according to the MMC Card standard, make sure that the
 103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         SDMMC_CK frequency doesn't exceed 25MHz and 100MHz in High-speed mode switch.
 104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (#) Select the corresponding MMC Card according to the address read with the step 2.
 106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (#) Configure the MMC Card in wide bus mode: 4-bits data.
 108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *** MMC Card Read operation ***
 110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   ==============================
 111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   [..]
 112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (+) You can read from MMC card in polling mode by using function HAL_MMC_ReadBlocks().
 113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         This function support only 512-bytes block length (the block size should be
 114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         chosen as 512 bytes).
 115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         You can choose either one block read operation or multiple block read operation
 116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         by adjusting the "NumberOfBlocks" parameter.
 117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         through HAL_MMC_GetCardState() function for MMC card state.
 119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (+) You can read from MMC card in DMA mode by using function HAL_MMC_ReadBlocks_DMA().
 121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         This function support only 512-bytes block length (the block size should be
 122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         chosen as 512 bytes).
 123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         You can choose either one block read operation or multiple block read operation
 124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         by adjusting the "NumberOfBlocks" parameter.
 125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         through HAL_MMC_GetCardState() function for MMC card state.
 127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         You could also check the DMA transfer process through the MMC Rx interrupt event.
 128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (+) You can read from MMC card in Interrupt mode by using function HAL_MMC_ReadBlocks_IT().
 130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         This function allows the read of 512 bytes blocks.
 131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         You can choose either one block read operation or multiple block read operation
 132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         by adjusting the "NumberOfBlocks" parameter.
 133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         through HAL_MMC_GetCardState() function for MMC card state.
 135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         You could also check the IT transfer process through the MMC Rx interrupt event.
 136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *** MMC Card Write operation ***
 138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   ===============================
 139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   [..]
ARM GAS  /tmp/ccxVmGdL.s 			page 4


 140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (+) You can write to MMC card in polling mode by using function HAL_MMC_WriteBlocks().
 141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         This function support only 512-bytes block length (the block size should be
 142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         chosen as 512 bytes).
 143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         You can choose either one block read operation or multiple block read operation
 144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         by adjusting the "NumberOfBlocks" parameter.
 145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         through HAL_MMC_GetCardState() function for MMC card state.
 147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (+) You can write to MMC card in DMA mode by using function HAL_MMC_WriteBlocks_DMA().
 149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         This function support only 512-bytes block length (the block size should be
 150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         chosen as 512 byte).
 151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         You can choose either one block read operation or multiple block read operation
 152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         by adjusting the "NumberOfBlocks" parameter.
 153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         through HAL_MMC_GetCardState() function for MMC card state.
 155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         You could also check the DMA transfer process through the MMC Tx interrupt event.
 156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (+) You can write to MMC card in Interrupt mode by using function HAL_MMC_WriteBlocks_IT().
 158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         This function allows the read of 512 bytes blocks.
 159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         You can choose either one block read operation or multiple block read operation
 160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         by adjusting the "NumberOfBlocks" parameter.
 161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         through HAL_MMC_GetCardState() function for MMC card state.
 163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         You could also check the IT transfer process through the MMC Tx interrupt event.
 164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *** MMC card information ***
 166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   ===========================
 167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   [..]
 168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (+) To get MMC card information, you can use the function HAL_MMC_GetCardInfo().
 169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         It returns useful information about the MMC card such as block size, card type,
 170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         block number ...
 171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *** MMC card CSD register ***
 173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   ============================
 174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   [..]
 175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (+) The HAL_MMC_GetCardCSD() API allows to get the parameters of the CSD register.
 176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         Some of the CSD parameters are useful for card initialization and identification.
 177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *** MMC card CID register ***
 179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   ============================
 180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   [..]
 181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (+) The HAL_MMC_GetCardCID() API allows to get the parameters of the CID register.
 182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         Some of the CID parameters are useful for card initialization and identification.
 183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *** MMC HAL driver macros list ***
 185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   ==================================
 186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   [..]
 187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     Below the list of most used macros in MMC HAL driver.
 188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (+) __HAL_MMC_ENABLE : Enable the MMC device
 190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (+) __HAL_MMC_DISABLE : Disable the MMC device
 191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (+) __HAL_MMC_DMA_ENABLE: Enable the SDMMC DMA transfer
 192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (+) __HAL_MMC_DMA_DISABLE: Disable the SDMMC DMA transfer
 193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (+) __HAL_MMC_ENABLE_IT: Enable the MMC device interrupt
 194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (+) __HAL_MMC_DISABLE_IT: Disable the MMC device interrupt
 195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (+) __HAL_MMC_GET_FLAG:Check whether the specified MMC flag is set or not
 196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (+) __HAL_MMC_CLEAR_FLAG: Clear the MMC's pending flags
ARM GAS  /tmp/ccxVmGdL.s 			page 5


 197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   [..]
 199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (@) You can refer to the MMC HAL driver header file for more useful macros
 200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *** Callback registration ***
 202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   =============================================
 203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   [..]
 204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     The compilation define USE_HAL_MMC_REGISTER_CALLBACKS when set to 1
 205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     allows the user to configure dynamically the driver callbacks.
 206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     Use Functions HAL_MMC_RegisterCallback() to register a user callback,
 208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     it allows to register following callbacks:
 209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (+) TxCpltCallback : callback when a transmission transfer is completed.
 210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (+) RxCpltCallback : callback when a reception transfer is completed.
 211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (+) ErrorCallback : callback when error occurs.
 212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (+) AbortCpltCallback : callback when abort is completed.
 213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (+) Read_DMADblBuf0CpltCallback : callback when the DMA reception of first buffer is completed.
 214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (+) Read_DMADblBuf1CpltCallback : callback when the DMA reception of second buffer is complet
 215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (+) Write_DMADblBuf0CpltCallback : callback when the DMA transmission of first buffer is comp
 216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (+) Write_DMADblBuf1CpltCallback : callback when the DMA transmission of second buffer is com
 217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (+) MspInitCallback    : MMC MspInit.
 218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (+) MspDeInitCallback  : MMC MspDeInit.
 219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     This function takes as parameters the HAL peripheral handle, the Callback ID
 220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     and a pointer to the user callback function.
 221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     Use function HAL_MMC_UnRegisterCallback() to reset a callback to the default
 223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     weak (surcharged) function. It allows to reset following callbacks:
 224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (+) TxCpltCallback : callback when a transmission transfer is completed.
 225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (+) RxCpltCallback : callback when a reception transfer is completed.
 226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (+) ErrorCallback : callback when error occurs.
 227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (+) AbortCpltCallback : callback when abort is completed.
 228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (+) Read_DMADblBuf0CpltCallback : callback when the DMA reception of first buffer is completed.
 229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (+) Read_DMADblBuf1CpltCallback : callback when the DMA reception of second buffer is complet
 230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (+) Write_DMADblBuf0CpltCallback : callback when the DMA transmission of first buffer is comp
 231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (+) Write_DMADblBuf1CpltCallback : callback when the DMA transmission of second buffer is com
 232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (+) MspInitCallback    : MMC MspInit.
 233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (+) MspDeInitCallback  : MMC MspDeInit.
 234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     This function) takes as parameters the HAL peripheral handle and the Callback ID.
 235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     By default, after the HAL_MMC_Init and if the state is HAL_MMC_STATE_RESET
 237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     all callbacks are reset to the corresponding legacy weak (surcharged) functions.
 238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     Exception done for MspInit and MspDeInit callbacks that are respectively
 239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     reset to the legacy weak (surcharged) functions in the HAL_MMC_Init
 240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     and  HAL_MMC_DeInit only when these callbacks are null (not registered beforehand).
 241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     If not, MspInit or MspDeInit are not null, the HAL_MMC_Init and HAL_MMC_DeInit
 242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     keep and use the user MspInit/MspDeInit callbacks (registered beforehand)
 243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     Callbacks can be registered/unregistered in READY state only.
 245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     Exception done for MspInit/MspDeInit callbacks that can be registered/unregistered
 246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     in READY or RESET state, thus registered (user) MspInit/DeInit callbacks can be used
 247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     during the Init/DeInit.
 248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     In that case first register the MspInit/MspDeInit user callbacks
 249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     using HAL_MMC_RegisterCallback before calling HAL_MMC_DeInit
 250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     or HAL_MMC_Init function.
 251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     When The compilation define USE_HAL_MMC_REGISTER_CALLBACKS is set to 0 or
 253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     not defined, the callback registering feature is not available
ARM GAS  /tmp/ccxVmGdL.s 			page 6


 254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     and weak (surcharged) callbacks are used.
 255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   @endverbatim
 257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   ******************************************************************************
 258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
 259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /* Includes ------------------------------------------------------------------*/
 261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #include "stm32l4xx_hal.h"
 262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /** @addtogroup STM32L4xx_HAL_Driver
 264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @{
 265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
 266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /** @defgroup MMC MMC
 268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief MMC HAL module driver
 269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @{
 270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
 271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #ifdef HAL_MMC_MODULE_ENABLED
 273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(SDMMC1)
 275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /* Private typedef -----------------------------------------------------------*/
 277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /* Private define ------------------------------------------------------------*/
 278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /** @addtogroup MMC_Private_Defines
 279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @{
 280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
 281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (VDD_VALUE) && (VDD_VALUE <= 1950U)
 282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #define MMC_VOLTAGE_RANGE               EMMC_LOW_VOLTAGE_RANGE
 283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #define MMC_EXT_CSD_PWR_CL_26_INDEX     201
 285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #define MMC_EXT_CSD_PWR_CL_52_INDEX     200
 286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #define MMC_EXT_CSD_PWR_CL_DDR_52_INDEX 238
 287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #define MMC_EXT_CSD_PWR_CL_26_POS       8
 289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #define MMC_EXT_CSD_PWR_CL_52_POS       0
 290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #define MMC_EXT_CSD_PWR_CL_DDR_52_POS   16
 291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
 292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #define MMC_VOLTAGE_RANGE               EMMC_HIGH_VOLTAGE_RANGE
 293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #define MMC_EXT_CSD_PWR_CL_26_INDEX     203
 295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #define MMC_EXT_CSD_PWR_CL_52_INDEX     202
 296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #define MMC_EXT_CSD_PWR_CL_DDR_52_INDEX 239
 297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #define MMC_EXT_CSD_PWR_CL_26_POS       24
 299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #define MMC_EXT_CSD_PWR_CL_52_POS       16
 300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #define MMC_EXT_CSD_PWR_CL_DDR_52_POS   24
 301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #define MMC_EXT_CSD_SLEEP_NOTIFICATION_TIME_INDEX 216
 304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #define MMC_EXT_CSD_SLEEP_NOTIFICATION_TIME_POS   0
 305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #define MMC_EXT_CSD_S_A_TIMEOUT_INDEX             217
 306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #define MMC_EXT_CSD_S_A_TIMEOUT_POS               8
 307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /* Frequencies used in the driver for clock divider calculation */
 309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #define MMC_INIT_FREQ                   400000U   /* Initialization phase : 400 kHz max */
 310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #define MMC_HIGH_SPEED_FREQ             52000000U /* High speed phase : 52 MHz max */
ARM GAS  /tmp/ccxVmGdL.s 			page 7


 311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
 312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @}
 313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
 314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /* Private macro -------------------------------------------------------------*/
 316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /* Private variables ---------------------------------------------------------*/
 317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /* Private function prototypes -----------------------------------------------*/
 318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /* Private functions ---------------------------------------------------------*/
 319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /** @defgroup MMC_Private_Functions MMC Private Functions
 320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @{
 321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
 322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static uint32_t MMC_InitCard(MMC_HandleTypeDef *hmmc);
 323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static uint32_t MMC_PowerON(MMC_HandleTypeDef *hmmc);
 324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static uint32_t MMC_SendStatus(MMC_HandleTypeDef *hmmc, uint32_t *pCardStatus);
 325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static HAL_StatusTypeDef MMC_ReadExtCSD(MMC_HandleTypeDef *hmmc, uint32_t *pFieldData, uint16_t Fie
 326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                                         uint32_t Timeout);
 327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static void     MMC_PowerOFF(MMC_HandleTypeDef *hmmc);
 328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static void     MMC_Write_IT(MMC_HandleTypeDef *hmmc);
 329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static void     MMC_Read_IT(MMC_HandleTypeDef *hmmc);
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static void     MMC_DMATransmitCplt(DMA_HandleTypeDef *hdma);
 332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static void     MMC_DMAReceiveCplt(DMA_HandleTypeDef *hdma);
 333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static void     MMC_DMAError(DMA_HandleTypeDef *hdma);
 334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static void     MMC_DMATxAbort(DMA_HandleTypeDef *hdma);
 335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static void     MMC_DMARxAbort(DMA_HandleTypeDef *hdma);
 336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
 337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static uint32_t MMC_HighSpeed(MMC_HandleTypeDef *hmmc, FunctionalState state);
 338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static uint32_t MMC_DDR_Mode(MMC_HandleTypeDef *hmmc, FunctionalState state);
 339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static uint32_t MMC_PwrClassUpdate(MMC_HandleTypeDef *hmmc, uint32_t Wide, uint32_t Speed);
 341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @}
 344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
 345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /* Exported functions --------------------------------------------------------*/
 346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /** @addtogroup MMC_Exported_Functions
 347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @{
 348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
 349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /** @addtogroup MMC_Exported_Functions_Group1
 351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *  @brief   Initialization and de-initialization functions
 352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *
 353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** @verbatim
 354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   ==============================================================================
 355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           ##### Initialization and de-initialization functions #####
 356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   ==============================================================================
 357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   [..]
 358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     This section provides functions allowing to initialize/de-initialize the MMC
 359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     card device to be ready for use.
 360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** @endverbatim
 362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @{
 363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
 364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
 366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Initializes the MMC according to the specified parameters in the
 367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             MMC_HandleTypeDef and create the associated handle.
ARM GAS  /tmp/ccxVmGdL.s 			page 8


 368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to the MMC handle
 369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
 370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
 371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_Init(MMC_HandleTypeDef *hmmc)
 372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
  35              		.loc 1 372 1
  36              		.cfi_startproc
  37              		@ args = 0, pretend = 0, frame = 8
  38              		@ frame_needed = 1, uses_anonymous_args = 0
  39 0000 80B5     		push	{r7, lr}
  40              		.cfi_def_cfa_offset 8
  41              		.cfi_offset 7, -8
  42              		.cfi_offset 14, -4
  43 0002 82B0     		sub	sp, sp, #8
  44              		.cfi_def_cfa_offset 16
  45 0004 00AF     		add	r7, sp, #0
  46              		.cfi_def_cfa_register 7
  47 0006 7860     		str	r0, [r7, #4]
 373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check the MMC handle allocation */
 374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc == NULL)
  48              		.loc 1 374 6
  49 0008 7B68     		ldr	r3, [r7, #4]
  50 000a 002B     		cmp	r3, #0
  51 000c 01D1     		bne	.L2
 375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
  52              		.loc 1 376 12
  53 000e 0123     		movs	r3, #1
  54 0010 31E0     		b	.L3
  55              	.L2:
 377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
 378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check the parameters */
 380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   assert_param(IS_SDMMC_ALL_INSTANCE(hmmc->Instance));
 381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   assert_param(IS_SDMMC_CLOCK_EDGE(hmmc->Init.ClockEdge));
 382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   assert_param(IS_SDMMC_CLOCK_BYPASS(hmmc->Init.ClockBypass));
 384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   assert_param(IS_SDMMC_CLOCK_POWER_SAVE(hmmc->Init.ClockPowerSave));
 386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   assert_param(IS_SDMMC_BUS_WIDE(hmmc->Init.BusWide));
 387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   assert_param(IS_SDMMC_HARDWARE_FLOW_CONTROL(hmmc->Init.HardwareFlowControl));
 388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   assert_param(IS_SDMMC_CLKDIV(hmmc->Init.ClockDiv));
 389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->State == HAL_MMC_STATE_RESET)
  56              		.loc 1 390 11
  57 0012 7B68     		ldr	r3, [r7, #4]
  58 0014 93F83430 		ldrb	r3, [r3, #52]
  59 0018 DBB2     		uxtb	r3, r3
  60              		.loc 1 390 6
  61 001a 002B     		cmp	r3, #0
  62 001c 05D1     		bne	.L4
 391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Allocate lock resource and initialize it */
 393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Lock = HAL_UNLOCKED;
  63              		.loc 1 393 16
  64 001e 7B68     		ldr	r3, [r7, #4]
  65 0020 0022     		movs	r2, #0
ARM GAS  /tmp/ccxVmGdL.s 			page 9


  66 0022 1A77     		strb	r2, [r3, #28]
 394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
 395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Reset Callback pointers in HAL_MMC_STATE_RESET only */
 396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->TxCpltCallback    = HAL_MMC_TxCpltCallback;
 397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->RxCpltCallback    = HAL_MMC_RxCpltCallback;
 398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCallback     = HAL_MMC_ErrorCallback;
 399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->AbortCpltCallback = HAL_MMC_AbortCallback;
 400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Read_DMADblBuf0CpltCallback = HAL_MMCEx_Read_DMADoubleBuffer0CpltCallback;
 402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Read_DMADblBuf1CpltCallback = HAL_MMCEx_Read_DMADoubleBuffer1CpltCallback;
 403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Write_DMADblBuf0CpltCallback = HAL_MMCEx_Write_DMADoubleBuffer0CpltCallback;
 404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Write_DMADblBuf1CpltCallback = HAL_MMCEx_Write_DMADoubleBuffer1CpltCallback;
 405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (hmmc->MspInitCallback == NULL)
 408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->MspInitCallback = HAL_MMC_MspInit;
 410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Init the low level hardware */
 413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->MspInitCallback(hmmc);
 414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
 415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Init the low level hardware : GPIO, CLOCK, CORTEX...etc */
 416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     HAL_MMC_MspInit(hmmc);
  67              		.loc 1 416 5
  68 0024 7868     		ldr	r0, [r7, #4]
  69 0026 FFF7FEFF 		bl	HAL_MMC_MspInit
  70              	.L4:
 417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif /* USE_HAL_MMC_REGISTER_CALLBACKS */
 418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
 419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->State = HAL_MMC_STATE_BUSY;
  71              		.loc 1 420 15
  72 002a 7B68     		ldr	r3, [r7, #4]
  73 002c 0322     		movs	r2, #3
  74 002e 83F83420 		strb	r2, [r3, #52]
 421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Initialize the Card parameters */
 423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (HAL_MMC_InitCard(hmmc) == HAL_ERROR)
  75              		.loc 1 423 7
  76 0032 7868     		ldr	r0, [r7, #4]
  77 0034 FFF7FEFF 		bl	HAL_MMC_InitCard
  78 0038 0346     		mov	r3, r0
  79              		.loc 1 423 6 discriminator 1
  80 003a 012B     		cmp	r3, #1
  81 003c 01D1     		bne	.L5
 424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
  82              		.loc 1 425 12
  83 003e 0123     		movs	r3, #1
  84 0040 19E0     		b	.L3
  85              	.L5:
 426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
 427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Initialize the error code */
 429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->ErrorCode = HAL_MMC_ERROR_NONE;
  86              		.loc 1 429 19
ARM GAS  /tmp/ccxVmGdL.s 			page 10


  87 0042 7B68     		ldr	r3, [r7, #4]
  88 0044 0022     		movs	r2, #0
  89 0046 9A63     		str	r2, [r3, #56]
 430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Initialize the MMC operation */
 432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->Context = MMC_CONTEXT_NONE;
  90              		.loc 1 432 17
  91 0048 7B68     		ldr	r3, [r7, #4]
  92 004a 0022     		movs	r2, #0
  93 004c 1A63     		str	r2, [r3, #48]
 433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Initialize the MMC state */
 435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->State = HAL_MMC_STATE_READY;
  94              		.loc 1 435 15
  95 004e 7B68     		ldr	r3, [r7, #4]
  96 0050 0122     		movs	r2, #1
  97 0052 83F83420 		strb	r2, [r3, #52]
 436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Configure bus width */
 438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->Init.BusWide != SDMMC_BUS_WIDE_1B)
  98              		.loc 1 438 17
  99 0056 7B68     		ldr	r3, [r7, #4]
 100 0058 1B69     		ldr	r3, [r3, #16]
 101              		.loc 1 438 6
 102 005a 002B     		cmp	r3, #0
 103 005c 0AD0     		beq	.L6
 439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (HAL_MMC_ConfigWideBusOperation(hmmc, hmmc->Init.BusWide) != HAL_OK)
 104              		.loc 1 440 9
 105 005e 7B68     		ldr	r3, [r7, #4]
 106 0060 1B69     		ldr	r3, [r3, #16]
 107 0062 1946     		mov	r1, r3
 108 0064 7868     		ldr	r0, [r7, #4]
 109 0066 FFF7FEFF 		bl	HAL_MMC_ConfigWideBusOperation
 110 006a 0346     		mov	r3, r0
 111              		.loc 1 440 8 discriminator 1
 112 006c 002B     		cmp	r3, #0
 113 006e 01D0     		beq	.L6
 441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 114              		.loc 1 442 14
 115 0070 0123     		movs	r3, #1
 116 0072 00E0     		b	.L3
 117              	.L6:
 443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
 445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return HAL_OK;
 118              		.loc 1 446 10
 119 0074 0023     		movs	r3, #0
 120              	.L3:
 447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 121              		.loc 1 447 1
 122 0076 1846     		mov	r0, r3
 123 0078 0837     		adds	r7, r7, #8
 124              		.cfi_def_cfa_offset 8
 125 007a BD46     		mov	sp, r7
ARM GAS  /tmp/ccxVmGdL.s 			page 11


 126              		.cfi_def_cfa_register 13
 127              		@ sp needed
 128 007c 80BD     		pop	{r7, pc}
 129              		.cfi_endproc
 130              	.LFE445:
 132              		.section	.text.HAL_MMC_InitCard,"ax",%progbits
 133              		.align	1
 134              		.global	HAL_MMC_InitCard
 135              		.syntax unified
 136              		.thumb
 137              		.thumb_func
 139              	HAL_MMC_InitCard:
 140              	.LFB446:
 448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
 450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Initializes the MMC Card.
 451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to MMC handle
 452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @note   This function initializes the MMC card. It could be used when a card
 453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             re-initialization is needed.
 454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
 455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
 456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_InitCard(MMC_HandleTypeDef *hmmc)
 457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 141              		.loc 1 457 1
 142              		.cfi_startproc
 143              		@ args = 0, pretend = 0, frame = 48
 144              		@ frame_needed = 1, uses_anonymous_args = 0
 145 0000 B0B5     		push	{r4, r5, r7, lr}
 146              		.cfi_def_cfa_offset 16
 147              		.cfi_offset 4, -16
 148              		.cfi_offset 5, -12
 149              		.cfi_offset 7, -8
 150              		.cfi_offset 14, -4
 151 0002 90B0     		sub	sp, sp, #64
 152              		.cfi_def_cfa_offset 80
 153 0004 04AF     		add	r7, sp, #16
 154              		.cfi_def_cfa 7, 64
 155 0006 7860     		str	r0, [r7, #4]
 458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate;
 459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   MMC_InitTypeDef Init;
 460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   HAL_StatusTypeDef status;
 461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t sdmmc_clk;
 462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Default SDMMC peripheral configuration for MMC card initialization */
 464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   Init.ClockEdge           = SDMMC_CLOCK_EDGE_RISING;
 156              		.loc 1 464 28
 157 0008 0023     		movs	r3, #0
 158 000a FB60     		str	r3, [r7, #12]
 465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   Init.ClockBypass         = SDMMC_CLOCK_BYPASS_DISABLE;
 159              		.loc 1 466 28
 160 000c 0023     		movs	r3, #0
 161 000e 3B61     		str	r3, [r7, #16]
 467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   Init.ClockPowerSave      = SDMMC_CLOCK_POWER_SAVE_DISABLE;
 162              		.loc 1 468 28
 163 0010 0023     		movs	r3, #0
ARM GAS  /tmp/ccxVmGdL.s 			page 12


 164 0012 7B61     		str	r3, [r7, #20]
 469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   Init.BusWide             = SDMMC_BUS_WIDE_1B;
 165              		.loc 1 469 28
 166 0014 0023     		movs	r3, #0
 167 0016 BB61     		str	r3, [r7, #24]
 470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   Init.HardwareFlowControl = SDMMC_HARDWARE_FLOW_CONTROL_DISABLE;
 168              		.loc 1 470 28
 169 0018 0023     		movs	r3, #0
 170 001a FB61     		str	r3, [r7, #28]
 471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Init Clock should be less or equal to 400Khz*/
 473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   sdmmc_clk = HAL_RCCEx_GetPeriphCLKFreq(RCC_PERIPHCLK_SDMMC1);
 171              		.loc 1 473 15
 172 001c 4FF40020 		mov	r0, #524288
 173 0020 FFF7FEFF 		bl	HAL_RCCEx_GetPeriphCLKFreq
 174 0024 F862     		str	r0, [r7, #44]
 474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (sdmmc_clk == 0U)
 175              		.loc 1 474 6
 176 0026 FB6A     		ldr	r3, [r7, #44]
 177 0028 002B     		cmp	r3, #0
 178 002a 09D1     		bne	.L8
 475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
 179              		.loc 1 476 17
 180 002c 7B68     		ldr	r3, [r7, #4]
 181 002e 0122     		movs	r2, #1
 182 0030 83F83420 		strb	r2, [r3, #52]
 477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode = SDMMC_ERROR_INVALID_PARAMETER;
 183              		.loc 1 477 21
 184 0034 7B68     		ldr	r3, [r7, #4]
 185 0036 4FF00062 		mov	r2, #134217728
 186 003a 9A63     		str	r2, [r3, #56]
 478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 187              		.loc 1 478 12
 188 003c 0123     		movs	r3, #1
 189 003e 8DE0     		b	.L15
 190              	.L8:
 479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
 480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   Init.ClockDiv = ((sdmmc_clk / MMC_INIT_FREQ) - 2U);
 191              		.loc 1 481 31
 192 0040 FB6A     		ldr	r3, [r7, #44]
 193 0042 DB09     		lsrs	r3, r3, #7
 194 0044 474A     		ldr	r2, .L16
 195 0046 A2FB0323 		umull	r2, r3, r2, r3
 196 004a 1B09     		lsrs	r3, r3, #4
 197              		.loc 1 481 48
 198 004c 023B     		subs	r3, r3, #2
 199              		.loc 1 481 17
 200 004e 3B62     		str	r3, [r7, #32]
 482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
 483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   Init.ClockDiv = sdmmc_clk / (2U * MMC_INIT_FREQ);
 484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   Init.Transceiver = SDMMC_TRANSCEIVER_DISABLE;
 485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Initialize SDMMC peripheral interface with default configuration */
 488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   status = SDMMC_Init(hmmc->Instance, Init);
ARM GAS  /tmp/ccxVmGdL.s 			page 13


 201              		.loc 1 488 12
 202 0050 7B68     		ldr	r3, [r7, #4]
 203 0052 1D68     		ldr	r5, [r3]
 204 0054 6C46     		mov	r4, sp
 205 0056 07F11803 		add	r3, r7, #24
 206 005a 93E80700 		ldm	r3, {r0, r1, r2}
 207 005e 84E80700 		stm	r4, {r0, r1, r2}
 208 0062 07F10C03 		add	r3, r7, #12
 209 0066 0ECB     		ldm	r3, {r1, r2, r3}
 210 0068 2846     		mov	r0, r5
 211 006a FFF7FEFF 		bl	SDMMC_Init
 212 006e 0346     		mov	r3, r0
 213 0070 87F82B30 		strb	r3, [r7, #43]
 489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (status == HAL_ERROR)
 214              		.loc 1 489 6
 215 0074 97F82B30 		ldrb	r3, [r7, #43]	@ zero_extendqisi2
 216 0078 012B     		cmp	r3, #1
 217 007a 01D1     		bne	.L10
 490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 218              		.loc 1 491 12
 219 007c 0123     		movs	r3, #1
 220 007e 6DE0     		b	.L15
 221              	.L10:
 492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
 493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Disable SDMMC Clock */
 496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   __HAL_MMC_DISABLE(hmmc);
 222              		.loc 1 496 3
 223 0080 7B68     		ldr	r3, [r7, #4]
 224 0082 1B68     		ldr	r3, [r3]
 225 0084 5A68     		ldr	r2, [r3, #4]
 226 0086 7B68     		ldr	r3, [r7, #4]
 227 0088 1B68     		ldr	r3, [r3]
 228 008a 22F48072 		bic	r2, r2, #256
 229 008e 5A60     		str	r2, [r3, #4]
 497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Set Power State to ON */
 500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   status = SDMMC_PowerState_ON(hmmc->Instance);
 230              		.loc 1 500 12
 231 0090 7B68     		ldr	r3, [r7, #4]
 232 0092 1B68     		ldr	r3, [r3]
 233 0094 1846     		mov	r0, r3
 234 0096 FFF7FEFF 		bl	SDMMC_PowerState_ON
 235 009a 0346     		mov	r3, r0
 236 009c 87F82B30 		strb	r3, [r7, #43]
 501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (status == HAL_ERROR)
 237              		.loc 1 501 6
 238 00a0 97F82B30 		ldrb	r3, [r7, #43]	@ zero_extendqisi2
 239 00a4 012B     		cmp	r3, #1
 240 00a6 01D1     		bne	.L11
 502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 241              		.loc 1 503 12
 242 00a8 0123     		movs	r3, #1
ARM GAS  /tmp/ccxVmGdL.s 			page 14


 243 00aa 57E0     		b	.L15
 244              	.L11:
 504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
 505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Enable MMC Clock */
 508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   __HAL_MMC_ENABLE(hmmc);
 245              		.loc 1 508 3
 246 00ac 7B68     		ldr	r3, [r7, #4]
 247 00ae 1B68     		ldr	r3, [r3]
 248 00b0 5A68     		ldr	r2, [r3, #4]
 249 00b2 7B68     		ldr	r3, [r7, #4]
 250 00b4 1B68     		ldr	r3, [r3]
 251 00b6 42F48072 		orr	r2, r2, #256
 252 00ba 5A60     		str	r2, [r3, #4]
 509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* wait 74 Cycles: required power up waiting time before starting
 512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****      the MMC initialization sequence */
 513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   sdmmc_clk = sdmmc_clk / (Init.ClockDiv + 2U);
 253              		.loc 1 514 32
 254 00bc 3B6A     		ldr	r3, [r7, #32]
 255              		.loc 1 514 42
 256 00be 0233     		adds	r3, r3, #2
 257              		.loc 1 514 13
 258 00c0 FA6A     		ldr	r2, [r7, #44]
 259 00c2 B2FBF3F3 		udiv	r3, r2, r3
 260 00c6 FB62     		str	r3, [r7, #44]
 515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
 516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   sdmmc_clk = sdmmc_clk / (2U * Init.ClockDiv);
 517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   HAL_Delay(1U + (74U * 1000U / (sdmmc_clk)));
 261              		.loc 1 518 31
 262 00c8 274A     		ldr	r2, .L16+4
 263 00ca FB6A     		ldr	r3, [r7, #44]
 264 00cc B2FBF3F3 		udiv	r3, r2, r3
 265              		.loc 1 518 3
 266 00d0 0133     		adds	r3, r3, #1
 267 00d2 1846     		mov	r0, r3
 268 00d4 FFF7FEFF 		bl	HAL_Delay
 519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Identify card operating voltage */
 520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   errorstate = MMC_PowerON(hmmc);
 269              		.loc 1 520 16
 270 00d8 7868     		ldr	r0, [r7, #4]
 271 00da FFF7FEFF 		bl	MMC_PowerON
 272 00de 7862     		str	r0, [r7, #36]
 521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (errorstate != HAL_MMC_ERROR_NONE)
 273              		.loc 1 521 6
 274 00e0 7B6A     		ldr	r3, [r7, #36]
 275 00e2 002B     		cmp	r3, #0
 276 00e4 0BD0     		beq	.L12
 522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
 277              		.loc 1 523 17
 278 00e6 7B68     		ldr	r3, [r7, #4]
 279 00e8 0122     		movs	r2, #1
ARM GAS  /tmp/ccxVmGdL.s 			page 15


 280 00ea 83F83420 		strb	r2, [r3, #52]
 524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= errorstate;
 281              		.loc 1 524 9
 282 00ee 7B68     		ldr	r3, [r7, #4]
 283 00f0 9A6B     		ldr	r2, [r3, #56]
 284              		.loc 1 524 21
 285 00f2 7B6A     		ldr	r3, [r7, #36]
 286 00f4 1A43     		orrs	r2, r2, r3
 287 00f6 7B68     		ldr	r3, [r7, #4]
 288 00f8 9A63     		str	r2, [r3, #56]
 525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 289              		.loc 1 525 12
 290 00fa 0123     		movs	r3, #1
 291 00fc 2EE0     		b	.L15
 292              	.L12:
 526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
 527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Card initialization */
 529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   errorstate = MMC_InitCard(hmmc);
 293              		.loc 1 529 16
 294 00fe 7868     		ldr	r0, [r7, #4]
 295 0100 FFF7FEFF 		bl	MMC_InitCard
 296 0104 7862     		str	r0, [r7, #36]
 530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (errorstate != HAL_MMC_ERROR_NONE)
 297              		.loc 1 530 6
 298 0106 7B6A     		ldr	r3, [r7, #36]
 299 0108 002B     		cmp	r3, #0
 300 010a 0BD0     		beq	.L13
 531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
 301              		.loc 1 532 17
 302 010c 7B68     		ldr	r3, [r7, #4]
 303 010e 0122     		movs	r2, #1
 304 0110 83F83420 		strb	r2, [r3, #52]
 533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= errorstate;
 305              		.loc 1 533 9
 306 0114 7B68     		ldr	r3, [r7, #4]
 307 0116 9A6B     		ldr	r2, [r3, #56]
 308              		.loc 1 533 21
 309 0118 7B6A     		ldr	r3, [r7, #36]
 310 011a 1A43     		orrs	r2, r2, r3
 311 011c 7B68     		ldr	r3, [r7, #4]
 312 011e 9A63     		str	r2, [r3, #56]
 534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 313              		.loc 1 534 12
 314 0120 0123     		movs	r3, #1
 315 0122 1BE0     		b	.L15
 316              	.L13:
 535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
 536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Set Block Size for Card */
 538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   errorstate = SDMMC_CmdBlockLength(hmmc->Instance, MMC_BLOCKSIZE);
 317              		.loc 1 538 16
 318 0124 7B68     		ldr	r3, [r7, #4]
 319 0126 1B68     		ldr	r3, [r3]
 320 0128 4FF40071 		mov	r1, #512
 321 012c 1846     		mov	r0, r3
ARM GAS  /tmp/ccxVmGdL.s 			page 16


 322 012e FFF7FEFF 		bl	SDMMC_CmdBlockLength
 323 0132 7862     		str	r0, [r7, #36]
 539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (errorstate != HAL_MMC_ERROR_NONE)
 324              		.loc 1 539 6
 325 0134 7B6A     		ldr	r3, [r7, #36]
 326 0136 002B     		cmp	r3, #0
 327 0138 0FD0     		beq	.L14
 540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Clear all the static flags */
 542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 328              		.loc 1 542 5
 329 013a 7B68     		ldr	r3, [r7, #4]
 330 013c 1B68     		ldr	r3, [r3]
 331 013e 0B4A     		ldr	r2, .L16+8
 332 0140 9A63     		str	r2, [r3, #56]
 543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= errorstate;
 333              		.loc 1 543 9
 334 0142 7B68     		ldr	r3, [r7, #4]
 335 0144 9A6B     		ldr	r2, [r3, #56]
 336              		.loc 1 543 21
 337 0146 7B6A     		ldr	r3, [r7, #36]
 338 0148 1A43     		orrs	r2, r2, r3
 339 014a 7B68     		ldr	r3, [r7, #4]
 340 014c 9A63     		str	r2, [r3, #56]
 544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
 341              		.loc 1 544 17
 342 014e 7B68     		ldr	r3, [r7, #4]
 343 0150 0122     		movs	r2, #1
 344 0152 83F83420 		strb	r2, [r3, #52]
 545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 345              		.loc 1 545 12
 346 0156 0123     		movs	r3, #1
 347 0158 00E0     		b	.L15
 348              	.L14:
 546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
 547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return HAL_OK;
 349              		.loc 1 548 10
 350 015a 0023     		movs	r3, #0
 351              	.L15:
 549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 352              		.loc 1 549 1
 353 015c 1846     		mov	r0, r3
 354 015e 3037     		adds	r7, r7, #48
 355              		.cfi_def_cfa_offset 16
 356 0160 BD46     		mov	sp, r7
 357              		.cfi_def_cfa_register 13
 358              		@ sp needed
 359 0162 B0BD     		pop	{r4, r5, r7, pc}
 360              	.L17:
 361              		.align	2
 362              	.L16:
 363 0164 598B4F01 		.word	21990233
 364 0168 10210100 		.word	74000
 365 016c FF054000 		.word	4195839
 366              		.cfi_endproc
 367              	.LFE446:
ARM GAS  /tmp/ccxVmGdL.s 			page 17


 369              		.section	.text.HAL_MMC_DeInit,"ax",%progbits
 370              		.align	1
 371              		.global	HAL_MMC_DeInit
 372              		.syntax unified
 373              		.thumb
 374              		.thumb_func
 376              	HAL_MMC_DeInit:
 377              	.LFB447:
 550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
 552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  De-Initializes the MMC card.
 553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to MMC handle
 554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
 555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
 556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_DeInit(MMC_HandleTypeDef *hmmc)
 557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 378              		.loc 1 557 1
 379              		.cfi_startproc
 380              		@ args = 0, pretend = 0, frame = 8
 381              		@ frame_needed = 1, uses_anonymous_args = 0
 382 0000 80B5     		push	{r7, lr}
 383              		.cfi_def_cfa_offset 8
 384              		.cfi_offset 7, -8
 385              		.cfi_offset 14, -4
 386 0002 82B0     		sub	sp, sp, #8
 387              		.cfi_def_cfa_offset 16
 388 0004 00AF     		add	r7, sp, #0
 389              		.cfi_def_cfa_register 7
 390 0006 7860     		str	r0, [r7, #4]
 558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check the MMC handle allocation */
 559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc == NULL)
 391              		.loc 1 559 6
 392 0008 7B68     		ldr	r3, [r7, #4]
 393 000a 002B     		cmp	r3, #0
 394 000c 01D1     		bne	.L19
 560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 395              		.loc 1 561 12
 396 000e 0123     		movs	r3, #1
 397 0010 11E0     		b	.L20
 398              	.L19:
 562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
 563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check the parameters */
 565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   assert_param(IS_SDMMC_ALL_INSTANCE(hmmc->Instance));
 566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->State = HAL_MMC_STATE_BUSY;
 399              		.loc 1 567 15
 400 0012 7B68     		ldr	r3, [r7, #4]
 401 0014 0322     		movs	r2, #3
 402 0016 83F83420 		strb	r2, [r3, #52]
 568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Set MMC power state to off */
 570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   MMC_PowerOFF(hmmc);
 403              		.loc 1 570 3
 404 001a 7868     		ldr	r0, [r7, #4]
 405 001c FFF7FEFF 		bl	MMC_PowerOFF
ARM GAS  /tmp/ccxVmGdL.s 			page 18


 571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
 573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->MspDeInitCallback == NULL)
 574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->MspDeInitCallback = HAL_MMC_MspDeInit;
 576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
 577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* DeInit the low level hardware */
 579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->MspDeInitCallback(hmmc);
 580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
 581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* De-Initialize the MSP layer */
 582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   HAL_MMC_MspDeInit(hmmc);
 406              		.loc 1 582 3
 407 0020 7868     		ldr	r0, [r7, #4]
 408 0022 FFF7FEFF 		bl	HAL_MMC_MspDeInit
 583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->ErrorCode = HAL_MMC_ERROR_NONE;
 409              		.loc 1 585 19
 410 0026 7B68     		ldr	r3, [r7, #4]
 411 0028 0022     		movs	r2, #0
 412 002a 9A63     		str	r2, [r3, #56]
 586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->State = HAL_MMC_STATE_RESET;
 413              		.loc 1 586 15
 414 002c 7B68     		ldr	r3, [r7, #4]
 415 002e 0022     		movs	r2, #0
 416 0030 83F83420 		strb	r2, [r3, #52]
 587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return HAL_OK;
 417              		.loc 1 588 10
 418 0034 0023     		movs	r3, #0
 419              	.L20:
 589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 420              		.loc 1 589 1
 421 0036 1846     		mov	r0, r3
 422 0038 0837     		adds	r7, r7, #8
 423              		.cfi_def_cfa_offset 8
 424 003a BD46     		mov	sp, r7
 425              		.cfi_def_cfa_register 13
 426              		@ sp needed
 427 003c 80BD     		pop	{r7, pc}
 428              		.cfi_endproc
 429              	.LFE447:
 431              		.section	.text.HAL_MMC_MspInit,"ax",%progbits
 432              		.align	1
 433              		.weak	HAL_MMC_MspInit
 434              		.syntax unified
 435              		.thumb
 436              		.thumb_func
 438              	HAL_MMC_MspInit:
 439              	.LFB448:
 590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
 593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Initializes the MMC MSP.
 594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to MMC handle
 595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval None
ARM GAS  /tmp/ccxVmGdL.s 			page 19


 596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
 597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** __weak void HAL_MMC_MspInit(MMC_HandleTypeDef *hmmc)
 598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 440              		.loc 1 598 1
 441              		.cfi_startproc
 442              		@ args = 0, pretend = 0, frame = 8
 443              		@ frame_needed = 1, uses_anonymous_args = 0
 444              		@ link register save eliminated.
 445 0000 80B4     		push	{r7}
 446              		.cfi_def_cfa_offset 4
 447              		.cfi_offset 7, -4
 448 0002 83B0     		sub	sp, sp, #12
 449              		.cfi_def_cfa_offset 16
 450 0004 00AF     		add	r7, sp, #0
 451              		.cfi_def_cfa_register 7
 452 0006 7860     		str	r0, [r7, #4]
 599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Prevent unused argument(s) compilation warning */
 600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   UNUSED(hmmc);
 601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             the HAL_MMC_MspInit could be implemented in the user file
 604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****    */
 605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 453              		.loc 1 605 1
 454 0008 00BF     		nop
 455 000a 0C37     		adds	r7, r7, #12
 456              		.cfi_def_cfa_offset 4
 457 000c BD46     		mov	sp, r7
 458              		.cfi_def_cfa_register 13
 459              		@ sp needed
 460 000e 5DF8047B 		ldr	r7, [sp], #4
 461              		.cfi_restore 7
 462              		.cfi_def_cfa_offset 0
 463 0012 7047     		bx	lr
 464              		.cfi_endproc
 465              	.LFE448:
 467              		.section	.text.HAL_MMC_MspDeInit,"ax",%progbits
 468              		.align	1
 469              		.weak	HAL_MMC_MspDeInit
 470              		.syntax unified
 471              		.thumb
 472              		.thumb_func
 474              	HAL_MMC_MspDeInit:
 475              	.LFB449:
 606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
 608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  De-Initialize MMC MSP.
 609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to MMC handle
 610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval None
 611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
 612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** __weak void HAL_MMC_MspDeInit(MMC_HandleTypeDef *hmmc)
 613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 476              		.loc 1 613 1
 477              		.cfi_startproc
 478              		@ args = 0, pretend = 0, frame = 8
 479              		@ frame_needed = 1, uses_anonymous_args = 0
 480              		@ link register save eliminated.
ARM GAS  /tmp/ccxVmGdL.s 			page 20


 481 0000 80B4     		push	{r7}
 482              		.cfi_def_cfa_offset 4
 483              		.cfi_offset 7, -4
 484 0002 83B0     		sub	sp, sp, #12
 485              		.cfi_def_cfa_offset 16
 486 0004 00AF     		add	r7, sp, #0
 487              		.cfi_def_cfa_register 7
 488 0006 7860     		str	r0, [r7, #4]
 614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Prevent unused argument(s) compilation warning */
 615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   UNUSED(hmmc);
 616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             the HAL_MMC_MspDeInit could be implemented in the user file
 619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****    */
 620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 489              		.loc 1 620 1
 490 0008 00BF     		nop
 491 000a 0C37     		adds	r7, r7, #12
 492              		.cfi_def_cfa_offset 4
 493 000c BD46     		mov	sp, r7
 494              		.cfi_def_cfa_register 13
 495              		@ sp needed
 496 000e 5DF8047B 		ldr	r7, [sp], #4
 497              		.cfi_restore 7
 498              		.cfi_def_cfa_offset 0
 499 0012 7047     		bx	lr
 500              		.cfi_endproc
 501              	.LFE449:
 503              		.section	.text.HAL_MMC_ReadBlocks,"ax",%progbits
 504              		.align	1
 505              		.global	HAL_MMC_ReadBlocks
 506              		.syntax unified
 507              		.thumb
 508              		.thumb_func
 510              	HAL_MMC_ReadBlocks:
 511              	.LFB450:
 621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
 623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @}
 624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
 625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /** @addtogroup MMC_Exported_Functions_Group2
 627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *  @brief   Data transfer functions
 628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *
 629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** @verbatim
 630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   ==============================================================================
 631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                         ##### IO operation functions #####
 632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   ==============================================================================
 633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   [..]
 634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     This subsection provides a set of functions allowing to manage the data
 635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     transfer from/to MMC card.
 636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** @endverbatim
 638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @{
 639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
 640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
ARM GAS  /tmp/ccxVmGdL.s 			page 21


 642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
 643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         is managed by polling mode.
 644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @note   This API should be followed by a check on the card state through
 645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         HAL_MMC_GetCardState().
 646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to MMC handle
 647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  pData: pointer to the buffer that will contain the received data
 648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  BlockAdd: Block Address from where data is to be read
 649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  NumberOfBlocks: Number of MMC blocks to read
 650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  Timeout: Specify timeout value
 651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
 652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
 653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_ReadBlocks(MMC_HandleTypeDef *hmmc, uint8_t *pData, uint32_t BlockAdd,
 654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                                      uint32_t NumberOfBlocks, uint32_t Timeout)
 655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 512              		.loc 1 655 1
 513              		.cfi_startproc
 514              		@ args = 4, pretend = 0, frame = 72
 515              		@ frame_needed = 1, uses_anonymous_args = 0
 516 0000 80B5     		push	{r7, lr}
 517              		.cfi_def_cfa_offset 8
 518              		.cfi_offset 7, -8
 519              		.cfi_offset 14, -4
 520 0002 92B0     		sub	sp, sp, #72
 521              		.cfi_def_cfa_offset 80
 522 0004 00AF     		add	r7, sp, #0
 523              		.cfi_def_cfa_register 7
 524 0006 F860     		str	r0, [r7, #12]
 525 0008 B960     		str	r1, [r7, #8]
 526 000a 7A60     		str	r2, [r7, #4]
 527 000c 3B60     		str	r3, [r7]
 656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   SDMMC_DataInitTypeDef config;
 657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate;
 658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t tickstart = HAL_GetTick();
 528              		.loc 1 658 24
 529 000e FFF7FEFF 		bl	HAL_GetTick
 530 0012 3863     		str	r0, [r7, #48]
 659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t count, data, dataremaining;
 660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t add = BlockAdd;
 531              		.loc 1 660 12
 532 0014 7B68     		ldr	r3, [r7, #4]
 533 0016 BB63     		str	r3, [r7, #56]
 661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint8_t *tempbuff = pData;
 534              		.loc 1 661 12
 535 0018 BB68     		ldr	r3, [r7, #8]
 536 001a 7B63     		str	r3, [r7, #52]
 662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (NULL == pData)
 537              		.loc 1 663 6
 538 001c BB68     		ldr	r3, [r7, #8]
 539 001e 002B     		cmp	r3, #0
 540 0020 07D1     		bne	.L24
 664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= HAL_MMC_ERROR_PARAM;
 541              		.loc 1 665 9
 542 0022 FB68     		ldr	r3, [r7, #12]
 543 0024 9B6B     		ldr	r3, [r3, #56]
 544              		.loc 1 665 21
ARM GAS  /tmp/ccxVmGdL.s 			page 22


 545 0026 43F00062 		orr	r2, r3, #134217728
 546 002a FB68     		ldr	r3, [r7, #12]
 547 002c 9A63     		str	r2, [r3, #56]
 666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 548              		.loc 1 666 12
 549 002e 0123     		movs	r3, #1
 550 0030 B9E1     		b	.L46
 551              	.L24:
 667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
 668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->State == HAL_MMC_STATE_READY)
 552              		.loc 1 669 11
 553 0032 FB68     		ldr	r3, [r7, #12]
 554 0034 93F83430 		ldrb	r3, [r3, #52]
 555 0038 DBB2     		uxtb	r3, r3
 556              		.loc 1 669 6
 557 003a 012B     		cmp	r3, #1
 558 003c 40F0AC81 		bne	.L26
 670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode = HAL_MMC_ERROR_NONE;
 559              		.loc 1 671 21
 560 0040 FB68     		ldr	r3, [r7, #12]
 561 0042 0022     		movs	r2, #0
 562 0044 9A63     		str	r2, [r3, #56]
 672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((add + NumberOfBlocks) > (hmmc->MmcCard.LogBlockNbr))
 563              		.loc 1 673 14
 564 0046 BA6B     		ldr	r2, [r7, #56]
 565 0048 3B68     		ldr	r3, [r7]
 566 004a 1A44     		add	r2, r2, r3
 567              		.loc 1 673 48
 568 004c FB68     		ldr	r3, [r7, #12]
 569 004e 9B6D     		ldr	r3, [r3, #88]
 570              		.loc 1 673 8
 571 0050 9A42     		cmp	r2, r3
 572 0052 07D9     		bls	.L27
 674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_ADDR_OUT_OF_RANGE;
 573              		.loc 1 675 11
 574 0054 FB68     		ldr	r3, [r7, #12]
 575 0056 9B6B     		ldr	r3, [r3, #56]
 576              		.loc 1 675 23
 577 0058 43F00072 		orr	r2, r3, #33554432
 578 005c FB68     		ldr	r3, [r7, #12]
 579 005e 9A63     		str	r2, [r3, #56]
 676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 580              		.loc 1 676 14
 581 0060 0123     		movs	r3, #1
 582 0062 A0E1     		b	.L46
 583              	.L27:
 677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_BUSY;
 584              		.loc 1 679 17
 585 0064 FB68     		ldr	r3, [r7, #12]
 586 0066 0322     		movs	r2, #3
 587 0068 83F83420 		strb	r2, [r3, #52]
ARM GAS  /tmp/ccxVmGdL.s 			page 23


 680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Initialize data control register */
 682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Instance->DCTRL = 0U;
 588              		.loc 1 682 9
 589 006c FB68     		ldr	r3, [r7, #12]
 590 006e 1B68     		ldr	r3, [r3]
 591              		.loc 1 682 27
 592 0070 0022     		movs	r2, #0
 593 0072 DA62     		str	r2, [r3, #44]
 683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((hmmc->MmcCard.CardType) != MMC_HIGH_CAPACITY_CARD)
 594              		.loc 1 684 23
 595 0074 FB68     		ldr	r3, [r7, #12]
 596 0076 5B6C     		ldr	r3, [r3, #68]
 597              		.loc 1 684 8
 598 0078 012B     		cmp	r3, #1
 599 007a 02D0     		beq	.L28
 685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       add *= 512U;
 600              		.loc 1 686 11
 601 007c BB6B     		ldr	r3, [r7, #56]
 602 007e 5B02     		lsls	r3, r3, #9
 603 0080 BB63     		str	r3, [r7, #56]
 604              	.L28:
 687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Configure the MMC DPSM (Data Path State Machine) */
 690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 605              		.loc 1 690 26
 606 0082 4FF0FF33 		mov	r3, #-1
 607 0086 7B61     		str	r3, [r7, #20]
 691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataLength    = NumberOfBlocks * MMC_BLOCKSIZE;
 608              		.loc 1 691 43
 609 0088 3B68     		ldr	r3, [r7]
 610 008a 5B02     		lsls	r3, r3, #9
 611              		.loc 1 691 26
 612 008c BB61     		str	r3, [r7, #24]
 692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 613              		.loc 1 692 26
 614 008e 9023     		movs	r3, #144
 615 0090 FB61     		str	r3, [r7, #28]
 693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 616              		.loc 1 693 26
 617 0092 0223     		movs	r3, #2
 618 0094 3B62     		str	r3, [r7, #32]
 694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 619              		.loc 1 694 26
 620 0096 0023     		movs	r3, #0
 621 0098 7B62     		str	r3, [r7, #36]
 695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DPSM          = SDMMC_DPSM_ENABLE;
 622              		.loc 1 696 26
 623 009a 0123     		movs	r3, #1
 624 009c BB62     		str	r3, [r7, #40]
 697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
 698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
ARM GAS  /tmp/ccxVmGdL.s 			page 24


 700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (void)SDMMC_ConfigData(hmmc->Instance, &config);
 625              		.loc 1 700 11
 626 009e FB68     		ldr	r3, [r7, #12]
 627 00a0 1B68     		ldr	r3, [r3]
 628 00a2 07F11402 		add	r2, r7, #20
 629 00a6 1146     		mov	r1, r2
 630 00a8 1846     		mov	r0, r3
 631 00aa FFF7FEFF 		bl	SDMMC_ConfigData
 701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __SDMMC_CMDTRANS_ENABLE(hmmc->Instance);
 703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Read block(s) in polling mode */
 705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (NumberOfBlocks > 1U)
 632              		.loc 1 705 8
 633 00ae 3B68     		ldr	r3, [r7]
 634 00b0 012B     		cmp	r3, #1
 635 00b2 0AD9     		bls	.L29
 706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_READ_MULTIPLE_BLOCK;
 636              		.loc 1 707 21
 637 00b4 FB68     		ldr	r3, [r7, #12]
 638 00b6 0222     		movs	r2, #2
 639 00b8 1A63     		str	r2, [r3, #48]
 708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Read Multi Block command */
 710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdReadMultiBlock(hmmc->Instance, add);
 640              		.loc 1 710 20
 641 00ba FB68     		ldr	r3, [r7, #12]
 642 00bc 1B68     		ldr	r3, [r3]
 643 00be B96B     		ldr	r1, [r7, #56]
 644 00c0 1846     		mov	r0, r3
 645 00c2 FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 646 00c6 7864     		str	r0, [r7, #68]
 647 00c8 09E0     		b	.L30
 648              	.L29:
 711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
 713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_READ_SINGLE_BLOCK;
 649              		.loc 1 714 21
 650 00ca FB68     		ldr	r3, [r7, #12]
 651 00cc 0122     		movs	r2, #1
 652 00ce 1A63     		str	r2, [r3, #48]
 715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Read Single Block command */
 717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdReadSingleBlock(hmmc->Instance, add);
 653              		.loc 1 717 20
 654 00d0 FB68     		ldr	r3, [r7, #12]
 655 00d2 1B68     		ldr	r3, [r3]
 656 00d4 B96B     		ldr	r1, [r7, #56]
 657 00d6 1846     		mov	r0, r3
 658 00d8 FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 659 00dc 7864     		str	r0, [r7, #68]
 660              	.L30:
 718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate != HAL_MMC_ERROR_NONE)
 661              		.loc 1 719 8
ARM GAS  /tmp/ccxVmGdL.s 			page 25


 662 00de 7B6C     		ldr	r3, [r7, #68]
 663 00e0 002B     		cmp	r3, #0
 664 00e2 12D0     		beq	.L31
 720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
 722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 665              		.loc 1 722 7
 666 00e4 FB68     		ldr	r3, [r7, #12]
 667 00e6 1B68     		ldr	r3, [r3]
 668 00e8 784A     		ldr	r2, .L47
 669 00ea 9A63     		str	r2, [r3, #56]
 723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= errorstate;
 670              		.loc 1 723 11
 671 00ec FB68     		ldr	r3, [r7, #12]
 672 00ee 9A6B     		ldr	r2, [r3, #56]
 673              		.loc 1 723 23
 674 00f0 7B6C     		ldr	r3, [r7, #68]
 675 00f2 1A43     		orrs	r2, r2, r3
 676 00f4 FB68     		ldr	r3, [r7, #12]
 677 00f6 9A63     		str	r2, [r3, #56]
 724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 678              		.loc 1 724 19
 679 00f8 FB68     		ldr	r3, [r7, #12]
 680 00fa 0122     		movs	r2, #1
 681 00fc 83F83420 		strb	r2, [r3, #52]
 725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_NONE;
 682              		.loc 1 725 21
 683 0100 FB68     		ldr	r3, [r7, #12]
 684 0102 0022     		movs	r2, #0
 685 0104 1A63     		str	r2, [r3, #48]
 726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 686              		.loc 1 726 14
 687 0106 0123     		movs	r3, #1
 688 0108 4DE1     		b	.L46
 689              	.L31:
 727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Poll on SDMMC flags */
 730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     dataremaining = config.DataLength;
 690              		.loc 1 730 19
 691 010a BB69     		ldr	r3, [r7, #24]
 692 010c FB63     		str	r3, [r7, #60]
 731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     while (!__HAL_MMC_GET_FLAG(hmmc,
 693              		.loc 1 731 11
 694 010e 61E0     		b	.L32
 695              	.L37:
 732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                                SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SDM
 733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_RXFIFOHF) && (dataremaining > 0U))
 696              		.loc 1 734 11
 697 0110 FB68     		ldr	r3, [r7, #12]
 698 0112 1B68     		ldr	r3, [r3]
 699 0114 5B6B     		ldr	r3, [r3, #52]
 700 0116 03F40043 		and	r3, r3, #32768
 701              		.loc 1 734 10
 702 011a 002B     		cmp	r3, #0
 703 011c 3CD0     		beq	.L33
ARM GAS  /tmp/ccxVmGdL.s 			page 26


 704              		.loc 1 734 57 discriminator 1
 705 011e FB6B     		ldr	r3, [r7, #60]
 706 0120 002B     		cmp	r3, #0
 707 0122 39D0     		beq	.L33
 735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Read data from SDMMC Rx FIFO */
 737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         for (count = 0U; count < 8U; count++)
 708              		.loc 1 737 20
 709 0124 0023     		movs	r3, #0
 710 0126 3B64     		str	r3, [r7, #64]
 711              		.loc 1 737 9
 712 0128 33E0     		b	.L34
 713              	.L35:
 738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
 739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           data = SDMMC_ReadFIFO(hmmc->Instance);
 714              		.loc 1 739 37
 715 012a FB68     		ldr	r3, [r7, #12]
 716 012c 1B68     		ldr	r3, [r3]
 717              		.loc 1 739 18
 718 012e 1846     		mov	r0, r3
 719 0130 FFF7FEFF 		bl	SDMMC_ReadFIFO
 720 0134 F862     		str	r0, [r7, #44]
 740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 721              		.loc 1 740 23
 722 0136 FB6A     		ldr	r3, [r7, #44]
 723 0138 DAB2     		uxtb	r2, r3
 724              		.loc 1 740 21
 725 013a 7B6B     		ldr	r3, [r7, #52]
 726 013c 1A70     		strb	r2, [r3]
 741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           tempbuff++;
 727              		.loc 1 741 19
 728 013e 7B6B     		ldr	r3, [r7, #52]
 729 0140 0133     		adds	r3, r3, #1
 730 0142 7B63     		str	r3, [r7, #52]
 742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           dataremaining--;
 731              		.loc 1 742 24
 732 0144 FB6B     		ldr	r3, [r7, #60]
 733 0146 013B     		subs	r3, r3, #1
 734 0148 FB63     		str	r3, [r7, #60]
 743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 735              		.loc 1 743 39
 736 014a FB6A     		ldr	r3, [r7, #44]
 737 014c 1B0A     		lsrs	r3, r3, #8
 738              		.loc 1 743 23
 739 014e DAB2     		uxtb	r2, r3
 740              		.loc 1 743 21
 741 0150 7B6B     		ldr	r3, [r7, #52]
 742 0152 1A70     		strb	r2, [r3]
 744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           tempbuff++;
 743              		.loc 1 744 19
 744 0154 7B6B     		ldr	r3, [r7, #52]
 745 0156 0133     		adds	r3, r3, #1
 746 0158 7B63     		str	r3, [r7, #52]
 745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           dataremaining--;
 747              		.loc 1 745 24
 748 015a FB6B     		ldr	r3, [r7, #60]
 749 015c 013B     		subs	r3, r3, #1
ARM GAS  /tmp/ccxVmGdL.s 			page 27


 750 015e FB63     		str	r3, [r7, #60]
 746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 751              		.loc 1 746 39
 752 0160 FB6A     		ldr	r3, [r7, #44]
 753 0162 1B0C     		lsrs	r3, r3, #16
 754              		.loc 1 746 23
 755 0164 DAB2     		uxtb	r2, r3
 756              		.loc 1 746 21
 757 0166 7B6B     		ldr	r3, [r7, #52]
 758 0168 1A70     		strb	r2, [r3]
 747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           tempbuff++;
 759              		.loc 1 747 19
 760 016a 7B6B     		ldr	r3, [r7, #52]
 761 016c 0133     		adds	r3, r3, #1
 762 016e 7B63     		str	r3, [r7, #52]
 748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           dataremaining--;
 763              		.loc 1 748 24
 764 0170 FB6B     		ldr	r3, [r7, #60]
 765 0172 013B     		subs	r3, r3, #1
 766 0174 FB63     		str	r3, [r7, #60]
 749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 767              		.loc 1 749 39
 768 0176 FB6A     		ldr	r3, [r7, #44]
 769 0178 1B0E     		lsrs	r3, r3, #24
 770              		.loc 1 749 23
 771 017a DAB2     		uxtb	r2, r3
 772              		.loc 1 749 21
 773 017c 7B6B     		ldr	r3, [r7, #52]
 774 017e 1A70     		strb	r2, [r3]
 750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           tempbuff++;
 775              		.loc 1 750 19
 776 0180 7B6B     		ldr	r3, [r7, #52]
 777 0182 0133     		adds	r3, r3, #1
 778 0184 7B63     		str	r3, [r7, #52]
 751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           dataremaining--;
 779              		.loc 1 751 24
 780 0186 FB6B     		ldr	r3, [r7, #60]
 781 0188 013B     		subs	r3, r3, #1
 782 018a FB63     		str	r3, [r7, #60]
 737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
 783              		.loc 1 737 43 discriminator 3
 784 018c 3B6C     		ldr	r3, [r7, #64]
 785 018e 0133     		adds	r3, r3, #1
 786 0190 3B64     		str	r3, [r7, #64]
 787              	.L34:
 737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
 788              		.loc 1 737 32 discriminator 1
 789 0192 3B6C     		ldr	r3, [r7, #64]
 790 0194 072B     		cmp	r3, #7
 791 0196 C8D9     		bls	.L35
 792              	.L33:
 752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
 753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
 754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (((HAL_GetTick() - tickstart) >=  Timeout) || (Timeout == 0U))
 793              		.loc 1 755 13
 794 0198 FFF7FEFF 		bl	HAL_GetTick
ARM GAS  /tmp/ccxVmGdL.s 			page 28


 795 019c 0246     		mov	r2, r0
 796              		.loc 1 755 27 discriminator 1
 797 019e 3B6B     		ldr	r3, [r7, #48]
 798 01a0 D31A     		subs	r3, r2, r3
 799              		.loc 1 755 10 discriminator 1
 800 01a2 3A6D     		ldr	r2, [r7, #80]
 801 01a4 9A42     		cmp	r2, r3
 802 01a6 02D9     		bls	.L36
 803              		.loc 1 755 53 discriminator 1
 804 01a8 3B6D     		ldr	r3, [r7, #80]
 805 01aa 002B     		cmp	r3, #0
 806 01ac 12D1     		bne	.L32
 807              	.L36:
 756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Clear all the static flags */
 758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 808              		.loc 1 758 9
 809 01ae FB68     		ldr	r3, [r7, #12]
 810 01b0 1B68     		ldr	r3, [r3]
 811 01b2 464A     		ldr	r2, .L47
 812 01b4 9A63     		str	r2, [r3, #56]
 759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->ErrorCode |= HAL_MMC_ERROR_TIMEOUT;
 813              		.loc 1 759 13
 814 01b6 FB68     		ldr	r3, [r7, #12]
 815 01b8 9B6B     		ldr	r3, [r3, #56]
 816              		.loc 1 759 25
 817 01ba 43F00042 		orr	r2, r3, #-2147483648
 818 01be FB68     		ldr	r3, [r7, #12]
 819 01c0 9A63     		str	r2, [r3, #56]
 760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->State = HAL_MMC_STATE_READY;
 820              		.loc 1 760 21
 821 01c2 FB68     		ldr	r3, [r7, #12]
 822 01c4 0122     		movs	r2, #1
 823 01c6 83F83420 		strb	r2, [r3, #52]
 761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->Context = MMC_CONTEXT_NONE;
 824              		.loc 1 761 23
 825 01ca FB68     		ldr	r3, [r7, #12]
 826 01cc 0022     		movs	r2, #0
 827 01ce 1A63     		str	r2, [r3, #48]
 762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         return HAL_TIMEOUT;
 828              		.loc 1 762 16
 829 01d0 0323     		movs	r3, #3
 830 01d2 E8E0     		b	.L46
 831              	.L32:
 731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                                SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SDM
 832              		.loc 1 731 13
 833 01d4 FB68     		ldr	r3, [r7, #12]
 834 01d6 1B68     		ldr	r3, [r3]
 835 01d8 5B6B     		ldr	r3, [r3, #52]
 836 01da 03F49573 		and	r3, r3, #298
 731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                                SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SDM
 837              		.loc 1 731 12
 838 01de 002B     		cmp	r3, #0
 839 01e0 96D0     		beq	.L37
 763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
 764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
ARM GAS  /tmp/ccxVmGdL.s 			page 29


 766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __SDMMC_CMDTRANS_DISABLE(hmmc->Instance);
 767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Send stop transmission command in case of multiblock read */
 769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 840              		.loc 1 769 9
 841 01e2 FB68     		ldr	r3, [r7, #12]
 842 01e4 1B68     		ldr	r3, [r3]
 843 01e6 5B6B     		ldr	r3, [r3, #52]
 844 01e8 03F48073 		and	r3, r3, #256
 845              		.loc 1 769 8
 846 01ec 002B     		cmp	r3, #0
 847 01ee 1ED0     		beq	.L38
 848              		.loc 1 769 54 discriminator 1
 849 01f0 3B68     		ldr	r3, [r7]
 850 01f2 012B     		cmp	r3, #1
 851 01f4 1BD9     		bls	.L38
 770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Send stop transmission command */
 772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdStopTransfer(hmmc->Instance);
 852              		.loc 1 772 20
 853 01f6 FB68     		ldr	r3, [r7, #12]
 854 01f8 1B68     		ldr	r3, [r3]
 855 01fa 1846     		mov	r0, r3
 856 01fc FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 857 0200 7864     		str	r0, [r7, #68]
 773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (errorstate != HAL_MMC_ERROR_NONE)
 858              		.loc 1 773 10
 859 0202 7B6C     		ldr	r3, [r7, #68]
 860 0204 002B     		cmp	r3, #0
 861 0206 12D0     		beq	.L38
 774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Clear all the static flags */
 776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 862              		.loc 1 776 9
 863 0208 FB68     		ldr	r3, [r7, #12]
 864 020a 1B68     		ldr	r3, [r3]
 865 020c 2F4A     		ldr	r2, .L47
 866 020e 9A63     		str	r2, [r3, #56]
 777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->ErrorCode |= errorstate;
 867              		.loc 1 777 13
 868 0210 FB68     		ldr	r3, [r7, #12]
 869 0212 9A6B     		ldr	r2, [r3, #56]
 870              		.loc 1 777 25
 871 0214 7B6C     		ldr	r3, [r7, #68]
 872 0216 1A43     		orrs	r2, r2, r3
 873 0218 FB68     		ldr	r3, [r7, #12]
 874 021a 9A63     		str	r2, [r3, #56]
 778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->State = HAL_MMC_STATE_READY;
 875              		.loc 1 778 21
 876 021c FB68     		ldr	r3, [r7, #12]
 877 021e 0122     		movs	r2, #1
 878 0220 83F83420 		strb	r2, [r3, #52]
 779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->Context = MMC_CONTEXT_NONE;
 879              		.loc 1 779 23
 880 0224 FB68     		ldr	r3, [r7, #12]
 881 0226 0022     		movs	r2, #0
 882 0228 1A63     		str	r2, [r3, #48]
ARM GAS  /tmp/ccxVmGdL.s 			page 30


 780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         return HAL_ERROR;
 883              		.loc 1 780 16
 884 022a 0123     		movs	r3, #1
 885 022c BBE0     		b	.L46
 886              	.L38:
 781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
 782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Get error state */
 785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_DTIMEOUT))
 887              		.loc 1 785 9
 888 022e FB68     		ldr	r3, [r7, #12]
 889 0230 1B68     		ldr	r3, [r3]
 890 0232 5B6B     		ldr	r3, [r3, #52]
 891 0234 03F00803 		and	r3, r3, #8
 892              		.loc 1 785 8
 893 0238 002B     		cmp	r3, #0
 894 023a 12D0     		beq	.L39
 786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
 788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 895              		.loc 1 788 7
 896 023c FB68     		ldr	r3, [r7, #12]
 897 023e 1B68     		ldr	r3, [r3]
 898 0240 224A     		ldr	r2, .L47
 899 0242 9A63     		str	r2, [r3, #56]
 789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_DATA_TIMEOUT;
 900              		.loc 1 789 11
 901 0244 FB68     		ldr	r3, [r7, #12]
 902 0246 9B6B     		ldr	r3, [r3, #56]
 903              		.loc 1 789 23
 904 0248 43F00802 		orr	r2, r3, #8
 905 024c FB68     		ldr	r3, [r7, #12]
 906 024e 9A63     		str	r2, [r3, #56]
 790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 907              		.loc 1 790 19
 908 0250 FB68     		ldr	r3, [r7, #12]
 909 0252 0122     		movs	r2, #1
 910 0254 83F83420 		strb	r2, [r3, #52]
 791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_NONE;
 911              		.loc 1 791 21
 912 0258 FB68     		ldr	r3, [r7, #12]
 913 025a 0022     		movs	r2, #0
 914 025c 1A63     		str	r2, [r3, #48]
 792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 915              		.loc 1 792 14
 916 025e 0123     		movs	r3, #1
 917 0260 A1E0     		b	.L46
 918              	.L39:
 793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_DCRCFAIL))
 919              		.loc 1 794 14
 920 0262 FB68     		ldr	r3, [r7, #12]
 921 0264 1B68     		ldr	r3, [r3]
 922 0266 5B6B     		ldr	r3, [r3, #52]
 923 0268 03F00203 		and	r3, r3, #2
 924              		.loc 1 794 13
ARM GAS  /tmp/ccxVmGdL.s 			page 31


 925 026c 002B     		cmp	r3, #0
 926 026e 12D0     		beq	.L40
 795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
 797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 927              		.loc 1 797 7
 928 0270 FB68     		ldr	r3, [r7, #12]
 929 0272 1B68     		ldr	r3, [r3]
 930 0274 154A     		ldr	r2, .L47
 931 0276 9A63     		str	r2, [r3, #56]
 798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_DATA_CRC_FAIL;
 932              		.loc 1 798 11
 933 0278 FB68     		ldr	r3, [r7, #12]
 934 027a 9B6B     		ldr	r3, [r3, #56]
 935              		.loc 1 798 23
 936 027c 43F00202 		orr	r2, r3, #2
 937 0280 FB68     		ldr	r3, [r7, #12]
 938 0282 9A63     		str	r2, [r3, #56]
 799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 939              		.loc 1 799 19
 940 0284 FB68     		ldr	r3, [r7, #12]
 941 0286 0122     		movs	r2, #1
 942 0288 83F83420 		strb	r2, [r3, #52]
 800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_NONE;
 943              		.loc 1 800 21
 944 028c FB68     		ldr	r3, [r7, #12]
 945 028e 0022     		movs	r2, #0
 946 0290 1A63     		str	r2, [r3, #48]
 801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 947              		.loc 1 801 14
 948 0292 0123     		movs	r3, #1
 949 0294 87E0     		b	.L46
 950              	.L40:
 802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_RXOVERR))
 951              		.loc 1 803 14
 952 0296 FB68     		ldr	r3, [r7, #12]
 953 0298 1B68     		ldr	r3, [r3]
 954 029a 5B6B     		ldr	r3, [r3, #52]
 955 029c 03F02003 		and	r3, r3, #32
 956              		.loc 1 803 13
 957 02a0 002B     		cmp	r3, #0
 958 02a2 64D0     		beq	.L42
 804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
 806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 959              		.loc 1 806 7
 960 02a4 FB68     		ldr	r3, [r7, #12]
 961 02a6 1B68     		ldr	r3, [r3]
 962 02a8 084A     		ldr	r2, .L47
 963 02aa 9A63     		str	r2, [r3, #56]
 807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_RX_OVERRUN;
 964              		.loc 1 807 11
 965 02ac FB68     		ldr	r3, [r7, #12]
 966 02ae 9B6B     		ldr	r3, [r3, #56]
 967              		.loc 1 807 23
 968 02b0 43F02002 		orr	r2, r3, #32
ARM GAS  /tmp/ccxVmGdL.s 			page 32


 969 02b4 FB68     		ldr	r3, [r7, #12]
 970 02b6 9A63     		str	r2, [r3, #56]
 808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 971              		.loc 1 808 19
 972 02b8 FB68     		ldr	r3, [r7, #12]
 973 02ba 0122     		movs	r2, #1
 974 02bc 83F83420 		strb	r2, [r3, #52]
 809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_NONE;
 975              		.loc 1 809 21
 976 02c0 FB68     		ldr	r3, [r7, #12]
 977 02c2 0022     		movs	r2, #0
 978 02c4 1A63     		str	r2, [r3, #48]
 810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 979              		.loc 1 810 14
 980 02c6 0123     		movs	r3, #1
 981 02c8 6DE0     		b	.L46
 982              	.L48:
 983 02ca 00BF     		.align	2
 984              	.L47:
 985 02cc FF054000 		.word	4195839
 986              	.L45:
 811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
 813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Nothing to do */
 815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Empty FIFO if there is still any data */
 819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     while ((__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_RXDAVL)) && (dataremaining > 0U))
 820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       data = SDMMC_ReadFIFO(hmmc->Instance);
 987              		.loc 1 821 33
 988 02d0 FB68     		ldr	r3, [r7, #12]
 989 02d2 1B68     		ldr	r3, [r3]
 990              		.loc 1 821 14
 991 02d4 1846     		mov	r0, r3
 992 02d6 FFF7FEFF 		bl	SDMMC_ReadFIFO
 993 02da F862     		str	r0, [r7, #44]
 822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       *tempbuff = (uint8_t)(data & 0xFFU);
 994              		.loc 1 822 19
 995 02dc FB6A     		ldr	r3, [r7, #44]
 996 02de DAB2     		uxtb	r2, r3
 997              		.loc 1 822 17
 998 02e0 7B6B     		ldr	r3, [r7, #52]
 999 02e2 1A70     		strb	r2, [r3]
 823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       tempbuff++;
 1000              		.loc 1 823 15
 1001 02e4 7B6B     		ldr	r3, [r7, #52]
 1002 02e6 0133     		adds	r3, r3, #1
 1003 02e8 7B63     		str	r3, [r7, #52]
 824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       dataremaining--;
 1004              		.loc 1 824 20
 1005 02ea FB6B     		ldr	r3, [r7, #60]
 1006 02ec 013B     		subs	r3, r3, #1
 1007 02ee FB63     		str	r3, [r7, #60]
 825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
ARM GAS  /tmp/ccxVmGdL.s 			page 33


 1008              		.loc 1 825 35
 1009 02f0 FB6A     		ldr	r3, [r7, #44]
 1010 02f2 1B0A     		lsrs	r3, r3, #8
 1011              		.loc 1 825 19
 1012 02f4 DAB2     		uxtb	r2, r3
 1013              		.loc 1 825 17
 1014 02f6 7B6B     		ldr	r3, [r7, #52]
 1015 02f8 1A70     		strb	r2, [r3]
 826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       tempbuff++;
 1016              		.loc 1 826 15
 1017 02fa 7B6B     		ldr	r3, [r7, #52]
 1018 02fc 0133     		adds	r3, r3, #1
 1019 02fe 7B63     		str	r3, [r7, #52]
 827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       dataremaining--;
 1020              		.loc 1 827 20
 1021 0300 FB6B     		ldr	r3, [r7, #60]
 1022 0302 013B     		subs	r3, r3, #1
 1023 0304 FB63     		str	r3, [r7, #60]
 828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 1024              		.loc 1 828 35
 1025 0306 FB6A     		ldr	r3, [r7, #44]
 1026 0308 1B0C     		lsrs	r3, r3, #16
 1027              		.loc 1 828 19
 1028 030a DAB2     		uxtb	r2, r3
 1029              		.loc 1 828 17
 1030 030c 7B6B     		ldr	r3, [r7, #52]
 1031 030e 1A70     		strb	r2, [r3]
 829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       tempbuff++;
 1032              		.loc 1 829 15
 1033 0310 7B6B     		ldr	r3, [r7, #52]
 1034 0312 0133     		adds	r3, r3, #1
 1035 0314 7B63     		str	r3, [r7, #52]
 830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       dataremaining--;
 1036              		.loc 1 830 20
 1037 0316 FB6B     		ldr	r3, [r7, #60]
 1038 0318 013B     		subs	r3, r3, #1
 1039 031a FB63     		str	r3, [r7, #60]
 831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 1040              		.loc 1 831 35
 1041 031c FB6A     		ldr	r3, [r7, #44]
 1042 031e 1B0E     		lsrs	r3, r3, #24
 1043              		.loc 1 831 19
 1044 0320 DAB2     		uxtb	r2, r3
 1045              		.loc 1 831 17
 1046 0322 7B6B     		ldr	r3, [r7, #52]
 1047 0324 1A70     		strb	r2, [r3]
 832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       tempbuff++;
 1048              		.loc 1 832 15
 1049 0326 7B6B     		ldr	r3, [r7, #52]
 1050 0328 0133     		adds	r3, r3, #1
 1051 032a 7B63     		str	r3, [r7, #52]
 833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       dataremaining--;
 1052              		.loc 1 833 20
 1053 032c FB6B     		ldr	r3, [r7, #60]
 1054 032e 013B     		subs	r3, r3, #1
 1055 0330 FB63     		str	r3, [r7, #60]
 834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
ARM GAS  /tmp/ccxVmGdL.s 			page 34


 835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (((HAL_GetTick() - tickstart) >=  Timeout) || (Timeout == 0U))
 1056              		.loc 1 835 13
 1057 0332 FFF7FEFF 		bl	HAL_GetTick
 1058 0336 0246     		mov	r2, r0
 1059              		.loc 1 835 27 discriminator 1
 1060 0338 3B6B     		ldr	r3, [r7, #48]
 1061 033a D31A     		subs	r3, r2, r3
 1062              		.loc 1 835 10 discriminator 1
 1063 033c 3A6D     		ldr	r2, [r7, #80]
 1064 033e 9A42     		cmp	r2, r3
 1065 0340 02D9     		bls	.L43
 1066              		.loc 1 835 53 discriminator 1
 1067 0342 3B6D     		ldr	r3, [r7, #80]
 1068 0344 002B     		cmp	r3, #0
 1069 0346 12D1     		bne	.L42
 1070              	.L43:
 836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Clear all the static flags */
 838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 1071              		.loc 1 838 9
 1072 0348 FB68     		ldr	r3, [r7, #12]
 1073 034a 1B68     		ldr	r3, [r3]
 1074 034c 184A     		ldr	r2, .L49
 1075 034e 9A63     		str	r2, [r3, #56]
 839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->ErrorCode |= HAL_MMC_ERROR_TIMEOUT;
 1076              		.loc 1 839 13
 1077 0350 FB68     		ldr	r3, [r7, #12]
 1078 0352 9B6B     		ldr	r3, [r3, #56]
 1079              		.loc 1 839 25
 1080 0354 43F00042 		orr	r2, r3, #-2147483648
 1081 0358 FB68     		ldr	r3, [r7, #12]
 1082 035a 9A63     		str	r2, [r3, #56]
 840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->State = HAL_MMC_STATE_READY;
 1083              		.loc 1 840 21
 1084 035c FB68     		ldr	r3, [r7, #12]
 1085 035e 0122     		movs	r2, #1
 1086 0360 83F83420 		strb	r2, [r3, #52]
 841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->Context = MMC_CONTEXT_NONE;
 1087              		.loc 1 841 23
 1088 0364 FB68     		ldr	r3, [r7, #12]
 1089 0366 0022     		movs	r2, #0
 1090 0368 1A63     		str	r2, [r3, #48]
 842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         return HAL_ERROR;
 1091              		.loc 1 842 16
 1092 036a 0123     		movs	r3, #1
 1093 036c 1BE0     		b	.L46
 1094              	.L42:
 819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 1095              		.loc 1 819 13
 1096 036e FB68     		ldr	r3, [r7, #12]
 1097 0370 1B68     		ldr	r3, [r3]
 1098 0372 5B6B     		ldr	r3, [r3, #52]
 1099 0374 03F40013 		and	r3, r3, #2097152
 819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 1100              		.loc 1 819 58
 1101 0378 002B     		cmp	r3, #0
 1102 037a 02D0     		beq	.L44
ARM GAS  /tmp/ccxVmGdL.s 			page 35


 819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 1103              		.loc 1 819 58 is_stmt 0 discriminator 1
 1104 037c FB6B     		ldr	r3, [r7, #60]
 1105 037e 002B     		cmp	r3, #0
 1106 0380 A6D1     		bne	.L45
 1107              	.L44:
 843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
 844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Clear all the static flags */
 849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_DATA_FLAGS);
 1108              		.loc 1 849 5 is_stmt 1
 1109 0382 FB68     		ldr	r3, [r7, #12]
 1110 0384 1B68     		ldr	r3, [r3]
 1111 0386 40F23A52 		movw	r2, #1338
 1112 038a 9A63     		str	r2, [r3, #56]
 850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
 1113              		.loc 1 851 17
 1114 038c FB68     		ldr	r3, [r7, #12]
 1115 038e 0122     		movs	r2, #1
 1116 0390 83F83420 		strb	r2, [r3, #52]
 852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_OK;
 1117              		.loc 1 853 12
 1118 0394 0023     		movs	r3, #0
 1119 0396 06E0     		b	.L46
 1120              	.L26:
 854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
 855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
 856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= HAL_MMC_ERROR_BUSY;
 1121              		.loc 1 857 9
 1122 0398 FB68     		ldr	r3, [r7, #12]
 1123 039a 9B6B     		ldr	r3, [r3, #56]
 1124              		.loc 1 857 21
 1125 039c 43F00052 		orr	r2, r3, #536870912
 1126 03a0 FB68     		ldr	r3, [r7, #12]
 1127 03a2 9A63     		str	r2, [r3, #56]
 858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 1128              		.loc 1 858 12
 1129 03a4 0123     		movs	r3, #1
 1130              	.L46:
 859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
 860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 1131              		.loc 1 860 1
 1132 03a6 1846     		mov	r0, r3
 1133 03a8 4837     		adds	r7, r7, #72
 1134              		.cfi_def_cfa_offset 8
 1135 03aa BD46     		mov	sp, r7
 1136              		.cfi_def_cfa_register 13
 1137              		@ sp needed
 1138 03ac 80BD     		pop	{r7, pc}
 1139              	.L50:
 1140 03ae 00BF     		.align	2
ARM GAS  /tmp/ccxVmGdL.s 			page 36


 1141              	.L49:
 1142 03b0 FF054000 		.word	4195839
 1143              		.cfi_endproc
 1144              	.LFE450:
 1146              		.section	.text.HAL_MMC_WriteBlocks,"ax",%progbits
 1147              		.align	1
 1148              		.global	HAL_MMC_WriteBlocks
 1149              		.syntax unified
 1150              		.thumb
 1151              		.thumb_func
 1153              	HAL_MMC_WriteBlocks:
 1154              	.LFB451:
 861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
 863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Allows to write block(s) to a specified address in a card. The Data
 864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         transfer is managed by polling mode.
 865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @note   This API should be followed by a check on the card state through
 866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         HAL_MMC_GetCardState().
 867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to MMC handle
 868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  pData: pointer to the buffer that will contain the data to transmit
 869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  BlockAdd: Block Address where data will be written
 870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  NumberOfBlocks: Number of MMC blocks to write
 871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  Timeout: Specify timeout value
 872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
 873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
 874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_WriteBlocks(MMC_HandleTypeDef *hmmc, const uint8_t *pData, uint32_t Block
 875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                                       uint32_t NumberOfBlocks, uint32_t Timeout)
 876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 1155              		.loc 1 876 1
 1156              		.cfi_startproc
 1157              		@ args = 4, pretend = 0, frame = 72
 1158              		@ frame_needed = 1, uses_anonymous_args = 0
 1159 0000 80B5     		push	{r7, lr}
 1160              		.cfi_def_cfa_offset 8
 1161              		.cfi_offset 7, -8
 1162              		.cfi_offset 14, -4
 1163 0002 92B0     		sub	sp, sp, #72
 1164              		.cfi_def_cfa_offset 80
 1165 0004 00AF     		add	r7, sp, #0
 1166              		.cfi_def_cfa_register 7
 1167 0006 F860     		str	r0, [r7, #12]
 1168 0008 B960     		str	r1, [r7, #8]
 1169 000a 7A60     		str	r2, [r7, #4]
 1170 000c 3B60     		str	r3, [r7]
 877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   SDMMC_DataInitTypeDef config;
 878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate;
 879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t tickstart = HAL_GetTick();
 1171              		.loc 1 879 24
 1172 000e FFF7FEFF 		bl	HAL_GetTick
 1173 0012 3863     		str	r0, [r7, #48]
 880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t count, data, dataremaining;
 881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t add = BlockAdd;
 1174              		.loc 1 881 12
 1175 0014 7B68     		ldr	r3, [r7, #4]
 1176 0016 BB63     		str	r3, [r7, #56]
 882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   const uint8_t *tempbuff = pData;
 1177              		.loc 1 882 18
ARM GAS  /tmp/ccxVmGdL.s 			page 37


 1178 0018 BB68     		ldr	r3, [r7, #8]
 1179 001a 7B63     		str	r3, [r7, #52]
 883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (NULL == pData)
 1180              		.loc 1 884 6
 1181 001c BB68     		ldr	r3, [r7, #8]
 1182 001e 002B     		cmp	r3, #0
 1183 0020 07D1     		bne	.L52
 885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= HAL_MMC_ERROR_PARAM;
 1184              		.loc 1 886 9
 1185 0022 FB68     		ldr	r3, [r7, #12]
 1186 0024 9B6B     		ldr	r3, [r3, #56]
 1187              		.loc 1 886 21
 1188 0026 43F00062 		orr	r2, r3, #134217728
 1189 002a FB68     		ldr	r3, [r7, #12]
 1190 002c 9A63     		str	r2, [r3, #56]
 887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 1191              		.loc 1 887 12
 1192 002e 0123     		movs	r3, #1
 1193 0030 61E1     		b	.L70
 1194              	.L52:
 888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
 889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->State == HAL_MMC_STATE_READY)
 1195              		.loc 1 890 11
 1196 0032 FB68     		ldr	r3, [r7, #12]
 1197 0034 93F83430 		ldrb	r3, [r3, #52]
 1198 0038 DBB2     		uxtb	r3, r3
 1199              		.loc 1 890 6
 1200 003a 012B     		cmp	r3, #1
 1201 003c 40F05481 		bne	.L54
 891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode = HAL_MMC_ERROR_NONE;
 1202              		.loc 1 892 21
 1203 0040 FB68     		ldr	r3, [r7, #12]
 1204 0042 0022     		movs	r2, #0
 1205 0044 9A63     		str	r2, [r3, #56]
 893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((add + NumberOfBlocks) > (hmmc->MmcCard.LogBlockNbr))
 1206              		.loc 1 894 14
 1207 0046 BA6B     		ldr	r2, [r7, #56]
 1208 0048 3B68     		ldr	r3, [r7]
 1209 004a 1A44     		add	r2, r2, r3
 1210              		.loc 1 894 48
 1211 004c FB68     		ldr	r3, [r7, #12]
 1212 004e 9B6D     		ldr	r3, [r3, #88]
 1213              		.loc 1 894 8
 1214 0050 9A42     		cmp	r2, r3
 1215 0052 07D9     		bls	.L55
 895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_ADDR_OUT_OF_RANGE;
 1216              		.loc 1 896 11
 1217 0054 FB68     		ldr	r3, [r7, #12]
 1218 0056 9B6B     		ldr	r3, [r3, #56]
 1219              		.loc 1 896 23
 1220 0058 43F00072 		orr	r2, r3, #33554432
ARM GAS  /tmp/ccxVmGdL.s 			page 38


 1221 005c FB68     		ldr	r3, [r7, #12]
 1222 005e 9A63     		str	r2, [r3, #56]
 897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 1223              		.loc 1 897 14
 1224 0060 0123     		movs	r3, #1
 1225 0062 48E1     		b	.L70
 1226              	.L55:
 898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_BUSY;
 1227              		.loc 1 900 17
 1228 0064 FB68     		ldr	r3, [r7, #12]
 1229 0066 0322     		movs	r2, #3
 1230 0068 83F83420 		strb	r2, [r3, #52]
 901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Initialize data control register */
 903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Instance->DCTRL = 0U;
 1231              		.loc 1 903 9
 1232 006c FB68     		ldr	r3, [r7, #12]
 1233 006e 1B68     		ldr	r3, [r3]
 1234              		.loc 1 903 27
 1235 0070 0022     		movs	r2, #0
 1236 0072 DA62     		str	r2, [r3, #44]
 904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((hmmc->MmcCard.CardType) != MMC_HIGH_CAPACITY_CARD)
 1237              		.loc 1 905 23
 1238 0074 FB68     		ldr	r3, [r7, #12]
 1239 0076 5B6C     		ldr	r3, [r3, #68]
 1240              		.loc 1 905 8
 1241 0078 012B     		cmp	r3, #1
 1242 007a 02D0     		beq	.L56
 906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       add *= 512U;
 1243              		.loc 1 907 11
 1244 007c BB6B     		ldr	r3, [r7, #56]
 1245 007e 5B02     		lsls	r3, r3, #9
 1246 0080 BB63     		str	r3, [r7, #56]
 1247              	.L56:
 908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Configure the MMC DPSM (Data Path State Machine) */
 912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataLength    = NumberOfBlocks * MMC_BLOCKSIZE;
 914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (void)SDMMC_ConfigData(hmmc->Instance, &config);
 919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __SDMMC_CMDTRANS_ENABLE(hmmc->Instance);
 920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Write Blocks in Polling mode */
 923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (NumberOfBlocks > 1U)
 1248              		.loc 1 923 8
 1249 0082 3B68     		ldr	r3, [r7]
 1250 0084 012B     		cmp	r3, #1
ARM GAS  /tmp/ccxVmGdL.s 			page 39


 1251 0086 0AD9     		bls	.L57
 924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_WRITE_MULTIPLE_BLOCK;
 1252              		.loc 1 925 21
 1253 0088 FB68     		ldr	r3, [r7, #12]
 1254 008a 2022     		movs	r2, #32
 1255 008c 1A63     		str	r2, [r3, #48]
 926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Write Multi Block command */
 928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hmmc->Instance, add);
 1256              		.loc 1 928 20
 1257 008e FB68     		ldr	r3, [r7, #12]
 1258 0090 1B68     		ldr	r3, [r3]
 1259 0092 B96B     		ldr	r1, [r7, #56]
 1260 0094 1846     		mov	r0, r3
 1261 0096 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 1262 009a 7864     		str	r0, [r7, #68]
 1263 009c 09E0     		b	.L58
 1264              	.L57:
 929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
 931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_WRITE_SINGLE_BLOCK;
 1265              		.loc 1 932 21
 1266 009e FB68     		ldr	r3, [r7, #12]
 1267 00a0 1022     		movs	r2, #16
 1268 00a2 1A63     		str	r2, [r3, #48]
 933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Write Single Block command */
 935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hmmc->Instance, add);
 1269              		.loc 1 935 20
 1270 00a4 FB68     		ldr	r3, [r7, #12]
 1271 00a6 1B68     		ldr	r3, [r3]
 1272 00a8 B96B     		ldr	r1, [r7, #56]
 1273 00aa 1846     		mov	r0, r3
 1274 00ac FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 1275 00b0 7864     		str	r0, [r7, #68]
 1276              	.L58:
 936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate != HAL_MMC_ERROR_NONE)
 1277              		.loc 1 937 8
 1278 00b2 7B6C     		ldr	r3, [r7, #68]
 1279 00b4 002B     		cmp	r3, #0
 1280 00b6 12D0     		beq	.L59
 938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
 940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 1281              		.loc 1 940 7
 1282 00b8 FB68     		ldr	r3, [r7, #12]
 1283 00ba 1B68     		ldr	r3, [r3]
 1284 00bc 904A     		ldr	r2, .L71
 1285 00be 9A63     		str	r2, [r3, #56]
 941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= errorstate;
 1286              		.loc 1 941 11
 1287 00c0 FB68     		ldr	r3, [r7, #12]
 1288 00c2 9A6B     		ldr	r2, [r3, #56]
 1289              		.loc 1 941 23
ARM GAS  /tmp/ccxVmGdL.s 			page 40


 1290 00c4 7B6C     		ldr	r3, [r7, #68]
 1291 00c6 1A43     		orrs	r2, r2, r3
 1292 00c8 FB68     		ldr	r3, [r7, #12]
 1293 00ca 9A63     		str	r2, [r3, #56]
 942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 1294              		.loc 1 942 19
 1295 00cc FB68     		ldr	r3, [r7, #12]
 1296 00ce 0122     		movs	r2, #1
 1297 00d0 83F83420 		strb	r2, [r3, #52]
 943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_NONE;
 1298              		.loc 1 943 21
 1299 00d4 FB68     		ldr	r3, [r7, #12]
 1300 00d6 0022     		movs	r2, #0
 1301 00d8 1A63     		str	r2, [r3, #48]
 944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 1302              		.loc 1 944 14
 1303 00da 0123     		movs	r3, #1
 1304 00dc 0BE1     		b	.L70
 1305              	.L59:
 945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Configure the MMC DPSM (Data Path State Machine) */
 949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 1306              		.loc 1 949 26
 1307 00de 4FF0FF33 		mov	r3, #-1
 1308 00e2 BB61     		str	r3, [r7, #24]
 950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataLength    = NumberOfBlocks * MMC_BLOCKSIZE;
 1309              		.loc 1 950 43
 1310 00e4 3B68     		ldr	r3, [r7]
 1311 00e6 5B02     		lsls	r3, r3, #9
 1312              		.loc 1 950 26
 1313 00e8 FB61     		str	r3, [r7, #28]
 951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 1314              		.loc 1 951 26
 1315 00ea 9023     		movs	r3, #144
 1316 00ec 3B62     		str	r3, [r7, #32]
 952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 1317              		.loc 1 952 26
 1318 00ee 0023     		movs	r3, #0
 1319 00f0 7B62     		str	r3, [r7, #36]
 953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1320              		.loc 1 953 26
 1321 00f2 0023     		movs	r3, #0
 1322 00f4 BB62     		str	r3, [r7, #40]
 954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DPSM          = SDMMC_DPSM_ENABLE;
 1323              		.loc 1 954 26
 1324 00f6 0123     		movs	r3, #1
 1325 00f8 FB62     		str	r3, [r7, #44]
 955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (void)SDMMC_ConfigData(hmmc->Instance, &config);
 1326              		.loc 1 955 11
 1327 00fa FB68     		ldr	r3, [r7, #12]
 1328 00fc 1B68     		ldr	r3, [r3]
 1329 00fe 07F11802 		add	r2, r7, #24
 1330 0102 1146     		mov	r1, r2
 1331 0104 1846     		mov	r0, r3
 1332 0106 FFF7FEFF 		bl	SDMMC_ConfigData
ARM GAS  /tmp/ccxVmGdL.s 			page 41


 956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Write block(s) in polling mode */
 959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     dataremaining = config.DataLength;
 1333              		.loc 1 959 19
 1334 010a FB69     		ldr	r3, [r7, #28]
 1335 010c FB63     		str	r3, [r7, #60]
 960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     while (!__HAL_MMC_GET_FLAG(hmmc,
 1336              		.loc 1 960 11
 1337 010e 65E0     		b	.L60
 1338              	.L65:
 961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                                SDMMC_FLAG_TXUNDERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SD
 962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_TXFIFOHE) && (dataremaining > 0U))
 1339              		.loc 1 963 11
 1340 0110 FB68     		ldr	r3, [r7, #12]
 1341 0112 1B68     		ldr	r3, [r3]
 1342 0114 5B6B     		ldr	r3, [r3, #52]
 1343 0116 03F48043 		and	r3, r3, #16384
 1344              		.loc 1 963 10
 1345 011a 002B     		cmp	r3, #0
 1346 011c 40D0     		beq	.L61
 1347              		.loc 1 963 57 discriminator 1
 1348 011e FB6B     		ldr	r3, [r7, #60]
 1349 0120 002B     		cmp	r3, #0
 1350 0122 3DD0     		beq	.L61
 964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Write data to SDMMC Tx FIFO */
 966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         for (count = 0U; count < 8U; count++)
 1351              		.loc 1 966 20
 1352 0124 0023     		movs	r3, #0
 1353 0126 3B64     		str	r3, [r7, #64]
 1354              		.loc 1 966 9
 1355 0128 37E0     		b	.L62
 1356              	.L63:
 967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
 968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           data = (uint32_t)(*tempbuff);
 1357              		.loc 1 968 29
 1358 012a 7B6B     		ldr	r3, [r7, #52]
 1359 012c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1360              		.loc 1 968 16
 1361 012e 7B61     		str	r3, [r7, #20]
 969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           tempbuff++;
 1362              		.loc 1 969 19
 1363 0130 7B6B     		ldr	r3, [r7, #52]
 1364 0132 0133     		adds	r3, r3, #1
 1365 0134 7B63     		str	r3, [r7, #52]
 970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           dataremaining--;
 1366              		.loc 1 970 24
 1367 0136 FB6B     		ldr	r3, [r7, #60]
 1368 0138 013B     		subs	r3, r3, #1
 1369 013a FB63     		str	r3, [r7, #60]
 971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           data |= ((uint32_t)(*tempbuff) << 8U);
 1370              		.loc 1 971 31
 1371 013c 7B6B     		ldr	r3, [r7, #52]
 1372 013e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1373              		.loc 1 971 42
ARM GAS  /tmp/ccxVmGdL.s 			page 42


 1374 0140 1A02     		lsls	r2, r3, #8
 1375              		.loc 1 971 16
 1376 0142 7B69     		ldr	r3, [r7, #20]
 1377 0144 1343     		orrs	r3, r3, r2
 1378 0146 7B61     		str	r3, [r7, #20]
 972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           tempbuff++;
 1379              		.loc 1 972 19
 1380 0148 7B6B     		ldr	r3, [r7, #52]
 1381 014a 0133     		adds	r3, r3, #1
 1382 014c 7B63     		str	r3, [r7, #52]
 973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           dataremaining--;
 1383              		.loc 1 973 24
 1384 014e FB6B     		ldr	r3, [r7, #60]
 1385 0150 013B     		subs	r3, r3, #1
 1386 0152 FB63     		str	r3, [r7, #60]
 974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           data |= ((uint32_t)(*tempbuff) << 16U);
 1387              		.loc 1 974 31
 1388 0154 7B6B     		ldr	r3, [r7, #52]
 1389 0156 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1390              		.loc 1 974 42
 1391 0158 1A04     		lsls	r2, r3, #16
 1392              		.loc 1 974 16
 1393 015a 7B69     		ldr	r3, [r7, #20]
 1394 015c 1343     		orrs	r3, r3, r2
 1395 015e 7B61     		str	r3, [r7, #20]
 975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           tempbuff++;
 1396              		.loc 1 975 19
 1397 0160 7B6B     		ldr	r3, [r7, #52]
 1398 0162 0133     		adds	r3, r3, #1
 1399 0164 7B63     		str	r3, [r7, #52]
 976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           dataremaining--;
 1400              		.loc 1 976 24
 1401 0166 FB6B     		ldr	r3, [r7, #60]
 1402 0168 013B     		subs	r3, r3, #1
 1403 016a FB63     		str	r3, [r7, #60]
 977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           data |= ((uint32_t)(*tempbuff) << 24U);
 1404              		.loc 1 977 31
 1405 016c 7B6B     		ldr	r3, [r7, #52]
 1406 016e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1407              		.loc 1 977 42
 1408 0170 1A06     		lsls	r2, r3, #24
 1409              		.loc 1 977 16
 1410 0172 7B69     		ldr	r3, [r7, #20]
 1411 0174 1343     		orrs	r3, r3, r2
 1412 0176 7B61     		str	r3, [r7, #20]
 978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           tempbuff++;
 1413              		.loc 1 978 19
 1414 0178 7B6B     		ldr	r3, [r7, #52]
 1415 017a 0133     		adds	r3, r3, #1
 1416 017c 7B63     		str	r3, [r7, #52]
 979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           dataremaining--;
 1417              		.loc 1 979 24
 1418 017e FB6B     		ldr	r3, [r7, #60]
 1419 0180 013B     		subs	r3, r3, #1
 1420 0182 FB63     		str	r3, [r7, #60]
 980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           (void)SDMMC_WriteFIFO(hmmc->Instance, &data);
 1421              		.loc 1 980 17
ARM GAS  /tmp/ccxVmGdL.s 			page 43


 1422 0184 FB68     		ldr	r3, [r7, #12]
 1423 0186 1B68     		ldr	r3, [r3]
 1424 0188 07F11402 		add	r2, r7, #20
 1425 018c 1146     		mov	r1, r2
 1426 018e 1846     		mov	r0, r3
 1427 0190 FFF7FEFF 		bl	SDMMC_WriteFIFO
 966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
 1428              		.loc 1 966 43 discriminator 3
 1429 0194 3B6C     		ldr	r3, [r7, #64]
 1430 0196 0133     		adds	r3, r3, #1
 1431 0198 3B64     		str	r3, [r7, #64]
 1432              	.L62:
 966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
 1433              		.loc 1 966 32 discriminator 1
 1434 019a 3B6C     		ldr	r3, [r7, #64]
 1435 019c 072B     		cmp	r3, #7
 1436 019e C4D9     		bls	.L63
 1437              	.L61:
 981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
 982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
 983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (((HAL_GetTick() - tickstart) >=  Timeout) || (Timeout == 0U))
 1438              		.loc 1 984 13
 1439 01a0 FFF7FEFF 		bl	HAL_GetTick
 1440 01a4 0246     		mov	r2, r0
 1441              		.loc 1 984 27 discriminator 1
 1442 01a6 3B6B     		ldr	r3, [r7, #48]
 1443 01a8 D31A     		subs	r3, r2, r3
 1444              		.loc 1 984 10 discriminator 1
 1445 01aa 3A6D     		ldr	r2, [r7, #80]
 1446 01ac 9A42     		cmp	r2, r3
 1447 01ae 02D9     		bls	.L64
 1448              		.loc 1 984 53 discriminator 1
 1449 01b0 3B6D     		ldr	r3, [r7, #80]
 1450 01b2 002B     		cmp	r3, #0
 1451 01b4 12D1     		bne	.L60
 1452              	.L64:
 985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Clear all the static flags */
 987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 1453              		.loc 1 987 9
 1454 01b6 FB68     		ldr	r3, [r7, #12]
 1455 01b8 1B68     		ldr	r3, [r3]
 1456 01ba 514A     		ldr	r2, .L71
 1457 01bc 9A63     		str	r2, [r3, #56]
 988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->ErrorCode |= errorstate;
 1458              		.loc 1 988 13
 1459 01be FB68     		ldr	r3, [r7, #12]
 1460 01c0 9A6B     		ldr	r2, [r3, #56]
 1461              		.loc 1 988 25
 1462 01c2 7B6C     		ldr	r3, [r7, #68]
 1463 01c4 1A43     		orrs	r2, r2, r3
 1464 01c6 FB68     		ldr	r3, [r7, #12]
 1465 01c8 9A63     		str	r2, [r3, #56]
 989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->State = HAL_MMC_STATE_READY;
 1466              		.loc 1 989 21
 1467 01ca FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccxVmGdL.s 			page 44


 1468 01cc 0122     		movs	r2, #1
 1469 01ce 83F83420 		strb	r2, [r3, #52]
 990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->Context = MMC_CONTEXT_NONE;
 1470              		.loc 1 990 23
 1471 01d2 FB68     		ldr	r3, [r7, #12]
 1472 01d4 0022     		movs	r2, #0
 1473 01d6 1A63     		str	r2, [r3, #48]
 991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         return HAL_TIMEOUT;
 1474              		.loc 1 991 16
 1475 01d8 0323     		movs	r3, #3
 1476 01da 8CE0     		b	.L70
 1477              	.L60:
 960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                                SDMMC_FLAG_TXUNDERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SD
 1478              		.loc 1 960 13
 1479 01dc FB68     		ldr	r3, [r7, #12]
 1480 01de 1B68     		ldr	r3, [r3]
 1481 01e0 5B6B     		ldr	r3, [r3, #52]
 1482 01e2 03F48D73 		and	r3, r3, #282
 960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                                SDMMC_FLAG_TXUNDERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SD
 1483              		.loc 1 960 12
 1484 01e6 002B     		cmp	r3, #0
 1485 01e8 92D0     		beq	.L65
 992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
 993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __SDMMC_CMDTRANS_DISABLE(hmmc->Instance);
 996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Send stop transmission command in case of multiblock write */
 999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 1486              		.loc 1 999 9
 1487 01ea FB68     		ldr	r3, [r7, #12]
 1488 01ec 1B68     		ldr	r3, [r3]
 1489 01ee 5B6B     		ldr	r3, [r3, #52]
 1490 01f0 03F48073 		and	r3, r3, #256
 1491              		.loc 1 999 8
 1492 01f4 002B     		cmp	r3, #0
 1493 01f6 1ED0     		beq	.L66
 1494              		.loc 1 999 54 discriminator 1
 1495 01f8 3B68     		ldr	r3, [r7]
 1496 01fa 012B     		cmp	r3, #1
 1497 01fc 1BD9     		bls	.L66
1000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Send stop transmission command */
1002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdStopTransfer(hmmc->Instance);
 1498              		.loc 1 1002 20
 1499 01fe FB68     		ldr	r3, [r7, #12]
 1500 0200 1B68     		ldr	r3, [r3]
 1501 0202 1846     		mov	r0, r3
 1502 0204 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 1503 0208 7864     		str	r0, [r7, #68]
1003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (errorstate != HAL_MMC_ERROR_NONE)
 1504              		.loc 1 1003 10
 1505 020a 7B6C     		ldr	r3, [r7, #68]
 1506 020c 002B     		cmp	r3, #0
 1507 020e 12D0     		beq	.L66
1004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
ARM GAS  /tmp/ccxVmGdL.s 			page 45


1005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Clear all the static flags */
1006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 1508              		.loc 1 1006 9
 1509 0210 FB68     		ldr	r3, [r7, #12]
 1510 0212 1B68     		ldr	r3, [r3]
 1511 0214 3A4A     		ldr	r2, .L71
 1512 0216 9A63     		str	r2, [r3, #56]
1007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->ErrorCode |= errorstate;
 1513              		.loc 1 1007 13
 1514 0218 FB68     		ldr	r3, [r7, #12]
 1515 021a 9A6B     		ldr	r2, [r3, #56]
 1516              		.loc 1 1007 25
 1517 021c 7B6C     		ldr	r3, [r7, #68]
 1518 021e 1A43     		orrs	r2, r2, r3
 1519 0220 FB68     		ldr	r3, [r7, #12]
 1520 0222 9A63     		str	r2, [r3, #56]
1008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->State = HAL_MMC_STATE_READY;
 1521              		.loc 1 1008 21
 1522 0224 FB68     		ldr	r3, [r7, #12]
 1523 0226 0122     		movs	r2, #1
 1524 0228 83F83420 		strb	r2, [r3, #52]
1009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->Context = MMC_CONTEXT_NONE;
 1525              		.loc 1 1009 23
 1526 022c FB68     		ldr	r3, [r7, #12]
 1527 022e 0022     		movs	r2, #0
 1528 0230 1A63     		str	r2, [r3, #48]
1010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         return HAL_ERROR;
 1529              		.loc 1 1010 16
 1530 0232 0123     		movs	r3, #1
 1531 0234 5FE0     		b	.L70
 1532              	.L66:
1011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
1012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Get error state */
1015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_DTIMEOUT))
 1533              		.loc 1 1015 9
 1534 0236 FB68     		ldr	r3, [r7, #12]
 1535 0238 1B68     		ldr	r3, [r3]
 1536 023a 5B6B     		ldr	r3, [r3, #52]
 1537 023c 03F00803 		and	r3, r3, #8
 1538              		.loc 1 1015 8
 1539 0240 002B     		cmp	r3, #0
 1540 0242 12D0     		beq	.L67
1016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
1018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 1541              		.loc 1 1018 7
 1542 0244 FB68     		ldr	r3, [r7, #12]
 1543 0246 1B68     		ldr	r3, [r3]
 1544 0248 2D4A     		ldr	r2, .L71
 1545 024a 9A63     		str	r2, [r3, #56]
1019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_DATA_TIMEOUT;
 1546              		.loc 1 1019 11
 1547 024c FB68     		ldr	r3, [r7, #12]
 1548 024e 9B6B     		ldr	r3, [r3, #56]
 1549              		.loc 1 1019 23
ARM GAS  /tmp/ccxVmGdL.s 			page 46


 1550 0250 43F00802 		orr	r2, r3, #8
 1551 0254 FB68     		ldr	r3, [r7, #12]
 1552 0256 9A63     		str	r2, [r3, #56]
1020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 1553              		.loc 1 1020 19
 1554 0258 FB68     		ldr	r3, [r7, #12]
 1555 025a 0122     		movs	r2, #1
 1556 025c 83F83420 		strb	r2, [r3, #52]
1021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_NONE;
 1557              		.loc 1 1021 21
 1558 0260 FB68     		ldr	r3, [r7, #12]
 1559 0262 0022     		movs	r2, #0
 1560 0264 1A63     		str	r2, [r3, #48]
1022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 1561              		.loc 1 1022 14
 1562 0266 0123     		movs	r3, #1
 1563 0268 45E0     		b	.L70
 1564              	.L67:
1023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_DCRCFAIL))
 1565              		.loc 1 1024 14
 1566 026a FB68     		ldr	r3, [r7, #12]
 1567 026c 1B68     		ldr	r3, [r3]
 1568 026e 5B6B     		ldr	r3, [r3, #52]
 1569 0270 03F00203 		and	r3, r3, #2
 1570              		.loc 1 1024 13
 1571 0274 002B     		cmp	r3, #0
 1572 0276 12D0     		beq	.L68
1025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
1027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 1573              		.loc 1 1027 7
 1574 0278 FB68     		ldr	r3, [r7, #12]
 1575 027a 1B68     		ldr	r3, [r3]
 1576 027c 204A     		ldr	r2, .L71
 1577 027e 9A63     		str	r2, [r3, #56]
1028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_DATA_CRC_FAIL;
 1578              		.loc 1 1028 11
 1579 0280 FB68     		ldr	r3, [r7, #12]
 1580 0282 9B6B     		ldr	r3, [r3, #56]
 1581              		.loc 1 1028 23
 1582 0284 43F00202 		orr	r2, r3, #2
 1583 0288 FB68     		ldr	r3, [r7, #12]
 1584 028a 9A63     		str	r2, [r3, #56]
1029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 1585              		.loc 1 1029 19
 1586 028c FB68     		ldr	r3, [r7, #12]
 1587 028e 0122     		movs	r2, #1
 1588 0290 83F83420 		strb	r2, [r3, #52]
1030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_NONE;
 1589              		.loc 1 1030 21
 1590 0294 FB68     		ldr	r3, [r7, #12]
 1591 0296 0022     		movs	r2, #0
 1592 0298 1A63     		str	r2, [r3, #48]
1031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 1593              		.loc 1 1031 14
 1594 029a 0123     		movs	r3, #1
ARM GAS  /tmp/ccxVmGdL.s 			page 47


 1595 029c 2BE0     		b	.L70
 1596              	.L68:
1032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_TXUNDERR))
 1597              		.loc 1 1033 14
 1598 029e FB68     		ldr	r3, [r7, #12]
 1599 02a0 1B68     		ldr	r3, [r3]
 1600 02a2 5B6B     		ldr	r3, [r3, #52]
 1601 02a4 03F01003 		and	r3, r3, #16
 1602              		.loc 1 1033 13
 1603 02a8 002B     		cmp	r3, #0
 1604 02aa 12D0     		beq	.L69
1034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
1036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 1605              		.loc 1 1036 7
 1606 02ac FB68     		ldr	r3, [r7, #12]
 1607 02ae 1B68     		ldr	r3, [r3]
 1608 02b0 134A     		ldr	r2, .L71
 1609 02b2 9A63     		str	r2, [r3, #56]
1037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_TX_UNDERRUN;
 1610              		.loc 1 1037 11
 1611 02b4 FB68     		ldr	r3, [r7, #12]
 1612 02b6 9B6B     		ldr	r3, [r3, #56]
 1613              		.loc 1 1037 23
 1614 02b8 43F01002 		orr	r2, r3, #16
 1615 02bc FB68     		ldr	r3, [r7, #12]
 1616 02be 9A63     		str	r2, [r3, #56]
1038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 1617              		.loc 1 1038 19
 1618 02c0 FB68     		ldr	r3, [r7, #12]
 1619 02c2 0122     		movs	r2, #1
 1620 02c4 83F83420 		strb	r2, [r3, #52]
1039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_NONE;
 1621              		.loc 1 1039 21
 1622 02c8 FB68     		ldr	r3, [r7, #12]
 1623 02ca 0022     		movs	r2, #0
 1624 02cc 1A63     		str	r2, [r3, #48]
1040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 1625              		.loc 1 1040 14
 1626 02ce 0123     		movs	r3, #1
 1627 02d0 11E0     		b	.L70
 1628              	.L69:
1041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
1043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Nothing to do */
1045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Clear all the static flags */
1048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_DATA_FLAGS);
 1629              		.loc 1 1048 5
 1630 02d2 FB68     		ldr	r3, [r7, #12]
 1631 02d4 1B68     		ldr	r3, [r3]
 1632 02d6 40F23A52 		movw	r2, #1338
 1633 02da 9A63     		str	r2, [r3, #56]
1049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
ARM GAS  /tmp/ccxVmGdL.s 			page 48


1050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
 1634              		.loc 1 1050 17
 1635 02dc FB68     		ldr	r3, [r7, #12]
 1636 02de 0122     		movs	r2, #1
 1637 02e0 83F83420 		strb	r2, [r3, #52]
1051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_OK;
 1638              		.loc 1 1052 12
 1639 02e4 0023     		movs	r3, #0
 1640 02e6 06E0     		b	.L70
 1641              	.L54:
1053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
1054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
1055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
1056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= HAL_MMC_ERROR_BUSY;
 1642              		.loc 1 1056 9
 1643 02e8 FB68     		ldr	r3, [r7, #12]
 1644 02ea 9B6B     		ldr	r3, [r3, #56]
 1645              		.loc 1 1056 21
 1646 02ec 43F00052 		orr	r2, r3, #536870912
 1647 02f0 FB68     		ldr	r3, [r7, #12]
 1648 02f2 9A63     		str	r2, [r3, #56]
1057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 1649              		.loc 1 1057 12
 1650 02f4 0123     		movs	r3, #1
 1651              	.L70:
1058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
1059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 1652              		.loc 1 1059 1
 1653 02f6 1846     		mov	r0, r3
 1654 02f8 4837     		adds	r7, r7, #72
 1655              		.cfi_def_cfa_offset 8
 1656 02fa BD46     		mov	sp, r7
 1657              		.cfi_def_cfa_register 13
 1658              		@ sp needed
 1659 02fc 80BD     		pop	{r7, pc}
 1660              	.L72:
 1661 02fe 00BF     		.align	2
 1662              	.L71:
 1663 0300 FF054000 		.word	4195839
 1664              		.cfi_endproc
 1665              	.LFE451:
 1667              		.section	.text.HAL_MMC_ReadBlocks_IT,"ax",%progbits
 1668              		.align	1
 1669              		.global	HAL_MMC_ReadBlocks_IT
 1670              		.syntax unified
 1671              		.thumb
 1672              		.thumb_func
 1674              	HAL_MMC_ReadBlocks_IT:
 1675              	.LFB452:
1060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
1062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
1063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         is managed in interrupt mode.
1064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @note   This API should be followed by a check on the card state through
1065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         HAL_MMC_GetCardState().
1066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @note   You could also check the IT transfer process through the MMC Rx
ARM GAS  /tmp/ccxVmGdL.s 			page 49


1067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         interrupt event.
1068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to MMC handle
1069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  pData: Pointer to the buffer that will contain the received data
1070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  BlockAdd: Block Address from where data is to be read
1071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  NumberOfBlocks: Number of blocks to read.
1072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
1073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
1074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_ReadBlocks_IT(MMC_HandleTypeDef *hmmc, uint8_t *pData, uint32_t BlockAdd,
1075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                                         uint32_t NumberOfBlocks)
1076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 1676              		.loc 1 1076 1
 1677              		.cfi_startproc
 1678              		@ args = 0, pretend = 0, frame = 48
 1679              		@ frame_needed = 1, uses_anonymous_args = 0
 1680 0000 80B5     		push	{r7, lr}
 1681              		.cfi_def_cfa_offset 8
 1682              		.cfi_offset 7, -8
 1683              		.cfi_offset 14, -4
 1684 0002 8CB0     		sub	sp, sp, #48
 1685              		.cfi_def_cfa_offset 56
 1686 0004 00AF     		add	r7, sp, #0
 1687              		.cfi_def_cfa_register 7
 1688 0006 F860     		str	r0, [r7, #12]
 1689 0008 B960     		str	r1, [r7, #8]
 1690 000a 7A60     		str	r2, [r7, #4]
 1691 000c 3B60     		str	r3, [r7]
1077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   SDMMC_DataInitTypeDef config;
1078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate;
1079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t add = BlockAdd;
 1692              		.loc 1 1079 12
 1693 000e 7B68     		ldr	r3, [r7, #4]
 1694 0010 BB62     		str	r3, [r7, #40]
1080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (NULL == pData)
 1695              		.loc 1 1081 6
 1696 0012 BB68     		ldr	r3, [r7, #8]
 1697 0014 002B     		cmp	r3, #0
 1698 0016 07D1     		bne	.L74
1082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
1083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= HAL_MMC_ERROR_PARAM;
 1699              		.loc 1 1083 9
 1700 0018 FB68     		ldr	r3, [r7, #12]
 1701 001a 9B6B     		ldr	r3, [r3, #56]
 1702              		.loc 1 1083 21
 1703 001c 43F00062 		orr	r2, r3, #134217728
 1704 0020 FB68     		ldr	r3, [r7, #12]
 1705 0022 9A63     		str	r2, [r3, #56]
1084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 1706              		.loc 1 1084 12
 1707 0024 0123     		movs	r3, #1
 1708 0026 7EE0     		b	.L82
 1709              	.L74:
1085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
1086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->State == HAL_MMC_STATE_READY)
 1710              		.loc 1 1087 11
 1711 0028 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccxVmGdL.s 			page 50


 1712 002a 93F83430 		ldrb	r3, [r3, #52]
 1713 002e DBB2     		uxtb	r3, r3
 1714              		.loc 1 1087 6
 1715 0030 012B     		cmp	r3, #1
 1716 0032 77D1     		bne	.L76
1088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
1089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode = HAL_MMC_ERROR_NONE;
 1717              		.loc 1 1089 21
 1718 0034 FB68     		ldr	r3, [r7, #12]
 1719 0036 0022     		movs	r2, #0
 1720 0038 9A63     		str	r2, [r3, #56]
1090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((add + NumberOfBlocks) > (hmmc->MmcCard.LogBlockNbr))
 1721              		.loc 1 1091 14
 1722 003a BA6A     		ldr	r2, [r7, #40]
 1723 003c 3B68     		ldr	r3, [r7]
 1724 003e 1A44     		add	r2, r2, r3
 1725              		.loc 1 1091 48
 1726 0040 FB68     		ldr	r3, [r7, #12]
 1727 0042 9B6D     		ldr	r3, [r3, #88]
 1728              		.loc 1 1091 8
 1729 0044 9A42     		cmp	r2, r3
 1730 0046 07D9     		bls	.L77
1092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_ADDR_OUT_OF_RANGE;
 1731              		.loc 1 1093 11
 1732 0048 FB68     		ldr	r3, [r7, #12]
 1733 004a 9B6B     		ldr	r3, [r3, #56]
 1734              		.loc 1 1093 23
 1735 004c 43F00072 		orr	r2, r3, #33554432
 1736 0050 FB68     		ldr	r3, [r7, #12]
 1737 0052 9A63     		str	r2, [r3, #56]
1094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 1738              		.loc 1 1094 14
 1739 0054 0123     		movs	r3, #1
 1740 0056 66E0     		b	.L82
 1741              	.L77:
1095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_BUSY;
 1742              		.loc 1 1097 17
 1743 0058 FB68     		ldr	r3, [r7, #12]
 1744 005a 0322     		movs	r2, #3
 1745 005c 83F83420 		strb	r2, [r3, #52]
1098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Initialize data control register */
1100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Instance->DCTRL = 0U;
 1746              		.loc 1 1100 9
 1747 0060 FB68     		ldr	r3, [r7, #12]
 1748 0062 1B68     		ldr	r3, [r3]
 1749              		.loc 1 1100 27
 1750 0064 0022     		movs	r2, #0
 1751 0066 DA62     		str	r2, [r3, #44]
1101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->pRxBuffPtr = pData;
 1752              		.loc 1 1102 22
 1753 0068 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccxVmGdL.s 			page 51


 1754 006a BA68     		ldr	r2, [r7, #8]
 1755 006c 9A62     		str	r2, [r3, #40]
1103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->RxXferSize = MMC_BLOCKSIZE * NumberOfBlocks;
 1756              		.loc 1 1103 38
 1757 006e 3B68     		ldr	r3, [r7]
 1758 0070 5A02     		lsls	r2, r3, #9
 1759              		.loc 1 1103 22
 1760 0072 FB68     		ldr	r3, [r7, #12]
 1761 0074 DA62     		str	r2, [r3, #44]
1104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((hmmc->MmcCard.CardType) != MMC_HIGH_CAPACITY_CARD)
 1762              		.loc 1 1105 23
 1763 0076 FB68     		ldr	r3, [r7, #12]
 1764 0078 5B6C     		ldr	r3, [r3, #68]
 1765              		.loc 1 1105 8
 1766 007a 012B     		cmp	r3, #1
 1767 007c 02D0     		beq	.L78
1106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       add *= 512U;
 1768              		.loc 1 1107 11
 1769 007e BB6A     		ldr	r3, [r7, #40]
 1770 0080 5B02     		lsls	r3, r3, #9
 1771 0082 BB62     		str	r3, [r7, #40]
 1772              	.L78:
1108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Configure the MMC DPSM (Data Path State Machine) */
1111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 1773              		.loc 1 1111 26
 1774 0084 4FF0FF33 		mov	r3, #-1
 1775 0088 3B61     		str	r3, [r7, #16]
1112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataLength    = MMC_BLOCKSIZE * NumberOfBlocks;
 1776              		.loc 1 1112 42
 1777 008a 3B68     		ldr	r3, [r7]
 1778 008c 5B02     		lsls	r3, r3, #9
 1779              		.loc 1 1112 26
 1780 008e 7B61     		str	r3, [r7, #20]
1113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 1781              		.loc 1 1113 26
 1782 0090 9023     		movs	r3, #144
 1783 0092 BB61     		str	r3, [r7, #24]
1114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 1784              		.loc 1 1114 26
 1785 0094 0223     		movs	r3, #2
 1786 0096 FB61     		str	r3, [r7, #28]
1115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1787              		.loc 1 1115 26
 1788 0098 0023     		movs	r3, #0
 1789 009a 3B62     		str	r3, [r7, #32]
1116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
1117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DPSM          = SDMMC_DPSM_ENABLE;
 1790              		.loc 1 1117 26
 1791 009c 0123     		movs	r3, #1
 1792 009e 7B62     		str	r3, [r7, #36]
1118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
1120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
ARM GAS  /tmp/ccxVmGdL.s 			page 52


1121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (void)SDMMC_ConfigData(hmmc->Instance, &config);
 1793              		.loc 1 1121 11
 1794 00a0 FB68     		ldr	r3, [r7, #12]
 1795 00a2 1B68     		ldr	r3, [r3]
 1796 00a4 07F11002 		add	r2, r7, #16
 1797 00a8 1146     		mov	r1, r2
 1798 00aa 1846     		mov	r0, r3
 1799 00ac FFF7FEFF 		bl	SDMMC_ConfigData
1122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __SDMMC_CMDTRANS_ENABLE(hmmc->Instance);
1124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Read Blocks in IT mode */
1126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (NumberOfBlocks > 1U)
 1800              		.loc 1 1126 8
 1801 00b0 3B68     		ldr	r3, [r7]
 1802 00b2 012B     		cmp	r3, #1
 1803 00b4 0AD9     		bls	.L79
1127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = (MMC_CONTEXT_READ_MULTIPLE_BLOCK | MMC_CONTEXT_IT);
 1804              		.loc 1 1128 21
 1805 00b6 FB68     		ldr	r3, [r7, #12]
 1806 00b8 0A22     		movs	r2, #10
 1807 00ba 1A63     		str	r2, [r3, #48]
1129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Read Multi Block command */
1131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdReadMultiBlock(hmmc->Instance, add);
 1808              		.loc 1 1131 20
 1809 00bc FB68     		ldr	r3, [r7, #12]
 1810 00be 1B68     		ldr	r3, [r3]
 1811 00c0 B96A     		ldr	r1, [r7, #40]
 1812 00c2 1846     		mov	r0, r3
 1813 00c4 FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 1814 00c8 F862     		str	r0, [r7, #44]
 1815 00ca 09E0     		b	.L80
 1816              	.L79:
1132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
1134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = (MMC_CONTEXT_READ_SINGLE_BLOCK | MMC_CONTEXT_IT);
 1817              		.loc 1 1135 21
 1818 00cc FB68     		ldr	r3, [r7, #12]
 1819 00ce 0922     		movs	r2, #9
 1820 00d0 1A63     		str	r2, [r3, #48]
1136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Read Single Block command */
1138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdReadSingleBlock(hmmc->Instance, add);
 1821              		.loc 1 1138 20
 1822 00d2 FB68     		ldr	r3, [r7, #12]
 1823 00d4 1B68     		ldr	r3, [r3]
 1824 00d6 B96A     		ldr	r1, [r7, #40]
 1825 00d8 1846     		mov	r0, r3
 1826 00da FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 1827 00de F862     		str	r0, [r7, #44]
 1828              	.L80:
1139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate != HAL_MMC_ERROR_NONE)
ARM GAS  /tmp/ccxVmGdL.s 			page 53


 1829              		.loc 1 1141 8
 1830 00e0 FB6A     		ldr	r3, [r7, #44]
 1831 00e2 002B     		cmp	r3, #0
 1832 00e4 12D0     		beq	.L81
1142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
1144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 1833              		.loc 1 1144 7
 1834 00e6 FB68     		ldr	r3, [r7, #12]
 1835 00e8 1B68     		ldr	r3, [r3]
 1836 00ea 114A     		ldr	r2, .L83
 1837 00ec 9A63     		str	r2, [r3, #56]
1145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= errorstate;
 1838              		.loc 1 1145 11
 1839 00ee FB68     		ldr	r3, [r7, #12]
 1840 00f0 9A6B     		ldr	r2, [r3, #56]
 1841              		.loc 1 1145 23
 1842 00f2 FB6A     		ldr	r3, [r7, #44]
 1843 00f4 1A43     		orrs	r2, r2, r3
 1844 00f6 FB68     		ldr	r3, [r7, #12]
 1845 00f8 9A63     		str	r2, [r3, #56]
1146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 1846              		.loc 1 1146 19
 1847 00fa FB68     		ldr	r3, [r7, #12]
 1848 00fc 0122     		movs	r2, #1
 1849 00fe 83F83420 		strb	r2, [r3, #52]
1147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_NONE;
 1850              		.loc 1 1147 21
 1851 0102 FB68     		ldr	r3, [r7, #12]
 1852 0104 0022     		movs	r2, #0
 1853 0106 1A63     		str	r2, [r3, #48]
1148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 1854              		.loc 1 1148 14
 1855 0108 0123     		movs	r3, #1
 1856 010a 0CE0     		b	.L82
 1857              	.L81:
1149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_ENABLE_IT(hmmc,
 1858              		.loc 1 1151 5
 1859 010c FB68     		ldr	r3, [r7, #12]
 1860 010e 1B68     		ldr	r3, [r3]
 1861 0110 DB6B     		ldr	r3, [r3, #60]
 1862 0112 FA68     		ldr	r2, [r7, #12]
 1863 0114 1268     		ldr	r2, [r2]
 1864 0116 43F40143 		orr	r3, r3, #33024
 1865 011a 43F02A03 		orr	r3, r3, #42
 1866 011e D363     		str	r3, [r2, #60]
1152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                         (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_RXOVERR | SDMMC_IT_DATAEN
1153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                          SDMMC_FLAG_RXFIFOHF));
1154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_OK;
 1867              		.loc 1 1155 12
 1868 0120 0023     		movs	r3, #0
 1869 0122 00E0     		b	.L82
 1870              	.L76:
1156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
ARM GAS  /tmp/ccxVmGdL.s 			page 54


1157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
1158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
1159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_BUSY;
 1871              		.loc 1 1159 12
 1872 0124 0223     		movs	r3, #2
 1873              	.L82:
1160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
1161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 1874              		.loc 1 1161 1
 1875 0126 1846     		mov	r0, r3
 1876 0128 3037     		adds	r7, r7, #48
 1877              		.cfi_def_cfa_offset 8
 1878 012a BD46     		mov	sp, r7
 1879              		.cfi_def_cfa_register 13
 1880              		@ sp needed
 1881 012c 80BD     		pop	{r7, pc}
 1882              	.L84:
 1883 012e 00BF     		.align	2
 1884              	.L83:
 1885 0130 FF054000 		.word	4195839
 1886              		.cfi_endproc
 1887              	.LFE452:
 1889              		.section	.text.HAL_MMC_WriteBlocks_IT,"ax",%progbits
 1890              		.align	1
 1891              		.global	HAL_MMC_WriteBlocks_IT
 1892              		.syntax unified
 1893              		.thumb
 1894              		.thumb_func
 1896              	HAL_MMC_WriteBlocks_IT:
 1897              	.LFB453:
1162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
1164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer
1165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         is managed in interrupt mode.
1166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @note   This API should be followed by a check on the card state through
1167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         HAL_MMC_GetCardState().
1168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @note   You could also check the IT transfer process through the MMC Tx
1169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         interrupt event.
1170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to MMC handle
1171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  pData: Pointer to the buffer that will contain the data to transmit
1172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  BlockAdd: Block Address where data will be written
1173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  NumberOfBlocks: Number of blocks to write
1174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
1175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
1176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_WriteBlocks_IT(MMC_HandleTypeDef *hmmc, uint8_t *pData, uint32_t BlockAdd
1177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                                          uint32_t NumberOfBlocks)
1178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 1898              		.loc 1 1178 1
 1899              		.cfi_startproc
 1900              		@ args = 0, pretend = 0, frame = 48
 1901              		@ frame_needed = 1, uses_anonymous_args = 0
 1902 0000 80B5     		push	{r7, lr}
 1903              		.cfi_def_cfa_offset 8
 1904              		.cfi_offset 7, -8
 1905              		.cfi_offset 14, -4
 1906 0002 8CB0     		sub	sp, sp, #48
 1907              		.cfi_def_cfa_offset 56
ARM GAS  /tmp/ccxVmGdL.s 			page 55


 1908 0004 00AF     		add	r7, sp, #0
 1909              		.cfi_def_cfa_register 7
 1910 0006 F860     		str	r0, [r7, #12]
 1911 0008 B960     		str	r1, [r7, #8]
 1912 000a 7A60     		str	r2, [r7, #4]
 1913 000c 3B60     		str	r3, [r7]
1179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   SDMMC_DataInitTypeDef config;
1180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate;
1181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t add = BlockAdd;
 1914              		.loc 1 1181 12
 1915 000e 7B68     		ldr	r3, [r7, #4]
 1916 0010 BB62     		str	r3, [r7, #40]
1182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (NULL == pData)
 1917              		.loc 1 1183 6
 1918 0012 BB68     		ldr	r3, [r7, #8]
 1919 0014 002B     		cmp	r3, #0
 1920 0016 07D1     		bne	.L86
1184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
1185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= HAL_MMC_ERROR_PARAM;
 1921              		.loc 1 1185 9
 1922 0018 FB68     		ldr	r3, [r7, #12]
 1923 001a 9B6B     		ldr	r3, [r3, #56]
 1924              		.loc 1 1185 21
 1925 001c 43F00062 		orr	r2, r3, #134217728
 1926 0020 FB68     		ldr	r3, [r7, #12]
 1927 0022 9A63     		str	r2, [r3, #56]
1186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 1928              		.loc 1 1186 12
 1929 0024 0123     		movs	r3, #1
 1930 0026 7EE0     		b	.L94
 1931              	.L86:
1187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
1188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->State == HAL_MMC_STATE_READY)
 1932              		.loc 1 1189 11
 1933 0028 FB68     		ldr	r3, [r7, #12]
 1934 002a 93F83430 		ldrb	r3, [r3, #52]
 1935 002e DBB2     		uxtb	r3, r3
 1936              		.loc 1 1189 6
 1937 0030 012B     		cmp	r3, #1
 1938 0032 77D1     		bne	.L88
1190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
1191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode = HAL_MMC_ERROR_NONE;
 1939              		.loc 1 1191 21
 1940 0034 FB68     		ldr	r3, [r7, #12]
 1941 0036 0022     		movs	r2, #0
 1942 0038 9A63     		str	r2, [r3, #56]
1192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((add + NumberOfBlocks) > (hmmc->MmcCard.LogBlockNbr))
 1943              		.loc 1 1193 14
 1944 003a BA6A     		ldr	r2, [r7, #40]
 1945 003c 3B68     		ldr	r3, [r7]
 1946 003e 1A44     		add	r2, r2, r3
 1947              		.loc 1 1193 48
 1948 0040 FB68     		ldr	r3, [r7, #12]
 1949 0042 9B6D     		ldr	r3, [r3, #88]
ARM GAS  /tmp/ccxVmGdL.s 			page 56


 1950              		.loc 1 1193 8
 1951 0044 9A42     		cmp	r2, r3
 1952 0046 07D9     		bls	.L89
1194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_ADDR_OUT_OF_RANGE;
 1953              		.loc 1 1195 11
 1954 0048 FB68     		ldr	r3, [r7, #12]
 1955 004a 9B6B     		ldr	r3, [r3, #56]
 1956              		.loc 1 1195 23
 1957 004c 43F00072 		orr	r2, r3, #33554432
 1958 0050 FB68     		ldr	r3, [r7, #12]
 1959 0052 9A63     		str	r2, [r3, #56]
1196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 1960              		.loc 1 1196 14
 1961 0054 0123     		movs	r3, #1
 1962 0056 66E0     		b	.L94
 1963              	.L89:
1197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_BUSY;
 1964              		.loc 1 1199 17
 1965 0058 FB68     		ldr	r3, [r7, #12]
 1966 005a 0322     		movs	r2, #3
 1967 005c 83F83420 		strb	r2, [r3, #52]
1200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Initialize data control register */
1202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Instance->DCTRL = 0U;
 1968              		.loc 1 1202 9
 1969 0060 FB68     		ldr	r3, [r7, #12]
 1970 0062 1B68     		ldr	r3, [r3]
 1971              		.loc 1 1202 27
 1972 0064 0022     		movs	r2, #0
 1973 0066 DA62     		str	r2, [r3, #44]
1203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->pTxBuffPtr = pData;
 1974              		.loc 1 1204 22
 1975 0068 FB68     		ldr	r3, [r7, #12]
 1976 006a BA68     		ldr	r2, [r7, #8]
 1977 006c 1A62     		str	r2, [r3, #32]
1205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->TxXferSize = MMC_BLOCKSIZE * NumberOfBlocks;
 1978              		.loc 1 1205 38
 1979 006e 3B68     		ldr	r3, [r7]
 1980 0070 5A02     		lsls	r2, r3, #9
 1981              		.loc 1 1205 22
 1982 0072 FB68     		ldr	r3, [r7, #12]
 1983 0074 5A62     		str	r2, [r3, #36]
1206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((hmmc->MmcCard.CardType) != MMC_HIGH_CAPACITY_CARD)
 1984              		.loc 1 1207 23
 1985 0076 FB68     		ldr	r3, [r7, #12]
 1986 0078 5B6C     		ldr	r3, [r3, #68]
 1987              		.loc 1 1207 8
 1988 007a 012B     		cmp	r3, #1
 1989 007c 02D0     		beq	.L90
1208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       add *= 512U;
 1990              		.loc 1 1209 11
ARM GAS  /tmp/ccxVmGdL.s 			page 57


 1991 007e BB6A     		ldr	r3, [r7, #40]
 1992 0080 5B02     		lsls	r3, r3, #9
 1993 0082 BB62     		str	r3, [r7, #40]
 1994              	.L90:
1210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Configure the MMC DPSM (Data Path State Machine) */
1213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataLength    = MMC_BLOCKSIZE * NumberOfBlocks;
1215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
1217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
1219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (void)SDMMC_ConfigData(hmmc->Instance, &config);
1220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __SDMMC_CMDTRANS_ENABLE(hmmc->Instance);
1222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Write Blocks in Polling mode */
1224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (NumberOfBlocks > 1U)
 1995              		.loc 1 1224 8
 1996 0084 3B68     		ldr	r3, [r7]
 1997 0086 012B     		cmp	r3, #1
 1998 0088 0AD9     		bls	.L91
1225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = (MMC_CONTEXT_WRITE_MULTIPLE_BLOCK | MMC_CONTEXT_IT);
 1999              		.loc 1 1226 21
 2000 008a FB68     		ldr	r3, [r7, #12]
 2001 008c 2822     		movs	r2, #40
 2002 008e 1A63     		str	r2, [r3, #48]
1227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Write Multi Block command */
1229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hmmc->Instance, add);
 2003              		.loc 1 1229 20
 2004 0090 FB68     		ldr	r3, [r7, #12]
 2005 0092 1B68     		ldr	r3, [r3]
 2006 0094 B96A     		ldr	r1, [r7, #40]
 2007 0096 1846     		mov	r0, r3
 2008 0098 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 2009 009c F862     		str	r0, [r7, #44]
 2010 009e 09E0     		b	.L92
 2011              	.L91:
1230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
1232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = (MMC_CONTEXT_WRITE_SINGLE_BLOCK | MMC_CONTEXT_IT);
 2012              		.loc 1 1233 21
 2013 00a0 FB68     		ldr	r3, [r7, #12]
 2014 00a2 1822     		movs	r2, #24
 2015 00a4 1A63     		str	r2, [r3, #48]
1234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Write Single Block command */
1236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hmmc->Instance, add);
 2016              		.loc 1 1236 20
 2017 00a6 FB68     		ldr	r3, [r7, #12]
 2018 00a8 1B68     		ldr	r3, [r3]
 2019 00aa B96A     		ldr	r1, [r7, #40]
 2020 00ac 1846     		mov	r0, r3
ARM GAS  /tmp/ccxVmGdL.s 			page 58


 2021 00ae FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 2022 00b2 F862     		str	r0, [r7, #44]
 2023              	.L92:
1237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate != HAL_MMC_ERROR_NONE)
 2024              		.loc 1 1238 8
 2025 00b4 FB6A     		ldr	r3, [r7, #44]
 2026 00b6 002B     		cmp	r3, #0
 2027 00b8 12D0     		beq	.L93
1239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
1241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 2028              		.loc 1 1241 7
 2029 00ba FB68     		ldr	r3, [r7, #12]
 2030 00bc 1B68     		ldr	r3, [r3]
 2031 00be 1C4A     		ldr	r2, .L95
 2032 00c0 9A63     		str	r2, [r3, #56]
1242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= errorstate;
 2033              		.loc 1 1242 11
 2034 00c2 FB68     		ldr	r3, [r7, #12]
 2035 00c4 9A6B     		ldr	r2, [r3, #56]
 2036              		.loc 1 1242 23
 2037 00c6 FB6A     		ldr	r3, [r7, #44]
 2038 00c8 1A43     		orrs	r2, r2, r3
 2039 00ca FB68     		ldr	r3, [r7, #12]
 2040 00cc 9A63     		str	r2, [r3, #56]
1243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 2041              		.loc 1 1243 19
 2042 00ce FB68     		ldr	r3, [r7, #12]
 2043 00d0 0122     		movs	r2, #1
 2044 00d2 83F83420 		strb	r2, [r3, #52]
1244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_NONE;
 2045              		.loc 1 1244 21
 2046 00d6 FB68     		ldr	r3, [r7, #12]
 2047 00d8 0022     		movs	r2, #0
 2048 00da 1A63     		str	r2, [r3, #48]
1245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 2049              		.loc 1 1245 14
 2050 00dc 0123     		movs	r3, #1
 2051 00de 22E0     		b	.L94
 2052              	.L93:
1246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
1249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Configure the MMC DPSM (Data Path State Machine) */
1250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 2053              		.loc 1 1250 26
 2054 00e0 4FF0FF33 		mov	r3, #-1
 2055 00e4 3B61     		str	r3, [r7, #16]
1251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataLength    = MMC_BLOCKSIZE * NumberOfBlocks;
 2056              		.loc 1 1251 42
 2057 00e6 3B68     		ldr	r3, [r7]
 2058 00e8 5B02     		lsls	r3, r3, #9
 2059              		.loc 1 1251 26
 2060 00ea 7B61     		str	r3, [r7, #20]
1252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2061              		.loc 1 1252 26
ARM GAS  /tmp/ccxVmGdL.s 			page 59


 2062 00ec 9023     		movs	r3, #144
 2063 00ee BB61     		str	r3, [r7, #24]
1253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 2064              		.loc 1 1253 26
 2065 00f0 0023     		movs	r3, #0
 2066 00f2 FB61     		str	r3, [r7, #28]
1254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2067              		.loc 1 1254 26
 2068 00f4 0023     		movs	r3, #0
 2069 00f6 3B62     		str	r3, [r7, #32]
1255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DPSM          = SDMMC_DPSM_ENABLE;
 2070              		.loc 1 1255 26
 2071 00f8 0123     		movs	r3, #1
 2072 00fa 7B62     		str	r3, [r7, #36]
1256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (void)SDMMC_ConfigData(hmmc->Instance, &config);
 2073              		.loc 1 1256 11
 2074 00fc FB68     		ldr	r3, [r7, #12]
 2075 00fe 1B68     		ldr	r3, [r3]
 2076 0100 07F11002 		add	r2, r7, #16
 2077 0104 1146     		mov	r1, r2
 2078 0106 1846     		mov	r0, r3
 2079 0108 FFF7FEFF 		bl	SDMMC_ConfigData
1257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Enable transfer interrupts */
1260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_ENABLE_IT(hmmc,
 2080              		.loc 1 1260 5
 2081 010c FB68     		ldr	r3, [r7, #12]
 2082 010e 1B68     		ldr	r3, [r3]
 2083 0110 DB6B     		ldr	r3, [r3, #60]
 2084 0112 FA68     		ldr	r2, [r7, #12]
 2085 0114 1268     		ldr	r2, [r2]
 2086 0116 43F48243 		orr	r3, r3, #16640
 2087 011a 43F01A03 		orr	r3, r3, #26
 2088 011e D363     		str	r3, [r2, #60]
1261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                         (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_TXUNDERR | SDMMC_IT_DATAE
1262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                          SDMMC_FLAG_TXFIFOHE));
1263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_OK;
 2089              		.loc 1 1264 12
 2090 0120 0023     		movs	r3, #0
 2091 0122 00E0     		b	.L94
 2092              	.L88:
1265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
1266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
1267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
1268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_BUSY;
 2093              		.loc 1 1268 12
 2094 0124 0223     		movs	r3, #2
 2095              	.L94:
1269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
1270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 2096              		.loc 1 1270 1
 2097 0126 1846     		mov	r0, r3
 2098 0128 3037     		adds	r7, r7, #48
 2099              		.cfi_def_cfa_offset 8
 2100 012a BD46     		mov	sp, r7
ARM GAS  /tmp/ccxVmGdL.s 			page 60


 2101              		.cfi_def_cfa_register 13
 2102              		@ sp needed
 2103 012c 80BD     		pop	{r7, pc}
 2104              	.L96:
 2105 012e 00BF     		.align	2
 2106              	.L95:
 2107 0130 FF054000 		.word	4195839
 2108              		.cfi_endproc
 2109              	.LFE453:
 2111              		.section	.text.HAL_MMC_ReadBlocks_DMA,"ax",%progbits
 2112              		.align	1
 2113              		.global	HAL_MMC_ReadBlocks_DMA
 2114              		.syntax unified
 2115              		.thumb
 2116              		.thumb_func
 2118              	HAL_MMC_ReadBlocks_DMA:
 2119              	.LFB454:
1271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
1273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
1274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         is managed by DMA mode.
1275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @note   This API should be followed by a check on the card state through
1276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         HAL_MMC_GetCardState().
1277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @note   You could also check the DMA transfer process through the MMC Rx
1278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         interrupt event.
1279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer MMC handle
1280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  pData: Pointer to the buffer that will contain the received data
1281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  BlockAdd: Block Address from where data is to be read
1282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  NumberOfBlocks: Number of blocks to read.
1283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
1284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
1285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_ReadBlocks_DMA(MMC_HandleTypeDef *hmmc, uint8_t *pData, uint32_t BlockAdd
1286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                                          uint32_t NumberOfBlocks)
1287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 2120              		.loc 1 1287 1
 2121              		.cfi_startproc
 2122              		@ args = 0, pretend = 0, frame = 48
 2123              		@ frame_needed = 1, uses_anonymous_args = 0
 2124 0000 80B5     		push	{r7, lr}
 2125              		.cfi_def_cfa_offset 8
 2126              		.cfi_offset 7, -8
 2127              		.cfi_offset 14, -4
 2128 0002 8CB0     		sub	sp, sp, #48
 2129              		.cfi_def_cfa_offset 56
 2130 0004 00AF     		add	r7, sp, #0
 2131              		.cfi_def_cfa_register 7
 2132 0006 F860     		str	r0, [r7, #12]
 2133 0008 B960     		str	r1, [r7, #8]
 2134 000a 7A60     		str	r2, [r7, #4]
 2135 000c 3B60     		str	r3, [r7]
1288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   SDMMC_DataInitTypeDef config;
1289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate;
1290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t add = BlockAdd;
 2136              		.loc 1 1290 12
 2137 000e 7B68     		ldr	r3, [r7, #4]
 2138 0010 BB62     		str	r3, [r7, #40]
1291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
ARM GAS  /tmp/ccxVmGdL.s 			page 61


1292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (NULL == pData)
 2139              		.loc 1 1292 6
 2140 0012 BB68     		ldr	r3, [r7, #8]
 2141 0014 002B     		cmp	r3, #0
 2142 0016 07D1     		bne	.L98
1293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
1294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= HAL_MMC_ERROR_PARAM;
 2143              		.loc 1 1294 9
 2144 0018 FB68     		ldr	r3, [r7, #12]
 2145 001a 9B6B     		ldr	r3, [r3, #56]
 2146              		.loc 1 1294 21
 2147 001c 43F00062 		orr	r2, r3, #134217728
 2148 0020 FB68     		ldr	r3, [r7, #12]
 2149 0022 9A63     		str	r2, [r3, #56]
1295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 2150              		.loc 1 1295 12
 2151 0024 0123     		movs	r3, #1
 2152 0026 B6E0     		b	.L107
 2153              	.L98:
1296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
1297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->State == HAL_MMC_STATE_READY)
 2154              		.loc 1 1298 11
 2155 0028 FB68     		ldr	r3, [r7, #12]
 2156 002a 93F83430 		ldrb	r3, [r3, #52]
 2157 002e DBB2     		uxtb	r3, r3
 2158              		.loc 1 1298 6
 2159 0030 012B     		cmp	r3, #1
 2160 0032 40F0AF80 		bne	.L100
1299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
1300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode = HAL_MMC_ERROR_NONE;
 2161              		.loc 1 1300 21
 2162 0036 FB68     		ldr	r3, [r7, #12]
 2163 0038 0022     		movs	r2, #0
 2164 003a 9A63     		str	r2, [r3, #56]
1301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((add + NumberOfBlocks) > (hmmc->MmcCard.LogBlockNbr))
 2165              		.loc 1 1302 14
 2166 003c BA6A     		ldr	r2, [r7, #40]
 2167 003e 3B68     		ldr	r3, [r7]
 2168 0040 1A44     		add	r2, r2, r3
 2169              		.loc 1 1302 48
 2170 0042 FB68     		ldr	r3, [r7, #12]
 2171 0044 9B6D     		ldr	r3, [r3, #88]
 2172              		.loc 1 1302 8
 2173 0046 9A42     		cmp	r2, r3
 2174 0048 07D9     		bls	.L101
1303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_ADDR_OUT_OF_RANGE;
 2175              		.loc 1 1304 11
 2176 004a FB68     		ldr	r3, [r7, #12]
 2177 004c 9B6B     		ldr	r3, [r3, #56]
 2178              		.loc 1 1304 23
 2179 004e 43F00072 		orr	r2, r3, #33554432
 2180 0052 FB68     		ldr	r3, [r7, #12]
 2181 0054 9A63     		str	r2, [r3, #56]
1305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
ARM GAS  /tmp/ccxVmGdL.s 			page 62


 2182              		.loc 1 1305 14
 2183 0056 0123     		movs	r3, #1
 2184 0058 9DE0     		b	.L107
 2185              	.L101:
1306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_BUSY;
 2186              		.loc 1 1308 17
 2187 005a FB68     		ldr	r3, [r7, #12]
 2188 005c 0322     		movs	r2, #3
 2189 005e 83F83420 		strb	r2, [r3, #52]
1309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Initialize data control register */
1311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Instance->DCTRL = 0U;
 2190              		.loc 1 1311 9
 2191 0062 FB68     		ldr	r3, [r7, #12]
 2192 0064 1B68     		ldr	r3, [r3]
 2193              		.loc 1 1311 27
 2194 0066 0022     		movs	r2, #0
 2195 0068 DA62     		str	r2, [r3, #44]
1312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
1314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Set the DMA transfer complete callback */
1315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->hdmarx->XferCpltCallback = MMC_DMAReceiveCplt;
 2196              		.loc 1 1315 9
 2197 006a FB68     		ldr	r3, [r7, #12]
 2198 006c DB6B     		ldr	r3, [r3, #60]
 2199              		.loc 1 1315 36
 2200 006e 4C4A     		ldr	r2, .L108
 2201 0070 DA62     		str	r2, [r3, #44]
1316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Set the DMA error callback */
1318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->hdmarx->XferErrorCallback = MMC_DMAError;
 2202              		.loc 1 1318 9
 2203 0072 FB68     		ldr	r3, [r7, #12]
 2204 0074 DB6B     		ldr	r3, [r3, #60]
 2205              		.loc 1 1318 37
 2206 0076 4B4A     		ldr	r2, .L108+4
 2207 0078 5A63     		str	r2, [r3, #52]
1319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Set the DMA Abort callback */
1321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->hdmarx->XferAbortCallback = NULL;
 2208              		.loc 1 1321 9
 2209 007a FB68     		ldr	r3, [r7, #12]
 2210 007c DB6B     		ldr	r3, [r3, #60]
 2211              		.loc 1 1321 37
 2212 007e 0022     		movs	r2, #0
 2213 0080 9A63     		str	r2, [r3, #56]
1322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->pRxBuffPtr = pData;
1325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->RxXferSize = MMC_BLOCKSIZE * NumberOfBlocks;
1326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((hmmc->MmcCard.CardType) != MMC_HIGH_CAPACITY_CARD)
 2214              		.loc 1 1328 23
 2215 0082 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccxVmGdL.s 			page 63


 2216 0084 5B6C     		ldr	r3, [r3, #68]
 2217              		.loc 1 1328 8
 2218 0086 012B     		cmp	r3, #1
 2219 0088 02D0     		beq	.L102
1329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       add *= 512U;
 2220              		.loc 1 1330 11
 2221 008a BB6A     		ldr	r3, [r7, #40]
 2222 008c 5B02     		lsls	r3, r3, #9
 2223 008e BB62     		str	r3, [r7, #40]
 2224              	.L102:
1331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Configure the MMC DPSM (Data Path State Machine) */
1334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataLength    = MMC_BLOCKSIZE * NumberOfBlocks;
1336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
1338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
1340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (void)SDMMC_ConfigData(hmmc->Instance, &config);
1341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __SDMMC_CMDTRANS_ENABLE(hmmc->Instance);
1343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Instance->IDMABASE0 = (uint32_t) pData ;
1344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
1345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Force DMA Direction */
1347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->hdmarx->Init.Direction = DMA_PERIPH_TO_MEMORY;
 2225              		.loc 1 1347 9
 2226 0090 FB68     		ldr	r3, [r7, #12]
 2227 0092 DB6B     		ldr	r3, [r3, #60]
 2228              		.loc 1 1347 34
 2229 0094 0022     		movs	r2, #0
 2230 0096 9A60     		str	r2, [r3, #8]
1348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     MODIFY_REG(hmmc->hdmarx->Instance->CCR, DMA_CCR_DIR, hmmc->hdmarx->Init.Direction);
 2231              		.loc 1 1348 5
 2232 0098 FB68     		ldr	r3, [r7, #12]
 2233 009a DB6B     		ldr	r3, [r3, #60]
 2234 009c 1B68     		ldr	r3, [r3]
 2235 009e 1B68     		ldr	r3, [r3]
 2236 00a0 23F01001 		bic	r1, r3, #16
 2237 00a4 FB68     		ldr	r3, [r7, #12]
 2238 00a6 DB6B     		ldr	r3, [r3, #60]
 2239 00a8 9A68     		ldr	r2, [r3, #8]
 2240 00aa FB68     		ldr	r3, [r7, #12]
 2241 00ac DB6B     		ldr	r3, [r3, #60]
 2242 00ae 1B68     		ldr	r3, [r3]
 2243 00b0 0A43     		orrs	r2, r2, r1
 2244 00b2 1A60     		str	r2, [r3]
1349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Enable the DMA Channel */
1351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (HAL_DMA_Start_IT(hmmc->hdmarx, (uint32_t)&hmmc->Instance->FIFO, (uint32_t)pData,
 2245              		.loc 1 1351 9
 2246 00b4 FB68     		ldr	r3, [r7, #12]
 2247 00b6 D86B     		ldr	r0, [r3, #60]
 2248              		.loc 1 1351 55
 2249 00b8 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccxVmGdL.s 			page 64


 2250 00ba 1B68     		ldr	r3, [r3]
 2251              		.loc 1 1351 50
 2252 00bc 8033     		adds	r3, r3, #128
 2253              		.loc 1 1351 9
 2254 00be 1946     		mov	r1, r3
 2255 00c0 BA68     		ldr	r2, [r7, #8]
1352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                          (uint32_t)(MMC_BLOCKSIZE * NumberOfBlocks) / 4) != HAL_OK)
 2256              		.loc 1 1352 26
 2257 00c2 3B68     		ldr	r3, [r7]
 2258 00c4 5B02     		lsls	r3, r3, #9
1351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                          (uint32_t)(MMC_BLOCKSIZE * NumberOfBlocks) / 4) != HAL_OK)
 2259              		.loc 1 1351 9
 2260 00c6 9B08     		lsrs	r3, r3, #2
 2261 00c8 FFF7FEFF 		bl	HAL_DMA_Start_IT
 2262 00cc 0346     		mov	r3, r0
1351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                          (uint32_t)(MMC_BLOCKSIZE * NumberOfBlocks) / 4) != HAL_OK)
 2263              		.loc 1 1351 8 discriminator 1
 2264 00ce 002B     		cmp	r3, #0
 2265 00d0 0DD0     		beq	.L103
1353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 2266              		.loc 1 1354 7
 2267 00d2 FB68     		ldr	r3, [r7, #12]
 2268 00d4 1B68     		ldr	r3, [r3]
 2269 00d6 344A     		ldr	r2, .L108+8
 2270 00d8 9A63     		str	r2, [r3, #56]
1355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode = HAL_MMC_ERROR_DMA;
 2271              		.loc 1 1355 23
 2272 00da FB68     		ldr	r3, [r7, #12]
 2273 00dc 4FF08042 		mov	r2, #1073741824
 2274 00e0 9A63     		str	r2, [r3, #56]
1356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 2275              		.loc 1 1356 19
 2276 00e2 FB68     		ldr	r3, [r7, #12]
 2277 00e4 0122     		movs	r2, #1
 2278 00e6 83F83420 		strb	r2, [r3, #52]
1357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 2279              		.loc 1 1357 14
 2280 00ea 0123     		movs	r3, #1
 2281 00ec 53E0     		b	.L107
 2282              	.L103:
1358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
1360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Enable MMC DMA transfer */
1362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_DMA_ENABLE(hmmc);
 2283              		.loc 1 1362 7
 2284 00ee FB68     		ldr	r3, [r7, #12]
 2285 00f0 1B68     		ldr	r3, [r3]
 2286 00f2 DA6A     		ldr	r2, [r3, #44]
 2287 00f4 FB68     		ldr	r3, [r7, #12]
 2288 00f6 1B68     		ldr	r3, [r3]
 2289 00f8 42F00802 		orr	r2, r2, #8
 2290 00fc DA62     		str	r2, [r3, #44]
1363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Configure the MMC DPSM (Data Path State Machine) */
1365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       config.DataTimeOut   = SDMMC_DATATIMEOUT;
ARM GAS  /tmp/ccxVmGdL.s 			page 65


 2291              		.loc 1 1365 28
 2292 00fe 4FF0FF33 		mov	r3, #-1
 2293 0102 3B61     		str	r3, [r7, #16]
1366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       config.DataLength    = MMC_BLOCKSIZE * NumberOfBlocks;
 2294              		.loc 1 1366 44
 2295 0104 3B68     		ldr	r3, [r7]
 2296 0106 5B02     		lsls	r3, r3, #9
 2297              		.loc 1 1366 28
 2298 0108 7B61     		str	r3, [r7, #20]
1367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2299              		.loc 1 1367 28
 2300 010a 9023     		movs	r3, #144
 2301 010c BB61     		str	r3, [r7, #24]
1368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 2302              		.loc 1 1368 28
 2303 010e 0223     		movs	r3, #2
 2304 0110 FB61     		str	r3, [r7, #28]
1369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2305              		.loc 1 1369 28
 2306 0112 0023     		movs	r3, #0
 2307 0114 3B62     		str	r3, [r7, #32]
1370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       config.DPSM          = SDMMC_DPSM_ENABLE;
 2308              		.loc 1 1370 28
 2309 0116 0123     		movs	r3, #1
 2310 0118 7B62     		str	r3, [r7, #36]
1371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (void)SDMMC_ConfigData(hmmc->Instance, &config);
 2311              		.loc 1 1371 13
 2312 011a FB68     		ldr	r3, [r7, #12]
 2313 011c 1B68     		ldr	r3, [r3]
 2314 011e 07F11002 		add	r2, r7, #16
 2315 0122 1146     		mov	r1, r2
 2316 0124 1846     		mov	r0, r3
 2317 0126 FFF7FEFF 		bl	SDMMC_ConfigData
1372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Read Blocks in DMA mode */
1375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (NumberOfBlocks > 1U)
 2318              		.loc 1 1375 8
 2319 012a 3B68     		ldr	r3, [r7]
 2320 012c 012B     		cmp	r3, #1
 2321 012e 0AD9     		bls	.L104
1376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = (MMC_CONTEXT_READ_MULTIPLE_BLOCK | MMC_CONTEXT_DMA);
 2322              		.loc 1 1377 21
 2323 0130 FB68     		ldr	r3, [r7, #12]
 2324 0132 8222     		movs	r2, #130
 2325 0134 1A63     		str	r2, [r3, #48]
1378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Read Multi Block command */
1380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdReadMultiBlock(hmmc->Instance, add);
 2326              		.loc 1 1380 20
 2327 0136 FB68     		ldr	r3, [r7, #12]
 2328 0138 1B68     		ldr	r3, [r3]
 2329 013a B96A     		ldr	r1, [r7, #40]
 2330 013c 1846     		mov	r0, r3
 2331 013e FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 2332 0142 F862     		str	r0, [r7, #44]
ARM GAS  /tmp/ccxVmGdL.s 			page 66


 2333 0144 09E0     		b	.L105
 2334              	.L104:
1381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
1383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = (MMC_CONTEXT_READ_SINGLE_BLOCK | MMC_CONTEXT_DMA);
 2335              		.loc 1 1384 21
 2336 0146 FB68     		ldr	r3, [r7, #12]
 2337 0148 8122     		movs	r2, #129
 2338 014a 1A63     		str	r2, [r3, #48]
1385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Read Single Block command */
1387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdReadSingleBlock(hmmc->Instance, add);
 2339              		.loc 1 1387 20
 2340 014c FB68     		ldr	r3, [r7, #12]
 2341 014e 1B68     		ldr	r3, [r3]
 2342 0150 B96A     		ldr	r1, [r7, #40]
 2343 0152 1846     		mov	r0, r3
 2344 0154 FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 2345 0158 F862     		str	r0, [r7, #44]
 2346              	.L105:
1388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate != HAL_MMC_ERROR_NONE)
 2347              		.loc 1 1389 8
 2348 015a FB6A     		ldr	r3, [r7, #44]
 2349 015c 002B     		cmp	r3, #0
 2350 015e 0FD0     		beq	.L106
1390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
1392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 2351              		.loc 1 1392 7
 2352 0160 FB68     		ldr	r3, [r7, #12]
 2353 0162 1B68     		ldr	r3, [r3]
 2354 0164 104A     		ldr	r2, .L108+8
 2355 0166 9A63     		str	r2, [r3, #56]
1393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode = errorstate;
 2356              		.loc 1 1393 23
 2357 0168 FB68     		ldr	r3, [r7, #12]
 2358 016a FA6A     		ldr	r2, [r7, #44]
 2359 016c 9A63     		str	r2, [r3, #56]
1394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 2360              		.loc 1 1394 19
 2361 016e FB68     		ldr	r3, [r7, #12]
 2362 0170 0122     		movs	r2, #1
 2363 0172 83F83420 		strb	r2, [r3, #52]
1395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_NONE;
 2364              		.loc 1 1395 21
 2365 0176 FB68     		ldr	r3, [r7, #12]
 2366 0178 0022     		movs	r2, #0
 2367 017a 1A63     		str	r2, [r3, #48]
1396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 2368              		.loc 1 1396 14
 2369 017c 0123     		movs	r3, #1
 2370 017e 0AE0     		b	.L107
 2371              	.L106:
1397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
ARM GAS  /tmp/ccxVmGdL.s 			page 67


1399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Enable transfer interrupts */
1400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_ENABLE_IT(hmmc,
 2372              		.loc 1 1400 5
 2373 0180 FB68     		ldr	r3, [r7, #12]
 2374 0182 1B68     		ldr	r3, [r3]
 2375 0184 DA6B     		ldr	r2, [r3, #60]
 2376 0186 FB68     		ldr	r3, [r7, #12]
 2377 0188 1B68     		ldr	r3, [r3]
 2378 018a 42F49572 		orr	r2, r2, #298
 2379 018e DA63     		str	r2, [r3, #60]
1401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                         (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_RXOVERR | SDMMC_IT_DATAEN
1402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_OK;
 2380              		.loc 1 1403 12
 2381 0190 0023     		movs	r3, #0
 2382 0192 00E0     		b	.L107
 2383              	.L100:
1404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
1405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
1406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
1408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** else
1409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
1410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return HAL_BUSY;
 2384              		.loc 1 1410 10
 2385 0194 0223     		movs	r3, #2
 2386              	.L107:
1411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
1412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 2387              		.loc 1 1412 1
 2388 0196 1846     		mov	r0, r3
 2389 0198 3037     		adds	r7, r7, #48
 2390              		.cfi_def_cfa_offset 8
 2391 019a BD46     		mov	sp, r7
 2392              		.cfi_def_cfa_register 13
 2393              		@ sp needed
 2394 019c 80BD     		pop	{r7, pc}
 2395              	.L109:
 2396 019e 00BF     		.align	2
 2397              	.L108:
 2398 01a0 00000000 		.word	MMC_DMAReceiveCplt
 2399 01a4 00000000 		.word	MMC_DMAError
 2400 01a8 FF054000 		.word	4195839
 2401              		.cfi_endproc
 2402              	.LFE454:
 2404              		.section	.text.HAL_MMC_WriteBlocks_DMA,"ax",%progbits
 2405              		.align	1
 2406              		.global	HAL_MMC_WriteBlocks_DMA
 2407              		.syntax unified
 2408              		.thumb
 2409              		.thumb_func
 2411              	HAL_MMC_WriteBlocks_DMA:
 2412              	.LFB455:
1413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
1415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer
1416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         is managed by DMA mode.
ARM GAS  /tmp/ccxVmGdL.s 			page 68


1417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @note   This API should be followed by a check on the card state through
1418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         HAL_MMC_GetCardState().
1419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @note   You could also check the DMA transfer process through the MMC Tx
1420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         interrupt event.
1421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to MMC handle
1422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  pData: Pointer to the buffer that will contain the data to transmit
1423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  BlockAdd: Block Address where data will be written
1424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  NumberOfBlocks: Number of blocks to write
1425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
1426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
1427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_WriteBlocks_DMA(MMC_HandleTypeDef *hmmc, uint8_t *pData, uint32_t BlockAd
1428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                                           uint32_t NumberOfBlocks)
1429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 2413              		.loc 1 1429 1
 2414              		.cfi_startproc
 2415              		@ args = 0, pretend = 0, frame = 48
 2416              		@ frame_needed = 1, uses_anonymous_args = 0
 2417 0000 80B5     		push	{r7, lr}
 2418              		.cfi_def_cfa_offset 8
 2419              		.cfi_offset 7, -8
 2420              		.cfi_offset 14, -4
 2421 0002 8CB0     		sub	sp, sp, #48
 2422              		.cfi_def_cfa_offset 56
 2423 0004 00AF     		add	r7, sp, #0
 2424              		.cfi_def_cfa_register 7
 2425 0006 F860     		str	r0, [r7, #12]
 2426 0008 B960     		str	r1, [r7, #8]
 2427 000a 7A60     		str	r2, [r7, #4]
 2428 000c 3B60     		str	r3, [r7]
1430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   SDMMC_DataInitTypeDef config;
1431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate;
1432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t add = BlockAdd;
 2429              		.loc 1 1432 12
 2430 000e 7B68     		ldr	r3, [r7, #4]
 2431 0010 BB62     		str	r3, [r7, #40]
1433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (NULL == pData)
 2432              		.loc 1 1434 6
 2433 0012 BB68     		ldr	r3, [r7, #8]
 2434 0014 002B     		cmp	r3, #0
 2435 0016 07D1     		bne	.L111
1435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
1436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= HAL_MMC_ERROR_PARAM;
 2436              		.loc 1 1436 9
 2437 0018 FB68     		ldr	r3, [r7, #12]
 2438 001a 9B6B     		ldr	r3, [r3, #56]
 2439              		.loc 1 1436 21
 2440 001c 43F00062 		orr	r2, r3, #134217728
 2441 0020 FB68     		ldr	r3, [r7, #12]
 2442 0022 9A63     		str	r2, [r3, #56]
1437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 2443              		.loc 1 1437 12
 2444 0024 0123     		movs	r3, #1
 2445 0026 BEE0     		b	.L120
 2446              	.L111:
1438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
1439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
ARM GAS  /tmp/ccxVmGdL.s 			page 69


1440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->State == HAL_MMC_STATE_READY)
 2447              		.loc 1 1440 11
 2448 0028 FB68     		ldr	r3, [r7, #12]
 2449 002a 93F83430 		ldrb	r3, [r3, #52]
 2450 002e DBB2     		uxtb	r3, r3
 2451              		.loc 1 1440 6
 2452 0030 012B     		cmp	r3, #1
 2453 0032 40F0B780 		bne	.L113
1441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
1442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode = HAL_MMC_ERROR_NONE;
 2454              		.loc 1 1442 21
 2455 0036 FB68     		ldr	r3, [r7, #12]
 2456 0038 0022     		movs	r2, #0
 2457 003a 9A63     		str	r2, [r3, #56]
1443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((add + NumberOfBlocks) > (hmmc->MmcCard.LogBlockNbr))
 2458              		.loc 1 1444 14
 2459 003c BA6A     		ldr	r2, [r7, #40]
 2460 003e 3B68     		ldr	r3, [r7]
 2461 0040 1A44     		add	r2, r2, r3
 2462              		.loc 1 1444 48
 2463 0042 FB68     		ldr	r3, [r7, #12]
 2464 0044 9B6D     		ldr	r3, [r3, #88]
 2465              		.loc 1 1444 8
 2466 0046 9A42     		cmp	r2, r3
 2467 0048 07D9     		bls	.L114
1445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_ADDR_OUT_OF_RANGE;
 2468              		.loc 1 1446 11
 2469 004a FB68     		ldr	r3, [r7, #12]
 2470 004c 9B6B     		ldr	r3, [r3, #56]
 2471              		.loc 1 1446 23
 2472 004e 43F00072 		orr	r2, r3, #33554432
 2473 0052 FB68     		ldr	r3, [r7, #12]
 2474 0054 9A63     		str	r2, [r3, #56]
1447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 2475              		.loc 1 1447 14
 2476 0056 0123     		movs	r3, #1
 2477 0058 A5E0     		b	.L120
 2478              	.L114:
1448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_BUSY;
 2479              		.loc 1 1450 17
 2480 005a FB68     		ldr	r3, [r7, #12]
 2481 005c 0322     		movs	r2, #3
 2482 005e 83F83420 		strb	r2, [r3, #52]
1451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Initialize data control register */
1453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Instance->DCTRL = 0U;
 2483              		.loc 1 1453 9
 2484 0062 FB68     		ldr	r3, [r7, #12]
 2485 0064 1B68     		ldr	r3, [r3]
 2486              		.loc 1 1453 27
 2487 0066 0022     		movs	r2, #0
 2488 0068 DA62     		str	r2, [r3, #44]
1454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
ARM GAS  /tmp/ccxVmGdL.s 			page 70


1455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
1456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Set the DMA transfer complete callback */
1457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->hdmatx->XferCpltCallback = MMC_DMATransmitCplt;
 2489              		.loc 1 1457 9
 2490 006a FB68     		ldr	r3, [r7, #12]
 2491 006c 1B6C     		ldr	r3, [r3, #64]
 2492              		.loc 1 1457 36
 2493 006e 504A     		ldr	r2, .L121
 2494 0070 DA62     		str	r2, [r3, #44]
1458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Set the DMA error callback */
1460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->hdmatx->XferErrorCallback = MMC_DMAError;
 2495              		.loc 1 1460 9
 2496 0072 FB68     		ldr	r3, [r7, #12]
 2497 0074 1B6C     		ldr	r3, [r3, #64]
 2498              		.loc 1 1460 37
 2499 0076 4F4A     		ldr	r2, .L121+4
 2500 0078 5A63     		str	r2, [r3, #52]
1461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Set the DMA Abort callback */
1463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->hdmatx->XferAbortCallback = NULL;
 2501              		.loc 1 1463 9
 2502 007a FB68     		ldr	r3, [r7, #12]
 2503 007c 1B6C     		ldr	r3, [r3, #64]
 2504              		.loc 1 1463 37
 2505 007e 0022     		movs	r2, #0
 2506 0080 9A63     		str	r2, [r3, #56]
1464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->pTxBuffPtr = pData;
1466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->TxXferSize = MMC_BLOCKSIZE * NumberOfBlocks;
1467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((hmmc->MmcCard.CardType) != MMC_HIGH_CAPACITY_CARD)
 2507              		.loc 1 1469 23
 2508 0082 FB68     		ldr	r3, [r7, #12]
 2509 0084 5B6C     		ldr	r3, [r3, #68]
 2510              		.loc 1 1469 8
 2511 0086 012B     		cmp	r3, #1
 2512 0088 02D0     		beq	.L115
1470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       add *= 512U;
 2513              		.loc 1 1471 11
 2514 008a BB6A     		ldr	r3, [r7, #40]
 2515 008c 5B02     		lsls	r3, r3, #9
 2516 008e BB62     		str	r3, [r7, #40]
 2517              	.L115:
1472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Configure the MMC DPSM (Data Path State Machine) */
1476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataLength    = MMC_BLOCKSIZE * NumberOfBlocks;
1478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
1480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
1482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (void)SDMMC_ConfigData(hmmc->Instance, &config);
ARM GAS  /tmp/ccxVmGdL.s 			page 71


1483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __SDMMC_CMDTRANS_ENABLE(hmmc->Instance);
1485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Instance->IDMABASE0 = (uint32_t) pData ;
1487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
1488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Write Blocks in Polling mode */
1491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (NumberOfBlocks > 1U)
 2518              		.loc 1 1491 8
 2519 0090 3B68     		ldr	r3, [r7]
 2520 0092 012B     		cmp	r3, #1
 2521 0094 0AD9     		bls	.L116
1492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = (MMC_CONTEXT_WRITE_MULTIPLE_BLOCK | MMC_CONTEXT_DMA);
 2522              		.loc 1 1493 21
 2523 0096 FB68     		ldr	r3, [r7, #12]
 2524 0098 A022     		movs	r2, #160
 2525 009a 1A63     		str	r2, [r3, #48]
1494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Write Multi Block command */
1496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hmmc->Instance, add);
 2526              		.loc 1 1496 20
 2527 009c FB68     		ldr	r3, [r7, #12]
 2528 009e 1B68     		ldr	r3, [r3]
 2529 00a0 B96A     		ldr	r1, [r7, #40]
 2530 00a2 1846     		mov	r0, r3
 2531 00a4 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 2532 00a8 F862     		str	r0, [r7, #44]
 2533 00aa 09E0     		b	.L117
 2534              	.L116:
1497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
1499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = (MMC_CONTEXT_WRITE_SINGLE_BLOCK | MMC_CONTEXT_DMA);
 2535              		.loc 1 1500 21
 2536 00ac FB68     		ldr	r3, [r7, #12]
 2537 00ae 9022     		movs	r2, #144
 2538 00b0 1A63     		str	r2, [r3, #48]
1501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Write Single Block command */
1503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hmmc->Instance, add);
 2539              		.loc 1 1503 20
 2540 00b2 FB68     		ldr	r3, [r7, #12]
 2541 00b4 1B68     		ldr	r3, [r3]
 2542 00b6 B96A     		ldr	r1, [r7, #40]
 2543 00b8 1846     		mov	r0, r3
 2544 00ba FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 2545 00be F862     		str	r0, [r7, #44]
 2546              	.L117:
1504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate != HAL_MMC_ERROR_NONE)
 2547              		.loc 1 1505 8
 2548 00c0 FB6A     		ldr	r3, [r7, #44]
 2549 00c2 002B     		cmp	r3, #0
 2550 00c4 12D0     		beq	.L118
1506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
ARM GAS  /tmp/ccxVmGdL.s 			page 72


1507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
1508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 2551              		.loc 1 1508 7
 2552 00c6 FB68     		ldr	r3, [r7, #12]
 2553 00c8 1B68     		ldr	r3, [r3]
 2554 00ca 3B4A     		ldr	r2, .L121+8
 2555 00cc 9A63     		str	r2, [r3, #56]
1509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= errorstate;
 2556              		.loc 1 1509 11
 2557 00ce FB68     		ldr	r3, [r7, #12]
 2558 00d0 9A6B     		ldr	r2, [r3, #56]
 2559              		.loc 1 1509 23
 2560 00d2 FB6A     		ldr	r3, [r7, #44]
 2561 00d4 1A43     		orrs	r2, r2, r3
 2562 00d6 FB68     		ldr	r3, [r7, #12]
 2563 00d8 9A63     		str	r2, [r3, #56]
1510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 2564              		.loc 1 1510 19
 2565 00da FB68     		ldr	r3, [r7, #12]
 2566 00dc 0122     		movs	r2, #1
 2567 00de 83F83420 		strb	r2, [r3, #52]
1511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_NONE;
 2568              		.loc 1 1511 21
 2569 00e2 FB68     		ldr	r3, [r7, #12]
 2570 00e4 0022     		movs	r2, #0
 2571 00e6 1A63     		str	r2, [r3, #48]
1512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 2572              		.loc 1 1512 14
 2573 00e8 0123     		movs	r3, #1
 2574 00ea 5CE0     		b	.L120
 2575              	.L118:
1513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
1516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Enable SDMMC DMA transfer */
1517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_DMA_ENABLE(hmmc);
 2576              		.loc 1 1517 5
 2577 00ec FB68     		ldr	r3, [r7, #12]
 2578 00ee 1B68     		ldr	r3, [r3]
 2579 00f0 DA6A     		ldr	r2, [r3, #44]
 2580 00f2 FB68     		ldr	r3, [r7, #12]
 2581 00f4 1B68     		ldr	r3, [r3]
 2582 00f6 42F00802 		orr	r2, r2, #8
 2583 00fa DA62     		str	r2, [r3, #44]
1518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Force DMA Direction */
1520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->hdmatx->Init.Direction = DMA_MEMORY_TO_PERIPH;
 2584              		.loc 1 1520 9
 2585 00fc FB68     		ldr	r3, [r7, #12]
 2586 00fe 1B6C     		ldr	r3, [r3, #64]
 2587              		.loc 1 1520 34
 2588 0100 1022     		movs	r2, #16
 2589 0102 9A60     		str	r2, [r3, #8]
1521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     MODIFY_REG(hmmc->hdmatx->Instance->CCR, DMA_CCR_DIR, hmmc->hdmatx->Init.Direction);
 2590              		.loc 1 1521 5
 2591 0104 FB68     		ldr	r3, [r7, #12]
 2592 0106 1B6C     		ldr	r3, [r3, #64]
ARM GAS  /tmp/ccxVmGdL.s 			page 73


 2593 0108 1B68     		ldr	r3, [r3]
 2594 010a 1B68     		ldr	r3, [r3]
 2595 010c 23F01001 		bic	r1, r3, #16
 2596 0110 FB68     		ldr	r3, [r7, #12]
 2597 0112 1B6C     		ldr	r3, [r3, #64]
 2598 0114 9A68     		ldr	r2, [r3, #8]
 2599 0116 FB68     		ldr	r3, [r7, #12]
 2600 0118 1B6C     		ldr	r3, [r3, #64]
 2601 011a 1B68     		ldr	r3, [r3]
 2602 011c 0A43     		orrs	r2, r2, r1
 2603 011e 1A60     		str	r2, [r3]
1522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Enable the DMA Channel */
1524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (HAL_DMA_Start_IT(hmmc->hdmatx, (uint32_t)pData, (uint32_t)&hmmc->Instance->FIFO,
 2604              		.loc 1 1524 9
 2605 0120 FB68     		ldr	r3, [r7, #12]
 2606 0122 186C     		ldr	r0, [r3, #64]
 2607 0124 B968     		ldr	r1, [r7, #8]
 2608              		.loc 1 1524 72
 2609 0126 FB68     		ldr	r3, [r7, #12]
 2610 0128 1B68     		ldr	r3, [r3]
 2611              		.loc 1 1524 67
 2612 012a 8033     		adds	r3, r3, #128
 2613              		.loc 1 1524 9
 2614 012c 1A46     		mov	r2, r3
1525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                          (uint32_t)(MMC_BLOCKSIZE * NumberOfBlocks) / 4) != HAL_OK)
 2615              		.loc 1 1525 26
 2616 012e 3B68     		ldr	r3, [r7]
 2617 0130 5B02     		lsls	r3, r3, #9
1524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                          (uint32_t)(MMC_BLOCKSIZE * NumberOfBlocks) / 4) != HAL_OK)
 2618              		.loc 1 1524 9
 2619 0132 9B08     		lsrs	r3, r3, #2
 2620 0134 FFF7FEFF 		bl	HAL_DMA_Start_IT
 2621 0138 0346     		mov	r3, r0
1524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                          (uint32_t)(MMC_BLOCKSIZE * NumberOfBlocks) / 4) != HAL_OK)
 2622              		.loc 1 1524 8 discriminator 1
 2623 013a 002B     		cmp	r3, #0
 2624 013c 12D0     		beq	.L119
1526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 2625              		.loc 1 1527 7
 2626 013e FB68     		ldr	r3, [r7, #12]
 2627 0140 1B68     		ldr	r3, [r3]
 2628 0142 1D4A     		ldr	r2, .L121+8
 2629 0144 9A63     		str	r2, [r3, #56]
1528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_DMA;
 2630              		.loc 1 1528 11
 2631 0146 FB68     		ldr	r3, [r7, #12]
 2632 0148 9B6B     		ldr	r3, [r3, #56]
 2633              		.loc 1 1528 23
 2634 014a 43F08042 		orr	r2, r3, #1073741824
 2635 014e FB68     		ldr	r3, [r7, #12]
 2636 0150 9A63     		str	r2, [r3, #56]
1529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 2637              		.loc 1 1529 19
 2638 0152 FB68     		ldr	r3, [r7, #12]
 2639 0154 0122     		movs	r2, #1
ARM GAS  /tmp/ccxVmGdL.s 			page 74


 2640 0156 83F83420 		strb	r2, [r3, #52]
1530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_NONE;
 2641              		.loc 1 1530 21
 2642 015a FB68     		ldr	r3, [r7, #12]
 2643 015c 0022     		movs	r2, #0
 2644 015e 1A63     		str	r2, [r3, #48]
1531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 2645              		.loc 1 1531 14
 2646 0160 0123     		movs	r3, #1
 2647 0162 20E0     		b	.L120
 2648              	.L119:
1532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
1534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Configure the MMC DPSM (Data Path State Machine) */
1536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       config.DataTimeOut   = SDMMC_DATATIMEOUT;
 2649              		.loc 1 1536 28
 2650 0164 4FF0FF33 		mov	r3, #-1
 2651 0168 3B61     		str	r3, [r7, #16]
1537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       config.DataLength    = MMC_BLOCKSIZE * NumberOfBlocks;
 2652              		.loc 1 1537 44
 2653 016a 3B68     		ldr	r3, [r7]
 2654 016c 5B02     		lsls	r3, r3, #9
 2655              		.loc 1 1537 28
 2656 016e 7B61     		str	r3, [r7, #20]
1538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2657              		.loc 1 1538 28
 2658 0170 9023     		movs	r3, #144
 2659 0172 BB61     		str	r3, [r7, #24]
1539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 2660              		.loc 1 1539 28
 2661 0174 0023     		movs	r3, #0
 2662 0176 FB61     		str	r3, [r7, #28]
1540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2663              		.loc 1 1540 28
 2664 0178 0023     		movs	r3, #0
 2665 017a 3B62     		str	r3, [r7, #32]
1541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       config.DPSM          = SDMMC_DPSM_ENABLE;
 2666              		.loc 1 1541 28
 2667 017c 0123     		movs	r3, #1
 2668 017e 7B62     		str	r3, [r7, #36]
1542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (void)SDMMC_ConfigData(hmmc->Instance, &config);
 2669              		.loc 1 1542 13
 2670 0180 FB68     		ldr	r3, [r7, #12]
 2671 0182 1B68     		ldr	r3, [r3]
 2672 0184 07F11002 		add	r2, r7, #16
 2673 0188 1146     		mov	r1, r2
 2674 018a 1846     		mov	r0, r3
 2675 018c FFF7FEFF 		bl	SDMMC_ConfigData
1543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Enable MMC Error interrupts */
1545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_ENABLE_IT(hmmc, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_TXUNDERR));
 2676              		.loc 1 1545 7
 2677 0190 FB68     		ldr	r3, [r7, #12]
 2678 0192 1B68     		ldr	r3, [r3]
 2679 0194 DA6B     		ldr	r2, [r3, #60]
 2680 0196 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccxVmGdL.s 			page 75


 2681 0198 1B68     		ldr	r3, [r3]
 2682 019a 42F01A02 		orr	r2, r2, #26
 2683 019e DA63     		str	r2, [r3, #60]
1546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_OK;
 2684              		.loc 1 1547 14
 2685 01a0 0023     		movs	r3, #0
 2686 01a2 00E0     		b	.L120
 2687              	.L113:
1548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Enable MMC Error interrupts */
1551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_ENABLE_IT(hmmc, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_TXUNDERR | SDMMC_IT
1552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_OK;
1554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
1556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
1557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
1558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_BUSY;
 2688              		.loc 1 1558 12
 2689 01a4 0223     		movs	r3, #2
 2690              	.L120:
1559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
1560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 2691              		.loc 1 1560 1
 2692 01a6 1846     		mov	r0, r3
 2693 01a8 3037     		adds	r7, r7, #48
 2694              		.cfi_def_cfa_offset 8
 2695 01aa BD46     		mov	sp, r7
 2696              		.cfi_def_cfa_register 13
 2697              		@ sp needed
 2698 01ac 80BD     		pop	{r7, pc}
 2699              	.L122:
 2700 01ae 00BF     		.align	2
 2701              	.L121:
 2702 01b0 00000000 		.word	MMC_DMATransmitCplt
 2703 01b4 00000000 		.word	MMC_DMAError
 2704 01b8 FF054000 		.word	4195839
 2705              		.cfi_endproc
 2706              	.LFE455:
 2708              		.section	.text.HAL_MMC_Erase,"ax",%progbits
 2709              		.align	1
 2710              		.global	HAL_MMC_Erase
 2711              		.syntax unified
 2712              		.thumb
 2713              		.thumb_func
 2715              	HAL_MMC_Erase:
 2716              	.LFB456:
1561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
1563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Erases the specified memory area of the given MMC card.
1564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @note   This API should be followed by a check on the card state through
1565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         HAL_MMC_GetCardState().
1566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to MMC handle
1567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  BlockStartAdd: Start Block address
1568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  BlockEndAdd: End Block address
ARM GAS  /tmp/ccxVmGdL.s 			page 76


1569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
1570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
1571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_Erase(MMC_HandleTypeDef *hmmc, uint32_t BlockStartAdd, uint32_t BlockEndA
1572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 2717              		.loc 1 1572 1
 2718              		.cfi_startproc
 2719              		@ args = 0, pretend = 0, frame = 32
 2720              		@ frame_needed = 1, uses_anonymous_args = 0
 2721 0000 80B5     		push	{r7, lr}
 2722              		.cfi_def_cfa_offset 8
 2723              		.cfi_offset 7, -8
 2724              		.cfi_offset 14, -4
 2725 0002 88B0     		sub	sp, sp, #32
 2726              		.cfi_def_cfa_offset 40
 2727 0004 00AF     		add	r7, sp, #0
 2728              		.cfi_def_cfa_register 7
 2729 0006 F860     		str	r0, [r7, #12]
 2730 0008 B960     		str	r1, [r7, #8]
 2731 000a 7A60     		str	r2, [r7, #4]
1573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate;
1574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t start_add = BlockStartAdd;
 2732              		.loc 1 1574 12
 2733 000c BB68     		ldr	r3, [r7, #8]
 2734 000e FB61     		str	r3, [r7, #28]
1575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t end_add = BlockEndAdd;
 2735              		.loc 1 1575 12
 2736 0010 7B68     		ldr	r3, [r7, #4]
 2737 0012 BB61     		str	r3, [r7, #24]
1576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->State == HAL_MMC_STATE_READY)
 2738              		.loc 1 1577 11
 2739 0014 FB68     		ldr	r3, [r7, #12]
 2740 0016 93F83430 		ldrb	r3, [r3, #52]
 2741 001a DBB2     		uxtb	r3, r3
 2742              		.loc 1 1577 6
 2743 001c 012B     		cmp	r3, #1
 2744 001e 40F0B080 		bne	.L124
1578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
1579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode = HAL_MMC_ERROR_NONE;
 2745              		.loc 1 1579 21
 2746 0022 FB68     		ldr	r3, [r7, #12]
 2747 0024 0022     		movs	r2, #0
 2748 0026 9A63     		str	r2, [r3, #56]
1580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (end_add < start_add)
 2749              		.loc 1 1581 8
 2750 0028 BA69     		ldr	r2, [r7, #24]
 2751 002a FB69     		ldr	r3, [r7, #28]
 2752 002c 9A42     		cmp	r2, r3
 2753 002e 07D2     		bcs	.L125
1582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_PARAM;
 2754              		.loc 1 1583 11
 2755 0030 FB68     		ldr	r3, [r7, #12]
 2756 0032 9B6B     		ldr	r3, [r3, #56]
 2757              		.loc 1 1583 23
 2758 0034 43F00062 		orr	r2, r3, #134217728
ARM GAS  /tmp/ccxVmGdL.s 			page 77


 2759 0038 FB68     		ldr	r3, [r7, #12]
 2760 003a 9A63     		str	r2, [r3, #56]
1584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 2761              		.loc 1 1584 14
 2762 003c 0123     		movs	r3, #1
 2763 003e A1E0     		b	.L126
 2764              	.L125:
1585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (end_add > (hmmc->MmcCard.LogBlockNbr))
 2765              		.loc 1 1587 33
 2766 0040 FB68     		ldr	r3, [r7, #12]
 2767 0042 9B6D     		ldr	r3, [r3, #88]
 2768              		.loc 1 1587 8
 2769 0044 BA69     		ldr	r2, [r7, #24]
 2770 0046 9A42     		cmp	r2, r3
 2771 0048 07D9     		bls	.L127
1588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_ADDR_OUT_OF_RANGE;
 2772              		.loc 1 1589 11
 2773 004a FB68     		ldr	r3, [r7, #12]
 2774 004c 9B6B     		ldr	r3, [r3, #56]
 2775              		.loc 1 1589 23
 2776 004e 43F00072 		orr	r2, r3, #33554432
 2777 0052 FB68     		ldr	r3, [r7, #12]
 2778 0054 9A63     		str	r2, [r3, #56]
1590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 2779              		.loc 1 1590 14
 2780 0056 0123     		movs	r3, #1
 2781 0058 94E0     		b	.L126
 2782              	.L127:
1591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_BUSY;
 2783              		.loc 1 1593 17
 2784 005a FB68     		ldr	r3, [r7, #12]
 2785 005c 0322     		movs	r2, #3
 2786 005e 83F83420 		strb	r2, [r3, #52]
1594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Check if the card command class supports erase command */
1596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (((hmmc->MmcCard.Class) & SDMMC_CCCC_ERASE) == 0U)
 2787              		.loc 1 1596 24
 2788 0062 FB68     		ldr	r3, [r7, #12]
 2789 0064 9B6C     		ldr	r3, [r3, #72]
 2790              		.loc 1 1596 32
 2791 0066 03F02003 		and	r3, r3, #32
 2792              		.loc 1 1596 8
 2793 006a 002B     		cmp	r3, #0
 2794 006c 0FD1     		bne	.L128
1597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
1599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 2795              		.loc 1 1599 7
 2796 006e FB68     		ldr	r3, [r7, #12]
 2797 0070 1B68     		ldr	r3, [r3]
 2798 0072 464A     		ldr	r2, .L134
 2799 0074 9A63     		str	r2, [r3, #56]
ARM GAS  /tmp/ccxVmGdL.s 			page 78


1600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_REQUEST_NOT_APPLICABLE;
 2800              		.loc 1 1600 11
 2801 0076 FB68     		ldr	r3, [r7, #12]
 2802 0078 9B6B     		ldr	r3, [r3, #56]
 2803              		.loc 1 1600 23
 2804 007a 43F08062 		orr	r2, r3, #67108864
 2805 007e FB68     		ldr	r3, [r7, #12]
 2806 0080 9A63     		str	r2, [r3, #56]
1601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 2807              		.loc 1 1601 19
 2808 0082 FB68     		ldr	r3, [r7, #12]
 2809 0084 0122     		movs	r2, #1
 2810 0086 83F83420 		strb	r2, [r3, #52]
1602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 2811              		.loc 1 1602 14
 2812 008a 0123     		movs	r3, #1
 2813 008c 7AE0     		b	.L126
 2814              	.L128:
1603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
 2815              		.loc 1 1605 32
 2816 008e FB68     		ldr	r3, [r7, #12]
 2817 0090 1B68     		ldr	r3, [r3]
 2818              		.loc 1 1605 10
 2819 0092 0021     		movs	r1, #0
 2820 0094 1846     		mov	r0, r3
 2821 0096 FFF7FEFF 		bl	SDMMC_GetResponse
 2822 009a 0346     		mov	r3, r0
 2823              		.loc 1 1605 57 discriminator 1
 2824 009c 03F00073 		and	r3, r3, #33554432
 2825              		.loc 1 1605 8 discriminator 1
 2826 00a0 B3F1007F 		cmp	r3, #33554432
 2827 00a4 0FD1     		bne	.L129
1606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
1608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 2828              		.loc 1 1608 7
 2829 00a6 FB68     		ldr	r3, [r7, #12]
 2830 00a8 1B68     		ldr	r3, [r3]
 2831 00aa 384A     		ldr	r2, .L134
 2832 00ac 9A63     		str	r2, [r3, #56]
1609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_LOCK_UNLOCK_FAILED;
 2833              		.loc 1 1609 11
 2834 00ae FB68     		ldr	r3, [r7, #12]
 2835 00b0 9B6B     		ldr	r3, [r3, #56]
 2836              		.loc 1 1609 23
 2837 00b2 43F40062 		orr	r2, r3, #2048
 2838 00b6 FB68     		ldr	r3, [r7, #12]
 2839 00b8 9A63     		str	r2, [r3, #56]
1610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 2840              		.loc 1 1610 19
 2841 00ba FB68     		ldr	r3, [r7, #12]
 2842 00bc 0122     		movs	r2, #1
 2843 00be 83F83420 		strb	r2, [r3, #52]
1611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 2844              		.loc 1 1611 14
ARM GAS  /tmp/ccxVmGdL.s 			page 79


 2845 00c2 0123     		movs	r3, #1
 2846 00c4 5EE0     		b	.L126
 2847              	.L129:
1612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((hmmc->MmcCard.CardType) != MMC_HIGH_CAPACITY_CARD)
 2848              		.loc 1 1614 23
 2849 00c6 FB68     		ldr	r3, [r7, #12]
 2850 00c8 5B6C     		ldr	r3, [r3, #68]
 2851              		.loc 1 1614 8
 2852 00ca 012B     		cmp	r3, #1
 2853 00cc 05D0     		beq	.L130
1615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       start_add *= 512U;
 2854              		.loc 1 1616 17
 2855 00ce FB69     		ldr	r3, [r7, #28]
 2856 00d0 5B02     		lsls	r3, r3, #9
 2857 00d2 FB61     		str	r3, [r7, #28]
1617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       end_add   *= 512U;
 2858              		.loc 1 1617 17
 2859 00d4 BB69     		ldr	r3, [r7, #24]
 2860 00d6 5B02     		lsls	r3, r3, #9
 2861 00d8 BB61     		str	r3, [r7, #24]
 2862              	.L130:
1618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Send CMD35 MMC_ERASE_GRP_START with argument as addr  */
1621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     errorstate = SDMMC_CmdEraseStartAdd(hmmc->Instance, start_add);
 2863              		.loc 1 1621 18
 2864 00da FB68     		ldr	r3, [r7, #12]
 2865 00dc 1B68     		ldr	r3, [r3]
 2866 00de F969     		ldr	r1, [r7, #28]
 2867 00e0 1846     		mov	r0, r3
 2868 00e2 FFF7FEFF 		bl	SDMMC_CmdEraseStartAdd
 2869 00e6 7861     		str	r0, [r7, #20]
1622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate != HAL_MMC_ERROR_NONE)
 2870              		.loc 1 1622 8
 2871 00e8 7B69     		ldr	r3, [r7, #20]
 2872 00ea 002B     		cmp	r3, #0
 2873 00ec 0FD0     		beq	.L131
1623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
1625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 2874              		.loc 1 1625 7
 2875 00ee FB68     		ldr	r3, [r7, #12]
 2876 00f0 1B68     		ldr	r3, [r3]
 2877 00f2 264A     		ldr	r2, .L134
 2878 00f4 9A63     		str	r2, [r3, #56]
1626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= errorstate;
 2879              		.loc 1 1626 11
 2880 00f6 FB68     		ldr	r3, [r7, #12]
 2881 00f8 9A6B     		ldr	r2, [r3, #56]
 2882              		.loc 1 1626 23
 2883 00fa 7B69     		ldr	r3, [r7, #20]
 2884 00fc 1A43     		orrs	r2, r2, r3
 2885 00fe FB68     		ldr	r3, [r7, #12]
 2886 0100 9A63     		str	r2, [r3, #56]
ARM GAS  /tmp/ccxVmGdL.s 			page 80


1627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 2887              		.loc 1 1627 19
 2888 0102 FB68     		ldr	r3, [r7, #12]
 2889 0104 0122     		movs	r2, #1
 2890 0106 83F83420 		strb	r2, [r3, #52]
1628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 2891              		.loc 1 1628 14
 2892 010a 0123     		movs	r3, #1
 2893 010c 3AE0     		b	.L126
 2894              	.L131:
1629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Send CMD36 MMC_ERASE_GRP_END with argument as addr  */
1632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     errorstate = SDMMC_CmdEraseEndAdd(hmmc->Instance, end_add);
 2895              		.loc 1 1632 18
 2896 010e FB68     		ldr	r3, [r7, #12]
 2897 0110 1B68     		ldr	r3, [r3]
 2898 0112 B969     		ldr	r1, [r7, #24]
 2899 0114 1846     		mov	r0, r3
 2900 0116 FFF7FEFF 		bl	SDMMC_CmdEraseEndAdd
 2901 011a 7861     		str	r0, [r7, #20]
1633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate != HAL_MMC_ERROR_NONE)
 2902              		.loc 1 1633 8
 2903 011c 7B69     		ldr	r3, [r7, #20]
 2904 011e 002B     		cmp	r3, #0
 2905 0120 0FD0     		beq	.L132
1634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
1636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 2906              		.loc 1 1636 7
 2907 0122 FB68     		ldr	r3, [r7, #12]
 2908 0124 1B68     		ldr	r3, [r3]
 2909 0126 194A     		ldr	r2, .L134
 2910 0128 9A63     		str	r2, [r3, #56]
1637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= errorstate;
 2911              		.loc 1 1637 11
 2912 012a FB68     		ldr	r3, [r7, #12]
 2913 012c 9A6B     		ldr	r2, [r3, #56]
 2914              		.loc 1 1637 23
 2915 012e 7B69     		ldr	r3, [r7, #20]
 2916 0130 1A43     		orrs	r2, r2, r3
 2917 0132 FB68     		ldr	r3, [r7, #12]
 2918 0134 9A63     		str	r2, [r3, #56]
1638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 2919              		.loc 1 1638 19
 2920 0136 FB68     		ldr	r3, [r7, #12]
 2921 0138 0122     		movs	r2, #1
 2922 013a 83F83420 		strb	r2, [r3, #52]
1639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 2923              		.loc 1 1639 14
 2924 013e 0123     		movs	r3, #1
 2925 0140 20E0     		b	.L126
 2926              	.L132:
1640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Send CMD38 ERASE */
1643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     errorstate = SDMMC_CmdErase(hmmc->Instance, 0UL);
ARM GAS  /tmp/ccxVmGdL.s 			page 81


 2927              		.loc 1 1643 18
 2928 0142 FB68     		ldr	r3, [r7, #12]
 2929 0144 1B68     		ldr	r3, [r3]
 2930 0146 0021     		movs	r1, #0
 2931 0148 1846     		mov	r0, r3
 2932 014a FFF7FEFF 		bl	SDMMC_CmdErase
 2933 014e 7861     		str	r0, [r7, #20]
1644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate != HAL_MMC_ERROR_NONE)
 2934              		.loc 1 1644 8
 2935 0150 7B69     		ldr	r3, [r7, #20]
 2936 0152 002B     		cmp	r3, #0
 2937 0154 0FD0     		beq	.L133
1645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
1647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 2938              		.loc 1 1647 7
 2939 0156 FB68     		ldr	r3, [r7, #12]
 2940 0158 1B68     		ldr	r3, [r3]
 2941 015a 0C4A     		ldr	r2, .L134
 2942 015c 9A63     		str	r2, [r3, #56]
1648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= errorstate;
 2943              		.loc 1 1648 11
 2944 015e FB68     		ldr	r3, [r7, #12]
 2945 0160 9A6B     		ldr	r2, [r3, #56]
 2946              		.loc 1 1648 23
 2947 0162 7B69     		ldr	r3, [r7, #20]
 2948 0164 1A43     		orrs	r2, r2, r3
 2949 0166 FB68     		ldr	r3, [r7, #12]
 2950 0168 9A63     		str	r2, [r3, #56]
1649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 2951              		.loc 1 1649 19
 2952 016a FB68     		ldr	r3, [r7, #12]
 2953 016c 0122     		movs	r2, #1
 2954 016e 83F83420 		strb	r2, [r3, #52]
1650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 2955              		.loc 1 1650 14
 2956 0172 0123     		movs	r3, #1
 2957 0174 06E0     		b	.L126
 2958              	.L133:
1651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
 2959              		.loc 1 1653 17
 2960 0176 FB68     		ldr	r3, [r7, #12]
 2961 0178 0122     		movs	r2, #1
 2962 017a 83F83420 		strb	r2, [r3, #52]
1654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_OK;
 2963              		.loc 1 1655 12
 2964 017e 0023     		movs	r3, #0
 2965 0180 00E0     		b	.L126
 2966              	.L124:
1656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
1657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
1658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
1659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_BUSY;
 2967              		.loc 1 1659 12
ARM GAS  /tmp/ccxVmGdL.s 			page 82


 2968 0182 0223     		movs	r3, #2
 2969              	.L126:
1660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
1661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 2970              		.loc 1 1661 1
 2971 0184 1846     		mov	r0, r3
 2972 0186 2037     		adds	r7, r7, #32
 2973              		.cfi_def_cfa_offset 8
 2974 0188 BD46     		mov	sp, r7
 2975              		.cfi_def_cfa_register 13
 2976              		@ sp needed
 2977 018a 80BD     		pop	{r7, pc}
 2978              	.L135:
 2979              		.align	2
 2980              	.L134:
 2981 018c FF054000 		.word	4195839
 2982              		.cfi_endproc
 2983              	.LFE456:
 2985              		.section	.text.HAL_MMC_IRQHandler,"ax",%progbits
 2986              		.align	1
 2987              		.global	HAL_MMC_IRQHandler
 2988              		.syntax unified
 2989              		.thumb
 2990              		.thumb_func
 2992              	HAL_MMC_IRQHandler:
 2993              	.LFB457:
1662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
1664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  This function handles MMC card interrupt request.
1665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to MMC handle
1666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval None
1667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
1668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** void HAL_MMC_IRQHandler(MMC_HandleTypeDef *hmmc)
1669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 2994              		.loc 1 1669 1
 2995              		.cfi_startproc
 2996              		@ args = 0, pretend = 0, frame = 16
 2997              		@ frame_needed = 1, uses_anonymous_args = 0
 2998 0000 80B5     		push	{r7, lr}
 2999              		.cfi_def_cfa_offset 8
 3000              		.cfi_offset 7, -8
 3001              		.cfi_offset 14, -4
 3002 0002 84B0     		sub	sp, sp, #16
 3003              		.cfi_def_cfa_offset 24
 3004 0004 00AF     		add	r7, sp, #0
 3005              		.cfi_def_cfa_register 7
 3006 0006 7860     		str	r0, [r7, #4]
1670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate;
1671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t context = hmmc->Context;
 3007              		.loc 1 1671 12
 3008 0008 7B68     		ldr	r3, [r7, #4]
 3009 000a 1B6B     		ldr	r3, [r3, #48]
 3010 000c FB60     		str	r3, [r7, #12]
1672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check for SDMMC interrupt flags */
1674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if ((__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_RXFIFOHF) != RESET) && ((context & MMC_CONTEXT_IT) != 0U
 3011              		.loc 1 1674 8
ARM GAS  /tmp/ccxVmGdL.s 			page 83


 3012 000e 7B68     		ldr	r3, [r7, #4]
 3013 0010 1B68     		ldr	r3, [r3]
 3014 0012 5B6B     		ldr	r3, [r3, #52]
 3015 0014 03F40043 		and	r3, r3, #32768
 3016              		.loc 1 1674 6
 3017 0018 002B     		cmp	r3, #0
 3018 001a 08D0     		beq	.L137
 3019              		.loc 1 1674 77 discriminator 1
 3020 001c FB68     		ldr	r3, [r7, #12]
 3021 001e 03F00803 		and	r3, r3, #8
 3022              		.loc 1 1674 64 discriminator 1
 3023 0022 002B     		cmp	r3, #0
 3024 0024 03D0     		beq	.L137
1675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
1676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     MMC_Read_IT(hmmc);
 3025              		.loc 1 1676 5
 3026 0026 7868     		ldr	r0, [r7, #4]
 3027 0028 FFF7FEFF 		bl	MMC_Read_IT
 3028 002c 68E1     		b	.L138
 3029              	.L137:
1677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
1678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_DATAEND) != RESET)
 3030              		.loc 1 1679 12
 3031 002e 7B68     		ldr	r3, [r7, #4]
 3032 0030 1B68     		ldr	r3, [r3]
 3033 0032 5B6B     		ldr	r3, [r3, #52]
 3034 0034 03F48073 		and	r3, r3, #256
 3035              		.loc 1 1679 11
 3036 0038 002B     		cmp	r3, #0
 3037 003a 00F09780 		beq	.L139
1680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
1681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_FLAG_DATAEND);
 3038              		.loc 1 1681 5
 3039 003e 7B68     		ldr	r3, [r7, #4]
 3040 0040 1B68     		ldr	r3, [r3]
 3041 0042 4FF48072 		mov	r2, #256
 3042 0046 9A63     		str	r2, [r3, #56]
1682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_DISABLE_IT(hmmc, SDMMC_IT_DATAEND  | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
 3043              		.loc 1 1683 5
 3044 0048 7B68     		ldr	r3, [r7, #4]
 3045 004a 1B68     		ldr	r3, [r3]
 3046 004c DB6B     		ldr	r3, [r3, #60]
 3047 004e 7A68     		ldr	r2, [r7, #4]
 3048 0050 1268     		ldr	r2, [r2]
 3049 0052 23F44143 		bic	r3, r3, #49408
 3050 0056 23F03A03 		bic	r3, r3, #58
 3051 005a D363     		str	r3, [r2, #60]
1684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                          SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR  | SDMMC_IT_TXFIFOHE | \
1685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                          SDMMC_IT_RXFIFOHF);
1686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
1687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Instance->DCTRL &= ~(SDMMC_DCTRL_DTEN);
 3052              		.loc 1 1687 9
 3053 005c 7B68     		ldr	r3, [r7, #4]
 3054 005e 1B68     		ldr	r3, [r3]
 3055              		.loc 1 1687 19
ARM GAS  /tmp/ccxVmGdL.s 			page 84


 3056 0060 DA6A     		ldr	r2, [r3, #44]
 3057              		.loc 1 1687 9
 3058 0062 7B68     		ldr	r3, [r7, #4]
 3059 0064 1B68     		ldr	r3, [r3]
 3060              		.loc 1 1687 27
 3061 0066 22F00102 		bic	r2, r2, #1
 3062 006a DA62     		str	r2, [r3, #44]
1688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_DISABLE_IT(hmmc, SDMMC_IT_IDMABTC);
1690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __SDMMC_CMDTRANS_DISABLE(hmmc->Instance);
1691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif /* GENERATOR_STM32L4XX */
1692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((context & MMC_CONTEXT_DMA) != 0U)
 3063              		.loc 1 1693 18
 3064 006c FB68     		ldr	r3, [r7, #12]
 3065 006e 03F08003 		and	r3, r3, #128
 3066              		.loc 1 1693 8
 3067 0072 002B     		cmp	r3, #0
 3068 0074 3AD0     		beq	.L140
1694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Instance->DLEN = 0;
1697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Instance->DCTRL = 0;
1698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Instance->IDMACTRL = SDMMC_DISABLE_IDMA ;
1699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Stop Transfer for Write Multi blocks or Read Multi blocks */
1701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (((context & MMC_CONTEXT_READ_MULTIPLE_BLOCK) != 0U) || ((context & MMC_CONTEXT_WRITE_MULT
1702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
1703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = SDMMC_CmdStopTransfer(hmmc->Instance);
1704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if (errorstate != HAL_MMC_ERROR_NONE)
1705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
1706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           hmmc->ErrorCode |= errorstate;
1707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
1708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           hmmc->ErrorCallback(hmmc);
1709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           HAL_MMC_ErrorCallback(hmmc);
1711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
1713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
1714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
1716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_DATA_FLAGS);
1717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
1719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_NONE;
1720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (((context & MMC_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & MMC_CONTEXT_WRITE_MULTI
1721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
1722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
1723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->TxCpltCallback(hmmc);
1724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         HAL_MMC_TxCpltCallback(hmmc);
1726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
1728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (((context & MMC_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & MMC_CONTEXT_READ_MULTIPL
1729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
1730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
1731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->RxCpltCallback(hmmc);
ARM GAS  /tmp/ccxVmGdL.s 			page 85


1732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         HAL_MMC_RxCpltCallback(hmmc);
1734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
1736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if ((context & MMC_CONTEXT_WRITE_MULTIPLE_BLOCK) != 0U)
 3069              		.loc 1 1737 20
 3070 0076 FB68     		ldr	r3, [r7, #12]
 3071 0078 03F02003 		and	r3, r3, #32
 3072              		.loc 1 1737 10
 3073 007c 002B     		cmp	r3, #0
 3074 007e 11D0     		beq	.L141
1738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
1739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = SDMMC_CmdStopTransfer(hmmc->Instance);
 3075              		.loc 1 1739 22
 3076 0080 7B68     		ldr	r3, [r7, #4]
 3077 0082 1B68     		ldr	r3, [r3]
 3078 0084 1846     		mov	r0, r3
 3079 0086 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 3080 008a B860     		str	r0, [r7, #8]
1740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if (errorstate != HAL_MMC_ERROR_NONE)
 3081              		.loc 1 1740 12
 3082 008c BB68     		ldr	r3, [r7, #8]
 3083 008e 002B     		cmp	r3, #0
 3084 0090 08D0     		beq	.L141
1741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
1742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           hmmc->ErrorCode |= errorstate;
 3085              		.loc 1 1742 15
 3086 0092 7B68     		ldr	r3, [r7, #4]
 3087 0094 9A6B     		ldr	r2, [r3, #56]
 3088              		.loc 1 1742 27
 3089 0096 BB68     		ldr	r3, [r7, #8]
 3090 0098 1A43     		orrs	r2, r2, r3
 3091 009a 7B68     		ldr	r3, [r7, #4]
 3092 009c 9A63     		str	r2, [r3, #56]
1743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
1744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           hmmc->ErrorCallback(hmmc);
1745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           HAL_MMC_ErrorCallback(hmmc);
 3093              		.loc 1 1746 11
 3094 009e 7868     		ldr	r0, [r7, #4]
 3095 00a0 FFF7FEFF 		bl	HAL_MMC_ErrorCallback
 3096              	.L141:
1747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
1749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
1750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Disable the DMA transfer for transmit request by setting the DMAEN bit
1751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       in the MMC DCTRL register */
1752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Instance->DCTRL &= (uint32_t)~((uint32_t)SDMMC_DCTRL_DMAEN);
 3097              		.loc 1 1752 11
 3098 00a4 7B68     		ldr	r3, [r7, #4]
 3099 00a6 1B68     		ldr	r3, [r3]
 3100              		.loc 1 1752 21
 3101 00a8 DA6A     		ldr	r2, [r3, #44]
 3102              		.loc 1 1752 11
 3103 00aa 7B68     		ldr	r3, [r7, #4]
 3104 00ac 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccxVmGdL.s 			page 86


 3105              		.loc 1 1752 29
 3106 00ae 22F00802 		bic	r2, r2, #8
 3107 00b2 DA62     		str	r2, [r3, #44]
1753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
1754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_DATA_FLAGS);
 3108              		.loc 1 1754 7
 3109 00b4 7B68     		ldr	r3, [r7, #4]
 3110 00b6 1B68     		ldr	r3, [r3]
 3111 00b8 40F23A52 		movw	r2, #1338
 3112 00bc 9A63     		str	r2, [r3, #56]
1755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 3113              		.loc 1 1755 19
 3114 00be 7B68     		ldr	r3, [r7, #4]
 3115 00c0 0122     		movs	r2, #1
 3116 00c2 83F83420 		strb	r2, [r3, #52]
1756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_NONE;
 3117              		.loc 1 1756 21
 3118 00c6 7B68     		ldr	r3, [r7, #4]
 3119 00c8 0022     		movs	r2, #0
 3120 00ca 1A63     		str	r2, [r3, #48]
1757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (((context & MMC_CONTEXT_READ_SINGLE_BLOCK) == 0U) && ((context & MMC_CONTEXT_READ_MULTIPL
 3121              		.loc 1 1757 21
 3122 00cc FB68     		ldr	r3, [r7, #12]
 3123 00ce 03F00103 		and	r3, r3, #1
 3124              		.loc 1 1757 10
 3125 00d2 002B     		cmp	r3, #0
 3126 00d4 40F01481 		bne	.L160
 3127              		.loc 1 1757 74 discriminator 1
 3128 00d8 FB68     		ldr	r3, [r7, #12]
 3129 00da 03F00203 		and	r3, r3, #2
 3130              		.loc 1 1757 61 discriminator 1
 3131 00de 002B     		cmp	r3, #0
 3132 00e0 40F00E81 		bne	.L160
1758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
1759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
1760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->TxCpltCallback(hmmc);
1761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         HAL_MMC_TxCpltCallback(hmmc);
 3133              		.loc 1 1762 9
 3134 00e4 7868     		ldr	r0, [r7, #4]
 3135 00e6 FFF7FEFF 		bl	HAL_MMC_TxCpltCallback
1763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
1765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else if ((context & MMC_CONTEXT_IT) != 0U)
1768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Stop Transfer for Write Multi blocks or Read Multi blocks */
1770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (((context & MMC_CONTEXT_READ_MULTIPLE_BLOCK) != 0U) || ((context & MMC_CONTEXT_WRITE_MULT
1771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
1772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = SDMMC_CmdStopTransfer(hmmc->Instance);
1773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if (errorstate != HAL_MMC_ERROR_NONE)
1774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
1775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           hmmc->ErrorCode |= errorstate;
1776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
1777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           hmmc->ErrorCallback(hmmc);
1778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
ARM GAS  /tmp/ccxVmGdL.s 			page 87


1779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           HAL_MMC_ErrorCallback(hmmc);
1780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
1782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
1783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
1785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_DATA_FLAGS);
1786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
1788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_NONE;
1789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (((context & MMC_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & MMC_CONTEXT_READ_MULTIPL
1790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
1791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
1792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->RxCpltCallback(hmmc);
1793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         HAL_MMC_RxCpltCallback(hmmc);
1795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
1797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else
1798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
1799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
1800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->TxCpltCallback(hmmc);
1801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         HAL_MMC_TxCpltCallback(hmmc);
1803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
1805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
1807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Nothing to do */
1809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
1811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else if ((__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_TXFIFOHE) != RESET) && ((context & MMC_CONTEXT_IT) 
1813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
1814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     MMC_Write_IT(hmmc);
1815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
1816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else if (__HAL_MMC_GET_FLAG(hmmc,
1818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                               SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SDMMC_FLAG_RXOVERR | SDMM
1819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****            RESET)
1820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
1821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Set Error code */
1822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_DCRCFAIL) != RESET)
1823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_DATA_CRC_FAIL;
1825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_DTIMEOUT) != RESET)
1827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_DATA_TIMEOUT;
1829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_RXOVERR) != RESET)
1831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_RX_OVERRUN;
1833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_TXUNDERR) != RESET)
1835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
ARM GAS  /tmp/ccxVmGdL.s 			page 88


1836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_TX_UNDERRUN;
1837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Clear All flags */
1840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_DATA_FLAGS);
1841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Disable all interrupts */
1843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_DISABLE_IT(hmmc, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
1844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                          SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
1845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __SDMMC_CMDTRANS_DISABLE(hmmc->Instance);
1847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Instance->DCTRL |= SDMMC_DCTRL_FIFORST;
1848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Instance->CMD |= SDMMC_CMD_CMDSTOP;
1849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= SDMMC_CmdStopTransfer(hmmc->Instance);
1851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
1853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_FLAG_DABORT);
1854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((context & MMC_CONTEXT_IT) != 0U)
1856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Set the MMC state to ready to be able to start again the process */
1858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
1859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_NONE;
1860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
1861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCallback(hmmc);
1862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       HAL_MMC_ErrorCallback(hmmc);
1864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif /* USE_HAL_MMC_REGISTER_CALLBACKS */
1865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else if ((context & MMC_CONTEXT_DMA) != 0U)
1867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Abort the MMC DMA Streams */
1869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (((context & MMC_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & MMC_CONTEXT_WRITE_MULTI
1870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
1871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if (hmmc->ErrorCode != HAL_MMC_ERROR_NONE)
1873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
1874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* Disable Internal DMA */
1875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           __HAL_MMC_DISABLE_IT(hmmc, SDMMC_IT_IDMABTC);
1876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           hmmc->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
1877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* Set the MMC state to ready to be able to start again the process */
1879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           hmmc->State = HAL_MMC_STATE_READY;
1880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
1881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           hmmc->ErrorCallback(hmmc);
1882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           HAL_MMC_ErrorCallback(hmmc);
1884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif /* USE_HAL_MMC_REGISTER_CALLBACKS */
1885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
1886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
1887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Abort the MMC DMA Streams */
1889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if (hmmc->hdmatx != NULL)
1890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
1891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* Set the DMA Tx abort callback */
1892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           hmmc->hdmatx->XferAbortCallback = MMC_DMATxAbort;
ARM GAS  /tmp/ccxVmGdL.s 			page 89


1893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* Abort DMA in IT mode */
1894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           if (HAL_DMA_Abort_IT(hmmc->hdmatx) != HAL_OK)
1895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
1896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             MMC_DMATxAbort(hmmc->hdmatx);
1897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
1898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
1899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
1900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else if (((context & MMC_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & MMC_CONTEXT_READ_MU
1901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
1902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if (hmmc->hdmarx != NULL)
1903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
1904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* Set the DMA Rx abort callback */
1905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           hmmc->hdmarx->XferAbortCallback = MMC_DMARxAbort;
1906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* Abort DMA in IT mode */
1907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           if (HAL_DMA_Abort_IT(hmmc->hdmarx) != HAL_OK)
1908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
1909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             MMC_DMARxAbort(hmmc->hdmarx);
1910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
1911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
1912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
1913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else
1914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
1915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->ErrorCode = HAL_MMC_ERROR_NONE;
1916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->State = HAL_MMC_STATE_READY;
1917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->Context = MMC_CONTEXT_NONE;
1918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
1919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->AbortCpltCallback(hmmc);
1920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         HAL_MMC_AbortCallback(hmmc);
1922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
1924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif /* GENERATOR_STM32L4XX */
1925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
1927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Nothing to do */
1929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
1931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_IDMABTC) != RESET)
1933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
1934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_IT_IDMABTC);
1935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (READ_BIT(hmmc->Instance->IDMACTRL, SDMMC_IDMA_IDMABACT) == 0U)
1936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Current buffer is buffer0, Transfer complete for buffer1 */
1938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if ((context & MMC_CONTEXT_WRITE_MULTIPLE_BLOCK) != 0U)
1939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
1940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
1941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->Write_DMADblBuf1CpltCallback(hmmc);
1942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         HAL_MMCEx_Write_DMADoubleBuffer1CpltCallback(hmmc);
1944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
1946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else /* MMC_CONTEXT_READ_MULTIPLE_BLOCK */
1947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
1948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
1949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->Read_DMADblBuf1CpltCallback(hmmc);
ARM GAS  /tmp/ccxVmGdL.s 			page 90


1950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         HAL_MMCEx_Read_DMADoubleBuffer1CpltCallback(hmmc);
1952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
1954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else /* MMC_DMA_BUFFER1 */
1956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
1957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Current buffer is buffer1, Transfer complete for buffer0 */
1958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if ((context & MMC_CONTEXT_WRITE_MULTIPLE_BLOCK) != 0U)
1959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
1960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
1961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->Write_DMADblBuf0CpltCallback(hmmc);
1962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         HAL_MMCEx_Write_DMADoubleBuffer0CpltCallback(hmmc);
1964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
1966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else /* MMC_CONTEXT_READ_MULTIPLE_BLOCK */
1967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
1968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
1969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->Read_DMADblBuf0CpltCallback(hmmc);
1970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
1971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         HAL_MMCEx_Read_DMADoubleBuffer0CpltCallback(hmmc);
1972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
1974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
1975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
1976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
1977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
1978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
1979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Nothing to do */
1980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
1981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 3136              		.loc 1 1981 1
 3137 00ea 09E1     		b	.L160
 3138              	.L140:
1767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 3139              		.loc 1 1767 23
 3140 00ec FB68     		ldr	r3, [r7, #12]
 3141 00ee 03F00803 		and	r3, r3, #8
1767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 3142              		.loc 1 1767 13
 3143 00f2 002B     		cmp	r3, #0
 3144 00f4 00F00481 		beq	.L160
1770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 3145              		.loc 1 1770 21
 3146 00f8 FB68     		ldr	r3, [r7, #12]
 3147 00fa 03F00203 		and	r3, r3, #2
1770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 3148              		.loc 1 1770 10
 3149 00fe 002B     		cmp	r3, #0
 3150 0100 04D1     		bne	.L142
1770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 3151              		.loc 1 1770 76 discriminator 1
 3152 0102 FB68     		ldr	r3, [r7, #12]
 3153 0104 03F02003 		and	r3, r3, #32
1770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 3154              		.loc 1 1770 63 discriminator 1
ARM GAS  /tmp/ccxVmGdL.s 			page 91


 3155 0108 002B     		cmp	r3, #0
 3156 010a 11D0     		beq	.L143
 3157              	.L142:
1772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if (errorstate != HAL_MMC_ERROR_NONE)
 3158              		.loc 1 1772 22
 3159 010c 7B68     		ldr	r3, [r7, #4]
 3160 010e 1B68     		ldr	r3, [r3]
 3161 0110 1846     		mov	r0, r3
 3162 0112 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 3163 0116 B860     		str	r0, [r7, #8]
1773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
 3164              		.loc 1 1773 12
 3165 0118 BB68     		ldr	r3, [r7, #8]
 3166 011a 002B     		cmp	r3, #0
 3167 011c 08D0     		beq	.L143
1775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
 3168              		.loc 1 1775 15
 3169 011e 7B68     		ldr	r3, [r7, #4]
 3170 0120 9A6B     		ldr	r2, [r3, #56]
1775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
 3171              		.loc 1 1775 27
 3172 0122 BB68     		ldr	r3, [r7, #8]
 3173 0124 1A43     		orrs	r2, r2, r3
 3174 0126 7B68     		ldr	r3, [r7, #4]
 3175 0128 9A63     		str	r2, [r3, #56]
1779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 3176              		.loc 1 1779 11
 3177 012a 7868     		ldr	r0, [r7, #4]
 3178 012c FFF7FEFF 		bl	HAL_MMC_ErrorCallback
 3179              	.L143:
1785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 3180              		.loc 1 1785 7
 3181 0130 7B68     		ldr	r3, [r7, #4]
 3182 0132 1B68     		ldr	r3, [r3]
 3183 0134 40F23A52 		movw	r2, #1338
 3184 0138 9A63     		str	r2, [r3, #56]
1787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_NONE;
 3185              		.loc 1 1787 19
 3186 013a 7B68     		ldr	r3, [r7, #4]
 3187 013c 0122     		movs	r2, #1
 3188 013e 83F83420 		strb	r2, [r3, #52]
1788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (((context & MMC_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & MMC_CONTEXT_READ_MULTIPL
 3189              		.loc 1 1788 21
 3190 0142 7B68     		ldr	r3, [r7, #4]
 3191 0144 0022     		movs	r2, #0
 3192 0146 1A63     		str	r2, [r3, #48]
1789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 3193              		.loc 1 1789 21
 3194 0148 FB68     		ldr	r3, [r7, #12]
 3195 014a 03F00103 		and	r3, r3, #1
1789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 3196              		.loc 1 1789 10
 3197 014e 002B     		cmp	r3, #0
 3198 0150 04D1     		bne	.L144
1789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 3199              		.loc 1 1789 74 discriminator 1
 3200 0152 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccxVmGdL.s 			page 92


 3201 0154 03F00203 		and	r3, r3, #2
1789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 3202              		.loc 1 1789 61 discriminator 1
 3203 0158 002B     		cmp	r3, #0
 3204 015a 03D0     		beq	.L145
 3205              	.L144:
1794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 3206              		.loc 1 1794 9
 3207 015c 7868     		ldr	r0, [r7, #4]
 3208 015e FFF7FEFF 		bl	HAL_MMC_RxCpltCallback
 3209 0162 CDE0     		b	.L138
 3210              	.L145:
1802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 3211              		.loc 1 1802 9
 3212 0164 7868     		ldr	r0, [r7, #4]
 3213 0166 FFF7FEFF 		bl	HAL_MMC_TxCpltCallback
 3214              		.loc 1 1981 1
 3215 016a C9E0     		b	.L160
 3216              	.L139:
1812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 3217              		.loc 1 1812 13
 3218 016c 7B68     		ldr	r3, [r7, #4]
 3219 016e 1B68     		ldr	r3, [r3]
 3220 0170 5B6B     		ldr	r3, [r3, #52]
 3221 0172 03F48043 		and	r3, r3, #16384
1812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 3222              		.loc 1 1812 11
 3223 0176 002B     		cmp	r3, #0
 3224 0178 08D0     		beq	.L147
1812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 3225              		.loc 1 1812 82 discriminator 1
 3226 017a FB68     		ldr	r3, [r7, #12]
 3227 017c 03F00803 		and	r3, r3, #8
1812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 3228              		.loc 1 1812 69 discriminator 1
 3229 0180 002B     		cmp	r3, #0
 3230 0182 03D0     		beq	.L147
1814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
 3231              		.loc 1 1814 5
 3232 0184 7868     		ldr	r0, [r7, #4]
 3233 0186 FFF7FEFF 		bl	MMC_Write_IT
 3234 018a B9E0     		b	.L138
 3235              	.L147:
1817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                               SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SDMMC_FLAG_RXOVERR | SDMM
 3236              		.loc 1 1817 12
 3237 018c 7B68     		ldr	r3, [r7, #4]
 3238 018e 1B68     		ldr	r3, [r3]
 3239 0190 5B6B     		ldr	r3, [r3, #52]
 3240 0192 03F03A03 		and	r3, r3, #58
1817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                               SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SDMMC_FLAG_RXOVERR | SDMM
 3241              		.loc 1 1817 11
 3242 0196 002B     		cmp	r3, #0
 3243 0198 00F0B280 		beq	.L160
1822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 3244              		.loc 1 1822 9
 3245 019c 7B68     		ldr	r3, [r7, #4]
 3246 019e 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccxVmGdL.s 			page 93


 3247 01a0 5B6B     		ldr	r3, [r3, #52]
 3248 01a2 03F00203 		and	r3, r3, #2
1822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 3249              		.loc 1 1822 8
 3250 01a6 002B     		cmp	r3, #0
 3251 01a8 05D0     		beq	.L148
1824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 3252              		.loc 1 1824 11
 3253 01aa 7B68     		ldr	r3, [r7, #4]
 3254 01ac 9B6B     		ldr	r3, [r3, #56]
1824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 3255              		.loc 1 1824 23
 3256 01ae 43F00202 		orr	r2, r3, #2
 3257 01b2 7B68     		ldr	r3, [r7, #4]
 3258 01b4 9A63     		str	r2, [r3, #56]
 3259              	.L148:
1826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 3260              		.loc 1 1826 9
 3261 01b6 7B68     		ldr	r3, [r7, #4]
 3262 01b8 1B68     		ldr	r3, [r3]
 3263 01ba 5B6B     		ldr	r3, [r3, #52]
 3264 01bc 03F00803 		and	r3, r3, #8
1826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 3265              		.loc 1 1826 8
 3266 01c0 002B     		cmp	r3, #0
 3267 01c2 05D0     		beq	.L149
1828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 3268              		.loc 1 1828 11
 3269 01c4 7B68     		ldr	r3, [r7, #4]
 3270 01c6 9B6B     		ldr	r3, [r3, #56]
1828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 3271              		.loc 1 1828 23
 3272 01c8 43F00802 		orr	r2, r3, #8
 3273 01cc 7B68     		ldr	r3, [r7, #4]
 3274 01ce 9A63     		str	r2, [r3, #56]
 3275              	.L149:
1830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 3276              		.loc 1 1830 9
 3277 01d0 7B68     		ldr	r3, [r7, #4]
 3278 01d2 1B68     		ldr	r3, [r3]
 3279 01d4 5B6B     		ldr	r3, [r3, #52]
 3280 01d6 03F02003 		and	r3, r3, #32
1830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 3281              		.loc 1 1830 8
 3282 01da 002B     		cmp	r3, #0
 3283 01dc 05D0     		beq	.L150
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 3284              		.loc 1 1832 11
 3285 01de 7B68     		ldr	r3, [r7, #4]
 3286 01e0 9B6B     		ldr	r3, [r3, #56]
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 3287              		.loc 1 1832 23
 3288 01e2 43F02002 		orr	r2, r3, #32
 3289 01e6 7B68     		ldr	r3, [r7, #4]
 3290 01e8 9A63     		str	r2, [r3, #56]
 3291              	.L150:
1834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
ARM GAS  /tmp/ccxVmGdL.s 			page 94


 3292              		.loc 1 1834 9
 3293 01ea 7B68     		ldr	r3, [r7, #4]
 3294 01ec 1B68     		ldr	r3, [r3]
 3295 01ee 5B6B     		ldr	r3, [r3, #52]
 3296 01f0 03F01003 		and	r3, r3, #16
1834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 3297              		.loc 1 1834 8
 3298 01f4 002B     		cmp	r3, #0
 3299 01f6 05D0     		beq	.L151
1836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 3300              		.loc 1 1836 11
 3301 01f8 7B68     		ldr	r3, [r7, #4]
 3302 01fa 9B6B     		ldr	r3, [r3, #56]
1836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
 3303              		.loc 1 1836 23
 3304 01fc 43F01002 		orr	r2, r3, #16
 3305 0200 7B68     		ldr	r3, [r7, #4]
 3306 0202 9A63     		str	r2, [r3, #56]
 3307              	.L151:
1840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
 3308              		.loc 1 1840 5
 3309 0204 7B68     		ldr	r3, [r7, #4]
 3310 0206 1B68     		ldr	r3, [r3]
 3311 0208 40F23A52 		movw	r2, #1338
 3312 020c 9A63     		str	r2, [r3, #56]
1843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                          SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
 3313              		.loc 1 1843 5
 3314 020e 7B68     		ldr	r3, [r7, #4]
 3315 0210 1B68     		ldr	r3, [r3]
 3316 0212 DA6B     		ldr	r2, [r3, #60]
 3317 0214 7B68     		ldr	r3, [r7, #4]
 3318 0216 1B68     		ldr	r3, [r3]
 3319 0218 22F49D72 		bic	r2, r2, #314
 3320 021c DA63     		str	r2, [r3, #60]
1850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 3321              		.loc 1 1850 24
 3322 021e 7B68     		ldr	r3, [r7, #4]
 3323 0220 1B68     		ldr	r3, [r3]
 3324 0222 1846     		mov	r0, r3
 3325 0224 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 3326 0228 0246     		mov	r2, r0
1850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 3327              		.loc 1 1850 9 discriminator 1
 3328 022a 7B68     		ldr	r3, [r7, #4]
 3329 022c 9B6B     		ldr	r3, [r3, #56]
1850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 3330              		.loc 1 1850 21 discriminator 1
 3331 022e 1A43     		orrs	r2, r2, r3
 3332 0230 7B68     		ldr	r3, [r7, #4]
 3333 0232 9A63     		str	r2, [r3, #56]
1855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 3334              		.loc 1 1855 18
 3335 0234 FB68     		ldr	r3, [r7, #12]
 3336 0236 03F00803 		and	r3, r3, #8
1855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 3337              		.loc 1 1855 8
 3338 023a 002B     		cmp	r3, #0
ARM GAS  /tmp/ccxVmGdL.s 			page 95


 3339 023c 0AD0     		beq	.L152
1858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->Context = MMC_CONTEXT_NONE;
 3340              		.loc 1 1858 19
 3341 023e 7B68     		ldr	r3, [r7, #4]
 3342 0240 0122     		movs	r2, #1
 3343 0242 83F83420 		strb	r2, [r3, #52]
1859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
 3344              		.loc 1 1859 21
 3345 0246 7B68     		ldr	r3, [r7, #4]
 3346 0248 0022     		movs	r2, #0
 3347 024a 1A63     		str	r2, [r3, #48]
1863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif /* USE_HAL_MMC_REGISTER_CALLBACKS */
 3348              		.loc 1 1863 7
 3349 024c 7868     		ldr	r0, [r7, #4]
 3350 024e FFF7FEFF 		bl	HAL_MMC_ErrorCallback
 3351              		.loc 1 1981 1
 3352 0252 55E0     		b	.L160
 3353              	.L152:
1866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 3354              		.loc 1 1866 23
 3355 0254 FB68     		ldr	r3, [r7, #12]
 3356 0256 03F08003 		and	r3, r3, #128
1866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 3357              		.loc 1 1866 13
 3358 025a 002B     		cmp	r3, #0
 3359 025c 50D0     		beq	.L160
1869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 3360              		.loc 1 1869 21
 3361 025e FB68     		ldr	r3, [r7, #12]
 3362 0260 03F01003 		and	r3, r3, #16
1869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 3363              		.loc 1 1869 10
 3364 0264 002B     		cmp	r3, #0
 3365 0266 04D1     		bne	.L153
1869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 3366              		.loc 1 1869 75 discriminator 1
 3367 0268 FB68     		ldr	r3, [r7, #12]
 3368 026a 03F02003 		and	r3, r3, #32
1869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 3369              		.loc 1 1869 62 discriminator 1
 3370 026e 002B     		cmp	r3, #0
 3371 0270 15D0     		beq	.L154
 3372              	.L153:
1889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
 3373              		.loc 1 1889 17
 3374 0272 7B68     		ldr	r3, [r7, #4]
 3375 0274 1B6C     		ldr	r3, [r3, #64]
1889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
 3376              		.loc 1 1889 12
 3377 0276 002B     		cmp	r3, #0
 3378 0278 3FD0     		beq	.L161
1892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* Abort DMA in IT mode */
 3379              		.loc 1 1892 15
 3380 027a 7B68     		ldr	r3, [r7, #4]
 3381 027c 1B6C     		ldr	r3, [r3, #64]
1892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* Abort DMA in IT mode */
 3382              		.loc 1 1892 43
ARM GAS  /tmp/ccxVmGdL.s 			page 96


 3383 027e 224A     		ldr	r2, .L163
 3384 0280 9A63     		str	r2, [r3, #56]
1894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
 3385              		.loc 1 1894 15
 3386 0282 7B68     		ldr	r3, [r7, #4]
 3387 0284 1B6C     		ldr	r3, [r3, #64]
 3388 0286 1846     		mov	r0, r3
 3389 0288 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 3390 028c 0346     		mov	r3, r0
1894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
 3391              		.loc 1 1894 14 discriminator 1
 3392 028e 002B     		cmp	r3, #0
 3393 0290 33D0     		beq	.L161
1896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
 3394              		.loc 1 1896 13
 3395 0292 7B68     		ldr	r3, [r7, #4]
 3396 0294 1B6C     		ldr	r3, [r3, #64]
 3397 0296 1846     		mov	r0, r3
 3398 0298 FFF7FEFF 		bl	MMC_DMATxAbort
1889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
 3399              		.loc 1 1889 12
 3400 029c 2DE0     		b	.L161
 3401              	.L154:
1900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 3402              		.loc 1 1900 26
 3403 029e FB68     		ldr	r3, [r7, #12]
 3404 02a0 03F00103 		and	r3, r3, #1
1900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 3405              		.loc 1 1900 15
 3406 02a4 002B     		cmp	r3, #0
 3407 02a6 04D1     		bne	.L157
1900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 3408              		.loc 1 1900 79 discriminator 1
 3409 02a8 FB68     		ldr	r3, [r7, #12]
 3410 02aa 03F00203 		and	r3, r3, #2
1900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 3411              		.loc 1 1900 66 discriminator 1
 3412 02ae 002B     		cmp	r3, #0
 3413 02b0 15D0     		beq	.L158
 3414              	.L157:
1902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
 3415              		.loc 1 1902 17
 3416 02b2 7B68     		ldr	r3, [r7, #4]
 3417 02b4 DB6B     		ldr	r3, [r3, #60]
1902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
 3418              		.loc 1 1902 12
 3419 02b6 002B     		cmp	r3, #0
 3420 02b8 21D0     		beq	.L162
1905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* Abort DMA in IT mode */
 3421              		.loc 1 1905 15
 3422 02ba 7B68     		ldr	r3, [r7, #4]
 3423 02bc DB6B     		ldr	r3, [r3, #60]
1905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* Abort DMA in IT mode */
 3424              		.loc 1 1905 43
 3425 02be 134A     		ldr	r2, .L163+4
 3426 02c0 9A63     		str	r2, [r3, #56]
1907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
ARM GAS  /tmp/ccxVmGdL.s 			page 97


 3427              		.loc 1 1907 15
 3428 02c2 7B68     		ldr	r3, [r7, #4]
 3429 02c4 DB6B     		ldr	r3, [r3, #60]
 3430 02c6 1846     		mov	r0, r3
 3431 02c8 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 3432 02cc 0346     		mov	r3, r0
1907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
 3433              		.loc 1 1907 14 discriminator 1
 3434 02ce 002B     		cmp	r3, #0
 3435 02d0 15D0     		beq	.L162
1909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
 3436              		.loc 1 1909 13
 3437 02d2 7B68     		ldr	r3, [r7, #4]
 3438 02d4 DB6B     		ldr	r3, [r3, #60]
 3439 02d6 1846     		mov	r0, r3
 3440 02d8 FFF7FEFF 		bl	MMC_DMARxAbort
1902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
 3441              		.loc 1 1902 12
 3442 02dc 0FE0     		b	.L162
 3443              	.L158:
1915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->State = HAL_MMC_STATE_READY;
 3444              		.loc 1 1915 25
 3445 02de 7B68     		ldr	r3, [r7, #4]
 3446 02e0 0022     		movs	r2, #0
 3447 02e2 9A63     		str	r2, [r3, #56]
1916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->Context = MMC_CONTEXT_NONE;
 3448              		.loc 1 1916 21
 3449 02e4 7B68     		ldr	r3, [r7, #4]
 3450 02e6 0122     		movs	r2, #1
 3451 02e8 83F83420 		strb	r2, [r3, #52]
1917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
 3452              		.loc 1 1917 23
 3453 02ec 7B68     		ldr	r3, [r7, #4]
 3454 02ee 0022     		movs	r2, #0
 3455 02f0 1A63     		str	r2, [r3, #48]
1921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 3456              		.loc 1 1921 9
 3457 02f2 7868     		ldr	r0, [r7, #4]
 3458 02f4 FFF7FEFF 		bl	HAL_MMC_AbortCallback
 3459              		.loc 1 1981 1
 3460 02f8 02E0     		b	.L160
 3461              	.L161:
1889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
 3462              		.loc 1 1889 12
 3463 02fa 00BF     		nop
 3464 02fc 00E0     		b	.L160
 3465              	.L162:
1902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
 3466              		.loc 1 1902 12
 3467 02fe 00BF     		nop
 3468              	.L138:
 3469              	.L160:
 3470              		.loc 1 1981 1
 3471 0300 00BF     		nop
 3472 0302 1037     		adds	r7, r7, #16
 3473              		.cfi_def_cfa_offset 8
 3474 0304 BD46     		mov	sp, r7
ARM GAS  /tmp/ccxVmGdL.s 			page 98


 3475              		.cfi_def_cfa_register 13
 3476              		@ sp needed
 3477 0306 80BD     		pop	{r7, pc}
 3478              	.L164:
 3479              		.align	2
 3480              	.L163:
 3481 0308 00000000 		.word	MMC_DMATxAbort
 3482 030c 00000000 		.word	MMC_DMARxAbort
 3483              		.cfi_endproc
 3484              	.LFE457:
 3486              		.section	.text.HAL_MMC_GetState,"ax",%progbits
 3487              		.align	1
 3488              		.global	HAL_MMC_GetState
 3489              		.syntax unified
 3490              		.thumb
 3491              		.thumb_func
 3493              	HAL_MMC_GetState:
 3494              	.LFB458:
1982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
1984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief return the MMC state
1985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param hmmc: Pointer to mmc handle
1986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL state
1987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
1988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_MMC_StateTypeDef HAL_MMC_GetState(const MMC_HandleTypeDef *hmmc)
1989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 3495              		.loc 1 1989 1
 3496              		.cfi_startproc
 3497              		@ args = 0, pretend = 0, frame = 8
 3498              		@ frame_needed = 1, uses_anonymous_args = 0
 3499              		@ link register save eliminated.
 3500 0000 80B4     		push	{r7}
 3501              		.cfi_def_cfa_offset 4
 3502              		.cfi_offset 7, -4
 3503 0002 83B0     		sub	sp, sp, #12
 3504              		.cfi_def_cfa_offset 16
 3505 0004 00AF     		add	r7, sp, #0
 3506              		.cfi_def_cfa_register 7
 3507 0006 7860     		str	r0, [r7, #4]
1990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return hmmc->State;
 3508              		.loc 1 1990 14
 3509 0008 7B68     		ldr	r3, [r7, #4]
 3510 000a 93F83430 		ldrb	r3, [r3, #52]
 3511 000e DBB2     		uxtb	r3, r3
1991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 3512              		.loc 1 1991 1
 3513 0010 1846     		mov	r0, r3
 3514 0012 0C37     		adds	r7, r7, #12
 3515              		.cfi_def_cfa_offset 4
 3516 0014 BD46     		mov	sp, r7
 3517              		.cfi_def_cfa_register 13
 3518              		@ sp needed
 3519 0016 5DF8047B 		ldr	r7, [sp], #4
 3520              		.cfi_restore 7
 3521              		.cfi_def_cfa_offset 0
 3522 001a 7047     		bx	lr
 3523              		.cfi_endproc
ARM GAS  /tmp/ccxVmGdL.s 			page 99


 3524              	.LFE458:
 3526              		.section	.text.HAL_MMC_GetError,"ax",%progbits
 3527              		.align	1
 3528              		.global	HAL_MMC_GetError
 3529              		.syntax unified
 3530              		.thumb
 3531              		.thumb_func
 3533              	HAL_MMC_GetError:
 3534              	.LFB459:
1992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
1993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
1994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Return the MMC error code
1995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc : Pointer to a MMC_HandleTypeDef structure that contains
1996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *              the configuration information.
1997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval MMC Error Code
1998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
1999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** uint32_t HAL_MMC_GetError(const MMC_HandleTypeDef *hmmc)
2000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 3535              		.loc 1 2000 1
 3536              		.cfi_startproc
 3537              		@ args = 0, pretend = 0, frame = 8
 3538              		@ frame_needed = 1, uses_anonymous_args = 0
 3539              		@ link register save eliminated.
 3540 0000 80B4     		push	{r7}
 3541              		.cfi_def_cfa_offset 4
 3542              		.cfi_offset 7, -4
 3543 0002 83B0     		sub	sp, sp, #12
 3544              		.cfi_def_cfa_offset 16
 3545 0004 00AF     		add	r7, sp, #0
 3546              		.cfi_def_cfa_register 7
 3547 0006 7860     		str	r0, [r7, #4]
2001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return hmmc->ErrorCode;
 3548              		.loc 1 2001 14
 3549 0008 7B68     		ldr	r3, [r7, #4]
 3550 000a 9B6B     		ldr	r3, [r3, #56]
2002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 3551              		.loc 1 2002 1
 3552 000c 1846     		mov	r0, r3
 3553 000e 0C37     		adds	r7, r7, #12
 3554              		.cfi_def_cfa_offset 4
 3555 0010 BD46     		mov	sp, r7
 3556              		.cfi_def_cfa_register 13
 3557              		@ sp needed
 3558 0012 5DF8047B 		ldr	r7, [sp], #4
 3559              		.cfi_restore 7
 3560              		.cfi_def_cfa_offset 0
 3561 0016 7047     		bx	lr
 3562              		.cfi_endproc
 3563              	.LFE459:
 3565              		.section	.text.HAL_MMC_TxCpltCallback,"ax",%progbits
 3566              		.align	1
 3567              		.weak	HAL_MMC_TxCpltCallback
 3568              		.syntax unified
 3569              		.thumb
 3570              		.thumb_func
 3572              	HAL_MMC_TxCpltCallback:
 3573              	.LFB460:
ARM GAS  /tmp/ccxVmGdL.s 			page 100


2003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
2005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief Tx Transfer completed callbacks
2006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param hmmc: Pointer to MMC handle
2007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval None
2008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
2009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** __weak void HAL_MMC_TxCpltCallback(MMC_HandleTypeDef *hmmc)
2010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 3574              		.loc 1 2010 1
 3575              		.cfi_startproc
 3576              		@ args = 0, pretend = 0, frame = 8
 3577              		@ frame_needed = 1, uses_anonymous_args = 0
 3578              		@ link register save eliminated.
 3579 0000 80B4     		push	{r7}
 3580              		.cfi_def_cfa_offset 4
 3581              		.cfi_offset 7, -4
 3582 0002 83B0     		sub	sp, sp, #12
 3583              		.cfi_def_cfa_offset 16
 3584 0004 00AF     		add	r7, sp, #0
 3585              		.cfi_def_cfa_register 7
 3586 0006 7860     		str	r0, [r7, #4]
2011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Prevent unused argument(s) compilation warning */
2012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   UNUSED(hmmc);
2013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             the HAL_MMC_TxCpltCallback can be implemented in the user file
2016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****    */
2017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 3587              		.loc 1 2017 1
 3588 0008 00BF     		nop
 3589 000a 0C37     		adds	r7, r7, #12
 3590              		.cfi_def_cfa_offset 4
 3591 000c BD46     		mov	sp, r7
 3592              		.cfi_def_cfa_register 13
 3593              		@ sp needed
 3594 000e 5DF8047B 		ldr	r7, [sp], #4
 3595              		.cfi_restore 7
 3596              		.cfi_def_cfa_offset 0
 3597 0012 7047     		bx	lr
 3598              		.cfi_endproc
 3599              	.LFE460:
 3601              		.section	.text.HAL_MMC_RxCpltCallback,"ax",%progbits
 3602              		.align	1
 3603              		.weak	HAL_MMC_RxCpltCallback
 3604              		.syntax unified
 3605              		.thumb
 3606              		.thumb_func
 3608              	HAL_MMC_RxCpltCallback:
 3609              	.LFB461:
2018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
2020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief Rx Transfer completed callbacks
2021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param hmmc: Pointer MMC handle
2022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval None
2023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
2024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** __weak void HAL_MMC_RxCpltCallback(MMC_HandleTypeDef *hmmc)
2025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
ARM GAS  /tmp/ccxVmGdL.s 			page 101


 3610              		.loc 1 2025 1
 3611              		.cfi_startproc
 3612              		@ args = 0, pretend = 0, frame = 8
 3613              		@ frame_needed = 1, uses_anonymous_args = 0
 3614              		@ link register save eliminated.
 3615 0000 80B4     		push	{r7}
 3616              		.cfi_def_cfa_offset 4
 3617              		.cfi_offset 7, -4
 3618 0002 83B0     		sub	sp, sp, #12
 3619              		.cfi_def_cfa_offset 16
 3620 0004 00AF     		add	r7, sp, #0
 3621              		.cfi_def_cfa_register 7
 3622 0006 7860     		str	r0, [r7, #4]
2026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Prevent unused argument(s) compilation warning */
2027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   UNUSED(hmmc);
2028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             the HAL_MMC_RxCpltCallback can be implemented in the user file
2031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****    */
2032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 3623              		.loc 1 2032 1
 3624 0008 00BF     		nop
 3625 000a 0C37     		adds	r7, r7, #12
 3626              		.cfi_def_cfa_offset 4
 3627 000c BD46     		mov	sp, r7
 3628              		.cfi_def_cfa_register 13
 3629              		@ sp needed
 3630 000e 5DF8047B 		ldr	r7, [sp], #4
 3631              		.cfi_restore 7
 3632              		.cfi_def_cfa_offset 0
 3633 0012 7047     		bx	lr
 3634              		.cfi_endproc
 3635              	.LFE461:
 3637              		.section	.text.HAL_MMC_ErrorCallback,"ax",%progbits
 3638              		.align	1
 3639              		.weak	HAL_MMC_ErrorCallback
 3640              		.syntax unified
 3641              		.thumb
 3642              		.thumb_func
 3644              	HAL_MMC_ErrorCallback:
 3645              	.LFB462:
2033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
2035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief MMC error callbacks
2036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param hmmc: Pointer MMC handle
2037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval None
2038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
2039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** __weak void HAL_MMC_ErrorCallback(MMC_HandleTypeDef *hmmc)
2040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 3646              		.loc 1 2040 1
 3647              		.cfi_startproc
 3648              		@ args = 0, pretend = 0, frame = 8
 3649              		@ frame_needed = 1, uses_anonymous_args = 0
 3650              		@ link register save eliminated.
 3651 0000 80B4     		push	{r7}
 3652              		.cfi_def_cfa_offset 4
 3653              		.cfi_offset 7, -4
ARM GAS  /tmp/ccxVmGdL.s 			page 102


 3654 0002 83B0     		sub	sp, sp, #12
 3655              		.cfi_def_cfa_offset 16
 3656 0004 00AF     		add	r7, sp, #0
 3657              		.cfi_def_cfa_register 7
 3658 0006 7860     		str	r0, [r7, #4]
2041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Prevent unused argument(s) compilation warning */
2042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   UNUSED(hmmc);
2043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             the HAL_MMC_ErrorCallback can be implemented in the user file
2046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****    */
2047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 3659              		.loc 1 2047 1
 3660 0008 00BF     		nop
 3661 000a 0C37     		adds	r7, r7, #12
 3662              		.cfi_def_cfa_offset 4
 3663 000c BD46     		mov	sp, r7
 3664              		.cfi_def_cfa_register 13
 3665              		@ sp needed
 3666 000e 5DF8047B 		ldr	r7, [sp], #4
 3667              		.cfi_restore 7
 3668              		.cfi_def_cfa_offset 0
 3669 0012 7047     		bx	lr
 3670              		.cfi_endproc
 3671              	.LFE462:
 3673              		.section	.text.HAL_MMC_AbortCallback,"ax",%progbits
 3674              		.align	1
 3675              		.weak	HAL_MMC_AbortCallback
 3676              		.syntax unified
 3677              		.thumb
 3678              		.thumb_func
 3680              	HAL_MMC_AbortCallback:
 3681              	.LFB463:
2048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
2050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief MMC Abort callbacks
2051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param hmmc: Pointer MMC handle
2052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval None
2053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
2054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** __weak void HAL_MMC_AbortCallback(MMC_HandleTypeDef *hmmc)
2055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 3682              		.loc 1 2055 1
 3683              		.cfi_startproc
 3684              		@ args = 0, pretend = 0, frame = 8
 3685              		@ frame_needed = 1, uses_anonymous_args = 0
 3686              		@ link register save eliminated.
 3687 0000 80B4     		push	{r7}
 3688              		.cfi_def_cfa_offset 4
 3689              		.cfi_offset 7, -4
 3690 0002 83B0     		sub	sp, sp, #12
 3691              		.cfi_def_cfa_offset 16
 3692 0004 00AF     		add	r7, sp, #0
 3693              		.cfi_def_cfa_register 7
 3694 0006 7860     		str	r0, [r7, #4]
2056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Prevent unused argument(s) compilation warning */
2057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   UNUSED(hmmc);
2058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
ARM GAS  /tmp/ccxVmGdL.s 			page 103


2059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             the HAL_MMC_AbortCallback can be implemented in the user file
2061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****    */
2062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 3695              		.loc 1 2062 1
 3696 0008 00BF     		nop
 3697 000a 0C37     		adds	r7, r7, #12
 3698              		.cfi_def_cfa_offset 4
 3699 000c BD46     		mov	sp, r7
 3700              		.cfi_def_cfa_register 13
 3701              		@ sp needed
 3702 000e 5DF8047B 		ldr	r7, [sp], #4
 3703              		.cfi_restore 7
 3704              		.cfi_def_cfa_offset 0
 3705 0012 7047     		bx	lr
 3706              		.cfi_endproc
 3707              	.LFE463:
 3709              		.section	.text.HAL_MMC_GetCardCID,"ax",%progbits
 3710              		.align	1
 3711              		.global	HAL_MMC_GetCardCID
 3712              		.syntax unified
 3713              		.thumb
 3714              		.thumb_func
 3716              	HAL_MMC_GetCardCID:
 3717              	.LFB464:
2063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
2065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
2066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Register a User MMC Callback
2067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         To be used instead of the weak (surcharged) predefined callback
2068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param hmmc : MMC handle
2069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param CallbackId : ID of the callback to be registered
2070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *        This parameter can be one of the following values:
2071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          @arg @ref HAL_MMC_TX_CPLT_CB_ID    MMC Tx Complete Callback ID
2072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          @arg @ref HAL_MMC_RX_CPLT_CB_ID    MMC Rx Complete Callback ID
2073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          @arg @ref HAL_MMC_ERROR_CB_ID      MMC Error Callback ID
2074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          @arg @ref HAL_MMC_ABORT_CB_ID      MMC Abort Callback ID
2075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          @arg @ref HAL_MMC_READ_DMA_DBL_BUF0_CPLT_CB_ID  MMC DMA Rx Double buffer 0 Callback ID
2076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          @arg @ref HAL_MMC_READ_DMA_DBL_BUF1_CPLT_CB_ID  MMC DMA Rx Double buffer 1 Callback ID
2077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          @arg @ref HAL_MMC_WRITE_DMA_DBL_BUF0_CPLT_CB_ID MMC DMA Tx Double buffer 0 Callback ID
2078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          @arg @ref HAL_MMC_WRITE_DMA_DBL_BUF1_CPLT_CB_ID MMC DMA Tx Double buffer 1 Callback ID
2079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          @arg @ref HAL_MMC_MSP_INIT_CB_ID   MMC MspInit Callback ID
2080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          @arg @ref HAL_MMC_MSP_DEINIT_CB_ID MMC MspDeInit Callback ID
2081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param pCallback : pointer to the Callback function
2082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval status
2083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
2084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_RegisterCallback(MMC_HandleTypeDef *hmmc, HAL_MMC_CallbackIDTypeDef Callb
2085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                                            pMMC_CallbackTypeDef pCallback)
2086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
2087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   HAL_StatusTypeDef status = HAL_OK;
2088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (pCallback == NULL)
2090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Update the error code */
2092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= HAL_MMC_ERROR_INVALID_CALLBACK;
2093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
2094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
ARM GAS  /tmp/ccxVmGdL.s 			page 104


2095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Process locked */
2097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   __HAL_LOCK(hmmc);
2098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->State == HAL_MMC_STATE_READY)
2100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     switch (CallbackId)
2102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_TX_CPLT_CB_ID :
2104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->TxCpltCallback = pCallback;
2105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_RX_CPLT_CB_ID :
2107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->RxCpltCallback = pCallback;
2108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_ERROR_CB_ID :
2110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->ErrorCallback = pCallback;
2111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_ABORT_CB_ID :
2113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->AbortCpltCallback = pCallback;
2114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
2116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_READ_DMA_DBL_BUF0_CPLT_CB_ID :
2117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->Read_DMADblBuf0CpltCallback = pCallback;
2118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_READ_DMA_DBL_BUF1_CPLT_CB_ID :
2120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->Read_DMADblBuf1CpltCallback = pCallback;
2121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_WRITE_DMA_DBL_BUF0_CPLT_CB_ID :
2123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->Write_DMADblBuf0CpltCallback = pCallback;
2124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_WRITE_DMA_DBL_BUF1_CPLT_CB_ID :
2126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->Write_DMADblBuf1CpltCallback = pCallback;
2127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
2129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_MSP_INIT_CB_ID :
2130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->MspInitCallback = pCallback;
2131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_MSP_DEINIT_CB_ID :
2133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->MspDeInitCallback = pCallback;
2134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       default :
2136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Update the error code */
2137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->ErrorCode |= HAL_MMC_ERROR_INVALID_CALLBACK;
2138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* update return status */
2139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         status =  HAL_ERROR;
2140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else if (hmmc->State == HAL_MMC_STATE_RESET)
2144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     switch (CallbackId)
2146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_MSP_INIT_CB_ID :
2148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->MspInitCallback = pCallback;
2149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_MSP_DEINIT_CB_ID :
2151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->MspDeInitCallback = pCallback;
ARM GAS  /tmp/ccxVmGdL.s 			page 105


2152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       default :
2154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Update the error code */
2155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->ErrorCode |= HAL_MMC_ERROR_INVALID_CALLBACK;
2156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* update return status */
2157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         status =  HAL_ERROR;
2158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
2162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Update the error code */
2164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= HAL_MMC_ERROR_INVALID_CALLBACK;
2165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* update return status */
2166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     status =  HAL_ERROR;
2167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Release Lock */
2170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   __HAL_UNLOCK(hmmc);
2171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return status;
2172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
2173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
2175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Unregister a User MMC Callback
2176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         MMC Callback is redirected to the weak (surcharged) predefined callback
2177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param hmmc : MMC handle
2178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param CallbackId : ID of the callback to be unregistered
2179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *        This parameter can be one of the following values:
2180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          @arg @ref HAL_MMC_TX_CPLT_CB_ID    MMC Tx Complete Callback ID
2181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          @arg @ref HAL_MMC_RX_CPLT_CB_ID    MMC Rx Complete Callback ID
2182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          @arg @ref HAL_MMC_ERROR_CB_ID      MMC Error Callback ID
2183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          @arg @ref HAL_MMC_ABORT_CB_ID      MMC Abort Callback ID
2184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          @arg @ref HAL_MMC_READ_DMA_DBL_BUF0_CPLT_CB_ID  MMC DMA Rx Double buffer 0 Callback ID
2185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          @arg @ref HAL_MMC_READ_DMA_DBL_BUF1_CPLT_CB_ID  MMC DMA Rx Double buffer 1 Callback ID
2186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          @arg @ref HAL_MMC_WRITE_DMA_DBL_BUF0_CPLT_CB_ID MMC DMA Tx Double buffer 0 Callback ID
2187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          @arg @ref HAL_MMC_WRITE_DMA_DBL_BUF1_CPLT_CB_ID MMC DMA Tx Double buffer 1 Callback ID
2188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          @arg @ref HAL_MMC_MSP_INIT_CB_ID   MMC MspInit Callback ID
2189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          @arg @ref HAL_MMC_MSP_DEINIT_CB_ID MMC MspDeInit Callback ID
2190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval status
2191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
2192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_UnRegisterCallback(MMC_HandleTypeDef *hmmc, HAL_MMC_CallbackIDTypeDef Cal
2193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
2194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   HAL_StatusTypeDef status = HAL_OK;
2195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Process locked */
2197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   __HAL_LOCK(hmmc);
2198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->State == HAL_MMC_STATE_READY)
2200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     switch (CallbackId)
2202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_TX_CPLT_CB_ID :
2204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->TxCpltCallback = HAL_MMC_TxCpltCallback;
2205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_RX_CPLT_CB_ID :
2207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->RxCpltCallback = HAL_MMC_RxCpltCallback;
2208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
ARM GAS  /tmp/ccxVmGdL.s 			page 106


2209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_ERROR_CB_ID :
2210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->ErrorCallback = HAL_MMC_ErrorCallback;
2211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_ABORT_CB_ID :
2213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->AbortCpltCallback = HAL_MMC_AbortCallback;
2214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
2216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_READ_DMA_DBL_BUF0_CPLT_CB_ID :
2217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->Read_DMADblBuf0CpltCallback = HAL_MMCEx_Read_DMADoubleBuffer0CpltCallback;
2218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_READ_DMA_DBL_BUF1_CPLT_CB_ID :
2220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->Read_DMADblBuf1CpltCallback = HAL_MMCEx_Read_DMADoubleBuffer1CpltCallback;
2221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_WRITE_DMA_DBL_BUF0_CPLT_CB_ID :
2223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->Write_DMADblBuf0CpltCallback = HAL_MMCEx_Write_DMADoubleBuffer0CpltCallback;
2224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_WRITE_DMA_DBL_BUF1_CPLT_CB_ID :
2226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->Write_DMADblBuf1CpltCallback = HAL_MMCEx_Write_DMADoubleBuffer1CpltCallback;
2227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
2229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_MSP_INIT_CB_ID :
2230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->MspInitCallback = HAL_MMC_MspInit;
2231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_MSP_DEINIT_CB_ID :
2233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->MspDeInitCallback = HAL_MMC_MspDeInit;
2234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       default :
2236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Update the error code */
2237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->ErrorCode |= HAL_MMC_ERROR_INVALID_CALLBACK;
2238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* update return status */
2239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         status =  HAL_ERROR;
2240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else if (hmmc->State == HAL_MMC_STATE_RESET)
2244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     switch (CallbackId)
2246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_MSP_INIT_CB_ID :
2248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->MspInitCallback = HAL_MMC_MspInit;
2249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       case HAL_MMC_MSP_DEINIT_CB_ID :
2251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->MspDeInitCallback = HAL_MMC_MspDeInit;
2252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       default :
2254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Update the error code */
2255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->ErrorCode |= HAL_MMC_ERROR_INVALID_CALLBACK;
2256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* update return status */
2257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         status =  HAL_ERROR;
2258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
2259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
2262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Update the error code */
2264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= HAL_MMC_ERROR_INVALID_CALLBACK;
2265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* update return status */
ARM GAS  /tmp/ccxVmGdL.s 			page 107


2266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     status =  HAL_ERROR;
2267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Release Lock */
2270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   __HAL_UNLOCK(hmmc);
2271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return status;
2272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
2273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
2274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
2276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @}
2277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
2278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /** @addtogroup MMC_Exported_Functions_Group3
2280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *  @brief   management functions
2281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *
2282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** @verbatim
2283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   ==============================================================================
2284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                       ##### Peripheral Control functions #####
2285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   ==============================================================================
2286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   [..]
2287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     This subsection provides a set of functions allowing to control the MMC card
2288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     operations and get the related information
2289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** @endverbatim
2291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @{
2292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
2293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
2295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Returns information the information of the card which are stored on
2296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         the CID register.
2297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to MMC handle
2298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  pCID: Pointer to a HAL_MMC_CIDTypedef structure that
2299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         contains all CID register parameters
2300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
2301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
2302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_GetCardCID(MMC_HandleTypeDef *hmmc, HAL_MMC_CardCIDTypeDef *pCID)
2303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 3718              		.loc 1 2303 1
 3719              		.cfi_startproc
 3720              		@ args = 0, pretend = 0, frame = 8
 3721              		@ frame_needed = 1, uses_anonymous_args = 0
 3722              		@ link register save eliminated.
 3723 0000 80B4     		push	{r7}
 3724              		.cfi_def_cfa_offset 4
 3725              		.cfi_offset 7, -4
 3726 0002 83B0     		sub	sp, sp, #12
 3727              		.cfi_def_cfa_offset 16
 3728 0004 00AF     		add	r7, sp, #0
 3729              		.cfi_def_cfa_register 7
 3730 0006 7860     		str	r0, [r7, #4]
 3731 0008 3960     		str	r1, [r7]
2304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCID->ManufacturerID = (uint8_t)((hmmc->CID[0] & 0xFF000000U) >> 24U);
 3732              		.loc 1 2304 46
 3733 000a 7B68     		ldr	r3, [r7, #4]
 3734 000c 1B6F     		ldr	r3, [r3, #112]
 3735              		.loc 1 2304 65
ARM GAS  /tmp/ccxVmGdL.s 			page 108


 3736 000e 1B0E     		lsrs	r3, r3, #24
 3737              		.loc 1 2304 26
 3738 0010 DAB2     		uxtb	r2, r3
 3739              		.loc 1 2304 24
 3740 0012 3B68     		ldr	r3, [r7]
 3741 0014 1A70     		strb	r2, [r3]
2305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCID->OEM_AppliID = (uint16_t)((hmmc->CID[0] & 0x00FFFF00U) >> 8U);
 3742              		.loc 1 2306 44
 3743 0016 7B68     		ldr	r3, [r7, #4]
 3744 0018 1B6F     		ldr	r3, [r3, #112]
 3745              		.loc 1 2306 63
 3746 001a 1B0A     		lsrs	r3, r3, #8
 3747              		.loc 1 2306 23
 3748 001c 9AB2     		uxth	r2, r3
 3749              		.loc 1 2306 21
 3750 001e 3B68     		ldr	r3, [r7]
 3751 0020 5A80     		strh	r2, [r3, #2]	@ movhi
2307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCID->ProdName1 = (((hmmc->CID[0] & 0x000000FFU) << 24U) | ((hmmc->CID[1] & 0xFFFFFF00U) >> 8U));
 3752              		.loc 1 2308 33
 3753 0022 7B68     		ldr	r3, [r7, #4]
 3754 0024 1B6F     		ldr	r3, [r3, #112]
 3755              		.loc 1 2308 52
 3756 0026 1A06     		lsls	r2, r3, #24
 3757              		.loc 1 2308 73
 3758 0028 7B68     		ldr	r3, [r7, #4]
 3759 002a 5B6F     		ldr	r3, [r3, #116]
 3760              		.loc 1 2308 92
 3761 002c 1B0A     		lsrs	r3, r3, #8
 3762              		.loc 1 2308 60
 3763 002e 1A43     		orrs	r2, r2, r3
 3764              		.loc 1 2308 19
 3765 0030 3B68     		ldr	r3, [r7]
 3766 0032 5A60     		str	r2, [r3, #4]
2309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCID->ProdName2 = (uint8_t)(hmmc->CID[1] & 0x000000FFU);
 3767              		.loc 1 2310 40
 3768 0034 7B68     		ldr	r3, [r7, #4]
 3769 0036 5B6F     		ldr	r3, [r3, #116]
 3770              		.loc 1 2310 21
 3771 0038 DAB2     		uxtb	r2, r3
 3772              		.loc 1 2310 19
 3773 003a 3B68     		ldr	r3, [r7]
 3774 003c 1A72     		strb	r2, [r3, #8]
2311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCID->ProdRev = (uint8_t)((hmmc->CID[2] & 0xFF000000U) >> 24U);
 3775              		.loc 1 2312 39
 3776 003e 7B68     		ldr	r3, [r7, #4]
 3777 0040 9B6F     		ldr	r3, [r3, #120]
 3778              		.loc 1 2312 58
 3779 0042 1B0E     		lsrs	r3, r3, #24
 3780              		.loc 1 2312 19
 3781 0044 DAB2     		uxtb	r2, r3
 3782              		.loc 1 2312 17
 3783 0046 3B68     		ldr	r3, [r7]
 3784 0048 5A72     		strb	r2, [r3, #9]
ARM GAS  /tmp/ccxVmGdL.s 			page 109


2313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCID->ProdSN = (((hmmc->CID[2] & 0x00FFFFFFU) << 8U) | ((hmmc->CID[3] & 0xFF000000U) >> 24U));
 3785              		.loc 1 2314 30
 3786 004a 7B68     		ldr	r3, [r7, #4]
 3787 004c 9B6F     		ldr	r3, [r3, #120]
 3788              		.loc 1 2314 49
 3789 004e 1A02     		lsls	r2, r3, #8
 3790              		.loc 1 2314 69
 3791 0050 7B68     		ldr	r3, [r7, #4]
 3792 0052 DB6F     		ldr	r3, [r3, #124]
 3793              		.loc 1 2314 88
 3794 0054 1B0E     		lsrs	r3, r3, #24
 3795              		.loc 1 2314 56
 3796 0056 1A43     		orrs	r2, r2, r3
 3797              		.loc 1 2314 16
 3798 0058 3B68     		ldr	r3, [r7]
 3799 005a DA60     		str	r2, [r3, #12]
2315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCID->Reserved1 = (uint8_t)((hmmc->CID[3] & 0x00F00000U) >> 20U);
 3800              		.loc 1 2316 41
 3801 005c 7B68     		ldr	r3, [r7, #4]
 3802 005e DB6F     		ldr	r3, [r3, #124]
 3803              		.loc 1 2316 60
 3804 0060 1B0D     		lsrs	r3, r3, #20
 3805              		.loc 1 2316 21
 3806 0062 DBB2     		uxtb	r3, r3
 3807 0064 03F00F03 		and	r3, r3, #15
 3808 0068 DAB2     		uxtb	r2, r3
 3809              		.loc 1 2316 19
 3810 006a 3B68     		ldr	r3, [r7]
 3811 006c 1A74     		strb	r2, [r3, #16]
2317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCID->ManufactDate = (uint16_t)((hmmc->CID[3] & 0x000FFF00U) >> 8U);
 3812              		.loc 1 2318 45
 3813 006e 7B68     		ldr	r3, [r7, #4]
 3814 0070 DB6F     		ldr	r3, [r3, #124]
 3815              		.loc 1 2318 64
 3816 0072 1B0A     		lsrs	r3, r3, #8
 3817              		.loc 1 2318 24
 3818 0074 9BB2     		uxth	r3, r3
 3819 0076 C3F30B03 		ubfx	r3, r3, #0, #12
 3820 007a 9AB2     		uxth	r2, r3
 3821              		.loc 1 2318 22
 3822 007c 3B68     		ldr	r3, [r7]
 3823 007e 5A82     		strh	r2, [r3, #18]	@ movhi
2319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCID->CID_CRC = (uint8_t)((hmmc->CID[3] & 0x000000FEU) >> 1U);
 3824              		.loc 1 2320 39
 3825 0080 7B68     		ldr	r3, [r7, #4]
 3826 0082 DB6F     		ldr	r3, [r3, #124]
 3827              		.loc 1 2320 58
 3828 0084 5B08     		lsrs	r3, r3, #1
 3829              		.loc 1 2320 19
 3830 0086 DBB2     		uxtb	r3, r3
 3831 0088 03F07F03 		and	r3, r3, #127
 3832 008c DAB2     		uxtb	r2, r3
 3833              		.loc 1 2320 17
ARM GAS  /tmp/ccxVmGdL.s 			page 110


 3834 008e 3B68     		ldr	r3, [r7]
 3835 0090 1A75     		strb	r2, [r3, #20]
2321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCID->Reserved2 = 1U;
 3836              		.loc 1 2322 19
 3837 0092 3B68     		ldr	r3, [r7]
 3838 0094 0122     		movs	r2, #1
 3839 0096 5A75     		strb	r2, [r3, #21]
2323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return HAL_OK;
 3840              		.loc 1 2324 10
 3841 0098 0023     		movs	r3, #0
2325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 3842              		.loc 1 2325 1
 3843 009a 1846     		mov	r0, r3
 3844 009c 0C37     		adds	r7, r7, #12
 3845              		.cfi_def_cfa_offset 4
 3846 009e BD46     		mov	sp, r7
 3847              		.cfi_def_cfa_register 13
 3848              		@ sp needed
 3849 00a0 5DF8047B 		ldr	r7, [sp], #4
 3850              		.cfi_restore 7
 3851              		.cfi_def_cfa_offset 0
 3852 00a4 7047     		bx	lr
 3853              		.cfi_endproc
 3854              	.LFE464:
 3856              		.section	.text.HAL_MMC_GetCardCSD,"ax",%progbits
 3857              		.align	1
 3858              		.global	HAL_MMC_GetCardCSD
 3859              		.syntax unified
 3860              		.thumb
 3861              		.thumb_func
 3863              	HAL_MMC_GetCardCSD:
 3864              	.LFB465:
2326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
2328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Returns information the information of the card which are stored on
2329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         the CSD register.
2330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to MMC handle
2331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  pCSD: Pointer to a HAL_MMC_CardCSDTypeDef structure that
2332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         contains all CSD register parameters
2333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
2334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
2335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_GetCardCSD(MMC_HandleTypeDef *hmmc, HAL_MMC_CardCSDTypeDef *pCSD)
2336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 3865              		.loc 1 2336 1
 3866              		.cfi_startproc
 3867              		@ args = 0, pretend = 0, frame = 16
 3868              		@ frame_needed = 1, uses_anonymous_args = 0
 3869 0000 80B5     		push	{r7, lr}
 3870              		.cfi_def_cfa_offset 8
 3871              		.cfi_offset 7, -8
 3872              		.cfi_offset 14, -4
 3873 0002 84B0     		sub	sp, sp, #16
 3874              		.cfi_def_cfa_offset 24
 3875 0004 00AF     		add	r7, sp, #0
 3876              		.cfi_def_cfa_register 7
ARM GAS  /tmp/ccxVmGdL.s 			page 111


 3877 0006 7860     		str	r0, [r7, #4]
 3878 0008 3960     		str	r1, [r7]
2337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t block_nbr = 0;
 3879              		.loc 1 2337 12
 3880 000a 0023     		movs	r3, #0
 3881 000c FB60     		str	r3, [r7, #12]
2338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->CSDStruct = (uint8_t)((hmmc->CSD[0] & 0xC0000000U) >> 30U);
 3882              		.loc 1 2339 41
 3883 000e 7B68     		ldr	r3, [r7, #4]
 3884 0010 1B6E     		ldr	r3, [r3, #96]
 3885              		.loc 1 2339 60
 3886 0012 9B0F     		lsrs	r3, r3, #30
 3887              		.loc 1 2339 21
 3888 0014 DAB2     		uxtb	r2, r3
 3889              		.loc 1 2339 19
 3890 0016 3B68     		ldr	r3, [r7]
 3891 0018 1A70     		strb	r2, [r3]
2340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->SysSpecVersion = (uint8_t)((hmmc->CSD[0] & 0x3C000000U) >> 26U);
 3892              		.loc 1 2341 46
 3893 001a 7B68     		ldr	r3, [r7, #4]
 3894 001c 1B6E     		ldr	r3, [r3, #96]
 3895              		.loc 1 2341 65
 3896 001e 9B0E     		lsrs	r3, r3, #26
 3897              		.loc 1 2341 26
 3898 0020 DBB2     		uxtb	r3, r3
 3899 0022 03F00F03 		and	r3, r3, #15
 3900 0026 DAB2     		uxtb	r2, r3
 3901              		.loc 1 2341 24
 3902 0028 3B68     		ldr	r3, [r7]
 3903 002a 5A70     		strb	r2, [r3, #1]
2342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->Reserved1 = (uint8_t)((hmmc->CSD[0] & 0x03000000U) >> 24U);
 3904              		.loc 1 2343 41
 3905 002c 7B68     		ldr	r3, [r7, #4]
 3906 002e 1B6E     		ldr	r3, [r3, #96]
 3907              		.loc 1 2343 60
 3908 0030 1B0E     		lsrs	r3, r3, #24
 3909              		.loc 1 2343 21
 3910 0032 DBB2     		uxtb	r3, r3
 3911 0034 03F00303 		and	r3, r3, #3
 3912 0038 DAB2     		uxtb	r2, r3
 3913              		.loc 1 2343 19
 3914 003a 3B68     		ldr	r3, [r7]
 3915 003c 9A70     		strb	r2, [r3, #2]
2344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->TAAC = (uint8_t)((hmmc->CSD[0] & 0x00FF0000U) >> 16U);
 3916              		.loc 1 2345 36
 3917 003e 7B68     		ldr	r3, [r7, #4]
 3918 0040 1B6E     		ldr	r3, [r3, #96]
 3919              		.loc 1 2345 55
 3920 0042 1B0C     		lsrs	r3, r3, #16
 3921              		.loc 1 2345 16
 3922 0044 DAB2     		uxtb	r2, r3
 3923              		.loc 1 2345 14
 3924 0046 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccxVmGdL.s 			page 112


 3925 0048 DA70     		strb	r2, [r3, #3]
2346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->NSAC = (uint8_t)((hmmc->CSD[0] & 0x0000FF00U) >> 8U);
 3926              		.loc 1 2347 36
 3927 004a 7B68     		ldr	r3, [r7, #4]
 3928 004c 1B6E     		ldr	r3, [r3, #96]
 3929              		.loc 1 2347 55
 3930 004e 1B0A     		lsrs	r3, r3, #8
 3931              		.loc 1 2347 16
 3932 0050 DAB2     		uxtb	r2, r3
 3933              		.loc 1 2347 14
 3934 0052 3B68     		ldr	r3, [r7]
 3935 0054 1A71     		strb	r2, [r3, #4]
2348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->MaxBusClkFrec = (uint8_t)(hmmc->CSD[0] & 0x000000FFU);
 3936              		.loc 1 2349 44
 3937 0056 7B68     		ldr	r3, [r7, #4]
 3938 0058 1B6E     		ldr	r3, [r3, #96]
 3939              		.loc 1 2349 25
 3940 005a DAB2     		uxtb	r2, r3
 3941              		.loc 1 2349 23
 3942 005c 3B68     		ldr	r3, [r7]
 3943 005e 5A71     		strb	r2, [r3, #5]
2350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->CardComdClasses = (uint16_t)((hmmc->CSD[1] & 0xFFF00000U) >> 20U);
 3944              		.loc 1 2351 48
 3945 0060 7B68     		ldr	r3, [r7, #4]
 3946 0062 5B6E     		ldr	r3, [r3, #100]
 3947              		.loc 1 2351 67
 3948 0064 1B0D     		lsrs	r3, r3, #20
 3949              		.loc 1 2351 27
 3950 0066 9AB2     		uxth	r2, r3
 3951              		.loc 1 2351 25
 3952 0068 3B68     		ldr	r3, [r7]
 3953 006a DA80     		strh	r2, [r3, #6]	@ movhi
2352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->RdBlockLen = (uint8_t)((hmmc->CSD[1] & 0x000F0000U) >> 16U);
 3954              		.loc 1 2353 42
 3955 006c 7B68     		ldr	r3, [r7, #4]
 3956 006e 5B6E     		ldr	r3, [r3, #100]
 3957              		.loc 1 2353 61
 3958 0070 1B0C     		lsrs	r3, r3, #16
 3959              		.loc 1 2353 22
 3960 0072 DBB2     		uxtb	r3, r3
 3961 0074 03F00F03 		and	r3, r3, #15
 3962 0078 DAB2     		uxtb	r2, r3
 3963              		.loc 1 2353 20
 3964 007a 3B68     		ldr	r3, [r7]
 3965 007c 1A72     		strb	r2, [r3, #8]
2354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->PartBlockRead   = (uint8_t)((hmmc->CSD[1] & 0x00008000U) >> 15U);
 3966              		.loc 1 2355 47
 3967 007e 7B68     		ldr	r3, [r7, #4]
 3968 0080 5B6E     		ldr	r3, [r3, #100]
 3969              		.loc 1 2355 66
 3970 0082 DB0B     		lsrs	r3, r3, #15
 3971              		.loc 1 2355 27
ARM GAS  /tmp/ccxVmGdL.s 			page 113


 3972 0084 DBB2     		uxtb	r3, r3
 3973 0086 03F00103 		and	r3, r3, #1
 3974 008a DAB2     		uxtb	r2, r3
 3975              		.loc 1 2355 25
 3976 008c 3B68     		ldr	r3, [r7]
 3977 008e 5A72     		strb	r2, [r3, #9]
2356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->WrBlockMisalign = (uint8_t)((hmmc->CSD[1] & 0x00004000U) >> 14U);
 3978              		.loc 1 2357 47
 3979 0090 7B68     		ldr	r3, [r7, #4]
 3980 0092 5B6E     		ldr	r3, [r3, #100]
 3981              		.loc 1 2357 66
 3982 0094 9B0B     		lsrs	r3, r3, #14
 3983              		.loc 1 2357 27
 3984 0096 DBB2     		uxtb	r3, r3
 3985 0098 03F00103 		and	r3, r3, #1
 3986 009c DAB2     		uxtb	r2, r3
 3987              		.loc 1 2357 25
 3988 009e 3B68     		ldr	r3, [r7]
 3989 00a0 9A72     		strb	r2, [r3, #10]
2358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->RdBlockMisalign = (uint8_t)((hmmc->CSD[1] & 0x00002000U) >> 13U);
 3990              		.loc 1 2359 47
 3991 00a2 7B68     		ldr	r3, [r7, #4]
 3992 00a4 5B6E     		ldr	r3, [r3, #100]
 3993              		.loc 1 2359 66
 3994 00a6 5B0B     		lsrs	r3, r3, #13
 3995              		.loc 1 2359 27
 3996 00a8 DBB2     		uxtb	r3, r3
 3997 00aa 03F00103 		and	r3, r3, #1
 3998 00ae DAB2     		uxtb	r2, r3
 3999              		.loc 1 2359 25
 4000 00b0 3B68     		ldr	r3, [r7]
 4001 00b2 DA72     		strb	r2, [r3, #11]
2360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->DSRImpl = (uint8_t)((hmmc->CSD[1] & 0x00001000U) >> 12U);
 4002              		.loc 1 2361 39
 4003 00b4 7B68     		ldr	r3, [r7, #4]
 4004 00b6 5B6E     		ldr	r3, [r3, #100]
 4005              		.loc 1 2361 58
 4006 00b8 1B0B     		lsrs	r3, r3, #12
 4007              		.loc 1 2361 19
 4008 00ba DBB2     		uxtb	r3, r3
 4009 00bc 03F00103 		and	r3, r3, #1
 4010 00c0 DAB2     		uxtb	r2, r3
 4011              		.loc 1 2361 17
 4012 00c2 3B68     		ldr	r3, [r7]
 4013 00c4 1A73     		strb	r2, [r3, #12]
2362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->Reserved2 = 0U; /*!< Reserved */
 4014              		.loc 1 2363 19
 4015 00c6 3B68     		ldr	r3, [r7]
 4016 00c8 0022     		movs	r2, #0
 4017 00ca 5A73     		strb	r2, [r3, #13]
2364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->DeviceSize = (((hmmc->CSD[1] & 0x000003FFU) << 2U) | ((hmmc->CSD[2] & 0xC0000000U) >> 30U))
 4018              		.loc 1 2365 34
ARM GAS  /tmp/ccxVmGdL.s 			page 114


 4019 00cc 7B68     		ldr	r3, [r7, #4]
 4020 00ce 5B6E     		ldr	r3, [r3, #100]
 4021              		.loc 1 2365 53
 4022 00d0 9A00     		lsls	r2, r3, #2
 4023 00d2 40F6FC73 		movw	r3, #4092
 4024 00d6 1340     		ands	r3, r3, r2
 4025              		.loc 1 2365 73
 4026 00d8 7A68     		ldr	r2, [r7, #4]
 4027 00da 926E     		ldr	r2, [r2, #104]
 4028              		.loc 1 2365 92
 4029 00dc 920F     		lsrs	r2, r2, #30
 4030              		.loc 1 2365 60
 4031 00de 1A43     		orrs	r2, r2, r3
 4032              		.loc 1 2365 20
 4033 00e0 3B68     		ldr	r3, [r7]
 4034 00e2 1A61     		str	r2, [r3, #16]
2366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->MaxRdCurrentVDDMin = (uint8_t)((hmmc->CSD[2] & 0x38000000U) >> 27U);
 4035              		.loc 1 2367 50
 4036 00e4 7B68     		ldr	r3, [r7, #4]
 4037 00e6 9B6E     		ldr	r3, [r3, #104]
 4038              		.loc 1 2367 69
 4039 00e8 DB0E     		lsrs	r3, r3, #27
 4040              		.loc 1 2367 30
 4041 00ea DBB2     		uxtb	r3, r3
 4042 00ec 03F00703 		and	r3, r3, #7
 4043 00f0 DAB2     		uxtb	r2, r3
 4044              		.loc 1 2367 28
 4045 00f2 3B68     		ldr	r3, [r7]
 4046 00f4 1A75     		strb	r2, [r3, #20]
2368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->MaxRdCurrentVDDMax = (uint8_t)((hmmc->CSD[2] & 0x07000000U) >> 24U);
 4047              		.loc 1 2369 50
 4048 00f6 7B68     		ldr	r3, [r7, #4]
 4049 00f8 9B6E     		ldr	r3, [r3, #104]
 4050              		.loc 1 2369 69
 4051 00fa 1B0E     		lsrs	r3, r3, #24
 4052              		.loc 1 2369 30
 4053 00fc DBB2     		uxtb	r3, r3
 4054 00fe 03F00703 		and	r3, r3, #7
 4055 0102 DAB2     		uxtb	r2, r3
 4056              		.loc 1 2369 28
 4057 0104 3B68     		ldr	r3, [r7]
 4058 0106 5A75     		strb	r2, [r3, #21]
2370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->MaxWrCurrentVDDMin = (uint8_t)((hmmc->CSD[2] & 0x00E00000U) >> 21U);
 4059              		.loc 1 2371 50
 4060 0108 7B68     		ldr	r3, [r7, #4]
 4061 010a 9B6E     		ldr	r3, [r3, #104]
 4062              		.loc 1 2371 69
 4063 010c 5B0D     		lsrs	r3, r3, #21
 4064              		.loc 1 2371 30
 4065 010e DBB2     		uxtb	r3, r3
 4066 0110 03F00703 		and	r3, r3, #7
 4067 0114 DAB2     		uxtb	r2, r3
 4068              		.loc 1 2371 28
 4069 0116 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccxVmGdL.s 			page 115


 4070 0118 9A75     		strb	r2, [r3, #22]
2372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->MaxWrCurrentVDDMax = (uint8_t)((hmmc->CSD[2] & 0x001C0000U) >> 18U);
 4071              		.loc 1 2373 50
 4072 011a 7B68     		ldr	r3, [r7, #4]
 4073 011c 9B6E     		ldr	r3, [r3, #104]
 4074              		.loc 1 2373 69
 4075 011e 9B0C     		lsrs	r3, r3, #18
 4076              		.loc 1 2373 30
 4077 0120 DBB2     		uxtb	r3, r3
 4078 0122 03F00703 		and	r3, r3, #7
 4079 0126 DAB2     		uxtb	r2, r3
 4080              		.loc 1 2373 28
 4081 0128 3B68     		ldr	r3, [r7]
 4082 012a DA75     		strb	r2, [r3, #23]
2374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->DeviceSizeMul = (uint8_t)((hmmc->CSD[2] & 0x00038000U) >> 15U);
 4083              		.loc 1 2375 45
 4084 012c 7B68     		ldr	r3, [r7, #4]
 4085 012e 9B6E     		ldr	r3, [r3, #104]
 4086              		.loc 1 2375 64
 4087 0130 DB0B     		lsrs	r3, r3, #15
 4088              		.loc 1 2375 25
 4089 0132 DBB2     		uxtb	r3, r3
 4090 0134 03F00703 		and	r3, r3, #7
 4091 0138 DAB2     		uxtb	r2, r3
 4092              		.loc 1 2375 23
 4093 013a 3B68     		ldr	r3, [r7]
 4094 013c 1A76     		strb	r2, [r3, #24]
2376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (MMC_ReadExtCSD(hmmc, &block_nbr, 212, 0x0FFFFFFFU) != HAL_OK) /* Field SEC_COUNT [215:212] */
 4095              		.loc 1 2377 7
 4096 013e 07F10C01 		add	r1, r7, #12
 4097 0142 6FF07043 		mvn	r3, #-268435456
 4098 0146 D422     		movs	r2, #212
 4099 0148 7868     		ldr	r0, [r7, #4]
 4100 014a FFF7FEFF 		bl	MMC_ReadExtCSD
 4101 014e 0346     		mov	r3, r0
 4102              		.loc 1 2377 6 discriminator 1
 4103 0150 002B     		cmp	r3, #0
 4104 0152 01D0     		beq	.L176
2378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 4105              		.loc 1 2379 12
 4106 0154 0123     		movs	r3, #1
 4107 0156 F0E0     		b	.L181
 4108              	.L176:
2380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->MmcCard.CardType == MMC_LOW_CAPACITY_CARD)
 4109              		.loc 1 2382 20
 4110 0158 7B68     		ldr	r3, [r7, #4]
 4111 015a 5B6C     		ldr	r3, [r3, #68]
 4112              		.loc 1 2382 6
 4113 015c 002B     		cmp	r3, #0
 4114 015e 2AD1     		bne	.L178
2383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
ARM GAS  /tmp/ccxVmGdL.s 			page 116


2384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->MmcCard.BlockNbr  = (pCSD->DeviceSize + 1U) ;
 4115              		.loc 1 2384 36
 4116 0160 3B68     		ldr	r3, [r7]
 4117 0162 1B69     		ldr	r3, [r3, #16]
 4118              		.loc 1 2384 49
 4119 0164 5A1C     		adds	r2, r3, #1
 4120              		.loc 1 2384 29
 4121 0166 7B68     		ldr	r3, [r7, #4]
 4122 0168 1A65     		str	r2, [r3, #80]
2385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->MmcCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4123              		.loc 1 2385 45
 4124 016a 3B68     		ldr	r3, [r7]
 4125 016c 1B7E     		ldrb	r3, [r3, #24]
 4126 016e DBB2     		uxtb	r3, r3
 4127              		.loc 1 2385 61
 4128 0170 03F00703 		and	r3, r3, #7
 4129              		.loc 1 2385 70
 4130 0174 0233     		adds	r3, r3, #2
 4131              		.loc 1 2385 36
 4132 0176 0122     		movs	r2, #1
 4133 0178 02FA03F3 		lsl	r3, r2, r3
 4134              		.loc 1 2385 18
 4135 017c 7A68     		ldr	r2, [r7, #4]
 4136 017e 126D     		ldr	r2, [r2, #80]
 4137              		.loc 1 2385 28
 4138 0180 03FB02F2 		mul	r2, r3, r2
 4139 0184 7B68     		ldr	r3, [r7, #4]
 4140 0186 1A65     		str	r2, [r3, #80]
2386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->MmcCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4141              		.loc 1 2386 44
 4142 0188 3B68     		ldr	r3, [r7]
 4143 018a 1B7A     		ldrb	r3, [r3, #8]
 4144 018c DBB2     		uxtb	r3, r3
 4145              		.loc 1 2386 57
 4146 018e 03F00F03 		and	r3, r3, #15
 4147              		.loc 1 2386 36
 4148 0192 0122     		movs	r2, #1
 4149 0194 9A40     		lsls	r2, r2, r3
 4150              		.loc 1 2386 29
 4151 0196 7B68     		ldr	r3, [r7, #4]
 4152 0198 5A65     		str	r2, [r3, #84]
2387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->MmcCard.LogBlockNbr = (hmmc->MmcCard.BlockNbr) * ((hmmc->MmcCard.BlockSize) / 512U);
 4153              		.loc 1 2387 47
 4154 019a 7B68     		ldr	r3, [r7, #4]
 4155 019c 1B6D     		ldr	r3, [r3, #80]
 4156              		.loc 1 2387 75
 4157 019e 7A68     		ldr	r2, [r7, #4]
 4158 01a0 526D     		ldr	r2, [r2, #84]
 4159              		.loc 1 2387 87
 4160 01a2 520A     		lsrs	r2, r2, #9
 4161              		.loc 1 2387 58
 4162 01a4 03FB02F2 		mul	r2, r3, r2
 4163              		.loc 1 2387 31
 4164 01a8 7B68     		ldr	r3, [r7, #4]
 4165 01aa 9A65     		str	r2, [r3, #88]
2388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->MmcCard.LogBlockSize = 512U;
 4166              		.loc 1 2388 32
ARM GAS  /tmp/ccxVmGdL.s 			page 117


 4167 01ac 7B68     		ldr	r3, [r7, #4]
 4168 01ae 4FF40072 		mov	r2, #512
 4169 01b2 DA65     		str	r2, [r3, #92]
 4170 01b4 23E0     		b	.L179
 4171              	.L178:
2389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else if (hmmc->MmcCard.CardType == MMC_HIGH_CAPACITY_CARD)
 4172              		.loc 1 2390 25
 4173 01b6 7B68     		ldr	r3, [r7, #4]
 4174 01b8 5B6C     		ldr	r3, [r3, #68]
 4175              		.loc 1 2390 11
 4176 01ba 012B     		cmp	r3, #1
 4177 01bc 0FD1     		bne	.L180
2391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->MmcCard.BlockNbr = block_nbr;
 4178              		.loc 1 2392 28
 4179 01be FA68     		ldr	r2, [r7, #12]
 4180 01c0 7B68     		ldr	r3, [r7, #4]
 4181 01c2 1A65     		str	r2, [r3, #80]
2393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->MmcCard.LogBlockNbr = hmmc->MmcCard.BlockNbr;
 4182              		.loc 1 2393 46
 4183 01c4 7B68     		ldr	r3, [r7, #4]
 4184 01c6 1A6D     		ldr	r2, [r3, #80]
 4185              		.loc 1 2393 31
 4186 01c8 7B68     		ldr	r3, [r7, #4]
 4187 01ca 9A65     		str	r2, [r3, #88]
2394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->MmcCard.BlockSize = 512U;
 4188              		.loc 1 2394 29
 4189 01cc 7B68     		ldr	r3, [r7, #4]
 4190 01ce 4FF40072 		mov	r2, #512
 4191 01d2 5A65     		str	r2, [r3, #84]
2395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->MmcCard.LogBlockSize = hmmc->MmcCard.BlockSize;
 4192              		.loc 1 2395 47
 4193 01d4 7B68     		ldr	r3, [r7, #4]
 4194 01d6 5A6D     		ldr	r2, [r3, #84]
 4195              		.loc 1 2395 32
 4196 01d8 7B68     		ldr	r3, [r7, #4]
 4197 01da DA65     		str	r2, [r3, #92]
 4198 01dc 0FE0     		b	.L179
 4199              	.L180:
2396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
2398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Clear all the static flags */
2400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 4200              		.loc 1 2400 5
 4201 01de 7B68     		ldr	r3, [r7, #4]
 4202 01e0 1B68     		ldr	r3, [r3]
 4203 01e2 584A     		ldr	r2, .L182
 4204 01e4 9A63     		str	r2, [r3, #56]
2401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= HAL_MMC_ERROR_UNSUPPORTED_FEATURE;
 4205              		.loc 1 2401 9
 4206 01e6 7B68     		ldr	r3, [r7, #4]
 4207 01e8 9B6B     		ldr	r3, [r3, #56]
 4208              		.loc 1 2401 21
 4209 01ea 43F08052 		orr	r2, r3, #268435456
 4210 01ee 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccxVmGdL.s 			page 118


 4211 01f0 9A63     		str	r2, [r3, #56]
2402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
 4212              		.loc 1 2402 17
 4213 01f2 7B68     		ldr	r3, [r7, #4]
 4214 01f4 0122     		movs	r2, #1
 4215 01f6 83F83420 		strb	r2, [r3, #52]
2403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 4216              		.loc 1 2403 12
 4217 01fa 0123     		movs	r3, #1
 4218 01fc 9DE0     		b	.L181
 4219              	.L179:
2404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->EraseGrSize = (uint8_t)((hmmc->CSD[2] & 0x00004000U) >> 14U);
 4220              		.loc 1 2406 43
 4221 01fe 7B68     		ldr	r3, [r7, #4]
 4222 0200 9B6E     		ldr	r3, [r3, #104]
 4223              		.loc 1 2406 62
 4224 0202 9B0B     		lsrs	r3, r3, #14
 4225              		.loc 1 2406 23
 4226 0204 DBB2     		uxtb	r3, r3
 4227 0206 03F00103 		and	r3, r3, #1
 4228 020a DAB2     		uxtb	r2, r3
 4229              		.loc 1 2406 21
 4230 020c 3B68     		ldr	r3, [r7]
 4231 020e 5A76     		strb	r2, [r3, #25]
2407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->EraseGrMul = (uint8_t)((hmmc->CSD[2] & 0x00003F80U) >> 7U);
 4232              		.loc 1 2408 42
 4233 0210 7B68     		ldr	r3, [r7, #4]
 4234 0212 9B6E     		ldr	r3, [r3, #104]
 4235              		.loc 1 2408 61
 4236 0214 DB09     		lsrs	r3, r3, #7
 4237              		.loc 1 2408 22
 4238 0216 DBB2     		uxtb	r3, r3
 4239 0218 03F07F03 		and	r3, r3, #127
 4240 021c DAB2     		uxtb	r2, r3
 4241              		.loc 1 2408 20
 4242 021e 3B68     		ldr	r3, [r7]
 4243 0220 9A76     		strb	r2, [r3, #26]
2409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->WrProtectGrSize = (uint8_t)(hmmc->CSD[2] & 0x0000007FU);
 4244              		.loc 1 2410 46
 4245 0222 7B68     		ldr	r3, [r7, #4]
 4246 0224 9B6E     		ldr	r3, [r3, #104]
 4247              		.loc 1 2410 27
 4248 0226 DBB2     		uxtb	r3, r3
 4249 0228 03F07F03 		and	r3, r3, #127
 4250 022c DAB2     		uxtb	r2, r3
 4251              		.loc 1 2410 25
 4252 022e 3B68     		ldr	r3, [r7]
 4253 0230 DA76     		strb	r2, [r3, #27]
2411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->WrProtectGrEnable = (uint8_t)((hmmc->CSD[3] & 0x80000000U) >> 31U);
 4254              		.loc 1 2412 49
 4255 0232 7B68     		ldr	r3, [r7, #4]
 4256 0234 DB6E     		ldr	r3, [r3, #108]
ARM GAS  /tmp/ccxVmGdL.s 			page 119


 4257              		.loc 1 2412 68
 4258 0236 DB0F     		lsrs	r3, r3, #31
 4259              		.loc 1 2412 29
 4260 0238 DAB2     		uxtb	r2, r3
 4261              		.loc 1 2412 27
 4262 023a 3B68     		ldr	r3, [r7]
 4263 023c 1A77     		strb	r2, [r3, #28]
2413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->ManDeflECC = (uint8_t)((hmmc->CSD[3] & 0x60000000U) >> 29U);
 4264              		.loc 1 2414 42
 4265 023e 7B68     		ldr	r3, [r7, #4]
 4266 0240 DB6E     		ldr	r3, [r3, #108]
 4267              		.loc 1 2414 61
 4268 0242 5B0F     		lsrs	r3, r3, #29
 4269              		.loc 1 2414 22
 4270 0244 DBB2     		uxtb	r3, r3
 4271 0246 03F00303 		and	r3, r3, #3
 4272 024a DAB2     		uxtb	r2, r3
 4273              		.loc 1 2414 20
 4274 024c 3B68     		ldr	r3, [r7]
 4275 024e 5A77     		strb	r2, [r3, #29]
2415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->WrSpeedFact = (uint8_t)((hmmc->CSD[3] & 0x1C000000U) >> 26U);
 4276              		.loc 1 2416 43
 4277 0250 7B68     		ldr	r3, [r7, #4]
 4278 0252 DB6E     		ldr	r3, [r3, #108]
 4279              		.loc 1 2416 62
 4280 0254 9B0E     		lsrs	r3, r3, #26
 4281              		.loc 1 2416 23
 4282 0256 DBB2     		uxtb	r3, r3
 4283 0258 03F00703 		and	r3, r3, #7
 4284 025c DAB2     		uxtb	r2, r3
 4285              		.loc 1 2416 21
 4286 025e 3B68     		ldr	r3, [r7]
 4287 0260 9A77     		strb	r2, [r3, #30]
2417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->MaxWrBlockLen = (uint8_t)((hmmc->CSD[3] & 0x03C00000U) >> 22U);
 4288              		.loc 1 2418 45
 4289 0262 7B68     		ldr	r3, [r7, #4]
 4290 0264 DB6E     		ldr	r3, [r3, #108]
 4291              		.loc 1 2418 64
 4292 0266 9B0D     		lsrs	r3, r3, #22
 4293              		.loc 1 2418 25
 4294 0268 DBB2     		uxtb	r3, r3
 4295 026a 03F00F03 		and	r3, r3, #15
 4296 026e DAB2     		uxtb	r2, r3
 4297              		.loc 1 2418 23
 4298 0270 3B68     		ldr	r3, [r7]
 4299 0272 DA77     		strb	r2, [r3, #31]
2419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->WriteBlockPaPartial = (uint8_t)((hmmc->CSD[3] & 0x00200000U) >> 21U);
 4300              		.loc 1 2420 51
 4301 0274 7B68     		ldr	r3, [r7, #4]
 4302 0276 DB6E     		ldr	r3, [r3, #108]
 4303              		.loc 1 2420 70
 4304 0278 5B0D     		lsrs	r3, r3, #21
 4305              		.loc 1 2420 31
ARM GAS  /tmp/ccxVmGdL.s 			page 120


 4306 027a DBB2     		uxtb	r3, r3
 4307 027c 03F00103 		and	r3, r3, #1
 4308 0280 DAB2     		uxtb	r2, r3
 4309              		.loc 1 2420 29
 4310 0282 3B68     		ldr	r3, [r7]
 4311 0284 83F82020 		strb	r2, [r3, #32]
2421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->Reserved3 = 0;
 4312              		.loc 1 2422 19
 4313 0288 3B68     		ldr	r3, [r7]
 4314 028a 0022     		movs	r2, #0
 4315 028c 83F82120 		strb	r2, [r3, #33]
2423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->ContentProtectAppli = (uint8_t)((hmmc->CSD[3] & 0x00010000U) >> 16U);
 4316              		.loc 1 2424 51
 4317 0290 7B68     		ldr	r3, [r7, #4]
 4318 0292 DB6E     		ldr	r3, [r3, #108]
 4319              		.loc 1 2424 70
 4320 0294 1B0C     		lsrs	r3, r3, #16
 4321              		.loc 1 2424 31
 4322 0296 DBB2     		uxtb	r3, r3
 4323 0298 03F00103 		and	r3, r3, #1
 4324 029c DAB2     		uxtb	r2, r3
 4325              		.loc 1 2424 29
 4326 029e 3B68     		ldr	r3, [r7]
 4327 02a0 83F82220 		strb	r2, [r3, #34]
2425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->FileFormatGroup = (uint8_t)((hmmc->CSD[3] & 0x00008000U) >> 15U);
 4328              		.loc 1 2426 47
 4329 02a4 7B68     		ldr	r3, [r7, #4]
 4330 02a6 DB6E     		ldr	r3, [r3, #108]
 4331              		.loc 1 2426 66
 4332 02a8 DB0B     		lsrs	r3, r3, #15
 4333              		.loc 1 2426 27
 4334 02aa DBB2     		uxtb	r3, r3
 4335 02ac 03F00103 		and	r3, r3, #1
 4336 02b0 DAB2     		uxtb	r2, r3
 4337              		.loc 1 2426 25
 4338 02b2 3B68     		ldr	r3, [r7]
 4339 02b4 83F82320 		strb	r2, [r3, #35]
2427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->CopyFlag = (uint8_t)((hmmc->CSD[3] & 0x00004000U) >> 14U);
 4340              		.loc 1 2428 40
 4341 02b8 7B68     		ldr	r3, [r7, #4]
 4342 02ba DB6E     		ldr	r3, [r3, #108]
 4343              		.loc 1 2428 59
 4344 02bc 9B0B     		lsrs	r3, r3, #14
 4345              		.loc 1 2428 20
 4346 02be DBB2     		uxtb	r3, r3
 4347 02c0 03F00103 		and	r3, r3, #1
 4348 02c4 DAB2     		uxtb	r2, r3
 4349              		.loc 1 2428 18
 4350 02c6 3B68     		ldr	r3, [r7]
 4351 02c8 83F82420 		strb	r2, [r3, #36]
2429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->PermWrProtect = (uint8_t)((hmmc->CSD[3] & 0x00002000U) >> 13U);
 4352              		.loc 1 2430 45
ARM GAS  /tmp/ccxVmGdL.s 			page 121


 4353 02cc 7B68     		ldr	r3, [r7, #4]
 4354 02ce DB6E     		ldr	r3, [r3, #108]
 4355              		.loc 1 2430 64
 4356 02d0 5B0B     		lsrs	r3, r3, #13
 4357              		.loc 1 2430 25
 4358 02d2 DBB2     		uxtb	r3, r3
 4359 02d4 03F00103 		and	r3, r3, #1
 4360 02d8 DAB2     		uxtb	r2, r3
 4361              		.loc 1 2430 23
 4362 02da 3B68     		ldr	r3, [r7]
 4363 02dc 83F82520 		strb	r2, [r3, #37]
2431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->TempWrProtect = (uint8_t)((hmmc->CSD[3] & 0x00001000U) >> 12U);
 4364              		.loc 1 2432 45
 4365 02e0 7B68     		ldr	r3, [r7, #4]
 4366 02e2 DB6E     		ldr	r3, [r3, #108]
 4367              		.loc 1 2432 64
 4368 02e4 1B0B     		lsrs	r3, r3, #12
 4369              		.loc 1 2432 25
 4370 02e6 DBB2     		uxtb	r3, r3
 4371 02e8 03F00103 		and	r3, r3, #1
 4372 02ec DAB2     		uxtb	r2, r3
 4373              		.loc 1 2432 23
 4374 02ee 3B68     		ldr	r3, [r7]
 4375 02f0 83F82620 		strb	r2, [r3, #38]
2433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->FileFormat = (uint8_t)((hmmc->CSD[3] & 0x00000C00U) >> 10U);
 4376              		.loc 1 2434 42
 4377 02f4 7B68     		ldr	r3, [r7, #4]
 4378 02f6 DB6E     		ldr	r3, [r3, #108]
 4379              		.loc 1 2434 61
 4380 02f8 9B0A     		lsrs	r3, r3, #10
 4381              		.loc 1 2434 22
 4382 02fa DBB2     		uxtb	r3, r3
 4383 02fc 03F00303 		and	r3, r3, #3
 4384 0300 DAB2     		uxtb	r2, r3
 4385              		.loc 1 2434 20
 4386 0302 3B68     		ldr	r3, [r7]
 4387 0304 83F82720 		strb	r2, [r3, #39]
2435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->ECC = (uint8_t)((hmmc->CSD[3] & 0x00000300U) >> 8U);
 4388              		.loc 1 2436 35
 4389 0308 7B68     		ldr	r3, [r7, #4]
 4390 030a DB6E     		ldr	r3, [r3, #108]
 4391              		.loc 1 2436 54
 4392 030c 1B0A     		lsrs	r3, r3, #8
 4393              		.loc 1 2436 15
 4394 030e DBB2     		uxtb	r3, r3
 4395 0310 03F00303 		and	r3, r3, #3
 4396 0314 DAB2     		uxtb	r2, r3
 4397              		.loc 1 2436 13
 4398 0316 3B68     		ldr	r3, [r7]
 4399 0318 83F82820 		strb	r2, [r3, #40]
2437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->CSD_CRC = (uint8_t)((hmmc->CSD[3] & 0x000000FEU) >> 1U);
 4400              		.loc 1 2438 39
 4401 031c 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccxVmGdL.s 			page 122


 4402 031e DB6E     		ldr	r3, [r3, #108]
 4403              		.loc 1 2438 58
 4404 0320 5B08     		lsrs	r3, r3, #1
 4405              		.loc 1 2438 19
 4406 0322 DBB2     		uxtb	r3, r3
 4407 0324 03F07F03 		and	r3, r3, #127
 4408 0328 DAB2     		uxtb	r2, r3
 4409              		.loc 1 2438 17
 4410 032a 3B68     		ldr	r3, [r7]
 4411 032c 83F82920 		strb	r2, [r3, #41]
2439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCSD->Reserved4 = 1;
 4412              		.loc 1 2440 19
 4413 0330 3B68     		ldr	r3, [r7]
 4414 0332 0122     		movs	r2, #1
 4415 0334 83F82A20 		strb	r2, [r3, #42]
2441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return HAL_OK;
 4416              		.loc 1 2442 10
 4417 0338 0023     		movs	r3, #0
 4418              	.L181:
2443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 4419              		.loc 1 2443 1
 4420 033a 1846     		mov	r0, r3
 4421 033c 1037     		adds	r7, r7, #16
 4422              		.cfi_def_cfa_offset 8
 4423 033e BD46     		mov	sp, r7
 4424              		.cfi_def_cfa_register 13
 4425              		@ sp needed
 4426 0340 80BD     		pop	{r7, pc}
 4427              	.L183:
 4428 0342 00BF     		.align	2
 4429              	.L182:
 4430 0344 FF054000 		.word	4195839
 4431              		.cfi_endproc
 4432              	.LFE465:
 4434              		.section	.text.HAL_MMC_GetCardInfo,"ax",%progbits
 4435              		.align	1
 4436              		.global	HAL_MMC_GetCardInfo
 4437              		.syntax unified
 4438              		.thumb
 4439              		.thumb_func
 4441              	HAL_MMC_GetCardInfo:
 4442              	.LFB466:
2444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
2446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Gets the MMC card info.
2447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to MMC handle
2448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  pCardInfo: Pointer to the HAL_MMC_CardInfoTypeDef structure that
2449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         will contain the MMC card status information
2450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
2451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
2452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_GetCardInfo(MMC_HandleTypeDef *hmmc, HAL_MMC_CardInfoTypeDef *pCardInfo)
2453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 4443              		.loc 1 2453 1
 4444              		.cfi_startproc
 4445              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /tmp/ccxVmGdL.s 			page 123


 4446              		@ frame_needed = 1, uses_anonymous_args = 0
 4447              		@ link register save eliminated.
 4448 0000 80B4     		push	{r7}
 4449              		.cfi_def_cfa_offset 4
 4450              		.cfi_offset 7, -4
 4451 0002 83B0     		sub	sp, sp, #12
 4452              		.cfi_def_cfa_offset 16
 4453 0004 00AF     		add	r7, sp, #0
 4454              		.cfi_def_cfa_register 7
 4455 0006 7860     		str	r0, [r7, #4]
 4456 0008 3960     		str	r1, [r7]
2454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCardInfo->CardType     = (uint32_t)(hmmc->MmcCard.CardType);
 4457              		.loc 1 2454 53
 4458 000a 7B68     		ldr	r3, [r7, #4]
 4459 000c 5A6C     		ldr	r2, [r3, #68]
 4460              		.loc 1 2454 27
 4461 000e 3B68     		ldr	r3, [r7]
 4462 0010 1A60     		str	r2, [r3]
2455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCardInfo->Class        = (uint32_t)(hmmc->MmcCard.Class);
 4463              		.loc 1 2455 53
 4464 0012 7B68     		ldr	r3, [r7, #4]
 4465 0014 9A6C     		ldr	r2, [r3, #72]
 4466              		.loc 1 2455 27
 4467 0016 3B68     		ldr	r3, [r7]
 4468 0018 5A60     		str	r2, [r3, #4]
2456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hmmc->MmcCard.RelCardAdd);
 4469              		.loc 1 2456 53
 4470 001a 7B68     		ldr	r3, [r7, #4]
 4471 001c DA6C     		ldr	r2, [r3, #76]
 4472              		.loc 1 2456 27
 4473 001e 3B68     		ldr	r3, [r7]
 4474 0020 9A60     		str	r2, [r3, #8]
2457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCardInfo->BlockNbr     = (uint32_t)(hmmc->MmcCard.BlockNbr);
 4475              		.loc 1 2457 53
 4476 0022 7B68     		ldr	r3, [r7, #4]
 4477 0024 1A6D     		ldr	r2, [r3, #80]
 4478              		.loc 1 2457 27
 4479 0026 3B68     		ldr	r3, [r7]
 4480 0028 DA60     		str	r2, [r3, #12]
2458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCardInfo->BlockSize    = (uint32_t)(hmmc->MmcCard.BlockSize);
 4481              		.loc 1 2458 53
 4482 002a 7B68     		ldr	r3, [r7, #4]
 4483 002c 5A6D     		ldr	r2, [r3, #84]
 4484              		.loc 1 2458 27
 4485 002e 3B68     		ldr	r3, [r7]
 4486 0030 1A61     		str	r2, [r3, #16]
2459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hmmc->MmcCard.LogBlockNbr);
 4487              		.loc 1 2459 53
 4488 0032 7B68     		ldr	r3, [r7, #4]
 4489 0034 9A6D     		ldr	r2, [r3, #88]
 4490              		.loc 1 2459 27
 4491 0036 3B68     		ldr	r3, [r7]
 4492 0038 5A61     		str	r2, [r3, #20]
2460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   pCardInfo->LogBlockSize = (uint32_t)(hmmc->MmcCard.LogBlockSize);
 4493              		.loc 1 2460 53
 4494 003a 7B68     		ldr	r3, [r7, #4]
 4495 003c DA6D     		ldr	r2, [r3, #92]
ARM GAS  /tmp/ccxVmGdL.s 			page 124


 4496              		.loc 1 2460 27
 4497 003e 3B68     		ldr	r3, [r7]
 4498 0040 9A61     		str	r2, [r3, #24]
2461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return HAL_OK;
 4499              		.loc 1 2462 10
 4500 0042 0023     		movs	r3, #0
2463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 4501              		.loc 1 2463 1
 4502 0044 1846     		mov	r0, r3
 4503 0046 0C37     		adds	r7, r7, #12
 4504              		.cfi_def_cfa_offset 4
 4505 0048 BD46     		mov	sp, r7
 4506              		.cfi_def_cfa_register 13
 4507              		@ sp needed
 4508 004a 5DF8047B 		ldr	r7, [sp], #4
 4509              		.cfi_restore 7
 4510              		.cfi_def_cfa_offset 0
 4511 004e 7047     		bx	lr
 4512              		.cfi_endproc
 4513              	.LFE466:
 4515              		.section	.text.HAL_MMC_GetCardExtCSD,"ax",%progbits
 4516              		.align	1
 4517              		.global	HAL_MMC_GetCardExtCSD
 4518              		.syntax unified
 4519              		.thumb
 4520              		.thumb_func
 4522              	HAL_MMC_GetCardExtCSD:
 4523              	.LFB467:
2464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
2466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Returns information the information of the card which are stored on
2467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         the Extended CSD register.
2468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc Pointer to MMC handle
2469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  pExtCSD Pointer to a memory area (512 bytes) that contains all
2470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         Extended CSD register parameters
2471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  Timeout Specify timeout value
2472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
2473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
2474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_GetCardExtCSD(MMC_HandleTypeDef *hmmc, uint32_t *pExtCSD, uint32_t Timeou
2475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 4524              		.loc 1 2475 1
 4525              		.cfi_startproc
 4526              		@ args = 0, pretend = 0, frame = 56
 4527              		@ frame_needed = 1, uses_anonymous_args = 0
 4528 0000 80B5     		push	{r7, lr}
 4529              		.cfi_def_cfa_offset 8
 4530              		.cfi_offset 7, -8
 4531              		.cfi_offset 14, -4
 4532 0002 8EB0     		sub	sp, sp, #56
 4533              		.cfi_def_cfa_offset 64
 4534 0004 00AF     		add	r7, sp, #0
 4535              		.cfi_def_cfa_register 7
 4536 0006 F860     		str	r0, [r7, #12]
 4537 0008 B960     		str	r1, [r7, #8]
 4538 000a 7A60     		str	r2, [r7, #4]
2476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   SDMMC_DataInitTypeDef config;
ARM GAS  /tmp/ccxVmGdL.s 			page 125


2477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate;
2478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t tickstart = HAL_GetTick();
 4539              		.loc 1 2478 24
 4540 000c FFF7FEFF 		bl	HAL_GetTick
 4541 0010 F862     		str	r0, [r7, #44]
2479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t count;
2480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t *tmp_buf;
2481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (NULL == pExtCSD)
 4542              		.loc 1 2482 6
 4543 0012 BB68     		ldr	r3, [r7, #8]
 4544 0014 002B     		cmp	r3, #0
 4545 0016 07D1     		bne	.L187
2483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= HAL_MMC_ERROR_PARAM;
 4546              		.loc 1 2484 9
 4547 0018 FB68     		ldr	r3, [r7, #12]
 4548 001a 9B6B     		ldr	r3, [r3, #56]
 4549              		.loc 1 2484 21
 4550 001c 43F00062 		orr	r2, r3, #134217728
 4551 0020 FB68     		ldr	r3, [r7, #12]
 4552 0022 9A63     		str	r2, [r3, #56]
2485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 4553              		.loc 1 2485 12
 4554 0024 0123     		movs	r3, #1
 4555 0026 CFE0     		b	.L200
 4556              	.L187:
2486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->State == HAL_MMC_STATE_READY)
 4557              		.loc 1 2488 11
 4558 0028 FB68     		ldr	r3, [r7, #12]
 4559 002a 93F83430 		ldrb	r3, [r3, #52]
 4560 002e DBB2     		uxtb	r3, r3
 4561              		.loc 1 2488 6
 4562 0030 012B     		cmp	r3, #1
 4563 0032 40F0C880 		bne	.L189
2489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode = HAL_MMC_ERROR_NONE;
 4564              		.loc 1 2490 21
 4565 0036 FB68     		ldr	r3, [r7, #12]
 4566 0038 0022     		movs	r2, #0
 4567 003a 9A63     		str	r2, [r3, #56]
2491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_BUSY;
 4568              		.loc 1 2492 17
 4569 003c FB68     		ldr	r3, [r7, #12]
 4570 003e 0322     		movs	r2, #3
 4571 0040 83F83420 		strb	r2, [r3, #52]
2493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Initialize data control register */
2495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Instance->DCTRL = 0;
 4572              		.loc 1 2495 9
 4573 0044 FB68     		ldr	r3, [r7, #12]
 4574 0046 1B68     		ldr	r3, [r3]
 4575              		.loc 1 2495 27
 4576 0048 0022     		movs	r2, #0
ARM GAS  /tmp/ccxVmGdL.s 			page 126


 4577 004a DA62     		str	r2, [r3, #44]
2496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Initiaize the destination pointer */
2498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     tmp_buf = pExtCSD;
 4578              		.loc 1 2498 13
 4579 004c BB68     		ldr	r3, [r7, #8]
 4580 004e 3B63     		str	r3, [r7, #48]
2499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Configure the MMC DPSM (Data Path State Machine) */
2501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 4581              		.loc 1 2501 26
 4582 0050 4FF0FF33 		mov	r3, #-1
 4583 0054 3B61     		str	r3, [r7, #16]
2502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataLength    = 512;
 4584              		.loc 1 2502 26
 4585 0056 4FF40073 		mov	r3, #512
 4586 005a 7B61     		str	r3, [r7, #20]
2503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 4587              		.loc 1 2503 26
 4588 005c 9023     		movs	r3, #144
 4589 005e BB61     		str	r3, [r7, #24]
2504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 4590              		.loc 1 2504 26
 4591 0060 0223     		movs	r3, #2
 4592 0062 FB61     		str	r3, [r7, #28]
2505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 4593              		.loc 1 2505 26
 4594 0064 0023     		movs	r3, #0
 4595 0066 3B62     		str	r3, [r7, #32]
2506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
2507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DPSM          = SDMMC_DPSM_ENABLE;
 4596              		.loc 1 2507 26
 4597 0068 0123     		movs	r3, #1
 4598 006a 7B62     		str	r3, [r7, #36]
2508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
2509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
2510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
2511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     (void)SDMMC_ConfigData(hmmc->Instance, &config);
 4599              		.loc 1 2511 11
 4600 006c FB68     		ldr	r3, [r7, #12]
 4601 006e 1B68     		ldr	r3, [r3]
 4602 0070 07F11002 		add	r2, r7, #16
 4603 0074 1146     		mov	r1, r2
 4604 0076 1846     		mov	r0, r3
 4605 0078 FFF7FEFF 		bl	SDMMC_ConfigData
2512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
2513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __SDMMC_CMDTRANS_ENABLE(hmmc->Instance);
2514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
2515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Send ExtCSD Read command to Card */
2516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     errorstate = SDMMC_CmdSendEXTCSD(hmmc->Instance, 0);
 4606              		.loc 1 2516 18
 4607 007c FB68     		ldr	r3, [r7, #12]
 4608 007e 1B68     		ldr	r3, [r3]
 4609 0080 0021     		movs	r1, #0
 4610 0082 1846     		mov	r0, r3
 4611 0084 FFF7FEFF 		bl	SDMMC_CmdSendEXTCSD
 4612 0088 B862     		str	r0, [r7, #40]
ARM GAS  /tmp/ccxVmGdL.s 			page 127


2517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate != HAL_MMC_ERROR_NONE)
 4613              		.loc 1 2517 8
 4614 008a BB6A     		ldr	r3, [r7, #40]
 4615 008c 002B     		cmp	r3, #0
 4616 008e 45D0     		beq	.L191
2518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
2520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 4617              		.loc 1 2520 7
 4618 0090 FB68     		ldr	r3, [r7, #12]
 4619 0092 1B68     		ldr	r3, [r3]
 4620 0094 4E4A     		ldr	r2, .L201
 4621 0096 9A63     		str	r2, [r3, #56]
2521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= errorstate;
 4622              		.loc 1 2521 11
 4623 0098 FB68     		ldr	r3, [r7, #12]
 4624 009a 9A6B     		ldr	r2, [r3, #56]
 4625              		.loc 1 2521 23
 4626 009c BB6A     		ldr	r3, [r7, #40]
 4627 009e 1A43     		orrs	r2, r2, r3
 4628 00a0 FB68     		ldr	r3, [r7, #12]
 4629 00a2 9A63     		str	r2, [r3, #56]
2522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 4630              		.loc 1 2522 19
 4631 00a4 FB68     		ldr	r3, [r7, #12]
 4632 00a6 0122     		movs	r2, #1
 4633 00a8 83F83420 		strb	r2, [r3, #52]
2523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 4634              		.loc 1 2523 14
 4635 00ac 0123     		movs	r3, #1
 4636 00ae 8BE0     		b	.L200
 4637              	.L196:
2524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Poll on SDMMC flags */
2527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     while (!__HAL_MMC_GET_FLAG(hmmc,
2528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                                SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SDM
2529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_RXFIFOHF))
 4638              		.loc 1 2530 11
 4639 00b0 FB68     		ldr	r3, [r7, #12]
 4640 00b2 1B68     		ldr	r3, [r3]
 4641 00b4 5B6B     		ldr	r3, [r3, #52]
 4642 00b6 03F40043 		and	r3, r3, #32768
 4643              		.loc 1 2530 10
 4644 00ba 002B     		cmp	r3, #0
 4645 00bc 13D0     		beq	.L192
2531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
2532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Read data from SDMMC Rx FIFO */
2533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         for (count = 0U; count < 8U; count++)
 4646              		.loc 1 2533 20
 4647 00be 0023     		movs	r3, #0
 4648 00c0 7B63     		str	r3, [r7, #52]
 4649              		.loc 1 2533 9
 4650 00c2 0DE0     		b	.L193
 4651              	.L194:
2534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
ARM GAS  /tmp/ccxVmGdL.s 			page 128


2535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           *tmp_buf = SDMMC_ReadFIFO(hmmc->Instance);
 4652              		.loc 1 2535 41
 4653 00c4 FB68     		ldr	r3, [r7, #12]
 4654 00c6 1B68     		ldr	r3, [r3]
 4655              		.loc 1 2535 22
 4656 00c8 1846     		mov	r0, r3
 4657 00ca FFF7FEFF 		bl	SDMMC_ReadFIFO
 4658 00ce 0246     		mov	r2, r0
 4659              		.loc 1 2535 20 discriminator 1
 4660 00d0 3B6B     		ldr	r3, [r7, #48]
 4661 00d2 1A60     		str	r2, [r3]
2536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           tmp_buf++;
 4662              		.loc 1 2536 18
 4663 00d4 3B6B     		ldr	r3, [r7, #48]
 4664 00d6 0433     		adds	r3, r3, #4
 4665 00d8 3B63     		str	r3, [r7, #48]
2533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
 4666              		.loc 1 2533 43 discriminator 3
 4667 00da 7B6B     		ldr	r3, [r7, #52]
 4668 00dc 0133     		adds	r3, r3, #1
 4669 00de 7B63     		str	r3, [r7, #52]
 4670              	.L193:
2533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
 4671              		.loc 1 2533 32 discriminator 1
 4672 00e0 7B6B     		ldr	r3, [r7, #52]
 4673 00e2 072B     		cmp	r3, #7
 4674 00e4 EED9     		bls	.L194
 4675              	.L192:
2537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
2538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
2539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (((HAL_GetTick() - tickstart) >=  Timeout) || (Timeout == 0U))
 4676              		.loc 1 2540 13
 4677 00e6 FFF7FEFF 		bl	HAL_GetTick
 4678 00ea 0246     		mov	r2, r0
 4679              		.loc 1 2540 27 discriminator 1
 4680 00ec FB6A     		ldr	r3, [r7, #44]
 4681 00ee D31A     		subs	r3, r2, r3
 4682              		.loc 1 2540 10 discriminator 1
 4683 00f0 7A68     		ldr	r2, [r7, #4]
 4684 00f2 9A42     		cmp	r2, r3
 4685 00f4 02D9     		bls	.L195
 4686              		.loc 1 2540 53 discriminator 1
 4687 00f6 7B68     		ldr	r3, [r7, #4]
 4688 00f8 002B     		cmp	r3, #0
 4689 00fa 0FD1     		bne	.L191
 4690              	.L195:
2541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
2542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Clear all the static flags */
2543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 4691              		.loc 1 2543 9
 4692 00fc FB68     		ldr	r3, [r7, #12]
 4693 00fe 1B68     		ldr	r3, [r3]
 4694 0100 334A     		ldr	r2, .L201
 4695 0102 9A63     		str	r2, [r3, #56]
2544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->ErrorCode |= HAL_MMC_ERROR_TIMEOUT;
 4696              		.loc 1 2544 13
ARM GAS  /tmp/ccxVmGdL.s 			page 129


 4697 0104 FB68     		ldr	r3, [r7, #12]
 4698 0106 9B6B     		ldr	r3, [r3, #56]
 4699              		.loc 1 2544 25
 4700 0108 43F00042 		orr	r2, r3, #-2147483648
 4701 010c FB68     		ldr	r3, [r7, #12]
 4702 010e 9A63     		str	r2, [r3, #56]
2545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->State = HAL_MMC_STATE_READY;
 4703              		.loc 1 2545 21
 4704 0110 FB68     		ldr	r3, [r7, #12]
 4705 0112 0122     		movs	r2, #1
 4706 0114 83F83420 		strb	r2, [r3, #52]
2546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         return HAL_TIMEOUT;
 4707              		.loc 1 2546 16
 4708 0118 0323     		movs	r3, #3
 4709 011a 55E0     		b	.L200
 4710              	.L191:
2527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                                SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SDM
 4711              		.loc 1 2527 13
 4712 011c FB68     		ldr	r3, [r7, #12]
 4713 011e 1B68     		ldr	r3, [r3]
 4714 0120 5B6B     		ldr	r3, [r3, #52]
 4715 0122 03F49573 		and	r3, r3, #298
2527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                                SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SDM
 4716              		.loc 1 2527 12
 4717 0126 002B     		cmp	r3, #0
 4718 0128 C2D0     		beq	.L196
2547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
2548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
2551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __SDMMC_CMDTRANS_DISABLE(hmmc->Instance);
2552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
2553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Get error state */
2555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_DTIMEOUT))
 4719              		.loc 1 2555 9
 4720 012a FB68     		ldr	r3, [r7, #12]
 4721 012c 1B68     		ldr	r3, [r3]
 4722 012e 5B6B     		ldr	r3, [r3, #52]
 4723 0130 03F00803 		and	r3, r3, #8
 4724              		.loc 1 2555 8
 4725 0134 002B     		cmp	r3, #0
 4726 0136 0FD0     		beq	.L197
2556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
2558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 4727              		.loc 1 2558 7
 4728 0138 FB68     		ldr	r3, [r7, #12]
 4729 013a 1B68     		ldr	r3, [r3]
 4730 013c 244A     		ldr	r2, .L201
 4731 013e 9A63     		str	r2, [r3, #56]
2559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_DATA_TIMEOUT;
 4732              		.loc 1 2559 11
 4733 0140 FB68     		ldr	r3, [r7, #12]
 4734 0142 9B6B     		ldr	r3, [r3, #56]
 4735              		.loc 1 2559 23
 4736 0144 43F00802 		orr	r2, r3, #8
ARM GAS  /tmp/ccxVmGdL.s 			page 130


 4737 0148 FB68     		ldr	r3, [r7, #12]
 4738 014a 9A63     		str	r2, [r3, #56]
2560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 4739              		.loc 1 2560 19
 4740 014c FB68     		ldr	r3, [r7, #12]
 4741 014e 0122     		movs	r2, #1
 4742 0150 83F83420 		strb	r2, [r3, #52]
2561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 4743              		.loc 1 2561 14
 4744 0154 0123     		movs	r3, #1
 4745 0156 37E0     		b	.L200
 4746              	.L197:
2562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_DCRCFAIL))
 4747              		.loc 1 2563 14
 4748 0158 FB68     		ldr	r3, [r7, #12]
 4749 015a 1B68     		ldr	r3, [r3]
 4750 015c 5B6B     		ldr	r3, [r3, #52]
 4751 015e 03F00203 		and	r3, r3, #2
 4752              		.loc 1 2563 13
 4753 0162 002B     		cmp	r3, #0
 4754 0164 0FD0     		beq	.L198
2564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
2566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 4755              		.loc 1 2566 7
 4756 0166 FB68     		ldr	r3, [r7, #12]
 4757 0168 1B68     		ldr	r3, [r3]
 4758 016a 194A     		ldr	r2, .L201
 4759 016c 9A63     		str	r2, [r3, #56]
2567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_DATA_CRC_FAIL;
 4760              		.loc 1 2567 11
 4761 016e FB68     		ldr	r3, [r7, #12]
 4762 0170 9B6B     		ldr	r3, [r3, #56]
 4763              		.loc 1 2567 23
 4764 0172 43F00202 		orr	r2, r3, #2
 4765 0176 FB68     		ldr	r3, [r7, #12]
 4766 0178 9A63     		str	r2, [r3, #56]
2568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 4767              		.loc 1 2568 19
 4768 017a FB68     		ldr	r3, [r7, #12]
 4769 017c 0122     		movs	r2, #1
 4770 017e 83F83420 		strb	r2, [r3, #52]
2569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 4771              		.loc 1 2569 14
 4772 0182 0123     		movs	r3, #1
 4773 0184 20E0     		b	.L200
 4774              	.L198:
2570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_RXOVERR))
 4775              		.loc 1 2571 14
 4776 0186 FB68     		ldr	r3, [r7, #12]
 4777 0188 1B68     		ldr	r3, [r3]
 4778 018a 5B6B     		ldr	r3, [r3, #52]
 4779 018c 03F02003 		and	r3, r3, #32
 4780              		.loc 1 2571 13
 4781 0190 002B     		cmp	r3, #0
ARM GAS  /tmp/ccxVmGdL.s 			page 131


 4782 0192 0FD0     		beq	.L199
2572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
2574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 4783              		.loc 1 2574 7
 4784 0194 FB68     		ldr	r3, [r7, #12]
 4785 0196 1B68     		ldr	r3, [r3]
 4786 0198 0D4A     		ldr	r2, .L201
 4787 019a 9A63     		str	r2, [r3, #56]
2575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_RX_OVERRUN;
 4788              		.loc 1 2575 11
 4789 019c FB68     		ldr	r3, [r7, #12]
 4790 019e 9B6B     		ldr	r3, [r3, #56]
 4791              		.loc 1 2575 23
 4792 01a0 43F02002 		orr	r2, r3, #32
 4793 01a4 FB68     		ldr	r3, [r7, #12]
 4794 01a6 9A63     		str	r2, [r3, #56]
2576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 4795              		.loc 1 2576 19
 4796 01a8 FB68     		ldr	r3, [r7, #12]
 4797 01aa 0122     		movs	r2, #1
 4798 01ac 83F83420 		strb	r2, [r3, #52]
2577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 4799              		.loc 1 2577 14
 4800 01b0 0123     		movs	r3, #1
 4801 01b2 09E0     		b	.L200
 4802              	.L199:
2578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
2580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Nothing to do */
2582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Clear all the static flags */
2585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_DATA_FLAGS);
 4803              		.loc 1 2585 5
 4804 01b4 FB68     		ldr	r3, [r7, #12]
 4805 01b6 1B68     		ldr	r3, [r3]
 4806 01b8 40F23A52 		movw	r2, #1338
 4807 01bc 9A63     		str	r2, [r3, #56]
2586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
 4808              		.loc 1 2586 17
 4809 01be FB68     		ldr	r3, [r7, #12]
 4810 01c0 0122     		movs	r2, #1
 4811 01c2 83F83420 		strb	r2, [r3, #52]
 4812              	.L189:
2587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return HAL_OK;
 4813              		.loc 1 2589 10
 4814 01c6 0023     		movs	r3, #0
 4815              	.L200:
2590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 4816              		.loc 1 2590 1
 4817 01c8 1846     		mov	r0, r3
 4818 01ca 3837     		adds	r7, r7, #56
 4819              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccxVmGdL.s 			page 132


 4820 01cc BD46     		mov	sp, r7
 4821              		.cfi_def_cfa_register 13
 4822              		@ sp needed
 4823 01ce 80BD     		pop	{r7, pc}
 4824              	.L202:
 4825              		.align	2
 4826              	.L201:
 4827 01d0 FF054000 		.word	4195839
 4828              		.cfi_endproc
 4829              	.LFE467:
 4831              		.section	.text.HAL_MMC_ConfigWideBusOperation,"ax",%progbits
 4832              		.align	1
 4833              		.global	HAL_MMC_ConfigWideBusOperation
 4834              		.syntax unified
 4835              		.thumb
 4836              		.thumb_func
 4838              	HAL_MMC_ConfigWideBusOperation:
 4839              	.LFB468:
2591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
2593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Enables wide bus operation for the requested card if supported by
2594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         card.
2595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to MMC handle
2596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  WideMode: Specifies the MMC card wide bus mode
2597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          This parameter can be one of the following values:
2598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg SDMMC_BUS_WIDE_8B: 8-bit data transfer
2599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg SDMMC_BUS_WIDE_4B: 4-bit data transfer
2600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg SDMMC_BUS_WIDE_1B: 1-bit data transfer
2601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
2602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
2603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_ConfigWideBusOperation(MMC_HandleTypeDef *hmmc, uint32_t WideMode)
2604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 4840              		.loc 1 2604 1
 4841              		.cfi_startproc
 4842              		@ args = 0, pretend = 0, frame = 48
 4843              		@ frame_needed = 1, uses_anonymous_args = 0
 4844 0000 B0B5     		push	{r4, r5, r7, lr}
 4845              		.cfi_def_cfa_offset 16
 4846              		.cfi_offset 4, -16
 4847              		.cfi_offset 5, -12
 4848              		.cfi_offset 7, -8
 4849              		.cfi_offset 14, -4
 4850 0002 90B0     		sub	sp, sp, #64
 4851              		.cfi_def_cfa_offset 80
 4852 0004 04AF     		add	r7, sp, #16
 4853              		.cfi_def_cfa 7, 64
 4854 0006 7860     		str	r0, [r7, #4]
 4855 0008 3960     		str	r1, [r7]
2605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t count;
2606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   SDMMC_InitTypeDef Init;
2607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate;
2608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t response = 0U;
 4856              		.loc 1 2608 12
 4857 000a 0023     		movs	r3, #0
 4858 000c 7B62     		str	r3, [r7, #36]
2609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check the parameters */
ARM GAS  /tmp/ccxVmGdL.s 			page 133


2611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   assert_param(IS_SDMMC_BUS_WIDE(WideMode));
2612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Change State */
2614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->State = HAL_MMC_STATE_BUSY;
 4859              		.loc 1 2614 15
 4860 000e 7B68     		ldr	r3, [r7, #4]
 4861 0010 0322     		movs	r2, #3
 4862 0012 83F83420 		strb	r2, [r3, #52]
2615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
2617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check and update the power class if needed */
2618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if ((hmmc->Instance->CLKCR & SDMMC_CLKCR_BUSSPEED) != 0U)
2619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((hmmc->Instance->CLKCR & SDMMC_CLKCR_DDR) != 0U)
2621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = MMC_PwrClassUpdate(hmmc, WideMode, SDMMC_SPEED_MODE_DDR);
2623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
2625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = MMC_PwrClassUpdate(hmmc, WideMode, SDMMC_SPEED_MODE_HIGH);
2627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
2630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     errorstate = MMC_PwrClassUpdate(hmmc, WideMode, SDMMC_SPEED_MODE_DEFAULT);
2632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
2634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   errorstate = MMC_PwrClassUpdate(hmmc, WideMode, 0U);
 4863              		.loc 1 2634 16
 4864 0016 0022     		movs	r2, #0
 4865 0018 3968     		ldr	r1, [r7]
 4866 001a 7868     		ldr	r0, [r7, #4]
 4867 001c FFF7FEFF 		bl	MMC_PwrClassUpdate
 4868 0020 B862     		str	r0, [r7, #40]
2635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
2636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (errorstate == HAL_MMC_ERROR_NONE)
 4869              		.loc 1 2636 6
 4870 0022 BB6A     		ldr	r3, [r7, #40]
 4871 0024 002B     		cmp	r3, #0
 4872 0026 7DD1     		bne	.L204
2637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (WideMode == SDMMC_BUS_WIDE_8B)
 4873              		.loc 1 2638 8
 4874 0028 3B68     		ldr	r3, [r7]
 4875 002a B3F5805F 		cmp	r3, #4096
 4876 002e 07D1     		bne	.L205
2639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdSwitch(hmmc->Instance, 0x03B70200U);
 4877              		.loc 1 2640 20
 4878 0030 7B68     		ldr	r3, [r7, #4]
 4879 0032 1B68     		ldr	r3, [r3]
 4880 0034 4749     		ldr	r1, .L219
 4881 0036 1846     		mov	r0, r3
 4882 0038 FFF7FEFF 		bl	SDMMC_CmdSwitch
 4883 003c B862     		str	r0, [r7, #40]
 4884 003e 19E0     		b	.L206
 4885              	.L205:
ARM GAS  /tmp/ccxVmGdL.s 			page 134


2641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else if (WideMode == SDMMC_BUS_WIDE_4B)
 4886              		.loc 1 2642 13
 4887 0040 3B68     		ldr	r3, [r7]
 4888 0042 B3F5006F 		cmp	r3, #2048
 4889 0046 07D1     		bne	.L207
2643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdSwitch(hmmc->Instance, 0x03B70100U);
 4890              		.loc 1 2644 20
 4891 0048 7B68     		ldr	r3, [r7, #4]
 4892 004a 1B68     		ldr	r3, [r3]
 4893 004c 4249     		ldr	r1, .L219+4
 4894 004e 1846     		mov	r0, r3
 4895 0050 FFF7FEFF 		bl	SDMMC_CmdSwitch
 4896 0054 B862     		str	r0, [r7, #40]
 4897 0056 0DE0     		b	.L206
 4898              	.L207:
2645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else if (WideMode == SDMMC_BUS_WIDE_1B)
 4899              		.loc 1 2646 13
 4900 0058 3B68     		ldr	r3, [r7]
 4901 005a 002B     		cmp	r3, #0
 4902 005c 07D1     		bne	.L208
2647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdSwitch(hmmc->Instance, 0x03B70000U);
 4903              		.loc 1 2648 20
 4904 005e 7B68     		ldr	r3, [r7, #4]
 4905 0060 1B68     		ldr	r3, [r3]
 4906 0062 3E49     		ldr	r1, .L219+8
 4907 0064 1846     		mov	r0, r3
 4908 0066 FFF7FEFF 		bl	SDMMC_CmdSwitch
 4909 006a B862     		str	r0, [r7, #40]
 4910 006c 02E0     		b	.L206
 4911              	.L208:
2649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
2651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* WideMode is not a valid argument*/
2653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = HAL_MMC_ERROR_PARAM;
 4912              		.loc 1 2653 18
 4913 006e 4FF00063 		mov	r3, #134217728
 4914 0072 BB62     		str	r3, [r7, #40]
 4915              	.L206:
2654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Check for switch error and violation of the trial number of sending CMD 13 */
2657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate == HAL_MMC_ERROR_NONE)
 4916              		.loc 1 2657 8
 4917 0074 BB6A     		ldr	r3, [r7, #40]
 4918 0076 002B     		cmp	r3, #0
 4919 0078 54D1     		bne	.L204
2658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* While card is not ready for data and trial number for sending CMD13 is not exceeded */
2660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       count = SDMMC_MAX_TRIAL;
 4920              		.loc 1 2660 13
 4921 007a 4FF6FF73 		movw	r3, #65535
 4922 007e FB62     		str	r3, [r7, #44]
ARM GAS  /tmp/ccxVmGdL.s 			page 135


 4923              	.L211:
2661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       do
2662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
2663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = SDMMC_CmdSendStatus(hmmc->Instance, (uint32_t)(((uint32_t)hmmc->MmcCard.RelCar
 4924              		.loc 1 2663 22
 4925 0080 7B68     		ldr	r3, [r7, #4]
 4926 0082 1A68     		ldr	r2, [r3]
 4927              		.loc 1 2663 93
 4928 0084 7B68     		ldr	r3, [r7, #4]
 4929 0086 DB6C     		ldr	r3, [r3, #76]
 4930              		.loc 1 2663 22
 4931 0088 1B04     		lsls	r3, r3, #16
 4932 008a 1946     		mov	r1, r3
 4933 008c 1046     		mov	r0, r2
 4934 008e FFF7FEFF 		bl	SDMMC_CmdSendStatus
 4935 0092 B862     		str	r0, [r7, #40]
2664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if (errorstate != HAL_MMC_ERROR_NONE)
 4936              		.loc 1 2664 12
 4937 0094 BB6A     		ldr	r3, [r7, #40]
 4938 0096 002B     		cmp	r3, #0
 4939 0098 12D1     		bne	.L218
2665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
2666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           break;
2667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
2668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Get command response */
2670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         response = SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP1);
 4940              		.loc 1 2670 42
 4941 009a 7B68     		ldr	r3, [r7, #4]
 4942 009c 1B68     		ldr	r3, [r3]
 4943              		.loc 1 2670 20
 4944 009e 0021     		movs	r1, #0
 4945 00a0 1846     		mov	r0, r3
 4946 00a2 FFF7FEFF 		bl	SDMMC_GetResponse
 4947 00a6 7862     		str	r0, [r7, #36]
2671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         count--;
 4948              		.loc 1 2671 14
 4949 00a8 FB6A     		ldr	r3, [r7, #44]
 4950 00aa 013B     		subs	r3, r3, #1
 4951 00ac FB62     		str	r3, [r7, #44]
2672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       } while (((response & 0x100U) == 0U) && (count != 0U));
 4952              		.loc 1 2672 27
 4953 00ae 7B6A     		ldr	r3, [r7, #36]
 4954 00b0 03F48073 		and	r3, r3, #256
 4955              		.loc 1 2672 44
 4956 00b4 002B     		cmp	r3, #0
 4957 00b6 04D1     		bne	.L210
 4958              		.loc 1 2672 44 is_stmt 0 discriminator 1
 4959 00b8 FB6A     		ldr	r3, [r7, #44]
 4960 00ba 002B     		cmp	r3, #0
 4961 00bc E0D1     		bne	.L211
 4962 00be 00E0     		b	.L210
 4963              	.L218:
2666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
 4964              		.loc 1 2666 11 is_stmt 1
 4965 00c0 00BF     		nop
 4966              	.L210:
ARM GAS  /tmp/ccxVmGdL.s 			page 136


2673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Check the status after the switch command execution */
2675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if ((count != 0U) && (errorstate == HAL_MMC_ERROR_NONE))
 4967              		.loc 1 2675 10
 4968 00c2 FB6A     		ldr	r3, [r7, #44]
 4969 00c4 002B     		cmp	r3, #0
 4970 00c6 27D0     		beq	.L212
 4971              		.loc 1 2675 25 discriminator 1
 4972 00c8 BB6A     		ldr	r3, [r7, #40]
 4973 00ca 002B     		cmp	r3, #0
 4974 00cc 24D1     		bne	.L212
2676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
2677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Check the bit SWITCH_ERROR of the device status */
2678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if ((response & 0x80U) != 0U)
 4975              		.loc 1 2678 23
 4976 00ce 7B6A     		ldr	r3, [r7, #36]
 4977 00d0 03F08003 		and	r3, r3, #128
 4978              		.loc 1 2678 12
 4979 00d4 002B     		cmp	r3, #0
 4980 00d6 03D0     		beq	.L213
2679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
2680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           errorstate = SDMMC_ERROR_GENERAL_UNKNOWN_ERR;
 4981              		.loc 1 2680 22
 4982 00d8 4FF48033 		mov	r3, #65536
 4983 00dc BB62     		str	r3, [r7, #40]
2678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
 4984              		.loc 1 2678 12
 4985 00de 21E0     		b	.L204
 4986              	.L213:
2681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
2682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         else
2683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
2684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* Configure the SDMMC peripheral */
2685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           Init = hmmc->Init;
 4987              		.loc 1 2685 16
 4988 00e0 7B68     		ldr	r3, [r7, #4]
 4989 00e2 07F10C04 		add	r4, r7, #12
 4990 00e6 1D1D     		adds	r5, r3, #4
 4991 00e8 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 4992 00ea 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 4993 00ec 95E80300 		ldm	r5, {r0, r1}
 4994 00f0 84E80300 		stm	r4, {r0, r1}
2686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           Init.BusWide = WideMode;
 4995              		.loc 1 2686 24
 4996 00f4 3B68     		ldr	r3, [r7]
 4997 00f6 BB61     		str	r3, [r7, #24]
2687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           (void)SDMMC_Init(hmmc->Instance, Init);
 4998              		.loc 1 2687 17
 4999 00f8 7B68     		ldr	r3, [r7, #4]
 5000 00fa 1D68     		ldr	r5, [r3]
 5001 00fc 6C46     		mov	r4, sp
 5002 00fe 07F11803 		add	r3, r7, #24
 5003 0102 93E80700 		ldm	r3, {r0, r1, r2}
 5004 0106 84E80700 		stm	r4, {r0, r1, r2}
 5005 010a 07F10C03 		add	r3, r7, #12
 5006 010e 0ECB     		ldm	r3, {r1, r2, r3}
 5007 0110 2846     		mov	r0, r5
ARM GAS  /tmp/ccxVmGdL.s 			page 137


 5008 0112 FFF7FEFF 		bl	SDMMC_Init
2678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
 5009              		.loc 1 2678 12
 5010 0116 05E0     		b	.L204
 5011              	.L212:
2688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
2689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
2690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else if (count == 0U)
 5012              		.loc 1 2690 15
 5013 0118 FB6A     		ldr	r3, [r7, #44]
 5014 011a 002B     		cmp	r3, #0
 5015 011c 02D1     		bne	.L204
2691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
2692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = SDMMC_ERROR_TIMEOUT;
 5016              		.loc 1 2692 20
 5017 011e 4FF00043 		mov	r3, #-2147483648
 5018 0122 BB62     		str	r3, [r7, #40]
 5019              	.L204:
2693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
2694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else
2695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
2696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Nothing to do */
2697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
2698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Change State */
2702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->State = HAL_MMC_STATE_READY;
 5020              		.loc 1 2702 15
 5021 0124 7B68     		ldr	r3, [r7, #4]
 5022 0126 0122     		movs	r2, #1
 5023 0128 83F83420 		strb	r2, [r3, #52]
2703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (errorstate != HAL_MMC_ERROR_NONE)
 5024              		.loc 1 2704 6
 5025 012c BB6A     		ldr	r3, [r7, #40]
 5026 012e 002B     		cmp	r3, #0
 5027 0130 0BD0     		beq	.L215
2705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Clear all the static flags */
2707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 5028              		.loc 1 2707 5
 5029 0132 7B68     		ldr	r3, [r7, #4]
 5030 0134 1B68     		ldr	r3, [r3]
 5031 0136 0A4A     		ldr	r2, .L219+12
 5032 0138 9A63     		str	r2, [r3, #56]
2708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= errorstate;
 5033              		.loc 1 2708 9
 5034 013a 7B68     		ldr	r3, [r7, #4]
 5035 013c 9A6B     		ldr	r2, [r3, #56]
 5036              		.loc 1 2708 21
 5037 013e BB6A     		ldr	r3, [r7, #40]
 5038 0140 1A43     		orrs	r2, r2, r3
 5039 0142 7B68     		ldr	r3, [r7, #4]
 5040 0144 9A63     		str	r2, [r3, #56]
2709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 5041              		.loc 1 2709 12
ARM GAS  /tmp/ccxVmGdL.s 			page 138


 5042 0146 0123     		movs	r3, #1
 5043 0148 00E0     		b	.L217
 5044              	.L215:
2710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return HAL_OK;
 5045              		.loc 1 2712 10
 5046 014a 0023     		movs	r3, #0
 5047              	.L217:
2713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 5048              		.loc 1 2713 1
 5049 014c 1846     		mov	r0, r3
 5050 014e 3037     		adds	r7, r7, #48
 5051              		.cfi_def_cfa_offset 16
 5052 0150 BD46     		mov	sp, r7
 5053              		.cfi_def_cfa_register 13
 5054              		@ sp needed
 5055 0152 B0BD     		pop	{r4, r5, r7, pc}
 5056              	.L220:
 5057              		.align	2
 5058              	.L219:
 5059 0154 0002B703 		.word	62325248
 5060 0158 0001B703 		.word	62324992
 5061 015c 0000B703 		.word	62324736
 5062 0160 FF054000 		.word	4195839
 5063              		.cfi_endproc
 5064              	.LFE468:
 5066              		.section	.text.HAL_MMC_GetCardState,"ax",%progbits
 5067              		.align	1
 5068              		.global	HAL_MMC_GetCardState
 5069              		.syntax unified
 5070              		.thumb
 5071              		.thumb_func
 5073              	HAL_MMC_GetCardState:
 5074              	.LFB469:
2714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
2716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
2717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Configure the speed bus mode
2718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc Pointer to the MMC handle
2719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  SpeedMode Specifies the MMC card speed bus mode
2720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          This parameter can be one of the following values:
2721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg SDMMC_SPEED_MODE_AUTO: Max speed mode supported by the card
2722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg SDMMC_SPEED_MODE_DEFAULT: Default Speed (MMC @ 26MHz)
2723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg SDMMC_SPEED_MODE_HIGH: High Speed (MMC @ 52 MHz)
2724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg SDMMC_SPEED_MODE_DDR: High Speed DDR (MMC DDR @ 52 MHz)
2725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
2726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
2727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_ConfigSpeedBusOperation(MMC_HandleTypeDef *hmmc, uint32_t SpeedMode)
2729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
2730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t tickstart;
2731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   HAL_StatusTypeDef status = HAL_OK;
2732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t device_type;
2733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate;
2734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check the parameters */
ARM GAS  /tmp/ccxVmGdL.s 			page 139


2736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   assert_param(IS_SDMMC_SPEED_MODE(SpeedMode));
2737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Change State */
2739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->State = HAL_MMC_STATE_BUSY;
2740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Field DEVICE_TYPE [196 = 49*4] of Extended CSD register */
2742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   device_type = (hmmc->Ext_CSD[49] & 0x000000FFU);
2743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   switch (SpeedMode)
2745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     case SDMMC_SPEED_MODE_AUTO:
2747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (((hmmc->Instance->CLKCR & SDMMC_CLKCR_WIDBUS) != 0U) && ((device_type & 0x04U) != 0U))
2749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
2750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* High Speed DDR mode allowed */
2751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = MMC_HighSpeed(hmmc, ENABLE);
2752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if (errorstate != HAL_MMC_ERROR_NONE)
2753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
2754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           hmmc->ErrorCode |= errorstate;
2755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
2756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         else
2757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
2758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           if ((hmmc->Instance->CLKCR & SDMMC_CLKCR_CLKDIV) != 0U)
2759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
2760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             /* DDR mode not supported with CLKDIV = 0 */
2761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             errorstate = MMC_DDR_Mode(hmmc, ENABLE);
2762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             if (errorstate != HAL_MMC_ERROR_NONE)
2763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             {
2764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               hmmc->ErrorCode |= errorstate;
2765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             }
2766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
2767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
2768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
2769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else if ((device_type & 0x02U) != 0U)
2770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
2771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* High Speed mode allowed */
2772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = MMC_HighSpeed(hmmc, ENABLE);
2773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if (errorstate != HAL_MMC_ERROR_NONE)
2774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
2775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           hmmc->ErrorCode |= errorstate;
2776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
2777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
2778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else
2779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
2780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Nothing to do : keep current speed */
2781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
2782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       break;
2783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     case SDMMC_SPEED_MODE_DDR:
2785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (((hmmc->Instance->CLKCR & SDMMC_CLKCR_WIDBUS) != 0U) && ((device_type & 0x04U) != 0U))
2787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
2788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* High Speed DDR mode allowed */
2789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = MMC_HighSpeed(hmmc, ENABLE);
2790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if (errorstate != HAL_MMC_ERROR_NONE)
2791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
2792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           hmmc->ErrorCode |= errorstate;
ARM GAS  /tmp/ccxVmGdL.s 			page 140


2793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
2794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         else
2795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
2796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           if ((hmmc->Instance->CLKCR & SDMMC_CLKCR_CLKDIV) != 0U)
2797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
2798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             /* DDR mode not supported with CLKDIV = 0 */
2799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             errorstate = MMC_DDR_Mode(hmmc, ENABLE);
2800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             if (errorstate != HAL_MMC_ERROR_NONE)
2801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             {
2802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               hmmc->ErrorCode |= errorstate;
2803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             }
2804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
2805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
2806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
2807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else
2808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
2809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* High Speed DDR mode not allowed */
2810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->ErrorCode |= HAL_MMC_ERROR_UNSUPPORTED_FEATURE;
2811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         status = HAL_ERROR;
2812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
2813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       break;
2814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     case SDMMC_SPEED_MODE_HIGH:
2816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if ((device_type & 0x02U) != 0U)
2818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
2819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* High Speed mode allowed */
2820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = MMC_HighSpeed(hmmc, ENABLE);
2821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if (errorstate != HAL_MMC_ERROR_NONE)
2822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
2823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           hmmc->ErrorCode |= errorstate;
2824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
2825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
2826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else
2827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
2828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* High Speed mode not allowed */
2829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->ErrorCode |= HAL_MMC_ERROR_UNSUPPORTED_FEATURE;
2830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         status = HAL_ERROR;
2831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
2832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       break;
2833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     case SDMMC_SPEED_MODE_DEFAULT:
2835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if ((hmmc->Instance->CLKCR & SDMMC_CLKCR_DDR) != 0U)
2837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
2838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* High Speed DDR mode activated */
2839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = MMC_DDR_Mode(hmmc, DISABLE);
2840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if (errorstate != HAL_MMC_ERROR_NONE)
2841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
2842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           hmmc->ErrorCode |= errorstate;
2843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
2844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
2845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if ((hmmc->Instance->CLKCR & SDMMC_CLKCR_BUSSPEED) != 0U)
2846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
2847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* High Speed mode activated */
2848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = MMC_HighSpeed(hmmc, DISABLE);
2849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if (errorstate != HAL_MMC_ERROR_NONE)
ARM GAS  /tmp/ccxVmGdL.s 			page 141


2850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
2851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           hmmc->ErrorCode |= errorstate;
2852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
2853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
2854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       break;
2855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     default:
2857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_PARAM;
2858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       status = HAL_ERROR;
2859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       break;
2860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Verify that MMC card is ready to use after Speed mode switch*/
2863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   tickstart = HAL_GetTick();
2864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   while ((HAL_MMC_GetCardState(hmmc) != HAL_MMC_CARD_TRANSFER))
2865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
2867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode = HAL_MMC_ERROR_TIMEOUT;
2869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
2870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_TIMEOUT;
2871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Change State */
2875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->State = HAL_MMC_STATE_READY;
2876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return status;
2877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
2878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
2879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
2881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Gets the current mmc card data state.
2882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: pointer to MMC handle
2883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval Card state
2884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
2885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_MMC_CardStateTypeDef HAL_MMC_GetCardState(MMC_HandleTypeDef *hmmc)
2886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 5075              		.loc 1 2886 1
 5076              		.cfi_startproc
 5077              		@ args = 0, pretend = 0, frame = 24
 5078              		@ frame_needed = 1, uses_anonymous_args = 0
 5079 0000 80B5     		push	{r7, lr}
 5080              		.cfi_def_cfa_offset 8
 5081              		.cfi_offset 7, -8
 5082              		.cfi_offset 14, -4
 5083 0002 86B0     		sub	sp, sp, #24
 5084              		.cfi_def_cfa_offset 32
 5085 0004 00AF     		add	r7, sp, #0
 5086              		.cfi_def_cfa_register 7
 5087 0006 7860     		str	r0, [r7, #4]
2887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t cardstate;
2888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate;
2889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t resp1 = 0U;
 5088              		.loc 1 2889 12
 5089 0008 0023     		movs	r3, #0
 5090 000a FB60     		str	r3, [r7, #12]
2890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
ARM GAS  /tmp/ccxVmGdL.s 			page 142


2891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   errorstate = MMC_SendStatus(hmmc, &resp1);
 5091              		.loc 1 2891 16
 5092 000c 07F10C03 		add	r3, r7, #12
 5093 0010 1946     		mov	r1, r3
 5094 0012 7868     		ldr	r0, [r7, #4]
 5095 0014 FFF7FEFF 		bl	MMC_SendStatus
 5096 0018 7861     		str	r0, [r7, #20]
2892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (errorstate != HAL_MMC_ERROR_NONE)
 5097              		.loc 1 2892 6
 5098 001a 7B69     		ldr	r3, [r7, #20]
 5099 001c 002B     		cmp	r3, #0
 5100 001e 05D0     		beq	.L222
2893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= errorstate;
 5101              		.loc 1 2894 9
 5102 0020 7B68     		ldr	r3, [r7, #4]
 5103 0022 9A6B     		ldr	r2, [r3, #56]
 5104              		.loc 1 2894 21
 5105 0024 7B69     		ldr	r3, [r7, #20]
 5106 0026 1A43     		orrs	r2, r2, r3
 5107 0028 7B68     		ldr	r3, [r7, #4]
 5108 002a 9A63     		str	r2, [r3, #56]
 5109              	.L222:
2895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   cardstate = ((resp1 >> 9U) & 0x0FU);
 5110              		.loc 1 2897 23
 5111 002c FB68     		ldr	r3, [r7, #12]
 5112 002e 5B0A     		lsrs	r3, r3, #9
 5113              		.loc 1 2897 13
 5114 0030 03F00F03 		and	r3, r3, #15
 5115 0034 3B61     		str	r3, [r7, #16]
2898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return (HAL_MMC_CardStateTypeDef)cardstate;
 5116              		.loc 1 2899 10
 5117 0036 3B69     		ldr	r3, [r7, #16]
2900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 5118              		.loc 1 2900 1
 5119 0038 1846     		mov	r0, r3
 5120 003a 1837     		adds	r7, r7, #24
 5121              		.cfi_def_cfa_offset 8
 5122 003c BD46     		mov	sp, r7
 5123              		.cfi_def_cfa_register 13
 5124              		@ sp needed
 5125 003e 80BD     		pop	{r7, pc}
 5126              		.cfi_endproc
 5127              	.LFE469:
 5129              		.section	.text.HAL_MMC_Abort,"ax",%progbits
 5130              		.align	1
 5131              		.global	HAL_MMC_Abort
 5132              		.syntax unified
 5133              		.thumb
 5134              		.thumb_func
 5136              	HAL_MMC_Abort:
 5137              	.LFB470:
2901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
ARM GAS  /tmp/ccxVmGdL.s 			page 143


2903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Abort the current transfer and disable the MMC.
2904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: pointer to a MMC_HandleTypeDef structure that contains
2905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *                the configuration information for MMC module.
2906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
2907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
2908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_Abort(MMC_HandleTypeDef *hmmc)
2909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 5138              		.loc 1 2909 1
 5139              		.cfi_startproc
 5140              		@ args = 0, pretend = 0, frame = 16
 5141              		@ frame_needed = 1, uses_anonymous_args = 0
 5142 0000 80B5     		push	{r7, lr}
 5143              		.cfi_def_cfa_offset 8
 5144              		.cfi_offset 7, -8
 5145              		.cfi_offset 14, -4
 5146 0002 84B0     		sub	sp, sp, #16
 5147              		.cfi_def_cfa_offset 24
 5148 0004 00AF     		add	r7, sp, #0
 5149              		.cfi_def_cfa_register 7
 5150 0006 7860     		str	r0, [r7, #4]
2910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   HAL_MMC_CardStateTypeDef CardState;
2911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* DIsable All interrupts */
2913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   __HAL_MMC_DISABLE_IT(hmmc, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
 5151              		.loc 1 2913 3
 5152 0008 7B68     		ldr	r3, [r7, #4]
 5153 000a 1B68     		ldr	r3, [r3]
 5154 000c DA6B     		ldr	r2, [r3, #60]
 5155 000e 7B68     		ldr	r3, [r7, #4]
 5156 0010 1B68     		ldr	r3, [r3]
 5157 0012 22F49D72 		bic	r2, r2, #314
 5158 0016 DA63     		str	r2, [r3, #60]
2914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                        SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
2915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Clear All flags */
2917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_DATA_FLAGS);
 5159              		.loc 1 2917 3
 5160 0018 7B68     		ldr	r3, [r7, #4]
 5161 001a 1B68     		ldr	r3, [r3]
 5162 001c 40F23A52 		movw	r2, #1338
 5163 0020 9A63     		str	r2, [r3, #56]
2918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
2919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if ((hmmc->hdmatx != NULL) || (hmmc->hdmarx != NULL))
 5164              		.loc 1 2919 12
 5165 0022 7B68     		ldr	r3, [r7, #4]
 5166 0024 1B6C     		ldr	r3, [r3, #64]
 5167              		.loc 1 2919 6
 5168 0026 002B     		cmp	r3, #0
 5169 0028 03D1     		bne	.L225
 5170              		.loc 1 2919 38 discriminator 1
 5171 002a 7B68     		ldr	r3, [r7, #4]
 5172 002c DB6B     		ldr	r3, [r3, #60]
 5173              		.loc 1 2919 30 discriminator 1
 5174 002e 002B     		cmp	r3, #0
 5175 0030 2BD0     		beq	.L226
 5176              	.L225:
2920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
ARM GAS  /tmp/ccxVmGdL.s 			page 144


2921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Disable the MMC DMA request */
2922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Instance->DCTRL &= (uint32_t)~((uint32_t)SDMMC_DCTRL_DMAEN);
 5177              		.loc 1 2922 9
 5178 0032 7B68     		ldr	r3, [r7, #4]
 5179 0034 1B68     		ldr	r3, [r3]
 5180              		.loc 1 2922 19
 5181 0036 DA6A     		ldr	r2, [r3, #44]
 5182              		.loc 1 2922 9
 5183 0038 7B68     		ldr	r3, [r7, #4]
 5184 003a 1B68     		ldr	r3, [r3]
 5185              		.loc 1 2922 27
 5186 003c 22F00802 		bic	r2, r2, #8
 5187 0040 DA62     		str	r2, [r3, #44]
2923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Abort the MMC DMA Tx Stream */
2925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (hmmc->hdmatx != NULL)
 5188              		.loc 1 2925 13
 5189 0042 7B68     		ldr	r3, [r7, #4]
 5190 0044 1B6C     		ldr	r3, [r3, #64]
 5191              		.loc 1 2925 8
 5192 0046 002B     		cmp	r3, #0
 5193 0048 0DD0     		beq	.L227
2926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (HAL_DMA_Abort(hmmc->hdmatx) != HAL_OK)
 5194              		.loc 1 2927 11
 5195 004a 7B68     		ldr	r3, [r7, #4]
 5196 004c 1B6C     		ldr	r3, [r3, #64]
 5197 004e 1846     		mov	r0, r3
 5198 0050 FFF7FEFF 		bl	HAL_DMA_Abort
 5199 0054 0346     		mov	r3, r0
 5200              		.loc 1 2927 10 discriminator 1
 5201 0056 002B     		cmp	r3, #0
 5202 0058 05D0     		beq	.L227
2928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
2929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->ErrorCode |= HAL_MMC_ERROR_DMA;
 5203              		.loc 1 2929 13
 5204 005a 7B68     		ldr	r3, [r7, #4]
 5205 005c 9B6B     		ldr	r3, [r3, #56]
 5206              		.loc 1 2929 25
 5207 005e 43F08042 		orr	r2, r3, #1073741824
 5208 0062 7B68     		ldr	r3, [r7, #4]
 5209 0064 9A63     		str	r2, [r3, #56]
 5210              	.L227:
2930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
2931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Abort the MMC DMA Rx Stream */
2933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (hmmc->hdmarx != NULL)
 5211              		.loc 1 2933 13
 5212 0066 7B68     		ldr	r3, [r7, #4]
 5213 0068 DB6B     		ldr	r3, [r3, #60]
 5214              		.loc 1 2933 8
 5215 006a 002B     		cmp	r3, #0
 5216 006c 0DD0     		beq	.L226
2934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (HAL_DMA_Abort(hmmc->hdmarx) != HAL_OK)
 5217              		.loc 1 2935 11
 5218 006e 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccxVmGdL.s 			page 145


 5219 0070 DB6B     		ldr	r3, [r3, #60]
 5220 0072 1846     		mov	r0, r3
 5221 0074 FFF7FEFF 		bl	HAL_DMA_Abort
 5222 0078 0346     		mov	r3, r0
 5223              		.loc 1 2935 10 discriminator 1
 5224 007a 002B     		cmp	r3, #0
 5225 007c 05D0     		beq	.L226
2936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
2937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->ErrorCode |= HAL_MMC_ERROR_DMA;
 5226              		.loc 1 2937 13
 5227 007e 7B68     		ldr	r3, [r7, #4]
 5228 0080 9B6B     		ldr	r3, [r3, #56]
 5229              		.loc 1 2937 25
 5230 0082 43F08042 		orr	r2, r3, #1073741824
 5231 0086 7B68     		ldr	r3, [r7, #4]
 5232 0088 9A63     		str	r2, [r3, #56]
 5233              	.L226:
2938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
2939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
2942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* If IDMA Context, disable Internal DMA */
2943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
2944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
2945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->State = HAL_MMC_STATE_READY;
 5234              		.loc 1 2945 15
 5235 008a 7B68     		ldr	r3, [r7, #4]
 5236 008c 0122     		movs	r2, #1
 5237 008e 83F83420 		strb	r2, [r3, #52]
2946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Initialize the MMC operation */
2948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->Context = MMC_CONTEXT_NONE;
 5238              		.loc 1 2948 17
 5239 0092 7B68     		ldr	r3, [r7, #4]
 5240 0094 0022     		movs	r2, #0
 5241 0096 1A63     		str	r2, [r3, #48]
2949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   CardState = HAL_MMC_GetCardState(hmmc);
 5242              		.loc 1 2950 15
 5243 0098 7868     		ldr	r0, [r7, #4]
 5244 009a FFF7FEFF 		bl	HAL_MMC_GetCardState
 5245 009e F860     		str	r0, [r7, #12]
2951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if ((CardState == HAL_MMC_CARD_RECEIVING) || (CardState == HAL_MMC_CARD_SENDING))
 5246              		.loc 1 2951 6
 5247 00a0 FB68     		ldr	r3, [r7, #12]
 5248 00a2 062B     		cmp	r3, #6
 5249 00a4 02D0     		beq	.L228
 5250              		.loc 1 2951 45 discriminator 1
 5251 00a6 FB68     		ldr	r3, [r7, #12]
 5252 00a8 052B     		cmp	r3, #5
 5253 00aa 07D1     		bne	.L229
 5254              	.L228:
2952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode = SDMMC_CmdStopTransfer(hmmc->Instance);
 5255              		.loc 1 2953 23
 5256 00ac 7B68     		ldr	r3, [r7, #4]
 5257 00ae 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccxVmGdL.s 			page 146


 5258 00b0 1846     		mov	r0, r3
 5259 00b2 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 5260 00b6 0246     		mov	r2, r0
 5261              		.loc 1 2953 21 discriminator 1
 5262 00b8 7B68     		ldr	r3, [r7, #4]
 5263 00ba 9A63     		str	r2, [r3, #56]
 5264              	.L229:
2954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->ErrorCode != HAL_MMC_ERROR_NONE)
 5265              		.loc 1 2955 11
 5266 00bc 7B68     		ldr	r3, [r7, #4]
 5267 00be 9B6B     		ldr	r3, [r3, #56]
 5268              		.loc 1 2955 6
 5269 00c0 002B     		cmp	r3, #0
 5270 00c2 01D0     		beq	.L230
2956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 5271              		.loc 1 2957 12
 5272 00c4 0123     		movs	r3, #1
 5273 00c6 00E0     		b	.L231
 5274              	.L230:
2958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
2959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return HAL_OK;
 5275              		.loc 1 2959 10
 5276 00c8 0023     		movs	r3, #0
 5277              	.L231:
2960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 5278              		.loc 1 2960 1
 5279 00ca 1846     		mov	r0, r3
 5280 00cc 1037     		adds	r7, r7, #16
 5281              		.cfi_def_cfa_offset 8
 5282 00ce BD46     		mov	sp, r7
 5283              		.cfi_def_cfa_register 13
 5284              		@ sp needed
 5285 00d0 80BD     		pop	{r7, pc}
 5286              		.cfi_endproc
 5287              	.LFE470:
 5289              		.section	.text.HAL_MMC_Abort_IT,"ax",%progbits
 5290              		.align	1
 5291              		.global	HAL_MMC_Abort_IT
 5292              		.syntax unified
 5293              		.thumb
 5294              		.thumb_func
 5296              	HAL_MMC_Abort_IT:
 5297              	.LFB471:
2961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
2963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Abort the current transfer and disable the MMC (IT mode).
2964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: pointer to a MMC_HandleTypeDef structure that contains
2965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *                the configuration information for MMC module.
2966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
2967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
2968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_Abort_IT(MMC_HandleTypeDef *hmmc)
2969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 5298              		.loc 1 2969 1
 5299              		.cfi_startproc
 5300              		@ args = 0, pretend = 0, frame = 16
ARM GAS  /tmp/ccxVmGdL.s 			page 147


 5301              		@ frame_needed = 1, uses_anonymous_args = 0
 5302 0000 80B5     		push	{r7, lr}
 5303              		.cfi_def_cfa_offset 8
 5304              		.cfi_offset 7, -8
 5305              		.cfi_offset 14, -4
 5306 0002 84B0     		sub	sp, sp, #16
 5307              		.cfi_def_cfa_offset 24
 5308 0004 00AF     		add	r7, sp, #0
 5309              		.cfi_def_cfa_register 7
 5310 0006 7860     		str	r0, [r7, #4]
2970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   HAL_MMC_CardStateTypeDef CardState;
2971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* DIsable All interrupts */
2973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   __HAL_MMC_DISABLE_IT(hmmc, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
 5311              		.loc 1 2973 3
 5312 0008 7B68     		ldr	r3, [r7, #4]
 5313 000a 1B68     		ldr	r3, [r3]
 5314 000c DA6B     		ldr	r2, [r3, #60]
 5315 000e 7B68     		ldr	r3, [r7, #4]
 5316 0010 1B68     		ldr	r3, [r3]
 5317 0012 22F49D72 		bic	r2, r2, #314
 5318 0016 DA63     		str	r2, [r3, #60]
2974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                        SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
2975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
2977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* If IDMA Context, disable Internal DMA */
2978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
2979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
2980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Clear All flags */
2982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_DATA_FLAGS);
 5319              		.loc 1 2982 3
 5320 0018 7B68     		ldr	r3, [r7, #4]
 5321 001a 1B68     		ldr	r3, [r3]
 5322 001c 40F23A52 		movw	r2, #1338
 5323 0020 9A63     		str	r2, [r3, #56]
2983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
2984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if ((hmmc->hdmatx != NULL) || (hmmc->hdmarx != NULL))
 5324              		.loc 1 2984 12
 5325 0022 7B68     		ldr	r3, [r7, #4]
 5326 0024 1B6C     		ldr	r3, [r3, #64]
 5327              		.loc 1 2984 6
 5328 0026 002B     		cmp	r3, #0
 5329 0028 03D1     		bne	.L233
 5330              		.loc 1 2984 38 discriminator 1
 5331 002a 7B68     		ldr	r3, [r7, #4]
 5332 002c DB6B     		ldr	r3, [r3, #60]
 5333              		.loc 1 2984 30 discriminator 1
 5334 002e 002B     		cmp	r3, #0
 5335 0030 2DD0     		beq	.L234
 5336              	.L233:
2985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
2986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Disable the MMC DMA request */
2987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Instance->DCTRL &= (uint32_t)~((uint32_t)SDMMC_DCTRL_DMAEN);
 5337              		.loc 1 2987 9
 5338 0032 7B68     		ldr	r3, [r7, #4]
 5339 0034 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccxVmGdL.s 			page 148


 5340              		.loc 1 2987 19
 5341 0036 DA6A     		ldr	r2, [r3, #44]
 5342              		.loc 1 2987 9
 5343 0038 7B68     		ldr	r3, [r7, #4]
 5344 003a 1B68     		ldr	r3, [r3]
 5345              		.loc 1 2987 27
 5346 003c 22F00802 		bic	r2, r2, #8
 5347 0040 DA62     		str	r2, [r3, #44]
2988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
2989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Abort the MMC DMA Tx Stream */
2990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (hmmc->hdmatx != NULL)
 5348              		.loc 1 2990 13
 5349 0042 7B68     		ldr	r3, [r7, #4]
 5350 0044 1B6C     		ldr	r3, [r3, #64]
 5351              		.loc 1 2990 8
 5352 0046 002B     		cmp	r3, #0
 5353 0048 0ED0     		beq	.L235
2991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
2992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->hdmatx->XferAbortCallback =  MMC_DMATxAbort;
 5354              		.loc 1 2992 11
 5355 004a 7B68     		ldr	r3, [r7, #4]
 5356 004c 1B6C     		ldr	r3, [r3, #64]
 5357              		.loc 1 2992 39
 5358 004e 264A     		ldr	r2, .L241
 5359 0050 9A63     		str	r2, [r3, #56]
2993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (HAL_DMA_Abort_IT(hmmc->hdmatx) != HAL_OK)
 5360              		.loc 1 2993 11
 5361 0052 7B68     		ldr	r3, [r7, #4]
 5362 0054 1B6C     		ldr	r3, [r3, #64]
 5363 0056 1846     		mov	r0, r3
 5364 0058 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 5365 005c 0346     		mov	r3, r0
 5366              		.loc 1 2993 10 discriminator 1
 5367 005e 002B     		cmp	r3, #0
 5368 0060 02D0     		beq	.L235
2994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
2995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->hdmatx = NULL;
 5369              		.loc 1 2995 22
 5370 0062 7B68     		ldr	r3, [r7, #4]
 5371 0064 0022     		movs	r2, #0
 5372 0066 1A64     		str	r2, [r3, #64]
 5373              	.L235:
2996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
2997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
2998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Abort the MMC DMA Rx Stream */
2999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (hmmc->hdmarx != NULL)
 5374              		.loc 1 2999 13
 5375 0068 7B68     		ldr	r3, [r7, #4]
 5376 006a DB6B     		ldr	r3, [r3, #60]
 5377              		.loc 1 2999 8
 5378 006c 002B     		cmp	r3, #0
 5379 006e 0ED0     		beq	.L234
3000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->hdmarx->XferAbortCallback =  MMC_DMARxAbort;
 5380              		.loc 1 3001 11
 5381 0070 7B68     		ldr	r3, [r7, #4]
 5382 0072 DB6B     		ldr	r3, [r3, #60]
ARM GAS  /tmp/ccxVmGdL.s 			page 149


 5383              		.loc 1 3001 39
 5384 0074 1D4A     		ldr	r2, .L241+4
 5385 0076 9A63     		str	r2, [r3, #56]
3002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (HAL_DMA_Abort_IT(hmmc->hdmarx) != HAL_OK)
 5386              		.loc 1 3002 11
 5387 0078 7B68     		ldr	r3, [r7, #4]
 5388 007a DB6B     		ldr	r3, [r3, #60]
 5389 007c 1846     		mov	r0, r3
 5390 007e FFF7FEFF 		bl	HAL_DMA_Abort_IT
 5391 0082 0346     		mov	r3, r0
 5392              		.loc 1 3002 10 discriminator 1
 5393 0084 002B     		cmp	r3, #0
 5394 0086 02D0     		beq	.L234
3003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->hdmarx = NULL;
 5395              		.loc 1 3004 22
 5396 0088 7B68     		ldr	r3, [r7, #4]
 5397 008a 0022     		movs	r2, #0
 5398 008c DA63     		str	r2, [r3, #60]
 5399              	.L234:
3005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* No transfer ongoing on both DMA channels*/
3010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if ((hmmc->hdmatx == NULL) && (hmmc->hdmarx == NULL))
 5400              		.loc 1 3010 12
 5401 008e 7B68     		ldr	r3, [r7, #4]
 5402 0090 1B6C     		ldr	r3, [r3, #64]
 5403              		.loc 1 3010 6
 5404 0092 002B     		cmp	r3, #0
 5405 0094 22D1     		bne	.L236
 5406              		.loc 1 3010 38 discriminator 1
 5407 0096 7B68     		ldr	r3, [r7, #4]
 5408 0098 DB6B     		ldr	r3, [r3, #60]
 5409              		.loc 1 3010 30 discriminator 1
 5410 009a 002B     		cmp	r3, #0
 5411 009c 1ED1     		bne	.L236
3011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
3013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     CardState = HAL_MMC_GetCardState(hmmc);
 5412              		.loc 1 3013 17
 5413 009e 7868     		ldr	r0, [r7, #4]
 5414 00a0 FFF7FEFF 		bl	HAL_MMC_GetCardState
 5415 00a4 F860     		str	r0, [r7, #12]
3014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
 5416              		.loc 1 3014 17
 5417 00a6 7B68     		ldr	r3, [r7, #4]
 5418 00a8 0122     		movs	r2, #1
 5419 00aa 83F83420 		strb	r2, [r3, #52]
3015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((CardState == HAL_MMC_CARD_RECEIVING) || (CardState == HAL_MMC_CARD_SENDING))
 5420              		.loc 1 3016 8
 5421 00ae FB68     		ldr	r3, [r7, #12]
 5422 00b0 062B     		cmp	r3, #6
 5423 00b2 02D0     		beq	.L237
 5424              		.loc 1 3016 47 discriminator 1
ARM GAS  /tmp/ccxVmGdL.s 			page 150


 5425 00b4 FB68     		ldr	r3, [r7, #12]
 5426 00b6 052B     		cmp	r3, #5
 5427 00b8 07D1     		bne	.L238
 5428              	.L237:
3017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode = SDMMC_CmdStopTransfer(hmmc->Instance);
 5429              		.loc 1 3018 25
 5430 00ba 7B68     		ldr	r3, [r7, #4]
 5431 00bc 1B68     		ldr	r3, [r3]
 5432 00be 1846     		mov	r0, r3
 5433 00c0 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 5434 00c4 0246     		mov	r2, r0
 5435              		.loc 1 3018 23 discriminator 1
 5436 00c6 7B68     		ldr	r3, [r7, #4]
 5437 00c8 9A63     		str	r2, [r3, #56]
 5438              	.L238:
3019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (hmmc->ErrorCode != HAL_MMC_ERROR_NONE)
 5439              		.loc 1 3020 13
 5440 00ca 7B68     		ldr	r3, [r7, #4]
 5441 00cc 9B6B     		ldr	r3, [r3, #56]
 5442              		.loc 1 3020 8
 5443 00ce 002B     		cmp	r3, #0
 5444 00d0 01D0     		beq	.L239
3021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
 5445              		.loc 1 3022 14
 5446 00d2 0123     		movs	r3, #1
 5447 00d4 03E0     		b	.L240
 5448              	.L239:
3023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
3025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
3027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->AbortCpltCallback(hmmc);
3028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
3029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       HAL_MMC_AbortCallback(hmmc);
 5449              		.loc 1 3029 7
 5450 00d6 7868     		ldr	r0, [r7, #4]
 5451 00d8 FFF7FEFF 		bl	HAL_MMC_AbortCallback
 5452              	.L236:
3030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
3031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
3032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
3034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return HAL_OK;
 5453              		.loc 1 3036 10
 5454 00dc 0023     		movs	r3, #0
 5455              	.L240:
3037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 5456              		.loc 1 3037 1
 5457 00de 1846     		mov	r0, r3
 5458 00e0 1037     		adds	r7, r7, #16
 5459              		.cfi_def_cfa_offset 8
 5460 00e2 BD46     		mov	sp, r7
ARM GAS  /tmp/ccxVmGdL.s 			page 151


 5461              		.cfi_def_cfa_register 13
 5462              		@ sp needed
 5463 00e4 80BD     		pop	{r7, pc}
 5464              	.L242:
 5465 00e6 00BF     		.align	2
 5466              	.L241:
 5467 00e8 00000000 		.word	MMC_DMATxAbort
 5468 00ec 00000000 		.word	MMC_DMARxAbort
 5469              		.cfi_endproc
 5470              	.LFE471:
 5472              		.section	.text.MMC_DMATransmitCplt,"ax",%progbits
 5473              		.align	1
 5474              		.syntax unified
 5475              		.thumb
 5476              		.thumb_func
 5478              	MMC_DMATransmitCplt:
 5479              	.LFB472:
3038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
3040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
3041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Perform specific commands sequence for the different type of erase.
3042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @note   This API should be followed by a check on the card state through
3043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         HAL_MMC_GetCardState().
3044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc Pointer to MMC handle
3045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  EraseType Specifies the type of erase to be performed
3046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          This parameter can be one of the following values:
3047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg HAL_MMC_ERASE Erase the erase groups identified by CMD35 & 36
3048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg HAL_MMC_TRIM Erase the write blocks identified by CMD35 & 36
3049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg HAL_MMC_DISCARD Discard the write blocks identified by CMD35 & 36
3050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg HAL_MMC_SECURE_ERASE Perform a secure purge according SRT on the erase groups i
3051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg HAL_MMC_SECURE_TRIM_STEP1 Mark the write blocks identified by CMD35 & 36 for se
3052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg HAL_MMC_SECURE_TRIM_STEP2 Perform a secure purge according SRT on the write blo
3053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  BlockStartAdd Start Block address
3054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  BlockEndAdd End Block address
3055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
3056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
3057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_EraseSequence(MMC_HandleTypeDef *hmmc, uint32_t EraseType, uint32_t Block
3058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                                         uint32_t BlockEndAdd)
3059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
3060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate;
3061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t start_add = BlockStartAdd;
3062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t end_add = BlockEndAdd;
3063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t tickstart = HAL_GetTick();
3064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check the erase type value is correct */
3066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   assert_param(IS_MMC_ERASE_TYPE(EraseType));
3067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check the coherence between start and end address */
3069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (end_add < start_add)
3070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= HAL_MMC_ERROR_PARAM;
3072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
3073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check that the end address is not out of range of device memory */
3076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (end_add > (hmmc->MmcCard.LogBlockNbr))
3077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
ARM GAS  /tmp/ccxVmGdL.s 			page 152


3078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= HAL_MMC_ERROR_ADDR_OUT_OF_RANGE;
3079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
3080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check the case of 4kB blocks (field DATA SECTOR SIZE of extended CSD register) */
3083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (((hmmc->Ext_CSD[(MMC_EXT_CSD_DATA_SEC_SIZE_INDEX / 4)] >> MMC_EXT_CSD_DATA_SEC_SIZE_POS) & 0x
3084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (((start_add % 8U) != 0U) || ((end_add % 8U) != 0U))
3086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* The address should be aligned to 8 (corresponding to 4 KBytes blocks) */
3088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_ADDR_MISALIGNED;
3089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
3090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check if the card command class supports erase command */
3094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (((hmmc->MmcCard.Class) & SDMMC_CCCC_ERASE) == 0U)
3095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= HAL_MMC_ERROR_REQUEST_NOT_APPLICABLE;
3097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
3098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check the state of the driver */
3101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->State == HAL_MMC_STATE_READY)
3102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Change State */
3104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_BUSY;
3105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Check that the card is not locked */
3107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
3108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_LOCK_UNLOCK_FAILED;
3110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
3111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
3112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* In case of low capacity card, the address is not block number but bytes */
3115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((hmmc->MmcCard.CardType) != MMC_HIGH_CAPACITY_CARD)
3116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       start_add *= MMC_BLOCKSIZE;
3118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       end_add   *= MMC_BLOCKSIZE;
3119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Send CMD35 MMC_ERASE_GRP_START with start address as argument */
3122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     errorstate = SDMMC_CmdEraseStartAdd(hmmc->Instance, start_add);
3123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate == HAL_MMC_ERROR_NONE)
3124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Send CMD36 MMC_ERASE_GRP_END with end address as argument */
3126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdEraseEndAdd(hmmc->Instance, end_add);
3127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (errorstate == HAL_MMC_ERROR_NONE)
3128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Send CMD38 ERASE with erase type as argument */
3130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = SDMMC_CmdErase(hmmc->Instance, EraseType);
3131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if (errorstate == HAL_MMC_ERROR_NONE)
3132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
3133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           if ((EraseType == HAL_MMC_SECURE_ERASE) || (EraseType == HAL_MMC_SECURE_TRIM_STEP2))
3134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
ARM GAS  /tmp/ccxVmGdL.s 			page 153


3135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             /* Wait that the device is ready by checking the D0 line */
3136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             while ((!__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_BUSYD0END)) && (errorstate == HAL_MMC_ERRO
3137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             {
3138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               if ((HAL_GetTick() - tickstart) >= SDMMC_MAXERASETIMEOUT)
3139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               {
3140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 errorstate = HAL_MMC_ERROR_TIMEOUT;
3141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               }
3142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             }
3143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             /* Clear the flag corresponding to end D0 bus line */
3145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_FLAG_BUSYD0END);
3146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
3147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
3148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Change State */
3152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
3153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Manage errors */
3155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate != HAL_MMC_ERROR_NONE)
3156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
3158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
3159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= errorstate;
3160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (errorstate != HAL_MMC_ERROR_TIMEOUT)
3162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         return HAL_ERROR;
3164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else
3166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         return HAL_TIMEOUT;
3168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
3171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_OK;
3173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
3176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_BUSY;
3178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
3180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
3182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Perform sanitize operation on the device.
3183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @note   This API should be followed by a check on the card state through
3184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         HAL_MMC_GetCardState().
3185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc Pointer to MMC handle
3186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
3187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
3188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_Sanitize(MMC_HandleTypeDef *hmmc)
3189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
3190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate, response = 0U, count;
3191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t tickstart = HAL_GetTick();
ARM GAS  /tmp/ccxVmGdL.s 			page 154


3192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check the state of the driver */
3194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->State == HAL_MMC_STATE_READY)
3195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Change State */
3197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_BUSY;
3198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Index : 165 - Value : 0x01 */
3200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     errorstate = SDMMC_CmdSwitch(hmmc->Instance, 0x03A50100U);
3201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate == HAL_MMC_ERROR_NONE)
3202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Wait that the device is ready by checking the D0 line */
3204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       while ((!__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_BUSYD0END)) && (errorstate == HAL_MMC_ERROR_NONE
3205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if ((HAL_GetTick() - tickstart) >= SDMMC_MAXERASETIMEOUT)
3207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
3208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           errorstate = HAL_MMC_ERROR_TIMEOUT;
3209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
3210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear the flag corresponding to end D0 bus line */
3213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_FLAG_BUSYD0END);
3214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (errorstate == HAL_MMC_ERROR_NONE)
3216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* While card is not ready for data and trial number for sending CMD13 is not exceeded */
3218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         count = SDMMC_MAX_TRIAL;
3219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         do
3220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
3221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           errorstate = SDMMC_CmdSendStatus(hmmc->Instance, (uint32_t)(((uint32_t)hmmc->MmcCard.RelC
3222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           if (errorstate != HAL_MMC_ERROR_NONE)
3223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
3224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             break;
3225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
3226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* Get command response */
3228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           response = SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP1);
3229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           count--;
3230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         } while (((response & 0x100U) == 0U) && (count != 0U));
3231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Check the status after the switch command execution */
3233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if ((count != 0U) && (errorstate == HAL_MMC_ERROR_NONE))
3234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
3235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* Check the bit SWITCH_ERROR of the device status */
3236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           if ((response & 0x80U) != 0U)
3237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
3238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             errorstate = SDMMC_ERROR_GENERAL_UNKNOWN_ERR;
3239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
3240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
3241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         else if (count == 0U)
3242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
3243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           errorstate = SDMMC_ERROR_TIMEOUT;
3244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
3245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         else
3246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
3247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* Nothing to do */
3248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
ARM GAS  /tmp/ccxVmGdL.s 			page 155


3249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Change State */
3253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
3254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Manage errors */
3256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate != HAL_MMC_ERROR_NONE)
3257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
3259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
3260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= errorstate;
3261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (errorstate != HAL_MMC_ERROR_TIMEOUT)
3263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         return HAL_ERROR;
3265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else
3267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         return HAL_TIMEOUT;
3269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
3272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_OK;
3274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
3277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_BUSY;
3279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
3281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
3283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Configure the Secure Removal Type (SRT) in the Extended CSD register.
3284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @note   This API should be followed by a check on the card state through
3285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         HAL_MMC_GetCardState().
3286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc Pointer to MMC handle
3287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  SRTMode Specifies the type of erase to be performed
3288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          This parameter can be one of the following values:
3289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg HAL_MMC_SRT_ERASE Information removed by an erase
3290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg HAL_MMC_SRT_WRITE_CHAR_ERASE Information removed by an overwriting with a chara
3291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg HAL_MMC_SRT_WRITE_CHAR_COMPL_RANDOM Information removed by an overwriting with 
3292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg HAL_MMC_SRT_VENDOR_DEFINED Information removed using a vendor defined
3293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
3294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
3295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_ConfigSecRemovalType(MMC_HandleTypeDef *hmmc, uint32_t SRTMode)
3296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
3297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t srt, errorstate, response = 0U, count;
3298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check the erase type value is correct */
3300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   assert_param(IS_MMC_SRT_TYPE(SRTMode));
3301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check the state of the driver */
3303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->State == HAL_MMC_STATE_READY)
3304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Get the supported values by the device */
ARM GAS  /tmp/ccxVmGdL.s 			page 156


3306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (HAL_MMC_GetSupportedSecRemovalType(hmmc, &srt) == HAL_OK)
3307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Change State */
3309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_BUSY;
3310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Check the value passed as parameter is supported by the device */
3312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if ((SRTMode & srt) != 0U)
3313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Index : 16 - Value : SRTMode */
3315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         srt |= ((POSITION_VAL(SRTMode)) << 4U);
3316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = SDMMC_CmdSwitch(hmmc->Instance, (0x03100000U | (srt << 8U)));
3317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if (errorstate == HAL_MMC_ERROR_NONE)
3318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
3319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* While card is not ready for data and trial number for sending CMD13 is not exceeded */
3320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           count = SDMMC_MAX_TRIAL;
3321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           do
3322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
3323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             errorstate = SDMMC_CmdSendStatus(hmmc->Instance, (uint32_t)(((uint32_t)hmmc->MmcCard.Re
3324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             if (errorstate != HAL_MMC_ERROR_NONE)
3325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             {
3326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               break;
3327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             }
3328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             /* Get command response */
3330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             response = SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP1);
3331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             count--;
3332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           } while (((response & 0x100U) == 0U) && (count != 0U));
3333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* Check the status after the switch command execution */
3335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           if ((count != 0U) && (errorstate == HAL_MMC_ERROR_NONE))
3336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
3337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             /* Check the bit SWITCH_ERROR of the device status */
3338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             if ((response & 0x80U) != 0U)
3339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             {
3340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               errorstate = SDMMC_ERROR_GENERAL_UNKNOWN_ERR;
3341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             }
3342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
3343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           else if (count == 0U)
3344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
3345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             errorstate = SDMMC_ERROR_TIMEOUT;
3346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
3347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           else
3348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
3349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             /* Nothing to do */
3350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
3351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
3352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else
3354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
3356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Change State */
3359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
3360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
3362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
ARM GAS  /tmp/ccxVmGdL.s 			page 157


3363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_ERROR_GENERAL_UNKNOWN_ERR;
3364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Manage errors */
3367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate != HAL_MMC_ERROR_NONE)
3368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
3370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
3371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= errorstate;
3372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_ERROR;
3373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
3375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_OK;
3377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
3380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_BUSY;
3382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
3384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
3386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Gets the supported values of the the Secure Removal Type (SRT).
3387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc pointer to MMC handle
3388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  SupportedSRT pointer for supported SRT value
3389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *          This parameter is a bit field of the following values:
3390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg HAL_MMC_SRT_ERASE Information removed by an erase
3391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg HAL_MMC_SRT_WRITE_CHAR_ERASE Information removed by an overwriting with a chara
3392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg HAL_MMC_SRT_WRITE_CHAR_COMPL_RANDOM Information removed by an overwriting with 
3393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *            @arg HAL_MMC_SRT_VENDOR_DEFINED Information removed using a vendor defined
3394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
3395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
3396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_GetSupportedSecRemovalType(MMC_HandleTypeDef *hmmc, uint32_t *SupportedSR
3397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
3398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check the state of the driver */
3399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->State == HAL_MMC_STATE_READY)
3400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Change State */
3402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_BUSY;
3403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Read field SECURE_REMOVAL_TYPE [16 = 4*4] of the Extended CSD register */
3405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     *SupportedSRT = (hmmc->Ext_CSD[4] & 0x0000000FU); /* Bits [3:0] of field 16 */
3406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Change State */
3408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
3409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_OK;
3411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
3413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_BUSY;
3415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
3417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
3419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Switch the device from Standby State to Sleep State.
ARM GAS  /tmp/ccxVmGdL.s 			page 158


3420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc pointer to MMC handle
3421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
3422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
3423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_SleepDevice(MMC_HandleTypeDef *hmmc)
3424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
3425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate, sleep_timeout, timeout, count, response = 0U;
3426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t tickstart = HAL_GetTick();
3427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check the state of the driver */
3429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->State == HAL_MMC_STATE_READY)
3430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Change State */
3432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_BUSY;
3433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Set the power-off notification to powered-on : Ext_CSD[34] = 1 */
3435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     errorstate = SDMMC_CmdSwitch(hmmc->Instance, (0x03220100U));
3436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate == HAL_MMC_ERROR_NONE)
3437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* While card is not ready for data and trial number for sending CMD13 is not exceeded */
3439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       count = SDMMC_MAX_TRIAL;
3440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       do
3441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = SDMMC_CmdSendStatus(hmmc->Instance, (uint32_t)(((uint32_t)hmmc->MmcCard.RelCar
3443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if (errorstate != HAL_MMC_ERROR_NONE)
3444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
3445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           break;
3446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
3447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Get command response */
3449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         response = SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP1);
3450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         count--;
3451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       } while (((response & 0x100U) == 0U) && (count != 0U));
3452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Check the status after the switch command execution */
3454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (count == 0U)
3455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = SDMMC_ERROR_TIMEOUT;
3457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else if (errorstate == HAL_MMC_ERROR_NONE)
3459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Check the bit SWITCH_ERROR of the device status */
3461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if ((response & 0x80U) != 0U)
3462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
3463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
3464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
3465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         else
3466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
3467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* Set the power-off notification to sleep notification : Ext_CSD[34] = 4 */
3468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           errorstate = SDMMC_CmdSwitch(hmmc->Instance, (0x03220400U));
3469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           if (errorstate == HAL_MMC_ERROR_NONE)
3470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
3471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             /* Field SLEEP_NOTIFICATION_TIME [216] */
3472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             sleep_timeout = ((hmmc->Ext_CSD[(MMC_EXT_CSD_SLEEP_NOTIFICATION_TIME_INDEX / 4)] >> MMC
3473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             /* Sleep/Awake Timeout = 10us * 2^SLEEP_NOTIFICATION_TIME */
3475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             /* In HAL, the tick interrupt occurs each ms */
3476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             if ((sleep_timeout == 0U) || (sleep_timeout > 0x17U))
ARM GAS  /tmp/ccxVmGdL.s 			page 159


3477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             {
3478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               sleep_timeout = 0x17U; /* Max register value defined is 0x17 */
3479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             }
3480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             timeout = (((1UL << sleep_timeout) / 100U) + 1U);
3481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             /* Wait that the device is ready by checking the D0 line */
3483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             while ((!__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_BUSYD0END)) && (errorstate == HAL_MMC_ERRO
3484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             {
3485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               if ((HAL_GetTick() - tickstart) >= timeout)
3486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               {
3487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 errorstate = SDMMC_ERROR_TIMEOUT;
3488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               }
3489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             }
3490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             /* Clear the flag corresponding to end D0 bus line */
3492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_FLAG_BUSYD0END);
3493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             if (errorstate == HAL_MMC_ERROR_NONE)
3495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             {
3496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               /* While card is not ready for data and trial number for sending CMD13 is not exceede
3497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               count = SDMMC_MAX_TRIAL;
3498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               do
3499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               {
3500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 errorstate = SDMMC_CmdSendStatus(hmmc->Instance, (uint32_t)(((uint32_t)hmmc->MmcCar
3501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 if (errorstate != HAL_MMC_ERROR_NONE)
3502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 {
3503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   break;
3504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 }
3505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 /* Get command response */
3507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 response = SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP1);
3508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 count--;
3509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               } while (((response & 0x100U) == 0U) && (count != 0U));
3510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               /* Check the status after the switch command execution */
3512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               if (count == 0U)
3513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               {
3514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 errorstate = SDMMC_ERROR_TIMEOUT;
3515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               }
3516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               else if (errorstate == HAL_MMC_ERROR_NONE)
3517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               {
3518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 /* Check the bit SWITCH_ERROR of the device status */
3519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 if ((response & 0x80U) != 0U)
3520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 {
3521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
3522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 }
3523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 else
3524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 {
3525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   /* Switch the device in stand-by mode */
3526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   (void)SDMMC_CmdSelDesel(hmmc->Instance, 0U);
3527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   /* Field S_A_TIMEOUT [217] */
3529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   sleep_timeout = ((hmmc->Ext_CSD[(MMC_EXT_CSD_S_A_TIMEOUT_INDEX / 4)] >> MMC_EXT_C
3530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   /* Sleep/Awake Timeout = 100ns * 2^S_A_TIMEOUT */
3532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   /* In HAL, the tick interrupt occurs each ms */
3533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   if ((sleep_timeout == 0U) || (sleep_timeout > 0x17U))
ARM GAS  /tmp/ccxVmGdL.s 			page 160


3534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   {
3535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                     sleep_timeout = 0x17U; /* Max register value defined is 0x17 */
3536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   }
3537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   timeout = (((1UL << sleep_timeout) / 10000U) + 1U);
3538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   if (HAL_MMC_GetCardState(hmmc) == HAL_MMC_CARD_STANDBY)
3540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   {
3541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                     /* Send CMD5 CMD_MMC_SLEEP_AWAKE with RCA and SLEEP as argument */
3542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                     errorstate = SDMMC_CmdSleepMmc(hmmc->Instance, ((hmmc->MmcCard.RelCardAdd << 16
3543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                     if (errorstate == HAL_MMC_ERROR_NONE)
3544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                     {
3545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                       /* Wait that the device is ready by checking the D0 line */
3546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                       while ((!__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_BUSYD0END)) && (errorstate == HA
3547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                       {
3548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                         if ((HAL_GetTick() - tickstart) >= timeout)
3549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                         {
3550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                           errorstate = SDMMC_ERROR_TIMEOUT;
3551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                         }
3552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                       }
3553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                       /* Clear the flag corresponding to end D0 bus line */
3555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_FLAG_BUSYD0END);
3556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                     }
3557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   }
3558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   else
3559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   {
3560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                     errorstate = SDMMC_ERROR_REQUEST_NOT_APPLICABLE;
3561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   }
3562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 }
3563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               }
3564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               else
3565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               {
3566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 /* Nothing to do */
3567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               }
3568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             }
3569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
3570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
3571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else
3573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Nothing to do */
3575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Change State */
3579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
3580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Manage errors */
3582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate != HAL_MMC_ERROR_NONE)
3583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
3585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
3586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= errorstate;
3587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (errorstate != HAL_MMC_ERROR_TIMEOUT)
3589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         return HAL_ERROR;
ARM GAS  /tmp/ccxVmGdL.s 			page 161


3591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else
3593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         return HAL_TIMEOUT;
3595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
3598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_OK;
3600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
3603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_BUSY;
3605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
3607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
3609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Switch the device from Sleep State to Standby State.
3610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc pointer to MMC handle
3611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
3612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
3613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** HAL_StatusTypeDef HAL_MMC_AwakeDevice(MMC_HandleTypeDef *hmmc)
3614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
3615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate, sleep_timeout, timeout, count, response = 0U;
3616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t tickstart = HAL_GetTick();
3617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check the state of the driver */
3619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->State == HAL_MMC_STATE_READY)
3620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Change State */
3622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_BUSY;
3623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Field S_A_TIEMOUT [217] */
3625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     sleep_timeout = ((hmmc->Ext_CSD[(MMC_EXT_CSD_S_A_TIMEOUT_INDEX / 4)] >> MMC_EXT_CSD_S_A_TIMEOUT
3626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Sleep/Awake Timeout = 100ns * 2^S_A_TIMEOUT */
3628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* In HAL, the tick interrupt occurs each ms */
3629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((sleep_timeout == 0U) || (sleep_timeout > 0x17U))
3630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       sleep_timeout = 0x17U; /* Max register value defined is 0x17 */
3632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     timeout = (((1UL << sleep_timeout) / 10000U) + 1U);
3634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Send CMD5 CMD_MMC_SLEEP_AWAKE with RCA and AWAKE as argument */
3636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     errorstate = SDMMC_CmdSleepMmc(hmmc->Instance, (hmmc->MmcCard.RelCardAdd << 16U));
3637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate == HAL_MMC_ERROR_NONE)
3638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Wait that the device is ready by checking the D0 line */
3640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       while ((!__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_BUSYD0END)) && (errorstate == HAL_MMC_ERROR_NONE
3641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if ((HAL_GetTick() - tickstart) >= timeout)
3643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
3644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           errorstate = SDMMC_ERROR_TIMEOUT;
3645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
3646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
ARM GAS  /tmp/ccxVmGdL.s 			page 162


3648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear the flag corresponding to end D0 bus line */
3649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_FLAG_BUSYD0END);
3650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (errorstate == HAL_MMC_ERROR_NONE)
3652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if (HAL_MMC_GetCardState(hmmc) == HAL_MMC_CARD_STANDBY)
3654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
3655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* Switch the device in transfer mode */
3656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           errorstate = SDMMC_CmdSelDesel(hmmc->Instance, (uint32_t)(((uint32_t)hmmc->MmcCard.RelCar
3657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           if (errorstate == HAL_MMC_ERROR_NONE)
3658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
3659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             if (HAL_MMC_GetCardState(hmmc) == HAL_MMC_CARD_TRANSFER)
3660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             {
3661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               /* Set the power-off notification to powered-on : Ext_CSD[34] = 1 */
3662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               errorstate = SDMMC_CmdSwitch(hmmc->Instance, (0x03220100U));
3663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               if (errorstate == HAL_MMC_ERROR_NONE)
3664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               {
3665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 /* While card is not ready for data and trial number for sending CMD13 is not excee
3666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 count = SDMMC_MAX_TRIAL;
3667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 do
3668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 {
3669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   errorstate = SDMMC_CmdSendStatus(hmmc->Instance, (uint32_t)(((uint32_t)hmmc->MmcC
3670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   if (errorstate != HAL_MMC_ERROR_NONE)
3671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   {
3672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                     break;
3673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   }
3674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   /* Get command response */
3676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   response = SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP1);
3677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   count--;
3678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 } while (((response & 0x100U) == 0U) && (count != 0U));
3679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 /* Check the status after the switch command execution */
3681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 if (count == 0U)
3682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 {
3683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   errorstate = SDMMC_ERROR_TIMEOUT;
3684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 }
3685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 else if (errorstate == HAL_MMC_ERROR_NONE)
3686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 {
3687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   /* Check the bit SWITCH_ERROR of the device status */
3688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   if ((response & 0x80U) != 0U)
3689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   {
3690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                     errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
3691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   }
3692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 }
3693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 else
3694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 {
3695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                   /* Nothing to do */
3696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                 }
3697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               }
3698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             }
3699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             else
3700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             {
3701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               errorstate = SDMMC_ERROR_REQUEST_NOT_APPLICABLE;
3702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             }
3703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
3704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
ARM GAS  /tmp/ccxVmGdL.s 			page 163


3705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         else
3706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
3707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           errorstate = SDMMC_ERROR_REQUEST_NOT_APPLICABLE;
3708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
3709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Change State */
3713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
3714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Manage errors */
3716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate != HAL_MMC_ERROR_NONE)
3717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
3719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
3720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= errorstate;
3721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (errorstate != HAL_MMC_ERROR_TIMEOUT)
3723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         return HAL_ERROR;
3725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else
3727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         return HAL_TIMEOUT;
3729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
3732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_OK;
3734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
3737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_BUSY;
3739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
3741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif /* defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7
3742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
3744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @}
3745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
3746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
3748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @}
3749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
3750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /* Private function ----------------------------------------------------------*/
3752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /** @addtogroup MMC_Private_Functions
3753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @{
3754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
3755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
3756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
3757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  DMA MMC transmit process complete callback
3758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hdma: DMA handle
3759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval None
3760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
3761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static void MMC_DMATransmitCplt(DMA_HandleTypeDef *hdma)
ARM GAS  /tmp/ccxVmGdL.s 			page 164


3762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 5480              		.loc 1 3762 1
 5481              		.cfi_startproc
 5482              		@ args = 0, pretend = 0, frame = 16
 5483              		@ frame_needed = 1, uses_anonymous_args = 0
 5484              		@ link register save eliminated.
 5485 0000 80B4     		push	{r7}
 5486              		.cfi_def_cfa_offset 4
 5487              		.cfi_offset 7, -4
 5488 0002 85B0     		sub	sp, sp, #20
 5489              		.cfi_def_cfa_offset 24
 5490 0004 00AF     		add	r7, sp, #0
 5491              		.cfi_def_cfa_register 7
 5492 0006 7860     		str	r0, [r7, #4]
3763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   MMC_HandleTypeDef *hmmc = (MMC_HandleTypeDef *)(hdma->Parent);
 5493              		.loc 1 3763 22
 5494 0008 7B68     		ldr	r3, [r7, #4]
 5495 000a 9B6A     		ldr	r3, [r3, #40]
 5496 000c FB60     		str	r3, [r7, #12]
3764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Enable DATAEND Interrupt */
3766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   __HAL_MMC_ENABLE_IT(hmmc, (SDMMC_IT_DATAEND));
 5497              		.loc 1 3766 3
 5498 000e FB68     		ldr	r3, [r7, #12]
 5499 0010 1B68     		ldr	r3, [r3]
 5500 0012 DA6B     		ldr	r2, [r3, #60]
 5501 0014 FB68     		ldr	r3, [r7, #12]
 5502 0016 1B68     		ldr	r3, [r3]
 5503 0018 42F48072 		orr	r2, r2, #256
 5504 001c DA63     		str	r2, [r3, #60]
3767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 5505              		.loc 1 3767 1
 5506 001e 00BF     		nop
 5507 0020 1437     		adds	r7, r7, #20
 5508              		.cfi_def_cfa_offset 4
 5509 0022 BD46     		mov	sp, r7
 5510              		.cfi_def_cfa_register 13
 5511              		@ sp needed
 5512 0024 5DF8047B 		ldr	r7, [sp], #4
 5513              		.cfi_restore 7
 5514              		.cfi_def_cfa_offset 0
 5515 0028 7047     		bx	lr
 5516              		.cfi_endproc
 5517              	.LFE472:
 5519              		.section	.text.MMC_DMAReceiveCplt,"ax",%progbits
 5520              		.align	1
 5521              		.syntax unified
 5522              		.thumb
 5523              		.thumb_func
 5525              	MMC_DMAReceiveCplt:
 5526              	.LFB473:
3768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
3770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  DMA MMC receive process complete callback
3771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hdma: DMA handle
3772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval None
3773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
ARM GAS  /tmp/ccxVmGdL.s 			page 165


3774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static void MMC_DMAReceiveCplt(DMA_HandleTypeDef *hdma)
3775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 5527              		.loc 1 3775 1
 5528              		.cfi_startproc
 5529              		@ args = 0, pretend = 0, frame = 16
 5530              		@ frame_needed = 1, uses_anonymous_args = 0
 5531 0000 80B5     		push	{r7, lr}
 5532              		.cfi_def_cfa_offset 8
 5533              		.cfi_offset 7, -8
 5534              		.cfi_offset 14, -4
 5535 0002 84B0     		sub	sp, sp, #16
 5536              		.cfi_def_cfa_offset 24
 5537 0004 00AF     		add	r7, sp, #0
 5538              		.cfi_def_cfa_register 7
 5539 0006 7860     		str	r0, [r7, #4]
3776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   MMC_HandleTypeDef *hmmc = (MMC_HandleTypeDef *)(hdma->Parent);
 5540              		.loc 1 3776 22
 5541 0008 7B68     		ldr	r3, [r7, #4]
 5542 000a 9B6A     		ldr	r3, [r3, #40]
 5543 000c FB60     		str	r3, [r7, #12]
3777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate;
3778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Send stop command in multiblock write */
3780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->Context == (MMC_CONTEXT_READ_MULTIPLE_BLOCK | MMC_CONTEXT_DMA))
 5544              		.loc 1 3780 11
 5545 000e FB68     		ldr	r3, [r7, #12]
 5546 0010 1B6B     		ldr	r3, [r3, #48]
 5547              		.loc 1 3780 6
 5548 0012 822B     		cmp	r3, #130
 5549 0014 11D1     		bne	.L245
3781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     errorstate = SDMMC_CmdStopTransfer(hmmc->Instance);
 5550              		.loc 1 3782 18
 5551 0016 FB68     		ldr	r3, [r7, #12]
 5552 0018 1B68     		ldr	r3, [r3]
 5553 001a 1846     		mov	r0, r3
 5554 001c FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 5555 0020 B860     		str	r0, [r7, #8]
3783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate != HAL_MMC_ERROR_NONE)
 5556              		.loc 1 3783 8
 5557 0022 BB68     		ldr	r3, [r7, #8]
 5558 0024 002B     		cmp	r3, #0
 5559 0026 08D0     		beq	.L245
3784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= errorstate;
 5560              		.loc 1 3785 11
 5561 0028 FB68     		ldr	r3, [r7, #12]
 5562 002a 9A6B     		ldr	r2, [r3, #56]
 5563              		.loc 1 3785 23
 5564 002c BB68     		ldr	r3, [r7, #8]
 5565 002e 1A43     		orrs	r2, r2, r3
 5566 0030 FB68     		ldr	r3, [r7, #12]
 5567 0032 9A63     		str	r2, [r3, #56]
3786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
3787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCallback(hmmc);
3788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
3789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       HAL_MMC_ErrorCallback(hmmc);
ARM GAS  /tmp/ccxVmGdL.s 			page 166


 5568              		.loc 1 3789 7
 5569 0034 F868     		ldr	r0, [r7, #12]
 5570 0036 FFF7FEFF 		bl	HAL_MMC_ErrorCallback
 5571              	.L245:
3790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
3791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Disable the DMA transfer for transmit request by setting the DMAEN bit
3795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   in the MMC DCTRL register */
3796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->Instance->DCTRL &= (uint32_t)~((uint32_t)SDMMC_DCTRL_DMAEN);
 5572              		.loc 1 3796 7
 5573 003a FB68     		ldr	r3, [r7, #12]
 5574 003c 1B68     		ldr	r3, [r3]
 5575              		.loc 1 3796 17
 5576 003e DA6A     		ldr	r2, [r3, #44]
 5577              		.loc 1 3796 7
 5578 0040 FB68     		ldr	r3, [r7, #12]
 5579 0042 1B68     		ldr	r3, [r3]
 5580              		.loc 1 3796 25
 5581 0044 22F00802 		bic	r2, r2, #8
 5582 0048 DA62     		str	r2, [r3, #44]
3797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Clear all the static flags */
3799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_DATA_FLAGS);
 5583              		.loc 1 3799 3
 5584 004a FB68     		ldr	r3, [r7, #12]
 5585 004c 1B68     		ldr	r3, [r3]
 5586 004e 40F23A52 		movw	r2, #1338
 5587 0052 9A63     		str	r2, [r3, #56]
3800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->State = HAL_MMC_STATE_READY;
 5588              		.loc 1 3801 15
 5589 0054 FB68     		ldr	r3, [r7, #12]
 5590 0056 0122     		movs	r2, #1
 5591 0058 83F83420 		strb	r2, [r3, #52]
3802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->Context = MMC_CONTEXT_NONE;
 5592              		.loc 1 3802 17
 5593 005c FB68     		ldr	r3, [r7, #12]
 5594 005e 0022     		movs	r2, #0
 5595 0060 1A63     		str	r2, [r3, #48]
3803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
3806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->RxCpltCallback(hmmc);
3807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
3808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   HAL_MMC_RxCpltCallback(hmmc);
 5596              		.loc 1 3808 3
 5597 0062 F868     		ldr	r0, [r7, #12]
 5598 0064 FFF7FEFF 		bl	HAL_MMC_RxCpltCallback
3809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
3810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 5599              		.loc 1 3810 1
 5600 0068 00BF     		nop
 5601 006a 1037     		adds	r7, r7, #16
 5602              		.cfi_def_cfa_offset 8
 5603 006c BD46     		mov	sp, r7
ARM GAS  /tmp/ccxVmGdL.s 			page 167


 5604              		.cfi_def_cfa_register 13
 5605              		@ sp needed
 5606 006e 80BD     		pop	{r7, pc}
 5607              		.cfi_endproc
 5608              	.LFE473:
 5610              		.section	.text.MMC_DMAError,"ax",%progbits
 5611              		.align	1
 5612              		.syntax unified
 5613              		.thumb
 5614              		.thumb_func
 5616              	MMC_DMAError:
 5617              	.LFB474:
3811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
3813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  DMA MMC communication error callback
3814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hdma: DMA handle
3815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval None
3816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
3817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static void MMC_DMAError(DMA_HandleTypeDef *hdma)
3818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 5618              		.loc 1 3818 1
 5619              		.cfi_startproc
 5620              		@ args = 0, pretend = 0, frame = 24
 5621              		@ frame_needed = 1, uses_anonymous_args = 0
 5622 0000 80B5     		push	{r7, lr}
 5623              		.cfi_def_cfa_offset 8
 5624              		.cfi_offset 7, -8
 5625              		.cfi_offset 14, -4
 5626 0002 86B0     		sub	sp, sp, #24
 5627              		.cfi_def_cfa_offset 32
 5628 0004 00AF     		add	r7, sp, #0
 5629              		.cfi_def_cfa_register 7
 5630 0006 7860     		str	r0, [r7, #4]
3819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   MMC_HandleTypeDef *hmmc = (MMC_HandleTypeDef *)(hdma->Parent);
 5631              		.loc 1 3819 22
 5632 0008 7B68     		ldr	r3, [r7, #4]
 5633 000a 9B6A     		ldr	r3, [r3, #40]
 5634 000c 7B61     		str	r3, [r7, #20]
3820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   HAL_MMC_CardStateTypeDef CardState;
3821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t RxErrorCode, TxErrorCode;
3822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   RxErrorCode = hmmc->hdmarx->ErrorCode;
 5635              		.loc 1 3823 21
 5636 000e 7B69     		ldr	r3, [r7, #20]
 5637 0010 DB6B     		ldr	r3, [r3, #60]
 5638              		.loc 1 3823 15
 5639 0012 DB6B     		ldr	r3, [r3, #60]
 5640 0014 3B61     		str	r3, [r7, #16]
3824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   TxErrorCode = hmmc->hdmatx->ErrorCode;
 5641              		.loc 1 3824 21
 5642 0016 7B69     		ldr	r3, [r7, #20]
 5643 0018 1B6C     		ldr	r3, [r3, #64]
 5644              		.loc 1 3824 15
 5645 001a DB6B     		ldr	r3, [r3, #60]
 5646 001c FB60     		str	r3, [r7, #12]
3825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if ((RxErrorCode == HAL_DMA_ERROR_TE) || (TxErrorCode == HAL_DMA_ERROR_TE))
 5647              		.loc 1 3825 6
ARM GAS  /tmp/ccxVmGdL.s 			page 168


 5648 001e 3B69     		ldr	r3, [r7, #16]
 5649 0020 012B     		cmp	r3, #1
 5650 0022 02D0     		beq	.L247
 5651              		.loc 1 3825 41 discriminator 1
 5652 0024 FB68     		ldr	r3, [r7, #12]
 5653 0026 012B     		cmp	r3, #1
 5654 0028 2DD1     		bne	.L248
 5655              	.L247:
3826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Clear All flags */
3828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 5656              		.loc 1 3828 5
 5657 002a 7B69     		ldr	r3, [r7, #20]
 5658 002c 1B68     		ldr	r3, [r3]
 5659 002e 194A     		ldr	r2, .L251
 5660 0030 9A63     		str	r2, [r3, #56]
3829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Disable All interrupts */
3831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_DISABLE_IT(hmmc, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
 5661              		.loc 1 3831 5
 5662 0032 7B69     		ldr	r3, [r7, #20]
 5663 0034 1B68     		ldr	r3, [r3]
 5664 0036 DA6B     		ldr	r2, [r3, #60]
 5665 0038 7B69     		ldr	r3, [r7, #20]
 5666 003a 1B68     		ldr	r3, [r3]
 5667 003c 22F49D72 		bic	r2, r2, #314
 5668 0040 DA63     		str	r2, [r3, #60]
3832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                          SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
3833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= HAL_MMC_ERROR_DMA;
 5669              		.loc 1 3834 9
 5670 0042 7B69     		ldr	r3, [r7, #20]
 5671 0044 9B6B     		ldr	r3, [r3, #56]
 5672              		.loc 1 3834 21
 5673 0046 43F08042 		orr	r2, r3, #1073741824
 5674 004a 7B69     		ldr	r3, [r7, #20]
 5675 004c 9A63     		str	r2, [r3, #56]
3835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     CardState = HAL_MMC_GetCardState(hmmc);
 5676              		.loc 1 3835 17
 5677 004e 7869     		ldr	r0, [r7, #20]
 5678 0050 FFF7FEFF 		bl	HAL_MMC_GetCardState
 5679 0054 B860     		str	r0, [r7, #8]
3836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((CardState == HAL_MMC_CARD_RECEIVING) || (CardState == HAL_MMC_CARD_SENDING))
 5680              		.loc 1 3836 8
 5681 0056 BB68     		ldr	r3, [r7, #8]
 5682 0058 062B     		cmp	r3, #6
 5683 005a 02D0     		beq	.L249
 5684              		.loc 1 3836 47 discriminator 1
 5685 005c BB68     		ldr	r3, [r7, #8]
 5686 005e 052B     		cmp	r3, #5
 5687 0060 0AD1     		bne	.L250
 5688              	.L249:
3837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= SDMMC_CmdStopTransfer(hmmc->Instance);
 5689              		.loc 1 3838 26
 5690 0062 7B69     		ldr	r3, [r7, #20]
 5691 0064 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccxVmGdL.s 			page 169


 5692 0066 1846     		mov	r0, r3
 5693 0068 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 5694 006c 0246     		mov	r2, r0
 5695              		.loc 1 3838 11 discriminator 1
 5696 006e 7B69     		ldr	r3, [r7, #20]
 5697 0070 9B6B     		ldr	r3, [r3, #56]
 5698              		.loc 1 3838 23 discriminator 1
 5699 0072 1A43     		orrs	r2, r2, r3
 5700 0074 7B69     		ldr	r3, [r7, #20]
 5701 0076 9A63     		str	r2, [r3, #56]
 5702              	.L250:
3839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
 5703              		.loc 1 3841 17
 5704 0078 7B69     		ldr	r3, [r7, #20]
 5705 007a 0122     		movs	r2, #1
 5706 007c 83F83420 		strb	r2, [r3, #52]
3842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Context = MMC_CONTEXT_NONE;
 5707              		.loc 1 3842 19
 5708 0080 7B69     		ldr	r3, [r7, #20]
 5709 0082 0022     		movs	r2, #0
 5710 0084 1A63     		str	r2, [r3, #48]
 5711              	.L248:
3843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
3846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->ErrorCallback(hmmc);
3847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
3848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   HAL_MMC_ErrorCallback(hmmc);
 5712              		.loc 1 3848 3
 5713 0086 7869     		ldr	r0, [r7, #20]
 5714 0088 FFF7FEFF 		bl	HAL_MMC_ErrorCallback
3849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
3850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 5715              		.loc 1 3850 1
 5716 008c 00BF     		nop
 5717 008e 1837     		adds	r7, r7, #24
 5718              		.cfi_def_cfa_offset 8
 5719 0090 BD46     		mov	sp, r7
 5720              		.cfi_def_cfa_register 13
 5721              		@ sp needed
 5722 0092 80BD     		pop	{r7, pc}
 5723              	.L252:
 5724              		.align	2
 5725              	.L251:
 5726 0094 FF054000 		.word	4195839
 5727              		.cfi_endproc
 5728              	.LFE474:
 5730              		.section	.text.MMC_DMATxAbort,"ax",%progbits
 5731              		.align	1
 5732              		.syntax unified
 5733              		.thumb
 5734              		.thumb_func
 5736              	MMC_DMATxAbort:
 5737              	.LFB475:
3851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
ARM GAS  /tmp/ccxVmGdL.s 			page 170


3852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
3853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  DMA MMC Tx Abort callback
3854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hdma: DMA handle
3855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval None
3856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
3857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static void MMC_DMATxAbort(DMA_HandleTypeDef *hdma)
3858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 5738              		.loc 1 3858 1
 5739              		.cfi_startproc
 5740              		@ args = 0, pretend = 0, frame = 16
 5741              		@ frame_needed = 1, uses_anonymous_args = 0
 5742 0000 80B5     		push	{r7, lr}
 5743              		.cfi_def_cfa_offset 8
 5744              		.cfi_offset 7, -8
 5745              		.cfi_offset 14, -4
 5746 0002 84B0     		sub	sp, sp, #16
 5747              		.cfi_def_cfa_offset 24
 5748 0004 00AF     		add	r7, sp, #0
 5749              		.cfi_def_cfa_register 7
 5750 0006 7860     		str	r0, [r7, #4]
3859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   MMC_HandleTypeDef *hmmc = (MMC_HandleTypeDef *)(hdma->Parent);
 5751              		.loc 1 3859 22
 5752 0008 7B68     		ldr	r3, [r7, #4]
 5753 000a 9B6A     		ldr	r3, [r3, #40]
 5754 000c FB60     		str	r3, [r7, #12]
3860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   HAL_MMC_CardStateTypeDef CardState;
3861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->hdmatx != NULL)
 5755              		.loc 1 3862 11
 5756 000e FB68     		ldr	r3, [r7, #12]
 5757 0010 1B6C     		ldr	r3, [r3, #64]
 5758              		.loc 1 3862 6
 5759 0012 002B     		cmp	r3, #0
 5760 0014 02D0     		beq	.L254
3863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->hdmatx = NULL;
 5761              		.loc 1 3864 18
 5762 0016 FB68     		ldr	r3, [r7, #12]
 5763 0018 0022     		movs	r2, #0
 5764 001a 1A64     		str	r2, [r3, #64]
 5765              	.L254:
3865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* All DMA channels are aborted */
3868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->hdmarx == NULL)
 5766              		.loc 1 3868 11
 5767 001c FB68     		ldr	r3, [r7, #12]
 5768 001e DB6B     		ldr	r3, [r3, #60]
 5769              		.loc 1 3868 6
 5770 0020 002B     		cmp	r3, #0
 5771 0022 29D1     		bne	.L258
3869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     CardState = HAL_MMC_GetCardState(hmmc);
 5772              		.loc 1 3870 17
 5773 0024 F868     		ldr	r0, [r7, #12]
 5774 0026 FFF7FEFF 		bl	HAL_MMC_GetCardState
 5775 002a B860     		str	r0, [r7, #8]
ARM GAS  /tmp/ccxVmGdL.s 			page 171


3871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode = HAL_MMC_ERROR_NONE;
 5776              		.loc 1 3871 21
 5777 002c FB68     		ldr	r3, [r7, #12]
 5778 002e 0022     		movs	r2, #0
 5779 0030 9A63     		str	r2, [r3, #56]
3872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
 5780              		.loc 1 3872 17
 5781 0032 FB68     		ldr	r3, [r7, #12]
 5782 0034 0122     		movs	r2, #1
 5783 0036 83F83420 		strb	r2, [r3, #52]
3873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Context = MMC_CONTEXT_NONE;
 5784              		.loc 1 3873 19
 5785 003a FB68     		ldr	r3, [r7, #12]
 5786 003c 0022     		movs	r2, #0
 5787 003e 1A63     		str	r2, [r3, #48]
3874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((CardState == HAL_MMC_CARD_RECEIVING) || (CardState == HAL_MMC_CARD_SENDING))
 5788              		.loc 1 3874 8
 5789 0040 BB68     		ldr	r3, [r7, #8]
 5790 0042 062B     		cmp	r3, #6
 5791 0044 02D0     		beq	.L256
 5792              		.loc 1 3874 47 discriminator 1
 5793 0046 BB68     		ldr	r3, [r7, #8]
 5794 0048 052B     		cmp	r3, #5
 5795 004a 15D1     		bne	.L258
 5796              	.L256:
3875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= SDMMC_CmdStopTransfer(hmmc->Instance);
 5797              		.loc 1 3876 26
 5798 004c FB68     		ldr	r3, [r7, #12]
 5799 004e 1B68     		ldr	r3, [r3]
 5800 0050 1846     		mov	r0, r3
 5801 0052 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 5802 0056 0246     		mov	r2, r0
 5803              		.loc 1 3876 11 discriminator 1
 5804 0058 FB68     		ldr	r3, [r7, #12]
 5805 005a 9B6B     		ldr	r3, [r3, #56]
 5806              		.loc 1 3876 23 discriminator 1
 5807 005c 1A43     		orrs	r2, r2, r3
 5808 005e FB68     		ldr	r3, [r7, #12]
 5809 0060 9A63     		str	r2, [r3, #56]
3877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (hmmc->ErrorCode != HAL_MMC_ERROR_NONE)
 5810              		.loc 1 3878 15
 5811 0062 FB68     		ldr	r3, [r7, #12]
 5812 0064 9B6B     		ldr	r3, [r3, #56]
 5813              		.loc 1 3878 10
 5814 0066 002B     		cmp	r3, #0
 5815 0068 03D0     		beq	.L257
3879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
3881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->AbortCpltCallback(hmmc);
3882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
3883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         HAL_MMC_AbortCallback(hmmc);
 5816              		.loc 1 3883 9
 5817 006a F868     		ldr	r0, [r7, #12]
 5818 006c FFF7FEFF 		bl	HAL_MMC_AbortCallback
3884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
ARM GAS  /tmp/ccxVmGdL.s 			page 172


3885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else
3887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
3889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->ErrorCallback(hmmc);
3890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
3891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         HAL_MMC_ErrorCallback(hmmc);
3892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
3893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 5819              		.loc 1 3896 1
 5820 0070 02E0     		b	.L258
 5821              	.L257:
3891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 5822              		.loc 1 3891 9
 5823 0072 F868     		ldr	r0, [r7, #12]
 5824 0074 FFF7FEFF 		bl	HAL_MMC_ErrorCallback
 5825              	.L258:
 5826              		.loc 1 3896 1
 5827 0078 00BF     		nop
 5828 007a 1037     		adds	r7, r7, #16
 5829              		.cfi_def_cfa_offset 8
 5830 007c BD46     		mov	sp, r7
 5831              		.cfi_def_cfa_register 13
 5832              		@ sp needed
 5833 007e 80BD     		pop	{r7, pc}
 5834              		.cfi_endproc
 5835              	.LFE475:
 5837              		.section	.text.MMC_DMARxAbort,"ax",%progbits
 5838              		.align	1
 5839              		.syntax unified
 5840              		.thumb
 5841              		.thumb_func
 5843              	MMC_DMARxAbort:
 5844              	.LFB476:
3897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
3899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  DMA MMC Rx Abort callback
3900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hdma: DMA handle
3901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval None
3902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
3903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static void MMC_DMARxAbort(DMA_HandleTypeDef *hdma)
3904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 5845              		.loc 1 3904 1
 5846              		.cfi_startproc
 5847              		@ args = 0, pretend = 0, frame = 16
 5848              		@ frame_needed = 1, uses_anonymous_args = 0
 5849 0000 80B5     		push	{r7, lr}
 5850              		.cfi_def_cfa_offset 8
 5851              		.cfi_offset 7, -8
 5852              		.cfi_offset 14, -4
 5853 0002 84B0     		sub	sp, sp, #16
 5854              		.cfi_def_cfa_offset 24
 5855 0004 00AF     		add	r7, sp, #0
 5856              		.cfi_def_cfa_register 7
ARM GAS  /tmp/ccxVmGdL.s 			page 173


 5857 0006 7860     		str	r0, [r7, #4]
3905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   MMC_HandleTypeDef *hmmc = (MMC_HandleTypeDef *)(hdma->Parent);
 5858              		.loc 1 3905 22
 5859 0008 7B68     		ldr	r3, [r7, #4]
 5860 000a 9B6A     		ldr	r3, [r3, #40]
 5861 000c FB60     		str	r3, [r7, #12]
3906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   HAL_MMC_CardStateTypeDef CardState;
3907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->hdmarx != NULL)
 5862              		.loc 1 3908 11
 5863 000e FB68     		ldr	r3, [r7, #12]
 5864 0010 DB6B     		ldr	r3, [r3, #60]
 5865              		.loc 1 3908 6
 5866 0012 002B     		cmp	r3, #0
 5867 0014 02D0     		beq	.L260
3909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->hdmarx = NULL;
 5868              		.loc 1 3910 18
 5869 0016 FB68     		ldr	r3, [r7, #12]
 5870 0018 0022     		movs	r2, #0
 5871 001a DA63     		str	r2, [r3, #60]
 5872              	.L260:
3911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* All DMA channels are aborted */
3914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (hmmc->hdmatx == NULL)
 5873              		.loc 1 3914 11
 5874 001c FB68     		ldr	r3, [r7, #12]
 5875 001e 1B6C     		ldr	r3, [r3, #64]
 5876              		.loc 1 3914 6
 5877 0020 002B     		cmp	r3, #0
 5878 0022 29D1     		bne	.L264
3915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     CardState = HAL_MMC_GetCardState(hmmc);
 5879              		.loc 1 3916 17
 5880 0024 F868     		ldr	r0, [r7, #12]
 5881 0026 FFF7FEFF 		bl	HAL_MMC_GetCardState
 5882 002a B860     		str	r0, [r7, #8]
3917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode = HAL_MMC_ERROR_NONE;
 5883              		.loc 1 3917 21
 5884 002c FB68     		ldr	r3, [r7, #12]
 5885 002e 0022     		movs	r2, #0
 5886 0030 9A63     		str	r2, [r3, #56]
3918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
 5887              		.loc 1 3918 17
 5888 0032 FB68     		ldr	r3, [r7, #12]
 5889 0034 0122     		movs	r2, #1
 5890 0036 83F83420 		strb	r2, [r3, #52]
3919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->Context = MMC_CONTEXT_NONE;
 5891              		.loc 1 3919 19
 5892 003a FB68     		ldr	r3, [r7, #12]
 5893 003c 0022     		movs	r2, #0
 5894 003e 1A63     		str	r2, [r3, #48]
3920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((CardState == HAL_MMC_CARD_RECEIVING) || (CardState == HAL_MMC_CARD_SENDING))
 5895              		.loc 1 3920 8
 5896 0040 BB68     		ldr	r3, [r7, #8]
 5897 0042 062B     		cmp	r3, #6
ARM GAS  /tmp/ccxVmGdL.s 			page 174


 5898 0044 02D0     		beq	.L262
 5899              		.loc 1 3920 47 discriminator 1
 5900 0046 BB68     		ldr	r3, [r7, #8]
 5901 0048 052B     		cmp	r3, #5
 5902 004a 15D1     		bne	.L264
 5903              	.L262:
3921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
3922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= SDMMC_CmdStopTransfer(hmmc->Instance);
 5904              		.loc 1 3922 26
 5905 004c FB68     		ldr	r3, [r7, #12]
 5906 004e 1B68     		ldr	r3, [r3]
 5907 0050 1846     		mov	r0, r3
 5908 0052 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 5909 0056 0246     		mov	r2, r0
 5910              		.loc 1 3922 11 discriminator 1
 5911 0058 FB68     		ldr	r3, [r7, #12]
 5912 005a 9B6B     		ldr	r3, [r3, #56]
 5913              		.loc 1 3922 23 discriminator 1
 5914 005c 1A43     		orrs	r2, r2, r3
 5915 005e FB68     		ldr	r3, [r7, #12]
 5916 0060 9A63     		str	r2, [r3, #56]
3923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (hmmc->ErrorCode != HAL_MMC_ERROR_NONE)
 5917              		.loc 1 3924 15
 5918 0062 FB68     		ldr	r3, [r7, #12]
 5919 0064 9B6B     		ldr	r3, [r3, #56]
 5920              		.loc 1 3924 10
 5921 0066 002B     		cmp	r3, #0
 5922 0068 03D0     		beq	.L263
3925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
3927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->AbortCpltCallback(hmmc);
3928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
3929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         HAL_MMC_AbortCallback(hmmc);
 5923              		.loc 1 3929 9
 5924 006a F868     		ldr	r0, [r7, #12]
 5925 006c FFF7FEFF 		bl	HAL_MMC_AbortCallback
3930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
3931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else
3933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
3934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined (USE_HAL_MMC_REGISTER_CALLBACKS) && (USE_HAL_MMC_REGISTER_CALLBACKS == 1U)
3935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         hmmc->ErrorCallback(hmmc);
3936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else
3937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         HAL_MMC_ErrorCallback(hmmc);
3938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
3939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
3940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
3941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 5926              		.loc 1 3942 1
 5927 0070 02E0     		b	.L264
 5928              	.L263:
3937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
 5929              		.loc 1 3937 9
 5930 0072 F868     		ldr	r0, [r7, #12]
 5931 0074 FFF7FEFF 		bl	HAL_MMC_ErrorCallback
ARM GAS  /tmp/ccxVmGdL.s 			page 175


 5932              	.L264:
 5933              		.loc 1 3942 1
 5934 0078 00BF     		nop
 5935 007a 1037     		adds	r7, r7, #16
 5936              		.cfi_def_cfa_offset 8
 5937 007c BD46     		mov	sp, r7
 5938              		.cfi_def_cfa_register 13
 5939              		@ sp needed
 5940 007e 80BD     		pop	{r7, pc}
 5941              		.cfi_endproc
 5942              	.LFE476:
 5944              		.section	.text.MMC_InitCard,"ax",%progbits
 5945              		.align	1
 5946              		.syntax unified
 5947              		.thumb
 5948              		.thumb_func
 5950              	MMC_InitCard:
 5951              	.LFB477:
3943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
3944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
3946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Initializes the mmc card.
3947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to MMC handle
3948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval MMC Card error state
3949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
3950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static uint32_t MMC_InitCard(MMC_HandleTypeDef *hmmc)
3951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 5952              		.loc 1 3951 1
 5953              		.cfi_startproc
 5954              		@ args = 0, pretend = 0, frame = 88
 5955              		@ frame_needed = 1, uses_anonymous_args = 0
 5956 0000 B0B5     		push	{r4, r5, r7, lr}
 5957              		.cfi_def_cfa_offset 16
 5958              		.cfi_offset 4, -16
 5959              		.cfi_offset 5, -12
 5960              		.cfi_offset 7, -8
 5961              		.cfi_offset 14, -4
 5962 0002 9AB0     		sub	sp, sp, #104
 5963              		.cfi_def_cfa_offset 120
 5964 0004 04AF     		add	r7, sp, #16
 5965              		.cfi_def_cfa 7, 104
 5966 0006 7860     		str	r0, [r7, #4]
3952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   HAL_MMC_CardCSDTypeDef CSD;
3953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate;
3954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint16_t mmc_rca = 2U;
 5967              		.loc 1 3954 12
 5968 0008 0223     		movs	r3, #2
 5969 000a A7F85630 		strh	r3, [r7, #86]	@ movhi
3955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   MMC_InitTypeDef Init;
3956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Check the power State */
3958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (SDMMC_GetPowerState(hmmc->Instance) == 0U)
 5970              		.loc 1 3958 31
 5971 000e 7B68     		ldr	r3, [r7, #4]
 5972 0010 1B68     		ldr	r3, [r3]
 5973              		.loc 1 3958 7
 5974 0012 1846     		mov	r0, r3
ARM GAS  /tmp/ccxVmGdL.s 			page 176


 5975 0014 FFF7FEFF 		bl	SDMMC_GetPowerState
 5976 0018 0346     		mov	r3, r0
 5977              		.loc 1 3958 6 discriminator 1
 5978 001a 002B     		cmp	r3, #0
 5979 001c 02D1     		bne	.L266
3959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Power off */
3961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_MMC_ERROR_REQUEST_NOT_APPLICABLE;
 5980              		.loc 1 3961 12
 5981 001e 4FF08063 		mov	r3, #67108864
 5982 0022 ECE0     		b	.L276
 5983              	.L266:
3962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Send CMD2 ALL_SEND_CID */
3965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   errorstate = SDMMC_CmdSendCID(hmmc->Instance);
 5984              		.loc 1 3965 16
 5985 0024 7B68     		ldr	r3, [r7, #4]
 5986 0026 1B68     		ldr	r3, [r3]
 5987 0028 1846     		mov	r0, r3
 5988 002a FFF7FEFF 		bl	SDMMC_CmdSendCID
 5989 002e 3865     		str	r0, [r7, #80]
3966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (errorstate != HAL_MMC_ERROR_NONE)
 5990              		.loc 1 3966 6
 5991 0030 3B6D     		ldr	r3, [r7, #80]
 5992 0032 002B     		cmp	r3, #0
 5993 0034 01D0     		beq	.L268
3967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return errorstate;
 5994              		.loc 1 3968 12
 5995 0036 3B6D     		ldr	r3, [r7, #80]
 5996 0038 E1E0     		b	.L276
 5997              	.L268:
3969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
3971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Get Card identification number data */
3973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->CID[0U] = SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP1);
 5998              		.loc 1 3973 43
 5999 003a 7B68     		ldr	r3, [r7, #4]
 6000 003c 1B68     		ldr	r3, [r3]
 6001              		.loc 1 3973 21
 6002 003e 0021     		movs	r1, #0
 6003 0040 1846     		mov	r0, r3
 6004 0042 FFF7FEFF 		bl	SDMMC_GetResponse
 6005 0046 0246     		mov	r2, r0
 6006              		.loc 1 3973 19 discriminator 1
 6007 0048 7B68     		ldr	r3, [r7, #4]
 6008 004a 1A67     		str	r2, [r3, #112]
3974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->CID[1U] = SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP2);
 6009              		.loc 1 3974 43
 6010 004c 7B68     		ldr	r3, [r7, #4]
 6011 004e 1B68     		ldr	r3, [r3]
 6012              		.loc 1 3974 21
 6013 0050 0421     		movs	r1, #4
 6014 0052 1846     		mov	r0, r3
 6015 0054 FFF7FEFF 		bl	SDMMC_GetResponse
ARM GAS  /tmp/ccxVmGdL.s 			page 177


 6016 0058 0246     		mov	r2, r0
 6017              		.loc 1 3974 19 discriminator 1
 6018 005a 7B68     		ldr	r3, [r7, #4]
 6019 005c 5A67     		str	r2, [r3, #116]
3975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->CID[2U] = SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP3);
 6020              		.loc 1 3975 43
 6021 005e 7B68     		ldr	r3, [r7, #4]
 6022 0060 1B68     		ldr	r3, [r3]
 6023              		.loc 1 3975 21
 6024 0062 0821     		movs	r1, #8
 6025 0064 1846     		mov	r0, r3
 6026 0066 FFF7FEFF 		bl	SDMMC_GetResponse
 6027 006a 0246     		mov	r2, r0
 6028              		.loc 1 3975 19 discriminator 1
 6029 006c 7B68     		ldr	r3, [r7, #4]
 6030 006e 9A67     		str	r2, [r3, #120]
3976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->CID[3U] = SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP4);
 6031              		.loc 1 3976 43
 6032 0070 7B68     		ldr	r3, [r7, #4]
 6033 0072 1B68     		ldr	r3, [r3]
 6034              		.loc 1 3976 21
 6035 0074 0C21     		movs	r1, #12
 6036 0076 1846     		mov	r0, r3
 6037 0078 FFF7FEFF 		bl	SDMMC_GetResponse
 6038 007c 0246     		mov	r2, r0
 6039              		.loc 1 3976 19 discriminator 1
 6040 007e 7B68     		ldr	r3, [r7, #4]
 6041 0080 DA67     		str	r2, [r3, #124]
3977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Send CMD3 SET_REL_ADDR with RCA = 2 (should be greater than 1) */
3980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* MMC Card publishes its RCA. */
3981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   errorstate = SDMMC_CmdSetRelAddMmc(hmmc->Instance, mmc_rca);
 6042              		.loc 1 3981 16
 6043 0082 7B68     		ldr	r3, [r7, #4]
 6044 0084 1B68     		ldr	r3, [r3]
 6045 0086 B7F85620 		ldrh	r2, [r7, #86]
 6046 008a 1146     		mov	r1, r2
 6047 008c 1846     		mov	r0, r3
 6048 008e FFF7FEFF 		bl	SDMMC_CmdSetRelAddMmc
 6049 0092 3865     		str	r0, [r7, #80]
3982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (errorstate != HAL_MMC_ERROR_NONE)
 6050              		.loc 1 3982 6
 6051 0094 3B6D     		ldr	r3, [r7, #80]
 6052 0096 002B     		cmp	r3, #0
 6053 0098 01D0     		beq	.L269
3983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return errorstate;
 6054              		.loc 1 3984 12
 6055 009a 3B6D     		ldr	r3, [r7, #80]
 6056 009c AFE0     		b	.L276
 6057              	.L269:
3985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Get the MMC card RCA */
3988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->MmcCard.RelCardAdd = mmc_rca;
 6058              		.loc 1 3988 28
ARM GAS  /tmp/ccxVmGdL.s 			page 178


 6059 009e B7F85620 		ldrh	r2, [r7, #86]
 6060 00a2 7B68     		ldr	r3, [r7, #4]
 6061 00a4 DA64     		str	r2, [r3, #76]
3989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
3990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Send CMD9 SEND_CSD with argument as card's RCA */
3991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   errorstate = SDMMC_CmdSendCSD(hmmc->Instance, (uint32_t)(hmmc->MmcCard.RelCardAdd << 16U));
 6062              		.loc 1 3991 16
 6063 00a6 7B68     		ldr	r3, [r7, #4]
 6064 00a8 1A68     		ldr	r2, [r3]
 6065              		.loc 1 3991 73
 6066 00aa 7B68     		ldr	r3, [r7, #4]
 6067 00ac DB6C     		ldr	r3, [r3, #76]
 6068              		.loc 1 3991 16
 6069 00ae 1B04     		lsls	r3, r3, #16
 6070 00b0 1946     		mov	r1, r3
 6071 00b2 1046     		mov	r0, r2
 6072 00b4 FFF7FEFF 		bl	SDMMC_CmdSendCSD
 6073 00b8 3865     		str	r0, [r7, #80]
3992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (errorstate != HAL_MMC_ERROR_NONE)
 6074              		.loc 1 3992 6
 6075 00ba 3B6D     		ldr	r3, [r7, #80]
 6076 00bc 002B     		cmp	r3, #0
 6077 00be 01D0     		beq	.L270
3993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return errorstate;
 6078              		.loc 1 3994 12
 6079 00c0 3B6D     		ldr	r3, [r7, #80]
 6080 00c2 9CE0     		b	.L276
 6081              	.L270:
3995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
3996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
3997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
3998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Get Card Specific Data */
3999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->CSD[0U] = SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP1);
 6082              		.loc 1 3999 43
 6083 00c4 7B68     		ldr	r3, [r7, #4]
 6084 00c6 1B68     		ldr	r3, [r3]
 6085              		.loc 1 3999 21
 6086 00c8 0021     		movs	r1, #0
 6087 00ca 1846     		mov	r0, r3
 6088 00cc FFF7FEFF 		bl	SDMMC_GetResponse
 6089 00d0 0246     		mov	r2, r0
 6090              		.loc 1 3999 19 discriminator 1
 6091 00d2 7B68     		ldr	r3, [r7, #4]
 6092 00d4 1A66     		str	r2, [r3, #96]
4000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->CSD[1U] = SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP2);
 6093              		.loc 1 4000 43
 6094 00d6 7B68     		ldr	r3, [r7, #4]
 6095 00d8 1B68     		ldr	r3, [r3]
 6096              		.loc 1 4000 21
 6097 00da 0421     		movs	r1, #4
 6098 00dc 1846     		mov	r0, r3
 6099 00de FFF7FEFF 		bl	SDMMC_GetResponse
 6100 00e2 0246     		mov	r2, r0
 6101              		.loc 1 4000 19 discriminator 1
 6102 00e4 7B68     		ldr	r3, [r7, #4]
 6103 00e6 5A66     		str	r2, [r3, #100]
ARM GAS  /tmp/ccxVmGdL.s 			page 179


4001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->CSD[2U] = SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP3);
 6104              		.loc 1 4001 43
 6105 00e8 7B68     		ldr	r3, [r7, #4]
 6106 00ea 1B68     		ldr	r3, [r3]
 6107              		.loc 1 4001 21
 6108 00ec 0821     		movs	r1, #8
 6109 00ee 1846     		mov	r0, r3
 6110 00f0 FFF7FEFF 		bl	SDMMC_GetResponse
 6111 00f4 0246     		mov	r2, r0
 6112              		.loc 1 4001 19 discriminator 1
 6113 00f6 7B68     		ldr	r3, [r7, #4]
 6114 00f8 9A66     		str	r2, [r3, #104]
4002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->CSD[3U] = SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP4);
 6115              		.loc 1 4002 43
 6116 00fa 7B68     		ldr	r3, [r7, #4]
 6117 00fc 1B68     		ldr	r3, [r3]
 6118              		.loc 1 4002 21
 6119 00fe 0C21     		movs	r1, #12
 6120 0100 1846     		mov	r0, r3
 6121 0102 FFF7FEFF 		bl	SDMMC_GetResponse
 6122 0106 0246     		mov	r2, r0
 6123              		.loc 1 4002 19 discriminator 1
 6124 0108 7B68     		ldr	r3, [r7, #4]
 6125 010a DA66     		str	r2, [r3, #108]
4003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Get the Card Class */
4006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->MmcCard.Class = (SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP2) >> 20U);
 6126              		.loc 1 4006 48
 6127 010c 7B68     		ldr	r3, [r7, #4]
 6128 010e 1B68     		ldr	r3, [r3]
 6129              		.loc 1 4006 26
 6130 0110 0421     		movs	r1, #4
 6131 0112 1846     		mov	r0, r3
 6132 0114 FFF7FEFF 		bl	SDMMC_GetResponse
 6133 0118 0346     		mov	r3, r0
 6134              		.loc 1 4006 73 discriminator 1
 6135 011a 1A0D     		lsrs	r2, r3, #20
 6136              		.loc 1 4006 23 discriminator 1
 6137 011c 7B68     		ldr	r3, [r7, #4]
 6138 011e 9A64     		str	r2, [r3, #72]
4007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Select the Card */
4009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   errorstate = SDMMC_CmdSelDesel(hmmc->Instance, (uint32_t)(((uint32_t)hmmc->MmcCard.RelCardAdd) <<
 6139              		.loc 1 4009 16
 6140 0120 7B68     		ldr	r3, [r7, #4]
 6141 0122 1968     		ldr	r1, [r3]
 6142              		.loc 1 4009 85
 6143 0124 7B68     		ldr	r3, [r7, #4]
 6144 0126 DB6C     		ldr	r3, [r3, #76]
 6145              		.loc 1 4009 50
 6146 0128 1B04     		lsls	r3, r3, #16
 6147              		.loc 1 4009 16
 6148 012a 0022     		movs	r2, #0
 6149 012c 1C46     		mov	r4, r3
 6150 012e 1546     		mov	r5, r2
 6151 0130 2246     		mov	r2, r4
ARM GAS  /tmp/ccxVmGdL.s 			page 180


 6152 0132 2B46     		mov	r3, r5
 6153 0134 0846     		mov	r0, r1
 6154 0136 FFF7FEFF 		bl	SDMMC_CmdSelDesel
 6155 013a 3865     		str	r0, [r7, #80]
4010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (errorstate != HAL_MMC_ERROR_NONE)
 6156              		.loc 1 4010 6
 6157 013c 3B6D     		ldr	r3, [r7, #80]
 6158 013e 002B     		cmp	r3, #0
 6159 0140 01D0     		beq	.L271
4011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return errorstate;
 6160              		.loc 1 4012 12
 6161 0142 3B6D     		ldr	r3, [r7, #80]
 6162 0144 5BE0     		b	.L276
 6163              	.L271:
4013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Get CSD parameters */
4016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (HAL_MMC_GetCardCSD(hmmc, &CSD) != HAL_OK)
 6164              		.loc 1 4016 7
 6165 0146 07F12403 		add	r3, r7, #36
 6166 014a 1946     		mov	r1, r3
 6167 014c 7868     		ldr	r0, [r7, #4]
 6168 014e FFF7FEFF 		bl	HAL_MMC_GetCardCSD
 6169 0152 0346     		mov	r3, r0
 6170              		.loc 1 4016 6 discriminator 1
 6171 0154 002B     		cmp	r3, #0
 6172 0156 02D0     		beq	.L272
4017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return hmmc->ErrorCode;
 6173              		.loc 1 4018 16
 6174 0158 7B68     		ldr	r3, [r7, #4]
 6175 015a 9B6B     		ldr	r3, [r3, #56]
 6176 015c 4FE0     		b	.L276
 6177              	.L272:
4019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* While card is not ready for data and trial number for sending CMD13 is not exceeded */
4022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   errorstate = SDMMC_CmdSendStatus(hmmc->Instance, (uint32_t)(((uint32_t)hmmc->MmcCard.RelCardAdd) 
 6178              		.loc 1 4022 16
 6179 015e 7B68     		ldr	r3, [r7, #4]
 6180 0160 1A68     		ldr	r2, [r3]
 6181              		.loc 1 4022 87
 6182 0162 7B68     		ldr	r3, [r7, #4]
 6183 0164 DB6C     		ldr	r3, [r3, #76]
 6184              		.loc 1 4022 16
 6185 0166 1B04     		lsls	r3, r3, #16
 6186 0168 1946     		mov	r1, r3
 6187 016a 1046     		mov	r0, r2
 6188 016c FFF7FEFF 		bl	SDMMC_CmdSendStatus
 6189 0170 3865     		str	r0, [r7, #80]
4023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (errorstate != HAL_MMC_ERROR_NONE)
 6190              		.loc 1 4023 6
 6191 0172 3B6D     		ldr	r3, [r7, #80]
 6192 0174 002B     		cmp	r3, #0
 6193 0176 05D0     		beq	.L273
4024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
ARM GAS  /tmp/ccxVmGdL.s 			page 181


4025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= errorstate;
 6194              		.loc 1 4025 9
 6195 0178 7B68     		ldr	r3, [r7, #4]
 6196 017a 9A6B     		ldr	r2, [r3, #56]
 6197              		.loc 1 4025 21
 6198 017c 3B6D     		ldr	r3, [r7, #80]
 6199 017e 1A43     		orrs	r2, r2, r3
 6200 0180 7B68     		ldr	r3, [r7, #4]
 6201 0182 9A63     		str	r2, [r3, #56]
 6202              	.L273:
4026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Get Extended CSD parameters */
4029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (HAL_MMC_GetCardExtCSD(hmmc, hmmc->Ext_CSD, SDMMC_DATATIMEOUT) != HAL_OK)
 6203              		.loc 1 4029 39
 6204 0184 7B68     		ldr	r3, [r7, #4]
 6205 0186 8033     		adds	r3, r3, #128
 6206              		.loc 1 4029 7
 6207 0188 4FF0FF32 		mov	r2, #-1
 6208 018c 1946     		mov	r1, r3
 6209 018e 7868     		ldr	r0, [r7, #4]
 6210 0190 FFF7FEFF 		bl	HAL_MMC_GetCardExtCSD
 6211 0194 0346     		mov	r3, r0
 6212              		.loc 1 4029 6 discriminator 1
 6213 0196 002B     		cmp	r3, #0
 6214 0198 02D0     		beq	.L274
4030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return hmmc->ErrorCode;
 6215              		.loc 1 4031 16
 6216 019a 7B68     		ldr	r3, [r7, #4]
 6217 019c 9B6B     		ldr	r3, [r3, #56]
 6218 019e 2EE0     		b	.L276
 6219              	.L274:
4032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* While card is not ready for data and trial number for sending CMD13 is not exceeded */
4035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   errorstate = SDMMC_CmdSendStatus(hmmc->Instance, (uint32_t)(((uint32_t)hmmc->MmcCard.RelCardAdd) 
 6220              		.loc 1 4035 16
 6221 01a0 7B68     		ldr	r3, [r7, #4]
 6222 01a2 1A68     		ldr	r2, [r3]
 6223              		.loc 1 4035 87
 6224 01a4 7B68     		ldr	r3, [r7, #4]
 6225 01a6 DB6C     		ldr	r3, [r3, #76]
 6226              		.loc 1 4035 16
 6227 01a8 1B04     		lsls	r3, r3, #16
 6228 01aa 1946     		mov	r1, r3
 6229 01ac 1046     		mov	r0, r2
 6230 01ae FFF7FEFF 		bl	SDMMC_CmdSendStatus
 6231 01b2 3865     		str	r0, [r7, #80]
4036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (errorstate != HAL_MMC_ERROR_NONE)
 6232              		.loc 1 4036 6
 6233 01b4 3B6D     		ldr	r3, [r7, #80]
 6234 01b6 002B     		cmp	r3, #0
 6235 01b8 05D0     		beq	.L275
4037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= errorstate;
 6236              		.loc 1 4038 9
ARM GAS  /tmp/ccxVmGdL.s 			page 182


 6237 01ba 7B68     		ldr	r3, [r7, #4]
 6238 01bc 9A6B     		ldr	r2, [r3, #56]
 6239              		.loc 1 4038 21
 6240 01be 3B6D     		ldr	r3, [r7, #80]
 6241 01c0 1A43     		orrs	r2, r2, r3
 6242 01c2 7B68     		ldr	r3, [r7, #4]
 6243 01c4 9A63     		str	r2, [r3, #56]
 6244              	.L275:
4039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Configure the SDMMC peripheral */
4042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   Init = hmmc->Init;
 6245              		.loc 1 4042 8
 6246 01c6 7B68     		ldr	r3, [r7, #4]
 6247 01c8 07F10C04 		add	r4, r7, #12
 6248 01cc 1D1D     		adds	r5, r3, #4
 6249 01ce 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 6250 01d0 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 6251 01d2 95E80300 		ldm	r5, {r0, r1}
 6252 01d6 84E80300 		stm	r4, {r0, r1}
4043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   Init.BusWide = SDMMC_BUS_WIDE_1B;
 6253              		.loc 1 4043 16
 6254 01da 0023     		movs	r3, #0
 6255 01dc BB61     		str	r3, [r7, #24]
4044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   (void)SDMMC_Init(hmmc->Instance, Init);
 6256              		.loc 1 4044 9
 6257 01de 7B68     		ldr	r3, [r7, #4]
 6258 01e0 1D68     		ldr	r5, [r3]
 6259 01e2 6C46     		mov	r4, sp
 6260 01e4 07F11803 		add	r3, r7, #24
 6261 01e8 93E80700 		ldm	r3, {r0, r1, r2}
 6262 01ec 84E80700 		stm	r4, {r0, r1, r2}
 6263 01f0 07F10C03 		add	r3, r7, #12
 6264 01f4 0ECB     		ldm	r3, {r1, r2, r3}
 6265 01f6 2846     		mov	r0, r5
 6266 01f8 FFF7FEFF 		bl	SDMMC_Init
4045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* All cards are initialized */
4047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return HAL_MMC_ERROR_NONE;
 6267              		.loc 1 4047 10
 6268 01fc 0023     		movs	r3, #0
 6269              	.L276:
4048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 6270              		.loc 1 4048 1
 6271 01fe 1846     		mov	r0, r3
 6272 0200 5837     		adds	r7, r7, #88
 6273              		.cfi_def_cfa_offset 16
 6274 0202 BD46     		mov	sp, r7
 6275              		.cfi_def_cfa_register 13
 6276              		@ sp needed
 6277 0204 B0BD     		pop	{r4, r5, r7, pc}
 6278              		.cfi_endproc
 6279              	.LFE477:
 6281              		.section	.text.MMC_PowerON,"ax",%progbits
 6282              		.align	1
 6283              		.syntax unified
 6284              		.thumb
ARM GAS  /tmp/ccxVmGdL.s 			page 183


 6285              		.thumb_func
 6287              	MMC_PowerON:
 6288              	.LFB478:
4049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
4051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Enquires cards about their operating voltage and configures clock
4052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         controls and stores MMC information that will be needed in future
4053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         in the MMC handle.
4054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to MMC handle
4055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval error state
4056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
4057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static uint32_t MMC_PowerON(MMC_HandleTypeDef *hmmc)
4058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 6289              		.loc 1 4058 1
 6290              		.cfi_startproc
 6291              		@ args = 0, pretend = 0, frame = 24
 6292              		@ frame_needed = 1, uses_anonymous_args = 0
 6293 0000 80B5     		push	{r7, lr}
 6294              		.cfi_def_cfa_offset 8
 6295              		.cfi_offset 7, -8
 6296              		.cfi_offset 14, -4
 6297 0002 86B0     		sub	sp, sp, #24
 6298              		.cfi_def_cfa_offset 32
 6299 0004 00AF     		add	r7, sp, #0
 6300              		.cfi_def_cfa_register 7
 6301 0006 7860     		str	r0, [r7, #4]
4059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   __IO uint32_t count = 0U;
 6302              		.loc 1 4059 17
 6303 0008 0023     		movs	r3, #0
 6304 000a BB60     		str	r3, [r7, #8]
4060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t response = 0U, validvoltage = 0U;
 6305              		.loc 1 4060 12
 6306 000c 0023     		movs	r3, #0
 6307 000e 7B61     		str	r3, [r7, #20]
 6308              		.loc 1 4060 27
 6309 0010 0023     		movs	r3, #0
 6310 0012 3B61     		str	r3, [r7, #16]
4061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate;
4062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* CMD0: GO_IDLE_STATE */
4064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   errorstate = SDMMC_CmdGoIdleState(hmmc->Instance);
 6311              		.loc 1 4064 16
 6312 0014 7B68     		ldr	r3, [r7, #4]
 6313 0016 1B68     		ldr	r3, [r3]
 6314 0018 1846     		mov	r0, r3
 6315 001a FFF7FEFF 		bl	SDMMC_CmdGoIdleState
 6316 001e F860     		str	r0, [r7, #12]
4065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (errorstate != HAL_MMC_ERROR_NONE)
 6317              		.loc 1 4065 6
 6318 0020 FB68     		ldr	r3, [r7, #12]
 6319 0022 002B     		cmp	r3, #0
 6320 0024 27D0     		beq	.L280
4066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return errorstate;
 6321              		.loc 1 4067 12
 6322 0026 FB68     		ldr	r3, [r7, #12]
 6323 0028 34E0     		b	.L279
ARM GAS  /tmp/ccxVmGdL.s 			page 184


 6324              	.L285:
4068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   while (validvoltage == 0U)
4071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (count++ == SDMMC_MAX_VOLT_TRIAL)
 6325              		.loc 1 4072 14
 6326 002a BB68     		ldr	r3, [r7, #8]
 6327 002c 5A1C     		adds	r2, r3, #1
 6328 002e BA60     		str	r2, [r7, #8]
 6329              		.loc 1 4072 8
 6330 0030 4FF6FF72 		movw	r2, #65535
 6331 0034 9342     		cmp	r3, r2
 6332 0036 02D1     		bne	.L281
4073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_MMC_ERROR_INVALID_VOLTRANGE;
 6333              		.loc 1 4074 14
 6334 0038 4FF08073 		mov	r3, #16777216
 6335 003c 2AE0     		b	.L279
 6336              	.L281:
4075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* SEND CMD1 APP_CMD with voltage range as argument */
4078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     errorstate = SDMMC_CmdOpCondition(hmmc->Instance, MMC_VOLTAGE_RANGE);
 6337              		.loc 1 4078 18
 6338 003e 7B68     		ldr	r3, [r7, #4]
 6339 0040 1B68     		ldr	r3, [r3]
 6340 0042 1649     		ldr	r1, .L288
 6341 0044 1846     		mov	r0, r3
 6342 0046 FFF7FEFF 		bl	SDMMC_CmdOpCondition
 6343 004a F860     		str	r0, [r7, #12]
4079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate != HAL_MMC_ERROR_NONE)
 6344              		.loc 1 4079 8
 6345 004c FB68     		ldr	r3, [r7, #12]
 6346 004e 002B     		cmp	r3, #0
 6347 0050 02D0     		beq	.L282
4080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_MMC_ERROR_UNSUPPORTED_FEATURE;
 6348              		.loc 1 4081 14
 6349 0052 4FF08053 		mov	r3, #268435456
 6350 0056 1DE0     		b	.L279
 6351              	.L282:
4082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Get command response */
4085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     response = SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP1);
 6352              		.loc 1 4085 38
 6353 0058 7B68     		ldr	r3, [r7, #4]
 6354 005a 1B68     		ldr	r3, [r3]
 6355              		.loc 1 4085 16
 6356 005c 0021     		movs	r1, #0
 6357 005e 1846     		mov	r0, r3
 6358 0060 FFF7FEFF 		bl	SDMMC_GetResponse
 6359 0064 7861     		str	r0, [r7, #20]
4086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Get operating voltage*/
4088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     validvoltage = (((response >> 31U) == 1U) ? 1U : 0U);
ARM GAS  /tmp/ccxVmGdL.s 			page 185


 6360              		.loc 1 4088 32
 6361 0066 7B69     		ldr	r3, [r7, #20]
 6362 0068 DB0F     		lsrs	r3, r3, #31
 6363              		.loc 1 4088 52
 6364 006a 012B     		cmp	r3, #1
 6365 006c 01D1     		bne	.L283
 6366              		.loc 1 4088 52 is_stmt 0 discriminator 1
 6367 006e 0123     		movs	r3, #1
 6368 0070 00E0     		b	.L284
 6369              	.L283:
 6370              		.loc 1 4088 52 discriminator 2
 6371 0072 0023     		movs	r3, #0
 6372              	.L284:
 6373              		.loc 1 4088 18 is_stmt 1 discriminator 4
 6374 0074 3B61     		str	r3, [r7, #16]
 6375              	.L280:
4070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
 6376              		.loc 1 4070 23
 6377 0076 3B69     		ldr	r3, [r7, #16]
 6378 0078 002B     		cmp	r3, #0
 6379 007a D6D0     		beq	.L285
4089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* When power routine is finished and command returns valid voltage */
4092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (((response & (0xFF000000U)) >> 24U) == 0xC0U)
 6380              		.loc 1 4092 35
 6381 007c 7B69     		ldr	r3, [r7, #20]
 6382 007e 1B0E     		lsrs	r3, r3, #24
 6383              		.loc 1 4092 6
 6384 0080 C02B     		cmp	r3, #192
 6385 0082 03D1     		bne	.L286
4093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->MmcCard.CardType = MMC_HIGH_CAPACITY_CARD;
 6386              		.loc 1 4094 28
 6387 0084 7B68     		ldr	r3, [r7, #4]
 6388 0086 0122     		movs	r2, #1
 6389 0088 5A64     		str	r2, [r3, #68]
 6390 008a 02E0     		b	.L287
 6391              	.L286:
4095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
4097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->MmcCard.CardType = MMC_LOW_CAPACITY_CARD;
 6392              		.loc 1 4098 28
 6393 008c 7B68     		ldr	r3, [r7, #4]
 6394 008e 0022     		movs	r2, #0
 6395 0090 5A64     		str	r2, [r3, #68]
 6396              	.L287:
4099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return HAL_MMC_ERROR_NONE;
 6397              		.loc 1 4101 10
 6398 0092 0023     		movs	r3, #0
 6399              	.L279:
4102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 6400              		.loc 1 4102 1
 6401 0094 1846     		mov	r0, r3
ARM GAS  /tmp/ccxVmGdL.s 			page 186


 6402 0096 1837     		adds	r7, r7, #24
 6403              		.cfi_def_cfa_offset 8
 6404 0098 BD46     		mov	sp, r7
 6405              		.cfi_def_cfa_register 13
 6406              		@ sp needed
 6407 009a 80BD     		pop	{r7, pc}
 6408              	.L289:
 6409              		.align	2
 6410              	.L288:
 6411 009c 0080FFC0 		.word	-1056997376
 6412              		.cfi_endproc
 6413              	.LFE478:
 6415              		.section	.text.MMC_PowerOFF,"ax",%progbits
 6416              		.align	1
 6417              		.syntax unified
 6418              		.thumb
 6419              		.thumb_func
 6421              	MMC_PowerOFF:
 6422              	.LFB479:
4103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
4105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Turns the SDMMC output signals off.
4106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to MMC handle
4107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval None
4108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
4109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static void MMC_PowerOFF(MMC_HandleTypeDef *hmmc)
4110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 6423              		.loc 1 4110 1
 6424              		.cfi_startproc
 6425              		@ args = 0, pretend = 0, frame = 8
 6426              		@ frame_needed = 1, uses_anonymous_args = 0
 6427 0000 80B5     		push	{r7, lr}
 6428              		.cfi_def_cfa_offset 8
 6429              		.cfi_offset 7, -8
 6430              		.cfi_offset 14, -4
 6431 0002 82B0     		sub	sp, sp, #8
 6432              		.cfi_def_cfa_offset 16
 6433 0004 00AF     		add	r7, sp, #0
 6434              		.cfi_def_cfa_register 7
 6435 0006 7860     		str	r0, [r7, #4]
4111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Set Power State to OFF */
4112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   (void)SDMMC_PowerState_OFF(hmmc->Instance);
 6436              		.loc 1 4112 9
 6437 0008 7B68     		ldr	r3, [r7, #4]
 6438 000a 1B68     		ldr	r3, [r3]
 6439 000c 1846     		mov	r0, r3
 6440 000e FFF7FEFF 		bl	SDMMC_PowerState_OFF
4113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 6441              		.loc 1 4113 1
 6442 0012 00BF     		nop
 6443 0014 0837     		adds	r7, r7, #8
 6444              		.cfi_def_cfa_offset 8
 6445 0016 BD46     		mov	sp, r7
 6446              		.cfi_def_cfa_register 13
 6447              		@ sp needed
 6448 0018 80BD     		pop	{r7, pc}
 6449              		.cfi_endproc
ARM GAS  /tmp/ccxVmGdL.s 			page 187


 6450              	.LFE479:
 6452              		.section	.text.MMC_SendStatus,"ax",%progbits
 6453              		.align	1
 6454              		.syntax unified
 6455              		.thumb
 6456              		.thumb_func
 6458              	MMC_SendStatus:
 6459              	.LFB480:
4114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
4116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Returns the current card's status.
4117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to MMC handle
4118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  pCardStatus: pointer to the buffer that will contain the MMC card
4119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *         status (Card Status register)
4120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval error state
4121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
4122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static uint32_t MMC_SendStatus(MMC_HandleTypeDef *hmmc, uint32_t *pCardStatus)
4123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 6460              		.loc 1 4123 1
 6461              		.cfi_startproc
 6462              		@ args = 0, pretend = 0, frame = 16
 6463              		@ frame_needed = 1, uses_anonymous_args = 0
 6464 0000 80B5     		push	{r7, lr}
 6465              		.cfi_def_cfa_offset 8
 6466              		.cfi_offset 7, -8
 6467              		.cfi_offset 14, -4
 6468 0002 84B0     		sub	sp, sp, #16
 6469              		.cfi_def_cfa_offset 24
 6470 0004 00AF     		add	r7, sp, #0
 6471              		.cfi_def_cfa_register 7
 6472 0006 7860     		str	r0, [r7, #4]
 6473 0008 3960     		str	r1, [r7]
4124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate;
4125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (pCardStatus == NULL)
 6474              		.loc 1 4126 6
 6475 000a 3B68     		ldr	r3, [r7]
 6476 000c 002B     		cmp	r3, #0
 6477 000e 02D1     		bne	.L292
4127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_MMC_ERROR_PARAM;
 6478              		.loc 1 4128 12
 6479 0010 4FF00063 		mov	r3, #134217728
 6480 0014 18E0     		b	.L293
 6481              	.L292:
4129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Send Status command */
4132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   errorstate = SDMMC_CmdSendStatus(hmmc->Instance, (uint32_t)(hmmc->MmcCard.RelCardAdd << 16U));
 6482              		.loc 1 4132 16
 6483 0016 7B68     		ldr	r3, [r7, #4]
 6484 0018 1A68     		ldr	r2, [r3]
 6485              		.loc 1 4132 76
 6486 001a 7B68     		ldr	r3, [r7, #4]
 6487 001c DB6C     		ldr	r3, [r3, #76]
 6488              		.loc 1 4132 16
 6489 001e 1B04     		lsls	r3, r3, #16
ARM GAS  /tmp/ccxVmGdL.s 			page 188


 6490 0020 1946     		mov	r1, r3
 6491 0022 1046     		mov	r0, r2
 6492 0024 FFF7FEFF 		bl	SDMMC_CmdSendStatus
 6493 0028 F860     		str	r0, [r7, #12]
4133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (errorstate != HAL_MMC_ERROR_NONE)
 6494              		.loc 1 4133 6
 6495 002a FB68     		ldr	r3, [r7, #12]
 6496 002c 002B     		cmp	r3, #0
 6497 002e 01D0     		beq	.L294
4134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return errorstate;
 6498              		.loc 1 4135 12
 6499 0030 FB68     		ldr	r3, [r7, #12]
 6500 0032 09E0     		b	.L293
 6501              	.L294:
4136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Get MMC card status */
4139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *pCardStatus = SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP1);
 6502              		.loc 1 4139 40
 6503 0034 7B68     		ldr	r3, [r7, #4]
 6504 0036 1B68     		ldr	r3, [r3]
 6505              		.loc 1 4139 18
 6506 0038 0021     		movs	r1, #0
 6507 003a 1846     		mov	r0, r3
 6508 003c FFF7FEFF 		bl	SDMMC_GetResponse
 6509 0040 0246     		mov	r2, r0
 6510              		.loc 1 4139 16 discriminator 1
 6511 0042 3B68     		ldr	r3, [r7]
 6512 0044 1A60     		str	r2, [r3]
4140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return HAL_MMC_ERROR_NONE;
 6513              		.loc 1 4141 10
 6514 0046 0023     		movs	r3, #0
 6515              	.L293:
4142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 6516              		.loc 1 4142 1
 6517 0048 1846     		mov	r0, r3
 6518 004a 1037     		adds	r7, r7, #16
 6519              		.cfi_def_cfa_offset 8
 6520 004c BD46     		mov	sp, r7
 6521              		.cfi_def_cfa_register 13
 6522              		@ sp needed
 6523 004e 80BD     		pop	{r7, pc}
 6524              		.cfi_endproc
 6525              	.LFE480:
 6527              		.section	.text.MMC_ReadExtCSD,"ax",%progbits
 6528              		.align	1
 6529              		.syntax unified
 6530              		.thumb
 6531              		.thumb_func
 6533              	MMC_ReadExtCSD:
 6534              	.LFB481:
4143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
4145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Reads extended CSD register to get the sectors number of the device
4146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: Pointer to MMC handle
ARM GAS  /tmp/ccxVmGdL.s 			page 189


4147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  pFieldData: Pointer to the read buffer
4148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  FieldIndex: Index of the field to be read
4149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  Timeout: Specify timeout value
4150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval HAL status
4151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
4152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static HAL_StatusTypeDef MMC_ReadExtCSD(MMC_HandleTypeDef *hmmc, uint32_t *pFieldData, uint16_t Fie
4153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                                         uint32_t Timeout)
4154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 6535              		.loc 1 4154 1
 6536              		.cfi_startproc
 6537              		@ args = 0, pretend = 0, frame = 64
 6538              		@ frame_needed = 1, uses_anonymous_args = 0
 6539 0000 80B5     		push	{r7, lr}
 6540              		.cfi_def_cfa_offset 8
 6541              		.cfi_offset 7, -8
 6542              		.cfi_offset 14, -4
 6543 0002 90B0     		sub	sp, sp, #64
 6544              		.cfi_def_cfa_offset 72
 6545 0004 00AF     		add	r7, sp, #0
 6546              		.cfi_def_cfa_register 7
 6547 0006 F860     		str	r0, [r7, #12]
 6548 0008 B960     		str	r1, [r7, #8]
 6549 000a 3B60     		str	r3, [r7]
 6550 000c 1346     		mov	r3, r2	@ movhi
 6551 000e FB80     		strh	r3, [r7, #6]	@ movhi
4155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   SDMMC_DataInitTypeDef config;
4156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate;
4157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t tickstart = HAL_GetTick();
 6552              		.loc 1 4157 24
 6553 0010 FFF7FEFF 		bl	HAL_GetTick
 6554 0014 7863     		str	r0, [r7, #52]
4158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t count;
4159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t i = 0;
 6555              		.loc 1 4159 12
 6556 0016 0023     		movs	r3, #0
 6557 0018 BB63     		str	r3, [r7, #56]
4160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t tmp_data;
4161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->ErrorCode = HAL_MMC_ERROR_NONE;
 6558              		.loc 1 4162 19
 6559 001a FB68     		ldr	r3, [r7, #12]
 6560 001c 0022     		movs	r2, #0
 6561 001e 9A63     		str	r2, [r3, #56]
4163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Initialize data control register */
4165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->Instance->DCTRL = 0;
 6562              		.loc 1 4165 7
 6563 0020 FB68     		ldr	r3, [r7, #12]
 6564 0022 1B68     		ldr	r3, [r3]
 6565              		.loc 1 4165 25
 6566 0024 0022     		movs	r2, #0
 6567 0026 DA62     		str	r2, [r3, #44]
4166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Configure the MMC DPSM (Data Path State Machine) */
4168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   config.DataTimeOut   = SDMMC_DATATIMEOUT;
 6568              		.loc 1 4168 24
 6569 0028 4FF0FF33 		mov	r3, #-1
ARM GAS  /tmp/ccxVmGdL.s 			page 190


 6570 002c 7B61     		str	r3, [r7, #20]
4169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   config.DataLength    = 512;
 6571              		.loc 1 4169 24
 6572 002e 4FF40073 		mov	r3, #512
 6573 0032 BB61     		str	r3, [r7, #24]
4170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 6574              		.loc 1 4170 24
 6575 0034 9023     		movs	r3, #144
 6576 0036 FB61     		str	r3, [r7, #28]
4171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 6577              		.loc 1 4171 24
 6578 0038 0223     		movs	r3, #2
 6579 003a 3B62     		str	r3, [r7, #32]
4172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 6580              		.loc 1 4172 24
 6581 003c 0023     		movs	r3, #0
 6582 003e 7B62     		str	r3, [r7, #36]
4173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
 6583              		.loc 1 4173 24
 6584 0040 0123     		movs	r3, #1
 6585 0042 BB62     		str	r3, [r7, #40]
4174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   (void)SDMMC_ConfigData(hmmc->Instance, &config);
 6586              		.loc 1 4174 9
 6587 0044 FB68     		ldr	r3, [r7, #12]
 6588 0046 1B68     		ldr	r3, [r3]
 6589 0048 07F11402 		add	r2, r7, #20
 6590 004c 1146     		mov	r1, r2
 6591 004e 1846     		mov	r0, r3
 6592 0050 FFF7FEFF 		bl	SDMMC_ConfigData
4175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Set Block Size for Card */
4177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   errorstate = SDMMC_CmdSendEXTCSD(hmmc->Instance, 0);
 6593              		.loc 1 4177 16
 6594 0054 FB68     		ldr	r3, [r7, #12]
 6595 0056 1B68     		ldr	r3, [r3]
 6596 0058 0021     		movs	r1, #0
 6597 005a 1846     		mov	r0, r3
 6598 005c FFF7FEFF 		bl	SDMMC_CmdSendEXTCSD
 6599 0060 3863     		str	r0, [r7, #48]
4178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (errorstate != HAL_MMC_ERROR_NONE)
 6600              		.loc 1 4178 6
 6601 0062 3B6B     		ldr	r3, [r7, #48]
 6602 0064 002B     		cmp	r3, #0
 6603 0066 4ED0     		beq	.L298
4179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Clear all the static flags */
4181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 6604              		.loc 1 4181 5
 6605 0068 FB68     		ldr	r3, [r7, #12]
 6606 006a 1B68     		ldr	r3, [r3]
 6607 006c 5C4A     		ldr	r2, .L310
 6608 006e 9A63     		str	r2, [r3, #56]
4182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= errorstate;
 6609              		.loc 1 4182 9
 6610 0070 FB68     		ldr	r3, [r7, #12]
 6611 0072 9A6B     		ldr	r2, [r3, #56]
 6612              		.loc 1 4182 21
ARM GAS  /tmp/ccxVmGdL.s 			page 191


 6613 0074 3B6B     		ldr	r3, [r7, #48]
 6614 0076 1A43     		orrs	r2, r2, r3
 6615 0078 FB68     		ldr	r3, [r7, #12]
 6616 007a 9A63     		str	r2, [r3, #56]
4183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
 6617              		.loc 1 4183 17
 6618 007c FB68     		ldr	r3, [r7, #12]
 6619 007e 0122     		movs	r2, #1
 6620 0080 83F83420 		strb	r2, [r3, #52]
4184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 6621              		.loc 1 4184 12
 6622 0084 0123     		movs	r3, #1
 6623 0086 A7E0     		b	.L309
 6624              	.L304:
4185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Poll on SDMMC flags */
4188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   while (!__HAL_MMC_GET_FLAG(hmmc,
4189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                              SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SDMMC
4190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_RXFIFOHF))
 6625              		.loc 1 4191 9
 6626 0088 FB68     		ldr	r3, [r7, #12]
 6627 008a 1B68     		ldr	r3, [r3]
 6628 008c 5B6B     		ldr	r3, [r3, #52]
 6629 008e 03F40043 		and	r3, r3, #32768
 6630              		.loc 1 4191 8
 6631 0092 002B     		cmp	r3, #0
 6632 0094 1CD0     		beq	.L299
4192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Read data from SDMMC Rx FIFO */
4194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       for (count = 0U; count < 8U; count++)
 6633              		.loc 1 4194 18
 6634 0096 0023     		movs	r3, #0
 6635 0098 FB63     		str	r3, [r7, #60]
 6636              		.loc 1 4194 7
 6637 009a 13E0     		b	.L300
 6638              	.L302:
4195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
4196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         tmp_data = SDMMC_ReadFIFO(hmmc->Instance);
 6639              		.loc 1 4196 39
 6640 009c FB68     		ldr	r3, [r7, #12]
 6641 009e 1B68     		ldr	r3, [r3]
 6642              		.loc 1 4196 20
 6643 00a0 1846     		mov	r0, r3
 6644 00a2 FFF7FEFF 		bl	SDMMC_ReadFIFO
 6645 00a6 F862     		str	r0, [r7, #44]
4197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* eg : SEC_COUNT   : FieldIndex = 212 => i+count = 53 */
4198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /*      DEVICE_TYPE : FieldIndex = 196 => i+count = 49 */
4199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if ((i + count) == ((uint32_t)FieldIndex / 4U))
 6646              		.loc 1 4199 16
 6647 00a8 BA6B     		ldr	r2, [r7, #56]
 6648 00aa FB6B     		ldr	r3, [r7, #60]
 6649 00ac 1344     		add	r3, r3, r2
 6650              		.loc 1 4199 25
 6651 00ae FA88     		ldrh	r2, [r7, #6]
 6652 00b0 9208     		lsrs	r2, r2, #2
ARM GAS  /tmp/ccxVmGdL.s 			page 192


 6653 00b2 92B2     		uxth	r2, r2
 6654              		.loc 1 4199 12
 6655 00b4 9342     		cmp	r3, r2
 6656 00b6 02D1     		bne	.L301
4200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
4201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           *pFieldData = tmp_data;
 6657              		.loc 1 4201 23
 6658 00b8 BB68     		ldr	r3, [r7, #8]
 6659 00ba FA6A     		ldr	r2, [r7, #44]
 6660 00bc 1A60     		str	r2, [r3]
 6661              	.L301:
4194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 6662              		.loc 1 4194 41 discriminator 2
 6663 00be FB6B     		ldr	r3, [r7, #60]
 6664 00c0 0133     		adds	r3, r3, #1
 6665 00c2 FB63     		str	r3, [r7, #60]
 6666              	.L300:
4194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
 6667              		.loc 1 4194 30 discriminator 1
 6668 00c4 FB6B     		ldr	r3, [r7, #60]
 6669 00c6 072B     		cmp	r3, #7
 6670 00c8 E8D9     		bls	.L302
4202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
4203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
4204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       i += 8U;
 6671              		.loc 1 4204 9
 6672 00ca BB6B     		ldr	r3, [r7, #56]
 6673 00cc 0833     		adds	r3, r3, #8
 6674 00ce BB63     		str	r3, [r7, #56]
 6675              	.L299:
4205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (((HAL_GetTick() - tickstart) >=  Timeout) || (Timeout == 0U))
 6676              		.loc 1 4207 11
 6677 00d0 FFF7FEFF 		bl	HAL_GetTick
 6678 00d4 0246     		mov	r2, r0
 6679              		.loc 1 4207 25 discriminator 1
 6680 00d6 7B6B     		ldr	r3, [r7, #52]
 6681 00d8 D31A     		subs	r3, r2, r3
 6682              		.loc 1 4207 8 discriminator 1
 6683 00da 3A68     		ldr	r2, [r7]
 6684 00dc 9A42     		cmp	r2, r3
 6685 00de 02D9     		bls	.L303
 6686              		.loc 1 4207 51 discriminator 1
 6687 00e0 3B68     		ldr	r3, [r7]
 6688 00e2 002B     		cmp	r3, #0
 6689 00e4 0FD1     		bne	.L298
 6690              	.L303:
4208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Clear all the static flags */
4210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 6691              		.loc 1 4210 7
 6692 00e6 FB68     		ldr	r3, [r7, #12]
 6693 00e8 1B68     		ldr	r3, [r3]
 6694 00ea 3D4A     		ldr	r2, .L310
 6695 00ec 9A63     		str	r2, [r3, #56]
4211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->ErrorCode |= HAL_MMC_ERROR_TIMEOUT;
ARM GAS  /tmp/ccxVmGdL.s 			page 193


 6696              		.loc 1 4211 11
 6697 00ee FB68     		ldr	r3, [r7, #12]
 6698 00f0 9B6B     		ldr	r3, [r3, #56]
 6699              		.loc 1 4211 23
 6700 00f2 43F00042 		orr	r2, r3, #-2147483648
 6701 00f6 FB68     		ldr	r3, [r7, #12]
 6702 00f8 9A63     		str	r2, [r3, #56]
4212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       hmmc->State = HAL_MMC_STATE_READY;
 6703              		.loc 1 4212 19
 6704 00fa FB68     		ldr	r3, [r7, #12]
 6705 00fc 0122     		movs	r2, #1
 6706 00fe 83F83420 		strb	r2, [r3, #52]
4213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       return HAL_TIMEOUT;
 6707              		.loc 1 4213 14
 6708 0102 0323     		movs	r3, #3
 6709 0104 68E0     		b	.L309
 6710              	.L298:
4188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                              SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SDMMC
 6711              		.loc 1 4188 11
 6712 0106 FB68     		ldr	r3, [r7, #12]
 6713 0108 1B68     		ldr	r3, [r3]
 6714 010a 5B6B     		ldr	r3, [r3, #52]
 6715 010c 03F49573 		and	r3, r3, #298
4188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****                              SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SDMMC
 6716              		.loc 1 4188 10
 6717 0110 002B     		cmp	r3, #0
 6718 0112 B9D0     		beq	.L304
4214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Get error state */
4218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_DTIMEOUT))
 6719              		.loc 1 4218 7
 6720 0114 FB68     		ldr	r3, [r7, #12]
 6721 0116 1B68     		ldr	r3, [r3]
 6722 0118 5B6B     		ldr	r3, [r3, #52]
 6723 011a 03F00803 		and	r3, r3, #8
 6724              		.loc 1 4218 6
 6725 011e 002B     		cmp	r3, #0
 6726 0120 0FD0     		beq	.L305
4219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Clear all the static flags */
4221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 6727              		.loc 1 4221 5
 6728 0122 FB68     		ldr	r3, [r7, #12]
 6729 0124 1B68     		ldr	r3, [r3]
 6730 0126 2E4A     		ldr	r2, .L310
 6731 0128 9A63     		str	r2, [r3, #56]
4222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= HAL_MMC_ERROR_DATA_TIMEOUT;
 6732              		.loc 1 4222 9
 6733 012a FB68     		ldr	r3, [r7, #12]
 6734 012c 9B6B     		ldr	r3, [r3, #56]
 6735              		.loc 1 4222 21
 6736 012e 43F00802 		orr	r2, r3, #8
 6737 0132 FB68     		ldr	r3, [r7, #12]
 6738 0134 9A63     		str	r2, [r3, #56]
4223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
ARM GAS  /tmp/ccxVmGdL.s 			page 194


 6739              		.loc 1 4223 17
 6740 0136 FB68     		ldr	r3, [r7, #12]
 6741 0138 0122     		movs	r2, #1
 6742 013a 83F83420 		strb	r2, [r3, #52]
4224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 6743              		.loc 1 4224 12
 6744 013e 0123     		movs	r3, #1
 6745 0140 4AE0     		b	.L309
 6746              	.L305:
4225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_DCRCFAIL))
 6747              		.loc 1 4226 12
 6748 0142 FB68     		ldr	r3, [r7, #12]
 6749 0144 1B68     		ldr	r3, [r3]
 6750 0146 5B6B     		ldr	r3, [r3, #52]
 6751 0148 03F00203 		and	r3, r3, #2
 6752              		.loc 1 4226 11
 6753 014c 002B     		cmp	r3, #0
 6754 014e 0FD0     		beq	.L306
4227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Clear all the static flags */
4229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 6755              		.loc 1 4229 5
 6756 0150 FB68     		ldr	r3, [r7, #12]
 6757 0152 1B68     		ldr	r3, [r3]
 6758 0154 224A     		ldr	r2, .L310
 6759 0156 9A63     		str	r2, [r3, #56]
4230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= HAL_MMC_ERROR_DATA_CRC_FAIL;
 6760              		.loc 1 4230 9
 6761 0158 FB68     		ldr	r3, [r7, #12]
 6762 015a 9B6B     		ldr	r3, [r3, #56]
 6763              		.loc 1 4230 21
 6764 015c 43F00202 		orr	r2, r3, #2
 6765 0160 FB68     		ldr	r3, [r7, #12]
 6766 0162 9A63     		str	r2, [r3, #56]
4231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
 6767              		.loc 1 4231 17
 6768 0164 FB68     		ldr	r3, [r7, #12]
 6769 0166 0122     		movs	r2, #1
 6770 0168 83F83420 		strb	r2, [r3, #52]
4232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 6771              		.loc 1 4232 12
 6772 016c 0123     		movs	r3, #1
 6773 016e 33E0     		b	.L309
 6774              	.L306:
4233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else if (__HAL_MMC_GET_FLAG(hmmc, SDMMC_FLAG_RXOVERR))
 6775              		.loc 1 4234 12
 6776 0170 FB68     		ldr	r3, [r7, #12]
 6777 0172 1B68     		ldr	r3, [r3]
 6778 0174 5B6B     		ldr	r3, [r3, #52]
 6779 0176 03F02003 		and	r3, r3, #32
 6780              		.loc 1 4234 11
 6781 017a 002B     		cmp	r3, #0
 6782 017c 0FD0     		beq	.L307
4235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Clear all the static flags */
ARM GAS  /tmp/ccxVmGdL.s 			page 195


4237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_FLAGS);
 6783              		.loc 1 4237 5
 6784 017e FB68     		ldr	r3, [r7, #12]
 6785 0180 1B68     		ldr	r3, [r3]
 6786 0182 174A     		ldr	r2, .L310
 6787 0184 9A63     		str	r2, [r3, #56]
4238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= HAL_MMC_ERROR_RX_OVERRUN;
 6788              		.loc 1 4238 9
 6789 0186 FB68     		ldr	r3, [r7, #12]
 6790 0188 9B6B     		ldr	r3, [r3, #56]
 6791              		.loc 1 4238 21
 6792 018a 43F02002 		orr	r2, r3, #32
 6793 018e FB68     		ldr	r3, [r7, #12]
 6794 0190 9A63     		str	r2, [r3, #56]
4239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->State = HAL_MMC_STATE_READY;
 6795              		.loc 1 4239 17
 6796 0192 FB68     		ldr	r3, [r7, #12]
 6797 0194 0122     		movs	r2, #1
 6798 0196 83F83420 		strb	r2, [r3, #52]
4240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     return HAL_ERROR;
 6799              		.loc 1 4240 12
 6800 019a 0123     		movs	r3, #1
 6801 019c 1CE0     		b	.L309
 6802              	.L307:
4241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   else
4243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Nothing to do */
4245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* While card is not ready for data and trial number for sending CMD13 is not exceeded */
4248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   errorstate = SDMMC_CmdSendStatus(hmmc->Instance, (uint32_t)(((uint32_t)hmmc->MmcCard.RelCardAdd) 
 6803              		.loc 1 4248 16
 6804 019e FB68     		ldr	r3, [r7, #12]
 6805 01a0 1A68     		ldr	r2, [r3]
 6806              		.loc 1 4248 87
 6807 01a2 FB68     		ldr	r3, [r7, #12]
 6808 01a4 DB6C     		ldr	r3, [r3, #76]
 6809              		.loc 1 4248 16
 6810 01a6 1B04     		lsls	r3, r3, #16
 6811 01a8 1946     		mov	r1, r3
 6812 01aa 1046     		mov	r0, r2
 6813 01ac FFF7FEFF 		bl	SDMMC_CmdSendStatus
 6814 01b0 3863     		str	r0, [r7, #48]
4249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (errorstate != HAL_MMC_ERROR_NONE)
 6815              		.loc 1 4249 6
 6816 01b2 3B6B     		ldr	r3, [r7, #48]
 6817 01b4 002B     		cmp	r3, #0
 6818 01b6 05D0     		beq	.L308
4250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->ErrorCode |= errorstate;
 6819              		.loc 1 4251 9
 6820 01b8 FB68     		ldr	r3, [r7, #12]
 6821 01ba 9A6B     		ldr	r2, [r3, #56]
 6822              		.loc 1 4251 21
 6823 01bc 3B6B     		ldr	r3, [r7, #48]
 6824 01be 1A43     		orrs	r2, r2, r3
ARM GAS  /tmp/ccxVmGdL.s 			page 196


 6825 01c0 FB68     		ldr	r3, [r7, #12]
 6826 01c2 9A63     		str	r2, [r3, #56]
 6827              	.L308:
4252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   /* Clear all the static flags */
4255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   __HAL_MMC_CLEAR_FLAG(hmmc, SDMMC_STATIC_DATA_FLAGS);
 6828              		.loc 1 4255 3
 6829 01c4 FB68     		ldr	r3, [r7, #12]
 6830 01c6 1B68     		ldr	r3, [r3]
 6831 01c8 40F23A52 		movw	r2, #1338
 6832 01cc 9A63     		str	r2, [r3, #56]
4256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   hmmc->State = HAL_MMC_STATE_READY;
 6833              		.loc 1 4257 15
 6834 01ce FB68     		ldr	r3, [r7, #12]
 6835 01d0 0122     		movs	r2, #1
 6836 01d2 83F83420 		strb	r2, [r3, #52]
4258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return HAL_OK;
 6837              		.loc 1 4259 10
 6838 01d6 0023     		movs	r3, #0
 6839              	.L309:
4260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 6840              		.loc 1 4260 1
 6841 01d8 1846     		mov	r0, r3
 6842 01da 4037     		adds	r7, r7, #64
 6843              		.cfi_def_cfa_offset 8
 6844 01dc BD46     		mov	sp, r7
 6845              		.cfi_def_cfa_register 13
 6846              		@ sp needed
 6847 01de 80BD     		pop	{r7, pc}
 6848              	.L311:
 6849              		.align	2
 6850              	.L310:
 6851 01e0 FF054000 		.word	4195839
 6852              		.cfi_endproc
 6853              	.LFE481:
 6855              		.section	.text.MMC_Read_IT,"ax",%progbits
 6856              		.align	1
 6857              		.syntax unified
 6858              		.thumb
 6859              		.thumb_func
 6861              	MMC_Read_IT:
 6862              	.LFB482:
4261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
4264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Wrap up reading in non-blocking mode.
4265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: pointer to a MMC_HandleTypeDef structure that contains
4266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *              the configuration information.
4267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval None
4268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
4269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static void MMC_Read_IT(MMC_HandleTypeDef *hmmc)
4270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 6863              		.loc 1 4270 1
 6864              		.cfi_startproc
ARM GAS  /tmp/ccxVmGdL.s 			page 197


 6865              		@ args = 0, pretend = 0, frame = 24
 6866              		@ frame_needed = 1, uses_anonymous_args = 0
 6867 0000 80B5     		push	{r7, lr}
 6868              		.cfi_def_cfa_offset 8
 6869              		.cfi_offset 7, -8
 6870              		.cfi_offset 14, -4
 6871 0002 86B0     		sub	sp, sp, #24
 6872              		.cfi_def_cfa_offset 32
 6873 0004 00AF     		add	r7, sp, #0
 6874              		.cfi_def_cfa_register 7
 6875 0006 7860     		str	r0, [r7, #4]
4271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t count, data, dataremaining;
4272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint8_t *tmp;
4273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   tmp = hmmc->pRxBuffPtr;
 6876              		.loc 1 4274 7
 6877 0008 7B68     		ldr	r3, [r7, #4]
 6878 000a 9B6A     		ldr	r3, [r3, #40]
 6879 000c FB60     		str	r3, [r7, #12]
4275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   dataremaining = hmmc->RxXferSize;
 6880              		.loc 1 4275 17
 6881 000e 7B68     		ldr	r3, [r7, #4]
 6882 0010 DB6A     		ldr	r3, [r3, #44]
 6883 0012 3B61     		str	r3, [r7, #16]
4276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (dataremaining > 0U)
 6884              		.loc 1 4277 6
 6885 0014 3B69     		ldr	r3, [r7, #16]
 6886 0016 002B     		cmp	r3, #0
 6887 0018 3FD0     		beq	.L316
4278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Read data from SDMMC Rx FIFO */
4280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     for (count = 0U; count < 8U; count++)
 6888              		.loc 1 4280 16
 6889 001a 0023     		movs	r3, #0
 6890 001c 7B61     		str	r3, [r7, #20]
 6891              		.loc 1 4280 5
 6892 001e 33E0     		b	.L314
 6893              	.L315:
4281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       data = SDMMC_ReadFIFO(hmmc->Instance);
 6894              		.loc 1 4282 33
 6895 0020 7B68     		ldr	r3, [r7, #4]
 6896 0022 1B68     		ldr	r3, [r3]
 6897              		.loc 1 4282 14
 6898 0024 1846     		mov	r0, r3
 6899 0026 FFF7FEFF 		bl	SDMMC_ReadFIFO
 6900 002a B860     		str	r0, [r7, #8]
4283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       *tmp = (uint8_t)(data & 0xFFU);
 6901              		.loc 1 4283 14
 6902 002c BB68     		ldr	r3, [r7, #8]
 6903 002e DAB2     		uxtb	r2, r3
 6904              		.loc 1 4283 12
 6905 0030 FB68     		ldr	r3, [r7, #12]
 6906 0032 1A70     		strb	r2, [r3]
4284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       tmp++;
 6907              		.loc 1 4284 10
ARM GAS  /tmp/ccxVmGdL.s 			page 198


 6908 0034 FB68     		ldr	r3, [r7, #12]
 6909 0036 0133     		adds	r3, r3, #1
 6910 0038 FB60     		str	r3, [r7, #12]
4285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       dataremaining--;
 6911              		.loc 1 4285 20
 6912 003a 3B69     		ldr	r3, [r7, #16]
 6913 003c 013B     		subs	r3, r3, #1
 6914 003e 3B61     		str	r3, [r7, #16]
4286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       *tmp = (uint8_t)((data >> 8U) & 0xFFU);
 6915              		.loc 1 4286 30
 6916 0040 BB68     		ldr	r3, [r7, #8]
 6917 0042 1B0A     		lsrs	r3, r3, #8
 6918              		.loc 1 4286 14
 6919 0044 DAB2     		uxtb	r2, r3
 6920              		.loc 1 4286 12
 6921 0046 FB68     		ldr	r3, [r7, #12]
 6922 0048 1A70     		strb	r2, [r3]
4287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       tmp++;
 6923              		.loc 1 4287 10
 6924 004a FB68     		ldr	r3, [r7, #12]
 6925 004c 0133     		adds	r3, r3, #1
 6926 004e FB60     		str	r3, [r7, #12]
4288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       dataremaining--;
 6927              		.loc 1 4288 20
 6928 0050 3B69     		ldr	r3, [r7, #16]
 6929 0052 013B     		subs	r3, r3, #1
 6930 0054 3B61     		str	r3, [r7, #16]
4289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       *tmp = (uint8_t)((data >> 16U) & 0xFFU);
 6931              		.loc 1 4289 30
 6932 0056 BB68     		ldr	r3, [r7, #8]
 6933 0058 1B0C     		lsrs	r3, r3, #16
 6934              		.loc 1 4289 14
 6935 005a DAB2     		uxtb	r2, r3
 6936              		.loc 1 4289 12
 6937 005c FB68     		ldr	r3, [r7, #12]
 6938 005e 1A70     		strb	r2, [r3]
4290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       tmp++;
 6939              		.loc 1 4290 10
 6940 0060 FB68     		ldr	r3, [r7, #12]
 6941 0062 0133     		adds	r3, r3, #1
 6942 0064 FB60     		str	r3, [r7, #12]
4291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       dataremaining--;
 6943              		.loc 1 4291 20
 6944 0066 3B69     		ldr	r3, [r7, #16]
 6945 0068 013B     		subs	r3, r3, #1
 6946 006a 3B61     		str	r3, [r7, #16]
4292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       *tmp = (uint8_t)((data >> 24U) & 0xFFU);
 6947              		.loc 1 4292 30
 6948 006c BB68     		ldr	r3, [r7, #8]
 6949 006e 1B0E     		lsrs	r3, r3, #24
 6950              		.loc 1 4292 14
 6951 0070 DAB2     		uxtb	r2, r3
 6952              		.loc 1 4292 12
 6953 0072 FB68     		ldr	r3, [r7, #12]
 6954 0074 1A70     		strb	r2, [r3]
4293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       tmp++;
 6955              		.loc 1 4293 10
ARM GAS  /tmp/ccxVmGdL.s 			page 199


 6956 0076 FB68     		ldr	r3, [r7, #12]
 6957 0078 0133     		adds	r3, r3, #1
 6958 007a FB60     		str	r3, [r7, #12]
4294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       dataremaining--;
 6959              		.loc 1 4294 20
 6960 007c 3B69     		ldr	r3, [r7, #16]
 6961 007e 013B     		subs	r3, r3, #1
 6962 0080 3B61     		str	r3, [r7, #16]
4280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 6963              		.loc 1 4280 39 discriminator 3
 6964 0082 7B69     		ldr	r3, [r7, #20]
 6965 0084 0133     		adds	r3, r3, #1
 6966 0086 7B61     		str	r3, [r7, #20]
 6967              	.L314:
4280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 6968              		.loc 1 4280 28 discriminator 1
 6969 0088 7B69     		ldr	r3, [r7, #20]
 6970 008a 072B     		cmp	r3, #7
 6971 008c C8D9     		bls	.L315
4295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->pRxBuffPtr = tmp;
 6972              		.loc 1 4297 22
 6973 008e 7B68     		ldr	r3, [r7, #4]
 6974 0090 FA68     		ldr	r2, [r7, #12]
 6975 0092 9A62     		str	r2, [r3, #40]
4298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->RxXferSize = dataremaining;
 6976              		.loc 1 4298 22
 6977 0094 7B68     		ldr	r3, [r7, #4]
 6978 0096 3A69     		ldr	r2, [r7, #16]
 6979 0098 DA62     		str	r2, [r3, #44]
 6980              	.L316:
4299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 6981              		.loc 1 4300 1
 6982 009a 00BF     		nop
 6983 009c 1837     		adds	r7, r7, #24
 6984              		.cfi_def_cfa_offset 8
 6985 009e BD46     		mov	sp, r7
 6986              		.cfi_def_cfa_register 13
 6987              		@ sp needed
 6988 00a0 80BD     		pop	{r7, pc}
 6989              		.cfi_endproc
 6990              	.LFE482:
 6992              		.section	.text.MMC_Write_IT,"ax",%progbits
 6993              		.align	1
 6994              		.syntax unified
 6995              		.thumb
 6996              		.thumb_func
 6998              	MMC_Write_IT:
 6999              	.LFB483:
4301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
4303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Wrap up writing in non-blocking mode.
4304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: pointer to a MMC_HandleTypeDef structure that contains
4305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   *              the configuration information.
4306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval None
ARM GAS  /tmp/ccxVmGdL.s 			page 200


4307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
4308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static void MMC_Write_IT(MMC_HandleTypeDef *hmmc)
4309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 7000              		.loc 1 4309 1
 7001              		.cfi_startproc
 7002              		@ args = 0, pretend = 0, frame = 24
 7003              		@ frame_needed = 1, uses_anonymous_args = 0
 7004 0000 80B5     		push	{r7, lr}
 7005              		.cfi_def_cfa_offset 8
 7006              		.cfi_offset 7, -8
 7007              		.cfi_offset 14, -4
 7008 0002 86B0     		sub	sp, sp, #24
 7009              		.cfi_def_cfa_offset 32
 7010 0004 00AF     		add	r7, sp, #0
 7011              		.cfi_def_cfa_register 7
 7012 0006 7860     		str	r0, [r7, #4]
4310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t count, data, dataremaining;
4311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint8_t *tmp;
4312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   tmp = hmmc->pTxBuffPtr;
 7013              		.loc 1 4313 7
 7014 0008 7B68     		ldr	r3, [r7, #4]
 7015 000a 1B6A     		ldr	r3, [r3, #32]
 7016 000c FB60     		str	r3, [r7, #12]
4314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   dataremaining = hmmc->TxXferSize;
 7017              		.loc 1 4314 17
 7018 000e 7B68     		ldr	r3, [r7, #4]
 7019 0010 5B6A     		ldr	r3, [r3, #36]
 7020 0012 3B61     		str	r3, [r7, #16]
4315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (dataremaining > 0U)
 7021              		.loc 1 4316 6
 7022 0014 3B69     		ldr	r3, [r7, #16]
 7023 0016 002B     		cmp	r3, #0
 7024 0018 43D0     		beq	.L321
4317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Write data to SDMMC Tx FIFO */
4319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     for (count = 0U; count < 8U; count++)
 7025              		.loc 1 4319 16
 7026 001a 0023     		movs	r3, #0
 7027 001c 7B61     		str	r3, [r7, #20]
 7028              		.loc 1 4319 5
 7029 001e 37E0     		b	.L319
 7030              	.L320:
4320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       data = (uint32_t)(*tmp);
 7031              		.loc 1 4321 25
 7032 0020 FB68     		ldr	r3, [r7, #12]
 7033 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 7034              		.loc 1 4321 12
 7035 0024 BB60     		str	r3, [r7, #8]
4322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       tmp++;
 7036              		.loc 1 4322 10
 7037 0026 FB68     		ldr	r3, [r7, #12]
 7038 0028 0133     		adds	r3, r3, #1
 7039 002a FB60     		str	r3, [r7, #12]
4323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       dataremaining--;
ARM GAS  /tmp/ccxVmGdL.s 			page 201


 7040              		.loc 1 4323 20
 7041 002c 3B69     		ldr	r3, [r7, #16]
 7042 002e 013B     		subs	r3, r3, #1
 7043 0030 3B61     		str	r3, [r7, #16]
4324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       data |= ((uint32_t)(*tmp) << 8U);
 7044              		.loc 1 4324 27
 7045 0032 FB68     		ldr	r3, [r7, #12]
 7046 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 7047              		.loc 1 4324 33
 7048 0036 1A02     		lsls	r2, r3, #8
 7049              		.loc 1 4324 12
 7050 0038 BB68     		ldr	r3, [r7, #8]
 7051 003a 1343     		orrs	r3, r3, r2
 7052 003c BB60     		str	r3, [r7, #8]
4325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       tmp++;
 7053              		.loc 1 4325 10
 7054 003e FB68     		ldr	r3, [r7, #12]
 7055 0040 0133     		adds	r3, r3, #1
 7056 0042 FB60     		str	r3, [r7, #12]
4326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       dataremaining--;
 7057              		.loc 1 4326 20
 7058 0044 3B69     		ldr	r3, [r7, #16]
 7059 0046 013B     		subs	r3, r3, #1
 7060 0048 3B61     		str	r3, [r7, #16]
4327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       data |= ((uint32_t)(*tmp) << 16U);
 7061              		.loc 1 4327 27
 7062 004a FB68     		ldr	r3, [r7, #12]
 7063 004c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 7064              		.loc 1 4327 33
 7065 004e 1A04     		lsls	r2, r3, #16
 7066              		.loc 1 4327 12
 7067 0050 BB68     		ldr	r3, [r7, #8]
 7068 0052 1343     		orrs	r3, r3, r2
 7069 0054 BB60     		str	r3, [r7, #8]
4328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       tmp++;
 7070              		.loc 1 4328 10
 7071 0056 FB68     		ldr	r3, [r7, #12]
 7072 0058 0133     		adds	r3, r3, #1
 7073 005a FB60     		str	r3, [r7, #12]
4329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       dataremaining--;
 7074              		.loc 1 4329 20
 7075 005c 3B69     		ldr	r3, [r7, #16]
 7076 005e 013B     		subs	r3, r3, #1
 7077 0060 3B61     		str	r3, [r7, #16]
4330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       data |= ((uint32_t)(*tmp) << 24U);
 7078              		.loc 1 4330 27
 7079 0062 FB68     		ldr	r3, [r7, #12]
 7080 0064 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 7081              		.loc 1 4330 33
 7082 0066 1A06     		lsls	r2, r3, #24
 7083              		.loc 1 4330 12
 7084 0068 BB68     		ldr	r3, [r7, #8]
 7085 006a 1343     		orrs	r3, r3, r2
 7086 006c BB60     		str	r3, [r7, #8]
4331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       tmp++;
 7087              		.loc 1 4331 10
 7088 006e FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccxVmGdL.s 			page 202


 7089 0070 0133     		adds	r3, r3, #1
 7090 0072 FB60     		str	r3, [r7, #12]
4332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       dataremaining--;
 7091              		.loc 1 4332 20
 7092 0074 3B69     		ldr	r3, [r7, #16]
 7093 0076 013B     		subs	r3, r3, #1
 7094 0078 3B61     		str	r3, [r7, #16]
4333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       (void)SDMMC_WriteFIFO(hmmc->Instance, &data);
 7095              		.loc 1 4333 13
 7096 007a 7B68     		ldr	r3, [r7, #4]
 7097 007c 1B68     		ldr	r3, [r3]
 7098 007e 07F10802 		add	r2, r7, #8
 7099 0082 1146     		mov	r1, r2
 7100 0084 1846     		mov	r0, r3
 7101 0086 FFF7FEFF 		bl	SDMMC_WriteFIFO
4319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 7102              		.loc 1 4319 39 discriminator 3
 7103 008a 7B69     		ldr	r3, [r7, #20]
 7104 008c 0133     		adds	r3, r3, #1
 7105 008e 7B61     		str	r3, [r7, #20]
 7106              	.L319:
4319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
 7107              		.loc 1 4319 28 discriminator 1
 7108 0090 7B69     		ldr	r3, [r7, #20]
 7109 0092 072B     		cmp	r3, #7
 7110 0094 C4D9     		bls	.L320
4334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->pTxBuffPtr = tmp;
 7111              		.loc 1 4336 22
 7112 0096 7B68     		ldr	r3, [r7, #4]
 7113 0098 FA68     		ldr	r2, [r7, #12]
 7114 009a 1A62     		str	r2, [r3, #32]
4337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     hmmc->TxXferSize = dataremaining;
 7115              		.loc 1 4337 22
 7116 009c 7B68     		ldr	r3, [r7, #4]
 7117 009e 3A69     		ldr	r2, [r7, #16]
 7118 00a0 5A62     		str	r2, [r3, #36]
 7119              	.L321:
4338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 7120              		.loc 1 4339 1
 7121 00a2 00BF     		nop
 7122 00a4 1837     		adds	r7, r7, #24
 7123              		.cfi_def_cfa_offset 8
 7124 00a6 BD46     		mov	sp, r7
 7125              		.cfi_def_cfa_register 13
 7126              		@ sp needed
 7127 00a8 80BD     		pop	{r7, pc}
 7128              		.cfi_endproc
 7129              	.LFE483:
 7131              		.section	.text.MMC_PwrClassUpdate,"ax",%progbits
 7132              		.align	1
 7133              		.syntax unified
 7134              		.thumb
 7135              		.thumb_func
 7137              	MMC_PwrClassUpdate:
ARM GAS  /tmp/ccxVmGdL.s 			page 203


 7138              	.LFB484:
4340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
4342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
4343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Switches the MMC card to high speed mode.
4344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: MMC handle
4345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  state: State of high speed mode
4346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval MMC Card error state
4347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
4348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static uint32_t MMC_HighSpeed(MMC_HandleTypeDef *hmmc, FunctionalState state)
4349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
4350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate = HAL_MMC_ERROR_NONE;
4351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t response = 0U, count;
4352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t sdmmc_clk;
4353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   SDMMC_InitTypeDef Init = {0U};
4354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (((hmmc->Instance->CLKCR & SDMMC_CLKCR_BUSSPEED) != 0U) && (state == DISABLE))
4356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     errorstate = MMC_PwrClassUpdate(hmmc, (hmmc->Instance->CLKCR & SDMMC_CLKCR_WIDBUS), SDMMC_SPEED
4358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate == HAL_MMC_ERROR_NONE)
4359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Index : 185 - Value : 0 */
4361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdSwitch(hmmc->Instance, 0x03B90000U);
4362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (((hmmc->Instance->CLKCR & SDMMC_CLKCR_BUSSPEED) == 0U) && (state != DISABLE))
4366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     errorstate = MMC_PwrClassUpdate(hmmc, (hmmc->Instance->CLKCR & SDMMC_CLKCR_WIDBUS), SDMMC_SPEED
4368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate == HAL_MMC_ERROR_NONE)
4369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Index : 185 - Value : 1 */
4371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdSwitch(hmmc->Instance, 0x03B90100U);
4372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (errorstate == HAL_MMC_ERROR_NONE)
4376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* While card is not ready for data and trial number for sending CMD13 is not exceeded */
4378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     count = SDMMC_MAX_TRIAL;
4379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     do
4380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdSendStatus(hmmc->Instance, (uint32_t)(((uint32_t)hmmc->MmcCard.RelCardA
4382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (errorstate != HAL_MMC_ERROR_NONE)
4383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
4384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
4385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
4386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Get command response */
4388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       response = SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP1);
4389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       count--;
4390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     } while (((response & 0x100U) == 0U) && (count != 0U));
4391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Check the status after the switch command execution */
4393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((count != 0U) && (errorstate == HAL_MMC_ERROR_NONE))
4394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Check the bit SWITCH_ERROR of the device status */
ARM GAS  /tmp/ccxVmGdL.s 			page 204


4396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if ((response & 0x80U) != 0U)
4397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
4398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
4399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
4400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else
4401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
4402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Configure high speed */
4403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         Init.ClockEdge           = hmmc->Init.ClockEdge;
4404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         Init.ClockPowerSave      = hmmc->Init.ClockPowerSave;
4405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         Init.BusWide             = (hmmc->Instance->CLKCR & SDMMC_CLKCR_WIDBUS);
4406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         Init.HardwareFlowControl = hmmc->Init.HardwareFlowControl;
4407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if (state == DISABLE)
4409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
4410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           Init.ClockDiv = hmmc->Init.ClockDiv;
4411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           (void)SDMMC_Init(hmmc->Instance, Init);
4412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           CLEAR_BIT(hmmc->Instance->CLKCR, SDMMC_CLKCR_BUSSPEED);
4414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
4415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         else
4416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
4417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* High Speed Clock should be less or equal to 52MHz*/
4418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           sdmmc_clk = HAL_RCCEx_GetPeriphCLKFreq(RCC_PERIPHCLK_SDMMC1);
4419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           if (sdmmc_clk == 0U)
4420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
4421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             errorstate = SDMMC_ERROR_INVALID_PARAMETER;
4422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
4423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           else
4424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
4425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             if (sdmmc_clk <= MMC_HIGH_SPEED_FREQ)
4426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             {
4427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               Init.ClockDiv = 0;
4428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             }
4429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             else
4430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             {
4431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               Init.ClockDiv = (sdmmc_clk / (2U * MMC_HIGH_SPEED_FREQ)) + 1U;
4432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             }
4433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             (void)SDMMC_Init(hmmc->Instance, Init);
4434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             SET_BIT(hmmc->Instance->CLKCR, SDMMC_CLKCR_BUSSPEED);
4436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
4437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
4438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
4439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else if (count == 0U)
4441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_ERROR_TIMEOUT;
4443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
4445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Nothing to do */
4447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return errorstate;
4451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
4452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
ARM GAS  /tmp/ccxVmGdL.s 			page 205


4453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
4454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Switches the MMC card to Double Data Rate (DDR) mode.
4455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc: MMC handle
4456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  state: State of DDR mode
4457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval MMC Card error state
4458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
4459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static uint32_t MMC_DDR_Mode(MMC_HandleTypeDef *hmmc, FunctionalState state)
4460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
4461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate = HAL_MMC_ERROR_NONE;
4462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t response = 0U, count;
4463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (((hmmc->Instance->CLKCR & SDMMC_CLKCR_DDR) != 0U) && (state == DISABLE))
4465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((hmmc->Instance->CLKCR & SDMMC_CLKCR_WIDBUS_0) != 0U)
4467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = MMC_PwrClassUpdate(hmmc, SDMMC_BUS_WIDE_4B, SDMMC_SPEED_MODE_HIGH);
4469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (errorstate == HAL_MMC_ERROR_NONE)
4470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
4471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Index : 183 - Value : 1 */
4472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = SDMMC_CmdSwitch(hmmc->Instance, 0x03B70100U);
4473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
4474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
4476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = MMC_PwrClassUpdate(hmmc, SDMMC_BUS_WIDE_8B, SDMMC_SPEED_MODE_HIGH);
4478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (errorstate == HAL_MMC_ERROR_NONE)
4479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
4480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Index : 183 - Value : 2 */
4481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = SDMMC_CmdSwitch(hmmc->Instance, 0x03B70200U);
4482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
4483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (((hmmc->Instance->CLKCR & SDMMC_CLKCR_DDR) == 0U) && (state != DISABLE))
4487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((hmmc->Instance->CLKCR & SDMMC_CLKCR_WIDBUS_0) != 0U)
4489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = MMC_PwrClassUpdate(hmmc, SDMMC_BUS_WIDE_4B, SDMMC_SPEED_MODE_DDR);
4491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (errorstate == HAL_MMC_ERROR_NONE)
4492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
4493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Index : 183 - Value : 5 */
4494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = SDMMC_CmdSwitch(hmmc->Instance, 0x03B70500U);
4495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
4496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
4498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = MMC_PwrClassUpdate(hmmc, SDMMC_BUS_WIDE_8B, SDMMC_SPEED_MODE_DDR);
4500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (errorstate == HAL_MMC_ERROR_NONE)
4501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
4502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Index : 183 - Value : 6 */
4503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = SDMMC_CmdSwitch(hmmc->Instance, 0x03B70600U);
4504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
4505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if (errorstate == HAL_MMC_ERROR_NONE)
4509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
ARM GAS  /tmp/ccxVmGdL.s 			page 206


4510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* While card is not ready for data and trial number for sending CMD13 is not exceeded */
4511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     count = SDMMC_MAX_TRIAL;
4512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     do
4513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_CmdSendStatus(hmmc->Instance, (uint32_t)(((uint32_t)hmmc->MmcCard.RelCardA
4515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (errorstate != HAL_MMC_ERROR_NONE)
4516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
4517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         break;
4518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
4519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Get command response */
4521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       response = SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP1);
4522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       count--;
4523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     } while (((response & 0x100U) == 0U) && (count != 0U));
4524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Check the status after the switch command execution */
4526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if ((count != 0U) && (errorstate == HAL_MMC_ERROR_NONE))
4527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Check the bit SWITCH_ERROR of the device status */
4529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if ((response & 0x80U) != 0U)
4530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
4531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
4532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
4533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       else
4534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
4535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Configure DDR mode */
4536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if ((count != 0U) && (errorstate == HAL_MMC_ERROR_NONE))
4537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
4538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           if (state == DISABLE)
4539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
4540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             CLEAR_BIT(hmmc->Instance->CLKCR, SDMMC_CLKCR_DDR);
4541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
4542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           else
4543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
4544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             SET_BIT(hmmc->Instance->CLKCR, SDMMC_CLKCR_DDR);
4545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
4546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
4547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
4548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else if (count == 0U)
4550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_ERROR_TIMEOUT;
4552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
4554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Nothing to do */
4556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return errorstate;
4560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
4561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
4562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** /**
4564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @brief  Update the power class of the device.
4565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  hmmc MMC handle
4566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  Wide Wide of MMC bus
ARM GAS  /tmp/ccxVmGdL.s 			page 207


4567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @param  Speed Speed of the MMC bus
4568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   * @retval MMC Card error state
4569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   */
4570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** static uint32_t MMC_PwrClassUpdate(MMC_HandleTypeDef *hmmc, uint32_t Wide, uint32_t Speed)
4571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** {
 7139              		.loc 1 4571 1
 7140              		.cfi_startproc
 7141              		@ args = 0, pretend = 0, frame = 40
 7142              		@ frame_needed = 1, uses_anonymous_args = 0
 7143 0000 80B5     		push	{r7, lr}
 7144              		.cfi_def_cfa_offset 8
 7145              		.cfi_offset 7, -8
 7146              		.cfi_offset 14, -4
 7147 0002 8AB0     		sub	sp, sp, #40
 7148              		.cfi_def_cfa_offset 48
 7149 0004 00AF     		add	r7, sp, #0
 7150              		.cfi_def_cfa_register 7
 7151 0006 F860     		str	r0, [r7, #12]
 7152 0008 B960     		str	r1, [r7, #8]
 7153 000a 7A60     		str	r2, [r7, #4]
4572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t count;
4573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t response = 0U;
 7154              		.loc 1 4573 12
 7155 000c 0023     		movs	r3, #0
 7156 000e 3B62     		str	r3, [r7, #32]
4574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t errorstate = HAL_MMC_ERROR_NONE;
 7157              		.loc 1 4574 12
 7158 0010 0023     		movs	r3, #0
 7159 0012 FB61     		str	r3, [r7, #28]
4575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   uint32_t power_class, supported_pwr_class;
4576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   if ((Wide == SDMMC_BUS_WIDE_8B) || (Wide == SDMMC_BUS_WIDE_4B))
 7160              		.loc 1 4577 6
 7161 0014 BB68     		ldr	r3, [r7, #8]
 7162 0016 B3F5805F 		cmp	r3, #4096
 7163 001a 03D0     		beq	.L323
 7164              		.loc 1 4577 35 discriminator 1
 7165 001c BB68     		ldr	r3, [r7, #8]
 7166 001e B3F5006F 		cmp	r3, #2048
 7167 0022 74D1     		bne	.L324
 7168              	.L323:
4578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   {
4579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     power_class = 0U; /* Default value after power-on or software reset */
 7169              		.loc 1 4579 17
 7170 0024 0023     		movs	r3, #0
 7171 0026 7B61     		str	r3, [r7, #20]
4580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Read the PowerClass field of the Extended CSD register */
4582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (MMC_ReadExtCSD(hmmc, &power_class, 187, SDMMC_DATATIMEOUT) != HAL_OK) /* Field POWER_CLASS 
 7172              		.loc 1 4582 9
 7173 0028 07F11401 		add	r1, r7, #20
 7174 002c 4FF0FF33 		mov	r3, #-1
 7175 0030 BB22     		movs	r2, #187
 7176 0032 F868     		ldr	r0, [r7, #12]
 7177 0034 FFF7FEFF 		bl	MMC_ReadExtCSD
 7178 0038 0346     		mov	r3, r0
 7179              		.loc 1 4582 8 discriminator 1
ARM GAS  /tmp/ccxVmGdL.s 			page 208


 7180 003a 002B     		cmp	r3, #0
 7181 003c 03D0     		beq	.L325
4583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       errorstate = SDMMC_ERROR_GENERAL_UNKNOWN_ERR;
 7182              		.loc 1 4584 18
 7183 003e 4FF48033 		mov	r3, #65536
 7184 0042 FB61     		str	r3, [r7, #28]
 7185 0044 02E0     		b	.L326
 7186              	.L325:
4585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
4587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       power_class = ((power_class >> 24U) & 0x000000FFU);
 7187              		.loc 1 4588 43
 7188 0046 7B69     		ldr	r3, [r7, #20]
 7189              		.loc 1 4588 35
 7190 0048 1B0E     		lsrs	r3, r3, #24
 7191              		.loc 1 4588 19
 7192 004a 7B61     		str	r3, [r7, #20]
 7193              	.L326:
4589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     /* Get the supported PowerClass field of the Extended CSD register */
4592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
4593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (Speed == SDMMC_SPEED_MODE_DDR)
4594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Field PWR_CL_DDR_52_xxx [238 or 239] */
4596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       supported_pwr_class = ((hmmc->Ext_CSD[(MMC_EXT_CSD_PWR_CL_DDR_52_INDEX / 4)] >> MMC_EXT_CSD_P
4597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else if (Speed == SDMMC_SPEED_MODE_HIGH)
4599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Field PWR_CL_52_xxx [200 or 202] */
4601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       supported_pwr_class = ((hmmc->Ext_CSD[(MMC_EXT_CSD_PWR_CL_52_INDEX / 4)] >> MMC_EXT_CSD_PWR_C
4602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     else
4604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #else /* Prevent compiler warning in case of -Wextra */
4605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     UNUSED(Speed);
4606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** #endif
4607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       /* Field PWR_CL_26_xxx [201 or 203] */
4609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       supported_pwr_class = ((hmmc->Ext_CSD[(MMC_EXT_CSD_PWR_CL_26_INDEX / 4)] >> MMC_EXT_CSD_PWR_C
 7194              		.loc 1 4609 44
 7195 004c FB68     		ldr	r3, [r7, #12]
 7196 004e D3F84831 		ldr	r3, [r3, #328]
 7197              		.loc 1 4609 27
 7198 0052 1B0E     		lsrs	r3, r3, #24
 7199 0054 BB61     		str	r3, [r7, #24]
4610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     if (errorstate == HAL_MMC_ERROR_NONE)
 7200              		.loc 1 4612 8
 7201 0056 FB69     		ldr	r3, [r7, #28]
 7202 0058 002B     		cmp	r3, #0
 7203 005a 58D1     		bne	.L324
4613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     {
4614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if (Wide == SDMMC_BUS_WIDE_8B)
 7204              		.loc 1 4614 10
ARM GAS  /tmp/ccxVmGdL.s 			page 209


 7205 005c BB68     		ldr	r3, [r7, #8]
 7206 005e B3F5805F 		cmp	r3, #4096
 7207 0062 02D1     		bne	.L327
4615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
4616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Bit [7:4] : power class for 8-bits bus configuration - Bit [3:0] : power class for 4-bit
4617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         supported_pwr_class = (supported_pwr_class >> 4U);
 7208              		.loc 1 4617 29
 7209 0064 BB69     		ldr	r3, [r7, #24]
 7210 0066 1B09     		lsrs	r3, r3, #4
 7211 0068 BB61     		str	r3, [r7, #24]
 7212              	.L327:
4618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
4619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       if ((power_class & 0x0FU) != (supported_pwr_class & 0x0FU))
 7213              		.loc 1 4620 33
 7214 006a 7A69     		ldr	r2, [r7, #20]
 7215 006c BB69     		ldr	r3, [r7, #24]
 7216 006e 5340     		eors	r3, r3, r2
 7217 0070 03F00F03 		and	r3, r3, #15
 7218              		.loc 1 4620 10
 7219 0074 002B     		cmp	r3, #0
 7220 0076 4AD0     		beq	.L324
4621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       {
4622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         /* Need to change current power class */
4623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         errorstate = SDMMC_CmdSwitch(hmmc->Instance, (0x03BB0000U | ((supported_pwr_class & 0x0FU) 
 7221              		.loc 1 4623 22
 7222 0078 FB68     		ldr	r3, [r7, #12]
 7223 007a 1A68     		ldr	r2, [r3]
 7224              		.loc 1 4623 100
 7225 007c BB69     		ldr	r3, [r7, #24]
 7226 007e 1B02     		lsls	r3, r3, #8
 7227 0080 03F47063 		and	r3, r3, #3840
 7228              		.loc 1 4623 22
 7229 0084 43F06E73 		orr	r3, r3, #62390272
 7230 0088 43F44033 		orr	r3, r3, #196608
 7231 008c 1946     		mov	r1, r3
 7232 008e 1046     		mov	r0, r2
 7233 0090 FFF7FEFF 		bl	SDMMC_CmdSwitch
 7234 0094 F861     		str	r0, [r7, #28]
4624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         if (errorstate == HAL_MMC_ERROR_NONE)
 7235              		.loc 1 4625 12
 7236 0096 FB69     		ldr	r3, [r7, #28]
 7237 0098 002B     		cmp	r3, #0
 7238 009a 38D1     		bne	.L324
4626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         {
4627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* While card is not ready for data and trial number for sending CMD13 is not exceeded */
4628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           count = SDMMC_MAX_TRIAL;
 7239              		.loc 1 4628 17
 7240 009c 4FF6FF73 		movw	r3, #65535
 7241 00a0 7B62     		str	r3, [r7, #36]
 7242              	.L330:
4629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           do
4630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
4631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             errorstate = SDMMC_CmdSendStatus(hmmc->Instance, (uint32_t)(((uint32_t)hmmc->MmcCard.Re
 7243              		.loc 1 4631 26
 7244 00a2 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccxVmGdL.s 			page 210


 7245 00a4 1A68     		ldr	r2, [r3]
 7246              		.loc 1 4631 97
 7247 00a6 FB68     		ldr	r3, [r7, #12]
 7248 00a8 DB6C     		ldr	r3, [r3, #76]
 7249              		.loc 1 4631 26
 7250 00aa 1B04     		lsls	r3, r3, #16
 7251 00ac 1946     		mov	r1, r3
 7252 00ae 1046     		mov	r0, r2
 7253 00b0 FFF7FEFF 		bl	SDMMC_CmdSendStatus
 7254 00b4 F861     		str	r0, [r7, #28]
4632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             if (errorstate != HAL_MMC_ERROR_NONE)
 7255              		.loc 1 4632 16
 7256 00b6 FB69     		ldr	r3, [r7, #28]
 7257 00b8 002B     		cmp	r3, #0
 7258 00ba 12D1     		bne	.L334
4633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             {
4634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               break;
4635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             }
4636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             /* Get command response */
4638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             response = SDMMC_GetResponse(hmmc->Instance, SDMMC_RESP1);
 7259              		.loc 1 4638 46
 7260 00bc FB68     		ldr	r3, [r7, #12]
 7261 00be 1B68     		ldr	r3, [r3]
 7262              		.loc 1 4638 24
 7263 00c0 0021     		movs	r1, #0
 7264 00c2 1846     		mov	r0, r3
 7265 00c4 FFF7FEFF 		bl	SDMMC_GetResponse
 7266 00c8 3862     		str	r0, [r7, #32]
4639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             count--;
 7267              		.loc 1 4639 18
 7268 00ca 7B6A     		ldr	r3, [r7, #36]
 7269 00cc 013B     		subs	r3, r3, #1
 7270 00ce 7B62     		str	r3, [r7, #36]
4640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           } while (((response & 0x100U) == 0U) && (count != 0U));
 7271              		.loc 1 4640 31
 7272 00d0 3B6A     		ldr	r3, [r7, #32]
 7273 00d2 03F48073 		and	r3, r3, #256
 7274              		.loc 1 4640 48
 7275 00d6 002B     		cmp	r3, #0
 7276 00d8 04D1     		bne	.L329
 7277              		.loc 1 4640 48 is_stmt 0 discriminator 1
 7278 00da 7B6A     		ldr	r3, [r7, #36]
 7279 00dc 002B     		cmp	r3, #0
 7280 00de E0D1     		bne	.L330
 7281 00e0 00E0     		b	.L329
 7282              	.L334:
4634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             }
 7283              		.loc 1 4634 15 is_stmt 1
 7284 00e2 00BF     		nop
 7285              	.L329:
4641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           /* Check the status after the switch command execution */
4643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           if ((count != 0U) && (errorstate == HAL_MMC_ERROR_NONE))
 7286              		.loc 1 4643 14
 7287 00e4 7B6A     		ldr	r3, [r7, #36]
 7288 00e6 002B     		cmp	r3, #0
ARM GAS  /tmp/ccxVmGdL.s 			page 211


 7289 00e8 0BD0     		beq	.L331
 7290              		.loc 1 4643 29 discriminator 1
 7291 00ea FB69     		ldr	r3, [r7, #28]
 7292 00ec 002B     		cmp	r3, #0
 7293 00ee 08D1     		bne	.L331
4644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
4645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             /* Check the bit SWITCH_ERROR of the device status */
4646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             if ((response & 0x80U) != 0U)
 7294              		.loc 1 4646 27
 7295 00f0 3B6A     		ldr	r3, [r7, #32]
 7296 00f2 03F08003 		and	r3, r3, #128
 7297              		.loc 1 4646 16
 7298 00f6 002B     		cmp	r3, #0
 7299 00f8 09D0     		beq	.L324
4647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             {
4648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****               errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
 7300              		.loc 1 4648 26
 7301 00fa 4FF08053 		mov	r3, #268435456
 7302 00fe FB61     		str	r3, [r7, #28]
4646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             {
 7303              		.loc 1 4646 16
 7304 0100 05E0     		b	.L324
 7305              	.L331:
4649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             }
4650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
4651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           else if (count == 0U)
 7306              		.loc 1 4651 19
 7307 0102 7B6A     		ldr	r3, [r7, #36]
 7308 0104 002B     		cmp	r3, #0
 7309 0106 02D1     		bne	.L324
4652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
4653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             errorstate = SDMMC_ERROR_TIMEOUT;
 7310              		.loc 1 4653 24
 7311 0108 4FF00043 		mov	r3, #-2147483648
 7312 010c FB61     		str	r3, [r7, #28]
 7313              	.L324:
4654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
4655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           else
4656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           {
4657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****             /* Nothing to do */
4658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****           }
4659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****         }
4660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****       }
4661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****     }
4662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   }
4663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** 
4664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c ****   return errorstate;
 7314              		.loc 1 4664 10
 7315 010e FB69     		ldr	r3, [r7, #28]
4665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_mmc.c **** }
 7316              		.loc 1 4665 1
 7317 0110 1846     		mov	r0, r3
 7318 0112 2837     		adds	r7, r7, #40
 7319              		.cfi_def_cfa_offset 8
 7320 0114 BD46     		mov	sp, r7
 7321              		.cfi_def_cfa_register 13
 7322              		@ sp needed
ARM GAS  /tmp/ccxVmGdL.s 			page 212


 7323 0116 80BD     		pop	{r7, pc}
 7324              		.cfi_endproc
 7325              	.LFE484:
 7327              		.text
 7328              	.Letext0:
 7329              		.file 2 "/usr/lib/gcc/arm-none-eabi/13.2.1/include/stdint.h"
 7330              		.file 3 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l475xx.h"
 7331              		.file 4 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l4xx.h"
 7332              		.file 5 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 7333              		.file 6 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 7334              		.file 7 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_sdmmc.h"
 7335              		.file 8 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_mmc.h"
 7336              		.file 9 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_rcc_ex.h"
 7337              		.file 10 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_dma.h"
 7338              		.file 11 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
ARM GAS  /tmp/ccxVmGdL.s 			page 213


DEFINED SYMBOLS
                            *ABS*:00000000 stm32l4xx_hal_mmc.c
     /tmp/ccxVmGdL.s:21     .rodata.CHANNEL_OFFSET_TAB:00000000 $d
     /tmp/ccxVmGdL.s:24     .rodata.CHANNEL_OFFSET_TAB:00000000 CHANNEL_OFFSET_TAB
     /tmp/ccxVmGdL.s:27     .text.HAL_MMC_Init:00000000 $t
     /tmp/ccxVmGdL.s:33     .text.HAL_MMC_Init:00000000 HAL_MMC_Init
     /tmp/ccxVmGdL.s:438    .text.HAL_MMC_MspInit:00000000 HAL_MMC_MspInit
     /tmp/ccxVmGdL.s:139    .text.HAL_MMC_InitCard:00000000 HAL_MMC_InitCard
     /tmp/ccxVmGdL.s:4838   .text.HAL_MMC_ConfigWideBusOperation:00000000 HAL_MMC_ConfigWideBusOperation
     /tmp/ccxVmGdL.s:133    .text.HAL_MMC_InitCard:00000000 $t
     /tmp/ccxVmGdL.s:6287   .text.MMC_PowerON:00000000 MMC_PowerON
     /tmp/ccxVmGdL.s:5950   .text.MMC_InitCard:00000000 MMC_InitCard
     /tmp/ccxVmGdL.s:363    .text.HAL_MMC_InitCard:00000164 $d
     /tmp/ccxVmGdL.s:370    .text.HAL_MMC_DeInit:00000000 $t
     /tmp/ccxVmGdL.s:376    .text.HAL_MMC_DeInit:00000000 HAL_MMC_DeInit
     /tmp/ccxVmGdL.s:6421   .text.MMC_PowerOFF:00000000 MMC_PowerOFF
     /tmp/ccxVmGdL.s:474    .text.HAL_MMC_MspDeInit:00000000 HAL_MMC_MspDeInit
     /tmp/ccxVmGdL.s:432    .text.HAL_MMC_MspInit:00000000 $t
     /tmp/ccxVmGdL.s:468    .text.HAL_MMC_MspDeInit:00000000 $t
     /tmp/ccxVmGdL.s:504    .text.HAL_MMC_ReadBlocks:00000000 $t
     /tmp/ccxVmGdL.s:510    .text.HAL_MMC_ReadBlocks:00000000 HAL_MMC_ReadBlocks
     /tmp/ccxVmGdL.s:985    .text.HAL_MMC_ReadBlocks:000002cc $d
     /tmp/ccxVmGdL.s:988    .text.HAL_MMC_ReadBlocks:000002d0 $t
     /tmp/ccxVmGdL.s:1142   .text.HAL_MMC_ReadBlocks:000003b0 $d
     /tmp/ccxVmGdL.s:1147   .text.HAL_MMC_WriteBlocks:00000000 $t
     /tmp/ccxVmGdL.s:1153   .text.HAL_MMC_WriteBlocks:00000000 HAL_MMC_WriteBlocks
     /tmp/ccxVmGdL.s:1663   .text.HAL_MMC_WriteBlocks:00000300 $d
     /tmp/ccxVmGdL.s:1668   .text.HAL_MMC_ReadBlocks_IT:00000000 $t
     /tmp/ccxVmGdL.s:1674   .text.HAL_MMC_ReadBlocks_IT:00000000 HAL_MMC_ReadBlocks_IT
     /tmp/ccxVmGdL.s:1885   .text.HAL_MMC_ReadBlocks_IT:00000130 $d
     /tmp/ccxVmGdL.s:1890   .text.HAL_MMC_WriteBlocks_IT:00000000 $t
     /tmp/ccxVmGdL.s:1896   .text.HAL_MMC_WriteBlocks_IT:00000000 HAL_MMC_WriteBlocks_IT
     /tmp/ccxVmGdL.s:2107   .text.HAL_MMC_WriteBlocks_IT:00000130 $d
     /tmp/ccxVmGdL.s:2112   .text.HAL_MMC_ReadBlocks_DMA:00000000 $t
     /tmp/ccxVmGdL.s:2118   .text.HAL_MMC_ReadBlocks_DMA:00000000 HAL_MMC_ReadBlocks_DMA
     /tmp/ccxVmGdL.s:2398   .text.HAL_MMC_ReadBlocks_DMA:000001a0 $d
     /tmp/ccxVmGdL.s:5525   .text.MMC_DMAReceiveCplt:00000000 MMC_DMAReceiveCplt
     /tmp/ccxVmGdL.s:5616   .text.MMC_DMAError:00000000 MMC_DMAError
     /tmp/ccxVmGdL.s:2405   .text.HAL_MMC_WriteBlocks_DMA:00000000 $t
     /tmp/ccxVmGdL.s:2411   .text.HAL_MMC_WriteBlocks_DMA:00000000 HAL_MMC_WriteBlocks_DMA
     /tmp/ccxVmGdL.s:2702   .text.HAL_MMC_WriteBlocks_DMA:000001b0 $d
     /tmp/ccxVmGdL.s:5478   .text.MMC_DMATransmitCplt:00000000 MMC_DMATransmitCplt
     /tmp/ccxVmGdL.s:2709   .text.HAL_MMC_Erase:00000000 $t
     /tmp/ccxVmGdL.s:2715   .text.HAL_MMC_Erase:00000000 HAL_MMC_Erase
     /tmp/ccxVmGdL.s:2981   .text.HAL_MMC_Erase:0000018c $d
     /tmp/ccxVmGdL.s:2986   .text.HAL_MMC_IRQHandler:00000000 $t
     /tmp/ccxVmGdL.s:2992   .text.HAL_MMC_IRQHandler:00000000 HAL_MMC_IRQHandler
     /tmp/ccxVmGdL.s:6861   .text.MMC_Read_IT:00000000 MMC_Read_IT
     /tmp/ccxVmGdL.s:3644   .text.HAL_MMC_ErrorCallback:00000000 HAL_MMC_ErrorCallback
     /tmp/ccxVmGdL.s:3572   .text.HAL_MMC_TxCpltCallback:00000000 HAL_MMC_TxCpltCallback
     /tmp/ccxVmGdL.s:3608   .text.HAL_MMC_RxCpltCallback:00000000 HAL_MMC_RxCpltCallback
     /tmp/ccxVmGdL.s:6998   .text.MMC_Write_IT:00000000 MMC_Write_IT
     /tmp/ccxVmGdL.s:5736   .text.MMC_DMATxAbort:00000000 MMC_DMATxAbort
     /tmp/ccxVmGdL.s:5843   .text.MMC_DMARxAbort:00000000 MMC_DMARxAbort
     /tmp/ccxVmGdL.s:3680   .text.HAL_MMC_AbortCallback:00000000 HAL_MMC_AbortCallback
     /tmp/ccxVmGdL.s:3481   .text.HAL_MMC_IRQHandler:00000308 $d
     /tmp/ccxVmGdL.s:3487   .text.HAL_MMC_GetState:00000000 $t
ARM GAS  /tmp/ccxVmGdL.s 			page 214


     /tmp/ccxVmGdL.s:3493   .text.HAL_MMC_GetState:00000000 HAL_MMC_GetState
     /tmp/ccxVmGdL.s:3527   .text.HAL_MMC_GetError:00000000 $t
     /tmp/ccxVmGdL.s:3533   .text.HAL_MMC_GetError:00000000 HAL_MMC_GetError
     /tmp/ccxVmGdL.s:3566   .text.HAL_MMC_TxCpltCallback:00000000 $t
     /tmp/ccxVmGdL.s:3602   .text.HAL_MMC_RxCpltCallback:00000000 $t
     /tmp/ccxVmGdL.s:3638   .text.HAL_MMC_ErrorCallback:00000000 $t
     /tmp/ccxVmGdL.s:3674   .text.HAL_MMC_AbortCallback:00000000 $t
     /tmp/ccxVmGdL.s:3710   .text.HAL_MMC_GetCardCID:00000000 $t
     /tmp/ccxVmGdL.s:3716   .text.HAL_MMC_GetCardCID:00000000 HAL_MMC_GetCardCID
     /tmp/ccxVmGdL.s:3857   .text.HAL_MMC_GetCardCSD:00000000 $t
     /tmp/ccxVmGdL.s:3863   .text.HAL_MMC_GetCardCSD:00000000 HAL_MMC_GetCardCSD
     /tmp/ccxVmGdL.s:6533   .text.MMC_ReadExtCSD:00000000 MMC_ReadExtCSD
     /tmp/ccxVmGdL.s:4430   .text.HAL_MMC_GetCardCSD:00000344 $d
     /tmp/ccxVmGdL.s:4435   .text.HAL_MMC_GetCardInfo:00000000 $t
     /tmp/ccxVmGdL.s:4441   .text.HAL_MMC_GetCardInfo:00000000 HAL_MMC_GetCardInfo
     /tmp/ccxVmGdL.s:4516   .text.HAL_MMC_GetCardExtCSD:00000000 $t
     /tmp/ccxVmGdL.s:4522   .text.HAL_MMC_GetCardExtCSD:00000000 HAL_MMC_GetCardExtCSD
     /tmp/ccxVmGdL.s:4827   .text.HAL_MMC_GetCardExtCSD:000001d0 $d
     /tmp/ccxVmGdL.s:4832   .text.HAL_MMC_ConfigWideBusOperation:00000000 $t
     /tmp/ccxVmGdL.s:7137   .text.MMC_PwrClassUpdate:00000000 MMC_PwrClassUpdate
     /tmp/ccxVmGdL.s:5059   .text.HAL_MMC_ConfigWideBusOperation:00000154 $d
     /tmp/ccxVmGdL.s:5067   .text.HAL_MMC_GetCardState:00000000 $t
     /tmp/ccxVmGdL.s:5073   .text.HAL_MMC_GetCardState:00000000 HAL_MMC_GetCardState
     /tmp/ccxVmGdL.s:6458   .text.MMC_SendStatus:00000000 MMC_SendStatus
     /tmp/ccxVmGdL.s:5130   .text.HAL_MMC_Abort:00000000 $t
     /tmp/ccxVmGdL.s:5136   .text.HAL_MMC_Abort:00000000 HAL_MMC_Abort
     /tmp/ccxVmGdL.s:5290   .text.HAL_MMC_Abort_IT:00000000 $t
     /tmp/ccxVmGdL.s:5296   .text.HAL_MMC_Abort_IT:00000000 HAL_MMC_Abort_IT
     /tmp/ccxVmGdL.s:5467   .text.HAL_MMC_Abort_IT:000000e8 $d
     /tmp/ccxVmGdL.s:5473   .text.MMC_DMATransmitCplt:00000000 $t
     /tmp/ccxVmGdL.s:5520   .text.MMC_DMAReceiveCplt:00000000 $t
     /tmp/ccxVmGdL.s:5611   .text.MMC_DMAError:00000000 $t
     /tmp/ccxVmGdL.s:5726   .text.MMC_DMAError:00000094 $d
     /tmp/ccxVmGdL.s:5731   .text.MMC_DMATxAbort:00000000 $t
     /tmp/ccxVmGdL.s:5838   .text.MMC_DMARxAbort:00000000 $t
     /tmp/ccxVmGdL.s:5945   .text.MMC_InitCard:00000000 $t
     /tmp/ccxVmGdL.s:6282   .text.MMC_PowerON:00000000 $t
     /tmp/ccxVmGdL.s:6411   .text.MMC_PowerON:0000009c $d
     /tmp/ccxVmGdL.s:6416   .text.MMC_PowerOFF:00000000 $t
     /tmp/ccxVmGdL.s:6453   .text.MMC_SendStatus:00000000 $t
     /tmp/ccxVmGdL.s:6528   .text.MMC_ReadExtCSD:00000000 $t
     /tmp/ccxVmGdL.s:6851   .text.MMC_ReadExtCSD:000001e0 $d
     /tmp/ccxVmGdL.s:6856   .text.MMC_Read_IT:00000000 $t
     /tmp/ccxVmGdL.s:6993   .text.MMC_Write_IT:00000000 $t
     /tmp/ccxVmGdL.s:7132   .text.MMC_PwrClassUpdate:00000000 $t
                           .group:00000000 wm4.0.e7b64c2c371cf922f2c8028878d5c18e
                           .group:00000000 wm4.stm32l4xx_hal_conf.h.23.286c2f63aaa73ed97ffb4d26f7caa6e9
                           .group:00000000 wm4.stm32l4xx.h.38.9f5830373ca31b8a3cd182fdc6c7b69a
                           .group:00000000 wm4.stm32l475xx.h.34.2f1a75aed66751e299f09004aef64973
                           .group:00000000 wm4.stdint.h.29.6d480f4ba0f60596e88234283d42444f
                           .group:00000000 wm4.cmsis_version.h.32.46e8eccfa2cfeaae11d008bb2823a3ed
                           .group:00000000 wm4.core_cm4.h.66.e4ff136c4a17abc46741866f64f8e729
                           .group:00000000 wm4.cmsis_gcc.h.26.78077cef1206e937f7b56043ffca496a
                           .group:00000000 wm4.core_cm4.h.174.fcddd62df80231752fa39eb9b61dadfe
                           .group:00000000 wm4.mpu_armv7.h.32.4049752bb5792d4e15357775e9506cfc
                           .group:00000000 wm4.stm32l475xx.h.423.4d783859c9ac66890c9807dd7bd3a4db
                           .group:00000000 wm4.stm32l4xx.h.196.f5ae8047c57b6175c94f246ef967a286
ARM GAS  /tmp/ccxVmGdL.s 			page 215


                           .group:00000000 wm4.stm32_hal_legacy.h.22.08b8350ccf512ba8d98002fb33e7cbe5
                           .group:00000000 wm4.stddef.h.39.0dc9006b34572d4d9cae4c8b422c4971
                           .group:00000000 wm4.stm32l4xx_hal_def.h.58.1058a33f7217e935f2a6b51956d66a69
                           .group:00000000 wm4.stm32l4xx_hal_rcc.h.156.ab8eecc4e10f4827a2aa75d3549a356d
                           .group:00000000 wm4.stm32l4xx_hal_rcc_ex.h.20.4a82a27d561b6d42fa16a54f82e29067
                           .group:00000000 wm4.stm32l4xx_hal_gpio.h.21.2d2b1fd6aa6afa7b6dcc89cf752a9a25
                           .group:00000000 wm4.stm32l4xx_hal_gpio_ex.h.21.7ea705f5185dd3c6b8ea336f2858cd46
                           .group:00000000 wm4.stm32l4xx_ll_dma.h.21.b30e7f48d60d1fc53041ec1e3fd6e54a
                           .group:00000000 wm4.stm32l4xx_hal_dma.h.166.54a7f8d65cee6f051d541dc010387b5a
                           .group:00000000 wm4.stm32l4xx_hal_dfsdm.h.21.6785e38d00075079c7f2e5657def82ae
                           .group:00000000 wm4.stm32l4xx_hal_cortex.h.21.cb491126bd2d6f44e90b66f27acb8434
                           .group:00000000 wm4.stm32l4xx_ll_adc.h.21.0c578f71501c74365c67044efed214d6
                           .group:00000000 wm4.stm32l4xx_hal_adc.h.411.68f60682cdb20556089756a482f23764
                           .group:00000000 wm4.stm32l4xx_hal_adc_ex.h.21.7b82cb80166a21dfa8cb3e2fa8f8e654
                           .group:00000000 wm4.stm32l4xx_hal_can.h.21.5019586d8e7137c0cec16eb1f9d6677b
                           .group:00000000 wm4.stm32l4xx_ll_exti.h.21.d866eff070d6f999af2ce4ea60aa40ac
                           .group:00000000 wm4.stm32l4xx_hal_comp.h.87.7f14cb673a463359c83faa552328844d
                           .group:00000000 wm4.stm32l4xx_hal_crc.h.21.4c36a140cca35e6a8e478e76c6ad98e3
                           .group:00000000 wm4.stm32l4xx_hal_crc_ex.h.21.9cc3dead436542d416ee5572c231a242
                           .group:00000000 wm4.stm32l4xx_hal_dac.h.21.69feba704135531cf3d9b92de27b71d5
                           .group:00000000 wm4.stm32l4xx_hal_dac_ex.h.21.c86699169bead5415cc3e94027b67df4
                           .group:00000000 wm4.stm32l4xx_hal_exti.h.21.242e0410874d91d6d7523948fff74125
                           .group:00000000 wm4.stm32l4xx_hal_firewall.h.21.7ed44f4228fcc2ef96d2177dd8632645
                           .group:00000000 wm4.stm32l4xx_hal_flash.h.20.5e337018ccfa211b4afe888a79aae9f5
                           .group:00000000 wm4.stm32l4xx_hal_flash.h.846.0445f6ea07a3f9aac82891c8687d96fb
                           .group:00000000 wm4.stm32l4xx_ll_usb.h.21.5b5e42fb72a33dd326d7b20064953946
                           .group:00000000 wm4.stm32l4xx_hal_hcd.h.107.73f2fd24f57e8822da5cc86bd5ad3dfd
                           .group:00000000 wm4.stm32l4xx_hal_i2c.h.21.e7fc2065051c77019a818818e4a637d8
                           .group:00000000 wm4.stm32l4xx_hal_i2c_ex.h.21.ad4ad4e558d4fec06df87d163a6927d7
                           .group:00000000 wm4.stm32l4xx_hal_i2c.h.737.fa3908c81294cf0f9894ae336466002c
                           .group:00000000 wm4.stm32l4xx_hal_irda.h.21.136c042f9eef333167a549cc099df0c9
                           .group:00000000 wm4.stm32l4xx_hal_irda_ex.h.21.e0ada4e6d2b2cadfb512dd3c8ac0a637
                           .group:00000000 wm4.stm32l4xx_hal_iwdg.h.21.f94ca75f2fe1ebc7a2a8d0f5b58d8430
                           .group:00000000 wm4.stm32l4xx_hal_lptim.h.21.78222ea6639fc8c02789d293a048991e
                           .group:00000000 wm4.stm32l4xx_ll_sdmmc.h.21.65a5a8696b6ca7b87cc93d218084d702
                           .group:00000000 wm4.stm32l4xx_hal_mmc.h.69.8f4159f0a88ef1ebc33c58a8f10362b9
                           .group:00000000 wm4.stm32l4xx_ll_fmc.h.21.156a244c55010643ee92c6119049cb68
                           .group:00000000 wm4.stm32l4xx_hal_nand.h.176.9bfeac6e4e757991088bbd0df44e2be9
                           .group:00000000 wm4.stm32l4xx_hal_nor.h.21.d47e91e825f466bbac02fac0a7845a7a
                           .group:00000000 wm4.stm32l4xx_hal_opamp.h.21.9d841e1eaccee939f247b3f973f8af5f
                           .group:00000000 wm4.stm32l4xx_hal_pcd.h.169.addb1fac652268a18a0707cfcb5e2e47
                           .group:00000000 wm4.stm32l4xx_hal_pwr.h.21.7ddab2caa97243c36e496eca17b27618
                           .group:00000000 wm4.stm32l4xx_hal_pwr_ex.h.21.65ad8bbdbcb1950d945c0de10f22dc80
                           .group:00000000 wm4.stm32l4xx_hal_qspi.h.21.0291dad4eaa82101f2f77d76315c9b12
                           .group:00000000 wm4.stm32l4xx_hal_rng.h.21.96593715bdeab0c74ac9dfc538fb2feb
                           .group:00000000 wm4.stm32l4xx_hal_rtc.h.21.9da6b1aeebde99930891f803cb7f9678
                           .group:00000000 wm4.stm32l4xx_hal_rtc_ex.h.21.c692539378320719c7f2a2da1ca64502
                           .group:00000000 wm4.stm32l4xx_hal_rtc.h.999.c8bd9450c783628bd606ecb31bea5cc9
                           .group:00000000 wm4.stm32l4xx_hal_sai.h.21.c1165aaf2bbde65fae28ed4817be5cc5
                           .group:00000000 wm4.stm32l4xx_hal_sd.h.21.b395c90a87e82f7e8d77d4a518036063
                           .group:00000000 wm4.stm32l4xx_hal_smartcard.h.21.423c3ad63e0df35b864303e89e6d253c
                           .group:00000000 wm4.stm32l4xx_hal_smartcard_ex.h.21.801a2ce9252a785aec000b3fc7667a74
                           .group:00000000 wm4.stm32l4xx_hal_smbus.h.21.7480adb16468bfdce819ee591f21299e
                           .group:00000000 wm4.stm32l4xx_hal_smbus_ex.h.21.bdc715f5f6fb6612a871d3c03c3b871f
                           .group:00000000 wm4.stm32l4xx_hal_spi.h.21.3b51f9f7b241962f6b3483c47a43334f
                           .group:00000000 wm4.stm32l4xx_hal_sram.h.21.285210181e158bddc1cdde63dde572fd
                           .group:00000000 wm4.stm32l4xx_hal_swpmi.h.21.787f994f40b117a62aad9a6dd408b8fc
ARM GAS  /tmp/ccxVmGdL.s 			page 216


                           .group:00000000 wm4.stm32l4xx_hal_tim.h.21.d190832030e7505384ad081daa7ba8d6
                           .group:00000000 wm4.stm32l4xx_hal_tim_ex.h.21.1d0860218366ee9f64a97fd8af0ddee1
                           .group:00000000 wm4.stm32l4xx_hal_tsc.h.21.e9010049847ea38297d4b95a5ede0d8c
                           .group:00000000 wm4.stm32l4xx_hal_uart.h.21.480c0a64ca01596a921cda9dceb01df4
                           .group:00000000 wm4.stm32l4xx_hal_uart_ex.h.21.d793e64693c93af07c90464aef42bd83
                           .group:00000000 wm4.stm32l4xx_hal_usart.h.21.561c0058e33cb8df6671dcd29d5d25f9
                           .group:00000000 wm4.stm32l4xx_hal_usart_ex.h.21.111da650523691ebc80d64103d7b26e5
                           .group:00000000 wm4.stm32l4xx_hal_wwdg.h.21.073aa79d58120ae4fb8590c46b210051
                           .group:00000000 wm4.stm32l4xx_hal.h.75.d364b3778b3801d2f66bb409c48d396d

UNDEFINED SYMBOLS
HAL_RCCEx_GetPeriphCLKFreq
SDMMC_Init
SDMMC_PowerState_ON
HAL_Delay
SDMMC_CmdBlockLength
HAL_GetTick
SDMMC_ConfigData
SDMMC_CmdReadMultiBlock
SDMMC_CmdReadSingleBlock
SDMMC_ReadFIFO
SDMMC_CmdStopTransfer
SDMMC_CmdWriteMultiBlock
SDMMC_CmdWriteSingleBlock
SDMMC_WriteFIFO
HAL_DMA_Start_IT
SDMMC_GetResponse
SDMMC_CmdEraseStartAdd
SDMMC_CmdEraseEndAdd
SDMMC_CmdErase
HAL_DMA_Abort_IT
SDMMC_CmdSendEXTCSD
SDMMC_CmdSwitch
SDMMC_CmdSendStatus
HAL_DMA_Abort
SDMMC_GetPowerState
SDMMC_CmdSendCID
SDMMC_CmdSetRelAddMmc
SDMMC_CmdSendCSD
SDMMC_CmdSelDesel
SDMMC_CmdGoIdleState
SDMMC_CmdOpCondition
SDMMC_PowerState_OFF
